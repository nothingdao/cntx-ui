var o8=Object.defineProperty;var UP=t=>{throw TypeError(t)};var a8=(t,e,n)=>e in t?o8(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var H=(t,e,n)=>a8(t,typeof e!="symbol"?e+"":e,n),Mw=(t,e,n)=>e.has(t)||UP("Cannot "+n);var be=(t,e,n)=>(Mw(t,e,"read from private field"),n?n.call(t):e.get(t)),Rt=(t,e,n)=>e.has(t)?UP("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),yt=(t,e,n,r)=>(Mw(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Jt=(t,e,n)=>(Mw(t,e,"access private method"),n);var Cb=(t,e,n,r)=>({set _(s){yt(t,e,s,n)},get _(){return be(t,e,r)}});function l8(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var VP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function vI(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var jw={exports:{}},Rb={},Iw={exports:{}},_p={exports:{}};_p.exports;var FP;function c8(){return FP||(FP=1,function(t,e){/**
 * @license React
 * react.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){function n($,Ee){Object.defineProperty(o.prototype,$,{get:function(){console.warn("%s(...) is deprecated in plain JavaScript React classes. %s",Ee[0],Ee[1])}})}function r($){return $===null||typeof $!="object"?null:($=Ye&&$[Ye]||$["@@iterator"],typeof $=="function"?$:null)}function s($,Ee){$=($=$.constructor)&&($.displayName||$.name)||"ReactClass";var rt=$+"."+Ee;tt[rt]||(console.error("Can't call %s on a component that is not yet mounted. This is a no-op, but it might indicate a bug in your application. Instead, assign to `this.state` directly or define a `state = {};` class property with the desired state in the %s component.",Ee,$),tt[rt]=!0)}function o($,Ee,rt){this.props=$,this.context=Ee,this.refs=lt,this.updater=rt||Ue}function l(){}function c($,Ee,rt){this.props=$,this.context=Ee,this.refs=lt,this.updater=rt||Ue}function f($){return""+$}function h($){try{f($);var Ee=!1}catch{Ee=!0}if(Ee){Ee=console;var rt=Ee.error,ut=typeof Symbol=="function"&&Symbol.toStringTag&&$[Symbol.toStringTag]||$.constructor.name||"Object";return rt.call(Ee,"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",ut),f($)}}function p($){if($==null)return null;if(typeof $=="function")return $.$$typeof===Ot?null:$.displayName||$.name||null;if(typeof $=="string")return $;switch($){case V:return"Fragment";case se:return"Profiler";case ue:return"StrictMode";case xe:return"Suspense";case he:return"SuspenseList";case qe:return"Activity"}if(typeof $=="object")switch(typeof $.tag=="number"&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),$.$$typeof){case Ke:return"Portal";case ce:return($.displayName||"Context")+".Provider";case B:return($._context.displayName||"Context")+".Consumer";case Z:var Ee=$.render;return $=$.displayName,$||($=Ee.displayName||Ee.name||"",$=$!==""?"ForwardRef("+$+")":"ForwardRef"),$;case oe:return Ee=$.displayName||null,Ee!==null?Ee:p($.type)||"Memo";case Pe:Ee=$._payload,$=$._init;try{return p($(Ee))}catch{}}return null}function m($){if($===V)return"<>";if(typeof $=="object"&&$!==null&&$.$$typeof===Pe)return"<...>";try{var Ee=p($);return Ee?"<"+Ee+">":"<...>"}catch{return"<...>"}}function b(){var $=Pt.A;return $===null?null:$.getOwner()}function _(){return Error("react-stack-top-frame")}function E($){if(ar.call($,"key")){var Ee=Object.getOwnPropertyDescriptor($,"key").get;if(Ee&&Ee.isReactWarning)return!1}return $.key!==void 0}function T($,Ee){function rt(){Wr||(Wr=!0,console.error("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)",Ee))}rt.isReactWarning=!0,Object.defineProperty($,"key",{get:rt,configurable:!0})}function C(){var $=p(this.type);return Ho[$]||(Ho[$]=!0,console.error("Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.")),$=this.props.ref,$!==void 0?$:null}function D($,Ee,rt,ut,Nt,$t,Gt,sn){return rt=$t.ref,$={$$typeof:_e,type:$,key:Ee,props:$t,_owner:Nt},(rt!==void 0?rt:null)!==null?Object.defineProperty($,"ref",{enumerable:!1,get:C}):Object.defineProperty($,"ref",{enumerable:!1,value:null}),$._store={},Object.defineProperty($._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:0}),Object.defineProperty($,"_debugInfo",{configurable:!1,enumerable:!1,writable:!0,value:null}),Object.defineProperty($,"_debugStack",{configurable:!1,enumerable:!1,writable:!0,value:Gt}),Object.defineProperty($,"_debugTask",{configurable:!1,enumerable:!1,writable:!0,value:sn}),Object.freeze&&(Object.freeze($.props),Object.freeze($)),$}function M($,Ee){return Ee=D($.type,Ee,void 0,void 0,$._owner,$.props,$._debugStack,$._debugTask),$._store&&(Ee._store.validated=$._store.validated),Ee}function P($){return typeof $=="object"&&$!==null&&$.$$typeof===_e}function U($){var Ee={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(rt){return Ee[rt]})}function L($,Ee){return typeof $=="object"&&$!==null&&$.key!=null?(h($.key),U(""+$.key)):Ee.toString(36)}function O(){}function Y($){switch($.status){case"fulfilled":return $.value;case"rejected":throw $.reason;default:switch(typeof $.status=="string"?$.then(O,O):($.status="pending",$.then(function(Ee){$.status==="pending"&&($.status="fulfilled",$.value=Ee)},function(Ee){$.status==="pending"&&($.status="rejected",$.reason=Ee)})),$.status){case"fulfilled":return $.value;case"rejected":throw $.reason}}throw $}function ne($,Ee,rt,ut,Nt){var $t=typeof $;($t==="undefined"||$t==="boolean")&&($=null);var Gt=!1;if($===null)Gt=!0;else switch($t){case"bigint":case"string":case"number":Gt=!0;break;case"object":switch($.$$typeof){case _e:case Ke:Gt=!0;break;case Pe:return Gt=$._init,ne(Gt($._payload),Ee,rt,ut,Nt)}}if(Gt){Gt=$,Nt=Nt(Gt);var sn=ut===""?"."+L(Gt,0):ut;return Yt(Nt)?(rt="",sn!=null&&(rt=sn.replace(zt,"$&/")+"/"),ne(Nt,Ee,rt,"",function(sr){return sr})):Nt!=null&&(P(Nt)&&(Nt.key!=null&&(Gt&&Gt.key===Nt.key||h(Nt.key)),rt=M(Nt,rt+(Nt.key==null||Gt&&Gt.key===Nt.key?"":(""+Nt.key).replace(zt,"$&/")+"/")+sn),ut!==""&&Gt!=null&&P(Gt)&&Gt.key==null&&Gt._store&&!Gt._store.validated&&(rt._store.validated=2),Nt=rt),Ee.push(Nt)),1}if(Gt=0,sn=ut===""?".":ut+":",Yt($))for(var At=0;At<$.length;At++)ut=$[At],$t=sn+L(ut,At),Gt+=ne(ut,Ee,rt,$t,Nt);else if(At=r($),typeof At=="function")for(At===$.entries&&(xt||console.warn("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),xt=!0),$=At.call($),At=0;!(ut=$.next()).done;)ut=ut.value,$t=sn+L(ut,At++),Gt+=ne(ut,Ee,rt,$t,Nt);else if($t==="object"){if(typeof $.then=="function")return ne(Y($),Ee,rt,ut,Nt);throw Ee=String($),Error("Objects are not valid as a React child (found: "+(Ee==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":Ee)+"). If you meant to render a collection of children, use an array instead.")}return Gt}function G($,Ee,rt){if($==null)return $;var ut=[],Nt=0;return ne($,ut,"","",function($t){return Ee.call(rt,$t,Nt++)}),ut}function K($){if($._status===-1){var Ee=$._result;Ee=Ee(),Ee.then(function(rt){($._status===0||$._status===-1)&&($._status=1,$._result=rt)},function(rt){($._status===0||$._status===-1)&&($._status=2,$._result=rt)}),$._status===-1&&($._status=0,$._result=Ee)}if($._status===1)return Ee=$._result,Ee===void 0&&console.error(`lazy: Expected the result of a dynamic import() call. Instead received: %s

Your code should look like: 
  const MyComponent = lazy(() => import('./MyComponent'))

Did you accidentally put curly braces around the import?`,Ee),"default"in Ee||console.error(`lazy: Expected the result of a dynamic import() call. Instead received: %s

Your code should look like: 
  const MyComponent = lazy(() => import('./MyComponent'))`,Ee),Ee.default;throw $._result}function Q(){var $=Pt.H;return $===null&&console.error(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://react.dev/link/invalid-hook-call for tips about how to debug and fix this problem.`),$}function de(){}function pe($){if(rs===null)try{var Ee=("require"+Math.random()).slice(0,7);rs=(t&&t[Ee]).call(t,"timers").setImmediate}catch{rs=function(ut){lr===!1&&(lr=!0,typeof MessageChannel>"u"&&console.error("This browser does not have a MessageChannel implementation, so enqueuing tasks via await act(async () => ...) will fail. Please file an issue at https://github.com/facebook/react/issues if you encounter this warning."));var Nt=new MessageChannel;Nt.port1.onmessage=ut,Nt.port2.postMessage(void 0)}}return rs($)}function le($){return 1<$.length&&typeof AggregateError=="function"?new AggregateError($):$[0]}function ye($,Ee){Ee!==Sr-1&&console.error("You seem to have overlapping act() calls, this is not supported. Be sure to await previous act() calls before making a new one. "),Sr=Ee}function ge($,Ee,rt){var ut=Pt.actQueue;if(ut!==null)if(ut.length!==0)try{je(ut),pe(function(){return ge($,Ee,rt)});return}catch(Nt){Pt.thrownErrors.push(Nt)}else Pt.actQueue=null;0<Pt.thrownErrors.length?(ut=le(Pt.thrownErrors),Pt.thrownErrors.length=0,rt(ut)):Ee($)}function je($){if(!Mr){Mr=!0;var Ee=0;try{for(;Ee<$.length;Ee++){var rt=$[Ee];do{Pt.didUsePromise=!1;var ut=rt(!1);if(ut!==null){if(Pt.didUsePromise){$[Ee]=rt,$.splice(0,Ee);return}rt=ut}else break}while(!0)}$.length=0}catch(Nt){$.splice(0,Ee+1),Pt.thrownErrors.push(Nt)}finally{Mr=!1}}}typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());var _e=Symbol.for("react.transitional.element"),Ke=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),ue=Symbol.for("react.strict_mode"),se=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),ce=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),xe=Symbol.for("react.suspense"),he=Symbol.for("react.suspense_list"),oe=Symbol.for("react.memo"),Pe=Symbol.for("react.lazy"),qe=Symbol.for("react.activity"),Ye=Symbol.iterator,tt={},Ue={isMounted:function(){return!1},enqueueForceUpdate:function($){s($,"forceUpdate")},enqueueReplaceState:function($){s($,"replaceState")},enqueueSetState:function($){s($,"setState")}},nt=Object.assign,lt={};Object.freeze(lt),o.prototype.isReactComponent={},o.prototype.setState=function($,Ee){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,Ee,"setState")},o.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};var gt={isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."],replaceState:["replaceState","Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."]},Lt;for(Lt in gt)gt.hasOwnProperty(Lt)&&n(Lt,gt[Lt]);l.prototype=o.prototype,gt=c.prototype=new l,gt.constructor=c,nt(gt,o.prototype),gt.isPureReactComponent=!0;var Yt=Array.isArray,Ot=Symbol.for("react.client.reference"),Pt={H:null,A:null,T:null,S:null,V:null,actQueue:null,isBatchingLegacy:!1,didScheduleLegacyUpdate:!1,didUsePromise:!1,thrownErrors:[],getCurrentStack:null,recentlyCreatedOwnerStacks:0},ar=Object.prototype.hasOwnProperty,An=console.createTask?console.createTask:function(){return null};gt={"react-stack-bottom-frame":function($){return $()}};var Wr,ms,Ho={},He=gt["react-stack-bottom-frame"].bind(gt,_)(),$e=An(m(_)),xt=!1,zt=/\/+/g,un=typeof reportError=="function"?reportError:function($){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof $=="object"&&$!==null&&typeof $.message=="string"?String($.message):String($),error:$});if(!window.dispatchEvent(Ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",$);return}console.error($)},lr=!1,rs=null,Sr=0,Er=!1,Mr=!1,Qn=typeof queueMicrotask=="function"?function($){queueMicrotask(function(){return queueMicrotask($)})}:pe;gt=Object.freeze({__proto__:null,c:function($){return Q().useMemoCache($)}}),e.Children={map:G,forEach:function($,Ee,rt){G($,function(){Ee.apply(this,arguments)},rt)},count:function($){var Ee=0;return G($,function(){Ee++}),Ee},toArray:function($){return G($,function(Ee){return Ee})||[]},only:function($){if(!P($))throw Error("React.Children.only expected to receive a single React element child.");return $}},e.Component=o,e.Fragment=V,e.Profiler=se,e.PureComponent=c,e.StrictMode=ue,e.Suspense=xe,e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Pt,e.__COMPILER_RUNTIME=gt,e.act=function($){var Ee=Pt.actQueue,rt=Sr;Sr++;var ut=Pt.actQueue=Ee!==null?Ee:[],Nt=!1;try{var $t=$()}catch(At){Pt.thrownErrors.push(At)}if(0<Pt.thrownErrors.length)throw ye(Ee,rt),$=le(Pt.thrownErrors),Pt.thrownErrors.length=0,$;if($t!==null&&typeof $t=="object"&&typeof $t.then=="function"){var Gt=$t;return Qn(function(){Nt||Er||(Er=!0,console.error("You called act(async () => ...) without await. This could lead to unexpected testing behaviour, interleaving multiple act calls and mixing their scopes. You should - await act(async () => ...);"))}),{then:function(At,sr){Nt=!0,Gt.then(function(F){if(ye(Ee,rt),rt===0){try{je(ut),pe(function(){return ge(F,At,sr)})}catch(w){Pt.thrownErrors.push(w)}if(0<Pt.thrownErrors.length){var S=le(Pt.thrownErrors);Pt.thrownErrors.length=0,sr(S)}}else At(F)},function(F){ye(Ee,rt),0<Pt.thrownErrors.length&&(F=le(Pt.thrownErrors),Pt.thrownErrors.length=0),sr(F)})}}}var sn=$t;if(ye(Ee,rt),rt===0&&(je(ut),ut.length!==0&&Qn(function(){Nt||Er||(Er=!0,console.error("A component suspended inside an `act` scope, but the `act` call was not awaited. When testing React components that depend on asynchronous data, you must await the result:\n\nawait act(() => ...)"))}),Pt.actQueue=null),0<Pt.thrownErrors.length)throw $=le(Pt.thrownErrors),Pt.thrownErrors.length=0,$;return{then:function(At,sr){Nt=!0,rt===0?(Pt.actQueue=ut,pe(function(){return ge(sn,At,sr)})):At(sn)}}},e.cache=function($){return function(){return $.apply(null,arguments)}},e.captureOwnerStack=function(){var $=Pt.getCurrentStack;return $===null?null:$()},e.cloneElement=function($,Ee,rt){if($==null)throw Error("The argument must be a React element, but you passed "+$+".");var ut=nt({},$.props),Nt=$.key,$t=$._owner;if(Ee!=null){var Gt;e:{if(ar.call(Ee,"ref")&&(Gt=Object.getOwnPropertyDescriptor(Ee,"ref").get)&&Gt.isReactWarning){Gt=!1;break e}Gt=Ee.ref!==void 0}Gt&&($t=b()),E(Ee)&&(h(Ee.key),Nt=""+Ee.key);for(sn in Ee)!ar.call(Ee,sn)||sn==="key"||sn==="__self"||sn==="__source"||sn==="ref"&&Ee.ref===void 0||(ut[sn]=Ee[sn])}var sn=arguments.length-2;if(sn===1)ut.children=rt;else if(1<sn){Gt=Array(sn);for(var At=0;At<sn;At++)Gt[At]=arguments[At+2];ut.children=Gt}for(ut=D($.type,Nt,void 0,void 0,$t,ut,$._debugStack,$._debugTask),Nt=2;Nt<arguments.length;Nt++)$t=arguments[Nt],P($t)&&$t._store&&($t._store.validated=1);return ut},e.createContext=function($){return $={$$typeof:ce,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null},$.Provider=$,$.Consumer={$$typeof:B,_context:$},$._currentRenderer=null,$._currentRenderer2=null,$},e.createElement=function($,Ee,rt){for(var ut=2;ut<arguments.length;ut++){var Nt=arguments[ut];P(Nt)&&Nt._store&&(Nt._store.validated=1)}if(ut={},Nt=null,Ee!=null)for(At in ms||!("__self"in Ee)||"key"in Ee||(ms=!0,console.warn("Your app (or one of its dependencies) is using an outdated JSX transform. Update to the modern JSX transform for faster performance: https://react.dev/link/new-jsx-transform")),E(Ee)&&(h(Ee.key),Nt=""+Ee.key),Ee)ar.call(Ee,At)&&At!=="key"&&At!=="__self"&&At!=="__source"&&(ut[At]=Ee[At]);var $t=arguments.length-2;if($t===1)ut.children=rt;else if(1<$t){for(var Gt=Array($t),sn=0;sn<$t;sn++)Gt[sn]=arguments[sn+2];Object.freeze&&Object.freeze(Gt),ut.children=Gt}if($&&$.defaultProps)for(At in $t=$.defaultProps,$t)ut[At]===void 0&&(ut[At]=$t[At]);Nt&&T(ut,typeof $=="function"?$.displayName||$.name||"Unknown":$);var At=1e4>Pt.recentlyCreatedOwnerStacks++;return D($,Nt,void 0,void 0,b(),ut,At?Error("react-stack-top-frame"):He,At?An(m($)):$e)},e.createRef=function(){var $={current:null};return Object.seal($),$},e.forwardRef=function($){$!=null&&$.$$typeof===oe?console.error("forwardRef requires a render function but received a `memo` component. Instead of forwardRef(memo(...)), use memo(forwardRef(...))."):typeof $!="function"?console.error("forwardRef requires a render function but was given %s.",$===null?"null":typeof $):$.length!==0&&$.length!==2&&console.error("forwardRef render functions accept exactly two parameters: props and ref. %s",$.length===1?"Did you forget to use the ref parameter?":"Any additional parameter will be undefined."),$!=null&&$.defaultProps!=null&&console.error("forwardRef render functions do not support defaultProps. Did you accidentally pass a React component?");var Ee={$$typeof:Z,render:$},rt;return Object.defineProperty(Ee,"displayName",{enumerable:!1,configurable:!0,get:function(){return rt},set:function(ut){rt=ut,$.name||$.displayName||(Object.defineProperty($,"name",{value:ut}),$.displayName=ut)}}),Ee},e.isValidElement=P,e.lazy=function($){return{$$typeof:Pe,_payload:{_status:-1,_result:$},_init:K}},e.memo=function($,Ee){$==null&&console.error("memo: The first argument must be a component. Instead received: %s",$===null?"null":typeof $),Ee={$$typeof:oe,type:$,compare:Ee===void 0?null:Ee};var rt;return Object.defineProperty(Ee,"displayName",{enumerable:!1,configurable:!0,get:function(){return rt},set:function(ut){rt=ut,$.name||$.displayName||(Object.defineProperty($,"name",{value:ut}),$.displayName=ut)}}),Ee},e.startTransition=function($){var Ee=Pt.T,rt={};Pt.T=rt,rt._updatedFibers=new Set;try{var ut=$(),Nt=Pt.S;Nt!==null&&Nt(rt,ut),typeof ut=="object"&&ut!==null&&typeof ut.then=="function"&&ut.then(de,un)}catch($t){un($t)}finally{Ee===null&&rt._updatedFibers&&($=rt._updatedFibers.size,rt._updatedFibers.clear(),10<$&&console.warn("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table.")),Pt.T=Ee}},e.unstable_useCacheRefresh=function(){return Q().useCacheRefresh()},e.use=function($){return Q().use($)},e.useActionState=function($,Ee,rt){return Q().useActionState($,Ee,rt)},e.useCallback=function($,Ee){return Q().useCallback($,Ee)},e.useContext=function($){var Ee=Q();return $.$$typeof===B&&console.error("Calling useContext(Context.Consumer) is not supported and will cause bugs. Did you mean to call useContext(Context) instead?"),Ee.useContext($)},e.useDebugValue=function($,Ee){return Q().useDebugValue($,Ee)},e.useDeferredValue=function($,Ee){return Q().useDeferredValue($,Ee)},e.useEffect=function($,Ee,rt){$==null&&console.warn("React Hook useEffect requires an effect callback. Did you forget to pass a callback to the hook?");var ut=Q();if(typeof rt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ut.useEffect($,Ee)},e.useId=function(){return Q().useId()},e.useImperativeHandle=function($,Ee,rt){return Q().useImperativeHandle($,Ee,rt)},e.useInsertionEffect=function($,Ee){return $==null&&console.warn("React Hook useInsertionEffect requires an effect callback. Did you forget to pass a callback to the hook?"),Q().useInsertionEffect($,Ee)},e.useLayoutEffect=function($,Ee){return $==null&&console.warn("React Hook useLayoutEffect requires an effect callback. Did you forget to pass a callback to the hook?"),Q().useLayoutEffect($,Ee)},e.useMemo=function($,Ee){return Q().useMemo($,Ee)},e.useOptimistic=function($,Ee){return Q().useOptimistic($,Ee)},e.useReducer=function($,Ee,rt){return Q().useReducer($,Ee,rt)},e.useRef=function($){return Q().useRef($)},e.useState=function($){return Q().useState($)},e.useSyncExternalStore=function($,Ee,rt){return Q().useSyncExternalStore($,Ee,rt)},e.useTransition=function(){return Q().useTransition()},e.version="19.1.0",typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())})()}(_p,_p.exports)),_p.exports}var BP;function hm(){return BP||(BP=1,Iw.exports=c8()),Iw.exports}var LP;function u8(){if(LP)return Rb;LP=1;/**
 * @license React
 * react-jsx-dev-runtime.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */return function(){function t(V){if(V==null)return null;if(typeof V=="function")return V.$$typeof===K?null:V.displayName||V.name||null;if(typeof V=="string")return V;switch(V){case T:return"Fragment";case D:return"Profiler";case C:return"StrictMode";case L:return"Suspense";case O:return"SuspenseList";case G:return"Activity"}if(typeof V=="object")switch(typeof V.tag=="number"&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),V.$$typeof){case E:return"Portal";case P:return(V.displayName||"Context")+".Provider";case M:return(V._context.displayName||"Context")+".Consumer";case U:var ue=V.render;return V=V.displayName,V||(V=ue.displayName||ue.name||"",V=V!==""?"ForwardRef("+V+")":"ForwardRef"),V;case Y:return ue=V.displayName||null,ue!==null?ue:t(V.type)||"Memo";case ne:ue=V._payload,V=V._init;try{return t(V(ue))}catch{}}return null}function e(V){return""+V}function n(V){try{e(V);var ue=!1}catch{ue=!0}if(ue){ue=console;var se=ue.error,B=typeof Symbol=="function"&&Symbol.toStringTag&&V[Symbol.toStringTag]||V.constructor.name||"Object";return se.call(ue,"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",B),e(V)}}function r(V){if(V===T)return"<>";if(typeof V=="object"&&V!==null&&V.$$typeof===ne)return"<...>";try{var ue=t(V);return ue?"<"+ue+">":"<...>"}catch{return"<...>"}}function s(){var V=Q.A;return V===null?null:V.getOwner()}function o(){return Error("react-stack-top-frame")}function l(V){if(de.call(V,"key")){var ue=Object.getOwnPropertyDescriptor(V,"key").get;if(ue&&ue.isReactWarning)return!1}return V.key!==void 0}function c(V,ue){function se(){ye||(ye=!0,console.error("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)",ue))}se.isReactWarning=!0,Object.defineProperty(V,"key",{get:se,configurable:!0})}function f(){var V=t(this.type);return ge[V]||(ge[V]=!0,console.error("Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.")),V=this.props.ref,V!==void 0?V:null}function h(V,ue,se,B,ce,Z,xe,he){return se=Z.ref,V={$$typeof:_,type:V,key:ue,props:Z,_owner:ce},(se!==void 0?se:null)!==null?Object.defineProperty(V,"ref",{enumerable:!1,get:f}):Object.defineProperty(V,"ref",{enumerable:!1,value:null}),V._store={},Object.defineProperty(V._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:0}),Object.defineProperty(V,"_debugInfo",{configurable:!1,enumerable:!1,writable:!0,value:null}),Object.defineProperty(V,"_debugStack",{configurable:!1,enumerable:!1,writable:!0,value:xe}),Object.defineProperty(V,"_debugTask",{configurable:!1,enumerable:!1,writable:!0,value:he}),Object.freeze&&(Object.freeze(V.props),Object.freeze(V)),V}function p(V,ue,se,B,ce,Z,xe,he){var oe=ue.children;if(oe!==void 0)if(B)if(pe(oe)){for(B=0;B<oe.length;B++)m(oe[B]);Object.freeze&&Object.freeze(oe)}else console.error("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else m(oe);if(de.call(ue,"key")){oe=t(V);var Pe=Object.keys(ue).filter(function(Ye){return Ye!=="key"});B=0<Pe.length?"{key: someKey, "+Pe.join(": ..., ")+": ...}":"{key: someKey}",Ke[oe+B]||(Pe=0<Pe.length?"{"+Pe.join(": ..., ")+": ...}":"{}",console.error(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,B,oe,Pe,oe),Ke[oe+B]=!0)}if(oe=null,se!==void 0&&(n(se),oe=""+se),l(ue)&&(n(ue.key),oe=""+ue.key),"key"in ue){se={};for(var qe in ue)qe!=="key"&&(se[qe]=ue[qe])}else se=ue;return oe&&c(se,typeof V=="function"?V.displayName||V.name||"Unknown":V),h(V,oe,Z,ce,s(),se,xe,he)}function m(V){typeof V=="object"&&V!==null&&V.$$typeof===_&&V._store&&(V._store.validated=1)}var b=hm(),_=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),M=Symbol.for("react.consumer"),P=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),ne=Symbol.for("react.lazy"),G=Symbol.for("react.activity"),K=Symbol.for("react.client.reference"),Q=b.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de=Object.prototype.hasOwnProperty,pe=Array.isArray,le=console.createTask?console.createTask:function(){return null};b={"react-stack-bottom-frame":function(V){return V()}};var ye,ge={},je=b["react-stack-bottom-frame"].bind(b,o)(),_e=le(r(o)),Ke={};Rb.Fragment=T,Rb.jsxDEV=function(V,ue,se,B,ce,Z){var xe=1e4>Q.recentlyCreatedOwnerStacks++;return p(V,ue,se,B,ce,Z,xe?Error("react-stack-top-frame"):je,xe?le(r(V)):_e)}}(),Rb}var zP;function f8(){return zP||(zP=1,jw.exports=u8()),jw.exports}var x=f8(),k=hm();const hl=bu(k),lE=l8({__proto__:null,default:hl},[k]);var Ow={exports:{}},lp={},Uw={exports:{}},Vw={},$P;function d8(){return $P||($P=1,function(t){/**
 * @license React
 * scheduler.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){function e(){if(L=!1,G){var ge=t.unstable_now();de=ge;var je=!0;try{e:{P=!1,U&&(U=!1,Y(K),K=-1),M=!0;var _e=D;try{t:{for(l(ge),C=r(_);C!==null&&!(C.expirationTime>ge&&f());){var Ke=C.callback;if(typeof Ke=="function"){C.callback=null,D=C.priorityLevel;var V=Ke(C.expirationTime<=ge);if(ge=t.unstable_now(),typeof V=="function"){C.callback=V,l(ge),je=!0;break t}C===r(_)&&s(_),l(ge)}else s(_);C=r(_)}if(C!==null)je=!0;else{var ue=r(E);ue!==null&&h(c,ue.startTime-ge),je=!1}}break e}finally{C=null,D=_e,M=!1}je=void 0}}finally{je?pe():G=!1}}}function n(ge,je){var _e=ge.length;ge.push(je);e:for(;0<_e;){var Ke=_e-1>>>1,V=ge[Ke];if(0<o(V,je))ge[Ke]=je,ge[_e]=V,_e=Ke;else break e}}function r(ge){return ge.length===0?null:ge[0]}function s(ge){if(ge.length===0)return null;var je=ge[0],_e=ge.pop();if(_e!==je){ge[0]=_e;e:for(var Ke=0,V=ge.length,ue=V>>>1;Ke<ue;){var se=2*(Ke+1)-1,B=ge[se],ce=se+1,Z=ge[ce];if(0>o(B,_e))ce<V&&0>o(Z,B)?(ge[Ke]=Z,ge[ce]=_e,Ke=ce):(ge[Ke]=B,ge[se]=_e,Ke=se);else if(ce<V&&0>o(Z,_e))ge[Ke]=Z,ge[ce]=_e,Ke=ce;else break e}}return je}function o(ge,je){var _e=ge.sortIndex-je.sortIndex;return _e!==0?_e:ge.id-je.id}function l(ge){for(var je=r(E);je!==null;){if(je.callback===null)s(E);else if(je.startTime<=ge)s(E),je.sortIndex=je.expirationTime,n(_,je);else break;je=r(E)}}function c(ge){if(U=!1,l(ge),!P)if(r(_)!==null)P=!0,G||(G=!0,pe());else{var je=r(E);je!==null&&h(c,je.startTime-ge)}}function f(){return L?!0:!(t.unstable_now()-de<Q)}function h(ge,je){K=O(function(){ge(t.unstable_now())},je)}if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error()),t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var p=performance;t.unstable_now=function(){return p.now()}}else{var m=Date,b=m.now();t.unstable_now=function(){return m.now()-b}}var _=[],E=[],T=1,C=null,D=3,M=!1,P=!1,U=!1,L=!1,O=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null,G=!1,K=-1,Q=5,de=-1;if(typeof ne=="function")var pe=function(){ne(e)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,ye=le.port2;le.port1.onmessage=e,pe=function(){ye.postMessage(null)}}else pe=function(){O(e,0)};t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ge){ge.callback=null},t.unstable_forceFrameRate=function(ge){0>ge||125<ge?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<ge?Math.floor(1e3/ge):5},t.unstable_getCurrentPriorityLevel=function(){return D},t.unstable_next=function(ge){switch(D){case 1:case 2:case 3:var je=3;break;default:je=D}var _e=D;D=je;try{return ge()}finally{D=_e}},t.unstable_requestPaint=function(){L=!0},t.unstable_runWithPriority=function(ge,je){switch(ge){case 1:case 2:case 3:case 4:case 5:break;default:ge=3}var _e=D;D=ge;try{return je()}finally{D=_e}},t.unstable_scheduleCallback=function(ge,je,_e){var Ke=t.unstable_now();switch(typeof _e=="object"&&_e!==null?(_e=_e.delay,_e=typeof _e=="number"&&0<_e?Ke+_e:Ke):_e=Ke,ge){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=_e+V,ge={id:T++,callback:je,priorityLevel:ge,startTime:_e,expirationTime:V,sortIndex:-1},_e>Ke?(ge.sortIndex=_e,n(E,ge),r(_)===null&&ge===r(E)&&(U?(Y(K),K=-1):U=!0,h(c,_e-Ke))):(ge.sortIndex=V,n(_,ge),P||M||(P=!0,G||(G=!0,pe()))),ge},t.unstable_shouldYield=f,t.unstable_wrapCallback=function(ge){var je=D;return function(){var _e=D;D=je;try{return ge.apply(this,arguments)}finally{D=_e}}},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())})()}(Vw)),Vw}var HP;function h8(){return HP||(HP=1,Uw.exports=d8()),Uw.exports}var Fw={exports:{}},as={},WP;function p8(){if(WP)return as;WP=1;/**
 * @license React
 * react-dom.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */return function(){function t(){}function e(m){return""+m}function n(m,b,_){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;try{e(E);var T=!1}catch{T=!0}return T&&(console.error("The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",typeof Symbol=="function"&&Symbol.toStringTag&&E[Symbol.toStringTag]||E.constructor.name||"Object"),e(E)),{$$typeof:h,key:E==null?null:""+E,children:m,containerInfo:b,implementation:_}}function r(m,b){if(m==="font")return"";if(typeof b=="string")return b==="use-credentials"?b:""}function s(m){return m===null?"`null`":m===void 0?"`undefined`":m===""?"an empty string":'something with type "'+typeof m+'"'}function o(m){return m===null?"`null`":m===void 0?"`undefined`":m===""?"an empty string":typeof m=="string"?JSON.stringify(m):typeof m=="number"?"`"+m+"`":'something with type "'+typeof m+'"'}function l(){var m=p.H;return m===null&&console.error(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://react.dev/link/invalid-hook-call for tips about how to debug and fix this problem.`),m}typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());var c=hm(),f={d:{f:t,r:function(){throw Error("Invalid form element. requestFormReset must be passed a form that was rendered by React.")},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},h=Symbol.for("react.portal"),p=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;typeof Map=="function"&&Map.prototype!=null&&typeof Map.prototype.forEach=="function"&&typeof Set=="function"&&Set.prototype!=null&&typeof Set.prototype.clear=="function"&&typeof Set.prototype.forEach=="function"||console.error("React depends on Map and Set built-in types. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),as.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=f,as.createPortal=function(m,b){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!b||b.nodeType!==1&&b.nodeType!==9&&b.nodeType!==11)throw Error("Target container is not a DOM element.");return n(m,b,null,_)},as.flushSync=function(m){var b=p.T,_=f.p;try{if(p.T=null,f.p=2,m)return m()}finally{p.T=b,f.p=_,f.d.f()&&console.error("flushSync was called from inside a lifecycle method. React cannot flush when React is already rendering. Consider moving this call to a scheduler task or micro task.")}},as.preconnect=function(m,b){typeof m=="string"&&m?b!=null&&typeof b!="object"?console.error("ReactDOM.preconnect(): Expected the `options` argument (second) to be an object but encountered %s instead. The only supported option at this time is `crossOrigin` which accepts a string.",o(b)):b!=null&&typeof b.crossOrigin!="string"&&console.error("ReactDOM.preconnect(): Expected the `crossOrigin` option (second argument) to be a string but encountered %s instead. Try removing this option or passing a string value instead.",s(b.crossOrigin)):console.error("ReactDOM.preconnect(): Expected the `href` argument (first) to be a non-empty string but encountered %s instead.",s(m)),typeof m=="string"&&(b?(b=b.crossOrigin,b=typeof b=="string"?b==="use-credentials"?b:"":void 0):b=null,f.d.C(m,b))},as.prefetchDNS=function(m){if(typeof m!="string"||!m)console.error("ReactDOM.prefetchDNS(): Expected the `href` argument (first) to be a non-empty string but encountered %s instead.",s(m));else if(1<arguments.length){var b=arguments[1];typeof b=="object"&&b.hasOwnProperty("crossOrigin")?console.error("ReactDOM.prefetchDNS(): Expected only one argument, `href`, but encountered %s as a second argument instead. This argument is reserved for future options and is currently disallowed. It looks like the you are attempting to set a crossOrigin property for this DNS lookup hint. Browsers do not perform DNS queries using CORS and setting this attribute on the resource hint has no effect. Try calling ReactDOM.prefetchDNS() with just a single string argument, `href`.",o(b)):console.error("ReactDOM.prefetchDNS(): Expected only one argument, `href`, but encountered %s as a second argument instead. This argument is reserved for future options and is currently disallowed. Try calling ReactDOM.prefetchDNS() with just a single string argument, `href`.",o(b))}typeof m=="string"&&f.d.D(m)},as.preinit=function(m,b){if(typeof m=="string"&&m?b==null||typeof b!="object"?console.error("ReactDOM.preinit(): Expected the `options` argument (second) to be an object with an `as` property describing the type of resource to be preinitialized but encountered %s instead.",o(b)):b.as!=="style"&&b.as!=="script"&&console.error('ReactDOM.preinit(): Expected the `as` property in the `options` argument (second) to contain a valid value describing the type of resource to be preinitialized but encountered %s instead. Valid values for `as` are "style" and "script".',o(b.as)):console.error("ReactDOM.preinit(): Expected the `href` argument (first) to be a non-empty string but encountered %s instead.",s(m)),typeof m=="string"&&b&&typeof b.as=="string"){var _=b.as,E=r(_,b.crossOrigin),T=typeof b.integrity=="string"?b.integrity:void 0,C=typeof b.fetchPriority=="string"?b.fetchPriority:void 0;_==="style"?f.d.S(m,typeof b.precedence=="string"?b.precedence:void 0,{crossOrigin:E,integrity:T,fetchPriority:C}):_==="script"&&f.d.X(m,{crossOrigin:E,integrity:T,fetchPriority:C,nonce:typeof b.nonce=="string"?b.nonce:void 0})}},as.preinitModule=function(m,b){var _="";if(typeof m=="string"&&m||(_+=" The `href` argument encountered was "+s(m)+"."),b!==void 0&&typeof b!="object"?_+=" The `options` argument encountered was "+s(b)+".":b&&"as"in b&&b.as!=="script"&&(_+=" The `as` option encountered was "+o(b.as)+"."),_)console.error("ReactDOM.preinitModule(): Expected up to two arguments, a non-empty `href` string and, optionally, an `options` object with a valid `as` property.%s",_);else switch(_=b&&typeof b.as=="string"?b.as:"script",_){case"script":break;default:_=o(_),console.error('ReactDOM.preinitModule(): Currently the only supported "as" type for this function is "script" but received "%s" instead. This warning was generated for `href` "%s". In the future other module types will be supported, aligning with the import-attributes proposal. Learn more here: (https://github.com/tc39/proposal-import-attributes)',_,m)}typeof m=="string"&&(typeof b=="object"&&b!==null?(b.as==null||b.as==="script")&&(_=r(b.as,b.crossOrigin),f.d.M(m,{crossOrigin:_,integrity:typeof b.integrity=="string"?b.integrity:void 0,nonce:typeof b.nonce=="string"?b.nonce:void 0})):b==null&&f.d.M(m))},as.preload=function(m,b){var _="";if(typeof m=="string"&&m||(_+=" The `href` argument encountered was "+s(m)+"."),b==null||typeof b!="object"?_+=" The `options` argument encountered was "+s(b)+".":typeof b.as=="string"&&b.as||(_+=" The `as` option encountered was "+s(b.as)+"."),_&&console.error('ReactDOM.preload(): Expected two arguments, a non-empty `href` string and an `options` object with an `as` property valid for a `<link rel="preload" as="..." />` tag.%s',_),typeof m=="string"&&typeof b=="object"&&b!==null&&typeof b.as=="string"){_=b.as;var E=r(_,b.crossOrigin);f.d.L(m,_,{crossOrigin:E,integrity:typeof b.integrity=="string"?b.integrity:void 0,nonce:typeof b.nonce=="string"?b.nonce:void 0,type:typeof b.type=="string"?b.type:void 0,fetchPriority:typeof b.fetchPriority=="string"?b.fetchPriority:void 0,referrerPolicy:typeof b.referrerPolicy=="string"?b.referrerPolicy:void 0,imageSrcSet:typeof b.imageSrcSet=="string"?b.imageSrcSet:void 0,imageSizes:typeof b.imageSizes=="string"?b.imageSizes:void 0,media:typeof b.media=="string"?b.media:void 0})}},as.preloadModule=function(m,b){var _="";typeof m=="string"&&m||(_+=" The `href` argument encountered was "+s(m)+"."),b!==void 0&&typeof b!="object"?_+=" The `options` argument encountered was "+s(b)+".":b&&"as"in b&&typeof b.as!="string"&&(_+=" The `as` option encountered was "+s(b.as)+"."),_&&console.error('ReactDOM.preloadModule(): Expected two arguments, a non-empty `href` string and, optionally, an `options` object with an `as` property valid for a `<link rel="modulepreload" as="..." />` tag.%s',_),typeof m=="string"&&(b?(_=r(b.as,b.crossOrigin),f.d.m(m,{as:typeof b.as=="string"&&b.as!=="script"?b.as:void 0,crossOrigin:_,integrity:typeof b.integrity=="string"?b.integrity:void 0})):f.d.m(m))},as.requestFormReset=function(m){f.d.r(m)},as.unstable_batchedUpdates=function(m,b){return m(b)},as.useFormState=function(m,b,_){return l().useFormState(m,b,_)},as.useFormStatus=function(){return l().useHostTransitionStatus()},as.version="19.1.0",typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())}(),as}var qP;function _I(){return qP||(qP=1,Fw.exports=p8()),Fw.exports}var XP;function m8(){if(XP)return lp;XP=1;/**
 * @license React
 * react-dom-client.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */return function(){function t(i,a){for(i=i.memoizedState;i!==null&&0<a;)i=i.next,a--;return i}function e(i,a,u,d){if(u>=a.length)return d;var g=a[u],v=Zr(i)?i.slice():rn({},i);return v[g]=e(i[g],a,u+1,d),v}function n(i,a,u){if(a.length!==u.length)console.warn("copyWithRename() expects paths of the same length");else{for(var d=0;d<u.length-1;d++)if(a[d]!==u[d]){console.warn("copyWithRename() expects paths to be the same except for the deepest key");return}return r(i,a,u,0)}}function r(i,a,u,d){var g=a[d],v=Zr(i)?i.slice():rn({},i);return d+1===a.length?(v[u[d]]=v[g],Zr(v)?v.splice(g,1):delete v[g]):v[g]=r(i[g],a,u,d+1),v}function s(i,a,u){var d=a[u],g=Zr(i)?i.slice():rn({},i);return u+1===a.length?(Zr(g)?g.splice(d,1):delete g[d],g):(g[d]=s(i[d],a,u+1),g)}function o(){return!1}function l(){return null}function c(){}function f(){console.error("Do not call Hooks inside useEffect(...), useMemo(...), or other built-in Hooks. You can only call Hooks at the top level of your React function. For more information, see https://react.dev/link/rules-of-hooks")}function h(){console.error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().")}function p(){}function m(i){var a=[];return i.forEach(function(u){a.push(u)}),a.sort().join(", ")}function b(i,a,u,d){return new sL(i,a,u,d)}function _(i,a){i.context===qa&&(i_(i.current,2,a,i,null,null),Ru())}function E(i,a){if(mi!==null){var u=a.staleFamilies;a=a.updatedFamilies,fh(),Sv(i.current,a,u),Ru()}}function T(i){mi=i}function C(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function D(i){var a=i,u=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(u=a.return),i=a.return;while(i)}return a.tag===3?u:null}function M(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function P(i){if(D(i)!==i)throw Error("Unable to find node on an unmounted component.")}function U(i){var a=i.alternate;if(!a){if(a=D(i),a===null)throw Error("Unable to find node on an unmounted component.");return a!==i?null:i}for(var u=i,d=a;;){var g=u.return;if(g===null)break;var v=g.alternate;if(v===null){if(d=g.return,d!==null){u=d;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===u)return P(g),i;if(v===d)return P(g),a;v=v.sibling}throw Error("Unable to find node on an unmounted component.")}if(u.return!==d.return)u=g,d=v;else{for(var R=!1,I=g.child;I;){if(I===u){R=!0,u=g,d=v;break}if(I===d){R=!0,d=g,u=v;break}I=I.sibling}if(!R){for(I=v.child;I;){if(I===u){R=!0,u=v,d=g;break}if(I===d){R=!0,d=v,u=g;break}I=I.sibling}if(!R)throw Error("Child was not found in either parent set. This indicates a bug in React related to the return pointer. Please file an issue.")}}if(u.alternate!==d)throw Error("Return fibers should always be each others' alternates. This error is likely caused by a bug in React. Please file an issue.")}if(u.tag!==3)throw Error("Unable to find node on an unmounted component.");return u.stateNode.current===u?i:a}function L(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=L(i),a!==null)return a;i=i.sibling}return null}function O(i){return i===null||typeof i!="object"?null:(i=iR&&i[iR]||i["@@iterator"],typeof i=="function"?i:null)}function Y(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===v5?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case Ou:return"Fragment";case d_:return"Profiler";case jg:return"StrictMode";case p_:return"Suspense";case m_:return"SuspenseList";case g_:return"Activity"}if(typeof i=="object")switch(typeof i.tag=="number"&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),i.$$typeof){case Iu:return"Portal";case po:return(i.displayName||"Context")+".Provider";case h_:return(i._context.displayName||"Context")+".Consumer";case vh:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Ig:return a=i.displayName||null,a!==null?a:Y(i.type)||"Memo";case Gs:a=i._payload,i=i._init;try{return Y(i(a))}catch{}}return null}function ne(i){return typeof i.tag=="number"?G(i):typeof i.name=="string"?i.name:null}function G(i){var a=i.type;switch(i.tag){case 31:return"Activity";case 24:return"Cache";case 9:return(a._context.displayName||"Context")+".Consumer";case 10:return(a.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=a.render,i=i.displayName||i.name||"",a.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 26:case 27:case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Y(a);case 8:return a===jg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;break;case 29:if(a=i._debugInfo,a!=null){for(var u=a.length-1;0<=u;u--)if(typeof a[u].name=="string")return a[u].name}if(i.return!==null)return G(i.return)}return null}function K(i){return{current:i}}function Q(i,a){0>ea?console.error("Unexpected pop."):(a!==x_[ea]&&console.error("Unexpected Fiber popped."),i.current=b_[ea],b_[ea]=null,x_[ea]=null,ea--)}function de(i,a,u){ea++,b_[ea]=i.current,x_[ea]=u,i.current=a}function pe(i){return i===null&&console.error("Expected host context to exist. This error is likely caused by a bug in React. Please file an issue."),i}function le(i,a){de(za,a,i),de(_h,i,i),de(La,null,i);var u=a.nodeType;switch(u){case 9:case 11:u=u===9?"#document":"#fragment",a=(a=a.documentElement)&&(a=a.namespaceURI)?MC(a):da;break;default:if(u=a.tagName,a=a.namespaceURI)a=MC(a),a=jC(a,u);else switch(u){case"svg":a=xf;break;case"math":a=_b;break;default:a=da}}u=u.toLowerCase(),u=Im(null,u),u={context:a,ancestorInfo:u},Q(La,i),de(La,u,i)}function ye(i){Q(La,i),Q(_h,i),Q(za,i)}function ge(){return pe(La.current)}function je(i){i.memoizedState!==null&&de(Og,i,i);var a=pe(La.current),u=i.type,d=jC(a.context,u);u=Im(a.ancestorInfo,u),d={context:d,ancestorInfo:u},a!==d&&(de(_h,i,i),de(La,d,i))}function _e(i){_h.current===i&&(Q(La,i),Q(_h,i)),Og.current===i&&(Q(Og,i),ip._currentValue=kc)}function Ke(i){return typeof Symbol=="function"&&Symbol.toStringTag&&i[Symbol.toStringTag]||i.constructor.name||"Object"}function V(i){try{return ue(i),!1}catch{return!0}}function ue(i){return""+i}function se(i,a){if(V(i))return console.error("The provided `%s` attribute is an unsupported type %s. This value must be coerced to a string before using it here.",a,Ke(i)),ue(i)}function B(i,a){if(V(i))return console.error("The provided `%s` CSS property is an unsupported type %s. This value must be coerced to a string before using it here.",a,Ke(i)),ue(i)}function ce(i){if(V(i))return console.error("Form field values (value, checked, defaultValue, or defaultChecked props) must be strings, not %s. This value must be coerced to a string before using it here.",Ke(i)),ue(i)}function Z(i){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")return!1;var a=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(a.isDisabled)return!0;if(!a.supportsFiber)return console.error("The installed version of React DevTools is too old and will not work with the current version of React. Please update React DevTools. https://react.dev/link/react-devtools"),!0;try{Vu=a.inject(i),ss=a}catch(u){console.error("React instrumentation encountered an error: %s.",u)}return!!a.checkDCE}function xe(i){if(typeof A5=="function"&&C5(i),ss&&typeof ss.setStrictMode=="function")try{ss.setStrictMode(Vu,i)}catch(a){go||(go=!0,console.error("React instrumentation encountered an error: %s",a))}}function he(i){bt=i}function oe(){bt!==null&&typeof bt.markCommitStopped=="function"&&bt.markCommitStopped()}function Pe(i){bt!==null&&typeof bt.markComponentRenderStarted=="function"&&bt.markComponentRenderStarted(i)}function qe(){bt!==null&&typeof bt.markComponentRenderStopped=="function"&&bt.markComponentRenderStopped()}function Ye(i){bt!==null&&typeof bt.markRenderStarted=="function"&&bt.markRenderStarted(i)}function tt(){bt!==null&&typeof bt.markRenderStopped=="function"&&bt.markRenderStopped()}function Ue(i,a){bt!==null&&typeof bt.markStateUpdateScheduled=="function"&&bt.markStateUpdateScheduled(i,a)}function nt(i){return i>>>=0,i===0?32:31-(R5(i)/k5|0)|0}function lt(i){if(i&1)return"SyncHydrationLane";if(i&2)return"Sync";if(i&4)return"InputContinuousHydration";if(i&8)return"InputContinuous";if(i&16)return"DefaultHydration";if(i&32)return"Default";if(i&128)return"TransitionHydration";if(i&4194048)return"Transition";if(i&62914560)return"Retry";if(i&67108864)return"SelectiveHydration";if(i&134217728)return"IdleHydration";if(i&268435456)return"Idle";if(i&536870912)return"Offscreen";if(i&1073741824)return"Deferred"}function gt(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return console.error("Should have found matching lanes. This is a bug in React."),i}}function Lt(i,a,u){var d=i.pendingLanes;if(d===0)return 0;var g=0,v=i.suspendedLanes,R=i.pingedLanes;i=i.warmLanes;var I=d&134217727;return I!==0?(d=I&~v,d!==0?g=gt(d):(R&=I,R!==0?g=gt(R):u||(u=I&~i,u!==0&&(g=gt(u))))):(I=d&~v,I!==0?g=gt(I):R!==0?g=gt(R):u||(u=d&~i,u!==0&&(g=gt(u)))),g===0?0:a!==0&&a!==g&&(a&v)===0&&(v=g&-g,u=a&-a,v>=u||v===32&&(u&4194048)!==0)?a:g}function Yt(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function Ot(i,a){switch(i){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return console.error("Should have found matching lanes. This is a bug in React."),-1}}function Pt(){var i=Ug;return Ug<<=1,(Ug&4194048)===0&&(Ug=256),i}function ar(){var i=Vg;return Vg<<=1,(Vg&62914560)===0&&(Vg=4194304),i}function An(i){for(var a=[],u=0;31>u;u++)a.push(i);return a}function Wr(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function ms(i,a,u,d,g,v){var R=i.pendingLanes;i.pendingLanes=u,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=u,i.entangledLanes&=u,i.errorRecoveryDisabledLanes&=u,i.shellSuspendCounter=0;var I=i.entanglements,q=i.expirationTimes,re=i.hiddenUpdates;for(u=R&~u;0<u;){var Oe=31-xs(u),Le=1<<Oe;I[Oe]=0,q[Oe]=-1;var Ie=re[Oe];if(Ie!==null)for(re[Oe]=null,Oe=0;Oe<Ie.length;Oe++){var We=Ie[Oe];We!==null&&(We.lane&=-536870913)}u&=~Le}d!==0&&Ho(i,d,0),v!==0&&g===0&&i.tag!==0&&(i.suspendedLanes|=v&~(R&~a))}function Ho(i,a,u){i.pendingLanes|=a,i.suspendedLanes&=~a;var d=31-xs(a);i.entangledLanes|=a,i.entanglements[d]=i.entanglements[d]|1073741824|u&4194090}function He(i,a){var u=i.entangledLanes|=a;for(i=i.entanglements;u;){var d=31-xs(u),g=1<<d;g&a|i[d]&a&&(i[d]|=a),u&=~g}}function $e(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function xt(i,a,u){if(Vi)for(i=i.pendingUpdatersLaneMap;0<u;){var d=31-xs(u),g=1<<d;i[d].add(a),u&=~g}}function zt(i,a){if(Vi)for(var u=i.pendingUpdatersLaneMap,d=i.memoizedUpdaters;0<a;){var g=31-xs(a);i=1<<g,g=u[g],0<g.size&&(g.forEach(function(v){var R=v.alternate;R!==null&&d.has(R)||d.add(v)}),g.clear()),a&=~i}}function un(i){return i&=-i,hi<i?bo<i?(i&134217727)!==0?na:Fg:bo:hi}function lr(){var i=Nn.p;return i!==0?i:(i=window.event,i===void 0?na:JC(i.type))}function rs(i,a){var u=Nn.p;try{return Nn.p=i,a()}finally{Nn.p=u}}function Sr(i){delete i[is],delete i[Us],delete i[N_],delete i[P5],delete i[D5]}function Er(i){var a=i[is];if(a)return a;for(var u=i.parentNode;u;){if(a=u[Ha]||u[is]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(i=BC(i);i!==null;){if(u=i[is])return u;i=BC(i)}return a}i=u,u=i.parentNode}return null}function Mr(i){if(i=i[is]||i[Ha]){var a=i.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return i}return null}function Qn(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error("getNodeFromInstance: Invalid argument.")}function $(i){var a=i[oR];return a||(a=i[oR]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Ee(i){i[wh]=!0}function rt(i,a){ut(i,a),ut(i+"Capture",a)}function ut(i,a){fc[i]&&console.error("EventRegistry: More than one plugin attempted to publish the same registration name, `%s`.",i),fc[i]=a;var u=i.toLowerCase();for(S_[u]=i,i==="onDoubleClick"&&(S_.ondblclick=i),i=0;i<a.length;i++)aR.add(a[i])}function Nt(i,a){M5[a.type]||a.onChange||a.onInput||a.readOnly||a.disabled||a.value==null||console.error(i==="select"?"You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set `onChange`.":"You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`."),a.onChange||a.readOnly||a.disabled||a.checked==null||console.error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")}function $t(i){return ta.call(cR,i)?!0:ta.call(lR,i)?!1:j5.test(i)?cR[i]=!0:(lR[i]=!0,console.error("Invalid attribute name: `%s`",i),!1)}function Gt(i,a,u){if($t(a)){if(!i.hasAttribute(a)){switch(typeof u){case"symbol":case"object":return u;case"function":return u;case"boolean":if(u===!1)return u}return u===void 0?void 0:null}return i=i.getAttribute(a),i===""&&u===!0?!0:(se(u,a),i===""+u?u:i)}}function sn(i,a,u){if($t(a))if(u===null)i.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var d=a.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){i.removeAttribute(a);return}}se(u,a),i.setAttribute(a,""+u)}}function At(i,a,u){if(u===null)i.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}se(u,a),i.setAttribute(a,""+u)}}function sr(i,a,u,d){if(d===null)i.removeAttribute(u);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}se(d,u),i.setAttributeNS(a,u,""+d)}}function F(){}function S(){if(Nh===0){uR=console.log,fR=console.info,dR=console.warn,hR=console.error,pR=console.group,mR=console.groupCollapsed,gR=console.groupEnd;var i={configurable:!0,enumerable:!0,value:F,writable:!0};Object.defineProperties(console,{info:i,log:i,warn:i,error:i,group:i,groupCollapsed:i,groupEnd:i})}Nh++}function w(){if(Nh--,Nh===0){var i={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:rn({},i,{value:uR}),info:rn({},i,{value:fR}),warn:rn({},i,{value:dR}),error:rn({},i,{value:hR}),group:rn({},i,{value:pR}),groupCollapsed:rn({},i,{value:mR}),groupEnd:rn({},i,{value:gR})})}0>Nh&&console.error("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}function y(i){if(E_===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);E_=a&&a[1]||"",bR=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+E_+i+bR}function N(i,a){if(!i||T_)return"";var u=A_.get(i);if(u!==void 0)return u;T_=!0,u=Error.prepareStackTrace,Error.prepareStackTrace=void 0;var d=null;d=Be.H,Be.H=null,S();try{var g={DetermineComponentFrameRoot:function(){try{if(a){var Ie=function(){throw Error()};if(Object.defineProperty(Ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ie,[])}catch(_t){var We=_t}Reflect.construct(i,[],Ie)}else{try{Ie.call()}catch(_t){We=_t}i.call(Ie.prototype)}}else{try{throw Error()}catch(_t){We=_t}(Ie=i())&&typeof Ie.catch=="function"&&Ie.catch(function(){})}}catch(_t){if(_t&&We&&typeof _t.stack=="string")return[_t.stack,We.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var R=g.DetermineComponentFrameRoot(),I=R[0],q=R[1];if(I&&q){var re=I.split(`
`),Oe=q.split(`
`);for(R=v=0;v<re.length&&!re[v].includes("DetermineComponentFrameRoot");)v++;for(;R<Oe.length&&!Oe[R].includes("DetermineComponentFrameRoot");)R++;if(v===re.length||R===Oe.length)for(v=re.length-1,R=Oe.length-1;1<=v&&0<=R&&re[v]!==Oe[R];)R--;for(;1<=v&&0<=R;v--,R--)if(re[v]!==Oe[R]){if(v!==1||R!==1)do if(v--,R--,0>R||re[v]!==Oe[R]){var Le=`
`+re[v].replace(" at new "," at ");return i.displayName&&Le.includes("<anonymous>")&&(Le=Le.replace("<anonymous>",i.displayName)),typeof i=="function"&&A_.set(i,Le),Le}while(1<=v&&0<=R);break}}}finally{T_=!1,Be.H=d,w(),Error.prepareStackTrace=u}return re=(re=i?i.displayName||i.name:"")?y(re):"",typeof i=="function"&&A_.set(i,re),re}function A(i){var a=Error.prepareStackTrace;if(Error.prepareStackTrace=void 0,i=i.stack,Error.prepareStackTrace=a,i.startsWith(`Error: react-stack-top-frame
`)&&(i=i.slice(29)),a=i.indexOf(`
`),a!==-1&&(i=i.slice(a+1)),a=i.indexOf("react-stack-bottom-frame"),a!==-1&&(a=i.lastIndexOf(`
`,a)),a!==-1)i=i.slice(0,a);else return"";return i}function W(i){switch(i.tag){case 26:case 27:case 5:return y(i.type);case 16:return y("Lazy");case 13:return y("Suspense");case 19:return y("SuspenseList");case 0:case 15:return N(i.type,!1);case 11:return N(i.type.render,!1);case 1:return N(i.type,!0);case 31:return y("Activity");default:return""}}function X(i){try{var a="";do{a+=W(i);var u=i._debugInfo;if(u)for(var d=u.length-1;0<=d;d--){var g=u[d];if(typeof g.name=="string"){var v=a,R=g.env,I=y(g.name+(R?" ["+R+"]":""));a=v+I}}i=i.return}while(i);return a}catch(q){return`
Error generating stack: `+q.message+`
`+q.stack}}function J(i){return(i=i?i.displayName||i.name:"")?y(i):""}function te(){if(Qs===null)return null;var i=Qs._debugOwner;return i!=null?ne(i):null}function Re(){if(Qs===null)return"";var i=Qs;try{var a="";switch(i.tag===6&&(i=i.return),i.tag){case 26:case 27:case 5:a+=y(i.type);break;case 13:a+=y("Suspense");break;case 19:a+=y("SuspenseList");break;case 31:a+=y("Activity");break;case 30:case 0:case 15:case 1:i._debugOwner||a!==""||(a+=J(i.type));break;case 11:i._debugOwner||a!==""||(a+=J(i.type.render))}for(;i;)if(typeof i.tag=="number"){var u=i;i=u._debugOwner;var d=u._debugStack;i&&d&&(typeof d!="string"&&(u._debugStack=d=A(d)),d!==""&&(a+=`
`+d))}else if(i.debugStack!=null){var g=i.debugStack;(i=i.owner)&&g&&(a+=`
`+A(g))}else break;var v=a}catch(R){v=`
Error generating stack: `+R.message+`
`+R.stack}return v}function ie(i,a,u,d,g,v,R){var I=Qs;ze(i);try{return i!==null&&i._debugTask?i._debugTask.run(a.bind(null,u,d,g,v,R)):a(u,d,g,v,R)}finally{ze(I)}throw Error("runWithFiberInDEV should never be called in production. This is a bug in React.")}function ze(i){Be.getCurrentStack=i===null?null:Re,xo=!1,Qs=i}function Je(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return ce(i),i;default:return""}}function Ve(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Ze(i){var a=Ve(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,a);ce(i[a]);var d=""+i[a];if(!i.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,v=u.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return g.call(this)},set:function(R){ce(R),d=""+R,v.call(this,R)}}),Object.defineProperty(i,a,{enumerable:u.enumerable}),{getValue:function(){return d},setValue:function(R){ce(R),d=""+R},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function ht(i){i._valueTracker||(i._valueTracker=Ze(i))}function ve(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var u=a.getValue(),d="";return i&&(d=Ve(i)?i.checked?"true":"false":i.value),i=d,i!==u?(a.setValue(i),!0):!1}function st(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function ft(i){return i.replace(I5,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function jt(i,a){a.checked===void 0||a.defaultChecked===void 0||yR||(console.error("%s contains an input of type %s with both checked and defaultChecked props. Input elements must be either controlled or uncontrolled (specify either the checked prop, or the defaultChecked prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://react.dev/link/controlled-components",te()||"A component",a.type),yR=!0),a.value===void 0||a.defaultValue===void 0||xR||(console.error("%s contains an input of type %s with both value and defaultValue props. Input elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://react.dev/link/controlled-components",te()||"A component",a.type),xR=!0)}function Ut(i,a,u,d,g,v,R,I){i.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?(se(R,"type"),i.type=R):i.removeAttribute("type"),a!=null?R==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+Je(a)):i.value!==""+Je(a)&&(i.value=""+Je(a)):R!=="submit"&&R!=="reset"||i.removeAttribute("value"),a!=null?Tt(i,R,Je(a)):u!=null?Tt(i,R,Je(u)):d!=null&&i.removeAttribute("value"),g==null&&v!=null&&(i.defaultChecked=!!v),g!=null&&(i.checked=g&&typeof g!="function"&&typeof g!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?(se(I,"name"),i.name=""+Je(I)):i.removeAttribute("name")}function Fn(i,a,u,d,g,v,R,I){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(se(v,"type"),i.type=v),a!=null||u!=null){if(!(v!=="submit"&&v!=="reset"||a!=null))return;u=u!=null?""+Je(u):"",a=a!=null?""+Je(a):u,I||a===i.value||(i.value=a),i.defaultValue=a}d=d??g,d=typeof d!="function"&&typeof d!="symbol"&&!!d,i.checked=I?i.checked:!!d,i.defaultChecked=!!d,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(se(R,"name"),i.name=R)}function Tt(i,a,u){a==="number"&&st(i.ownerDocument)===i||i.defaultValue===""+u||(i.defaultValue=""+u)}function Ct(i,a){a.value==null&&(typeof a.children=="object"&&a.children!==null?f_.Children.forEach(a.children,function(u){u==null||typeof u=="string"||typeof u=="number"||typeof u=="bigint"||_R||(_R=!0,console.error("Cannot infer the option value of complex children. Pass a `value` prop or use a plain string as children to <option>."))}):a.dangerouslySetInnerHTML==null||wR||(wR=!0,console.error("Pass a `value` prop if you set dangerouslyInnerHTML so React knows which value should be selected."))),a.selected==null||vR||(console.error("Use the `defaultValue` or `value` props on <select> instead of setting `selected` on <option>."),vR=!0)}function Cn(){var i=te();return i?`

Check the render method of \``+i+"`.":""}function Se(i,a,u,d){if(i=i.options,a){a={};for(var g=0;g<u.length;g++)a["$"+u[g]]=!0;for(u=0;u<i.length;u++)g=a.hasOwnProperty("$"+i[u].value),i[u].selected!==g&&(i[u].selected=g),g&&d&&(i[u].defaultSelected=!0)}else{for(u=""+Je(u),a=null,g=0;g<i.length;g++){if(i[g].value===u){i[g].selected=!0,d&&(i[g].defaultSelected=!0);return}a!==null||i[g].disabled||(a=i[g])}a!==null&&(a.selected=!0)}}function Qe(i,a){for(i=0;i<SR.length;i++){var u=SR[i];if(a[u]!=null){var d=Zr(a[u]);a.multiple&&!d?console.error("The `%s` prop supplied to <select> must be an array if `multiple` is true.%s",u,Cn()):!a.multiple&&d&&console.error("The `%s` prop supplied to <select> must be a scalar value if `multiple` is false.%s",u,Cn())}}a.value===void 0||a.defaultValue===void 0||NR||(console.error("Select elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled select element and remove one of these props. More info: https://react.dev/link/controlled-components"),NR=!0)}function mt(i,a){a.value===void 0||a.defaultValue===void 0||ER||(console.error("%s contains a textarea with both value and defaultValue props. Textarea elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled textarea and remove one of these props. More info: https://react.dev/link/controlled-components",te()||"A component"),ER=!0),a.children!=null&&a.value==null&&console.error("Use the `defaultValue` or `value` props instead of setting children on <textarea>.")}function et(i,a,u){if(a!=null&&(a=""+Je(a),a!==i.value&&(i.value=a),u==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=u!=null?""+Je(u):""}function Bn(i,a,u,d){if(a==null){if(d!=null){if(u!=null)throw Error("If you supply `defaultValue` on a <textarea>, do not pass children.");if(Zr(d)){if(1<d.length)throw Error("<textarea> can only have at most one child.");d=d[0]}u=d}u==null&&(u=""),a=u}u=Je(a),i.defaultValue=u,d=i.textContent,d===u&&d!==""&&d!==null&&(i.value=d)}function _n(i,a){return i.serverProps===void 0&&i.serverTail.length===0&&i.children.length===1&&3<i.distanceFromLeaf&&i.distanceFromLeaf>15-a?_n(i.children[0],a):i}function on(i){return"  "+"  ".repeat(i)}function wn(i){return"+ "+"  ".repeat(i)}function Zn(i){return"- "+"  ".repeat(i)}function Ds(i){switch(i.tag){case 26:case 27:case 5:return i.type;case 16:return"Lazy";case 13:return"Suspense";case 19:return"SuspenseList";case 0:case 15:return i=i.type,i.displayName||i.name||null;case 11:return i=i.type.render,i.displayName||i.name||null;case 1:return i=i.type,i.displayName||i.name||null;default:return null}}function Gn(i,a){return TR.test(i)?(i=JSON.stringify(i),i.length>a-2?8>a?'{"..."}':"{"+i.slice(0,a-7)+'..."}':"{"+i+"}"):i.length>a?5>a?'{"..."}':i.slice(0,a-3)+"...":i}function gs(i,a,u){var d=120-2*u;if(a===null)return wn(u)+Gn(i,d)+`
`;if(typeof a=="string"){for(var g=0;g<a.length&&g<i.length&&a.charCodeAt(g)===i.charCodeAt(g);g++);return g>d-8&&10<g&&(i="..."+i.slice(g-8),a="..."+a.slice(g-8)),wn(u)+Gn(i,d)+`
`+Zn(u)+Gn(a,d)+`
`}return on(u)+Gn(i,d)+`
`}function qs(i){return Object.prototype.toString.call(i).replace(/^\[object (.*)\]$/,function(a,u){return u})}function Qt(i,a){switch(typeof i){case"string":return i=JSON.stringify(i),i.length>a?5>a?'"..."':i.slice(0,a-4)+'..."':i;case"object":if(i===null)return"null";if(Zr(i))return"[...]";if(i.$$typeof===Ba)return(a=Y(i.type))?"<"+a+">":"<...>";var u=qs(i);if(u==="Object"){u="",a-=2;for(var d in i)if(i.hasOwnProperty(d)){var g=JSON.stringify(d);if(g!=='"'+d+'"'&&(d=g),a-=d.length-2,g=Qt(i[d],15>a?a:15),a-=g.length,0>a){u+=u===""?"...":", ...";break}u+=(u===""?"":",")+d+":"+g}return"{"+u+"}"}return u;case"function":return(a=i.displayName||i.name)?"function "+a:"function";default:return String(i)}}function Jn(i,a){return typeof i!="string"||TR.test(i)?"{"+Qt(i,a-2)+"}":i.length>a-2?5>a?'"..."':'"'+i.slice(0,a-5)+'..."':'"'+i+'"'}function qr(i,a,u){var d=120-u.length-i.length,g=[],v;for(v in a)if(a.hasOwnProperty(v)&&v!=="children"){var R=Jn(a[v],120-u.length-v.length-1);d-=v.length+R.length+2,g.push(v+"="+R)}return g.length===0?u+"<"+i+`>
`:0<d?u+"<"+i+" "+g.join(" ")+`>
`:u+"<"+i+`
`+u+"  "+g.join(`
`+u+"  ")+`
`+u+`>
`}function bs(i,a,u){var d="",g=rn({},a),v;for(v in i)if(i.hasOwnProperty(v)){delete g[v];var R=120-2*u-v.length-2,I=Qt(i[v],R);a.hasOwnProperty(v)?(R=Qt(a[v],R),d+=wn(u)+v+": "+I+`
`,d+=Zn(u)+v+": "+R+`
`):d+=wn(u)+v+": "+I+`
`}for(var q in g)g.hasOwnProperty(q)&&(i=Qt(g[q],120-2*u-q.length-2),d+=Zn(u)+q+": "+i+`
`);return d}function br(i,a,u,d){var g="",v=new Map;for(re in u)u.hasOwnProperty(re)&&v.set(re.toLowerCase(),re);if(v.size===1&&v.has("children"))g+=qr(i,a,on(d));else{for(var R in a)if(a.hasOwnProperty(R)&&R!=="children"){var I=120-2*(d+1)-R.length-1,q=v.get(R.toLowerCase());if(q!==void 0){v.delete(R.toLowerCase());var re=a[R];q=u[q];var Oe=Jn(re,I);I=Jn(q,I),typeof re=="object"&&re!==null&&typeof q=="object"&&q!==null&&qs(re)==="Object"&&qs(q)==="Object"&&(2<Object.keys(re).length||2<Object.keys(q).length||-1<Oe.indexOf("...")||-1<I.indexOf("..."))?g+=on(d+1)+R+`={{
`+bs(re,q,d+2)+on(d+1)+`}}
`:(g+=wn(d+1)+R+"="+Oe+`
`,g+=Zn(d+1)+R+"="+I+`
`)}else g+=on(d+1)+R+"="+Jn(a[R],I)+`
`}v.forEach(function(Le){if(Le!=="children"){var Ie=120-2*(d+1)-Le.length-1;g+=Zn(d+1)+Le+"="+Jn(u[Le],Ie)+`
`}}),g=g===""?on(d)+"<"+i+`>
`:on(d)+"<"+i+`
`+g+on(d)+`>
`}return i=u.children,a=a.children,typeof i=="string"||typeof i=="number"||typeof i=="bigint"?(v="",(typeof a=="string"||typeof a=="number"||typeof a=="bigint")&&(v=""+a),g+=gs(v,""+i,d+1)):(typeof a=="string"||typeof a=="number"||typeof a=="bigint")&&(g=i==null?g+gs(""+a,null,d+1):g+gs(""+a,void 0,d+1)),g}function Mm(i,a){var u=Ds(i);if(u===null){for(u="",i=i.child;i;)u+=Mm(i,a),i=i.sibling;return u}return on(a)+"<"+u+`>
`}function Fd(i,a){var u=_n(i,a);if(u!==i&&(i.children.length!==1||i.children[0]!==u))return on(a)+`...
`+Fd(u,a+1);u="";var d=i.fiber._debugInfo;if(d)for(var g=0;g<d.length;g++){var v=d[g].name;typeof v=="string"&&(u+=on(a)+"<"+v+`>
`,a++)}if(d="",g=i.fiber.pendingProps,i.fiber.tag===6)d=gs(g,i.serverProps,a),a++;else if(v=Ds(i.fiber),v!==null)if(i.serverProps===void 0){d=a;var R=120-2*d-v.length-2,I="";for(re in g)if(g.hasOwnProperty(re)&&re!=="children"){var q=Jn(g[re],15);if(R-=re.length+q.length+2,0>R){I+=" ...";break}I+=" "+re+"="+q}d=on(d)+"<"+v+I+`>
`,a++}else i.serverProps===null?(d=qr(v,g,wn(a)),a++):typeof i.serverProps=="string"?console.error("Should not have matched a non HostText fiber to a Text node. This is a bug in React."):(d=br(v,g,i.serverProps,a),a++);var re="";for(g=i.fiber.child,v=0;g&&v<i.children.length;)R=i.children[v],R.fiber===g?(re+=Fd(R,a),v++):re+=Mm(g,a),g=g.sibling;for(g&&0<i.children.length&&(re+=on(a)+`...
`),g=i.serverTail,i.serverProps===null&&a--,i=0;i<g.length;i++)v=g[i],re=typeof v=="string"?re+(Zn(a)+Gn(v,120-2*a)+`
`):re+qr(v.type,v.props,Zn(a));return u+d+re}function Bd(i){try{return`

`+Fd(i,0)}catch{return""}}function jm(i,a,u){for(var d=a,g=null,v=0;d;)d===i&&(v=0),g={fiber:d,children:g!==null?[g]:[],serverProps:d===a?u:d===i?null:void 0,serverTail:[],distanceFromLeaf:v},v++,d=d.return;return g!==null?Bd(g).replaceAll(/^[+-]/gm,">"):""}function Im(i,a){var u=rn({},i||CR),d={tag:a};return AR.indexOf(a)!==-1&&(u.aTagInScope=null,u.buttonTagInScope=null,u.nobrTagInScope=null),U5.indexOf(a)!==-1&&(u.pTagInButtonScope=null),O5.indexOf(a)!==-1&&a!=="address"&&a!=="div"&&a!=="p"&&(u.listItemTagAutoclosing=null,u.dlItemTagAutoclosing=null),u.current=d,a==="form"&&(u.formTag=d),a==="a"&&(u.aTagInScope=d),a==="button"&&(u.buttonTagInScope=d),a==="nobr"&&(u.nobrTagInScope=d),a==="p"&&(u.pTagInButtonScope=d),a==="li"&&(u.listItemTagAutoclosing=d),(a==="dd"||a==="dt")&&(u.dlItemTagAutoclosing=d),a==="#document"||a==="html"?u.containerTagInScope=null:u.containerTagInScope||(u.containerTagInScope=d),i!==null||a!=="#document"&&a!=="html"&&a!=="body"?u.implicitRootScope===!0&&(u.implicitRootScope=!1):u.implicitRootScope=!0,u}function Om(i,a,u){switch(a){case"select":return i==="hr"||i==="option"||i==="optgroup"||i==="script"||i==="template"||i==="#text";case"optgroup":return i==="option"||i==="#text";case"option":return i==="#text";case"tr":return i==="th"||i==="td"||i==="style"||i==="script"||i==="template";case"tbody":case"thead":case"tfoot":return i==="tr"||i==="style"||i==="script"||i==="template";case"colgroup":return i==="col"||i==="template";case"table":return i==="caption"||i==="colgroup"||i==="tbody"||i==="tfoot"||i==="thead"||i==="style"||i==="script"||i==="template";case"head":return i==="base"||i==="basefont"||i==="bgsound"||i==="link"||i==="meta"||i==="title"||i==="noscript"||i==="noframes"||i==="style"||i==="script"||i==="template";case"html":if(u)break;return i==="head"||i==="body"||i==="frameset";case"frameset":return i==="frame";case"#document":if(!u)return i==="html"}switch(i){case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return a!=="h1"&&a!=="h2"&&a!=="h3"&&a!=="h4"&&a!=="h5"&&a!=="h6";case"rp":case"rt":return V5.indexOf(a)===-1;case"caption":case"col":case"colgroup":case"frameset":case"frame":case"tbody":case"td":case"tfoot":case"th":case"thead":case"tr":return a==null;case"head":return u||a===null;case"html":return u&&a==="#document"||a===null;case"body":return u&&(a==="#document"||a==="html")||a===null}return!0}function xv(i,a){switch(i){case"address":case"article":case"aside":case"blockquote":case"center":case"details":case"dialog":case"dir":case"div":case"dl":case"fieldset":case"figcaption":case"figure":case"footer":case"header":case"hgroup":case"main":case"menu":case"nav":case"ol":case"p":case"section":case"summary":case"ul":case"pre":case"listing":case"table":case"hr":case"xmp":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return a.pTagInButtonScope;case"form":return a.formTag||a.pTagInButtonScope;case"li":return a.listItemTagAutoclosing;case"dd":case"dt":return a.dlItemTagAutoclosing;case"button":return a.buttonTagInScope;case"a":return a.aTagInScope;case"nobr":return a.nobrTagInScope}return null}function Um(i,a){for(;i;){switch(i.tag){case 5:case 26:case 27:if(i.type===a)return i}i=i.return}return null}function Ld(i,a){a=a||CR;var u=a.current;if(a=(u=Om(i,u&&u.tag,a.implicitRootScope)?null:u)?null:xv(i,a),a=u||a,!a)return!0;var d=a.tag;if(a=String(!!u)+"|"+i+"|"+d,Bg[a])return!1;Bg[a]=!0;var g=(a=Qs)?Um(a.return,d):null,v=a!==null&&g!==null?jm(g,a,null):"",R="<"+i+">";return u?(u="",d==="table"&&i==="tr"&&(u+=" Add a <tbody>, <thead> or <tfoot> to your code to match the DOM tree generated by the browser."),console.error(`In HTML, %s cannot be a child of <%s>.%s
This will cause a hydration error.%s`,R,d,u,v)):console.error(`In HTML, %s cannot be a descendant of <%s>.
This will cause a hydration error.%s`,R,d,v),a&&(i=a.return,g===null||i===null||g===i&&i._debugOwner===a._debugOwner||ie(g,function(){console.error(`<%s> cannot contain a nested %s.
See this log for the ancestor stack trace.`,d,R)})),!1}function Vm(i,a,u){if(u||Om("#text",a,!1))return!0;if(u="#text|"+a,Bg[u])return!1;Bg[u]=!0;var d=(u=Qs)?Um(u,a):null;return u=u!==null&&d!==null?jm(d,u,u.tag!==6?{children:null}:null):"",/\S/.test(i)?console.error(`In HTML, text nodes cannot be a child of <%s>.
This will cause a hydration error.%s`,a,u):console.error(`In HTML, whitespace text nodes cannot be a child of <%s>. Make sure you don't have any extra whitespace between tags on each line of your source code.
This will cause a hydration error.%s`,a,u),!1}function zd(i,a){if(a){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=a;return}}i.textContent=a}function $B(i){return i.replace(L5,function(a,u){return u.toUpperCase()})}function qT(i,a,u){var d=a.indexOf("--")===0;d||(-1<a.indexOf("-")?Fu.hasOwnProperty(a)&&Fu[a]||(Fu[a]=!0,console.error("Unsupported style property %s. Did you mean %s?",a,$B(a.replace(B5,"ms-")))):F5.test(a)?Fu.hasOwnProperty(a)&&Fu[a]||(Fu[a]=!0,console.error("Unsupported vendor-prefixed style property %s. Did you mean %s?",a,a.charAt(0).toUpperCase()+a.slice(1))):!PR.test(u)||R_.hasOwnProperty(u)&&R_[u]||(R_[u]=!0,console.error(`Style property values shouldn't contain a semicolon. Try "%s: %s" instead.`,a,u.replace(PR,""))),typeof u=="number"&&(isNaN(u)?DR||(DR=!0,console.error("`NaN` is an invalid value for the `%s` css style property.",a)):isFinite(u)||MR||(MR=!0,console.error("`Infinity` is an invalid value for the `%s` css style property.",a)))),u==null||typeof u=="boolean"||u===""?d?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":d?i.setProperty(a,u):typeof u!="number"||u===0||jR.has(a)?a==="float"?i.cssFloat=u:(B(u,a),i[a]=(""+u).trim()):i[a]=u+"px"}function XT(i,a,u){if(a!=null&&typeof a!="object")throw Error("The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.");if(a&&Object.freeze(a),i=i.style,u!=null){if(a){var d={};if(u){for(var g in u)if(u.hasOwnProperty(g)&&!a.hasOwnProperty(g))for(var v=C_[g]||[g],R=0;R<v.length;R++)d[v[R]]=g}for(var I in a)if(a.hasOwnProperty(I)&&(!u||u[I]!==a[I]))for(g=C_[I]||[I],v=0;v<g.length;v++)d[g[v]]=I;I={};for(var q in a)for(g=C_[q]||[q],v=0;v<g.length;v++)I[g[v]]=q;q={};for(var re in d)if(g=d[re],(v=I[re])&&g!==v&&(R=g+","+v,!q[R])){q[R]=!0,R=console;var Oe=a[g];R.error.call(R,"%s a style property during rerender (%s) when a conflicting property is set (%s) can lead to styling bugs. To avoid this, don't mix shorthand and non-shorthand properties for the same value; instead, replace the shorthand with separate values.",Oe==null||typeof Oe=="boolean"||Oe===""?"Removing":"Updating",g,v)}}for(var Le in u)!u.hasOwnProperty(Le)||a!=null&&a.hasOwnProperty(Le)||(Le.indexOf("--")===0?i.setProperty(Le,""):Le==="float"?i.cssFloat="":i[Le]="");for(var Ie in a)re=a[Ie],a.hasOwnProperty(Ie)&&u[Ie]!==re&&qT(i,Ie,re)}else for(d in a)a.hasOwnProperty(d)&&qT(i,d,a[d])}function $d(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function YT(i){return z5.get(i)||i}function HB(i,a){if(ta.call(Lu,a)&&Lu[a])return!0;if(H5.test(a)){if(i="aria-"+a.slice(4).toLowerCase(),i=IR.hasOwnProperty(i)?i:null,i==null)return console.error("Invalid ARIA attribute `%s`. ARIA attributes follow the pattern aria-* and must be lowercase.",a),Lu[a]=!0;if(a!==i)return console.error("Invalid ARIA attribute `%s`. Did you mean `%s`?",a,i),Lu[a]=!0}if($5.test(a)){if(i=a.toLowerCase(),i=IR.hasOwnProperty(i)?i:null,i==null)return Lu[a]=!0,!1;a!==i&&(console.error("Unknown ARIA attribute `%s`. Did you mean `%s`?",a,i),Lu[a]=!0)}return!0}function WB(i,a){var u=[],d;for(d in a)HB(i,d)||u.push(d);a=u.map(function(g){return"`"+g+"`"}).join(", "),u.length===1?console.error("Invalid aria prop %s on <%s> tag. For details, see https://react.dev/link/invalid-aria-props",a,i):1<u.length&&console.error("Invalid aria props %s on <%s> tag. For details, see https://react.dev/link/invalid-aria-props",a,i)}function qB(i,a,u,d){if(ta.call(ys,a)&&ys[a])return!0;var g=a.toLowerCase();if(g==="onfocusin"||g==="onfocusout")return console.error("React uses onFocus and onBlur instead of onFocusIn and onFocusOut. All React events are normalized to bubble, so onFocusIn and onFocusOut are not needed/supported by React."),ys[a]=!0;if(typeof u=="function"&&(i==="form"&&a==="action"||i==="input"&&a==="formAction"||i==="button"&&a==="formAction"))return!0;if(d!=null){if(i=d.possibleRegistrationNames,d.registrationNameDependencies.hasOwnProperty(a))return!0;if(d=i.hasOwnProperty(g)?i[g]:null,d!=null)return console.error("Invalid event handler property `%s`. Did you mean `%s`?",a,d),ys[a]=!0;if(UR.test(a))return console.error("Unknown event handler property `%s`. It will be ignored.",a),ys[a]=!0}else if(UR.test(a))return W5.test(a)&&console.error("Invalid event handler property `%s`. React events use the camelCase naming convention, for example `onClick`.",a),ys[a]=!0;if(q5.test(a)||X5.test(a))return!0;if(g==="innerhtml")return console.error("Directly setting property `innerHTML` is not permitted. For more information, lookup documentation on `dangerouslySetInnerHTML`."),ys[a]=!0;if(g==="aria")return console.error("The `aria` attribute is reserved for future use in React. Pass individual `aria-` attributes instead."),ys[a]=!0;if(g==="is"&&u!==null&&u!==void 0&&typeof u!="string")return console.error("Received a `%s` for a string attribute `is`. If this is expected, cast the value to a string.",typeof u),ys[a]=!0;if(typeof u=="number"&&isNaN(u))return console.error("Received NaN for the `%s` attribute. If this is expected, cast the value to a string.",a),ys[a]=!0;if(zg.hasOwnProperty(g)){if(g=zg[g],g!==a)return console.error("Invalid DOM property `%s`. Did you mean `%s`?",a,g),ys[a]=!0}else if(a!==g)return console.error("React does not recognize the `%s` prop on a DOM element. If you intentionally want it to appear in the DOM as a custom attribute, spell it as lowercase `%s` instead. If you accidentally passed it from a parent component, remove it from the DOM element.",a,g),ys[a]=!0;switch(a){case"dangerouslySetInnerHTML":case"children":case"style":case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":return!0;case"innerText":case"textContent":return!0}switch(typeof u){case"boolean":switch(a){case"autoFocus":case"checked":case"multiple":case"muted":case"selected":case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":case"capture":case"download":case"inert":return!0;default:return g=a.toLowerCase().slice(0,5),g==="data-"||g==="aria-"?!0:(u?console.error('Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.',u,a,a,u,a):console.error('Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.',u,a,a,u,a,a,a),ys[a]=!0)}case"function":case"symbol":return ys[a]=!0,!1;case"string":if(u==="false"||u==="true"){switch(a){case"checked":case"selected":case"multiple":case"muted":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":case"inert":break;default:return!0}console.error("Received the string `%s` for the boolean attribute `%s`. %s Did you mean %s={%s}?",u,a,u==="false"?"The browser will interpret it as a truthy value.":'Although this works, it will not work as expected if you pass the string "false".',a,u),ys[a]=!0}}return!0}function XB(i,a,u){var d=[],g;for(g in a)qB(i,g,a[g],u)||d.push(g);a=d.map(function(v){return"`"+v+"`"}).join(", "),d.length===1?console.error("Invalid value for prop %s on <%s> tag. Either remove it from the element, or pass a string or number value to keep it in the DOM. For details, see https://react.dev/link/attribute-behavior ",a,i):1<d.length&&console.error("Invalid values for props %s on <%s> tag. Either remove them from the element, or pass a string or number value to keep them in the DOM. For details, see https://react.dev/link/attribute-behavior ",a,i)}function Hd(i){return Y5.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function yv(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}function KT(i){var a=Mr(i);if(a&&(i=a.stateNode)){var u=i[Us]||null;e:switch(i=a.stateNode,a.type){case"input":if(Ut(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),a=u.name,u.type==="radio"&&a!=null){for(u=i;u.parentNode;)u=u.parentNode;for(se(a,"name"),u=u.querySelectorAll('input[name="'+ft(""+a)+'"][type="radio"]'),a=0;a<u.length;a++){var d=u[a];if(d!==i&&d.form===i.form){var g=d[Us]||null;if(!g)throw Error("ReactDOMInput: Mixing React and non-React radio inputs with the same `name` is not supported.");Ut(d,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(a=0;a<u.length;a++)d=u[a],d.form===i.form&&ve(d)}break e;case"textarea":et(i,u.value,u.defaultValue);break e;case"select":a=u.value,a!=null&&Se(i,!!u.multiple,a,!1)}}}function ZT(i,a,u){if(k_)return i(a,u);k_=!0;try{var d=i(a);return d}finally{if(k_=!1,(zu!==null||$u!==null)&&(Ru(),zu&&(a=zu,i=$u,$u=zu=null,KT(a),i)))for(a=0;a<i.length;a++)KT(i[a])}}function Wd(i,a){var u=i.stateNode;if(u===null)return null;var d=u[Us]||null;if(d===null)return null;u=d[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(i=i.type,d=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!d;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error("Expected `"+a+"` listener to be a function, instead got a value of `"+typeof u+"` type.");return u}function GT(){if($g)return $g;var i,a=D_,u=a.length,d,g="value"in Wa?Wa.value:Wa.textContent,v=g.length;for(i=0;i<u&&a[i]===g[i];i++);var R=u-i;for(d=1;d<=R&&a[u-d]===g[v-d];d++);return $g=g.slice(i,1<d?1-d:void 0)}function Fm(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function Bm(){return!0}function QT(){return!1}function Ms(i){function a(u,d,g,v,R){this._reactName=u,this._targetInst=g,this.type=d,this.nativeEvent=v,this.target=R,this.currentTarget=null;for(var I in i)i.hasOwnProperty(I)&&(u=i[I],this[I]=u?u(v):v[I]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Bm:QT,this.isPropagationStopped=QT,this}return rn(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Bm)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Bm)},persist:function(){},isPersistent:Bm}),a}function YB(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=az[i])?!!a[i]:!1}function vv(){return YB}function JT(i,a){switch(i){case"keyup":return yz.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==LR;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function e3(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}function KB(i,a){switch(i){case"compositionend":return e3(a);case"keypress":return a.which!==$R?null:(WR=!0,HR);case"textInput":return i=a.data,i===HR&&WR?null:i;default:return null}}function ZB(i,a){if(Hu)return i==="compositionend"||!O_&&JT(i,a)?(i=GT(),$g=D_=Wa=null,Hu=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return zR&&a.locale!=="ko"?null:a.data;default:return null}}function t3(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!_z[i.type]:a==="textarea"}function GB(i){if(!yo)return!1;i="on"+i;var a=i in document;return a||(a=document.createElement("div"),a.setAttribute(i,"return;"),a=typeof a[i]=="function"),a}function n3(i,a,u,d){zu?$u?$u.push(d):$u=[d]:zu=d,a=Sg(a,"onChange"),0<a.length&&(u=new Hg("onChange","change",null,u,d),i.push({event:u,listeners:a}))}function QB(i){NC(i,0)}function Lm(i){var a=Qn(i);if(ve(a))return i}function r3(i,a){if(i==="change")return a}function s3(){Rh&&(Rh.detachEvent("onpropertychange",i3),kh=Rh=null)}function i3(i){if(i.propertyName==="value"&&Lm(kh)){var a=[];n3(a,kh,i,yv(i)),ZT(QB,a)}}function JB(i,a,u){i==="focusin"?(s3(),Rh=a,kh=u,Rh.attachEvent("onpropertychange",i3)):i==="focusout"&&s3()}function eL(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Lm(kh)}function tL(i,a){if(i==="click")return Lm(a)}function nL(i,a){if(i==="input"||i==="change")return Lm(a)}function rL(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}function qd(i,a){if(vs(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var u=Object.keys(i),d=Object.keys(a);if(u.length!==d.length)return!1;for(d=0;d<u.length;d++){var g=u[d];if(!ta.call(a,g)||!vs(i[g],a[g]))return!1}return!0}function o3(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function a3(i,a){var u=o3(i);i=0;for(var d;u;){if(u.nodeType===3){if(d=i+u.textContent.length,i<=a&&d>=a)return{node:u,offset:a-i};i=d}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=o3(u)}}function l3(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?l3(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function c3(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=st(i.document);a instanceof i.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)i=a.contentWindow;else break;a=st(i.document)}return a}function _v(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}function u3(i,a,u){var d=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;V_||Wu==null||Wu!==st(d)||(d=Wu,"selectionStart"in d&&_v(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Ph&&qd(Ph,d)||(Ph=d,d=Sg(U_,"onSelect"),0<d.length&&(a=new Hg("onSelect","select",null,a,u),i.push({event:a,listeners:d}),a.target=Wu)))}function Zl(i,a){var u={};return u[i.toLowerCase()]=a.toLowerCase(),u["Webkit"+i]="webkit"+a,u["Moz"+i]="moz"+a,u}function Gl(i){if(F_[i])return F_[i];if(!qu[i])return i;var a=qu[i],u;for(u in a)if(a.hasOwnProperty(u)&&u in XR)return F_[i]=a[u];return i}function Oi(i,a){QR.set(i,a),rt(a,[i])}function Xs(i,a){if(typeof i=="object"&&i!==null){var u=L_.get(i);return u!==void 0?u:(a={value:i,source:a,stack:X(a)},L_.set(i,a),a)}return{value:i,source:a,stack:X(a)}}function zm(){for(var i=Xu,a=z_=Xu=0;a<i;){var u=pi[a];pi[a++]=null;var d=pi[a];pi[a++]=null;var g=pi[a];pi[a++]=null;var v=pi[a];if(pi[a++]=null,d!==null&&g!==null){var R=d.pending;R===null?g.next=g:(g.next=R.next,R.next=g),d.pending=g}v!==0&&f3(u,g,v)}}function $m(i,a,u,d){pi[Xu++]=i,pi[Xu++]=a,pi[Xu++]=u,pi[Xu++]=d,z_|=d,i.lanes|=d,i=i.alternate,i!==null&&(i.lanes|=d)}function wv(i,a,u,d){return $m(i,a,u,d),Hm(i)}function js(i,a){return $m(i,null,null,a),Hm(i)}function f3(i,a,u){i.lanes|=u;var d=i.alternate;d!==null&&(d.lanes|=u);for(var g=!1,v=i.return;v!==null;)v.childLanes|=u,d=v.alternate,d!==null&&(d.childLanes|=u),v.tag===22&&(i=v.stateNode,i===null||i._visibility&qg||(g=!0)),i=v,v=v.return;return i.tag===3?(v=i.stateNode,g&&a!==null&&(g=31-xs(u),i=v.hiddenUpdates,d=i[g],d===null?i[g]=[a]:d.push(a),a.lane=u|536870912),v):null}function Hm(i){if(Jh>Hz)throw Ec=Jh=0,ep=xw=null,Error("Maximum update depth exceeded. This can happen when a component repeatedly calls setState inside componentWillUpdate or componentDidUpdate. React limits the number of nested updates to prevent infinite loops.");Ec>Wz&&(Ec=0,ep=null,console.error("Maximum update depth exceeded. This can happen when a component calls setState inside useEffect, but useEffect either doesn't have a dependency array, or one of the dependencies changes on every render.")),i.alternate===null&&(i.flags&4098)!==0&&gC(i);for(var a=i,u=a.return;u!==null;)a.alternate===null&&(a.flags&4098)!==0&&gC(i),a=u,u=a.return;return a.tag===3?a.stateNode:null}function Ql(i){if(mi===null)return i;var a=mi(i);return a===void 0?i:a.current}function Nv(i){if(mi===null)return i;var a=mi(i);return a===void 0?i!=null&&typeof i.render=="function"&&(a=Ql(i.render),i.render!==a)?(a={$$typeof:vh,render:a},i.displayName!==void 0&&(a.displayName=i.displayName),a):i:a.current}function d3(i,a){if(mi===null)return!1;var u=i.elementType;a=a.type;var d=!1,g=typeof a=="object"&&a!==null?a.$$typeof:null;switch(i.tag){case 1:typeof a=="function"&&(d=!0);break;case 0:(typeof a=="function"||g===Gs)&&(d=!0);break;case 11:(g===vh||g===Gs)&&(d=!0);break;case 14:case 15:(g===Ig||g===Gs)&&(d=!0);break;default:return!1}return!!(d&&(i=mi(u),i!==void 0&&i===mi(a)))}function h3(i){mi!==null&&typeof WeakSet=="function"&&(Yu===null&&(Yu=new WeakSet),Yu.add(i))}function Sv(i,a,u){var d=i.alternate,g=i.child,v=i.sibling,R=i.tag,I=i.type,q=null;switch(R){case 0:case 15:case 1:q=I;break;case 11:q=I.render}if(mi===null)throw Error("Expected resolveFamily to be set during hot reload.");var re=!1;I=!1,q!==null&&(q=mi(q),q!==void 0&&(u.has(q)?I=!0:a.has(q)&&(R===1?I=!0:re=!0))),Yu!==null&&(Yu.has(i)||d!==null&&Yu.has(d))&&(I=!0),I&&(i._debugNeedsRemount=!0),(I||re)&&(d=js(i,2),d!==null&&yr(d,i,2)),g===null||I||Sv(g,a,u),v!==null&&Sv(v,a,u)}function sL(i,a,u,d){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null,this.actualDuration=-0,this.actualStartTime=-1.1,this.treeBaseDuration=this.selfBaseDuration=-0,this._debugTask=this._debugStack=this._debugOwner=this._debugInfo=null,this._debugNeedsRemount=!1,this._debugHookTypes=null,ek||typeof Object.preventExtensions!="function"||Object.preventExtensions(this)}function Ev(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Wo(i,a){var u=i.alternate;switch(u===null?(u=b(i.tag,a,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u._debugOwner=i._debugOwner,u._debugStack=i._debugStack,u._debugTask=i._debugTask,u._debugHookTypes=i._debugHookTypes,u.alternate=i,i.alternate=u):(u.pendingProps=a,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null,u.actualDuration=-0,u.actualStartTime=-1.1),u.flags=i.flags&65011712,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,a=i.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext,_debugThenableState:a._debugThenableState},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u.refCleanup=i.refCleanup,u.selfBaseDuration=i.selfBaseDuration,u.treeBaseDuration=i.treeBaseDuration,u._debugInfo=i._debugInfo,u._debugNeedsRemount=i._debugNeedsRemount,u.tag){case 0:case 15:u.type=Ql(i.type);break;case 1:u.type=Ql(i.type);break;case 11:u.type=Nv(i.type)}return u}function p3(i,a){i.flags&=65011714;var u=i.alternate;return u===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null,i.selfBaseDuration=0,i.treeBaseDuration=0):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,a=u.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext,_debugThenableState:a._debugThenableState},i.selfBaseDuration=u.selfBaseDuration,i.treeBaseDuration=u.treeBaseDuration),i}function Tv(i,a,u,d,g,v){var R=0,I=i;if(typeof i=="function")Ev(i)&&(R=1),I=Ql(I);else if(typeof i=="string")R=ge(),R=s5(i,u,R)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case g_:return a=b(31,u,a,g),a.elementType=g_,a.lanes=v,a;case Ou:return Jl(u.children,g,v,a);case jg:R=8,g|=os,g|=Fi;break;case d_:return i=u,d=g,typeof i.id!="string"&&console.error('Profiler must specify an "id" of type `string` as a prop. Received the type `%s` instead.',typeof i.id),a=b(12,i,a,d|Gr),a.elementType=d_,a.lanes=v,a.stateNode={effectDuration:0,passiveEffectDuration:0},a;case p_:return a=b(13,u,a,g),a.elementType=p_,a.lanes=v,a;case m_:return a=b(19,u,a,g),a.elementType=m_,a.lanes=v,a;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case x5:case po:R=10;break e;case h_:R=9;break e;case vh:R=11,I=Nv(I);break e;case Ig:R=14;break e;case Gs:R=16,I=null;break e}I="",(i===void 0||typeof i=="object"&&i!==null&&Object.keys(i).length===0)&&(I+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports."),i===null?u="null":Zr(i)?u="array":i!==void 0&&i.$$typeof===Ba?(u="<"+(Y(i.type)||"Unknown")+" />",I=" Did you accidentally export a JSX literal instead of a component?"):u=typeof i,(R=d?ne(d):null)&&(I+=`

Check the render method of \``+R+"`."),R=29,u=Error("Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: "+(u+"."+I)),I=null}return a=b(R,u,a,g),a.elementType=i,a.type=I,a.lanes=v,a._debugOwner=d,a}function Wm(i,a,u){return a=Tv(i.type,i.key,i.props,i._owner,a,u),a._debugOwner=i._owner,a._debugStack=i._debugStack,a._debugTask=i._debugTask,a}function Jl(i,a,u,d){return i=b(7,i,d,a),i.lanes=u,i}function Av(i,a,u){return i=b(6,i,null,a),i.lanes=u,i}function Cv(i,a,u){return a=b(4,i.children!==null?i.children:[],i.key,a),a.lanes=u,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}function ec(i,a){tc(),Ku[Zu++]=Yg,Ku[Zu++]=Xg,Xg=i,Yg=a}function m3(i,a,u){tc(),gi[bi++]=sa,gi[bi++]=ia,gi[bi++]=hc,hc=i;var d=sa;i=ia;var g=32-xs(d)-1;d&=~(1<<g),u+=1;var v=32-xs(a)+g;if(30<v){var R=g-g%5;v=(d&(1<<R)-1).toString(32),d>>=R,g-=R,sa=1<<32-xs(a)+g|u<<g|d,ia=v+i}else sa=1<<v|u<<g|d,ia=i}function Rv(i){tc(),i.return!==null&&(ec(i,1),m3(i,1,0))}function kv(i){for(;i===Xg;)Xg=Ku[--Zu],Ku[Zu]=null,Yg=Ku[--Zu],Ku[Zu]=null;for(;i===hc;)hc=gi[--bi],gi[bi]=null,ia=gi[--bi],gi[bi]=null,sa=gi[--bi],gi[bi]=null}function tc(){bn||console.error("Expected to be hydrating. This is a bug in React. Please file an issue.")}function nc(i,a){if(i.return===null){if(xi===null)xi={fiber:i,children:[],serverProps:void 0,serverTail:[],distanceFromLeaf:a};else{if(xi.fiber!==i)throw Error("Saw multiple hydration diff roots in a pass. This is a bug in React.");xi.distanceFromLeaf>a&&(xi.distanceFromLeaf=a)}return xi}var u=nc(i.return,a+1).children;return 0<u.length&&u[u.length-1].fiber===i?(u=u[u.length-1],u.distanceFromLeaf>a&&(u.distanceFromLeaf=a),u):(a={fiber:i,children:[],serverProps:void 0,serverTail:[],distanceFromLeaf:a},u.push(a),a)}function Pv(i,a){oa||(i=nc(i,0),i.serverProps=null,a!==null&&(a=UC(a),i.serverTail.push(a)))}function rc(i){var a="",u=xi;throw u!==null&&(xi=null,a=Bd(u)),Kd(Xs(Error(`Hydration failed because the server rendered HTML didn't match the client. As a result this tree will be regenerated on the client. This can happen if a SSR-ed Client Component used:

- A server/client branch \`if (typeof window !== 'undefined')\`.
- Variable input such as \`Date.now()\` or \`Math.random()\` which changes each time it's called.
- Date formatting in a user's locale which doesn't match the server.
- External changing data without sending a snapshot of it along with the HTML.
- Invalid HTML tag nesting.

It can also happen if the client has a browser extension installed which messes with the HTML before React loaded.

https://react.dev/link/hydration-mismatch`+a),i)),$_}function g3(i){var a=i.stateNode,u=i.type,d=i.memoizedProps;switch(a[is]=i,a[Us]=d,Y0(u,d),u){case"dialog":pn("cancel",a),pn("close",a);break;case"iframe":case"object":case"embed":pn("load",a);break;case"video":case"audio":for(u=0;u<tp.length;u++)pn(tp[u],a);break;case"source":pn("error",a);break;case"img":case"image":case"link":pn("error",a),pn("load",a);break;case"details":pn("toggle",a);break;case"input":Nt("input",d),pn("invalid",a),jt(a,d),Fn(a,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),ht(a);break;case"option":Ct(a,d);break;case"select":Nt("select",d),pn("invalid",a),Qe(a,d);break;case"textarea":Nt("textarea",d),pn("invalid",a),mt(a,d),Bn(a,d.value,d.defaultValue,d.children),ht(a)}u=d.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||a.textContent===""+u||d.suppressHydrationWarning===!0||AC(a.textContent,u)?(d.popover!=null&&(pn("beforetoggle",a),pn("toggle",a)),d.onScroll!=null&&pn("scroll",a),d.onScrollEnd!=null&&pn("scrollend",a),d.onClick!=null&&(a.onclick=Eg),a=!0):a=!1,a||rc(i)}function b3(i){for(_s=i.return;_s;)switch(_s.tag){case 5:case 13:vo=!1;return;case 27:case 3:vo=!0;return;default:_s=_s.return}}function Xd(i){if(i!==_s)return!1;if(!bn)return b3(i),bn=!0,!1;var a=i.tag,u;if((u=a!==3&&a!==27)&&((u=a===5)&&(u=i.type,u=!(u!=="form"&&u!=="button")||J0(i.type,i.memoizedProps)),u=!u),u&&cr){for(u=cr;u;){var d=nc(i,0),g=UC(u);d.serverTail.push(g),u=g.type==="Suspense"?FC(u):di(u.nextSibling)}rc(i)}if(b3(i),a===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");cr=FC(i)}else a===27?(a=cr,Fa(i.type)?(i=kw,kw=null,cr=i):cr=a):cr=_s?di(i.stateNode.nextSibling):null;return!0}function Yd(){cr=_s=null,oa=bn=!1}function x3(){var i=pc;return i!==null&&(Ss===null?Ss=i:Ss.push.apply(Ss,i),pc=null),i}function Kd(i){pc===null?pc=[i]:pc.push(i)}function y3(){var i=xi;if(i!==null){xi=null;for(var a=Bd(i);0<i.children.length;)i=i.children[0];ie(i.fiber,function(){console.error(`A tree hydrated but some attributes of the server rendered HTML didn't match the client properties. This won't be patched up. This can happen if a SSR-ed Client Component used:

- A server/client branch \`if (typeof window !== 'undefined')\`.
- Variable input such as \`Date.now()\` or \`Math.random()\` which changes each time it's called.
- Date formatting in a user's locale which doesn't match the server.
- External changing data without sending a snapshot of it along with the HTML.
- Invalid HTML tag nesting.

It can also happen if the client has a browser extension installed which messes with the HTML before React loaded.

%s%s`,"https://react.dev/link/hydration-mismatch",a)})}}function qm(){Gu=Kg=null,Qu=!1}function Pa(i,a,u){de(H_,a._currentValue,i),a._currentValue=u,de(W_,a._currentRenderer,i),a._currentRenderer!==void 0&&a._currentRenderer!==null&&a._currentRenderer!==sk&&console.error("Detected multiple renderers concurrently rendering the same context provider. This is currently unsupported."),a._currentRenderer=sk}function qo(i,a){i._currentValue=H_.current;var u=W_.current;Q(W_,a),i._currentRenderer=u,Q(H_,a)}function Dv(i,a,u){for(;i!==null;){var d=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,d!==null&&(d.childLanes|=a)):d!==null&&(d.childLanes&a)!==a&&(d.childLanes|=a),i===u)break;i=i.return}i!==u&&console.error("Expected to find the propagation root when scheduling context work. This error is likely caused by a bug in React. Please file an issue.")}function Mv(i,a,u,d){var g=i.child;for(g!==null&&(g.return=i);g!==null;){var v=g.dependencies;if(v!==null){var R=g.child;v=v.firstContext;e:for(;v!==null;){var I=v;v=g;for(var q=0;q<a.length;q++)if(I.context===a[q]){v.lanes|=u,I=v.alternate,I!==null&&(I.lanes|=u),Dv(v.return,u,i),d||(R=null);break e}v=I.next}}else if(g.tag===18){if(R=g.return,R===null)throw Error("We just came from a parent so we must have had a parent. This is a bug in React.");R.lanes|=u,v=R.alternate,v!==null&&(v.lanes|=u),Dv(R,u,i),R=null}else R=g.child;if(R!==null)R.return=g;else for(R=g;R!==null;){if(R===i){R=null;break}if(g=R.sibling,g!==null){g.return=R.return,R=g;break}R=R.return}g=R}}function Zd(i,a,u,d){i=null;for(var g=a,v=!1;g!==null;){if(!v){if((g.flags&524288)!==0)v=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var R=g.alternate;if(R===null)throw Error("Should have a current fiber. This is a bug in React.");if(R=R.memoizedProps,R!==null){var I=g.type;vs(g.pendingProps.value,R.value)||(i!==null?i.push(I):i=[I])}}else if(g===Og.current){if(R=g.alternate,R===null)throw Error("Should have a current fiber. This is a bug in React.");R.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(i!==null?i.push(ip):i=[ip])}g=g.return}i!==null&&Mv(a,i,u,d),a.flags|=262144}function Xm(i){for(i=i.firstContext;i!==null;){if(!vs(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function sc(i){Kg=i,Gu=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function er(i){return Qu&&console.error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo()."),v3(Kg,i)}function Ym(i,a){return Kg===null&&sc(i),v3(i,a)}function v3(i,a){var u=a._currentValue;if(a={context:a,memoizedValue:u,next:null},Gu===null){if(i===null)throw Error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");Gu=a,i.dependencies={lanes:0,firstContext:a,_debugThenableState:null},i.flags|=524288}else Gu=Gu.next=a;return u}function jv(){return{controller:new Rz,data:new Map,refCount:0}}function ic(i){i.controller.signal.aborted&&console.warn("A cache instance was retained after it was already freed. This likely indicates a bug in React."),i.refCount++}function Gd(i){i.refCount--,0>i.refCount&&console.warn("A cache instance was released after it was already freed. This likely indicates a bug in React."),i.refCount===0&&kz(Pz,function(){i.controller.abort()})}function Xo(){var i=mc;return mc=0,i}function Km(i){var a=mc;return mc=i,a}function Qd(i){var a=mc;return mc+=i,a}function Iv(i){Vs=Ju(),0>i.actualStartTime&&(i.actualStartTime=Vs)}function Ov(i){if(0<=Vs){var a=Ju()-Vs;i.actualDuration+=a,i.selfBaseDuration=a,Vs=-1}}function _3(i){if(0<=Vs){var a=Ju()-Vs;i.actualDuration+=a,Vs=-1}}function oo(){if(0<=Vs){var i=Ju()-Vs;Vs=-1,mc+=i}}function ao(){Vs=Ju()}function Zm(i){for(var a=i.child;a;)i.actualDuration+=a.actualDuration,a=a.sibling}function iL(i,a){if(Dh===null){var u=Dh=[];q_=0,gc=H0(),ef={status:"pending",value:void 0,then:function(d){u.push(d)}}}return q_++,a.then(w3,w3),a}function w3(){if(--q_===0&&Dh!==null){ef!==null&&(ef.status="fulfilled");var i=Dh;Dh=null,gc=0,ef=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function oL(i,a){var u=[],d={status:"pending",value:null,reason:null,then:function(g){u.push(g)}};return i.then(function(){d.status="fulfilled",d.value=a;for(var g=0;g<u.length;g++)(0,u[g])(a)},function(g){for(d.status="rejected",d.reason=g,g=0;g<u.length;g++)(0,u[g])(void 0)}),d}function Uv(){var i=bc.current;return i!==null?i:Ln.pooledCache}function Gm(i,a){a===null?de(bc,bc.current,i):de(bc,a.pool,i)}function N3(){var i=Uv();return i===null?null:{parent:jr._currentValue,pool:i}}function S3(){return{didWarnAboutUncachedPromise:!1,thenables:[]}}function E3(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Qm(){}function T3(i,a,u){Be.actQueue!==null&&(Be.didUsePromise=!0);var d=i.thenables;switch(u=d[u],u===void 0?d.push(a):u!==a&&(i.didWarnAboutUncachedPromise||(i.didWarnAboutUncachedPromise=!0,console.error("A component was suspended by an uncached promise. Creating promises inside a Client Component or hook is not yet supported, except via a Suspense-compatible library or framework.")),a.then(Qm,Qm),a=u),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,C3(i),i;default:if(typeof a.status=="string")a.then(Qm,Qm);else{if(i=Ln,i!==null&&100<i.shellSuspendCounter)throw Error("An unknown Component is an async Client Component. Only Server Components can be async at the moment. This error is often caused by accidentally adding `'use client'` to a module that was originally written for the server.");i=a,i.status="pending",i.then(function(g){if(a.status==="pending"){var v=a;v.status="fulfilled",v.value=g}},function(g){if(a.status==="pending"){var v=a;v.status="rejected",v.reason=g}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,C3(i),i}throw Bh=a,tb=!0,Fh}}function A3(){if(Bh===null)throw Error("Expected a suspended thenable. This is a bug in React. Please file an issue.");var i=Bh;return Bh=null,tb=!1,i}function C3(i){if(i===Fh||i===eb)throw Error("Hooks are not supported inside an async component. This error is often caused by accidentally adding `'use client'` to a module that was originally written for the server.")}function Vv(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fv(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Da(i){return{lane:i,tag:ck,payload:null,callback:null,next:null}}function Ma(i,a,u){var d=i.updateQueue;if(d===null)return null;if(d=d.shared,K_===d&&!dk){var g=G(i);console.error(`An update (setState, replaceState, or forceUpdate) was scheduled from inside an update function. Update functions should be pure, with zero side-effects. Consider using componentDidUpdate or a callback.

Please update the following component: %s`,g),dk=!0}return(Sn&Ns)!==Js?(g=d.pending,g===null?a.next=a:(a.next=g.next,g.next=a),d.pending=a,a=Hm(i),f3(i,null,u),a):($m(i,d,a,u),Hm(i))}function Jd(i,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194048)!==0)){var d=a.lanes;d&=i.pendingLanes,u|=d,a.lanes=u,He(i,u)}}function Jm(i,a){var u=i.updateQueue,d=i.alternate;if(d!==null&&(d=d.updateQueue,u===d)){var g=null,v=null;if(u=u.firstBaseUpdate,u!==null){do{var R={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};v===null?g=v=R:v=v.next=R,u=u.next}while(u!==null);v===null?g=v=a:v=v.next=a}else g=v=a;u={baseState:d.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:d.shared,callbacks:d.callbacks},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=a:i.next=a,u.lastBaseUpdate=a}function eh(){if(Z_){var i=ef;if(i!==null)throw i}}function th(i,a,u,d){Z_=!1;var g=i.updateQueue;Xa=!1,K_=g.shared;var v=g.firstBaseUpdate,R=g.lastBaseUpdate,I=g.shared.pending;if(I!==null){g.shared.pending=null;var q=I,re=q.next;q.next=null,R===null?v=re:R.next=re,R=q;var Oe=i.alternate;Oe!==null&&(Oe=Oe.updateQueue,I=Oe.lastBaseUpdate,I!==R&&(I===null?Oe.firstBaseUpdate=re:I.next=re,Oe.lastBaseUpdate=q))}if(v!==null){var Le=g.baseState;R=0,Oe=re=q=null,I=v;do{var Ie=I.lane&-536870913,We=Ie!==I.lane;if(We?(dn&Ie)===Ie:(d&Ie)===Ie){Ie!==0&&Ie===gc&&(Z_=!0),Oe!==null&&(Oe=Oe.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{Ie=i;var _t=I,Vt=a,zn=u;switch(_t.tag){case uk:if(_t=_t.payload,typeof _t=="function"){Qu=!0;var mn=_t.call(zn,Le,Vt);if(Ie.mode&os){xe(!0);try{_t.call(zn,Le,Vt)}finally{xe(!1)}}Qu=!1,Le=mn;break e}Le=_t;break e;case Y_:Ie.flags=Ie.flags&-65537|128;case ck:if(mn=_t.payload,typeof mn=="function"){if(Qu=!0,_t=mn.call(zn,Le,Vt),Ie.mode&os){xe(!0);try{mn.call(zn,Le,Vt)}finally{xe(!1)}}Qu=!1}else _t=mn;if(_t==null)break e;Le=rn({},Le,_t);break e;case fk:Xa=!0}}Ie=I.callback,Ie!==null&&(i.flags|=64,We&&(i.flags|=8192),We=g.callbacks,We===null?g.callbacks=[Ie]:We.push(Ie))}else We={lane:Ie,tag:I.tag,payload:I.payload,callback:I.callback,next:null},Oe===null?(re=Oe=We,q=Le):Oe=Oe.next=We,R|=Ie;if(I=I.next,I===null){if(I=g.shared.pending,I===null)break;We=I,I=We.next,We.next=null,g.lastBaseUpdate=We,g.shared.pending=null}}while(!0);Oe===null&&(q=Le),g.baseState=q,g.firstBaseUpdate=re,g.lastBaseUpdate=Oe,v===null&&(g.shared.lanes=0),Ga|=R,i.lanes=R,i.memoizedState=Le}K_=null}function R3(i,a){if(typeof i!="function")throw Error("Invalid argument passed as callback. Expected a function. Instead received: "+i);i.call(a)}function aL(i,a){var u=i.shared.hiddenCallbacks;if(u!==null)for(i.shared.hiddenCallbacks=null,i=0;i<u.length;i++)R3(u[i],a)}function k3(i,a){var u=i.callbacks;if(u!==null)for(i.callbacks=null,i=0;i<u.length;i++)R3(u[i],a)}function P3(i,a){var u=No;de(nb,u,i),de(tf,a,i),No=u|a.baseLanes}function Bv(i){de(nb,No,i),de(tf,tf.current,i)}function Lv(i){No=nb.current,Q(tf,i),Q(nb,i)}function fn(){var i=Fe;_i===null?_i=[i]:_i.push(i)}function it(){var i=Fe;if(_i!==null&&(la++,_i[la]!==i)){var a=G(Ht);if(!hk.has(a)&&(hk.add(a),_i!==null)){for(var u="",d=0;d<=la;d++){var g=_i[d],v=d===la?i:g;for(g=d+1+". "+g;30>g.length;)g+=" ";g+=v+`
`,u+=g}console.error(`React has detected a change in the order of Hooks called by %s. This will lead to bugs and errors if not fixed. For more information, read the Rules of Hooks: https://react.dev/link/rules-of-hooks

   Previous render            Next render
   ------------------------------------------------------
%s   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
`,a,u)}}}function wu(i){i==null||Zr(i)||console.error("%s received a final argument that is not an array (instead, received `%s`). When specified, the final argument must be an array.",Fe,typeof i)}function eg(){var i=G(Ht);mk.has(i)||(mk.add(i),console.error("ReactDOM.useFormState has been renamed to React.useActionState. Please update %s to use React.useActionState.",i))}function xr(){throw Error(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://react.dev/link/invalid-hook-call for tips about how to debug and fix this problem.`)}function zv(i,a){if(zh)return!1;if(a===null)return console.error("%s received a final argument during this render, but not during the previous render. Even though the final argument is optional, its type cannot change between renders.",Fe),!1;i.length!==a.length&&console.error(`The final argument passed to %s changed size between renders. The order and size of this array must remain constant.

Previous: %s
Incoming: %s`,Fe,"["+a.join(", ")+"]","["+i.join(", ")+"]");for(var u=0;u<a.length&&u<i.length;u++)if(!vs(i[u],a[u]))return!1;return!0}function $v(i,a,u,d,g,v){Ya=v,Ht=a,_i=i!==null?i._debugHookTypes:null,la=-1,zh=i!==null&&i.type!==a.type,(Object.prototype.toString.call(u)==="[object AsyncFunction]"||Object.prototype.toString.call(u)==="[object AsyncGeneratorFunction]")&&(v=G(Ht),G_.has(v)||(G_.add(v),console.error("%s is an async Client Component. Only Server Components can be async at the moment. This error is often caused by accidentally adding `'use client'` to a module that was originally written for the server.",v===null?"An unknown Component":"<"+v+">"))),a.memoizedState=null,a.updateQueue=null,a.lanes=0,Be.H=i!==null&&i.memoizedState!==null?J_:_i!==null?gk:Q_,yc=v=(a.mode&os)!==qn;var R=ew(u,d,g);if(yc=!1,rf&&(R=Hv(a,u,d,g)),v){xe(!0);try{R=Hv(a,u,d,g)}finally{xe(!1)}}return D3(i,a),R}function D3(i,a){a._debugHookTypes=_i,a.dependencies===null?aa!==null&&(a.dependencies={lanes:0,firstContext:null,_debugThenableState:aa}):a.dependencies._debugThenableState=aa,Be.H=ib;var u=On!==null&&On.next!==null;if(Ya=0,_i=Fe=Ar=On=Ht=null,la=-1,i!==null&&(i.flags&65011712)!==(a.flags&65011712)&&console.error("Internal React error: Expected static flag was missing. Please notify the React team."),rb=!1,Lh=0,aa=null,u)throw Error("Rendered fewer hooks than expected. This may be caused by an accidental early return statement.");i===null||zr||(i=i.dependencies,i!==null&&Xm(i)&&(zr=!0)),tb?(tb=!1,i=!0):i=!1,i&&(a=G(a)||"Unknown",pk.has(a)||G_.has(a)||(pk.add(a),console.error("`use` was called from inside a try/catch block. This is not allowed and can lead to unexpected behavior. To handle errors triggered by `use`, wrap your component in a error boundary.")))}function Hv(i,a,u,d){Ht=i;var g=0;do{if(rf&&(aa=null),Lh=0,rf=!1,g>=Mz)throw Error("Too many re-renders. React limits the number of renders to prevent an infinite loop.");if(g+=1,zh=!1,Ar=On=null,i.updateQueue!=null){var v=i.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}la=-1,Be.H=bk,v=ew(a,u,d)}while(rf);return v}function lL(){var i=Be.H,a=i.useState()[0];return a=typeof a.then=="function"?nh(a):a,i=i.useState()[0],(On!==null?On.memoizedState:null)!==i&&(Ht.flags|=1024),a}function Wv(){var i=sb!==0;return sb=0,i}function qv(i,a,u){a.updateQueue=i.updateQueue,a.flags=(a.mode&Fi)!==qn?a.flags&-402655237:a.flags&-2053,i.lanes&=~u}function Xv(i){if(rb){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}rb=!1}Ya=0,_i=Ar=On=Ht=null,la=-1,Fe=null,rf=!1,Lh=sb=0,aa=null}function Is(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ar===null?Ht.memoizedState=Ar=i:Ar=Ar.next=i,Ar}function Mn(){if(On===null){var i=Ht.alternate;i=i!==null?i.memoizedState:null}else i=On.next;var a=Ar===null?Ht.memoizedState:Ar.next;if(a!==null)Ar=a,On=i;else{if(i===null)throw Ht.alternate===null?Error("Update hook called on initial render. This is likely a bug in React. Please file an issue."):Error("Rendered more hooks than during the previous render.");On=i,i={memoizedState:On.memoizedState,baseState:On.baseState,baseQueue:On.baseQueue,queue:On.queue,next:null},Ar===null?Ht.memoizedState=Ar=i:Ar=Ar.next=i}return Ar}function Yv(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nh(i){var a=Lh;return Lh+=1,aa===null&&(aa=S3()),i=T3(aa,i,a),a=Ht,(Ar===null?a.memoizedState:Ar.next)===null&&(a=a.alternate,Be.H=a!==null&&a.memoizedState!==null?J_:Q_),i}function ja(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return nh(i);if(i.$$typeof===po)return er(i)}throw Error("An unsupported type was passed to use(): "+String(i))}function oc(i){var a=null,u=Ht.updateQueue;if(u!==null&&(a=u.memoCache),a==null){var d=Ht.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(a={data:d.data.map(function(g){return g.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),u===null&&(u=Yv(),Ht.updateQueue=u),u.memoCache=a,u=a.data[a.index],u===void 0||zh)for(u=a.data[a.index]=Array(i),d=0;d<i;d++)u[d]=y5;else u.length!==i&&console.error("Expected a constant size argument for each invocation of useMemoCache. The previous cache was allocated with size %s but size %s was requested.",u.length,i);return a.index++,u}function Ui(i,a){return typeof a=="function"?a(i):a}function Kv(i,a,u){var d=Is();if(u!==void 0){var g=u(a);if(yc){xe(!0);try{u(a)}finally{xe(!1)}}}else g=a;return d.memoizedState=d.baseState=g,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:g},d.queue=i,i=i.dispatch=dL.bind(null,Ht,i),[d.memoizedState,i]}function Nu(i){var a=Mn();return Zv(a,On,i)}function Zv(i,a,u){var d=i.queue;if(d===null)throw Error("Should have a queue. You are likely calling Hooks conditionally, which is not allowed. (https://react.dev/link/invalid-hook-call)");d.lastRenderedReducer=u;var g=i.baseQueue,v=d.pending;if(v!==null){if(g!==null){var R=g.next;g.next=v.next,v.next=R}a.baseQueue!==g&&console.error("Internal error: Expected work-in-progress queue to be a clone. This is a bug in React."),a.baseQueue=g=v,d.pending=null}if(v=i.baseState,g===null)i.memoizedState=v;else{a=g.next;var I=R=null,q=null,re=a,Oe=!1;do{var Le=re.lane&-536870913;if(Le!==re.lane?(dn&Le)===Le:(Ya&Le)===Le){var Ie=re.revertLane;if(Ie===0)q!==null&&(q=q.next={lane:0,revertLane:0,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null}),Le===gc&&(Oe=!0);else if((Ya&Ie)===Ie){re=re.next,Ie===gc&&(Oe=!0);continue}else Le={lane:0,revertLane:re.revertLane,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null},q===null?(I=q=Le,R=v):q=q.next=Le,Ht.lanes|=Ie,Ga|=Ie;Le=re.action,yc&&u(v,Le),v=re.hasEagerState?re.eagerState:u(v,Le)}else Ie={lane:Le,revertLane:re.revertLane,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null},q===null?(I=q=Ie,R=v):q=q.next=Ie,Ht.lanes|=Le,Ga|=Le;re=re.next}while(re!==null&&re!==a);if(q===null?R=v:q.next=I,!vs(v,i.memoizedState)&&(zr=!0,Oe&&(u=ef,u!==null)))throw u;i.memoizedState=v,i.baseState=R,i.baseQueue=q,d.lastRenderedState=v}return g===null&&(d.lanes=0),[i.memoizedState,d.dispatch]}function rh(i){var a=Mn(),u=a.queue;if(u===null)throw Error("Should have a queue. You are likely calling Hooks conditionally, which is not allowed. (https://react.dev/link/invalid-hook-call)");u.lastRenderedReducer=i;var d=u.dispatch,g=u.pending,v=a.memoizedState;if(g!==null){u.pending=null;var R=g=g.next;do v=i(v,R.action),R=R.next;while(R!==g);vs(v,a.memoizedState)||(zr=!0),a.memoizedState=v,a.baseQueue===null&&(a.baseState=v),u.lastRenderedState=v}return[v,d]}function Gv(i,a,u){var d=Ht,g=Is();if(bn){if(u===void 0)throw Error("Missing getServerSnapshot, which is required for server-rendered content. Will revert to client rendering.");var v=u();nf||v===u()||(console.error("The result of getServerSnapshot should be cached to avoid an infinite loop"),nf=!0)}else{if(v=a(),nf||(u=a(),vs(v,u)||(console.error("The result of getSnapshot should be cached to avoid an infinite loop"),nf=!0)),Ln===null)throw Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");(dn&124)!==0||M3(d,a,v)}return g.memoizedState=v,u={value:v,getSnapshot:a},g.queue=u,ig(I3.bind(null,d,u,i),[i]),d.flags|=2048,Eu(vi|Ir,sg(),j3.bind(null,d,u,v,a),null),v}function tg(i,a,u){var d=Ht,g=Mn(),v=bn;if(v){if(u===void 0)throw Error("Missing getServerSnapshot, which is required for server-rendered content. Will revert to client rendering.");u=u()}else if(u=a(),!nf){var R=a();vs(u,R)||(console.error("The result of getSnapshot should be cached to avoid an infinite loop"),nf=!0)}(R=!vs((On||g).memoizedState,u))&&(g.memoizedState=u,zr=!0),g=g.queue;var I=I3.bind(null,d,g,i);if(Os(2048,Ir,I,[i]),g.getSnapshot!==a||R||Ar!==null&&Ar.memoizedState.tag&vi){if(d.flags|=2048,Eu(vi|Ir,sg(),j3.bind(null,d,g,u,a),null),Ln===null)throw Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");v||(Ya&124)!==0||M3(d,a,u)}return u}function M3(i,a,u){i.flags|=16384,i={getSnapshot:a,value:u},a=Ht.updateQueue,a===null?(a=Yv(),Ht.updateQueue=a,a.stores=[i]):(u=a.stores,u===null?a.stores=[i]:u.push(i))}function j3(i,a,u,d){a.value=u,a.getSnapshot=d,O3(a)&&U3(i)}function I3(i,a,u){return u(function(){O3(a)&&U3(i)})}function O3(i){var a=i.getSnapshot;i=i.value;try{var u=a();return!vs(i,u)}catch{return!0}}function U3(i){var a=js(i,2);a!==null&&yr(a,i,2)}function Qv(i){var a=Is();if(typeof i=="function"){var u=i;if(i=u(),yc){xe(!0);try{u()}finally{xe(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:i},a}function Jv(i){i=Qv(i);var a=i.queue,u=nA.bind(null,Ht,a);return a.dispatch=u,[i.memoizedState,u]}function e0(i){var a=Is();a.memoizedState=a.baseState=i;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=u,a=h0.bind(null,Ht,!0,u),u.dispatch=a,[i,a]}function V3(i,a){var u=Mn();return F3(u,On,i,a)}function F3(i,a,u,d){return i.baseState=u,Zv(i,On,typeof d=="function"?d:Ui)}function B3(i,a){var u=Mn();return On!==null?F3(u,On,i,a):(u.baseState=i,[i,u.queue.dispatch])}function cL(i,a,u,d,g){if(cg(i))throw Error("Cannot update form state while rendering.");if(i=a.action,i!==null){var v={payload:g,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){v.listeners.push(R)}};Be.T!==null?u(!0):v.isTransition=!1,d(v),u=a.pending,u===null?(v.next=a.pending=v,L3(a,v)):(v.next=u.next,a.pending=u.next=v)}}function L3(i,a){var u=a.action,d=a.payload,g=i.state;if(a.isTransition){var v=Be.T,R={};Be.T=R,Be.T._updatedFibers=new Set;try{var I=u(g,d),q=Be.S;q!==null&&q(R,I),z3(i,a,I)}catch(re){t0(i,a,re)}finally{Be.T=v,v===null&&R._updatedFibers&&(i=R._updatedFibers.size,R._updatedFibers.clear(),10<i&&console.warn("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table."))}}else try{R=u(g,d),z3(i,a,R)}catch(re){t0(i,a,re)}}function z3(i,a,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?(u.then(function(d){$3(i,a,d)},function(d){return t0(i,a,d)}),a.isTransition||console.error("An async function with useActionState was called outside of a transition. This is likely not what you intended (for example, isPending will not update correctly). Either call the returned function inside startTransition, or pass it to an `action` or `formAction` prop.")):$3(i,a,u)}function $3(i,a,u){a.status="fulfilled",a.value=u,H3(a),i.state=u,a=i.pending,a!==null&&(u=a.next,u===a?i.pending=null:(u=u.next,a.next=u,L3(i,u)))}function t0(i,a,u){var d=i.pending;if(i.pending=null,d!==null){d=d.next;do a.status="rejected",a.reason=u,H3(a),a=a.next;while(a!==d)}i.action=null}function H3(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function W3(i,a){return a}function Su(i,a){if(bn){var u=Ln.formState;if(u!==null){e:{var d=Ht;if(bn){if(cr){t:{for(var g=cr,v=vo;g.nodeType!==8;){if(!v){g=null;break t}if(g=di(g.nextSibling),g===null){g=null;break t}}v=g.data,g=v===Tw||v===mP?g:null}if(g){cr=di(g.nextSibling),d=g.data===Tw;break e}}rc(d)}d=!1}d&&(a=u[0])}}return u=Is(),u.memoizedState=u.baseState=a,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:W3,lastRenderedState:a},u.queue=d,u=nA.bind(null,Ht,d),d.dispatch=u,d=Qv(!1),v=h0.bind(null,Ht,!1,d.queue),d=Is(),g={state:a,dispatch:null,action:i,pending:null},d.queue=g,u=cL.bind(null,Ht,g,v,u),g.dispatch=u,d.memoizedState=i,[a,u,!1]}function ng(i){var a=Mn();return q3(a,On,i)}function q3(i,a,u){if(a=Zv(i,a,W3)[0],i=Nu(Ui)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var d=nh(a)}catch(R){throw R===Fh?eb:R}else d=a;a=Mn();var g=a.queue,v=g.dispatch;return u!==a.memoizedState&&(Ht.flags|=2048,Eu(vi|Ir,sg(),uL.bind(null,g,u),null)),[d,v,i]}function uL(i,a){i.action=a}function rg(i){var a=Mn(),u=On;if(u!==null)return q3(a,u,i);Mn(),a=a.memoizedState,u=Mn();var d=u.queue.dispatch;return u.memoizedState=i,[a,d,!1]}function Eu(i,a,u,d){return i={tag:i,create:u,deps:d,inst:a,next:null},a=Ht.updateQueue,a===null&&(a=Yv(),Ht.updateQueue=a),u=a.lastEffect,u===null?a.lastEffect=i.next=i:(d=u.next,u.next=i,i.next=d,a.lastEffect=i),i}function sg(){return{destroy:void 0,resource:void 0}}function n0(i){var a=Is();return i={current:i},a.memoizedState=i}function ac(i,a,u,d){var g=Is();d=d===void 0?null:d,Ht.flags|=i,g.memoizedState=Eu(vi|a,sg(),u,d)}function Os(i,a,u,d){var g=Mn();d=d===void 0?null:d;var v=g.memoizedState.inst;On!==null&&d!==null&&zv(d,On.memoizedState.deps)?g.memoizedState=Eu(a,v,u,d):(Ht.flags|=i,g.memoizedState=Eu(vi|a,v,u,d))}function ig(i,a){(Ht.mode&Fi)!==qn&&(Ht.mode&JR)===qn?ac(276826112,Ir,i,a):ac(8390656,Ir,i,a)}function r0(i,a){var u=4194308;return(Ht.mode&Fi)!==qn&&(u|=134217728),ac(u,Qr,i,a)}function X3(i,a){if(typeof a=="function"){i=i();var u=a(i);return function(){typeof u=="function"?u():a(null)}}if(a!=null)return a.hasOwnProperty("current")||console.error("Expected useImperativeHandle() first argument to either be a ref callback or React.createRef() object. Instead received: %s.","an object with keys {"+Object.keys(a).join(", ")+"}"),i=i(),a.current=i,function(){a.current=null}}function s0(i,a,u){typeof a!="function"&&console.error("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",a!==null?typeof a:"null"),u=u!=null?u.concat([i]):null;var d=4194308;(Ht.mode&Fi)!==qn&&(d|=134217728),ac(d,Qr,X3.bind(null,a,i),u)}function og(i,a,u){typeof a!="function"&&console.error("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",a!==null?typeof a:"null"),u=u!=null?u.concat([i]):null,Os(4,Qr,X3.bind(null,a,i),u)}function i0(i,a){return Is().memoizedState=[i,a===void 0?null:a],i}function ag(i,a){var u=Mn();a=a===void 0?null:a;var d=u.memoizedState;return a!==null&&zv(a,d[1])?d[0]:(u.memoizedState=[i,a],i)}function o0(i,a){var u=Is();a=a===void 0?null:a;var d=i();if(yc){xe(!0);try{i()}finally{xe(!1)}}return u.memoizedState=[d,a],d}function lg(i,a){var u=Mn();a=a===void 0?null:a;var d=u.memoizedState;if(a!==null&&zv(a,d[1]))return d[0];if(d=i(),yc){xe(!0);try{i()}finally{xe(!1)}}return u.memoizedState=[d,a],d}function a0(i,a){var u=Is();return l0(u,i,a)}function Y3(i,a){var u=Mn();return Z3(u,On.memoizedState,i,a)}function K3(i,a){var u=Mn();return On===null?l0(u,i,a):Z3(u,On.memoizedState,i,a)}function l0(i,a,u){return u===void 0||(Ya&1073741824)!==0?i.memoizedState=a:(i.memoizedState=u,i=GA(),Ht.lanes|=i,Ga|=i,u)}function Z3(i,a,u,d){return vs(u,a)?u:tf.current!==null?(i=l0(i,u,d),vs(i,a)||(zr=!0),i):(Ya&42)===0?(zr=!0,i.memoizedState=u):(i=GA(),Ht.lanes|=i,Ga|=i,a)}function G3(i,a,u,d,g){var v=Nn.p;Nn.p=v!==0&&v<bo?v:bo;var R=Be.T,I={};Be.T=I,h0(i,!1,a,u),I._updatedFibers=new Set;try{var q=g(),re=Be.S;if(re!==null&&re(I,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var Oe=oL(q,d);sh(i,a,Oe,Zs(i))}else sh(i,a,d,Zs(i))}catch(Le){sh(i,a,{then:function(){},status:"rejected",reason:Le},Zs(i))}finally{Nn.p=v,Be.T=R,R===null&&I._updatedFibers&&(i=I._updatedFibers.size,I._updatedFibers.clear(),10<i&&console.warn("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table."))}}function c0(i,a,u,d){if(i.tag!==5)throw Error("Expected the form instance to be a HostComponent. This is a bug in React.");var g=Q3(i).queue;G3(i,g,a,kc,u===null?p:function(){return J3(i),u(d)})}function Q3(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:kc,baseState:kc,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:kc},next:null};var u={};return a.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:u},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function J3(i){Be.T===null&&console.error("requestFormReset was called outside a transition or action. To fix, move to an action, or wrap with startTransition.");var a=Q3(i).next.queue;sh(i,a,{},Zs(i))}function u0(){var i=Qv(!1);return i=G3.bind(null,Ht,i.queue,!0,!1),Is().memoizedState=i,[!1,i]}function eA(){var i=Nu(Ui)[0],a=Mn().memoizedState;return[typeof i=="boolean"?i:nh(i),a]}function tA(){var i=rh(Ui)[0],a=Mn().memoizedState;return[typeof i=="boolean"?i:nh(i),a]}function lc(){return er(ip)}function f0(){var i=Is(),a=Ln.identifierPrefix;if(bn){var u=ia,d=sa;u=(d&~(1<<32-xs(d)-1)).toString(32)+u,a="«"+a+"R"+u,u=sb++,0<u&&(a+="H"+u.toString(32)),a+="»"}else u=Dz++,a="«"+a+"r"+u.toString(32)+"»";return i.memoizedState=a}function d0(){return Is().memoizedState=fL.bind(null,Ht)}function fL(i,a){for(var u=i.return;u!==null;){switch(u.tag){case 24:case 3:var d=Zs(u);i=Da(d);var g=Ma(u,i,d);g!==null&&(yr(g,u,d),Jd(g,u,d)),u=jv(),a!=null&&g!==null&&console.error("The seed argument is not enabled outside experimental channels."),i.payload={cache:u};return}u=u.return}}function dL(i,a,u){var d=arguments;typeof d[3]=="function"&&console.error("State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect()."),d=Zs(i);var g={lane:d,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};cg(i)?rA(a,g):(g=wv(i,a,g,d),g!==null&&(yr(g,i,d),sA(g,a,d))),Ue(i,d)}function nA(i,a,u){var d=arguments;typeof d[3]=="function"&&console.error("State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect()."),d=Zs(i),sh(i,a,u,d),Ue(i,d)}function sh(i,a,u,d){var g={lane:d,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(cg(i))rA(a,g);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=a.lastRenderedReducer,v!==null)){var R=Be.H;Be.H=Li;try{var I=a.lastRenderedState,q=v(I,u);if(g.hasEagerState=!0,g.eagerState=q,vs(q,I))return $m(i,a,g,0),Ln===null&&zm(),!1}catch{}finally{Be.H=R}}if(u=wv(i,a,g,d),u!==null)return yr(u,i,d),sA(u,a,d),!0}return!1}function h0(i,a,u,d){if(Be.T===null&&gc===0&&console.error("An optimistic state update occurred outside a transition or action. To fix, move the update to an action, or wrap with startTransition."),d={lane:2,revertLane:H0(),action:d,hasEagerState:!1,eagerState:null,next:null},cg(i)){if(a)throw Error("Cannot update optimistic state while rendering.");console.error("Cannot call startTransition while rendering.")}else a=wv(i,u,d,2),a!==null&&yr(a,i,2);Ue(i,2)}function cg(i){var a=i.alternate;return i===Ht||a!==null&&a===Ht}function rA(i,a){rf=rb=!0;var u=i.pending;u===null?a.next=a:(a.next=u.next,u.next=a),i.pending=a}function sA(i,a,u){if((u&4194048)!==0){var d=a.lanes;d&=i.pendingLanes,u|=d,a.lanes=u,He(i,u)}}function Xr(i){var a=tn;return i!=null&&(tn=a===null?i:a.concat(i)),a}function ug(i,a,u){for(var d=Object.keys(i.props),g=0;g<d.length;g++){var v=d[g];if(v!=="children"&&v!=="key"){a===null&&(a=Wm(i,u.mode,0),a._debugInfo=tn,a.return=u),ie(a,function(R){console.error("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",R)},v);break}}}function fg(i){var a=$h;return $h+=1,sf===null&&(sf=S3()),T3(sf,i,a)}function ih(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function dg(i,a){throw a.$$typeof===b5?Error(`A React Element from an older version of React was rendered. This is not supported. It can happen if:
- Multiple copies of the "react" package is used.
- A library pre-bundled an old copy of "react" or "react/jsx-runtime".
- A compiler tries to "inline" JSX instead of using the runtime.`):(i=Object.prototype.toString.call(a),Error("Objects are not valid as a React child (found: "+(i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)+"). If you meant to render a collection of children, use an array instead."))}function hg(i,a){var u=G(i)||"Component";Dk[u]||(Dk[u]=!0,a=a.displayName||a.name||"Component",i.tag===3?console.error(`Functions are not valid as a React child. This may happen if you return %s instead of <%s /> from render. Or maybe you meant to call this function rather than return it.
  root.render(%s)`,a,a,a):console.error(`Functions are not valid as a React child. This may happen if you return %s instead of <%s /> from render. Or maybe you meant to call this function rather than return it.
  <%s>{%s}</%s>`,a,a,u,a,u))}function pg(i,a){var u=G(i)||"Component";Mk[u]||(Mk[u]=!0,a=String(a),i.tag===3?console.error(`Symbols are not valid as a React child.
  root.render(%s)`,a):console.error(`Symbols are not valid as a React child.
  <%s>%s</%s>`,u,a,u))}function iA(i){function a(fe,me){if(i){var Ne=fe.deletions;Ne===null?(fe.deletions=[me],fe.flags|=16):Ne.push(me)}}function u(fe,me){if(!i)return null;for(;me!==null;)a(fe,me),me=me.sibling;return null}function d(fe){for(var me=new Map;fe!==null;)fe.key!==null?me.set(fe.key,fe):me.set(fe.index,fe),fe=fe.sibling;return me}function g(fe,me){return fe=Wo(fe,me),fe.index=0,fe.sibling=null,fe}function v(fe,me,Ne){return fe.index=Ne,i?(Ne=fe.alternate,Ne!==null?(Ne=Ne.index,Ne<me?(fe.flags|=67108866,me):Ne):(fe.flags|=67108866,me)):(fe.flags|=1048576,me)}function R(fe){return i&&fe.alternate===null&&(fe.flags|=67108866),fe}function I(fe,me,Ne,Xe){return me===null||me.tag!==6?(me=Av(Ne,fe.mode,Xe),me.return=fe,me._debugOwner=fe,me._debugTask=fe._debugTask,me._debugInfo=tn,me):(me=g(me,Ne),me.return=fe,me._debugInfo=tn,me)}function q(fe,me,Ne,Xe){var ct=Ne.type;return ct===Ou?(me=Oe(fe,me,Ne.props.children,Xe,Ne.key),ug(Ne,me,fe),me):me!==null&&(me.elementType===ct||d3(me,Ne)||typeof ct=="object"&&ct!==null&&ct.$$typeof===Gs&&Ka(ct)===me.type)?(me=g(me,Ne.props),ih(me,Ne),me.return=fe,me._debugOwner=Ne._owner,me._debugInfo=tn,me):(me=Wm(Ne,fe.mode,Xe),ih(me,Ne),me.return=fe,me._debugInfo=tn,me)}function re(fe,me,Ne,Xe){return me===null||me.tag!==4||me.stateNode.containerInfo!==Ne.containerInfo||me.stateNode.implementation!==Ne.implementation?(me=Cv(Ne,fe.mode,Xe),me.return=fe,me._debugInfo=tn,me):(me=g(me,Ne.children||[]),me.return=fe,me._debugInfo=tn,me)}function Oe(fe,me,Ne,Xe,ct){return me===null||me.tag!==7?(me=Jl(Ne,fe.mode,Xe,ct),me.return=fe,me._debugOwner=fe,me._debugTask=fe._debugTask,me._debugInfo=tn,me):(me=g(me,Ne),me.return=fe,me._debugInfo=tn,me)}function Le(fe,me,Ne){if(typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint")return me=Av(""+me,fe.mode,Ne),me.return=fe,me._debugOwner=fe,me._debugTask=fe._debugTask,me._debugInfo=tn,me;if(typeof me=="object"&&me!==null){switch(me.$$typeof){case Ba:return Ne=Wm(me,fe.mode,Ne),ih(Ne,me),Ne.return=fe,fe=Xr(me._debugInfo),Ne._debugInfo=tn,tn=fe,Ne;case Iu:return me=Cv(me,fe.mode,Ne),me.return=fe,me._debugInfo=tn,me;case Gs:var Xe=Xr(me._debugInfo);return me=Ka(me),fe=Le(fe,me,Ne),tn=Xe,fe}if(Zr(me)||O(me))return Ne=Jl(me,fe.mode,Ne,null),Ne.return=fe,Ne._debugOwner=fe,Ne._debugTask=fe._debugTask,fe=Xr(me._debugInfo),Ne._debugInfo=tn,tn=fe,Ne;if(typeof me.then=="function")return Xe=Xr(me._debugInfo),fe=Le(fe,fg(me),Ne),tn=Xe,fe;if(me.$$typeof===po)return Le(fe,Ym(fe,me),Ne);dg(fe,me)}return typeof me=="function"&&hg(fe,me),typeof me=="symbol"&&pg(fe,me),null}function Ie(fe,me,Ne,Xe){var ct=me!==null?me.key:null;if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number"||typeof Ne=="bigint")return ct!==null?null:I(fe,me,""+Ne,Xe);if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case Ba:return Ne.key===ct?(ct=Xr(Ne._debugInfo),fe=q(fe,me,Ne,Xe),tn=ct,fe):null;case Iu:return Ne.key===ct?re(fe,me,Ne,Xe):null;case Gs:return ct=Xr(Ne._debugInfo),Ne=Ka(Ne),fe=Ie(fe,me,Ne,Xe),tn=ct,fe}if(Zr(Ne)||O(Ne))return ct!==null?null:(ct=Xr(Ne._debugInfo),fe=Oe(fe,me,Ne,Xe,null),tn=ct,fe);if(typeof Ne.then=="function")return ct=Xr(Ne._debugInfo),fe=Ie(fe,me,fg(Ne),Xe),tn=ct,fe;if(Ne.$$typeof===po)return Ie(fe,me,Ym(fe,Ne),Xe);dg(fe,Ne)}return typeof Ne=="function"&&hg(fe,Ne),typeof Ne=="symbol"&&pg(fe,Ne),null}function We(fe,me,Ne,Xe,ct){if(typeof Xe=="string"&&Xe!==""||typeof Xe=="number"||typeof Xe=="bigint")return fe=fe.get(Ne)||null,I(me,fe,""+Xe,ct);if(typeof Xe=="object"&&Xe!==null){switch(Xe.$$typeof){case Ba:return Ne=fe.get(Xe.key===null?Ne:Xe.key)||null,fe=Xr(Xe._debugInfo),me=q(me,Ne,Xe,ct),tn=fe,me;case Iu:return fe=fe.get(Xe.key===null?Ne:Xe.key)||null,re(me,fe,Xe,ct);case Gs:var qt=Xr(Xe._debugInfo);return Xe=Ka(Xe),me=We(fe,me,Ne,Xe,ct),tn=qt,me}if(Zr(Xe)||O(Xe))return Ne=fe.get(Ne)||null,fe=Xr(Xe._debugInfo),me=Oe(me,Ne,Xe,ct,null),tn=fe,me;if(typeof Xe.then=="function")return qt=Xr(Xe._debugInfo),me=We(fe,me,Ne,fg(Xe),ct),tn=qt,me;if(Xe.$$typeof===po)return We(fe,me,Ne,Ym(me,Xe),ct);dg(me,Xe)}return typeof Xe=="function"&&hg(me,Xe),typeof Xe=="symbol"&&pg(me,Xe),null}function _t(fe,me,Ne,Xe){if(typeof Ne!="object"||Ne===null)return Xe;switch(Ne.$$typeof){case Ba:case Iu:c(fe,me,Ne);var ct=Ne.key;if(typeof ct!="string")break;if(Xe===null){Xe=new Set,Xe.add(ct);break}if(!Xe.has(ct)){Xe.add(ct);break}ie(me,function(){console.error("Encountered two children with the same key, `%s`. Keys should be unique so that components maintain their identity across updates. Non-unique keys may cause children to be duplicated and/or omitted — the behavior is unsupported and could change in a future version.",ct)});break;case Gs:Ne=Ka(Ne),_t(fe,me,Ne,Xe)}return Xe}function Vt(fe,me,Ne,Xe){for(var ct=null,qt=null,wt=null,Xt=me,Kt=me=0,Xn=null;Xt!==null&&Kt<Ne.length;Kt++){Xt.index>Kt?(Xn=Xt,Xt=null):Xn=Xt.sibling;var _r=Ie(fe,Xt,Ne[Kt],Xe);if(_r===null){Xt===null&&(Xt=Xn);break}ct=_t(fe,_r,Ne[Kt],ct),i&&Xt&&_r.alternate===null&&a(fe,Xt),me=v(_r,me,Kt),wt===null?qt=_r:wt.sibling=_r,wt=_r,Xt=Xn}if(Kt===Ne.length)return u(fe,Xt),bn&&ec(fe,Kt),qt;if(Xt===null){for(;Kt<Ne.length;Kt++)Xt=Le(fe,Ne[Kt],Xe),Xt!==null&&(ct=_t(fe,Xt,Ne[Kt],ct),me=v(Xt,me,Kt),wt===null?qt=Xt:wt.sibling=Xt,wt=Xt);return bn&&ec(fe,Kt),qt}for(Xt=d(Xt);Kt<Ne.length;Kt++)Xn=We(Xt,fe,Kt,Ne[Kt],Xe),Xn!==null&&(ct=_t(fe,Xn,Ne[Kt],ct),i&&Xn.alternate!==null&&Xt.delete(Xn.key===null?Kt:Xn.key),me=v(Xn,me,Kt),wt===null?qt=Xn:wt.sibling=Xn,wt=Xn);return i&&Xt.forEach(function(pa){return a(fe,pa)}),bn&&ec(fe,Kt),qt}function zn(fe,me,Ne,Xe){if(Ne==null)throw Error("An iterable object provided no iterator.");for(var ct=null,qt=null,wt=me,Xt=me=0,Kt=null,Xn=null,_r=Ne.next();wt!==null&&!_r.done;Xt++,_r=Ne.next()){wt.index>Xt?(Kt=wt,wt=null):Kt=wt.sibling;var pa=Ie(fe,wt,_r.value,Xe);if(pa===null){wt===null&&(wt=Kt);break}Xn=_t(fe,pa,_r.value,Xn),i&&wt&&pa.alternate===null&&a(fe,wt),me=v(pa,me,Xt),qt===null?ct=pa:qt.sibling=pa,qt=pa,wt=Kt}if(_r.done)return u(fe,wt),bn&&ec(fe,Xt),ct;if(wt===null){for(;!_r.done;Xt++,_r=Ne.next())wt=Le(fe,_r.value,Xe),wt!==null&&(Xn=_t(fe,wt,_r.value,Xn),me=v(wt,me,Xt),qt===null?ct=wt:qt.sibling=wt,qt=wt);return bn&&ec(fe,Xt),ct}for(wt=d(wt);!_r.done;Xt++,_r=Ne.next())Kt=We(wt,fe,Xt,_r.value,Xe),Kt!==null&&(Xn=_t(fe,Kt,_r.value,Xn),i&&Kt.alternate!==null&&wt.delete(Kt.key===null?Xt:Kt.key),me=v(Kt,me,Xt),qt===null?ct=Kt:qt.sibling=Kt,qt=Kt);return i&&wt.forEach(function(i8){return a(fe,i8)}),bn&&ec(fe,Xt),ct}function mn(fe,me,Ne,Xe){if(typeof Ne=="object"&&Ne!==null&&Ne.type===Ou&&Ne.key===null&&(ug(Ne,null,fe),Ne=Ne.props.children),typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case Ba:var ct=Xr(Ne._debugInfo);e:{for(var qt=Ne.key;me!==null;){if(me.key===qt){if(qt=Ne.type,qt===Ou){if(me.tag===7){u(fe,me.sibling),Xe=g(me,Ne.props.children),Xe.return=fe,Xe._debugOwner=Ne._owner,Xe._debugInfo=tn,ug(Ne,Xe,fe),fe=Xe;break e}}else if(me.elementType===qt||d3(me,Ne)||typeof qt=="object"&&qt!==null&&qt.$$typeof===Gs&&Ka(qt)===me.type){u(fe,me.sibling),Xe=g(me,Ne.props),ih(Xe,Ne),Xe.return=fe,Xe._debugOwner=Ne._owner,Xe._debugInfo=tn,fe=Xe;break e}u(fe,me);break}else a(fe,me);me=me.sibling}Ne.type===Ou?(Xe=Jl(Ne.props.children,fe.mode,Xe,Ne.key),Xe.return=fe,Xe._debugOwner=fe,Xe._debugTask=fe._debugTask,Xe._debugInfo=tn,ug(Ne,Xe,fe),fe=Xe):(Xe=Wm(Ne,fe.mode,Xe),ih(Xe,Ne),Xe.return=fe,Xe._debugInfo=tn,fe=Xe)}return fe=R(fe),tn=ct,fe;case Iu:e:{for(ct=Ne,Ne=ct.key;me!==null;){if(me.key===Ne)if(me.tag===4&&me.stateNode.containerInfo===ct.containerInfo&&me.stateNode.implementation===ct.implementation){u(fe,me.sibling),Xe=g(me,ct.children||[]),Xe.return=fe,fe=Xe;break e}else{u(fe,me);break}else a(fe,me);me=me.sibling}Xe=Cv(ct,fe.mode,Xe),Xe.return=fe,fe=Xe}return R(fe);case Gs:return ct=Xr(Ne._debugInfo),Ne=Ka(Ne),fe=mn(fe,me,Ne,Xe),tn=ct,fe}if(Zr(Ne))return ct=Xr(Ne._debugInfo),fe=Vt(fe,me,Ne,Xe),tn=ct,fe;if(O(Ne)){if(ct=Xr(Ne._debugInfo),qt=O(Ne),typeof qt!="function")throw Error("An object is not an iterable. This error is likely caused by a bug in React. Please file an issue.");var wt=qt.call(Ne);return wt===Ne?(fe.tag!==0||Object.prototype.toString.call(fe.type)!=="[object GeneratorFunction]"||Object.prototype.toString.call(wt)!=="[object Generator]")&&(kk||console.error("Using Iterators as children is unsupported and will likely yield unexpected results because enumerating a generator mutates it. You may convert it to an array with `Array.from()` or the `[...spread]` operator before rendering. You can also use an Iterable that can iterate multiple times over the same items."),kk=!0):Ne.entries!==qt||nw||(console.error("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),nw=!0),fe=zn(fe,me,wt,Xe),tn=ct,fe}if(typeof Ne.then=="function")return ct=Xr(Ne._debugInfo),fe=mn(fe,me,fg(Ne),Xe),tn=ct,fe;if(Ne.$$typeof===po)return mn(fe,me,Ym(fe,Ne),Xe);dg(fe,Ne)}return typeof Ne=="string"&&Ne!==""||typeof Ne=="number"||typeof Ne=="bigint"?(ct=""+Ne,me!==null&&me.tag===6?(u(fe,me.sibling),Xe=g(me,ct),Xe.return=fe,fe=Xe):(u(fe,me),Xe=Av(ct,fe.mode,Xe),Xe.return=fe,Xe._debugOwner=fe,Xe._debugTask=fe._debugTask,Xe._debugInfo=tn,fe=Xe),R(fe)):(typeof Ne=="function"&&hg(fe,Ne),typeof Ne=="symbol"&&pg(fe,Ne),u(fe,me))}return function(fe,me,Ne,Xe){var ct=tn;tn=null;try{$h=0;var qt=mn(fe,me,Ne,Xe);return sf=null,qt}catch(Xn){if(Xn===Fh||Xn===eb)throw Xn;var wt=b(29,Xn,null,fe.mode);wt.lanes=Xe,wt.return=fe;var Xt=wt._debugInfo=tn;if(wt._debugOwner=fe._debugOwner,wt._debugTask=fe._debugTask,Xt!=null){for(var Kt=Xt.length-1;0<=Kt;Kt--)if(typeof Xt[Kt].stack=="string"){wt._debugOwner=Xt[Kt],wt._debugTask=Xt[Kt].debugTask;break}}return wt}finally{tn=ct}}}function Ia(i){var a=i.alternate;de(Or,Or.current&af,i),de(wi,i,i),wo===null&&(a===null||tf.current!==null||a.memoizedState!==null)&&(wo=i)}function oA(i){if(i.tag===22){if(de(Or,Or.current,i),de(wi,i,i),wo===null){var a=i.alternate;a!==null&&a.memoizedState!==null&&(wo=i)}}else Oa(i)}function Oa(i){de(Or,Or.current,i),de(wi,wi.current,i)}function Yo(i){Q(wi,i),wo===i&&(wo=null),Q(Or,i)}function mg(i){for(var a=i;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data===fa||t_(u)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function p0(i){if(i!==null&&typeof i!="function"){var a=String(i);Wk.has(a)||(Wk.add(a),console.error("Expected the last optional `callback` argument to be a function. Instead received: %s.",i))}}function m0(i,a,u,d){var g=i.memoizedState,v=u(d,g);if(i.mode&os){xe(!0);try{v=u(d,g)}finally{xe(!1)}}v===void 0&&(a=Y(a)||"Component",Lk.has(a)||(Lk.add(a),console.error("%s.getDerivedStateFromProps(): A valid state object (or null) must be returned. You have returned undefined.",a))),g=v==null?g:rn({},g,v),i.memoizedState=g,i.lanes===0&&(i.updateQueue.baseState=g)}function aA(i,a,u,d,g,v,R){var I=i.stateNode;if(typeof I.shouldComponentUpdate=="function"){if(u=I.shouldComponentUpdate(d,v,R),i.mode&os){xe(!0);try{u=I.shouldComponentUpdate(d,v,R)}finally{xe(!1)}}return u===void 0&&console.error("%s.shouldComponentUpdate(): Returned undefined instead of a boolean value. Make sure to return true or false.",Y(a)||"Component"),u}return a.prototype&&a.prototype.isPureReactComponent?!qd(u,d)||!qd(g,v):!0}function lA(i,a,u,d){var g=a.state;typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,d),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,d),a.state!==g&&(i=G(i)||"Component",Ok.has(i)||(Ok.add(i),console.error("%s.componentWillReceiveProps(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",i)),rw.enqueueReplaceState(a,a.state,null))}function cc(i,a){var u=a;if("ref"in a){u={};for(var d in a)d!=="ref"&&(u[d]=a[d])}if(i=i.defaultProps){u===a&&(u=rn({},u));for(var g in i)u[g]===void 0&&(u[g]=i[g])}return u}function cA(i){sw(i),console.warn(`%s

%s
`,lf?"An error occurred in the <"+lf+"> component.":"An error occurred in one of your React components.",`Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://react.dev/link/error-boundaries to learn more about error boundaries.`)}function uA(i){var a=lf?"The above error occurred in the <"+lf+"> component.":"The above error occurred in one of your React components.",u="React will try to recreate this component tree from scratch using the error boundary you provided, "+((iw||"Anonymous")+".");if(typeof i=="object"&&i!==null&&typeof i.environmentName=="string"){var d=i.environmentName;i=[`%o

%s

%s
`,i,a,u].slice(0),typeof i[0]=="string"?i.splice(0,1,NP+i[0],SP,Sb+d+Sb,EP):i.splice(0,0,NP,SP,Sb+d+Sb,EP),i.unshift(console),d=r8.apply(console.error,i),d()}else console.error(`%o

%s

%s
`,i,a,u)}function fA(i){sw(i)}function gg(i,a){try{lf=a.source?G(a.source):null,iw=null;var u=a.value;if(Be.actQueue!==null)Be.thrownErrors.push(u);else{var d=i.onUncaughtError;d(u,{componentStack:a.stack})}}catch(g){setTimeout(function(){throw g})}}function dA(i,a,u){try{lf=u.source?G(u.source):null,iw=G(a);var d=i.onCaughtError;d(u.value,{componentStack:u.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function g0(i,a,u){return u=Da(u),u.tag=Y_,u.payload={element:null},u.callback=function(){ie(a.source,gg,i,a)},u}function b0(i){return i=Da(i),i.tag=Y_,i}function x0(i,a,u,d){var g=u.type.getDerivedStateFromError;if(typeof g=="function"){var v=d.value;i.payload=function(){return g(v)},i.callback=function(){h3(u),ie(d.source,dA,a,u,d)}}var R=u.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(i.callback=function(){h3(u),ie(d.source,dA,a,u,d),typeof g!="function"&&(Ja===null?Ja=new Set([this]):Ja.add(this)),jz(this,d),typeof g=="function"||(u.lanes&2)===0&&console.error("%s: Error boundaries should implement getDerivedStateFromError(). In that method, return a state update to display an error message or fallback UI.",G(u)||"Unknown")})}function hL(i,a,u,d,g){if(u.flags|=32768,Vi&&dh(i,g),d!==null&&typeof d=="object"&&typeof d.then=="function"){if(a=u.alternate,a!==null&&Zd(a,u,g,!0),bn&&(oa=!0),u=wi.current,u!==null){switch(u.tag){case 13:return wo===null?U0():u.alternate===null&&ur===ua&&(ur=cw),u.flags&=-257,u.flags|=65536,u.lanes=g,d===X_?u.flags|=16384:(a=u.updateQueue,a===null?u.updateQueue=new Set([d]):a.add(d),B0(i,d,g)),!1;case 22:return u.flags|=65536,d===X_?u.flags|=16384:(a=u.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([d])},u.updateQueue=a):(u=a.retryQueue,u===null?a.retryQueue=new Set([d]):u.add(d)),B0(i,d,g)),!1}throw Error("Unexpected Suspense handler tag ("+u.tag+"). This is a bug in React.")}return B0(i,d,g),U0(),!1}if(bn)return oa=!0,a=wi.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=g,d!==$_&&Kd(Xs(Error("There was an error while hydrating but React was able to recover by instead client rendering from the nearest Suspense boundary.",{cause:d}),u))):(d!==$_&&Kd(Xs(Error("There was an error while hydrating but React was able to recover by instead client rendering the entire root.",{cause:d}),u)),i=i.current.alternate,i.flags|=65536,g&=-g,i.lanes|=g,d=Xs(d,u),g=g0(i.stateNode,d,g),Jm(i,g),ur!==vc&&(ur=df)),!1;var v=Xs(Error("There was an error during concurrent rendering but React was able to recover by instead synchronously rendering the entire root.",{cause:d}),u);if(Gh===null?Gh=[v]:Gh.push(v),ur!==vc&&(ur=df),a===null)return!0;d=Xs(d,u),u=a;do{switch(u.tag){case 3:return u.flags|=65536,i=g&-g,u.lanes|=i,i=g0(u.stateNode,d,i),Jm(u,i),!1;case 1:if(a=u.type,v=u.stateNode,(u.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Ja===null||!Ja.has(v))))return u.flags|=65536,g&=-g,u.lanes|=g,g=b0(g),x0(g,i,u,d),Jm(u,g),!1}u=u.return}while(u!==null);return!1}function Yr(i,a,u,d){a.child=i===null?jk(a,null,u,d):of(a,i.child,u,d)}function hA(i,a,u,d,g){u=u.render;var v=a.ref;if("ref"in d){var R={};for(var I in d)I!=="ref"&&(R[I]=d[I])}else R=d;return sc(a),Pe(a),d=$v(i,a,u,R,v,g),I=Wv(),qe(),i!==null&&!zr?(qv(i,a,g),Ko(i,a,g)):(bn&&I&&Rv(a),a.flags|=1,Yr(i,a,d,g),a.child)}function pA(i,a,u,d,g){if(i===null){var v=u.type;return typeof v=="function"&&!Ev(v)&&v.defaultProps===void 0&&u.compare===null?(u=Ql(v),a.tag=15,a.type=u,v0(a,v),mA(i,a,u,d,g)):(i=Tv(u.type,null,d,a,a.mode,g),i.ref=a.ref,i.return=a,a.child=i)}if(v=i.child,!T0(i,g)){var R=v.memoizedProps;if(u=u.compare,u=u!==null?u:qd,u(R,d)&&i.ref===a.ref)return Ko(i,a,g)}return a.flags|=1,i=Wo(v,d),i.ref=a.ref,i.return=a,a.child=i}function mA(i,a,u,d,g){if(i!==null){var v=i.memoizedProps;if(qd(v,d)&&i.ref===a.ref&&a.type===i.type)if(zr=!1,a.pendingProps=d=v,T0(i,g))(i.flags&131072)!==0&&(zr=!0);else return a.lanes=i.lanes,Ko(i,a,g)}return y0(i,a,u,d,g)}function gA(i,a,u){var d=a.pendingProps,g=d.children,v=i!==null?i.memoizedState:null;if(d.mode==="hidden"){if((a.flags&128)!==0){if(d=v!==null?v.baseLanes|u:u,i!==null){for(g=a.child=i.child,v=0;g!==null;)v=v|g.lanes|g.childLanes,g=g.sibling;a.childLanes=v&~d}else a.childLanes=0,a.child=null;return bA(i,a,d,u)}if((u&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&Gm(a,v!==null?v.cachePool:null),v!==null?P3(a,v):Bv(a),oA(a);else return a.lanes=a.childLanes=536870912,bA(i,a,v!==null?v.baseLanes|u:u,u)}else v!==null?(Gm(a,v.cachePool),P3(a,v),Oa(a),a.memoizedState=null):(i!==null&&Gm(a,null),Bv(a),Oa(a));return Yr(i,a,g,u),a.child}function bA(i,a,u,d){var g=Uv();return g=g===null?null:{parent:jr._currentValue,pool:g},a.memoizedState={baseLanes:u,cachePool:g},i!==null&&Gm(a,null),Bv(a),oA(a),i!==null&&Zd(i,a,d,!0),null}function bg(i,a){var u=a.ref;if(u===null)i!==null&&i.ref!==null&&(a.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error("Expected ref to be a function, an object returned by React.createRef(), or undefined/null.");(i===null||i.ref!==u)&&(a.flags|=4194816)}}function y0(i,a,u,d,g){if(u.prototype&&typeof u.prototype.render=="function"){var v=Y(u)||"Unknown";Xk[v]||(console.error("The <%s /> component appears to have a render method, but doesn't extend React.Component. This is likely to cause errors. Change %s to extend React.Component instead.",v,v),Xk[v]=!0)}return a.mode&os&&Bi.recordLegacyContextWarning(a,null),i===null&&(v0(a,a.type),u.contextTypes&&(v=Y(u)||"Unknown",Kk[v]||(Kk[v]=!0,console.error("%s uses the legacy contextTypes API which was removed in React 19. Use React.createContext() with React.useContext() instead. (https://react.dev/link/legacy-context)",v)))),sc(a),Pe(a),u=$v(i,a,u,d,void 0,g),d=Wv(),qe(),i!==null&&!zr?(qv(i,a,g),Ko(i,a,g)):(bn&&d&&Rv(a),a.flags|=1,Yr(i,a,u,g),a.child)}function xA(i,a,u,d,g,v){return sc(a),Pe(a),la=-1,zh=i!==null&&i.type!==a.type,a.updateQueue=null,u=Hv(a,d,u,g),D3(i,a),d=Wv(),qe(),i!==null&&!zr?(qv(i,a,v),Ko(i,a,v)):(bn&&d&&Rv(a),a.flags|=1,Yr(i,a,u,v),a.child)}function yA(i,a,u,d,g){switch(l(a)){case!1:var v=a.stateNode,R=new a.type(a.memoizedProps,v.context).state;v.updater.enqueueSetState(v,R,null);break;case!0:a.flags|=128,a.flags|=65536,v=Error("Simulated error coming from DevTools");var I=g&-g;if(a.lanes|=I,R=Ln,R===null)throw Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");I=b0(I),x0(I,R,a,Xs(v,a)),Jm(a,I)}if(sc(a),a.stateNode===null){if(R=qa,v=u.contextType,"contextType"in u&&v!==null&&(v===void 0||v.$$typeof!==po)&&!Hk.has(u)&&(Hk.add(u),I=v===void 0?" However, it is set to undefined. This can be caused by a typo or by mixing up named and default imports. This can also happen due to a circular dependency, so try moving the createContext() call to a separate file.":typeof v!="object"?" However, it is set to a "+typeof v+".":v.$$typeof===h_?" Did you accidentally pass the Context.Consumer instead?":" However, it is set to an object with keys {"+Object.keys(v).join(", ")+"}.",console.error("%s defines an invalid contextType. contextType should point to the Context object returned by React.createContext().%s",Y(u)||"Component",I)),typeof v=="object"&&v!==null&&(R=er(v)),v=new u(d,R),a.mode&os){xe(!0);try{v=new u(d,R)}finally{xe(!1)}}if(R=a.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=rw,a.stateNode=v,v._reactInternals=a,v._reactInternalInstance=Ik,typeof u.getDerivedStateFromProps=="function"&&R===null&&(R=Y(u)||"Component",Uk.has(R)||(Uk.add(R),console.error("`%s` uses `getDerivedStateFromProps` but its initial state is %s. This is not recommended. Instead, define the initial state by assigning an object to `this.state` in the constructor of `%s`. This ensures that `getDerivedStateFromProps` arguments have a consistent shape.",R,v.state===null?"null":"undefined",R))),typeof u.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"){var q=I=R=null;if(typeof v.componentWillMount=="function"&&v.componentWillMount.__suppressDeprecationWarning!==!0?R="componentWillMount":typeof v.UNSAFE_componentWillMount=="function"&&(R="UNSAFE_componentWillMount"),typeof v.componentWillReceiveProps=="function"&&v.componentWillReceiveProps.__suppressDeprecationWarning!==!0?I="componentWillReceiveProps":typeof v.UNSAFE_componentWillReceiveProps=="function"&&(I="UNSAFE_componentWillReceiveProps"),typeof v.componentWillUpdate=="function"&&v.componentWillUpdate.__suppressDeprecationWarning!==!0?q="componentWillUpdate":typeof v.UNSAFE_componentWillUpdate=="function"&&(q="UNSAFE_componentWillUpdate"),R!==null||I!==null||q!==null){v=Y(u)||"Component";var re=typeof u.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";Fk.has(v)||(Fk.add(v),console.error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

%s uses %s but also contains the following legacy lifecycles:%s%s%s

The above lifecycles should be removed. Learn more about this warning here:
https://react.dev/link/unsafe-component-lifecycles`,v,re,R!==null?`
  `+R:"",I!==null?`
  `+I:"",q!==null?`
  `+q:""))}}v=a.stateNode,R=Y(u)||"Component",v.render||(u.prototype&&typeof u.prototype.render=="function"?console.error("No `render` method found on the %s instance: did you accidentally return an object from the constructor?",R):console.error("No `render` method found on the %s instance: you may have forgotten to define `render`.",R)),!v.getInitialState||v.getInitialState.isReactClassApproved||v.state||console.error("getInitialState was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Did you mean to define a state property instead?",R),v.getDefaultProps&&!v.getDefaultProps.isReactClassApproved&&console.error("getDefaultProps was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Use a static property to define defaultProps instead.",R),v.contextType&&console.error("contextType was defined as an instance property on %s. Use a static property to define contextType instead.",R),u.childContextTypes&&!$k.has(u)&&($k.add(u),console.error("%s uses the legacy childContextTypes API which was removed in React 19. Use React.createContext() instead. (https://react.dev/link/legacy-context)",R)),u.contextTypes&&!zk.has(u)&&(zk.add(u),console.error("%s uses the legacy contextTypes API which was removed in React 19. Use React.createContext() with static contextType instead. (https://react.dev/link/legacy-context)",R)),typeof v.componentShouldUpdate=="function"&&console.error("%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",R),u.prototype&&u.prototype.isPureReactComponent&&typeof v.shouldComponentUpdate<"u"&&console.error("%s has a method called shouldComponentUpdate(). shouldComponentUpdate should not be used when extending React.PureComponent. Please extend React.Component if shouldComponentUpdate is used.",Y(u)||"A pure component"),typeof v.componentDidUnmount=="function"&&console.error("%s has a method called componentDidUnmount(). But there is no such lifecycle method. Did you mean componentWillUnmount()?",R),typeof v.componentDidReceiveProps=="function"&&console.error("%s has a method called componentDidReceiveProps(). But there is no such lifecycle method. If you meant to update the state in response to changing props, use componentWillReceiveProps(). If you meant to fetch data or run side-effects or mutations after React has updated the UI, use componentDidUpdate().",R),typeof v.componentWillRecieveProps=="function"&&console.error("%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",R),typeof v.UNSAFE_componentWillRecieveProps=="function"&&console.error("%s has a method called UNSAFE_componentWillRecieveProps(). Did you mean UNSAFE_componentWillReceiveProps()?",R),I=v.props!==d,v.props!==void 0&&I&&console.error("When calling super() in `%s`, make sure to pass up the same props that your component's constructor was passed.",R),v.defaultProps&&console.error("Setting defaultProps as an instance property on %s is not supported and will be ignored. Instead, define defaultProps as a static property on %s.",R,R),typeof v.getSnapshotBeforeUpdate!="function"||typeof v.componentDidUpdate=="function"||Vk.has(u)||(Vk.add(u),console.error("%s: getSnapshotBeforeUpdate() should be used with componentDidUpdate(). This component defines getSnapshotBeforeUpdate() only.",Y(u))),typeof v.getDerivedStateFromProps=="function"&&console.error("%s: getDerivedStateFromProps() is defined as an instance method and will be ignored. Instead, declare it as a static method.",R),typeof v.getDerivedStateFromError=="function"&&console.error("%s: getDerivedStateFromError() is defined as an instance method and will be ignored. Instead, declare it as a static method.",R),typeof u.getSnapshotBeforeUpdate=="function"&&console.error("%s: getSnapshotBeforeUpdate() is defined as a static method and will be ignored. Instead, declare it as an instance method.",R),(I=v.state)&&(typeof I!="object"||Zr(I))&&console.error("%s.state: must be set to an object or null",R),typeof v.getChildContext=="function"&&typeof u.childContextTypes!="object"&&console.error("%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",R),v=a.stateNode,v.props=d,v.state=a.memoizedState,v.refs={},Vv(a),R=u.contextType,v.context=typeof R=="object"&&R!==null?er(R):qa,v.state===d&&(R=Y(u)||"Component",Bk.has(R)||(Bk.add(R),console.error("%s: It is not recommended to assign props directly to state because updates to props won't be reflected in state. In most cases, it is better to use props directly.",R))),a.mode&os&&Bi.recordLegacyContextWarning(a,v),Bi.recordUnsafeLifecycleWarnings(a,v),v.state=a.memoizedState,R=u.getDerivedStateFromProps,typeof R=="function"&&(m0(a,u,R,d),v.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(R=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),R!==v.state&&(console.error("%s.componentWillMount(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",G(a)||"Component"),rw.enqueueReplaceState(v,v.state,null)),th(a,d,v,g),eh(),v.state=a.memoizedState),typeof v.componentDidMount=="function"&&(a.flags|=4194308),(a.mode&Fi)!==qn&&(a.flags|=134217728),v=!0}else if(i===null){v=a.stateNode;var Oe=a.memoizedProps;I=cc(u,Oe),v.props=I;var Le=v.context;q=u.contextType,R=qa,typeof q=="object"&&q!==null&&(R=er(q)),re=u.getDerivedStateFromProps,q=typeof re=="function"||typeof v.getSnapshotBeforeUpdate=="function",Oe=a.pendingProps!==Oe,q||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(Oe||Le!==R)&&lA(a,v,d,R),Xa=!1;var Ie=a.memoizedState;v.state=Ie,th(a,d,v,g),eh(),Le=a.memoizedState,Oe||Ie!==Le||Xa?(typeof re=="function"&&(m0(a,u,re,d),Le=a.memoizedState),(I=Xa||aA(a,u,I,d,Ie,Le,R))?(q||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(a.flags|=4194308),(a.mode&Fi)!==qn&&(a.flags|=134217728)):(typeof v.componentDidMount=="function"&&(a.flags|=4194308),(a.mode&Fi)!==qn&&(a.flags|=134217728),a.memoizedProps=d,a.memoizedState=Le),v.props=d,v.state=Le,v.context=R,v=I):(typeof v.componentDidMount=="function"&&(a.flags|=4194308),(a.mode&Fi)!==qn&&(a.flags|=134217728),v=!1)}else{v=a.stateNode,Fv(i,a),R=a.memoizedProps,q=cc(u,R),v.props=q,re=a.pendingProps,Ie=v.context,Le=u.contextType,I=qa,typeof Le=="object"&&Le!==null&&(I=er(Le)),Oe=u.getDerivedStateFromProps,(Le=typeof Oe=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(R!==re||Ie!==I)&&lA(a,v,d,I),Xa=!1,Ie=a.memoizedState,v.state=Ie,th(a,d,v,g),eh();var We=a.memoizedState;R!==re||Ie!==We||Xa||i!==null&&i.dependencies!==null&&Xm(i.dependencies)?(typeof Oe=="function"&&(m0(a,u,Oe,d),We=a.memoizedState),(q=Xa||aA(a,u,q,d,Ie,We,I)||i!==null&&i.dependencies!==null&&Xm(i.dependencies))?(Le||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(d,We,I),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(d,We,I)),typeof v.componentDidUpdate=="function"&&(a.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof v.componentDidUpdate!="function"||R===i.memoizedProps&&Ie===i.memoizedState||(a.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||R===i.memoizedProps&&Ie===i.memoizedState||(a.flags|=1024),a.memoizedProps=d,a.memoizedState=We),v.props=d,v.state=We,v.context=I,v=q):(typeof v.componentDidUpdate!="function"||R===i.memoizedProps&&Ie===i.memoizedState||(a.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||R===i.memoizedProps&&Ie===i.memoizedState||(a.flags|=1024),v=!1)}if(I=v,bg(i,a),R=(a.flags&128)!==0,I||R){if(I=a.stateNode,ze(a),R&&typeof u.getDerivedStateFromError!="function")u=null,Vs=-1;else{if(Pe(a),u=vk(I),a.mode&os){xe(!0);try{vk(I)}finally{xe(!1)}}qe()}a.flags|=1,i!==null&&R?(a.child=of(a,i.child,null,g),a.child=of(a,null,u,g)):Yr(i,a,u,g),a.memoizedState=I.state,i=a.child}else i=Ko(i,a,g);return g=a.stateNode,v&&g.props!==d&&(cf||console.error("It looks like %s is reassigning its own `this.props` while rendering. This is not supported and can lead to confusing bugs.",G(a)||"a component"),cf=!0),i}function vA(i,a,u,d){return Yd(),a.flags|=256,Yr(i,a,u,d),a.child}function v0(i,a){a&&a.childContextTypes&&console.error(`childContextTypes cannot be defined on a function component.
  %s.childContextTypes = ...`,a.displayName||a.name||"Component"),typeof a.getDerivedStateFromProps=="function"&&(i=Y(a)||"Unknown",Zk[i]||(console.error("%s: Function components do not support getDerivedStateFromProps.",i),Zk[i]=!0)),typeof a.contextType=="object"&&a.contextType!==null&&(a=Y(a)||"Unknown",Yk[a]||(console.error("%s: Function components do not support contextType.",a),Yk[a]=!0))}function _0(i){return{baseLanes:i,cachePool:N3()}}function w0(i,a,u){return i=i!==null?i.childLanes&~u:0,a&&(i|=ti),i}function _A(i,a,u){var d,g=a.pendingProps;o(a)&&(a.flags|=128);var v=!1,R=(a.flags&128)!==0;if((d=R)||(d=i!==null&&i.memoizedState===null?!1:(Or.current&Hh)!==0),d&&(v=!0,a.flags&=-129),d=(a.flags&32)!==0,a.flags&=-33,i===null){if(bn){if(v?Ia(a):Oa(a),bn){var I=cr,q;if(!(q=!I)){e:{var re=I;for(q=vo;re.nodeType!==8;){if(!q){q=null;break e}if(re=di(re.nextSibling),re===null){q=null;break e}}q=re}q!==null?(tc(),a.memoizedState={dehydrated:q,treeContext:hc!==null?{id:sa,overflow:ia}:null,retryLane:536870912,hydrationErrors:null},re=b(18,null,null,qn),re.stateNode=q,re.return=a,a.child=re,_s=a,cr=null,q=!0):q=!1,q=!q}q&&(Pv(a,I),rc(a))}if(I=a.memoizedState,I!==null&&(I=I.dehydrated,I!==null))return t_(I)?a.lanes=32:a.lanes=536870912,null;Yo(a)}return I=g.children,g=g.fallback,v?(Oa(a),v=a.mode,I=xg({mode:"hidden",children:I},v),g=Jl(g,v,u,null),I.return=a,g.return=a,I.sibling=g,a.child=I,v=a.child,v.memoizedState=_0(u),v.childLanes=w0(i,d,u),a.memoizedState=aw,g):(Ia(a),N0(a,I))}var Oe=i.memoizedState;if(Oe!==null&&(I=Oe.dehydrated,I!==null)){if(R)a.flags&256?(Ia(a),a.flags&=-257,a=S0(i,a,u)):a.memoizedState!==null?(Oa(a),a.child=i.child,a.flags|=128,a=null):(Oa(a),v=g.fallback,I=a.mode,g=xg({mode:"visible",children:g.children},I),v=Jl(v,I,u,null),v.flags|=2,g.return=a,v.return=a,g.sibling=v,a.child=g,of(a,i.child,null,u),g=a.child,g.memoizedState=_0(u),g.childLanes=w0(i,d,u),a.memoizedState=aw,a=v);else if(Ia(a),bn&&console.error("We should not be hydrating here. This is a bug in React. Please file a bug."),t_(I)){if(d=I.nextSibling&&I.nextSibling.dataset,d){q=d.dgst;var Le=d.msg;re=d.stck;var Ie=d.cstck}I=Le,d=q,g=re,q=v=Ie,v=Error(I||"The server could not finish this Suspense boundary, likely due to an error during server rendering. Switched to client rendering."),v.stack=g||"",v.digest=d,d=q===void 0?null:q,g={value:v,source:null,stack:d},typeof d=="string"&&L_.set(v,g),Kd(g),a=S0(i,a,u)}else if(zr||Zd(i,a,u,!1),d=(u&i.childLanes)!==0,zr||d){if(d=Ln,d!==null&&(g=u&-u,g=(g&42)!==0?1:$e(g),g=(g&(d.suspendedLanes|u))!==0?0:g,g!==0&&g!==Oe.retryLane))throw Oe.retryLane=g,js(i,g),yr(d,i,g),qk;I.data===fa||U0(),a=S0(i,a,u)}else I.data===fa?(a.flags|=192,a.child=i.child,a=null):(i=Oe.treeContext,cr=di(I.nextSibling),_s=a,bn=!0,pc=null,oa=!1,xi=null,vo=!1,i!==null&&(tc(),gi[bi++]=sa,gi[bi++]=ia,gi[bi++]=hc,sa=i.id,ia=i.overflow,hc=a),a=N0(a,g.children),a.flags|=4096);return a}return v?(Oa(a),v=g.fallback,I=a.mode,q=i.child,re=q.sibling,g=Wo(q,{mode:"hidden",children:g.children}),g.subtreeFlags=q.subtreeFlags&65011712,re!==null?v=Wo(re,v):(v=Jl(v,I,u,null),v.flags|=2),v.return=a,g.return=a,g.sibling=v,a.child=g,g=v,v=a.child,I=i.child.memoizedState,I===null?I=_0(u):(q=I.cachePool,q!==null?(re=jr._currentValue,q=q.parent!==re?{parent:re,pool:re}:q):q=N3(),I={baseLanes:I.baseLanes|u,cachePool:q}),v.memoizedState=I,v.childLanes=w0(i,d,u),a.memoizedState=aw,g):(Ia(a),u=i.child,i=u.sibling,u=Wo(u,{mode:"visible",children:g.children}),u.return=a,u.sibling=null,i!==null&&(d=a.deletions,d===null?(a.deletions=[i],a.flags|=16):d.push(i)),a.child=u,a.memoizedState=null,u)}function N0(i,a){return a=xg({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function xg(i,a){return i=b(22,i,null,a),i.lanes=0,i.stateNode={_visibility:qg,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function S0(i,a,u){return of(a,i.child,null,u),i=N0(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function wA(i,a,u){i.lanes|=a;var d=i.alternate;d!==null&&(d.lanes|=a),Dv(i.return,a,u)}function NA(i,a){var u=Zr(i);return i=!u&&typeof O(i)=="function",u||i?(u=u?"array":"iterable",console.error("A nested %s was passed to row #%s in <SuspenseList />. Wrap it in an additional SuspenseList to configure its revealOrder: <SuspenseList revealOrder=...> ... <SuspenseList revealOrder=...>{%s}</SuspenseList> ... </SuspenseList>",u,a,u),!1):!0}function E0(i,a,u,d,g){var v=i.memoizedState;v===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:d,tail:u,tailMode:g}:(v.isBackwards=a,v.rendering=null,v.renderingStartTime=0,v.last=d,v.tail=u,v.tailMode=g)}function SA(i,a,u){var d=a.pendingProps,g=d.revealOrder,v=d.tail;if(d=d.children,g!==void 0&&g!=="forwards"&&g!=="backwards"&&g!=="together"&&!Gk[g])if(Gk[g]=!0,typeof g=="string")switch(g.toLowerCase()){case"together":case"forwards":case"backwards":console.error('"%s" is not a valid value for revealOrder on <SuspenseList />. Use lowercase "%s" instead.',g,g.toLowerCase());break;case"forward":case"backward":console.error('"%s" is not a valid value for revealOrder on <SuspenseList />. React uses the -s suffix in the spelling. Use "%ss" instead.',g,g.toLowerCase());break;default:console.error('"%s" is not a supported revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?',g)}else console.error('%s is not a supported value for revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?',g);v===void 0||ow[v]||(v!=="collapsed"&&v!=="hidden"?(ow[v]=!0,console.error('"%s" is not a supported value for tail on <SuspenseList />. Did you mean "collapsed" or "hidden"?',v)):g!=="forwards"&&g!=="backwards"&&(ow[v]=!0,console.error('<SuspenseList tail="%s" /> is only valid if revealOrder is "forwards" or "backwards". Did you mean to specify revealOrder="forwards"?',v)));e:if((g==="forwards"||g==="backwards")&&d!==void 0&&d!==null&&d!==!1)if(Zr(d)){for(var R=0;R<d.length;R++)if(!NA(d[R],R))break e}else if(R=O(d),typeof R=="function"){if(R=R.call(d))for(var I=R.next(),q=0;!I.done;I=R.next()){if(!NA(I.value,q))break e;q++}}else console.error('A single row was passed to a <SuspenseList revealOrder="%s" />. This is not useful since it needs multiple rows. Did you mean to pass multiple children or an array?',g);if(Yr(i,a,d,u),d=Or.current,(d&Hh)!==0)d=d&af|Hh,a.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&wA(i,u,a);else if(i.tag===19)wA(i,u,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}d&=af}switch(de(Or,d,a),g){case"forwards":for(u=a.child,g=null;u!==null;)i=u.alternate,i!==null&&mg(i)===null&&(g=u),u=u.sibling;u=g,u===null?(g=a.child,a.child=null):(g=u.sibling,u.sibling=null),E0(a,!1,g,u,v);break;case"backwards":for(u=null,g=a.child,a.child=null;g!==null;){if(i=g.alternate,i!==null&&mg(i)===null){a.child=g;break}i=g.sibling,g.sibling=u,u=g,g=i}E0(a,!0,u,null,v);break;case"together":E0(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Ko(i,a,u){if(i!==null&&(a.dependencies=i.dependencies),Vs=-1,Ga|=a.lanes,(u&a.childLanes)===0)if(i!==null){if(Zd(i,a,u,!1),(u&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error("Resuming work not yet implemented.");if(a.child!==null){for(i=a.child,u=Wo(i,i.pendingProps),a.child=u,u.return=a;i.sibling!==null;)i=i.sibling,u=u.sibling=Wo(i,i.pendingProps),u.return=a;u.sibling=null}return a.child}function T0(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&Xm(i)))}function pL(i,a,u){switch(a.tag){case 3:le(a,a.stateNode.containerInfo),Pa(a,jr,i.memoizedState.cache),Yd();break;case 27:case 5:je(a);break;case 4:le(a,a.stateNode.containerInfo);break;case 10:Pa(a,a.type,a.memoizedProps.value);break;case 12:(u&a.childLanes)!==0&&(a.flags|=4),a.flags|=2048;var d=a.stateNode;d.effectDuration=-0,d.passiveEffectDuration=-0;break;case 13:if(d=a.memoizedState,d!==null)return d.dehydrated!==null?(Ia(a),a.flags|=128,null):(u&a.child.childLanes)!==0?_A(i,a,u):(Ia(a),i=Ko(i,a,u),i!==null?i.sibling:null);Ia(a);break;case 19:var g=(i.flags&128)!==0;if(d=(u&a.childLanes)!==0,d||(Zd(i,a,u,!1),d=(u&a.childLanes)!==0),g){if(d)return SA(i,a,u);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),de(Or,Or.current,a),d)break;return null;case 22:case 23:return a.lanes=0,gA(i,a,u);case 24:Pa(a,jr,i.memoizedState.cache)}return Ko(i,a,u)}function A0(i,a,u){if(a._debugNeedsRemount&&i!==null){u=Tv(a.type,a.key,a.pendingProps,a._debugOwner||null,a.mode,a.lanes),u._debugStack=a._debugStack,u._debugTask=a._debugTask;var d=a.return;if(d===null)throw Error("Cannot swap the root fiber.");if(i.alternate=null,a.alternate=null,u.index=a.index,u.sibling=a.sibling,u.return=a.return,u.ref=a.ref,u._debugInfo=a._debugInfo,a===d.child)d.child=u;else{var g=d.child;if(g===null)throw Error("Expected parent to have a child.");for(;g.sibling!==a;)if(g=g.sibling,g===null)throw Error("Expected to find the previous sibling.");g.sibling=u}return a=d.deletions,a===null?(d.deletions=[i],d.flags|=16):a.push(i),u.flags|=2,u}if(i!==null)if(i.memoizedProps!==a.pendingProps||a.type!==i.type)zr=!0;else{if(!T0(i,u)&&(a.flags&128)===0)return zr=!1,pL(i,a,u);zr=(i.flags&131072)!==0}else zr=!1,(d=bn)&&(tc(),d=(a.flags&1048576)!==0),d&&(d=a.index,tc(),m3(a,Yg,d));switch(a.lanes=0,a.tag){case 16:e:if(d=a.pendingProps,i=Ka(a.elementType),a.type=i,typeof i=="function")Ev(i)?(d=cc(i,d),a.tag=1,a.type=i=Ql(i),a=yA(null,a,i,d,u)):(a.tag=0,v0(a,i),a.type=i=Ql(i),a=y0(null,a,i,d,u));else{if(i!=null){if(g=i.$$typeof,g===vh){a.tag=11,a.type=i=Nv(i),a=hA(null,a,i,d,u);break e}else if(g===Ig){a.tag=14,a=pA(null,a,i,d,u);break e}}throw a="",i!==null&&typeof i=="object"&&i.$$typeof===Gs&&(a=" Did you wrap a component in React.lazy() more than once?"),i=Y(i)||i,Error("Element type is invalid. Received a promise that resolves to: "+i+". Lazy element type must resolve to a class or function."+a)}return a;case 0:return y0(i,a,a.type,a.pendingProps,u);case 1:return d=a.type,g=cc(d,a.pendingProps),yA(i,a,d,g,u);case 3:e:{if(le(a,a.stateNode.containerInfo),i===null)throw Error("Should have a current fiber. This is a bug in React.");d=a.pendingProps;var v=a.memoizedState;g=v.element,Fv(i,a),th(a,d,null,u);var R=a.memoizedState;if(d=R.cache,Pa(a,jr,d),d!==v.cache&&Mv(a,[jr],u,!0),eh(),d=R.element,v.isDehydrated)if(v={element:d,isDehydrated:!1,cache:R.cache},a.updateQueue.baseState=v,a.memoizedState=v,a.flags&256){a=vA(i,a,d,u);break e}else if(d!==g){g=Xs(Error("This root received an early update, before anything was able hydrate. Switched the entire root to client rendering."),a),Kd(g),a=vA(i,a,d,u);break e}else{switch(i=a.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(cr=di(i.firstChild),_s=a,bn=!0,pc=null,oa=!1,xi=null,vo=!0,i=jk(a,null,d,u),a.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(Yd(),d===g){a=Ko(i,a,u);break e}Yr(i,a,d,u)}a=a.child}return a;case 26:return bg(i,a),i===null?(i=$C(a.type,null,a.pendingProps,null))?a.memoizedState=i:bn||(i=a.type,u=a.pendingProps,d=pe(za.current),d=Tg(d).createElement(i),d[is]=a,d[Us]=u,Kr(d,i,u),Ee(d),a.stateNode=d):a.memoizedState=$C(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return je(a),i===null&&bn&&(d=pe(za.current),g=ge(),d=a.stateNode=LC(a.type,a.pendingProps,d,g,!1),oa||(g=DC(d,a.type,a.pendingProps,g),g!==null&&(nc(a,0).serverProps=g)),_s=a,vo=!0,g=cr,Fa(a.type)?(kw=g,cr=di(d.firstChild)):cr=g),Yr(i,a,a.pendingProps.children,u),bg(i,a),i===null&&(a.flags|=4194304),a.child;case 5:return i===null&&bn&&(v=ge(),d=Ld(a.type,v.ancestorInfo),g=cr,(R=!g)||(R=GL(g,a.type,a.pendingProps,vo),R!==null?(a.stateNode=R,oa||(v=DC(R,a.type,a.pendingProps,v),v!==null&&(nc(a,0).serverProps=v)),_s=a,cr=di(R.firstChild),vo=!1,v=!0):v=!1,R=!v),R&&(d&&Pv(a,g),rc(a))),je(a),g=a.type,v=a.pendingProps,R=i!==null?i.memoizedProps:null,d=v.children,J0(g,v)?d=null:R!==null&&J0(g,R)&&(a.flags|=32),a.memoizedState!==null&&(g=$v(i,a,lL,null,null,u),ip._currentValue=g),bg(i,a),Yr(i,a,d,u),a.child;case 6:return i===null&&bn&&(i=a.pendingProps,u=ge(),d=u.ancestorInfo.current,i=d!=null?Vm(i,d.tag,u.ancestorInfo.implicitRootScope):!0,u=cr,(d=!u)||(d=QL(u,a.pendingProps,vo),d!==null?(a.stateNode=d,_s=a,cr=null,d=!0):d=!1,d=!d),d&&(i&&Pv(a,u),rc(a))),null;case 13:return _A(i,a,u);case 4:return le(a,a.stateNode.containerInfo),d=a.pendingProps,i===null?a.child=of(a,null,d,u):Yr(i,a,d,u),a.child;case 11:return hA(i,a,a.type,a.pendingProps,u);case 7:return Yr(i,a,a.pendingProps,u),a.child;case 8:return Yr(i,a,a.pendingProps.children,u),a.child;case 12:return a.flags|=4,a.flags|=2048,d=a.stateNode,d.effectDuration=-0,d.passiveEffectDuration=-0,Yr(i,a,a.pendingProps.children,u),a.child;case 10:return d=a.type,g=a.pendingProps,v=g.value,"value"in g||Qk||(Qk=!0,console.error("The `value` prop is required for the `<Context.Provider>`. Did you misspell it or forget to pass it?")),Pa(a,d,v),Yr(i,a,g.children,u),a.child;case 9:return g=a.type._context,d=a.pendingProps.children,typeof d!="function"&&console.error("A context consumer was rendered with multiple children, or a child that isn't a function. A context consumer expects a single child that is a function. If you did pass a function, make sure there is no trailing or leading whitespace around it."),sc(a),g=er(g),Pe(a),d=ew(d,g,void 0),qe(),a.flags|=1,Yr(i,a,d,u),a.child;case 14:return pA(i,a,a.type,a.pendingProps,u);case 15:return mA(i,a,a.type,a.pendingProps,u);case 19:return SA(i,a,u);case 31:return d=a.pendingProps,u=a.mode,d={mode:d.mode,children:d.children},i===null?(i=xg(d,u),i.ref=a.ref,a.child=i,i.return=a,a=i):(i=Wo(i.child,d),i.ref=a.ref,a.child=i,i.return=a,a=i),a;case 22:return gA(i,a,u);case 24:return sc(a),d=er(jr),i===null?(g=Uv(),g===null&&(g=Ln,v=jv(),g.pooledCache=v,ic(v),v!==null&&(g.pooledCacheLanes|=u),g=v),a.memoizedState={parent:d,cache:g},Vv(a),Pa(a,jr,g)):((i.lanes&u)!==0&&(Fv(i,a),th(a,null,null,u),eh()),g=i.memoizedState,v=a.memoizedState,g.parent!==d?(g={parent:d,cache:d},a.memoizedState=g,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=g),Pa(a,jr,d)):(d=v.cache,Pa(a,jr,d),d!==g.cache&&Mv(a,[jr],u,!0))),Yr(i,a,a.pendingProps.children,u),a.child;case 29:throw a.pendingProps}throw Error("Unknown unit of work tag ("+a.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function Zo(i){i.flags|=4}function EA(i,a){if(a.type!=="stylesheet"||(a.state.loading&Ni)!==Rc)i.flags&=-16777217;else if(i.flags|=16777216,!YC(a)){if(a=wi.current,a!==null&&((dn&4194048)===dn?wo!==null:(dn&62914560)!==dn&&(dn&536870912)===0||a!==wo))throw Bh=X_,lk;i.flags|=8192}}function yg(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?ar():536870912,i.lanes|=a,Nc|=a)}function oh(i,a){if(!bn)switch(i.tailMode){case"hidden":a=i.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:d.sibling=null}}function tr(i){var a=i.alternate!==null&&i.alternate.child===i.child,u=0,d=0;if(a)if((i.mode&Gr)!==qn){for(var g=i.selfBaseDuration,v=i.child;v!==null;)u|=v.lanes|v.childLanes,d|=v.subtreeFlags&65011712,d|=v.flags&65011712,g+=v.treeBaseDuration,v=v.sibling;i.treeBaseDuration=g}else for(g=i.child;g!==null;)u|=g.lanes|g.childLanes,d|=g.subtreeFlags&65011712,d|=g.flags&65011712,g.return=i,g=g.sibling;else if((i.mode&Gr)!==qn){g=i.actualDuration,v=i.selfBaseDuration;for(var R=i.child;R!==null;)u|=R.lanes|R.childLanes,d|=R.subtreeFlags,d|=R.flags,g+=R.actualDuration,v+=R.treeBaseDuration,R=R.sibling;i.actualDuration=g,i.treeBaseDuration=v}else for(g=i.child;g!==null;)u|=g.lanes|g.childLanes,d|=g.subtreeFlags,d|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=d,i.childLanes=u,a}function mL(i,a,u){var d=a.pendingProps;switch(kv(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tr(a),null;case 1:return tr(a),null;case 3:return u=a.stateNode,d=null,i!==null&&(d=i.memoizedState.cache),a.memoizedState.cache!==d&&(a.flags|=2048),qo(jr,a),ye(a),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&(Xd(a)?(y3(),Zo(a)):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,x3())),tr(a),null;case 26:return u=a.memoizedState,i===null?(Zo(a),u!==null?(tr(a),EA(a,u)):(tr(a),a.flags&=-16777217)):u?u!==i.memoizedState?(Zo(a),tr(a),EA(a,u)):(tr(a),a.flags&=-16777217):(i.memoizedProps!==d&&Zo(a),tr(a),a.flags&=-16777217),null;case 27:_e(a),u=pe(za.current);var g=a.type;if(i!==null&&a.stateNode!=null)i.memoizedProps!==d&&Zo(a);else{if(!d){if(a.stateNode===null)throw Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");return tr(a),null}i=ge(),Xd(a)?g3(a):(i=LC(g,d,u,i,!0),a.stateNode=i,Zo(a))}return tr(a),null;case 5:if(_e(a),u=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==d&&Zo(a);else{if(!d){if(a.stateNode===null)throw Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");return tr(a),null}if(g=ge(),Xd(a))g3(a);else{switch(i=pe(za.current),Ld(u,g.ancestorInfo),g=g.context,i=Tg(i),g){case xf:i=i.createElementNS(Bu,u);break;case _b:i=i.createElementNS(Lg,u);break;default:switch(u){case"svg":i=i.createElementNS(Bu,u);break;case"math":i=i.createElementNS(Lg,u);break;case"script":i=i.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof d.is=="string"?i.createElement("select",{is:d.is}):i.createElement("select"),d.multiple?i.multiple=!0:d.size&&(i.size=d.size);break;default:i=typeof d.is=="string"?i.createElement(u,{is:d.is}):i.createElement(u),u.indexOf("-")===-1&&(u!==u.toLowerCase()&&console.error("<%s /> is using incorrect casing. Use PascalCase for React components, or lowercase for HTML elements.",u),Object.prototype.toString.call(i)!=="[object HTMLUnknownElement]"||ta.call(bP,u)||(bP[u]=!0,console.error("The tag <%s> is unrecognized in this browser. If you meant to render a React component, start its name with an uppercase letter.",u)))}}i[is]=a,i[Us]=d;e:for(g=a.child;g!==null;){if(g.tag===5||g.tag===6)i.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===a)break e;for(;g.sibling===null;){if(g.return===null||g.return===a)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}a.stateNode=i;e:switch(Kr(i,u,d),u){case"button":case"input":case"select":case"textarea":i=!!d.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Zo(a)}}return tr(a),a.flags&=-16777217,null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==d&&Zo(a);else{if(typeof d!="string"&&a.stateNode===null)throw Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");if(i=pe(za.current),u=ge(),Xd(a)){i=a.stateNode,u=a.memoizedProps,g=!oa,d=null;var v=_s;if(v!==null)switch(v.tag){case 3:g&&(g=VC(i,u,d),g!==null&&(nc(a,0).serverProps=g));break;case 27:case 5:d=v.memoizedProps,g&&(g=VC(i,u,d),g!==null&&(nc(a,0).serverProps=g))}i[is]=a,i=!!(i.nodeValue===u||d!==null&&d.suppressHydrationWarning===!0||AC(i.nodeValue,u)),i||rc(a)}else g=u.ancestorInfo.current,g!=null&&Vm(d,g.tag,u.ancestorInfo.implicitRootScope),i=Tg(i).createTextNode(d),i[is]=a,a.stateNode=i}return tr(a),null;case 13:if(d=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(g=Xd(a),d!==null&&d.dehydrated!==null){if(i===null){if(!g)throw Error("A dehydrated suspense component was completed without a hydrated node. This is probably a bug in React.");if(g=a.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");g[is]=a,tr(a),(a.mode&Gr)!==qn&&d!==null&&(g=a.child,g!==null&&(a.treeBaseDuration-=g.treeBaseDuration))}else y3(),Yd(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4,tr(a),(a.mode&Gr)!==qn&&d!==null&&(g=a.child,g!==null&&(a.treeBaseDuration-=g.treeBaseDuration));g=!1}else g=x3(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=g),g=!0;if(!g)return a.flags&256?(Yo(a),a):(Yo(a),null)}return Yo(a),(a.flags&128)!==0?(a.lanes=u,(a.mode&Gr)!==qn&&Zm(a),a):(u=d!==null,i=i!==null&&i.memoizedState!==null,u&&(d=a.child,g=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(g=d.alternate.memoizedState.cachePool.pool),v=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(v=d.memoizedState.cachePool.pool),v!==g&&(d.flags|=2048)),u!==i&&u&&(a.child.flags|=8192),yg(a,a.updateQueue),tr(a),(a.mode&Gr)!==qn&&u&&(i=a.child,i!==null&&(a.treeBaseDuration-=i.treeBaseDuration)),null);case 4:return ye(a),i===null&&q0(a.stateNode.containerInfo),tr(a),null;case 10:return qo(a.type,a),tr(a),null;case 19:if(Q(Or,a),g=a.memoizedState,g===null)return tr(a),null;if(d=(a.flags&128)!==0,v=g.rendering,v===null)if(d)oh(g,!1);else{if(ur!==ua||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(v=mg(i),v!==null){for(a.flags|=128,oh(g,!1),i=v.updateQueue,a.updateQueue=i,yg(a,i),a.subtreeFlags=0,i=u,u=a.child;u!==null;)p3(u,i),u=u.sibling;return de(Or,Or.current&af|Hh,a),a.child}i=i.sibling}g.tail!==null&&mo()>cb&&(a.flags|=128,d=!0,oh(g,!1),a.lanes=4194304)}else{if(!d)if(i=mg(v),i!==null){if(a.flags|=128,d=!0,i=i.updateQueue,a.updateQueue=i,yg(a,i),oh(g,!0),g.tail===null&&g.tailMode==="hidden"&&!v.alternate&&!bn)return tr(a),null}else 2*mo()-g.renderingStartTime>cb&&u!==536870912&&(a.flags|=128,d=!0,oh(g,!1),a.lanes=4194304);g.isBackwards?(v.sibling=a.child,a.child=v):(i=g.last,i!==null?i.sibling=v:a.child=v,g.last=v)}return g.tail!==null?(i=g.tail,g.rendering=i,g.tail=i.sibling,g.renderingStartTime=mo(),i.sibling=null,u=Or.current,u=d?u&af|Hh:u&af,de(Or,u,a),i):(tr(a),null);case 22:case 23:return Yo(a),Lv(a),d=a.memoizedState!==null,i!==null?i.memoizedState!==null!==d&&(a.flags|=8192):d&&(a.flags|=8192),d?(u&536870912)!==0&&(a.flags&128)===0&&(tr(a),a.subtreeFlags&6&&(a.flags|=8192)):tr(a),u=a.updateQueue,u!==null&&yg(a,u.retryQueue),u=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),d=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),d!==u&&(a.flags|=2048),i!==null&&Q(bc,a),null;case 24:return u=null,i!==null&&(u=i.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),qo(jr,a),tr(a),null;case 25:return null;case 30:return null}throw Error("Unknown unit of work tag ("+a.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function gL(i,a){switch(kv(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,(a.mode&Gr)!==qn&&Zm(a),a):null;case 3:return qo(jr,a),ye(a),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return _e(a),null;case 13:if(Yo(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error("Threw in newly mounted dehydrated component. This is likely a bug in React. Please file an issue.");Yd()}return i=a.flags,i&65536?(a.flags=i&-65537|128,(a.mode&Gr)!==qn&&Zm(a),a):null;case 19:return Q(Or,a),null;case 4:return ye(a),null;case 10:return qo(a.type,a),null;case 22:case 23:return Yo(a),Lv(a),i!==null&&Q(bc,a),i=a.flags,i&65536?(a.flags=i&-65537|128,(a.mode&Gr)!==qn&&Zm(a),a):null;case 24:return qo(jr,a),null;case 25:return null;default:return null}}function TA(i,a){switch(kv(a),a.tag){case 3:qo(jr,a),ye(a);break;case 26:case 27:case 5:_e(a);break;case 4:ye(a);break;case 13:Yo(a);break;case 19:Q(Or,a);break;case 10:qo(a.type,a);break;case 22:case 23:Yo(a),Lv(a),i!==null&&Q(bc,a);break;case 24:qo(jr,a)}}function lo(i){return(i.mode&Gr)!==qn}function AA(i,a){lo(i)?(ao(),ah(a,i),oo()):ah(a,i)}function C0(i,a,u){lo(i)?(ao(),Tu(u,i,a),oo()):Tu(u,i,a)}function ah(i,a){try{var u=a.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var g=d.next;u=g;do{if((u.tag&i)===i&&((i&Ir)!==yi?bt!==null&&typeof bt.markComponentPassiveEffectMountStarted=="function"&&bt.markComponentPassiveEffectMountStarted(a):(i&Qr)!==yi&&bt!==null&&typeof bt.markComponentLayoutEffectMountStarted=="function"&&bt.markComponentLayoutEffectMountStarted(a),d=void 0,(i&ws)!==yi&&(gf=!0),d=ie(a,Iz,u),(i&ws)!==yi&&(gf=!1),(i&Ir)!==yi?bt!==null&&typeof bt.markComponentPassiveEffectMountStopped=="function"&&bt.markComponentPassiveEffectMountStopped():(i&Qr)!==yi&&bt!==null&&typeof bt.markComponentLayoutEffectMountStopped=="function"&&bt.markComponentLayoutEffectMountStopped(),d!==void 0&&typeof d!="function")){var v=void 0;v=(u.tag&Qr)!==0?"useLayoutEffect":(u.tag&ws)!==0?"useInsertionEffect":"useEffect";var R=void 0;R=d===null?" You returned null. If your effect does not require clean up, return undefined (or nothing).":typeof d.then=="function"?`

It looks like you wrote `+v+`(async () => ...) or returned a Promise. Instead, write the async function inside your effect and call it immediately:

`+v+`(() => {
  async function fetchData() {
    // You can await here
    const response = await MyAPI.getData(someId);
    // ...
  }
  fetchData();
}, [someId]); // Or [] if effect doesn't need props or state

Learn more about data fetching with Hooks: https://react.dev/link/hooks-data-fetching`:" You returned: "+d,ie(a,function(I,q){console.error("%s must not return anything besides a function, which is used for clean-up.%s",I,q)},v,R)}u=u.next}while(u!==g)}}catch(I){jn(a,a.return,I)}}function Tu(i,a,u){try{var d=a.updateQueue,g=d!==null?d.lastEffect:null;if(g!==null){var v=g.next;d=v;do{if((d.tag&i)===i){var R=d.inst,I=R.destroy;I!==void 0&&(R.destroy=void 0,(i&Ir)!==yi?bt!==null&&typeof bt.markComponentPassiveEffectUnmountStarted=="function"&&bt.markComponentPassiveEffectUnmountStarted(a):(i&Qr)!==yi&&bt!==null&&typeof bt.markComponentLayoutEffectUnmountStarted=="function"&&bt.markComponentLayoutEffectUnmountStarted(a),(i&ws)!==yi&&(gf=!0),g=a,ie(g,Oz,g,u,I),(i&ws)!==yi&&(gf=!1),(i&Ir)!==yi?bt!==null&&typeof bt.markComponentPassiveEffectUnmountStopped=="function"&&bt.markComponentPassiveEffectUnmountStopped():(i&Qr)!==yi&&bt!==null&&typeof bt.markComponentLayoutEffectUnmountStopped=="function"&&bt.markComponentLayoutEffectUnmountStopped())}d=d.next}while(d!==v)}}catch(q){jn(a,a.return,q)}}function CA(i,a){lo(i)?(ao(),ah(a,i),oo()):ah(a,i)}function R0(i,a,u){lo(i)?(ao(),Tu(u,i,a),oo()):Tu(u,i,a)}function RA(i){var a=i.updateQueue;if(a!==null){var u=i.stateNode;i.type.defaultProps||"ref"in i.memoizedProps||cf||(u.props!==i.memoizedProps&&console.error("Expected %s props to match memoized props before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",G(i)||"instance"),u.state!==i.memoizedState&&console.error("Expected %s state to match memoized state before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",G(i)||"instance"));try{ie(i,k3,a,u)}catch(d){jn(i,i.return,d)}}}function bL(i,a,u){return i.getSnapshotBeforeUpdate(a,u)}function xL(i,a){var u=a.memoizedProps,d=a.memoizedState;a=i.stateNode,i.type.defaultProps||"ref"in i.memoizedProps||cf||(a.props!==i.memoizedProps&&console.error("Expected %s props to match memoized props before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",G(i)||"instance"),a.state!==i.memoizedState&&console.error("Expected %s state to match memoized state before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",G(i)||"instance"));try{var g=cc(i.type,u,i.elementType===i.type),v=ie(i,bL,a,g,d);u=Jk,v!==void 0||u.has(i.type)||(u.add(i.type),ie(i,function(){console.error("%s.getSnapshotBeforeUpdate(): A snapshot value (or null) must be returned. You have returned undefined.",G(i))})),a.__reactInternalSnapshotBeforeUpdate=v}catch(R){jn(i,i.return,R)}}function kA(i,a,u){u.props=cc(i.type,i.memoizedProps),u.state=i.memoizedState,lo(i)?(ao(),ie(i,Tk,i,a,u),oo()):ie(i,Tk,i,a,u)}function yL(i){var a=i.ref;if(a!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}if(typeof a=="function")if(lo(i))try{ao(),i.refCleanup=a(u)}finally{oo()}else i.refCleanup=a(u);else typeof a=="string"?console.error("String refs are no longer supported."):a.hasOwnProperty("current")||console.error("Unexpected ref object provided for %s. Use either a ref-setter function or React.createRef().",G(i)),a.current=u}}function lh(i,a){try{ie(i,yL,i)}catch(u){jn(i,a,u)}}function co(i,a){var u=i.ref,d=i.refCleanup;if(u!==null)if(typeof d=="function")try{if(lo(i))try{ao(),ie(i,d)}finally{oo(i)}else ie(i,d)}catch(g){jn(i,a,g)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof u=="function")try{if(lo(i))try{ao(),ie(i,u,null)}finally{oo(i)}else ie(i,u,null)}catch(g){jn(i,a,g)}else u.current=null}function PA(i,a,u,d){var g=i.memoizedProps,v=g.id,R=g.onCommit;g=g.onRender,a=a===null?"mount":"update",Gg&&(a="nested-update"),typeof g=="function"&&g(v,a,i.actualDuration,i.treeBaseDuration,i.actualStartTime,u),typeof R=="function"&&R(i.memoizedProps.id,a,d,u)}function vL(i,a,u,d){var g=i.memoizedProps;i=g.id,g=g.onPostCommit,a=a===null?"mount":"update",Gg&&(a="nested-update"),typeof g=="function"&&g(i,a,d,u)}function DA(i){var a=i.type,u=i.memoizedProps,d=i.stateNode;try{ie(i,zL,d,a,u,i)}catch(g){jn(i,i.return,g)}}function k0(i,a,u){try{ie(i,$L,i.stateNode,i.type,u,a,i)}catch(d){jn(i,i.return,d)}}function MA(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Fa(i.type)||i.tag===4}function P0(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||MA(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Fa(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function D0(i,a,u){var d=i.tag;if(d===5||d===6)i=i.stateNode,a?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(i,a):(a=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,a.appendChild(i),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=Eg));else if(d!==4&&(d===27&&Fa(i.type)&&(u=i.stateNode,a=null),i=i.child,i!==null))for(D0(i,a,u),i=i.sibling;i!==null;)D0(i,a,u),i=i.sibling}function vg(i,a,u){var d=i.tag;if(d===5||d===6)i=i.stateNode,a?u.insertBefore(i,a):u.appendChild(i);else if(d!==4&&(d===27&&Fa(i.type)&&(u=i.stateNode),i=i.child,i!==null))for(vg(i,a,u),i=i.sibling;i!==null;)vg(i,a,u),i=i.sibling}function _L(i){for(var a,u=i.return;u!==null;){if(MA(u)){a=u;break}u=u.return}if(a==null)throw Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.");switch(a.tag){case 27:a=a.stateNode,u=P0(i),vg(i,u,a);break;case 5:u=a.stateNode,a.flags&32&&(IC(u),a.flags&=-33),a=P0(i),vg(i,a,u);break;case 3:case 4:a=a.stateNode.containerInfo,u=P0(i),D0(i,u,a);break;default:throw Error("Invalid host parent fiber. This error is likely caused by a bug in React. Please file an issue.")}}function jA(i){var a=i.stateNode,u=i.memoizedProps;try{ie(i,n5,i.type,u,a,i)}catch(d){jn(i,i.return,d)}}function wL(i,a){if(i=i.containerInfo,Aw=Eb,i=c3(i),_v(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var d=u.getSelection&&u.getSelection();if(d&&d.rangeCount!==0){u=d.anchorNode;var g=d.anchorOffset,v=d.focusNode;d=d.focusOffset;try{u.nodeType,v.nodeType}catch{u=null;break e}var R=0,I=-1,q=-1,re=0,Oe=0,Le=i,Ie=null;t:for(;;){for(var We;Le!==u||g!==0&&Le.nodeType!==3||(I=R+g),Le!==v||d!==0&&Le.nodeType!==3||(q=R+d),Le.nodeType===3&&(R+=Le.nodeValue.length),(We=Le.firstChild)!==null;)Ie=Le,Le=We;for(;;){if(Le===i)break t;if(Ie===u&&++re===g&&(I=R),Ie===v&&++Oe===d&&(q=R),(We=Le.nextSibling)!==null)break;Le=Ie,Ie=Le.parentNode}Le=We}u=I===-1||q===-1?null:{start:I,end:q}}else u=null}u=u||{start:0,end:0}}else u=null;for(Cw={focusedElem:i,selectionRange:u},Eb=!1,$r=a;$r!==null;)if(a=$r,i=a.child,(a.subtreeFlags&1024)!==0&&i!==null)i.return=a,$r=i;else for(;$r!==null;){switch(i=a=$r,u=i.alternate,g=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:(g&1024)!==0&&u!==null&&xL(i,u);break;case 3:if((g&1024)!==0){if(i=i.stateNode.containerInfo,u=i.nodeType,u===9)e_(i);else if(u===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":e_(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((g&1024)!==0)throw Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}if(i=a.sibling,i!==null){i.return=a.return,$r=i;break}$r=a.return}}function IA(i,a,u){var d=u.flags;switch(u.tag){case 0:case 11:case 15:Qo(i,u),d&4&&AA(u,Qr|vi);break;case 1:if(Qo(i,u),d&4)if(i=u.stateNode,a===null)u.type.defaultProps||"ref"in u.memoizedProps||cf||(i.props!==u.memoizedProps&&console.error("Expected %s props to match memoized props before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",G(u)||"instance"),i.state!==u.memoizedState&&console.error("Expected %s state to match memoized state before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",G(u)||"instance")),lo(u)?(ao(),ie(u,tw,u,i),oo()):ie(u,tw,u,i);else{var g=cc(u.type,a.memoizedProps);a=a.memoizedState,u.type.defaultProps||"ref"in u.memoizedProps||cf||(i.props!==u.memoizedProps&&console.error("Expected %s props to match memoized props before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",G(u)||"instance"),i.state!==u.memoizedState&&console.error("Expected %s state to match memoized state before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",G(u)||"instance")),lo(u)?(ao(),ie(u,Nk,u,i,g,a,i.__reactInternalSnapshotBeforeUpdate),oo()):ie(u,Nk,u,i,g,a,i.__reactInternalSnapshotBeforeUpdate)}d&64&&RA(u),d&512&&lh(u,u.return);break;case 3:if(a=Xo(),Qo(i,u),d&64&&(d=u.updateQueue,d!==null)){if(g=null,u.child!==null)switch(u.child.tag){case 27:case 5:g=u.child.stateNode;break;case 1:g=u.child.stateNode}try{ie(u,k3,d,g)}catch(R){jn(u,u.return,R)}}i.effectDuration+=Km(a);break;case 27:a===null&&d&4&&jA(u);case 26:case 5:Qo(i,u),a===null&&d&4&&DA(u),d&512&&lh(u,u.return);break;case 12:if(d&4){d=Xo(),Qo(i,u),i=u.stateNode,i.effectDuration+=Qd(d);try{ie(u,PA,u,a,Zg,i.effectDuration)}catch(R){jn(u,u.return,R)}}else Qo(i,u);break;case 13:Qo(i,u),d&4&&VA(i,u),d&64&&(i=u.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(u=PL.bind(null,u),JL(i,u))));break;case 22:if(d=u.memoizedState!==null||ca,!d){a=a!==null&&a.memoizedState!==null||vr,g=ca;var v=vr;ca=d,(vr=a)&&!v?Jo(i,u,(u.subtreeFlags&8772)!==0):Qo(i,u),ca=g,vr=v}break;case 30:break;default:Qo(i,u)}}function OA(i){var a=i.alternate;a!==null&&(i.alternate=null,OA(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&Sr(a)),i.stateNode=null,i._debugOwner=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Go(i,a,u){for(u=u.child;u!==null;)UA(i,a,u),u=u.sibling}function UA(i,a,u){if(ss&&typeof ss.onCommitFiberUnmount=="function")try{ss.onCommitFiberUnmount(Vu,u)}catch(v){go||(go=!0,console.error("React instrumentation encountered an error: %s",v))}switch(u.tag){case 26:vr||co(u,a),Go(i,a,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:vr||co(u,a);var d=Cr,g=Fs;Fa(u.type)&&(Cr=u.stateNode,Fs=!1),Go(i,a,u),ie(u,mh,u.stateNode),Cr=d,Fs=g;break;case 5:vr||co(u,a);case 6:if(d=Cr,g=Fs,Cr=null,Go(i,a,u),Cr=d,Fs=g,Cr!==null)if(Fs)try{ie(u,qL,Cr,u.stateNode)}catch(v){jn(u,a,v)}else try{ie(u,WL,Cr,u.stateNode)}catch(v){jn(u,a,v)}break;case 18:Cr!==null&&(Fs?(i=Cr,OC(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,u.stateNode),yh(i)):OC(Cr,u.stateNode));break;case 4:d=Cr,g=Fs,Cr=u.stateNode.containerInfo,Fs=!0,Go(i,a,u),Cr=d,Fs=g;break;case 0:case 11:case 14:case 15:vr||Tu(ws,u,a),vr||C0(u,a,Qr),Go(i,a,u);break;case 1:vr||(co(u,a),d=u.stateNode,typeof d.componentWillUnmount=="function"&&kA(u,a,d)),Go(i,a,u);break;case 21:Go(i,a,u);break;case 22:vr=(d=vr)||u.memoizedState!==null,Go(i,a,u),vr=d;break;default:Go(i,a,u)}}function VA(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{ie(a,t5,i)}catch(u){jn(a,a.return,u)}}function NL(i){switch(i.tag){case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new eP),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new eP),a;default:throw Error("Unexpected Suspense handler tag ("+i.tag+"). This is a bug in React.")}}function M0(i,a){var u=NL(i);a.forEach(function(d){var g=DL.bind(null,i,d);if(!u.has(d)){if(u.add(d),Vi)if(uf!==null&&ff!==null)dh(ff,uf);else throw Error("Expected finished root and lanes to be set. This is a bug in React.");d.then(g,g)}})}function Ys(i,a){var u=a.deletions;if(u!==null)for(var d=0;d<u.length;d++){var g=i,v=a,R=u[d],I=v;e:for(;I!==null;){switch(I.tag){case 27:if(Fa(I.type)){Cr=I.stateNode,Fs=!1;break e}break;case 5:Cr=I.stateNode,Fs=!1;break e;case 3:case 4:Cr=I.stateNode.containerInfo,Fs=!0;break e}I=I.return}if(Cr===null)throw Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.");UA(g,v,R),Cr=null,Fs=!1,g=R,v=g.alternate,v!==null&&(v.return=null),g.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)FA(a,i),a=a.sibling}function FA(i,a){var u=i.alternate,d=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Ys(a,i),Ks(i),d&4&&(Tu(ws|vi,i,i.return),ah(ws|vi,i),C0(i,i.return,Qr|vi));break;case 1:Ys(a,i),Ks(i),d&512&&(vr||u===null||co(u,u.return)),d&64&&ca&&(i=i.updateQueue,i!==null&&(d=i.callbacks,d!==null&&(u=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=u===null?d:u.concat(d))));break;case 26:var g=zi;if(Ys(a,i),Ks(i),d&512&&(vr||u===null||co(u,u.return)),d&4)if(a=u!==null?u.memoizedState:null,d=i.memoizedState,u===null)if(d===null)if(i.stateNode===null){e:{d=i.type,u=i.memoizedProps,a=g.ownerDocument||g;t:switch(d){case"title":g=a.getElementsByTagName("title")[0],(!g||g[wh]||g[is]||g.namespaceURI===Bu||g.hasAttribute("itemprop"))&&(g=a.createElement(d),a.head.insertBefore(g,a.querySelector("head > title"))),Kr(g,d,u),g[is]=i,Ee(g),d=g;break e;case"link":var v=qC("link","href",a).get(d+(u.href||""));if(v){for(var R=0;R<v.length;R++)if(g=v[R],g.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&g.getAttribute("rel")===(u.rel==null?null:u.rel)&&g.getAttribute("title")===(u.title==null?null:u.title)&&g.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){v.splice(R,1);break t}}g=a.createElement(d),Kr(g,d,u),a.head.appendChild(g);break;case"meta":if(v=qC("meta","content",a).get(d+(u.content||""))){for(R=0;R<v.length;R++)if(g=v[R],se(u.content,"content"),g.getAttribute("content")===(u.content==null?null:""+u.content)&&g.getAttribute("name")===(u.name==null?null:u.name)&&g.getAttribute("property")===(u.property==null?null:u.property)&&g.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&g.getAttribute("charset")===(u.charSet==null?null:u.charSet)){v.splice(R,1);break t}}g=a.createElement(d),Kr(g,d,u),a.head.appendChild(g);break;default:throw Error('getNodesForType encountered a type it did not expect: "'+d+'". This is a bug in React.')}g[is]=i,Ee(g),d=g}i.stateNode=d}else XC(g,i.type,i.stateNode);else i.stateNode=WC(g,d,i.memoizedProps);else a!==d?(a===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):a.count--,d===null?XC(g,i.type,i.stateNode):WC(g,d,i.memoizedProps)):d===null&&i.stateNode!==null&&k0(i,i.memoizedProps,u.memoizedProps);break;case 27:Ys(a,i),Ks(i),d&512&&(vr||u===null||co(u,u.return)),u!==null&&d&4&&k0(i,i.memoizedProps,u.memoizedProps);break;case 5:if(Ys(a,i),Ks(i),d&512&&(vr||u===null||co(u,u.return)),i.flags&32){a=i.stateNode;try{ie(i,IC,a)}catch(Oe){jn(i,i.return,Oe)}}d&4&&i.stateNode!=null&&(a=i.memoizedProps,k0(i,a,u!==null?u.memoizedProps:a)),d&1024&&(lw=!0,i.type!=="form"&&console.error("Unexpected host component type. Expected a form. This is a bug in React."));break;case 6:if(Ys(a,i),Ks(i),d&4){if(i.stateNode===null)throw Error("This should have a text node initialized. This error is likely caused by a bug in React. Please file an issue.");d=i.memoizedProps,u=u!==null?u.memoizedProps:d,a=i.stateNode;try{ie(i,HL,a,u,d)}catch(Oe){jn(i,i.return,Oe)}}break;case 3:if(g=Xo(),wb=null,v=zi,zi=Ag(a.containerInfo),Ys(a,i),zi=v,Ks(i),d&4&&u!==null&&u.memoizedState.isDehydrated)try{ie(i,e5,a.containerInfo)}catch(Oe){jn(i,i.return,Oe)}lw&&(lw=!1,BA(i)),a.effectDuration+=Km(g);break;case 4:d=zi,zi=Ag(i.stateNode.containerInfo),Ys(a,i),Ks(i),zi=d;break;case 12:d=Xo(),Ys(a,i),Ks(i),i.stateNode.effectDuration+=Qd(d);break;case 13:Ys(a,i),Ks(i),i.child.flags&8192&&i.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(pw=mo()),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,M0(i,d)));break;case 22:g=i.memoizedState!==null;var I=u!==null&&u.memoizedState!==null,q=ca,re=vr;if(ca=q||g,vr=re||I,Ys(a,i),vr=re,ca=q,Ks(i),d&8192)e:for(a=i.stateNode,a._visibility=g?a._visibility&~qg:a._visibility|qg,g&&(u===null||I||ca||vr||uc(i)),u=null,a=i;;){if(a.tag===5||a.tag===26){if(u===null){I=u=a;try{v=I.stateNode,g?ie(I,XL,v):ie(I,KL,I.stateNode,I.memoizedProps)}catch(Oe){jn(I,I.return,Oe)}}}else if(a.tag===6){if(u===null){I=a;try{R=I.stateNode,g?ie(I,YL,R):ie(I,ZL,R,I.memoizedProps)}catch(Oe){jn(I,I.return,Oe)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;u===a&&(u=null),a=a.return}u===a&&(u=null),a.sibling.return=a.return,a=a.sibling}d&4&&(d=i.updateQueue,d!==null&&(u=d.retryQueue,u!==null&&(d.retryQueue=null,M0(i,u))));break;case 19:Ys(a,i),Ks(i),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,M0(i,d)));break;case 30:break;case 21:break;default:Ys(a,i),Ks(i)}}function Ks(i){var a=i.flags;if(a&2){try{ie(i,_L,i)}catch(u){jn(i,i.return,u)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function BA(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;BA(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function Qo(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)IA(i,a.alternate,a),a=a.sibling}function LA(i){switch(i.tag){case 0:case 11:case 14:case 15:C0(i,i.return,Qr),uc(i);break;case 1:co(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&kA(i,i.return,a),uc(i);break;case 27:ie(i,mh,i.stateNode);case 26:case 5:co(i,i.return),uc(i);break;case 22:i.memoizedState===null&&uc(i);break;case 30:uc(i);break;default:uc(i)}}function uc(i){for(i=i.child;i!==null;)LA(i),i=i.sibling}function zA(i,a,u,d){var g=u.flags;switch(u.tag){case 0:case 11:case 15:Jo(i,u,d),AA(u,Qr);break;case 1:if(Jo(i,u,d),a=u.stateNode,typeof a.componentDidMount=="function"&&ie(u,tw,u,a),a=u.updateQueue,a!==null){i=u.stateNode;try{ie(u,aL,a,i)}catch(v){jn(u,u.return,v)}}d&&g&64&&RA(u),lh(u,u.return);break;case 27:jA(u);case 26:case 5:Jo(i,u,d),d&&a===null&&g&4&&DA(u),lh(u,u.return);break;case 12:if(d&&g&4){g=Xo(),Jo(i,u,d),d=u.stateNode,d.effectDuration+=Qd(g);try{ie(u,PA,u,a,Zg,d.effectDuration)}catch(v){jn(u,u.return,v)}}else Jo(i,u,d);break;case 13:Jo(i,u,d),d&&g&4&&VA(i,u);break;case 22:u.memoizedState===null&&Jo(i,u,d),lh(u,u.return);break;case 30:break;default:Jo(i,u,d)}}function Jo(i,a,u){for(u=u&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;)zA(i,a.alternate,a,u),a=a.sibling}function j0(i,a){var u=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==u&&(i!=null&&ic(i),u!=null&&Gd(u))}function I0(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(ic(a),i!=null&&Gd(i))}function uo(i,a,u,d){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)$A(i,a,u,d),a=a.sibling}function $A(i,a,u,d){var g=a.flags;switch(a.tag){case 0:case 11:case 15:uo(i,a,u,d),g&2048&&CA(a,Ir|vi);break;case 1:uo(i,a,u,d);break;case 3:var v=Xo();uo(i,a,u,d),g&2048&&(u=null,a.alternate!==null&&(u=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==u&&(ic(a),u!=null&&Gd(u))),i.passiveEffectDuration+=Km(v);break;case 12:if(g&2048){g=Xo(),uo(i,a,u,d),i=a.stateNode,i.passiveEffectDuration+=Qd(g);try{ie(a,vL,a,a.alternate,Zg,i.passiveEffectDuration)}catch(I){jn(a,a.return,I)}}else uo(i,a,u,d);break;case 13:uo(i,a,u,d);break;case 23:break;case 22:v=a.stateNode;var R=a.alternate;a.memoizedState!==null?v._visibility&ra?uo(i,a,u,d):ch(i,a):v._visibility&ra?uo(i,a,u,d):(v._visibility|=ra,Au(i,a,u,d,(a.subtreeFlags&10256)!==0)),g&2048&&j0(R,a);break;case 24:uo(i,a,u,d),g&2048&&I0(a.alternate,a);break;default:uo(i,a,u,d)}}function Au(i,a,u,d,g){for(g=g&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;)HA(i,a,u,d,g),a=a.sibling}function HA(i,a,u,d,g){var v=a.flags;switch(a.tag){case 0:case 11:case 15:Au(i,a,u,d,g),CA(a,Ir);break;case 23:break;case 22:var R=a.stateNode;a.memoizedState!==null?R._visibility&ra?Au(i,a,u,d,g):ch(i,a):(R._visibility|=ra,Au(i,a,u,d,g)),g&&v&2048&&j0(a.alternate,a);break;case 24:Au(i,a,u,d,g),g&&v&2048&&I0(a.alternate,a);break;default:Au(i,a,u,d,g)}}function ch(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var u=i,d=a,g=d.flags;switch(d.tag){case 22:ch(u,d),g&2048&&j0(d.alternate,d);break;case 24:ch(u,d),g&2048&&I0(d.alternate,d);break;default:ch(u,d)}a=a.sibling}}function Cu(i){if(i.subtreeFlags&Wh)for(i=i.child;i!==null;)WA(i),i=i.sibling}function WA(i){switch(i.tag){case 26:Cu(i),i.flags&Wh&&i.memoizedState!==null&&o5(zi,i.memoizedState,i.memoizedProps);break;case 5:Cu(i);break;case 3:case 4:var a=zi;zi=Ag(i.stateNode.containerInfo),Cu(i),zi=a;break;case 22:i.memoizedState===null&&(a=i.alternate,a!==null&&a.memoizedState!==null?(a=Wh,Wh=16777216,Cu(i),Wh=a):Cu(i));break;default:Cu(i)}}function qA(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function uh(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var d=a[u];$r=d,KA(d,i)}qA(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)XA(i),i=i.sibling}function XA(i){switch(i.tag){case 0:case 11:case 15:uh(i),i.flags&2048&&R0(i,i.return,Ir|vi);break;case 3:var a=Xo();uh(i),i.stateNode.passiveEffectDuration+=Km(a);break;case 12:a=Xo(),uh(i),i.stateNode.passiveEffectDuration+=Qd(a);break;case 22:a=i.stateNode,i.memoizedState!==null&&a._visibility&ra&&(i.return===null||i.return.tag!==13)?(a._visibility&=~ra,_g(i)):uh(i);break;default:uh(i)}}function _g(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var d=a[u];$r=d,KA(d,i)}qA(i)}for(i=i.child;i!==null;)YA(i),i=i.sibling}function YA(i){switch(i.tag){case 0:case 11:case 15:R0(i,i.return,Ir),_g(i);break;case 22:var a=i.stateNode;a._visibility&ra&&(a._visibility&=~ra,_g(i));break;default:_g(i)}}function KA(i,a){for(;$r!==null;){var u=$r,d=u;switch(d.tag){case 0:case 11:case 15:R0(d,a,Ir);break;case 23:case 22:d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(d=d.memoizedState.cachePool.pool,d!=null&&ic(d));break;case 24:Gd(d.memoizedState.cache)}if(d=u.child,d!==null)d.return=u,$r=d;else e:for(u=i;$r!==null;){d=$r;var g=d.sibling,v=d.return;if(OA(d),d===u){$r=null;break e}if(g!==null){g.return=v,$r=g;break e}$r=v}}}function SL(){Vz.forEach(function(i){return i()})}function ZA(){var i=typeof IS_REACT_ACT_ENVIRONMENT<"u"?IS_REACT_ACT_ENVIRONMENT:void 0;return i||Be.actQueue===null||console.error("The current testing environment is not configured to support act(...)"),i}function Zs(i){if((Sn&Ns)!==Js&&dn!==0)return dn&-dn;var a=Be.T;return a!==null?(a._updatedFibers||(a._updatedFibers=new Set),a._updatedFibers.add(i),i=gc,i!==0?i:H0()):lr()}function GA(){ti===0&&(ti=(dn&536870912)===0||bn?Pt():536870912);var i=wi.current;return i!==null&&(i.flags|=32),ti}function yr(i,a,u){if(gf&&console.error("useInsertionEffect must not schedule updates."),yw&&(ub=!0),(i===Ln&&(Rn===_c||Rn===wc)||i.cancelPendingCommit!==null)&&(ku(i,0),Ua(i,dn,ti,!1)),Wr(i,u),(Sn&Ns)!==0&&i===Ln){if(xo)switch(a.tag){case 0:case 11:case 15:i=an&&G(an)||"Unknown",uP.has(i)||(uP.add(i),a=G(a)||"Unknown",console.error("Cannot update a component (`%s`) while rendering a different component (`%s`). To locate the bad setState() call inside `%s`, follow the stack trace as described in https://react.dev/link/setstate-in-render",a,i,i));break;case 1:cP||(console.error("Cannot update during an existing state transition (such as within `render`). Render methods should be a pure function of props and state."),cP=!0)}}else Vi&&xt(i,a,u),jL(a),i===Ln&&((Sn&Ns)===Js&&(Qa|=u),ur===vc&&Ua(i,dn,ti,!1)),fo(i)}function QA(i,a,u){if((Sn&(Ns|$i))!==Js)throw Error("Should not already be working.");var d=!u&&(a&124)===0&&(a&i.expiredLanes)===0||Yt(i,a),g=d?TL(i,a):V0(i,a,!0),v=d;do{if(g===ua){pf&&!d&&Ua(i,a,0,!1);break}else{if(u=i.current.alternate,v&&!EL(u)){g=V0(i,a,!1),v=!1;continue}if(g===df){if(v=a,i.errorRecoveryDisabledLanes&v)var R=0;else R=i.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){a=R;e:{g=i;var I=R;R=Gh;var q=g.current.memoizedState.isDehydrated;if(q&&(ku(g,I).flags|=256),I=V0(g,I,!1),I!==df){if(dw&&!q){g.errorRecoveryDisabledLanes|=v,Qa|=v,g=vc;break e}g=Ss,Ss=R,g!==null&&(Ss===null?Ss=g:Ss.push.apply(Ss,g))}g=I}if(v=!1,g!==df)continue}}if(g===Xh){ku(i,0),Ua(i,a,0,!0);break}e:{switch(d=i,g){case ua:case Xh:throw Error("Root did not complete. This is a bug in React.");case vc:if((a&4194048)!==a)break;case ab:Ua(d,a,ti,!Za);break e;case df:Ss=null;break;case cw:case tP:break;default:throw Error("Unknown root exit status.")}if(Be.actQueue!==null)F0(d,u,a,Ss,Qh,lb,ti,Qa,Nc);else{if((a&62914560)===a&&(v=pw+rP-mo(),10<v)){if(Ua(d,a,ti,!Za),Lt(d,0,!0)!==0)break e;d.timeoutHandle=xP(JA.bind(null,d,u,Ss,Qh,lb,a,ti,Qa,Nc,Za,g,zz,ik,0),v);break e}JA(d,u,Ss,Qh,lb,a,ti,Qa,Nc,Za,g,Bz,ik,0)}}}break}while(!0);fo(i)}function JA(i,a,u,d,g,v,R,I,q,re,Oe,Le,Ie,We){if(i.timeoutHandle=Cc,Le=a.subtreeFlags,(Le&8192||(Le&16785408)===16785408)&&(sp={stylesheets:null,count:0,unsuspend:i5},WA(a),Le=a5(),Le!==null)){i.cancelPendingCommit=Le(F0.bind(null,i,a,v,u,d,g,R,I,q,Oe,Lz,Ie,We)),Ua(i,v,R,!re);return}F0(i,a,v,u,d,g,R,I,q)}function EL(i){for(var a=i;;){var u=a.tag;if((u===0||u===11||u===15)&&a.flags&16384&&(u=a.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var d=0;d<u.length;d++){var g=u[d],v=g.getSnapshot;g=g.value;try{if(!vs(v(),g))return!1}catch{return!1}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ua(i,a,u,d){a&=~hw,a&=~Qa,i.suspendedLanes|=a,i.pingedLanes&=~a,d&&(i.warmLanes|=a),d=i.expirationTimes;for(var g=a;0<g;){var v=31-xs(g),R=1<<v;d[v]=-1,g&=~R}u!==0&&Ho(i,u,a)}function Ru(){return(Sn&(Ns|$i))===Js?(hh(0),!1):!0}function O0(){if(an!==null){if(Rn===Bs)var i=an.return;else i=an,qm(),Xv(i),sf=null,$h=0,i=an;for(;i!==null;)TA(i.alternate,i),i=i.return;an=null}}function ku(i,a){var u=i.timeoutHandle;u!==Cc&&(i.timeoutHandle=Cc,t8(u)),u=i.cancelPendingCommit,u!==null&&(i.cancelPendingCommit=null,u()),O0(),Ln=i,an=u=Wo(i.current,null),dn=a,Rn=Bs,ei=null,Za=!1,pf=Yt(i,a),dw=!1,ur=ua,Nc=ti=hw=Qa=Ga=0,Ss=Gh=null,lb=!1,(a&8)!==0&&(a|=a&32);var d=i.entangledLanes;if(d!==0)for(i=i.entanglements,d&=a;0<d;){var g=31-xs(d),v=1<<g;a|=i[g],d&=~v}return No=a,zm(),a=rk(),1e3<a-nk&&(Be.recentlyCreatedOwnerStacks=0,nk=a),Bi.discardPendingWarnings(),u}function eC(i,a){Ht=null,Be.H=ib,Be.getCurrentStack=null,xo=!1,Qs=null,a===Fh||a===eb?(a=A3(),Rn=Kh):a===lk?(a=A3(),Rn=nP):Rn=a===qk?fw:a!==null&&typeof a=="object"&&typeof a.then=="function"?hf:Yh,ei=a;var u=an;if(u===null)ur=Xh,gg(i,Xs(a,i.current));else switch(u.mode&Gr&&Ov(u),qe(),Rn){case Yh:bt!==null&&typeof bt.markComponentErrored=="function"&&bt.markComponentErrored(u,a,dn);break;case _c:case wc:case Kh:case hf:case Zh:bt!==null&&typeof bt.markComponentSuspended=="function"&&bt.markComponentSuspended(u,a,dn)}}function tC(){var i=Be.H;return Be.H=ib,i===null?ib:i}function nC(){var i=Be.A;return Be.A=Uz,i}function U0(){ur=vc,Za||(dn&4194048)!==dn&&wi.current!==null||(pf=!0),(Ga&134217727)===0&&(Qa&134217727)===0||Ln===null||Ua(Ln,dn,ti,!1)}function V0(i,a,u){var d=Sn;Sn|=Ns;var g=tC(),v=nC();if(Ln!==i||dn!==a){if(Vi){var R=i.memoizedUpdaters;0<R.size&&(dh(i,dn),R.clear()),zt(i,a)}Qh=null,ku(i,a)}Ye(a),a=!1,R=ur;e:do try{if(Rn!==Bs&&an!==null){var I=an,q=ei;switch(Rn){case fw:O0(),R=ab;break e;case Kh:case _c:case wc:case hf:wi.current===null&&(a=!0);var re=Rn;if(Rn=Bs,ei=null,Pu(i,I,q,re),u&&pf){R=ua;break e}break;default:re=Rn,Rn=Bs,ei=null,Pu(i,I,q,re)}}rC(),R=ur;break}catch(Oe){eC(i,Oe)}while(!0);return a&&i.shellSuspendCounter++,qm(),Sn=d,Be.H=g,Be.A=v,tt(),an===null&&(Ln=null,dn=0,zm()),R}function rC(){for(;an!==null;)sC(an)}function TL(i,a){var u=Sn;Sn|=Ns;var d=tC(),g=nC();if(Ln!==i||dn!==a){if(Vi){var v=i.memoizedUpdaters;0<v.size&&(dh(i,dn),v.clear()),zt(i,a)}Qh=null,cb=mo()+sP,ku(i,a)}else pf=Yt(i,a);Ye(a);e:do try{if(Rn!==Bs&&an!==null)t:switch(a=an,v=ei,Rn){case Yh:Rn=Bs,ei=null,Pu(i,a,v,Yh);break;case _c:case wc:if(E3(v)){Rn=Bs,ei=null,iC(a);break}a=function(){Rn!==_c&&Rn!==wc||Ln!==i||(Rn=Zh),fo(i)},v.then(a,a);break e;case Kh:Rn=Zh;break e;case nP:Rn=uw;break e;case Zh:E3(v)?(Rn=Bs,ei=null,iC(a)):(Rn=Bs,ei=null,Pu(i,a,v,Zh));break;case uw:var R=null;switch(an.tag){case 26:R=an.memoizedState;case 5:case 27:var I=an;if(!R||YC(R)){Rn=Bs,ei=null;var q=I.sibling;if(q!==null)an=q;else{var re=I.return;re!==null?(an=re,wg(re)):an=null}break t}break;default:console.error("Unexpected type of fiber triggered a suspensey commit. This is a bug in React.")}Rn=Bs,ei=null,Pu(i,a,v,uw);break;case hf:Rn=Bs,ei=null,Pu(i,a,v,hf);break;case fw:O0(),ur=ab;break e;default:throw Error("Unexpected SuspendedReason. This is a bug in React.")}Be.actQueue!==null?rC():AL();break}catch(Oe){eC(i,Oe)}while(!0);return qm(),Be.H=d,Be.A=g,Sn=u,an!==null?(bt!==null&&typeof bt.markRenderYielded=="function"&&bt.markRenderYielded(),ua):(tt(),Ln=null,dn=0,zm(),ur)}function AL(){for(;an!==null&&!N5();)sC(an)}function sC(i){var a=i.alternate;(i.mode&Gr)!==qn?(Iv(i),a=ie(i,A0,a,i,No),Ov(i)):a=ie(i,A0,a,i,No),i.memoizedProps=i.pendingProps,a===null?wg(i):an=a}function iC(i){var a=ie(i,CL,i);i.memoizedProps=i.pendingProps,a===null?wg(i):an=a}function CL(i){var a=i.alternate,u=(i.mode&Gr)!==qn;switch(u&&Iv(i),i.tag){case 15:case 0:a=xA(a,i,i.pendingProps,i.type,void 0,dn);break;case 11:a=xA(a,i,i.pendingProps,i.type.render,i.ref,dn);break;case 5:Xv(i);default:TA(a,i),i=an=p3(i,No),a=A0(a,i,No)}return u&&Ov(i),a}function Pu(i,a,u,d){qm(),Xv(a),sf=null,$h=0;var g=a.return;try{if(hL(i,g,a,u,dn)){ur=Xh,gg(i,Xs(u,i.current)),an=null;return}}catch(v){if(g!==null)throw an=g,v;ur=Xh,gg(i,Xs(u,i.current)),an=null;return}a.flags&32768?(bn||d===Yh?i=!0:pf||(dn&536870912)!==0?i=!1:(Za=i=!0,(d===_c||d===wc||d===Kh||d===hf)&&(d=wi.current,d!==null&&d.tag===13&&(d.flags|=16384))),oC(a,i)):wg(a)}function wg(i){var a=i;do{if((a.flags&32768)!==0){oC(a,Za);return}var u=a.alternate;if(i=a.return,Iv(a),u=ie(a,mL,u,a,No),(a.mode&Gr)!==qn&&_3(a),u!==null){an=u;return}if(a=a.sibling,a!==null){an=a;return}an=a=i}while(a!==null);ur===ua&&(ur=tP)}function oC(i,a){do{var u=gL(i.alternate,i);if(u!==null){u.flags&=32767,an=u;return}if((i.mode&Gr)!==qn){_3(i),u=i.actualDuration;for(var d=i.child;d!==null;)u+=d.actualDuration,d=d.sibling;i.actualDuration=u}if(u=i.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!a&&(i=i.sibling,i!==null)){an=i;return}an=i=u}while(i!==null);ur=ab,an=null}function F0(i,a,u,d,g,v,R,I,q){i.cancelPendingCommit=null;do fh();while(Jr!==Sc);if(Bi.flushLegacyContextWarning(),Bi.flushPendingUnsafeLifecycleWarnings(),(Sn&(Ns|$i))!==Js)throw Error("Should not already be working.");if(bt!==null&&typeof bt.markCommitStarted=="function"&&bt.markCommitStarted(u),a===null)oe();else{if(u===0&&console.error("finishedLanes should not be empty during a commit. This is a bug in React."),a===i.current)throw Error("Cannot commit the same tree as before. This error is likely caused by a bug in React. Please file an issue.");if(v=a.lanes|a.childLanes,v|=z_,ms(i,u,v,R,I,q),i===Ln&&(an=Ln=null,dn=0),mf=a,el=i,tl=u,gw=v,bw=g,lP=d,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,ML(Uu,function(){return fC(),null})):(i.callbackNode=null,i.callbackPriority=0),Zg=Ju(),d=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||d){d=Be.T,Be.T=null,g=Nn.p,Nn.p=hi,R=Sn,Sn|=$i;try{wL(i,a,u)}finally{Sn=R,Nn.p=g,Be.T=d}}Jr=iP,aC(),lC(),cC()}}function aC(){if(Jr===iP){Jr=Sc;var i=el,a=mf,u=tl,d=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||d){d=Be.T,Be.T=null;var g=Nn.p;Nn.p=hi;var v=Sn;Sn|=$i;try{uf=u,ff=i,FA(a,i),ff=uf=null,u=Cw;var R=c3(i.containerInfo),I=u.focusedElem,q=u.selectionRange;if(R!==I&&I&&I.ownerDocument&&l3(I.ownerDocument.documentElement,I)){if(q!==null&&_v(I)){var re=q.start,Oe=q.end;if(Oe===void 0&&(Oe=re),"selectionStart"in I)I.selectionStart=re,I.selectionEnd=Math.min(Oe,I.value.length);else{var Le=I.ownerDocument||document,Ie=Le&&Le.defaultView||window;if(Ie.getSelection){var We=Ie.getSelection(),_t=I.textContent.length,Vt=Math.min(q.start,_t),zn=q.end===void 0?Vt:Math.min(q.end,_t);!We.extend&&Vt>zn&&(R=zn,zn=Vt,Vt=R);var mn=a3(I,Vt),fe=a3(I,zn);if(mn&&fe&&(We.rangeCount!==1||We.anchorNode!==mn.node||We.anchorOffset!==mn.offset||We.focusNode!==fe.node||We.focusOffset!==fe.offset)){var me=Le.createRange();me.setStart(mn.node,mn.offset),We.removeAllRanges(),Vt>zn?(We.addRange(me),We.extend(fe.node,fe.offset)):(me.setEnd(fe.node,fe.offset),We.addRange(me))}}}}for(Le=[],We=I;We=We.parentNode;)We.nodeType===1&&Le.push({element:We,left:We.scrollLeft,top:We.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<Le.length;I++){var Ne=Le[I];Ne.element.scrollLeft=Ne.left,Ne.element.scrollTop=Ne.top}}Eb=!!Aw,Cw=Aw=null}finally{Sn=v,Nn.p=g,Be.T=d}}i.current=a,Jr=oP}}function lC(){if(Jr===oP){Jr=Sc;var i=el,a=mf,u=tl,d=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||d){d=Be.T,Be.T=null;var g=Nn.p;Nn.p=hi;var v=Sn;Sn|=$i;try{bt!==null&&typeof bt.markLayoutEffectsStarted=="function"&&bt.markLayoutEffectsStarted(u),uf=u,ff=i,IA(i,a.alternate,a),ff=uf=null,bt!==null&&typeof bt.markLayoutEffectsStopped=="function"&&bt.markLayoutEffectsStopped()}finally{Sn=v,Nn.p=g,Be.T=d}}Jr=aP}}function cC(){if(Jr===$z||Jr===aP){Jr=Sc,S5();var i=el,a=mf,u=tl,d=lP,g=(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0;g?Jr=mw:(Jr=Sc,mf=el=null,uC(i,i.pendingLanes),Ec=0,ep=null);var v=i.pendingLanes;if(v===0&&(Ja=null),g||mC(i),g=un(u),a=a.stateNode,ss&&typeof ss.onCommitFiberRoot=="function")try{var R=(a.current.flags&128)===128;switch(g){case hi:var I=v_;break;case bo:I=__;break;case na:I=Uu;break;case Fg:I=w_;break;default:I=Uu}ss.onCommitFiberRoot(Vu,a,I,R)}catch(Le){go||(go=!0,console.error("React instrumentation encountered an error: %s",Le))}if(Vi&&i.memoizedUpdaters.clear(),SL(),d!==null){R=Be.T,I=Nn.p,Nn.p=hi,Be.T=null;try{var q=i.onRecoverableError;for(a=0;a<d.length;a++){var re=d[a],Oe=RL(re.stack);ie(re.source,q,re.value,Oe)}}finally{Be.T=R,Nn.p=I}}(tl&3)!==0&&fh(),fo(i),v=i.pendingLanes,(u&4194090)!==0&&(v&42)!==0?(Qg=!0,i===xw?Jh++:(Jh=0,xw=i)):Jh=0,hh(0),oe()}}function RL(i){return i={componentStack:i},Object.defineProperty(i,"digest",{get:function(){console.error('You are accessing "digest" from the errorInfo object passed to onRecoverableError. This property is no longer provided as part of errorInfo but can be accessed as a property of the Error instance itself.')}}),i}function uC(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,Gd(a)))}function fh(i){return aC(),lC(),cC(),fC()}function fC(){if(Jr!==mw)return!1;var i=el,a=gw;gw=0;var u=un(tl),d=na>u?na:u;u=Be.T;var g=Nn.p;try{Nn.p=d,Be.T=null,d=bw,bw=null;var v=el,R=tl;if(Jr=Sc,mf=el=null,tl=0,(Sn&(Ns|$i))!==Js)throw Error("Cannot flush passive effects while already rendering.");yw=!0,ub=!1,bt!==null&&typeof bt.markPassiveEffectsStarted=="function"&&bt.markPassiveEffectsStarted(R);var I=Sn;if(Sn|=$i,XA(v.current),$A(v,v.current,R,d),bt!==null&&typeof bt.markPassiveEffectsStopped=="function"&&bt.markPassiveEffectsStopped(),mC(v),Sn=I,hh(0,!1),ub?v===ep?Ec++:(Ec=0,ep=v):Ec=0,ub=yw=!1,ss&&typeof ss.onPostCommitFiberRoot=="function")try{ss.onPostCommitFiberRoot(Vu,v)}catch(re){go||(go=!0,console.error("React instrumentation encountered an error: %s",re))}var q=v.current.stateNode;return q.effectDuration=0,q.passiveEffectDuration=0,!0}finally{Nn.p=g,Be.T=u,uC(i,a)}}function dC(i,a,u){a=Xs(u,a),a=g0(i.stateNode,a,2),i=Ma(i,a,2),i!==null&&(Wr(i,2),fo(i))}function jn(i,a,u){if(gf=!1,i.tag===3)dC(i,i,u);else{for(;a!==null;){if(a.tag===3){dC(a,i,u);return}if(a.tag===1){var d=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Ja===null||!Ja.has(d))){i=Xs(u,i),u=b0(2),d=Ma(a,u,2),d!==null&&(x0(u,d,a,i),Wr(d,2),fo(d));return}}a=a.return}console.error(`Internal React error: Attempted to capture a commit phase error inside a detached tree. This indicates a bug in React. Potential causes include deleting the same fiber more than once, committing an already-finished tree, or an inconsistent return pointer.

Error message:

%s`,u)}}function B0(i,a,u){var d=i.pingCache;if(d===null){d=i.pingCache=new Fz;var g=new Set;d.set(a,g)}else g=d.get(a),g===void 0&&(g=new Set,d.set(a,g));g.has(u)||(dw=!0,g.add(u),d=kL.bind(null,i,a,u),Vi&&dh(i,u),a.then(d,d))}function kL(i,a,u){var d=i.pingCache;d!==null&&d.delete(a),i.pingedLanes|=i.suspendedLanes&u,i.warmLanes&=~u,ZA()&&Be.actQueue===null&&console.error(`A suspended resource finished loading inside a test, but the event was not wrapped in act(...).

When testing, code that resolves suspended data should be wrapped into act(...):

act(() => {
  /* finish loading suspended data */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act`),Ln===i&&(dn&u)===u&&(ur===vc||ur===cw&&(dn&62914560)===dn&&mo()-pw<rP?(Sn&Ns)===Js&&ku(i,0):hw|=u,Nc===dn&&(Nc=0)),fo(i)}function hC(i,a){a===0&&(a=ar()),i=js(i,a),i!==null&&(Wr(i,a),fo(i))}function PL(i){var a=i.memoizedState,u=0;a!==null&&(u=a.retryLane),hC(i,u)}function DL(i,a){var u=0;switch(i.tag){case 13:var d=i.stateNode,g=i.memoizedState;g!==null&&(u=g.retryLane);break;case 19:d=i.stateNode;break;case 22:d=i.stateNode._retryCache;break;default:throw Error("Pinged unknown suspense boundary type. This is probably a bug in React.")}d!==null&&d.delete(a),hC(i,u)}function L0(i,a,u){if((a.subtreeFlags&67117056)!==0)for(a=a.child;a!==null;){var d=i,g=a,v=g.type===jg;v=u||v,g.tag!==22?g.flags&67108864?v&&ie(g,pC,d,g,(g.mode&JR)===qn):L0(d,g,v):g.memoizedState===null&&(v&&g.flags&8192?ie(g,pC,d,g):g.subtreeFlags&67108864&&ie(g,L0,d,g,v)),a=a.sibling}}function pC(i,a){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:!0;xe(!0);try{LA(a),u&&YA(a),zA(i,a.alternate,a,!1),u&&HA(i,a,0,null,!1,0)}finally{xe(!1)}}function mC(i){var a=!0;i.current.mode&(os|Fi)||(a=!1),L0(i,i.current,a)}function gC(i){if((Sn&Ns)===Js){var a=i.tag;if(a===3||a===1||a===0||a===11||a===14||a===15){if(a=G(i)||"ReactComponent",fb!==null){if(fb.has(a))return;fb.add(a)}else fb=new Set([a]);ie(i,function(){console.error("Can't perform a React state update on a component that hasn't mounted yet. This indicates that you have a side-effect in your render function that asynchronously later calls tries to update the component. Move this work to useEffect instead.")})}}}function dh(i,a){Vi&&i.memoizedUpdaters.forEach(function(u){xt(i,u,a)})}function ML(i,a){var u=Be.actQueue;return u!==null?(u.push(a),qz):y_(i,a)}function jL(i){ZA()&&Be.actQueue===null&&ie(i,function(){console.error(`An update to %s inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act`,G(i))})}function fo(i){i!==bf&&i.next===null&&(bf===null?db=bf=i:bf=bf.next=i),hb=!0,Be.actQueue!==null?_w||(_w=!0,vC()):vw||(vw=!0,vC())}function hh(i,a){if(!ww&&hb){ww=!0;do for(var u=!1,d=db;d!==null;){if(i!==0){var g=d.pendingLanes;if(g===0)var v=0;else{var R=d.suspendedLanes,I=d.pingedLanes;v=(1<<31-xs(42|i)+1)-1,v&=g&~(R&~I),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(u=!0,yC(d,v))}else v=dn,v=Lt(d,d===Ln?v:0,d.cancelPendingCommit!==null||d.timeoutHandle!==Cc),(v&3)===0||Yt(d,v)||(u=!0,yC(d,v));d=d.next}while(u);ww=!1}}function IL(){z0()}function z0(){hb=_w=vw=!1;var i=0;Tc!==0&&(BL()&&(i=Tc),Tc=0);for(var a=mo(),u=null,d=db;d!==null;){var g=d.next,v=bC(d,a);v===0?(d.next=null,u===null?db=g:u.next=g,g===null&&(bf=u)):(u=d,(i!==0||(v&3)!==0)&&(hb=!0)),d=g}hh(i)}function bC(i,a){for(var u=i.suspendedLanes,d=i.pingedLanes,g=i.expirationTimes,v=i.pendingLanes&-62914561;0<v;){var R=31-xs(v),I=1<<R,q=g[R];q===-1?((I&u)===0||(I&d)!==0)&&(g[R]=Ot(I,a)):q<=a&&(i.expiredLanes|=I),v&=~I}if(a=Ln,u=dn,u=Lt(i,i===a?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==Cc),d=i.callbackNode,u===0||i===a&&(Rn===_c||Rn===wc)||i.cancelPendingCommit!==null)return d!==null&&$0(d),i.callbackNode=null,i.callbackPriority=0;if((u&3)===0||Yt(i,u)){if(a=u&-u,a!==i.callbackPriority||Be.actQueue!==null&&d!==Nw)$0(d);else return a;switch(un(u)){case hi:case bo:u=__;break;case na:u=Uu;break;case Fg:u=w_;break;default:u=Uu}return d=xC.bind(null,i),Be.actQueue!==null?(Be.actQueue.push(d),u=Nw):u=y_(u,d),i.callbackPriority=a,i.callbackNode=u,a}return d!==null&&$0(d),i.callbackPriority=2,i.callbackNode=null,2}function xC(i,a){if(Qg=Gg=!1,Jr!==Sc&&Jr!==mw)return i.callbackNode=null,i.callbackPriority=0,null;var u=i.callbackNode;if(fh()&&i.callbackNode!==u)return null;var d=dn;return d=Lt(i,i===Ln?d:0,i.cancelPendingCommit!==null||i.timeoutHandle!==Cc),d===0?null:(QA(i,d,a),bC(i,mo()),i.callbackNode!=null&&i.callbackNode===u?xC.bind(null,i):null)}function yC(i,a){if(fh())return null;Gg=Qg,Qg=!1,QA(i,a,!0)}function $0(i){i!==Nw&&i!==null&&w5(i)}function vC(){Be.actQueue!==null&&Be.actQueue.push(function(){return z0(),null}),n8(function(){(Sn&(Ns|$i))!==Js?y_(v_,IL):z0()})}function H0(){return Tc===0&&(Tc=Pt()),Tc}function _C(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:(se(i,"action"),Hd(""+i))}function wC(i,a){var u=a.ownerDocument.createElement("input");return u.name=a.name,u.value=a.value,i.id&&u.setAttribute("form",i.id),a.parentNode.insertBefore(u,a),i=new FormData(i),u.parentNode.removeChild(u),i}function OL(i,a,u,d,g){if(a==="submit"&&u&&u.stateNode===g){var v=_C((g[Us]||null).action),R=d.submitter;R&&(a=(a=R[Us]||null)?_C(a.formAction):R.getAttribute("formAction"),a!==null&&(v=a,R=null));var I=new Hg("action","action",null,d,g);i.push({event:I,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Tc!==0){var q=R?wC(g,R):new FormData(g),re={pending:!0,data:q,method:g.method,action:v};Object.freeze(re),c0(u,re,null,q)}}else typeof v=="function"&&(I.preventDefault(),q=R?wC(g,R):new FormData(g),re={pending:!0,data:q,method:g.method,action:v},Object.freeze(re),c0(u,re,v,q))},currentTarget:g}]})}}function Ng(i,a,u){i.currentTarget=u;try{a(i)}catch(d){sw(d)}i.currentTarget=null}function NC(i,a){a=(a&4)!==0;for(var u=0;u<i.length;u++){var d=i[u];e:{var g=void 0,v=d.event;if(d=d.listeners,a)for(var R=d.length-1;0<=R;R--){var I=d[R],q=I.instance,re=I.currentTarget;if(I=I.listener,q!==g&&v.isPropagationStopped())break e;q!==null?ie(q,Ng,v,I,re):Ng(v,I,re),g=q}else for(R=0;R<d.length;R++){if(I=d[R],q=I.instance,re=I.currentTarget,I=I.listener,q!==g&&v.isPropagationStopped())break e;q!==null?ie(q,Ng,v,I,re):Ng(v,I,re),g=q}}}}function pn(i,a){Sw.has(i)||console.error('Did not expect a listenToNonDelegatedEvent() call for "%s". This is a bug in React. Please file an issue.',i);var u=a[N_];u===void 0&&(u=a[N_]=new Set);var d=i+"__bubble";u.has(d)||(SC(a,i,2,!1),u.add(d))}function W0(i,a,u){Sw.has(i)&&!a&&console.error('Did not expect a listenToNativeEvent() call for "%s" in the bubble phase. This is a bug in React. Please file an issue.',i);var d=0;a&&(d|=4),SC(u,i,d,a)}function q0(i){if(!i[pb]){i[pb]=!0,aR.forEach(function(u){u!=="selectionchange"&&(Sw.has(u)||W0(u,!1,i),W0(u,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[pb]||(a[pb]=!0,W0("selectionchange",!1,a))}}function SC(i,a,u,d){switch(JC(a)){case hi:var g=d5;break;case bo:g=h5;break;default:g=a_}u=g.bind(null,a,u,i),g=void 0,!P_||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),d?g!==void 0?i.addEventListener(a,u,{capture:!0,passive:g}):i.addEventListener(a,u,!0):g!==void 0?i.addEventListener(a,u,{passive:g}):i.addEventListener(a,u,!1)}function X0(i,a,u,d,g){var v=d;if((a&1)===0&&(a&2)===0&&d!==null)e:for(;;){if(d===null)return;var R=d.tag;if(R===3||R===4){var I=d.stateNode.containerInfo;if(I===g)break;if(R===4)for(R=d.return;R!==null;){var q=R.tag;if((q===3||q===4)&&R.stateNode.containerInfo===g)return;R=R.return}for(;I!==null;){if(R=Er(I),R===null)return;if(q=R.tag,q===5||q===6||q===26||q===27){d=v=R;continue e}I=I.parentNode}}d=d.return}ZT(function(){var re=v,Oe=yv(u),Le=[];e:{var Ie=QR.get(i);if(Ie!==void 0){var We=Hg,_t=i;switch(i){case"keypress":if(Fm(u)===0)break e;case"keydown":case"keyup":We=cz;break;case"focusin":_t="focus",We=I_;break;case"focusout":_t="blur",We=I_;break;case"beforeblur":case"afterblur":We=I_;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":We=VR;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":We=G5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":We=dz;break;case YR:case KR:case ZR:We=ez;break;case GR:We=pz;break;case"scroll":case"scrollend":We=K5;break;case"wheel":We=gz;break;case"copy":case"cut":case"paste":We=nz;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":We=BR;break;case"toggle":case"beforetoggle":We=xz}var Vt=(a&4)!==0,zn=!Vt&&(i==="scroll"||i==="scrollend"),mn=Vt?Ie!==null?Ie+"Capture":null:Ie;Vt=[];for(var fe=re,me;fe!==null;){var Ne=fe;if(me=Ne.stateNode,Ne=Ne.tag,Ne!==5&&Ne!==26&&Ne!==27||me===null||mn===null||(Ne=Wd(fe,mn),Ne!=null&&Vt.push(ph(fe,Ne,me))),zn)break;fe=fe.return}0<Vt.length&&(Ie=new We(Ie,_t,null,u,Oe),Le.push({event:Ie,listeners:Vt}))}}if((a&7)===0){e:{if(Ie=i==="mouseover"||i==="pointerover",We=i==="mouseout"||i==="pointerout",Ie&&u!==Sh&&(_t=u.relatedTarget||u.fromElement)&&(Er(_t)||_t[Ha]))break e;if((We||Ie)&&(Ie=Oe.window===Oe?Oe:(Ie=Oe.ownerDocument)?Ie.defaultView||Ie.parentWindow:window,We?(_t=u.relatedTarget||u.toElement,We=re,_t=_t?Er(_t):null,_t!==null&&(zn=D(_t),Vt=_t.tag,_t!==zn||Vt!==5&&Vt!==27&&Vt!==6)&&(_t=null)):(We=null,_t=re),We!==_t)){if(Vt=VR,Ne="onMouseLeave",mn="onMouseEnter",fe="mouse",(i==="pointerout"||i==="pointerover")&&(Vt=BR,Ne="onPointerLeave",mn="onPointerEnter",fe="pointer"),zn=We==null?Ie:Qn(We),me=_t==null?Ie:Qn(_t),Ie=new Vt(Ne,fe+"leave",We,u,Oe),Ie.target=zn,Ie.relatedTarget=me,Ne=null,Er(Oe)===re&&(Vt=new Vt(mn,fe+"enter",_t,u,Oe),Vt.target=me,Vt.relatedTarget=zn,Ne=Vt),zn=Ne,We&&_t)t:{for(Vt=We,mn=_t,fe=0,me=Vt;me;me=Du(me))fe++;for(me=0,Ne=mn;Ne;Ne=Du(Ne))me++;for(;0<fe-me;)Vt=Du(Vt),fe--;for(;0<me-fe;)mn=Du(mn),me--;for(;fe--;){if(Vt===mn||mn!==null&&Vt===mn.alternate)break t;Vt=Du(Vt),mn=Du(mn)}Vt=null}else Vt=null;We!==null&&EC(Le,Ie,We,Vt,!1),_t!==null&&zn!==null&&EC(Le,zn,_t,Vt,!0)}}e:{if(Ie=re?Qn(re):window,We=Ie.nodeName&&Ie.nodeName.toLowerCase(),We==="select"||We==="input"&&Ie.type==="file")var Xe=r3;else if(t3(Ie))if(qR)Xe=nL;else{Xe=eL;var ct=JB}else We=Ie.nodeName,!We||We.toLowerCase()!=="input"||Ie.type!=="checkbox"&&Ie.type!=="radio"?re&&$d(re.elementType)&&(Xe=r3):Xe=tL;if(Xe&&(Xe=Xe(i,re))){n3(Le,Xe,u,Oe);break e}ct&&ct(i,Ie,re),i==="focusout"&&re&&Ie.type==="number"&&re.memoizedProps.value!=null&&Tt(Ie,"number",Ie.value)}switch(ct=re?Qn(re):window,i){case"focusin":(t3(ct)||ct.contentEditable==="true")&&(Wu=ct,U_=re,Ph=null);break;case"focusout":Ph=U_=Wu=null;break;case"mousedown":V_=!0;break;case"contextmenu":case"mouseup":case"dragend":V_=!1,u3(Le,u,Oe);break;case"selectionchange":if(wz)break;case"keydown":case"keyup":u3(Le,u,Oe)}var qt;if(O_)e:{switch(i){case"compositionstart":var wt="onCompositionStart";break e;case"compositionend":wt="onCompositionEnd";break e;case"compositionupdate":wt="onCompositionUpdate";break e}wt=void 0}else Hu?JT(i,u)&&(wt="onCompositionEnd"):i==="keydown"&&u.keyCode===LR&&(wt="onCompositionStart");wt&&(zR&&u.locale!=="ko"&&(Hu||wt!=="onCompositionStart"?wt==="onCompositionEnd"&&Hu&&(qt=GT()):(Wa=Oe,D_="value"in Wa?Wa.value:Wa.textContent,Hu=!0)),ct=Sg(re,wt),0<ct.length&&(wt=new FR(wt,i,null,u,Oe),Le.push({event:wt,listeners:ct}),qt?wt.data=qt:(qt=e3(u),qt!==null&&(wt.data=qt)))),(qt=vz?KB(i,u):ZB(i,u))&&(wt=Sg(re,"onBeforeInput"),0<wt.length&&(ct=new sz("onBeforeInput","beforeinput",null,u,Oe),Le.push({event:ct,listeners:wt}),ct.data=qt)),OL(Le,i,re,u,Oe)}NC(Le,a)})}function ph(i,a,u){return{instance:i,listener:a,currentTarget:u}}function Sg(i,a){for(var u=a+"Capture",d=[];i!==null;){var g=i,v=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||v===null||(g=Wd(i,u),g!=null&&d.unshift(ph(i,g,v)),g=Wd(i,a),g!=null&&d.push(ph(i,g,v))),i.tag===3)return d;i=i.return}return[]}function Du(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function EC(i,a,u,d,g){for(var v=a._reactName,R=[];u!==null&&u!==d;){var I=u,q=I.alternate,re=I.stateNode;if(I=I.tag,q!==null&&q===d)break;I!==5&&I!==26&&I!==27||re===null||(q=re,g?(re=Wd(u,v),re!=null&&R.unshift(ph(u,re,q))):g||(re=Wd(u,v),re!=null&&R.push(ph(u,re,q)))),u=u.return}R.length!==0&&i.push({event:a,listeners:R})}function Y0(i,a){WB(i,a),i!=="input"&&i!=="textarea"&&i!=="select"||a==null||a.value!==null||OR||(OR=!0,i==="select"&&a.multiple?console.error("`value` prop on `%s` should not be null. Consider using an empty array when `multiple` is set to `true` to clear the component or `undefined` for uncontrolled components.",i):console.error("`value` prop on `%s` should not be null. Consider using an empty string to clear the component or `undefined` for uncontrolled components.",i));var u={registrationNameDependencies:fc,possibleRegistrationNames:S_};$d(i)||typeof a.is=="string"||XB(i,a,u),a.contentEditable&&!a.suppressContentEditableWarning&&a.children!=null&&console.error("A component is `contentEditable` and contains `children` managed by React. It is now your responsibility to guarantee that none of those nodes are unexpectedly modified or duplicated. This is probably not intentional.")}function Lr(i,a,u,d){a!==u&&(u=Va(u),Va(a)!==u&&(d[i]=a))}function UL(i,a,u){a.forEach(function(d){u[CC(d)]=d==="style"?Z0(i):i.getAttribute(d)})}function ho(i,a){a===!1?console.error("Expected `%s` listener to be a function, instead got `false`.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.",i,i,i):console.error("Expected `%s` listener to be a function, instead got a value of `%s` type.",i,typeof a)}function TC(i,a){return i=i.namespaceURI===Lg||i.namespaceURI===Bu?i.ownerDocument.createElementNS(i.namespaceURI,i.tagName):i.ownerDocument.createElement(i.tagName),i.innerHTML=a,i.innerHTML}function Va(i){return V(i)&&(console.error("The provided HTML markup uses a value of unsupported type %s. This value must be coerced to a string before using it here.",Ke(i)),ue(i)),(typeof i=="string"?i:""+i).replace(Xz,`
`).replace(Yz,"")}function AC(i,a){return a=Va(a),Va(i)===a}function Eg(){}function In(i,a,u,d,g,v){switch(u){case"children":typeof d=="string"?(Vm(d,a,!1),a==="body"||a==="textarea"&&d===""||zd(i,d)):(typeof d=="number"||typeof d=="bigint")&&(Vm(""+d,a,!1),a!=="body"&&zd(i,""+d));break;case"className":At(i,"class",d);break;case"tabIndex":At(i,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":At(i,u,d);break;case"style":XT(i,d,v);break;case"data":if(a!=="object"){At(i,"data",d);break}case"src":case"href":if(d===""&&(a!=="a"||u!=="href")){console.error(u==="src"?'An empty string ("") was passed to the %s attribute. This may cause the browser to download the whole page again over the network. To fix this, either do not render the element at all or pass null to %s instead of an empty string.':'An empty string ("") was passed to the %s attribute. To fix this, either do not render the element at all or pass null to %s instead of an empty string.',u,u),i.removeAttribute(u);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){i.removeAttribute(u);break}se(d,u),d=Hd(""+d),i.setAttribute(u,d);break;case"action":case"formAction":if(d!=null&&(a==="form"?u==="formAction"?console.error("You can only pass the formAction prop to <input> or <button>. Use the action prop on <form>."):typeof d=="function"&&(g.encType==null&&g.method==null||bb||(bb=!0,console.error("Cannot specify a encType or method for a form that specifies a function as the action. React provides those automatically. They will get overridden.")),g.target==null||gb||(gb=!0,console.error("Cannot specify a target for a form that specifies a function as the action. The function will always be executed in the same window."))):a==="input"||a==="button"?u==="action"?console.error("You can only pass the action prop to <form>. Use the formAction prop on <input> or <button>."):a!=="input"||g.type==="submit"||g.type==="image"||mb?a!=="button"||g.type==null||g.type==="submit"||mb?typeof d=="function"&&(g.name==null||hP||(hP=!0,console.error('Cannot specify a "name" prop for a button that specifies a function as a formAction. React needs it to encode which action should be invoked. It will get overridden.')),g.formEncType==null&&g.formMethod==null||bb||(bb=!0,console.error("Cannot specify a formEncType or formMethod for a button that specifies a function as a formAction. React provides those automatically. They will get overridden.")),g.formTarget==null||gb||(gb=!0,console.error("Cannot specify a formTarget for a button that specifies a function as a formAction. The function will always be executed in the same window."))):(mb=!0,console.error('A button can only specify a formAction along with type="submit" or no type.')):(mb=!0,console.error('An input can only specify a formAction along with type="submit" or type="image".')):console.error(u==="action"?"You can only pass the action prop to <form>.":"You can only pass the formAction prop to <input> or <button>.")),typeof d=="function"){i.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(u==="formAction"?(a!=="input"&&In(i,a,"name",g.name,g,null),In(i,a,"formEncType",g.formEncType,g,null),In(i,a,"formMethod",g.formMethod,g,null),In(i,a,"formTarget",g.formTarget,g,null)):(In(i,a,"encType",g.encType,g,null),In(i,a,"method",g.method,g,null),In(i,a,"target",g.target,g,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){i.removeAttribute(u);break}se(d,u),d=Hd(""+d),i.setAttribute(u,d);break;case"onClick":d!=null&&(typeof d!="function"&&ho(u,d),i.onclick=Eg);break;case"onScroll":d!=null&&(typeof d!="function"&&ho(u,d),pn("scroll",i));break;case"onScrollEnd":d!=null&&(typeof d!="function"&&ho(u,d),pn("scrollend",i));break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error("`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://react.dev/link/dangerously-set-inner-html for more information.");if(u=d.__html,u!=null){if(g.children!=null)throw Error("Can only set one of `children` or `props.dangerouslySetInnerHTML`.");i.innerHTML=u}}break;case"multiple":i.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":i.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){i.removeAttribute("xlink:href");break}se(d,u),u=Hd(""+d),i.setAttributeNS(Ac,"xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?(se(d,u),i.setAttribute(u,""+d)):i.removeAttribute(u);break;case"inert":d!==""||xb[u]||(xb[u]=!0,console.error("Received an empty string for a boolean attribute `%s`. This will treat the attribute as if it were false. Either pass `false` to silence this warning, or pass `true` if you used an empty string in earlier versions of React to indicate this attribute is true.",u));case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(u,""):i.removeAttribute(u);break;case"capture":case"download":d===!0?i.setAttribute(u,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?(se(d,u),i.setAttribute(u,d)):i.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?(se(d,u),i.setAttribute(u,d)):i.removeAttribute(u);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?i.removeAttribute(u):(se(d,u),i.setAttribute(u,d));break;case"popover":pn("beforetoggle",i),pn("toggle",i),sn(i,"popover",d);break;case"xlinkActuate":sr(i,Ac,"xlink:actuate",d);break;case"xlinkArcrole":sr(i,Ac,"xlink:arcrole",d);break;case"xlinkRole":sr(i,Ac,"xlink:role",d);break;case"xlinkShow":sr(i,Ac,"xlink:show",d);break;case"xlinkTitle":sr(i,Ac,"xlink:title",d);break;case"xlinkType":sr(i,Ac,"xlink:type",d);break;case"xmlBase":sr(i,Ew,"xml:base",d);break;case"xmlLang":sr(i,Ew,"xml:lang",d);break;case"xmlSpace":sr(i,Ew,"xml:space",d);break;case"is":v!=null&&console.error('Cannot update the "is" prop after it has been initialized.'),sn(i,"is",d);break;case"innerText":case"textContent":break;case"popoverTarget":pP||d==null||typeof d!="object"||(pP=!0,console.error("The `popoverTarget` prop expects the ID of an Element as a string. Received %s instead.",d));default:!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N"?(u=YT(u),sn(i,u,d)):fc.hasOwnProperty(u)&&d!=null&&typeof d!="function"&&ho(u,d)}}function K0(i,a,u,d,g,v){switch(u){case"style":XT(i,d,v);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error("`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://react.dev/link/dangerously-set-inner-html for more information.");if(u=d.__html,u!=null){if(g.children!=null)throw Error("Can only set one of `children` or `props.dangerouslySetInnerHTML`.");i.innerHTML=u}}break;case"children":typeof d=="string"?zd(i,d):(typeof d=="number"||typeof d=="bigint")&&zd(i,""+d);break;case"onScroll":d!=null&&(typeof d!="function"&&ho(u,d),pn("scroll",i));break;case"onScrollEnd":d!=null&&(typeof d!="function"&&ho(u,d),pn("scrollend",i));break;case"onClick":d!=null&&(typeof d!="function"&&ho(u,d),i.onclick=Eg);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(fc.hasOwnProperty(u))d!=null&&typeof d!="function"&&ho(u,d);else e:{if(u[0]==="o"&&u[1]==="n"&&(g=u.endsWith("Capture"),a=u.slice(2,g?u.length-7:void 0),v=i[Us]||null,v=v!=null?v[u]:null,typeof v=="function"&&i.removeEventListener(a,v,g),typeof d=="function")){typeof v!="function"&&v!==null&&(u in i?i[u]=null:i.hasAttribute(u)&&i.removeAttribute(u)),i.addEventListener(a,d,g);break e}u in i?i[u]=d:d===!0?i.setAttribute(u,""):sn(i,u,d)}}}function Kr(i,a,u){switch(Y0(a,u),a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":pn("error",i),pn("load",i);var d=!1,g=!1,v;for(v in u)if(u.hasOwnProperty(v)){var R=u[v];if(R!=null)switch(v){case"src":d=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");default:In(i,a,v,R,u,null)}}g&&In(i,a,"srcSet",u.srcSet,u,null),d&&In(i,a,"src",u.src,u,null);return;case"input":Nt("input",u),pn("invalid",i);var I=v=R=g=null,q=null,re=null;for(d in u)if(u.hasOwnProperty(d)){var Oe=u[d];if(Oe!=null)switch(d){case"name":g=Oe;break;case"type":R=Oe;break;case"checked":q=Oe;break;case"defaultChecked":re=Oe;break;case"value":v=Oe;break;case"defaultValue":I=Oe;break;case"children":case"dangerouslySetInnerHTML":if(Oe!=null)throw Error(a+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");break;default:In(i,a,d,Oe,u,null)}}jt(i,u),Fn(i,v,I,q,re,R,g,!1),ht(i);return;case"select":Nt("select",u),pn("invalid",i),d=R=v=null;for(g in u)if(u.hasOwnProperty(g)&&(I=u[g],I!=null))switch(g){case"value":v=I;break;case"defaultValue":R=I;break;case"multiple":d=I;default:In(i,a,g,I,u,null)}Qe(i,u),a=v,u=R,i.multiple=!!d,a!=null?Se(i,!!d,a,!1):u!=null&&Se(i,!!d,u,!0);return;case"textarea":Nt("textarea",u),pn("invalid",i),v=g=d=null;for(R in u)if(u.hasOwnProperty(R)&&(I=u[R],I!=null))switch(R){case"value":d=I;break;case"defaultValue":g=I;break;case"children":v=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error("`dangerouslySetInnerHTML` does not make sense on <textarea>.");break;default:In(i,a,R,I,u,null)}mt(i,u),Bn(i,d,g,v),ht(i);return;case"option":Ct(i,u);for(q in u)if(u.hasOwnProperty(q)&&(d=u[q],d!=null))switch(q){case"selected":i.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:In(i,a,q,d,u,null)}return;case"dialog":pn("beforetoggle",i),pn("toggle",i),pn("cancel",i),pn("close",i);break;case"iframe":case"object":pn("load",i);break;case"video":case"audio":for(d=0;d<tp.length;d++)pn(tp[d],i);break;case"image":pn("error",i),pn("load",i);break;case"details":pn("toggle",i);break;case"embed":case"source":case"link":pn("error",i),pn("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(re in u)if(u.hasOwnProperty(re)&&(d=u[re],d!=null))switch(re){case"children":case"dangerouslySetInnerHTML":throw Error(a+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");default:In(i,a,re,d,u,null)}return;default:if($d(a)){for(Oe in u)u.hasOwnProperty(Oe)&&(d=u[Oe],d!==void 0&&K0(i,a,Oe,d,u,void 0));return}}for(I in u)u.hasOwnProperty(I)&&(d=u[I],d!=null&&In(i,a,I,d,u,null))}function VL(i,a,u,d){switch(Y0(a,d),a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,v=null,R=null,I=null,q=null,re=null,Oe=null;for(We in u){var Le=u[We];if(u.hasOwnProperty(We)&&Le!=null)switch(We){case"checked":break;case"value":break;case"defaultValue":q=Le;default:d.hasOwnProperty(We)||In(i,a,We,null,d,Le)}}for(var Ie in d){var We=d[Ie];if(Le=u[Ie],d.hasOwnProperty(Ie)&&(We!=null||Le!=null))switch(Ie){case"type":v=We;break;case"name":g=We;break;case"checked":re=We;break;case"defaultChecked":Oe=We;break;case"value":R=We;break;case"defaultValue":I=We;break;case"children":case"dangerouslySetInnerHTML":if(We!=null)throw Error(a+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");break;default:We!==Le&&In(i,a,Ie,We,d,Le)}}a=u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null,d=d.type==="checkbox"||d.type==="radio"?d.checked!=null:d.value!=null,a||!d||dP||(console.error("A component is changing an uncontrolled input to be controlled. This is likely caused by the value changing from undefined to a defined value, which should not happen. Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://react.dev/link/controlled-components"),dP=!0),!a||d||fP||(console.error("A component is changing a controlled input to be uncontrolled. This is likely caused by the value changing from a defined to undefined, which should not happen. Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://react.dev/link/controlled-components"),fP=!0),Ut(i,R,I,q,re,Oe,v,g);return;case"select":We=R=I=Ie=null;for(v in u)if(q=u[v],u.hasOwnProperty(v)&&q!=null)switch(v){case"value":break;case"multiple":We=q;default:d.hasOwnProperty(v)||In(i,a,v,null,d,q)}for(g in d)if(v=d[g],q=u[g],d.hasOwnProperty(g)&&(v!=null||q!=null))switch(g){case"value":Ie=v;break;case"defaultValue":I=v;break;case"multiple":R=v;default:v!==q&&In(i,a,g,v,d,q)}d=I,a=R,u=We,Ie!=null?Se(i,!!a,Ie,!1):!!u!=!!a&&(d!=null?Se(i,!!a,d,!0):Se(i,!!a,a?[]:"",!1));return;case"textarea":We=Ie=null;for(I in u)if(g=u[I],u.hasOwnProperty(I)&&g!=null&&!d.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:In(i,a,I,null,d,g)}for(R in d)if(g=d[R],v=u[R],d.hasOwnProperty(R)&&(g!=null||v!=null))switch(R){case"value":Ie=g;break;case"defaultValue":We=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error("`dangerouslySetInnerHTML` does not make sense on <textarea>.");break;default:g!==v&&In(i,a,R,g,d,v)}et(i,Ie,We);return;case"option":for(var _t in u)if(Ie=u[_t],u.hasOwnProperty(_t)&&Ie!=null&&!d.hasOwnProperty(_t))switch(_t){case"selected":i.selected=!1;break;default:In(i,a,_t,null,d,Ie)}for(q in d)if(Ie=d[q],We=u[q],d.hasOwnProperty(q)&&Ie!==We&&(Ie!=null||We!=null))switch(q){case"selected":i.selected=Ie&&typeof Ie!="function"&&typeof Ie!="symbol";break;default:In(i,a,q,Ie,d,We)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Vt in u)Ie=u[Vt],u.hasOwnProperty(Vt)&&Ie!=null&&!d.hasOwnProperty(Vt)&&In(i,a,Vt,null,d,Ie);for(re in d)if(Ie=d[re],We=u[re],d.hasOwnProperty(re)&&Ie!==We&&(Ie!=null||We!=null))switch(re){case"children":case"dangerouslySetInnerHTML":if(Ie!=null)throw Error(a+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");break;default:In(i,a,re,Ie,d,We)}return;default:if($d(a)){for(var zn in u)Ie=u[zn],u.hasOwnProperty(zn)&&Ie!==void 0&&!d.hasOwnProperty(zn)&&K0(i,a,zn,void 0,d,Ie);for(Oe in d)Ie=d[Oe],We=u[Oe],!d.hasOwnProperty(Oe)||Ie===We||Ie===void 0&&We===void 0||K0(i,a,Oe,Ie,d,We);return}}for(var mn in u)Ie=u[mn],u.hasOwnProperty(mn)&&Ie!=null&&!d.hasOwnProperty(mn)&&In(i,a,mn,null,d,Ie);for(Le in d)Ie=d[Le],We=u[Le],!d.hasOwnProperty(Le)||Ie===We||Ie==null&&We==null||In(i,a,Le,Ie,d,We)}function CC(i){switch(i){case"class":return"className";case"for":return"htmlFor";default:return i}}function Z0(i){var a={};i=i.style;for(var u=0;u<i.length;u++){var d=i[u];a[d]=i.getPropertyValue(d)}return a}function RC(i,a,u){if(a!=null&&typeof a!="object")console.error("The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.");else{var d,g=d="",v;for(v in a)if(a.hasOwnProperty(v)){var R=a[v];R!=null&&typeof R!="boolean"&&R!==""&&(v.indexOf("--")===0?(B(R,v),d+=g+v+":"+(""+R).trim()):typeof R!="number"||R===0||jR.has(v)?(B(R,v),d+=g+v.replace(RR,"-$1").toLowerCase().replace(kR,"-ms-")+":"+(""+R).trim()):d+=g+v.replace(RR,"-$1").toLowerCase().replace(kR,"-ms-")+":"+R+"px",g=";")}d=d||null,a=i.getAttribute("style"),a!==d&&(d=Va(d),Va(a)!==d&&(u.style=Z0(i)))}}function fi(i,a,u,d,g,v){if(g.delete(u),i=i.getAttribute(u),i===null)switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":return}else if(d!=null)switch(typeof d){case"function":case"symbol":case"boolean":break;default:if(se(d,a),i===""+d)return}Lr(a,i,d,v)}function kC(i,a,u,d,g,v){if(g.delete(u),i=i.getAttribute(u),i===null){switch(typeof d){case"function":case"symbol":return}if(!d)return}else switch(typeof d){case"function":case"symbol":break;default:if(d)return}Lr(a,i,d,v)}function G0(i,a,u,d,g,v){if(g.delete(u),i=i.getAttribute(u),i===null)switch(typeof d){case"undefined":case"function":case"symbol":return}else if(d!=null)switch(typeof d){case"function":case"symbol":break;default:if(se(d,u),i===""+d)return}Lr(a,i,d,v)}function PC(i,a,u,d,g,v){if(g.delete(u),i=i.getAttribute(u),i===null)switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":return;default:if(isNaN(d))return}else if(d!=null)switch(typeof d){case"function":case"symbol":case"boolean":break;default:if(!isNaN(d)&&(se(d,a),i===""+d))return}Lr(a,i,d,v)}function Q0(i,a,u,d,g,v){if(g.delete(u),i=i.getAttribute(u),i===null)switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":return}else if(d!=null)switch(typeof d){case"function":case"symbol":case"boolean":break;default:if(se(d,a),u=Hd(""+d),i===u)return}Lr(a,i,d,v)}function DC(i,a,u,d){for(var g={},v=new Set,R=i.attributes,I=0;I<R.length;I++)switch(R[I].name.toLowerCase()){case"value":break;case"checked":break;case"selected":break;default:v.add(R[I].name)}if($d(a)){for(var q in u)if(u.hasOwnProperty(q)){var re=u[q];if(re!=null){if(fc.hasOwnProperty(q))typeof re!="function"&&ho(q,re);else if(u.suppressHydrationWarning!==!0)switch(q){case"children":typeof re!="string"&&typeof re!="number"||Lr("children",i.textContent,re,g);continue;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":continue;case"dangerouslySetInnerHTML":R=i.innerHTML,re=re?re.__html:void 0,re!=null&&(re=TC(i,re),Lr(q,R,re,g));continue;case"style":v.delete(q),RC(i,re,g);continue;case"offsetParent":case"offsetTop":case"offsetLeft":case"offsetWidth":case"offsetHeight":case"isContentEditable":case"outerText":case"outerHTML":v.delete(q.toLowerCase()),console.error("Assignment to read-only property will result in a no-op: `%s`",q);continue;case"className":v.delete("class"),R=Gt(i,"class",re),Lr("className",R,re,g);continue;default:d.context===da&&a!=="svg"&&a!=="math"?v.delete(q.toLowerCase()):v.delete(q),R=Gt(i,q,re),Lr(q,R,re,g)}}}}else for(re in u)if(u.hasOwnProperty(re)&&(q=u[re],q!=null)){if(fc.hasOwnProperty(re))typeof q!="function"&&ho(re,q);else if(u.suppressHydrationWarning!==!0)switch(re){case"children":typeof q!="string"&&typeof q!="number"||Lr("children",i.textContent,q,g);continue;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"value":case"checked":case"selected":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":continue;case"dangerouslySetInnerHTML":R=i.innerHTML,q=q?q.__html:void 0,q!=null&&(q=TC(i,q),R!==q&&(g[re]={__html:R}));continue;case"className":fi(i,re,"class",q,v,g);continue;case"tabIndex":fi(i,re,"tabindex",q,v,g);continue;case"style":v.delete(re),RC(i,q,g);continue;case"multiple":v.delete(re),Lr(re,i.multiple,q,g);continue;case"muted":v.delete(re),Lr(re,i.muted,q,g);continue;case"autoFocus":v.delete("autofocus"),Lr(re,i.autofocus,q,g);continue;case"data":if(a!=="object"){v.delete(re),R=i.getAttribute("data"),Lr(re,R,q,g);continue}case"src":case"href":if(!(q!==""||a==="a"&&re==="href"||a==="object"&&re==="data")){console.error(re==="src"?'An empty string ("") was passed to the %s attribute. This may cause the browser to download the whole page again over the network. To fix this, either do not render the element at all or pass null to %s instead of an empty string.':'An empty string ("") was passed to the %s attribute. To fix this, either do not render the element at all or pass null to %s instead of an empty string.',re,re);continue}Q0(i,re,re,q,v,g);continue;case"action":case"formAction":if(R=i.getAttribute(re),typeof q=="function"){v.delete(re.toLowerCase()),re==="formAction"?(v.delete("name"),v.delete("formenctype"),v.delete("formmethod"),v.delete("formtarget")):(v.delete("enctype"),v.delete("method"),v.delete("target"));continue}else if(R===Kz){v.delete(re.toLowerCase()),Lr(re,"function",q,g);continue}Q0(i,re,re.toLowerCase(),q,v,g);continue;case"xlinkHref":Q0(i,re,"xlink:href",q,v,g);continue;case"contentEditable":G0(i,re,"contenteditable",q,v,g);continue;case"spellCheck":G0(i,re,"spellcheck",q,v,g);continue;case"draggable":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":G0(i,re,re,q,v,g);continue;case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":kC(i,re,re.toLowerCase(),q,v,g);continue;case"capture":case"download":e:{I=i;var Oe=R=re,Le=g;if(v.delete(Oe),I=I.getAttribute(Oe),I===null)switch(typeof q){case"undefined":case"function":case"symbol":break e;default:if(q===!1)break e}else if(q!=null)switch(typeof q){case"function":case"symbol":break;case"boolean":if(q===!0&&I==="")break e;break;default:if(se(q,R),I===""+q)break e}Lr(R,I,q,Le)}continue;case"cols":case"rows":case"size":case"span":e:{if(I=i,Oe=R=re,Le=g,v.delete(Oe),I=I.getAttribute(Oe),I===null)switch(typeof q){case"undefined":case"function":case"symbol":case"boolean":break e;default:if(isNaN(q)||1>q)break e}else if(q!=null)switch(typeof q){case"function":case"symbol":case"boolean":break;default:if(!(isNaN(q)||1>q)&&(se(q,R),I===""+q))break e}Lr(R,I,q,Le)}continue;case"rowSpan":PC(i,re,"rowspan",q,v,g);continue;case"start":PC(i,re,re,q,v,g);continue;case"xHeight":fi(i,re,"x-height",q,v,g);continue;case"xlinkActuate":fi(i,re,"xlink:actuate",q,v,g);continue;case"xlinkArcrole":fi(i,re,"xlink:arcrole",q,v,g);continue;case"xlinkRole":fi(i,re,"xlink:role",q,v,g);continue;case"xlinkShow":fi(i,re,"xlink:show",q,v,g);continue;case"xlinkTitle":fi(i,re,"xlink:title",q,v,g);continue;case"xlinkType":fi(i,re,"xlink:type",q,v,g);continue;case"xmlBase":fi(i,re,"xml:base",q,v,g);continue;case"xmlLang":fi(i,re,"xml:lang",q,v,g);continue;case"xmlSpace":fi(i,re,"xml:space",q,v,g);continue;case"inert":q!==""||xb[re]||(xb[re]=!0,console.error("Received an empty string for a boolean attribute `%s`. This will treat the attribute as if it were false. Either pass `false` to silence this warning, or pass `true` if you used an empty string in earlier versions of React to indicate this attribute is true.",re)),kC(i,re,re,q,v,g);continue;default:if(!(2<re.length)||re[0]!=="o"&&re[0]!=="O"||re[1]!=="n"&&re[1]!=="N"){I=YT(re),R=!1,d.context===da&&a!=="svg"&&a!=="math"?v.delete(I.toLowerCase()):(Oe=re.toLowerCase(),Oe=zg.hasOwnProperty(Oe)&&zg[Oe]||null,Oe!==null&&Oe!==re&&(R=!0,v.delete(Oe)),v.delete(I));e:if(Oe=i,Le=I,I=q,$t(Le))if(Oe.hasAttribute(Le))Oe=Oe.getAttribute(Le),se(I,Le),I=Oe===""+I?I:Oe;else{switch(typeof I){case"function":case"symbol":break e;case"boolean":if(Oe=Le.toLowerCase().slice(0,5),Oe!=="data-"&&Oe!=="aria-")break e}I=I===void 0?void 0:null}else I=void 0;R||Lr(re,I,q,g)}}}return 0<v.size&&u.suppressHydrationWarning!==!0&&UL(i,v,g),Object.keys(g).length===0?null:g}function FL(i,a){switch(i.length){case 0:return"";case 1:return i[0];case 2:return i[0]+" "+a+" "+i[1];default:return i.slice(0,-1).join(", ")+", "+a+" "+i[i.length-1]}}function Tg(i){return i.nodeType===9?i:i.ownerDocument}function MC(i){switch(i){case Bu:return xf;case Lg:return _b;default:return da}}function jC(i,a){if(i===da)switch(a){case"svg":return xf;case"math":return _b;default:return da}return i===xf&&a==="foreignObject"?da:i}function J0(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}function BL(){var i=window.event;return i&&i.type==="popstate"?i===Rw?!1:(Rw=i,!0):(Rw=null,!1)}function LL(i){setTimeout(function(){throw i})}function zL(i,a,u){switch(a){case"button":case"input":case"select":case"textarea":u.autoFocus&&i.focus();break;case"img":u.src?i.src=u.src:u.srcSet&&(i.srcset=u.srcSet)}}function $L(i,a,u,d){VL(i,a,u,d),i[Us]=d}function IC(i){zd(i,"")}function HL(i,a,u){i.nodeValue=u}function Fa(i){return i==="head"}function WL(i,a){i.removeChild(a)}function qL(i,a){(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).removeChild(a)}function OC(i,a){var u=a,d=0,g=0;do{var v=u.nextSibling;if(i.removeChild(u),v&&v.nodeType===8)if(u=v.data,u===vb){if(0<d&&8>d){u=d;var R=i.ownerDocument;if(u&Gz&&mh(R.documentElement),u&Qz&&mh(R.body),u&Jz)for(u=R.head,mh(u),R=u.firstChild;R;){var I=R.nextSibling,q=R.nodeName;R[wh]||q==="SCRIPT"||q==="STYLE"||q==="LINK"&&R.rel.toLowerCase()==="stylesheet"||u.removeChild(R),R=I}}if(g===0){i.removeChild(v),yh(a);return}g--}else u===yb||u===fa||u===np?g++:d=u.charCodeAt(0)-48;else d=0;u=v}while(u);yh(a)}function XL(i){i=i.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"}function YL(i){i.nodeValue=""}function KL(i,a){a=a[e8],a=a!=null&&a.hasOwnProperty("display")?a.display:null,i.style.display=a==null||typeof a=="boolean"?"":(""+a).trim()}function ZL(i,a){i.nodeValue=a}function e_(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var u=a;switch(a=a.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":e_(u),Sr(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}i.removeChild(u)}}function GL(i,a,u,d){for(;i.nodeType===1;){var g=u;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!d&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(d){if(!i[wh])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(v=i.getAttribute("rel"),v==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(v!==g.rel||i.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||i.getAttribute("title")!==(g.title==null?null:g.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(v=i.getAttribute("src"),(v!==(g.src==null?null:g.src)||i.getAttribute("type")!==(g.type==null?null:g.type)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&v&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){se(g.name,"name");var v=g.name==null?null:""+g.name;if(g.type==="hidden"&&i.getAttribute("name")===v)return i}else return i;if(i=di(i.nextSibling),i===null)break}return null}function QL(i,a,u){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!u||(i=di(i.nextSibling),i===null))return null;return i}function t_(i){return i.data===np||i.data===fa&&i.ownerDocument.readyState===gP}function JL(i,a){var u=i.ownerDocument;if(i.data!==fa||u.readyState===gP)a();else{var d=function(){a(),u.removeEventListener("DOMContentLoaded",d)};u.addEventListener("DOMContentLoaded",d),i._reactRetry=d}}function di(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a===yb||a===np||a===fa||a===Tw||a===mP)break;if(a===vb)return null}}return i}function UC(i){if(i.nodeType===1){for(var a=i.nodeName.toLowerCase(),u={},d=i.attributes,g=0;g<d.length;g++){var v=d[g];u[CC(v.name)]=v.name.toLowerCase()==="style"?Z0(i):v.value}return{type:a,props:u}}return i.nodeType===8?{type:"Suspense",props:{}}:i.nodeValue}function VC(i,a,u){return u===null||u[Zz]!==!0?(i.nodeValue===a?i=null:(a=Va(a),i=Va(i.nodeValue)===a?null:i.nodeValue),i):null}function FC(i){i=i.nextSibling;for(var a=0;i;){if(i.nodeType===8){var u=i.data;if(u===vb){if(a===0)return di(i.nextSibling);a--}else u!==yb&&u!==np&&u!==fa||a++}i=i.nextSibling}return null}function BC(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var u=i.data;if(u===yb||u===np||u===fa){if(a===0)return i;a--}else u===vb&&a++}i=i.previousSibling}return null}function e5(i){yh(i)}function t5(i){yh(i)}function LC(i,a,u,d,g){switch(g&&Ld(i,d.ancestorInfo),a=Tg(u),i){case"html":if(i=a.documentElement,!i)throw Error("React expected an <html> element (document.documentElement) to exist in the Document but one was not found. React never removes the documentElement for any Document it renders into so the cause is likely in some other script running on this page.");return i;case"head":if(i=a.head,!i)throw Error("React expected a <head> element (document.head) to exist in the Document but one was not found. React never removes the head for any Document it renders into so the cause is likely in some other script running on this page.");return i;case"body":if(i=a.body,!i)throw Error("React expected a <body> element (document.body) to exist in the Document but one was not found. React never removes the body for any Document it renders into so the cause is likely in some other script running on this page.");return i;default:throw Error("resolveSingletonInstance was called with an element type that is not supported. This is a bug in React.")}}function n5(i,a,u,d){if(!u[Ha]&&Mr(u)){var g=u.tagName.toLowerCase();console.error("You are mounting a new %s component when a previous one has not first unmounted. It is an error to render more than one %s component at a time and attributes and children of these components will likely fail in unpredictable ways. Please only render a single instance of <%s> and if you need to mount a new one, ensure any previous ones have unmounted first.",g,g,g)}switch(i){case"html":case"head":case"body":break;default:console.error("acquireSingletonInstance was called with an element type that is not supported. This is a bug in React.")}for(g=u.attributes;g.length;)u.removeAttributeNode(g[0]);Kr(u,i,a),u[is]=d,u[Us]=a}function mh(i){for(var a=i.attributes;a.length;)i.removeAttributeNode(a[0]);Sr(i)}function Ag(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}function zC(i,a,u){var d=yf;if(d&&typeof a=="string"&&a){var g=ft(a);g='link[rel="'+i+'"][href="'+g+'"]',typeof u=="string"&&(g+='[crossorigin="'+u+'"]'),wP.has(g)||(wP.add(g),i={rel:i,crossOrigin:u,href:a},d.querySelector(g)===null&&(a=d.createElement("link"),Kr(a,"link",i),Ee(a),d.head.appendChild(a)))}}function $C(i,a,u,d){var g=(g=za.current)?Ag(g):null;if(!g)throw Error('"resourceRoot" was expected to exist. This is a bug in React.');switch(i){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(u=Mu(u.href),a=$(g).hoistableStyles,d=a.get(u),d||(d={type:"style",instance:null,count:0,state:null},a.set(u,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){i=Mu(u.href);var v=$(g).hoistableStyles,R=v.get(i);if(!R&&(g=g.ownerDocument||g,R={type:"stylesheet",instance:null,count:0,state:{loading:Rc,preload:null}},v.set(i,R),(v=g.querySelector(gh(i)))&&!v._p&&(R.instance=v,R.state.loading=rp|Ni),!Si.has(i))){var I={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy};Si.set(i,I),v||r5(g,i,I,R.state)}if(a&&d===null)throw u=`

  - `+Cg(a)+`
  + `+Cg(u),Error("Expected <link> not to update to be updated to a stylesheet with precedence. Check the `rel`, `href`, and `precedence` props of this component. Alternatively, check whether two different <link> components render in the same slot or share the same key."+u);return R}if(a&&d!==null)throw u=`

  - `+Cg(a)+`
  + `+Cg(u),Error("Expected stylesheet with precedence to not be updated to a different kind of <link>. Check the `rel`, `href`, and `precedence` props of this component. Alternatively, check whether two different <link> components render in the same slot or share the same key."+u);return null;case"script":return a=u.async,u=u.src,typeof u=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(u=ju(u),a=$(g).hoistableScripts,d=a.get(u),d||(d={type:"script",instance:null,count:0,state:null},a.set(u,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error('getResource encountered a type it did not expect: "'+i+'". this is a bug in React.')}}function Cg(i){var a=0,u="<link";return typeof i.rel=="string"?(a++,u+=' rel="'+i.rel+'"'):ta.call(i,"rel")&&(a++,u+=' rel="'+(i.rel===null?"null":"invalid type "+typeof i.rel)+'"'),typeof i.href=="string"?(a++,u+=' href="'+i.href+'"'):ta.call(i,"href")&&(a++,u+=' href="'+(i.href===null?"null":"invalid type "+typeof i.href)+'"'),typeof i.precedence=="string"?(a++,u+=' precedence="'+i.precedence+'"'):ta.call(i,"precedence")&&(a++,u+=" precedence={"+(i.precedence===null?"null":"invalid type "+typeof i.precedence)+"}"),Object.getOwnPropertyNames(i).length>a&&(u+=" ..."),u+" />"}function Mu(i){return'href="'+ft(i)+'"'}function gh(i){return'link[rel="stylesheet"]['+i+"]"}function HC(i){return rn({},i,{"data-precedence":i.precedence,precedence:null})}function r5(i,a,u,d){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?d.loading=rp:(a=i.createElement("link"),d.preload=a,a.addEventListener("load",function(){return d.loading|=rp}),a.addEventListener("error",function(){return d.loading|=vP}),Kr(a,"link",u),Ee(a),i.head.appendChild(a))}function ju(i){return'[src="'+ft(i)+'"]'}function bh(i){return"script[async]"+i}function WC(i,a,u){if(a.count++,a.instance===null)switch(a.type){case"style":var d=i.querySelector('style[data-href~="'+ft(u.href)+'"]');if(d)return a.instance=d,Ee(d),d;var g=rn({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return d=(i.ownerDocument||i).createElement("style"),Ee(d),Kr(d,"style",g),Rg(d,u.precedence,i),a.instance=d;case"stylesheet":g=Mu(u.href);var v=i.querySelector(gh(g));if(v)return a.state.loading|=Ni,a.instance=v,Ee(v),v;d=HC(u),(g=Si.get(g))&&n_(d,g),v=(i.ownerDocument||i).createElement("link"),Ee(v);var R=v;return R._p=new Promise(function(I,q){R.onload=I,R.onerror=q}),Kr(v,"link",d),a.state.loading|=Ni,Rg(v,u.precedence,i),a.instance=v;case"script":return v=ju(u.src),(g=i.querySelector(bh(v)))?(a.instance=g,Ee(g),g):(d=u,(g=Si.get(v))&&(d=rn({},u),r_(d,g)),i=i.ownerDocument||i,g=i.createElement("script"),Ee(g),Kr(g,"link",d),i.head.appendChild(g),a.instance=g);case"void":return null;default:throw Error('acquireResource encountered a resource type it did not expect: "'+a.type+'". this is a bug in React.')}else a.type==="stylesheet"&&(a.state.loading&Ni)===Rc&&(d=a.instance,a.state.loading|=Ni,Rg(d,u.precedence,i));return a.instance}function Rg(i,a,u){for(var d=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=d.length?d[d.length-1]:null,v=g,R=0;R<d.length;R++){var I=d[R];if(I.dataset.precedence===a)v=I;else if(v!==g)break}v?v.parentNode.insertBefore(i,v.nextSibling):(a=u.nodeType===9?u.head:u,a.insertBefore(i,a.firstChild))}function n_(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function r_(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}function qC(i,a,u){if(wb===null){var d=new Map,g=wb=new Map;g.set(u,d)}else g=wb,d=g.get(u),d||(d=new Map,g.set(u,d));if(d.has(i))return d;for(d.set(i,null),u=u.getElementsByTagName(i),g=0;g<u.length;g++){var v=u[g];if(!(v[wh]||v[is]||i==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!==Bu){var R=v.getAttribute(a)||"";R=i+R;var I=d.get(R);I?I.push(v):d.set(R,[v])}}return d}function XC(i,a,u){i=i.ownerDocument||i,i.head.insertBefore(u,a==="title"?i.querySelector("head > title"):null)}function s5(i,a,u){var d=!u.ancestorInfo.containerTagInScope;if(u.context===xf||a.itemProp!=null)return!d||a.itemProp==null||i!=="meta"&&i!=="title"&&i!=="style"&&i!=="link"&&i!=="script"||console.error("Cannot render a <%s> outside the main document if it has an `itemProp` prop. `itemProp` suggests the tag belongs to an `itemScope` which can appear anywhere in the DOM. If you were intending for React to hoist this <%s> remove the `itemProp` prop. Otherwise, try moving this tag into the <head> or <body> of the Document.",i,i),!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href===""){d&&console.error('Cannot render a <style> outside the main document without knowing its precedence and a unique href key. React can hoist and deduplicate <style> tags if you provide a `precedence` prop along with an `href` prop that does not conflict with the `href` values used in any other hoisted <style> or <link rel="stylesheet" ...> tags.  Note that hoisting <style> tags is considered an advanced feature that most will not use directly. Consider moving the <style> tag to the <head> or consider adding a `precedence="default"` and `href="some unique resource identifier"`.');break}return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError){if(a.rel==="stylesheet"&&typeof a.precedence=="string"){i=a.href;var g=a.onError,v=a.disabled;u=[],a.onLoad&&u.push("`onLoad`"),g&&u.push("`onError`"),v!=null&&u.push("`disabled`"),g=FL(u,"and"),g+=u.length===1?" prop":" props",v=u.length===1?"an "+g:"the "+g,u.length&&console.error('React encountered a <link rel="stylesheet" href="%s" ... /> with a `precedence` prop that also included %s. The presence of loading and error handlers indicates an intent to manage the stylesheet loading state from your from your Component code and React will not hoist or deduplicate this stylesheet. If your intent was to have React hoist and deduplciate this stylesheet using the `precedence` prop remove the %s, otherwise remove the `precedence` prop.',i,v,g)}d&&(typeof a.rel!="string"||typeof a.href!="string"||a.href===""?console.error("Cannot render a <link> outside the main document without a `rel` and `href` prop. Try adding a `rel` and/or `href` prop to this <link> or moving the link into the <head> tag"):(a.onError||a.onLoad)&&console.error("Cannot render a <link> with onLoad or onError listeners outside the main document. Try removing onLoad={...} and onError={...} or moving it into the root <head> tag or somewhere in the <body>."));break}switch(a.rel){case"stylesheet":return i=a.precedence,a=a.disabled,typeof i!="string"&&d&&console.error('Cannot render a <link rel="stylesheet" /> outside the main document without knowing its precedence. Consider adding precedence="default" or moving it into the root <head> tag.'),typeof i=="string"&&a==null;default:return!0}case"script":if(i=a.async&&typeof a.async!="function"&&typeof a.async!="symbol",!i||a.onLoad||a.onError||!a.src||typeof a.src!="string"){d&&(i?a.onLoad||a.onError?console.error("Cannot render a <script> with onLoad or onError listeners outside the main document. Try removing onLoad={...} and onError={...} or moving it into the root <head> tag or somewhere in the <body>."):console.error("Cannot render a <script> outside the main document without `async={true}` and a non-empty `src` prop. Ensure there is a valid `src` and either make the script async or move it into the root <head> tag or somewhere in the <body>."):console.error('Cannot render a sync or defer <script> outside the main document without knowing its order. Try adding async="" or moving it into the root <head> tag.'));break}return!0;case"noscript":case"template":d&&console.error("Cannot render <%s> outside the main document. Try moving it into the root <head> tag.",i)}return!1}function YC(i){return!(i.type==="stylesheet"&&(i.state.loading&_P)===Rc)}function i5(){}function o5(i,a,u){if(sp===null)throw Error("Internal React Error: suspendedState null when it was expected to exists. Please report this as a React bug.");var d=sp;if(a.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(a.state.loading&Ni)===Rc){if(a.instance===null){var g=Mu(u.href),v=i.querySelector(gh(g));if(v){i=v._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(d.count++,d=kg.bind(d),i.then(d,d)),a.state.loading|=Ni,a.instance=v,Ee(v);return}v=i.ownerDocument||i,u=HC(u),(g=Si.get(g))&&n_(u,g),v=v.createElement("link"),Ee(v);var R=v;R._p=new Promise(function(I,q){R.onload=I,R.onerror=q}),Kr(v,"link",u),a.instance=v}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&_P)===Rc&&(d.count++,a=kg.bind(d),i.addEventListener("load",a),i.addEventListener("error",a))}}function a5(){if(sp===null)throw Error("Internal React Error: suspendedState null when it was expected to exists. Please report this as a React bug.");var i=sp;return i.stylesheets&&i.count===0&&s_(i,i.stylesheets),0<i.count?function(a){var u=setTimeout(function(){if(i.stylesheets&&s_(i,i.stylesheets),i.unsuspend){var d=i.unsuspend;i.unsuspend=null,d()}},6e4);return i.unsuspend=a,function(){i.unsuspend=null,clearTimeout(u)}}:null}function kg(){if(this.count--,this.count===0){if(this.stylesheets)s_(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}function s_(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Nb=new Map,a.forEach(l5,i),Nb=null,kg.call(i))}function l5(i,a){if(!(a.state.loading&Ni)){var u=Nb.get(i);if(u)var d=u.get(Pw);else{u=new Map,Nb.set(i,u);for(var g=i.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<g.length;v++){var R=g[v];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(u.set(R.dataset.precedence,R),d=R)}d&&u.set(Pw,d)}g=a.instance,R=g.getAttribute("data-precedence"),v=u.get(R)||d,v===d&&u.set(Pw,g),u.set(R,g),this.count++,d=kg.bind(this),g.addEventListener("load",d),g.addEventListener("error",d),v?v.parentNode.insertBefore(g,v.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(g,i.firstChild)),a.state.loading|=Ni}}function c5(i,a,u,d,g,v,R,I){for(this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Cc,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=An(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=An(0),this.hiddenUpdates=An(null),this.identifierPrefix=d,this.onUncaughtError=g,this.onCaughtError=v,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map,this.passiveEffectDuration=this.effectDuration=-0,this.memoizedUpdaters=new Set,i=this.pendingUpdatersLaneMap=[],a=0;31>a;a++)i.push(new Set);this._debugRootType=u?"hydrateRoot()":"createRoot()"}function KC(i,a,u,d,g,v,R,I,q,re,Oe,Le){return i=new c5(i,a,u,R,I,q,re,Le),a=Tz,v===!0&&(a|=os|Fi),Vi&&(a|=Gr),v=b(3,null,null,a),i.current=v,v.stateNode=i,a=jv(),ic(a),i.pooledCache=a,ic(a),v.memoizedState={element:d,isDehydrated:u,cache:a},Vv(v),i}function ZC(i){return i?(i=qa,i):qa}function i_(i,a,u,d,g,v){if(ss&&typeof ss.onScheduleFiberRoot=="function")try{ss.onScheduleFiberRoot(Vu,d,u)}catch(R){go||(go=!0,console.error("React instrumentation encountered an error: %s",R))}bt!==null&&typeof bt.markRenderScheduled=="function"&&bt.markRenderScheduled(a),g=ZC(g),d.context===null?d.context=g:d.pendingContext=g,xo&&Qs!==null&&!TP&&(TP=!0,console.error(`Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate.

Check the render method of %s.`,G(Qs)||"Unknown")),d=Da(a),d.payload={element:u},v=v===void 0?null:v,v!==null&&(typeof v!="function"&&console.error("Expected the last optional `callback` argument to be a function. Instead received: %s.",v),d.callback=v),u=Ma(i,d,a),u!==null&&(yr(u,i,a),Jd(u,i,a))}function GC(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<a?u:a}}function o_(i,a){GC(i,a),(i=i.alternate)&&GC(i,a)}function QC(i){if(i.tag===13){var a=js(i,67108864);a!==null&&yr(a,i,67108864),o_(i,67108864)}}function u5(){return Qs}function f5(){for(var i=new Map,a=1,u=0;31>u;u++){var d=lt(a);i.set(a,d),a*=2}return i}function d5(i,a,u,d){var g=Be.T;Be.T=null;var v=Nn.p;try{Nn.p=hi,a_(i,a,u,d)}finally{Nn.p=v,Be.T=g}}function h5(i,a,u,d){var g=Be.T;Be.T=null;var v=Nn.p;try{Nn.p=bo,a_(i,a,u,d)}finally{Nn.p=v,Be.T=g}}function a_(i,a,u,d){if(Eb){var g=l_(d);if(g===null)X0(i,a,d,Tb,u),eR(i,d);else if(p5(g,i,a,u,d))d.stopPropagation();else if(eR(i,d),a&4&&-1<s8.indexOf(i)){for(;g!==null;){var v=Mr(g);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var R=gt(v.pendingLanes);if(R!==0){var I=v;for(I.pendingLanes|=2,I.entangledLanes|=2;R;){var q=1<<31-xs(R);I.entanglements[1]|=q,R&=~q}fo(v),(Sn&(Ns|$i))===Js&&(cb=mo()+sP,hh(0))}}break;case 13:I=js(v,2),I!==null&&yr(I,v,2),Ru(),o_(v,2)}if(v=l_(d),v===null&&X0(i,a,d,Tb,u),v===g)break;g=v}g!==null&&d.stopPropagation()}else X0(i,a,d,null,u)}}function l_(i){return i=yv(i),c_(i)}function c_(i){if(Tb=null,i=Er(i),i!==null){var a=D(i);if(a===null)i=null;else{var u=a.tag;if(u===13){if(i=M(a),i!==null)return i;i=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Tb=i,null}function JC(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return hi;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return bo;case"message":switch(E5()){case v_:return hi;case __:return bo;case Uu:case T5:return na;case w_:return Fg;default:return na}default:return na}}function eR(i,a){switch(i){case"focusin":case"focusout":nl=null;break;case"dragenter":case"dragleave":rl=null;break;case"mouseover":case"mouseout":sl=null;break;case"pointerover":case"pointerout":op.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":ap.delete(a.pointerId)}}function xh(i,a,u,d,g,v){return i===null||i.nativeEvent!==v?(i={blockedOn:a,domEventName:u,eventSystemFlags:d,nativeEvent:v,targetContainers:[g]},a!==null&&(a=Mr(a),a!==null&&QC(a)),i):(i.eventSystemFlags|=d,a=i.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),i)}function p5(i,a,u,d,g){switch(a){case"focusin":return nl=xh(nl,i,a,u,d,g),!0;case"dragenter":return rl=xh(rl,i,a,u,d,g),!0;case"mouseover":return sl=xh(sl,i,a,u,d,g),!0;case"pointerover":var v=g.pointerId;return op.set(v,xh(op.get(v)||null,i,a,u,d,g)),!0;case"gotpointercapture":return v=g.pointerId,ap.set(v,xh(ap.get(v)||null,i,a,u,d,g)),!0}return!1}function tR(i){var a=Er(i.target);if(a!==null){var u=D(a);if(u!==null){if(a=u.tag,a===13){if(a=M(u),a!==null){i.blockedOn=a,rs(i.priority,function(){if(u.tag===13){var d=Zs(u);d=$e(d);var g=js(u,d);g!==null&&yr(g,u,d),o_(u,d)}});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Pg(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var u=l_(i.nativeEvent);if(u===null){u=i.nativeEvent;var d=new u.constructor(u.type,u),g=d;Sh!==null&&console.error("Expected currently replaying event to be null. This error is likely caused by a bug in React. Please file an issue."),Sh=g,u.target.dispatchEvent(d),Sh===null&&console.error("Expected currently replaying event to not be null. This error is likely caused by a bug in React. Please file an issue."),Sh=null}else return a=Mr(u),a!==null&&QC(a),i.blockedOn=u,!1;a.shift()}return!0}function nR(i,a,u){Pg(i)&&u.delete(a)}function m5(){Dw=!1,nl!==null&&Pg(nl)&&(nl=null),rl!==null&&Pg(rl)&&(rl=null),sl!==null&&Pg(sl)&&(sl=null),op.forEach(nR),ap.forEach(nR)}function Dg(i,a){i.blockedOn===a&&(i.blockedOn=null,Dw||(Dw=!0,Tr.unstable_scheduleCallback(Tr.unstable_NormalPriority,m5)))}function rR(i){Ab!==i&&(Ab=i,Tr.unstable_scheduleCallback(Tr.unstable_NormalPriority,function(){Ab===i&&(Ab=null);for(var a=0;a<i.length;a+=3){var u=i[a],d=i[a+1],g=i[a+2];if(typeof d!="function"){if(c_(d||u)===null)continue;break}var v=Mr(u);v!==null&&(i.splice(a,3),a-=3,u={pending:!0,data:g,method:u.method,action:d},Object.freeze(u),c0(v,u,d,g))}}))}function yh(i){function a(q){return Dg(q,i)}nl!==null&&Dg(nl,i),rl!==null&&Dg(rl,i),sl!==null&&Dg(sl,i),op.forEach(a),ap.forEach(a);for(var u=0;u<il.length;u++){var d=il[u];d.blockedOn===i&&(d.blockedOn=null)}for(;0<il.length&&(u=il[0],u.blockedOn===null);)tR(u),u.blockedOn===null&&il.shift();if(u=(i.ownerDocument||i).$$reactFormReplay,u!=null)for(d=0;d<u.length;d+=3){var g=u[d],v=u[d+1],R=g[Us]||null;if(typeof v=="function")R||rR(u);else if(R){var I=null;if(v&&v.hasAttribute("formAction")){if(g=v,R=v[Us]||null)I=R.formAction;else if(c_(g)!==null)continue}else I=R.action;typeof I=="function"?u[d+1]=I:(u.splice(d,3),d-=3),rR(u)}}}function u_(i){this._internalRoot=i}function Mg(i){this._internalRoot=i}function sR(i){i[Ha]&&(i._reactRootContainer?console.error("You are calling ReactDOMClient.createRoot() on a container that was previously passed to ReactDOM.render(). This is not supported."):console.error("You are calling ReactDOMClient.createRoot() on a container that has already been passed to createRoot() before. Instead, call root.render() on the existing root instead if you want to update it."))}typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());var Tr=h8(),f_=hm(),g5=_I(),rn=Object.assign,b5=Symbol.for("react.element"),Ba=Symbol.for("react.transitional.element"),Iu=Symbol.for("react.portal"),Ou=Symbol.for("react.fragment"),jg=Symbol.for("react.strict_mode"),d_=Symbol.for("react.profiler"),x5=Symbol.for("react.provider"),h_=Symbol.for("react.consumer"),po=Symbol.for("react.context"),vh=Symbol.for("react.forward_ref"),p_=Symbol.for("react.suspense"),m_=Symbol.for("react.suspense_list"),Ig=Symbol.for("react.memo"),Gs=Symbol.for("react.lazy"),g_=Symbol.for("react.activity"),y5=Symbol.for("react.memo_cache_sentinel"),iR=Symbol.iterator,v5=Symbol.for("react.client.reference"),Zr=Array.isArray,Be=f_.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Nn=g5.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_5=Object.freeze({pending:!1,data:null,method:null,action:null}),b_=[],x_=[],ea=-1,La=K(null),_h=K(null),za=K(null),Og=K(null),ta=Object.prototype.hasOwnProperty,y_=Tr.unstable_scheduleCallback,w5=Tr.unstable_cancelCallback,N5=Tr.unstable_shouldYield,S5=Tr.unstable_requestPaint,mo=Tr.unstable_now,E5=Tr.unstable_getCurrentPriorityLevel,v_=Tr.unstable_ImmediatePriority,__=Tr.unstable_UserBlockingPriority,Uu=Tr.unstable_NormalPriority,T5=Tr.unstable_LowPriority,w_=Tr.unstable_IdlePriority,A5=Tr.log,C5=Tr.unstable_setDisableYieldValue,Vu=null,ss=null,bt=null,go=!1,Vi=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u",xs=Math.clz32?Math.clz32:nt,R5=Math.log,k5=Math.LN2,Ug=256,Vg=4194304,hi=2,bo=8,na=32,Fg=268435456,$a=Math.random().toString(36).slice(2),is="__reactFiber$"+$a,Us="__reactProps$"+$a,Ha="__reactContainer$"+$a,N_="__reactEvents$"+$a,P5="__reactListeners$"+$a,D5="__reactHandles$"+$a,oR="__reactResources$"+$a,wh="__reactMarker$"+$a,aR=new Set,fc={},S_={},M5={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0},j5=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),lR={},cR={},Nh=0,uR,fR,dR,hR,pR,mR,gR;F.__reactDisabledLog=!0;var E_,bR,T_=!1,A_=new(typeof WeakMap=="function"?WeakMap:Map),Qs=null,xo=!1,I5=/[\n"\\]/g,xR=!1,yR=!1,vR=!1,_R=!1,wR=!1,NR=!1,SR=["value","defaultValue"],ER=!1,TR=/["'&<>\n\t]|^\s|\s$/,O5="address applet area article aside base basefont bgsound blockquote body br button caption center col colgroup dd details dir div dl dt embed fieldset figcaption figure footer form frame frameset h1 h2 h3 h4 h5 h6 head header hgroup hr html iframe img input isindex li link listing main marquee menu menuitem meta nav noembed noframes noscript object ol p param plaintext pre script section select source style summary table tbody td template textarea tfoot th thead title tr track ul wbr xmp".split(" "),AR="applet caption html table td th marquee object template foreignObject desc title".split(" "),U5=AR.concat(["button"]),V5="dd dt li option optgroup p rp rt".split(" "),CR={current:null,formTag:null,aTagInScope:null,buttonTagInScope:null,nobrTagInScope:null,pTagInButtonScope:null,listItemTagAutoclosing:null,dlItemTagAutoclosing:null,containerTagInScope:null,implicitRootScope:!1},Bg={},C_={animation:"animationDelay animationDirection animationDuration animationFillMode animationIterationCount animationName animationPlayState animationTimingFunction".split(" "),background:"backgroundAttachment backgroundClip backgroundColor backgroundImage backgroundOrigin backgroundPositionX backgroundPositionY backgroundRepeat backgroundSize".split(" "),backgroundPosition:["backgroundPositionX","backgroundPositionY"],border:"borderBottomColor borderBottomStyle borderBottomWidth borderImageOutset borderImageRepeat borderImageSlice borderImageSource borderImageWidth borderLeftColor borderLeftStyle borderLeftWidth borderRightColor borderRightStyle borderRightWidth borderTopColor borderTopStyle borderTopWidth".split(" "),borderBlockEnd:["borderBlockEndColor","borderBlockEndStyle","borderBlockEndWidth"],borderBlockStart:["borderBlockStartColor","borderBlockStartStyle","borderBlockStartWidth"],borderBottom:["borderBottomColor","borderBottomStyle","borderBottomWidth"],borderColor:["borderBottomColor","borderLeftColor","borderRightColor","borderTopColor"],borderImage:["borderImageOutset","borderImageRepeat","borderImageSlice","borderImageSource","borderImageWidth"],borderInlineEnd:["borderInlineEndColor","borderInlineEndStyle","borderInlineEndWidth"],borderInlineStart:["borderInlineStartColor","borderInlineStartStyle","borderInlineStartWidth"],borderLeft:["borderLeftColor","borderLeftStyle","borderLeftWidth"],borderRadius:["borderBottomLeftRadius","borderBottomRightRadius","borderTopLeftRadius","borderTopRightRadius"],borderRight:["borderRightColor","borderRightStyle","borderRightWidth"],borderStyle:["borderBottomStyle","borderLeftStyle","borderRightStyle","borderTopStyle"],borderTop:["borderTopColor","borderTopStyle","borderTopWidth"],borderWidth:["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth"],columnRule:["columnRuleColor","columnRuleStyle","columnRuleWidth"],columns:["columnCount","columnWidth"],flex:["flexBasis","flexGrow","flexShrink"],flexFlow:["flexDirection","flexWrap"],font:"fontFamily fontFeatureSettings fontKerning fontLanguageOverride fontSize fontSizeAdjust fontStretch fontStyle fontVariant fontVariantAlternates fontVariantCaps fontVariantEastAsian fontVariantLigatures fontVariantNumeric fontVariantPosition fontWeight lineHeight".split(" "),fontVariant:"fontVariantAlternates fontVariantCaps fontVariantEastAsian fontVariantLigatures fontVariantNumeric fontVariantPosition".split(" "),gap:["columnGap","rowGap"],grid:"gridAutoColumns gridAutoFlow gridAutoRows gridTemplateAreas gridTemplateColumns gridTemplateRows".split(" "),gridArea:["gridColumnEnd","gridColumnStart","gridRowEnd","gridRowStart"],gridColumn:["gridColumnEnd","gridColumnStart"],gridColumnGap:["columnGap"],gridGap:["columnGap","rowGap"],gridRow:["gridRowEnd","gridRowStart"],gridRowGap:["rowGap"],gridTemplate:["gridTemplateAreas","gridTemplateColumns","gridTemplateRows"],listStyle:["listStyleImage","listStylePosition","listStyleType"],margin:["marginBottom","marginLeft","marginRight","marginTop"],marker:["markerEnd","markerMid","markerStart"],mask:"maskClip maskComposite maskImage maskMode maskOrigin maskPositionX maskPositionY maskRepeat maskSize".split(" "),maskPosition:["maskPositionX","maskPositionY"],outline:["outlineColor","outlineStyle","outlineWidth"],overflow:["overflowX","overflowY"],padding:["paddingBottom","paddingLeft","paddingRight","paddingTop"],placeContent:["alignContent","justifyContent"],placeItems:["alignItems","justifyItems"],placeSelf:["alignSelf","justifySelf"],textDecoration:["textDecorationColor","textDecorationLine","textDecorationStyle"],textEmphasis:["textEmphasisColor","textEmphasisStyle"],transition:["transitionDelay","transitionDuration","transitionProperty","transitionTimingFunction"],wordWrap:["overflowWrap"]},RR=/([A-Z])/g,kR=/^ms-/,F5=/^(?:webkit|moz|o)[A-Z]/,B5=/^-ms-/,L5=/-(.)/g,PR=/;\s*$/,Fu={},R_={},DR=!1,MR=!1,jR=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" ")),Lg="http://www.w3.org/1998/Math/MathML",Bu="http://www.w3.org/2000/svg",z5=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zg={accept:"accept",acceptcharset:"acceptCharset","accept-charset":"acceptCharset",accesskey:"accessKey",action:"action",allowfullscreen:"allowFullScreen",alt:"alt",as:"as",async:"async",autocapitalize:"autoCapitalize",autocomplete:"autoComplete",autocorrect:"autoCorrect",autofocus:"autoFocus",autoplay:"autoPlay",autosave:"autoSave",capture:"capture",cellpadding:"cellPadding",cellspacing:"cellSpacing",challenge:"challenge",charset:"charSet",checked:"checked",children:"children",cite:"cite",class:"className",classid:"classID",classname:"className",cols:"cols",colspan:"colSpan",content:"content",contenteditable:"contentEditable",contextmenu:"contextMenu",controls:"controls",controlslist:"controlsList",coords:"coords",crossorigin:"crossOrigin",dangerouslysetinnerhtml:"dangerouslySetInnerHTML",data:"data",datetime:"dateTime",default:"default",defaultchecked:"defaultChecked",defaultvalue:"defaultValue",defer:"defer",dir:"dir",disabled:"disabled",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback",download:"download",draggable:"draggable",enctype:"encType",enterkeyhint:"enterKeyHint",fetchpriority:"fetchPriority",for:"htmlFor",form:"form",formmethod:"formMethod",formaction:"formAction",formenctype:"formEncType",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",headers:"headers",height:"height",hidden:"hidden",high:"high",href:"href",hreflang:"hrefLang",htmlfor:"htmlFor",httpequiv:"httpEquiv","http-equiv":"httpEquiv",icon:"icon",id:"id",imagesizes:"imageSizes",imagesrcset:"imageSrcSet",inert:"inert",innerhtml:"innerHTML",inputmode:"inputMode",integrity:"integrity",is:"is",itemid:"itemID",itemprop:"itemProp",itemref:"itemRef",itemscope:"itemScope",itemtype:"itemType",keyparams:"keyParams",keytype:"keyType",kind:"kind",label:"label",lang:"lang",list:"list",loop:"loop",low:"low",manifest:"manifest",marginwidth:"marginWidth",marginheight:"marginHeight",max:"max",maxlength:"maxLength",media:"media",mediagroup:"mediaGroup",method:"method",min:"min",minlength:"minLength",multiple:"multiple",muted:"muted",name:"name",nomodule:"noModule",nonce:"nonce",novalidate:"noValidate",open:"open",optimum:"optimum",pattern:"pattern",placeholder:"placeholder",playsinline:"playsInline",poster:"poster",preload:"preload",profile:"profile",radiogroup:"radioGroup",readonly:"readOnly",referrerpolicy:"referrerPolicy",rel:"rel",required:"required",reversed:"reversed",role:"role",rows:"rows",rowspan:"rowSpan",sandbox:"sandbox",scope:"scope",scoped:"scoped",scrolling:"scrolling",seamless:"seamless",selected:"selected",shape:"shape",size:"size",sizes:"sizes",span:"span",spellcheck:"spellCheck",src:"src",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",start:"start",step:"step",style:"style",summary:"summary",tabindex:"tabIndex",target:"target",title:"title",type:"type",usemap:"useMap",value:"value",width:"width",wmode:"wmode",wrap:"wrap",about:"about",accentheight:"accentHeight","accent-height":"accentHeight",accumulate:"accumulate",additive:"additive",alignmentbaseline:"alignmentBaseline","alignment-baseline":"alignmentBaseline",allowreorder:"allowReorder",alphabetic:"alphabetic",amplitude:"amplitude",arabicform:"arabicForm","arabic-form":"arabicForm",ascent:"ascent",attributename:"attributeName",attributetype:"attributeType",autoreverse:"autoReverse",azimuth:"azimuth",basefrequency:"baseFrequency",baselineshift:"baselineShift","baseline-shift":"baselineShift",baseprofile:"baseProfile",bbox:"bbox",begin:"begin",bias:"bias",by:"by",calcmode:"calcMode",capheight:"capHeight","cap-height":"capHeight",clip:"clip",clippath:"clipPath","clip-path":"clipPath",clippathunits:"clipPathUnits",cliprule:"clipRule","clip-rule":"clipRule",color:"color",colorinterpolation:"colorInterpolation","color-interpolation":"colorInterpolation",colorinterpolationfilters:"colorInterpolationFilters","color-interpolation-filters":"colorInterpolationFilters",colorprofile:"colorProfile","color-profile":"colorProfile",colorrendering:"colorRendering","color-rendering":"colorRendering",contentscripttype:"contentScriptType",contentstyletype:"contentStyleType",cursor:"cursor",cx:"cx",cy:"cy",d:"d",datatype:"datatype",decelerate:"decelerate",descent:"descent",diffuseconstant:"diffuseConstant",direction:"direction",display:"display",divisor:"divisor",dominantbaseline:"dominantBaseline","dominant-baseline":"dominantBaseline",dur:"dur",dx:"dx",dy:"dy",edgemode:"edgeMode",elevation:"elevation",enablebackground:"enableBackground","enable-background":"enableBackground",end:"end",exponent:"exponent",externalresourcesrequired:"externalResourcesRequired",fill:"fill",fillopacity:"fillOpacity","fill-opacity":"fillOpacity",fillrule:"fillRule","fill-rule":"fillRule",filter:"filter",filterres:"filterRes",filterunits:"filterUnits",floodopacity:"floodOpacity","flood-opacity":"floodOpacity",floodcolor:"floodColor","flood-color":"floodColor",focusable:"focusable",fontfamily:"fontFamily","font-family":"fontFamily",fontsize:"fontSize","font-size":"fontSize",fontsizeadjust:"fontSizeAdjust","font-size-adjust":"fontSizeAdjust",fontstretch:"fontStretch","font-stretch":"fontStretch",fontstyle:"fontStyle","font-style":"fontStyle",fontvariant:"fontVariant","font-variant":"fontVariant",fontweight:"fontWeight","font-weight":"fontWeight",format:"format",from:"from",fx:"fx",fy:"fy",g1:"g1",g2:"g2",glyphname:"glyphName","glyph-name":"glyphName",glyphorientationhorizontal:"glyphOrientationHorizontal","glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphorientationvertical:"glyphOrientationVertical","glyph-orientation-vertical":"glyphOrientationVertical",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",hanging:"hanging",horizadvx:"horizAdvX","horiz-adv-x":"horizAdvX",horizoriginx:"horizOriginX","horiz-origin-x":"horizOriginX",ideographic:"ideographic",imagerendering:"imageRendering","image-rendering":"imageRendering",in2:"in2",in:"in",inlist:"inlist",intercept:"intercept",k1:"k1",k2:"k2",k3:"k3",k4:"k4",k:"k",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",kerning:"kerning",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",letterspacing:"letterSpacing","letter-spacing":"letterSpacing",lightingcolor:"lightingColor","lighting-color":"lightingColor",limitingconeangle:"limitingConeAngle",local:"local",markerend:"markerEnd","marker-end":"markerEnd",markerheight:"markerHeight",markermid:"markerMid","marker-mid":"markerMid",markerstart:"markerStart","marker-start":"markerStart",markerunits:"markerUnits",markerwidth:"markerWidth",mask:"mask",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",mathematical:"mathematical",mode:"mode",numoctaves:"numOctaves",offset:"offset",opacity:"opacity",operator:"operator",order:"order",orient:"orient",orientation:"orientation",origin:"origin",overflow:"overflow",overlineposition:"overlinePosition","overline-position":"overlinePosition",overlinethickness:"overlineThickness","overline-thickness":"overlineThickness",paintorder:"paintOrder","paint-order":"paintOrder",panose1:"panose1","panose-1":"panose1",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointerevents:"pointerEvents","pointer-events":"pointerEvents",points:"points",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",popover:"popover",popovertarget:"popoverTarget",popovertargetaction:"popoverTargetAction",prefix:"prefix",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",property:"property",r:"r",radius:"radius",refx:"refX",refy:"refY",renderingintent:"renderingIntent","rendering-intent":"renderingIntent",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",resource:"resource",restart:"restart",result:"result",results:"results",rotate:"rotate",rx:"rx",ry:"ry",scale:"scale",security:"security",seed:"seed",shaperendering:"shapeRendering","shape-rendering":"shapeRendering",slope:"slope",spacing:"spacing",specularconstant:"specularConstant",specularexponent:"specularExponent",speed:"speed",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stemh:"stemh",stemv:"stemv",stitchtiles:"stitchTiles",stopcolor:"stopColor","stop-color":"stopColor",stopopacity:"stopOpacity","stop-opacity":"stopOpacity",strikethroughposition:"strikethroughPosition","strikethrough-position":"strikethroughPosition",strikethroughthickness:"strikethroughThickness","strikethrough-thickness":"strikethroughThickness",string:"string",stroke:"stroke",strokedasharray:"strokeDasharray","stroke-dasharray":"strokeDasharray",strokedashoffset:"strokeDashoffset","stroke-dashoffset":"strokeDashoffset",strokelinecap:"strokeLinecap","stroke-linecap":"strokeLinecap",strokelinejoin:"strokeLinejoin","stroke-linejoin":"strokeLinejoin",strokemiterlimit:"strokeMiterlimit","stroke-miterlimit":"strokeMiterlimit",strokewidth:"strokeWidth","stroke-width":"strokeWidth",strokeopacity:"strokeOpacity","stroke-opacity":"strokeOpacity",suppresscontenteditablewarning:"suppressContentEditableWarning",suppresshydrationwarning:"suppressHydrationWarning",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textanchor:"textAnchor","text-anchor":"textAnchor",textdecoration:"textDecoration","text-decoration":"textDecoration",textlength:"textLength",textrendering:"textRendering","text-rendering":"textRendering",to:"to",transform:"transform",transformorigin:"transformOrigin","transform-origin":"transformOrigin",typeof:"typeof",u1:"u1",u2:"u2",underlineposition:"underlinePosition","underline-position":"underlinePosition",underlinethickness:"underlineThickness","underline-thickness":"underlineThickness",unicode:"unicode",unicodebidi:"unicodeBidi","unicode-bidi":"unicodeBidi",unicoderange:"unicodeRange","unicode-range":"unicodeRange",unitsperem:"unitsPerEm","units-per-em":"unitsPerEm",unselectable:"unselectable",valphabetic:"vAlphabetic","v-alphabetic":"vAlphabetic",values:"values",vectoreffect:"vectorEffect","vector-effect":"vectorEffect",version:"version",vertadvy:"vertAdvY","vert-adv-y":"vertAdvY",vertoriginx:"vertOriginX","vert-origin-x":"vertOriginX",vertoriginy:"vertOriginY","vert-origin-y":"vertOriginY",vhanging:"vHanging","v-hanging":"vHanging",videographic:"vIdeographic","v-ideographic":"vIdeographic",viewbox:"viewBox",viewtarget:"viewTarget",visibility:"visibility",vmathematical:"vMathematical","v-mathematical":"vMathematical",vocab:"vocab",widths:"widths",wordspacing:"wordSpacing","word-spacing":"wordSpacing",writingmode:"writingMode","writing-mode":"writingMode",x1:"x1",x2:"x2",x:"x",xchannelselector:"xChannelSelector",xheight:"xHeight","x-height":"xHeight",xlinkactuate:"xlinkActuate","xlink:actuate":"xlinkActuate",xlinkarcrole:"xlinkArcrole","xlink:arcrole":"xlinkArcrole",xlinkhref:"xlinkHref","xlink:href":"xlinkHref",xlinkrole:"xlinkRole","xlink:role":"xlinkRole",xlinkshow:"xlinkShow","xlink:show":"xlinkShow",xlinktitle:"xlinkTitle","xlink:title":"xlinkTitle",xlinktype:"xlinkType","xlink:type":"xlinkType",xmlbase:"xmlBase","xml:base":"xmlBase",xmllang:"xmlLang","xml:lang":"xmlLang",xmlns:"xmlns","xml:space":"xmlSpace",xmlnsxlink:"xmlnsXlink","xmlns:xlink":"xmlnsXlink",xmlspace:"xmlSpace",y1:"y1",y2:"y2",y:"y",ychannelselector:"yChannelSelector",z:"z",zoomandpan:"zoomAndPan"},IR={"aria-current":0,"aria-description":0,"aria-details":0,"aria-disabled":0,"aria-hidden":0,"aria-invalid":0,"aria-keyshortcuts":0,"aria-label":0,"aria-roledescription":0,"aria-autocomplete":0,"aria-checked":0,"aria-expanded":0,"aria-haspopup":0,"aria-level":0,"aria-modal":0,"aria-multiline":0,"aria-multiselectable":0,"aria-orientation":0,"aria-placeholder":0,"aria-pressed":0,"aria-readonly":0,"aria-required":0,"aria-selected":0,"aria-sort":0,"aria-valuemax":0,"aria-valuemin":0,"aria-valuenow":0,"aria-valuetext":0,"aria-atomic":0,"aria-busy":0,"aria-live":0,"aria-relevant":0,"aria-dropeffect":0,"aria-grabbed":0,"aria-activedescendant":0,"aria-colcount":0,"aria-colindex":0,"aria-colspan":0,"aria-controls":0,"aria-describedby":0,"aria-errormessage":0,"aria-flowto":0,"aria-labelledby":0,"aria-owns":0,"aria-posinset":0,"aria-rowcount":0,"aria-rowindex":0,"aria-rowspan":0,"aria-setsize":0},Lu={},$5=RegExp("^(aria)-[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),H5=RegExp("^(aria)[A-Z][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),OR=!1,ys={},UR=/^on./,W5=/^on[^A-Z]/,q5=RegExp("^(aria)-[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),X5=RegExp("^(aria)[A-Z][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Y5=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i,Sh=null,zu=null,$u=null,k_=!1,yo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),P_=!1;if(yo)try{var Eh={};Object.defineProperty(Eh,"passive",{get:function(){P_=!0}}),window.addEventListener("test",Eh,Eh),window.removeEventListener("test",Eh,Eh)}catch{P_=!1}var Wa=null,D_=null,$g=null,dc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hg=Ms(dc),Th=rn({},dc,{view:0,detail:0}),K5=Ms(Th),M_,j_,Ah,Wg=rn({},Th,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vv,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ah&&(Ah&&i.type==="mousemove"?(M_=i.screenX-Ah.screenX,j_=i.screenY-Ah.screenY):j_=M_=0,Ah=i),M_)},movementY:function(i){return"movementY"in i?i.movementY:j_}}),VR=Ms(Wg),Z5=rn({},Wg,{dataTransfer:0}),G5=Ms(Z5),Q5=rn({},Th,{relatedTarget:0}),I_=Ms(Q5),J5=rn({},dc,{animationName:0,elapsedTime:0,pseudoElement:0}),ez=Ms(J5),tz=rn({},dc,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),nz=Ms(tz),rz=rn({},dc,{data:0}),FR=Ms(rz),sz=FR,iz={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oz={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},az={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},lz=rn({},Th,{key:function(i){if(i.key){var a=iz[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=Fm(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?oz[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vv,charCode:function(i){return i.type==="keypress"?Fm(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Fm(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),cz=Ms(lz),uz=rn({},Wg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),BR=Ms(uz),fz=rn({},Th,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vv}),dz=Ms(fz),hz=rn({},dc,{propertyName:0,elapsedTime:0,pseudoElement:0}),pz=Ms(hz),mz=rn({},Wg,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),gz=Ms(mz),bz=rn({},dc,{newState:0,oldState:0}),xz=Ms(bz),yz=[9,13,27,32],LR=229,O_=yo&&"CompositionEvent"in window,Ch=null;yo&&"documentMode"in document&&(Ch=document.documentMode);var vz=yo&&"TextEvent"in window&&!Ch,zR=yo&&(!O_||Ch&&8<Ch&&11>=Ch),$R=32,HR=String.fromCharCode($R),WR=!1,Hu=!1,_z={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},Rh=null,kh=null,qR=!1;yo&&(qR=GB("input")&&(!document.documentMode||9<document.documentMode));var vs=typeof Object.is=="function"?Object.is:rL,wz=yo&&"documentMode"in document&&11>=document.documentMode,Wu=null,U_=null,Ph=null,V_=!1,qu={animationend:Zl("Animation","AnimationEnd"),animationiteration:Zl("Animation","AnimationIteration"),animationstart:Zl("Animation","AnimationStart"),transitionrun:Zl("Transition","TransitionRun"),transitionstart:Zl("Transition","TransitionStart"),transitioncancel:Zl("Transition","TransitionCancel"),transitionend:Zl("Transition","TransitionEnd")},F_={},XR={};yo&&(XR=document.createElement("div").style,"AnimationEvent"in window||(delete qu.animationend.animation,delete qu.animationiteration.animation,delete qu.animationstart.animation),"TransitionEvent"in window||delete qu.transitionend.transition);var YR=Gl("animationend"),KR=Gl("animationiteration"),ZR=Gl("animationstart"),Nz=Gl("transitionrun"),Sz=Gl("transitionstart"),Ez=Gl("transitioncancel"),GR=Gl("transitionend"),QR=new Map,B_="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");B_.push("scrollEnd");var L_=new WeakMap,qg=1,ra=2,pi=[],Xu=0,z_=0,qa={};Object.freeze(qa);var mi=null,Yu=null,qn=0,Tz=1,Gr=2,os=8,Fi=16,JR=64,ek=!1;try{var tk=Object.preventExtensions({})}catch{ek=!0}var Ku=[],Zu=0,Xg=null,Yg=0,gi=[],bi=0,hc=null,sa=1,ia="",_s=null,cr=null,bn=!1,oa=!1,xi=null,pc=null,vo=!1,$_=Error("Hydration Mismatch Exception: This is not a real error, and should not leak into userspace. If you're seeing this, it's likely a bug in React."),nk=0;if(typeof performance=="object"&&typeof performance.now=="function")var Az=performance,rk=function(){return Az.now()};else{var Cz=Date;rk=function(){return Cz.now()}}var H_=K(null),W_=K(null),sk={},Kg=null,Gu=null,Qu=!1,Rz=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(u,d){i.push(d)}};this.abort=function(){a.aborted=!0,i.forEach(function(u){return u()})}},kz=Tr.unstable_scheduleCallback,Pz=Tr.unstable_NormalPriority,jr={$$typeof:po,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0,_currentRenderer:null,_currentRenderer2:null},Ju=Tr.unstable_now,ik=-0,Zg=-0,Vs=-1.1,mc=-0,Gg=!1,Qg=!1,Dh=null,q_=0,gc=0,ef=null,ok=Be.S;Be.S=function(i,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&iL(i,a),ok!==null&&ok(i,a)};var bc=K(null),Bi={recordUnsafeLifecycleWarnings:function(){},flushPendingUnsafeLifecycleWarnings:function(){},recordLegacyContextWarning:function(){},flushLegacyContextWarning:function(){},discardPendingWarnings:function(){}},Mh=[],jh=[],Ih=[],Oh=[],Uh=[],Vh=[],xc=new Set;Bi.recordUnsafeLifecycleWarnings=function(i,a){xc.has(i.type)||(typeof a.componentWillMount=="function"&&a.componentWillMount.__suppressDeprecationWarning!==!0&&Mh.push(i),i.mode&os&&typeof a.UNSAFE_componentWillMount=="function"&&jh.push(i),typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps.__suppressDeprecationWarning!==!0&&Ih.push(i),i.mode&os&&typeof a.UNSAFE_componentWillReceiveProps=="function"&&Oh.push(i),typeof a.componentWillUpdate=="function"&&a.componentWillUpdate.__suppressDeprecationWarning!==!0&&Uh.push(i),i.mode&os&&typeof a.UNSAFE_componentWillUpdate=="function"&&Vh.push(i))},Bi.flushPendingUnsafeLifecycleWarnings=function(){var i=new Set;0<Mh.length&&(Mh.forEach(function(I){i.add(G(I)||"Component"),xc.add(I.type)}),Mh=[]);var a=new Set;0<jh.length&&(jh.forEach(function(I){a.add(G(I)||"Component"),xc.add(I.type)}),jh=[]);var u=new Set;0<Ih.length&&(Ih.forEach(function(I){u.add(G(I)||"Component"),xc.add(I.type)}),Ih=[]);var d=new Set;0<Oh.length&&(Oh.forEach(function(I){d.add(G(I)||"Component"),xc.add(I.type)}),Oh=[]);var g=new Set;0<Uh.length&&(Uh.forEach(function(I){g.add(G(I)||"Component"),xc.add(I.type)}),Uh=[]);var v=new Set;if(0<Vh.length&&(Vh.forEach(function(I){v.add(G(I)||"Component"),xc.add(I.type)}),Vh=[]),0<a.size){var R=m(a);console.error(`Using UNSAFE_componentWillMount in strict mode is not recommended and may indicate bugs in your code. See https://react.dev/link/unsafe-component-lifecycles for details.

* Move code with side effects to componentDidMount, and set initial state in the constructor.

Please update the following components: %s`,R)}0<d.size&&(R=m(d),console.error(`Using UNSAFE_componentWillReceiveProps in strict mode is not recommended and may indicate bugs in your code. See https://react.dev/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://react.dev/link/derived-state

Please update the following components: %s`,R)),0<v.size&&(R=m(v),console.error(`Using UNSAFE_componentWillUpdate in strict mode is not recommended and may indicate bugs in your code. See https://react.dev/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.

Please update the following components: %s`,R)),0<i.size&&(R=m(i),console.warn(`componentWillMount has been renamed, and is not recommended for use. See https://react.dev/link/unsafe-component-lifecycles for details.

* Move code with side effects to componentDidMount, and set initial state in the constructor.
* Rename componentWillMount to UNSAFE_componentWillMount to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,R)),0<u.size&&(R=m(u),console.warn(`componentWillReceiveProps has been renamed, and is not recommended for use. See https://react.dev/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://react.dev/link/derived-state
* Rename componentWillReceiveProps to UNSAFE_componentWillReceiveProps to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,R)),0<g.size&&(R=m(g),console.warn(`componentWillUpdate has been renamed, and is not recommended for use. See https://react.dev/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* Rename componentWillUpdate to UNSAFE_componentWillUpdate to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,R))};var Jg=new Map,ak=new Set;Bi.recordLegacyContextWarning=function(i,a){for(var u=null,d=i;d!==null;)d.mode&os&&(u=d),d=d.return;u===null?console.error("Expected to find a StrictMode component in a strict mode tree. This error is likely caused by a bug in React. Please file an issue."):!ak.has(i.type)&&(d=Jg.get(u),i.type.contextTypes!=null||i.type.childContextTypes!=null||a!==null&&typeof a.getChildContext=="function")&&(d===void 0&&(d=[],Jg.set(u,d)),d.push(i))},Bi.flushLegacyContextWarning=function(){Jg.forEach(function(i){if(i.length!==0){var a=i[0],u=new Set;i.forEach(function(g){u.add(G(g)||"Component"),ak.add(g.type)});var d=m(u);ie(a,function(){console.error(`Legacy context API has been detected within a strict-mode tree.

The old API will be supported in all 16.x releases, but applications using it should migrate to the new version.

Please update the following components: %s

Learn more about this warning here: https://react.dev/link/legacy-context`,d)})}})},Bi.discardPendingWarnings=function(){Mh=[],jh=[],Ih=[],Oh=[],Uh=[],Vh=[],Jg=new Map};var Fh=Error("Suspense Exception: This is not a real error! It's an implementation detail of `use` to interrupt the current render. You must either rethrow it immediately, or move the `use` call outside of the `try/catch` block. Capturing without rethrowing will lead to unexpected behavior.\n\nTo handle async errors, wrap your component in an error boundary, or call the promise's `.catch` method and pass the result to `use`."),lk=Error("Suspense Exception: This is not a real error, and should not leak into userspace. If you're seeing this, it's likely a bug in React."),eb=Error("Suspense Exception: This is not a real error! It's an implementation detail of `useActionState` to interrupt the current render. You must either rethrow it immediately, or move the `useActionState` call outside of the `try/catch` block. Capturing without rethrowing will lead to unexpected behavior.\n\nTo handle async errors, wrap your component in an error boundary."),X_={then:function(){console.error('Internal React error: A listener was unexpectedly attached to a "noop" thenable. This is a bug in React. Please file an issue.')}},Bh=null,tb=!1,yi=0,vi=1,ws=2,Qr=4,Ir=8,ck=0,uk=1,fk=2,Y_=3,Xa=!1,dk=!1,K_=null,Z_=!1,tf=K(null),nb=K(0),nf,hk=new Set,pk=new Set,G_=new Set,mk=new Set,Ya=0,Ht=null,On=null,Ar=null,rb=!1,rf=!1,yc=!1,sb=0,Lh=0,aa=null,Dz=0,Mz=25,Fe=null,_i=null,la=-1,zh=!1,ib={readContext:er,use:ja,useCallback:xr,useContext:xr,useEffect:xr,useImperativeHandle:xr,useLayoutEffect:xr,useInsertionEffect:xr,useMemo:xr,useReducer:xr,useRef:xr,useState:xr,useDebugValue:xr,useDeferredValue:xr,useTransition:xr,useSyncExternalStore:xr,useId:xr,useHostTransitionStatus:xr,useFormState:xr,useActionState:xr,useOptimistic:xr,useMemoCache:xr,useCacheRefresh:xr},Q_=null,gk=null,J_=null,bk=null,_o=null,Li=null,ob=null;Q_={readContext:function(i){return er(i)},use:ja,useCallback:function(i,a){return Fe="useCallback",fn(),wu(a),i0(i,a)},useContext:function(i){return Fe="useContext",fn(),er(i)},useEffect:function(i,a){return Fe="useEffect",fn(),wu(a),ig(i,a)},useImperativeHandle:function(i,a,u){return Fe="useImperativeHandle",fn(),wu(u),s0(i,a,u)},useInsertionEffect:function(i,a){Fe="useInsertionEffect",fn(),wu(a),ac(4,ws,i,a)},useLayoutEffect:function(i,a){return Fe="useLayoutEffect",fn(),wu(a),r0(i,a)},useMemo:function(i,a){Fe="useMemo",fn(),wu(a);var u=Be.H;Be.H=_o;try{return o0(i,a)}finally{Be.H=u}},useReducer:function(i,a,u){Fe="useReducer",fn();var d=Be.H;Be.H=_o;try{return Kv(i,a,u)}finally{Be.H=d}},useRef:function(i){return Fe="useRef",fn(),n0(i)},useState:function(i){Fe="useState",fn();var a=Be.H;Be.H=_o;try{return Jv(i)}finally{Be.H=a}},useDebugValue:function(){Fe="useDebugValue",fn()},useDeferredValue:function(i,a){return Fe="useDeferredValue",fn(),a0(i,a)},useTransition:function(){return Fe="useTransition",fn(),u0()},useSyncExternalStore:function(i,a,u){return Fe="useSyncExternalStore",fn(),Gv(i,a,u)},useId:function(){return Fe="useId",fn(),f0()},useFormState:function(i,a){return Fe="useFormState",fn(),eg(),Su(i,a)},useActionState:function(i,a){return Fe="useActionState",fn(),Su(i,a)},useOptimistic:function(i){return Fe="useOptimistic",fn(),e0(i)},useHostTransitionStatus:lc,useMemoCache:oc,useCacheRefresh:function(){return Fe="useCacheRefresh",fn(),d0()}},gk={readContext:function(i){return er(i)},use:ja,useCallback:function(i,a){return Fe="useCallback",it(),i0(i,a)},useContext:function(i){return Fe="useContext",it(),er(i)},useEffect:function(i,a){return Fe="useEffect",it(),ig(i,a)},useImperativeHandle:function(i,a,u){return Fe="useImperativeHandle",it(),s0(i,a,u)},useInsertionEffect:function(i,a){Fe="useInsertionEffect",it(),ac(4,ws,i,a)},useLayoutEffect:function(i,a){return Fe="useLayoutEffect",it(),r0(i,a)},useMemo:function(i,a){Fe="useMemo",it();var u=Be.H;Be.H=_o;try{return o0(i,a)}finally{Be.H=u}},useReducer:function(i,a,u){Fe="useReducer",it();var d=Be.H;Be.H=_o;try{return Kv(i,a,u)}finally{Be.H=d}},useRef:function(i){return Fe="useRef",it(),n0(i)},useState:function(i){Fe="useState",it();var a=Be.H;Be.H=_o;try{return Jv(i)}finally{Be.H=a}},useDebugValue:function(){Fe="useDebugValue",it()},useDeferredValue:function(i,a){return Fe="useDeferredValue",it(),a0(i,a)},useTransition:function(){return Fe="useTransition",it(),u0()},useSyncExternalStore:function(i,a,u){return Fe="useSyncExternalStore",it(),Gv(i,a,u)},useId:function(){return Fe="useId",it(),f0()},useActionState:function(i,a){return Fe="useActionState",it(),Su(i,a)},useFormState:function(i,a){return Fe="useFormState",it(),eg(),Su(i,a)},useOptimistic:function(i){return Fe="useOptimistic",it(),e0(i)},useHostTransitionStatus:lc,useMemoCache:oc,useCacheRefresh:function(){return Fe="useCacheRefresh",it(),d0()}},J_={readContext:function(i){return er(i)},use:ja,useCallback:function(i,a){return Fe="useCallback",it(),ag(i,a)},useContext:function(i){return Fe="useContext",it(),er(i)},useEffect:function(i,a){Fe="useEffect",it(),Os(2048,Ir,i,a)},useImperativeHandle:function(i,a,u){return Fe="useImperativeHandle",it(),og(i,a,u)},useInsertionEffect:function(i,a){return Fe="useInsertionEffect",it(),Os(4,ws,i,a)},useLayoutEffect:function(i,a){return Fe="useLayoutEffect",it(),Os(4,Qr,i,a)},useMemo:function(i,a){Fe="useMemo",it();var u=Be.H;Be.H=Li;try{return lg(i,a)}finally{Be.H=u}},useReducer:function(i,a,u){Fe="useReducer",it();var d=Be.H;Be.H=Li;try{return Nu(i,a,u)}finally{Be.H=d}},useRef:function(){return Fe="useRef",it(),Mn().memoizedState},useState:function(){Fe="useState",it();var i=Be.H;Be.H=Li;try{return Nu(Ui)}finally{Be.H=i}},useDebugValue:function(){Fe="useDebugValue",it()},useDeferredValue:function(i,a){return Fe="useDeferredValue",it(),Y3(i,a)},useTransition:function(){return Fe="useTransition",it(),eA()},useSyncExternalStore:function(i,a,u){return Fe="useSyncExternalStore",it(),tg(i,a,u)},useId:function(){return Fe="useId",it(),Mn().memoizedState},useFormState:function(i){return Fe="useFormState",it(),eg(),ng(i)},useActionState:function(i){return Fe="useActionState",it(),ng(i)},useOptimistic:function(i,a){return Fe="useOptimistic",it(),V3(i,a)},useHostTransitionStatus:lc,useMemoCache:oc,useCacheRefresh:function(){return Fe="useCacheRefresh",it(),Mn().memoizedState}},bk={readContext:function(i){return er(i)},use:ja,useCallback:function(i,a){return Fe="useCallback",it(),ag(i,a)},useContext:function(i){return Fe="useContext",it(),er(i)},useEffect:function(i,a){Fe="useEffect",it(),Os(2048,Ir,i,a)},useImperativeHandle:function(i,a,u){return Fe="useImperativeHandle",it(),og(i,a,u)},useInsertionEffect:function(i,a){return Fe="useInsertionEffect",it(),Os(4,ws,i,a)},useLayoutEffect:function(i,a){return Fe="useLayoutEffect",it(),Os(4,Qr,i,a)},useMemo:function(i,a){Fe="useMemo",it();var u=Be.H;Be.H=ob;try{return lg(i,a)}finally{Be.H=u}},useReducer:function(i,a,u){Fe="useReducer",it();var d=Be.H;Be.H=ob;try{return rh(i,a,u)}finally{Be.H=d}},useRef:function(){return Fe="useRef",it(),Mn().memoizedState},useState:function(){Fe="useState",it();var i=Be.H;Be.H=ob;try{return rh(Ui)}finally{Be.H=i}},useDebugValue:function(){Fe="useDebugValue",it()},useDeferredValue:function(i,a){return Fe="useDeferredValue",it(),K3(i,a)},useTransition:function(){return Fe="useTransition",it(),tA()},useSyncExternalStore:function(i,a,u){return Fe="useSyncExternalStore",it(),tg(i,a,u)},useId:function(){return Fe="useId",it(),Mn().memoizedState},useFormState:function(i){return Fe="useFormState",it(),eg(),rg(i)},useActionState:function(i){return Fe="useActionState",it(),rg(i)},useOptimistic:function(i,a){return Fe="useOptimistic",it(),B3(i,a)},useHostTransitionStatus:lc,useMemoCache:oc,useCacheRefresh:function(){return Fe="useCacheRefresh",it(),Mn().memoizedState}},_o={readContext:function(i){return h(),er(i)},use:function(i){return f(),ja(i)},useCallback:function(i,a){return Fe="useCallback",f(),fn(),i0(i,a)},useContext:function(i){return Fe="useContext",f(),fn(),er(i)},useEffect:function(i,a){return Fe="useEffect",f(),fn(),ig(i,a)},useImperativeHandle:function(i,a,u){return Fe="useImperativeHandle",f(),fn(),s0(i,a,u)},useInsertionEffect:function(i,a){Fe="useInsertionEffect",f(),fn(),ac(4,ws,i,a)},useLayoutEffect:function(i,a){return Fe="useLayoutEffect",f(),fn(),r0(i,a)},useMemo:function(i,a){Fe="useMemo",f(),fn();var u=Be.H;Be.H=_o;try{return o0(i,a)}finally{Be.H=u}},useReducer:function(i,a,u){Fe="useReducer",f(),fn();var d=Be.H;Be.H=_o;try{return Kv(i,a,u)}finally{Be.H=d}},useRef:function(i){return Fe="useRef",f(),fn(),n0(i)},useState:function(i){Fe="useState",f(),fn();var a=Be.H;Be.H=_o;try{return Jv(i)}finally{Be.H=a}},useDebugValue:function(){Fe="useDebugValue",f(),fn()},useDeferredValue:function(i,a){return Fe="useDeferredValue",f(),fn(),a0(i,a)},useTransition:function(){return Fe="useTransition",f(),fn(),u0()},useSyncExternalStore:function(i,a,u){return Fe="useSyncExternalStore",f(),fn(),Gv(i,a,u)},useId:function(){return Fe="useId",f(),fn(),f0()},useFormState:function(i,a){return Fe="useFormState",f(),fn(),Su(i,a)},useActionState:function(i,a){return Fe="useActionState",f(),fn(),Su(i,a)},useOptimistic:function(i){return Fe="useOptimistic",f(),fn(),e0(i)},useMemoCache:function(i){return f(),oc(i)},useHostTransitionStatus:lc,useCacheRefresh:function(){return Fe="useCacheRefresh",fn(),d0()}},Li={readContext:function(i){return h(),er(i)},use:function(i){return f(),ja(i)},useCallback:function(i,a){return Fe="useCallback",f(),it(),ag(i,a)},useContext:function(i){return Fe="useContext",f(),it(),er(i)},useEffect:function(i,a){Fe="useEffect",f(),it(),Os(2048,Ir,i,a)},useImperativeHandle:function(i,a,u){return Fe="useImperativeHandle",f(),it(),og(i,a,u)},useInsertionEffect:function(i,a){return Fe="useInsertionEffect",f(),it(),Os(4,ws,i,a)},useLayoutEffect:function(i,a){return Fe="useLayoutEffect",f(),it(),Os(4,Qr,i,a)},useMemo:function(i,a){Fe="useMemo",f(),it();var u=Be.H;Be.H=Li;try{return lg(i,a)}finally{Be.H=u}},useReducer:function(i,a,u){Fe="useReducer",f(),it();var d=Be.H;Be.H=Li;try{return Nu(i,a,u)}finally{Be.H=d}},useRef:function(){return Fe="useRef",f(),it(),Mn().memoizedState},useState:function(){Fe="useState",f(),it();var i=Be.H;Be.H=Li;try{return Nu(Ui)}finally{Be.H=i}},useDebugValue:function(){Fe="useDebugValue",f(),it()},useDeferredValue:function(i,a){return Fe="useDeferredValue",f(),it(),Y3(i,a)},useTransition:function(){return Fe="useTransition",f(),it(),eA()},useSyncExternalStore:function(i,a,u){return Fe="useSyncExternalStore",f(),it(),tg(i,a,u)},useId:function(){return Fe="useId",f(),it(),Mn().memoizedState},useFormState:function(i){return Fe="useFormState",f(),it(),ng(i)},useActionState:function(i){return Fe="useActionState",f(),it(),ng(i)},useOptimistic:function(i,a){return Fe="useOptimistic",f(),it(),V3(i,a)},useMemoCache:function(i){return f(),oc(i)},useHostTransitionStatus:lc,useCacheRefresh:function(){return Fe="useCacheRefresh",it(),Mn().memoizedState}},ob={readContext:function(i){return h(),er(i)},use:function(i){return f(),ja(i)},useCallback:function(i,a){return Fe="useCallback",f(),it(),ag(i,a)},useContext:function(i){return Fe="useContext",f(),it(),er(i)},useEffect:function(i,a){Fe="useEffect",f(),it(),Os(2048,Ir,i,a)},useImperativeHandle:function(i,a,u){return Fe="useImperativeHandle",f(),it(),og(i,a,u)},useInsertionEffect:function(i,a){return Fe="useInsertionEffect",f(),it(),Os(4,ws,i,a)},useLayoutEffect:function(i,a){return Fe="useLayoutEffect",f(),it(),Os(4,Qr,i,a)},useMemo:function(i,a){Fe="useMemo",f(),it();var u=Be.H;Be.H=Li;try{return lg(i,a)}finally{Be.H=u}},useReducer:function(i,a,u){Fe="useReducer",f(),it();var d=Be.H;Be.H=Li;try{return rh(i,a,u)}finally{Be.H=d}},useRef:function(){return Fe="useRef",f(),it(),Mn().memoizedState},useState:function(){Fe="useState",f(),it();var i=Be.H;Be.H=Li;try{return rh(Ui)}finally{Be.H=i}},useDebugValue:function(){Fe="useDebugValue",f(),it()},useDeferredValue:function(i,a){return Fe="useDeferredValue",f(),it(),K3(i,a)},useTransition:function(){return Fe="useTransition",f(),it(),tA()},useSyncExternalStore:function(i,a,u){return Fe="useSyncExternalStore",f(),it(),tg(i,a,u)},useId:function(){return Fe="useId",f(),it(),Mn().memoizedState},useFormState:function(i){return Fe="useFormState",f(),it(),rg(i)},useActionState:function(i){return Fe="useActionState",f(),it(),rg(i)},useOptimistic:function(i,a){return Fe="useOptimistic",f(),it(),B3(i,a)},useMemoCache:function(i){return f(),oc(i)},useHostTransitionStatus:lc,useCacheRefresh:function(){return Fe="useCacheRefresh",it(),Mn().memoizedState}};var xk={"react-stack-bottom-frame":function(i,a,u){var d=xo;xo=!0;try{return i(a,u)}finally{xo=d}}},ew=xk["react-stack-bottom-frame"].bind(xk),yk={"react-stack-bottom-frame":function(i){var a=xo;xo=!0;try{return i.render()}finally{xo=a}}},vk=yk["react-stack-bottom-frame"].bind(yk),_k={"react-stack-bottom-frame":function(i,a){try{a.componentDidMount()}catch(u){jn(i,i.return,u)}}},tw=_k["react-stack-bottom-frame"].bind(_k),wk={"react-stack-bottom-frame":function(i,a,u,d,g){try{a.componentDidUpdate(u,d,g)}catch(v){jn(i,i.return,v)}}},Nk=wk["react-stack-bottom-frame"].bind(wk),Sk={"react-stack-bottom-frame":function(i,a){var u=a.stack;i.componentDidCatch(a.value,{componentStack:u!==null?u:""})}},jz=Sk["react-stack-bottom-frame"].bind(Sk),Ek={"react-stack-bottom-frame":function(i,a,u){try{u.componentWillUnmount()}catch(d){jn(i,a,d)}}},Tk=Ek["react-stack-bottom-frame"].bind(Ek),Ak={"react-stack-bottom-frame":function(i){i.resourceKind!=null&&console.error("Expected only SimpleEffects when enableUseEffectCRUDOverload is disabled, got %s",i.resourceKind);var a=i.create;return i=i.inst,a=a(),i.destroy=a}},Iz=Ak["react-stack-bottom-frame"].bind(Ak),Ck={"react-stack-bottom-frame":function(i,a,u){try{u()}catch(d){jn(i,a,d)}}},Oz=Ck["react-stack-bottom-frame"].bind(Ck),Rk={"react-stack-bottom-frame":function(i){var a=i._init;return a(i._payload)}},Ka=Rk["react-stack-bottom-frame"].bind(Rk),sf=null,$h=0,tn=null,nw,kk=nw=!1,Pk={},Dk={},Mk={};c=function(i,a,u){if(u!==null&&typeof u=="object"&&u._store&&(!u._store.validated&&u.key==null||u._store.validated===2)){if(typeof u._store!="object")throw Error("React Component in warnForMissingKey should have a _store. This error is likely caused by a bug in React. Please file an issue.");u._store.validated=1;var d=G(i),g=d||"null";if(!Pk[g]){Pk[g]=!0,u=u._owner,i=i._debugOwner;var v="";i&&typeof i.tag=="number"&&(g=G(i))&&(v=`

Check the render method of \``+g+"`."),v||d&&(v=`

Check the top-level render call using <`+d+">.");var R="";u!=null&&i!==u&&(d=null,typeof u.tag=="number"?d=G(u):typeof u.name=="string"&&(d=u.name),d&&(R=" It was passed a child from "+d+".")),ie(a,function(){console.error('Each child in a list should have a unique "key" prop.%s%s See https://react.dev/link/warning-keys for more information.',v,R)})}}};var of=iA(!0),jk=iA(!1),wi=K(null),wo=null,af=1,Hh=2,Or=K(0),Ik={},Ok=new Set,Uk=new Set,Vk=new Set,Fk=new Set,Bk=new Set,Lk=new Set,zk=new Set,$k=new Set,Hk=new Set,Wk=new Set;Object.freeze(Ik);var rw={enqueueSetState:function(i,a,u){i=i._reactInternals;var d=Zs(i),g=Da(d);g.payload=a,u!=null&&(p0(u),g.callback=u),a=Ma(i,g,d),a!==null&&(yr(a,i,d),Jd(a,i,d)),Ue(i,d)},enqueueReplaceState:function(i,a,u){i=i._reactInternals;var d=Zs(i),g=Da(d);g.tag=uk,g.payload=a,u!=null&&(p0(u),g.callback=u),a=Ma(i,g,d),a!==null&&(yr(a,i,d),Jd(a,i,d)),Ue(i,d)},enqueueForceUpdate:function(i,a){i=i._reactInternals;var u=Zs(i),d=Da(u);d.tag=fk,a!=null&&(p0(a),d.callback=a),a=Ma(i,d,u),a!==null&&(yr(a,i,u),Jd(a,i,u)),bt!==null&&typeof bt.markForceUpdateScheduled=="function"&&bt.markForceUpdateScheduled(i,u)}},sw=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},lf=null,iw=null,qk=Error("This is not a real error. It's an implementation detail of React's selective hydration feature. If this leaks into userspace, it's a bug in React. Please file an issue."),zr=!1,Xk={},Yk={},Kk={},Zk={},cf=!1,Gk={},ow={},aw={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null},Qk=!1,Jk=null;Jk=new Set;var ca=!1,vr=!1,lw=!1,eP=typeof WeakSet=="function"?WeakSet:Set,$r=null,uf=null,ff=null,Cr=null,Fs=!1,zi=null,Wh=8192,Uz={getCacheForType:function(i){var a=er(jr),u=a.data.get(i);return u===void 0&&(u=i(),a.data.set(i,u)),u},getOwner:function(){return Qs}};if(typeof Symbol=="function"&&Symbol.for){var qh=Symbol.for;qh("selector.component"),qh("selector.has_pseudo_class"),qh("selector.role"),qh("selector.test_id"),qh("selector.text")}var Vz=[],Fz=typeof WeakMap=="function"?WeakMap:Map,Js=0,Ns=2,$i=4,ua=0,Xh=1,df=2,cw=3,vc=4,ab=6,tP=5,Sn=Js,Ln=null,an=null,dn=0,Bs=0,Yh=1,_c=2,Kh=3,nP=4,uw=5,hf=6,Zh=7,fw=8,wc=9,Rn=Bs,ei=null,Za=!1,pf=!1,dw=!1,No=0,ur=ua,Ga=0,Qa=0,hw=0,ti=0,Nc=0,Gh=null,Ss=null,lb=!1,pw=0,rP=300,cb=1/0,sP=500,Qh=null,Ja=null,Bz=0,Lz=1,zz=2,Sc=0,iP=1,oP=2,aP=3,$z=4,mw=5,Jr=0,el=null,mf=null,tl=0,gw=0,bw=null,lP=null,Hz=50,Jh=0,xw=null,yw=!1,ub=!1,Wz=50,Ec=0,ep=null,gf=!1,fb=null,cP=!1,uP=new Set,qz={},db=null,bf=null,vw=!1,_w=!1,hb=!1,ww=!1,Tc=0,Nw={};(function(){for(var i=0;i<B_.length;i++){var a=B_[i],u=a.toLowerCase();a=a[0].toUpperCase()+a.slice(1),Oi(u,"on"+a)}Oi(YR,"onAnimationEnd"),Oi(KR,"onAnimationIteration"),Oi(ZR,"onAnimationStart"),Oi("dblclick","onDoubleClick"),Oi("focusin","onFocus"),Oi("focusout","onBlur"),Oi(Nz,"onTransitionRun"),Oi(Sz,"onTransitionStart"),Oi(Ez,"onTransitionCancel"),Oi(GR,"onTransitionEnd")})(),ut("onMouseEnter",["mouseout","mouseover"]),ut("onMouseLeave",["mouseout","mouseover"]),ut("onPointerEnter",["pointerout","pointerover"]),ut("onPointerLeave",["pointerout","pointerover"]),rt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rt("onBeforeInput",["compositionend","keypress","textInput","paste"]),rt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(tp)),pb="_reactListening"+Math.random().toString(36).slice(2),fP=!1,dP=!1,mb=!1,hP=!1,gb=!1,bb=!1,pP=!1,xb={},Xz=/\r\n?/g,Yz=/\u0000|\uFFFD/g,Ac="http://www.w3.org/1999/xlink",Ew="http://www.w3.org/XML/1998/namespace",Kz="javascript:throw new Error('React form unexpectedly submitted.')",Zz="suppressHydrationWarning",yb="$",vb="/$",fa="$?",np="$!",Gz=1,Qz=2,Jz=4,Tw="F!",mP="F",gP="complete",e8="style",da=0,xf=1,_b=2,Aw=null,Cw=null,bP={dialog:!0,webview:!0},Rw=null,xP=typeof setTimeout=="function"?setTimeout:void 0,t8=typeof clearTimeout=="function"?clearTimeout:void 0,Cc=-1,yP=typeof Promise=="function"?Promise:void 0,n8=typeof queueMicrotask=="function"?queueMicrotask:typeof yP<"u"?function(i){return yP.resolve(null).then(i).catch(LL)}:xP,kw=null,Rc=0,rp=1,vP=2,_P=3,Ni=4,Si=new Map,wP=new Set,ha=Nn.d;Nn.d={f:function(){var i=ha.f(),a=Ru();return i||a},r:function(i){var a=Mr(i);a!==null&&a.tag===5&&a.type==="form"?J3(a):ha.r(i)},D:function(i){ha.D(i),zC("dns-prefetch",i,null)},C:function(i,a){ha.C(i,a),zC("preconnect",i,a)},L:function(i,a,u){ha.L(i,a,u);var d=yf;if(d&&i&&a){var g='link[rel="preload"][as="'+ft(a)+'"]';a==="image"&&u&&u.imageSrcSet?(g+='[imagesrcset="'+ft(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(g+='[imagesizes="'+ft(u.imageSizes)+'"]')):g+='[href="'+ft(i)+'"]';var v=g;switch(a){case"style":v=Mu(i);break;case"script":v=ju(i)}Si.has(v)||(i=rn({rel:"preload",href:a==="image"&&u&&u.imageSrcSet?void 0:i,as:a},u),Si.set(v,i),d.querySelector(g)!==null||a==="style"&&d.querySelector(gh(v))||a==="script"&&d.querySelector(bh(v))||(a=d.createElement("link"),Kr(a,"link",i),Ee(a),d.head.appendChild(a)))}},m:function(i,a){ha.m(i,a);var u=yf;if(u&&i){var d=a&&typeof a.as=="string"?a.as:"script",g='link[rel="modulepreload"][as="'+ft(d)+'"][href="'+ft(i)+'"]',v=g;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=ju(i)}if(!Si.has(v)&&(i=rn({rel:"modulepreload",href:i},a),Si.set(v,i),u.querySelector(g)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(bh(v)))return}d=u.createElement("link"),Kr(d,"link",i),Ee(d),u.head.appendChild(d)}}},X:function(i,a){ha.X(i,a);var u=yf;if(u&&i){var d=$(u).hoistableScripts,g=ju(i),v=d.get(g);v||(v=u.querySelector(bh(g)),v||(i=rn({src:i,async:!0},a),(a=Si.get(g))&&r_(i,a),v=u.createElement("script"),Ee(v),Kr(v,"link",i),u.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},d.set(g,v))}},S:function(i,a,u){ha.S(i,a,u);var d=yf;if(d&&i){var g=$(d).hoistableStyles,v=Mu(i);a=a||"default";var R=g.get(v);if(!R){var I={loading:Rc,preload:null};if(R=d.querySelector(gh(v)))I.loading=rp|Ni;else{i=rn({rel:"stylesheet",href:i,"data-precedence":a},u),(u=Si.get(v))&&n_(i,u);var q=R=d.createElement("link");Ee(q),Kr(q,"link",i),q._p=new Promise(function(re,Oe){q.onload=re,q.onerror=Oe}),q.addEventListener("load",function(){I.loading|=rp}),q.addEventListener("error",function(){I.loading|=vP}),I.loading|=Ni,Rg(R,a,d)}R={type:"stylesheet",instance:R,count:1,state:I},g.set(v,R)}}},M:function(i,a){ha.M(i,a);var u=yf;if(u&&i){var d=$(u).hoistableScripts,g=ju(i),v=d.get(g);v||(v=u.querySelector(bh(g)),v||(i=rn({src:i,async:!0,type:"module"},a),(a=Si.get(g))&&r_(i,a),v=u.createElement("script"),Ee(v),Kr(v,"link",i),u.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},d.set(g,v))}}};var yf=typeof document>"u"?null:document,wb=null,sp=null,Pw=null,Nb=null,kc=_5,ip={$$typeof:po,Provider:null,Consumer:null,_currentValue:kc,_currentValue2:kc,_threadCount:0},NP="%c%s%c ",SP="background: #e6e6e6;background: light-dark(rgba(0,0,0,0.1), rgba(255,255,255,0.25));color: #000000;color: light-dark(#000000, #ffffff);border-radius: 2px",EP="",Sb=" ",r8=Function.prototype.bind,TP=!1,AP=null,CP=null,RP=null,kP=null,PP=null,DP=null,MP=null,jP=null,IP=null;AP=function(i,a,u,d){a=t(i,a),a!==null&&(u=e(a.memoizedState,u,0,d),a.memoizedState=u,a.baseState=u,i.memoizedProps=rn({},i.memoizedProps),u=js(i,2),u!==null&&yr(u,i,2))},CP=function(i,a,u){a=t(i,a),a!==null&&(u=s(a.memoizedState,u,0),a.memoizedState=u,a.baseState=u,i.memoizedProps=rn({},i.memoizedProps),u=js(i,2),u!==null&&yr(u,i,2))},RP=function(i,a,u,d){a=t(i,a),a!==null&&(u=n(a.memoizedState,u,d),a.memoizedState=u,a.baseState=u,i.memoizedProps=rn({},i.memoizedProps),u=js(i,2),u!==null&&yr(u,i,2))},kP=function(i,a,u){i.pendingProps=e(i.memoizedProps,a,0,u),i.alternate&&(i.alternate.pendingProps=i.pendingProps),a=js(i,2),a!==null&&yr(a,i,2)},PP=function(i,a){i.pendingProps=s(i.memoizedProps,a,0),i.alternate&&(i.alternate.pendingProps=i.pendingProps),a=js(i,2),a!==null&&yr(a,i,2)},DP=function(i,a,u){i.pendingProps=n(i.memoizedProps,a,u),i.alternate&&(i.alternate.pendingProps=i.pendingProps),a=js(i,2),a!==null&&yr(a,i,2)},MP=function(i){var a=js(i,2);a!==null&&yr(a,i,2)},jP=function(i){l=i},IP=function(i){o=i};var Eb=!0,Tb=null,Dw=!1,nl=null,rl=null,sl=null,op=new Map,ap=new Map,il=[],s8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" "),Ab=null;if(Mg.prototype.render=u_.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error("Cannot update an unmounted root.");var u=arguments;typeof u[1]=="function"?console.error("does not support the second callback argument. To execute a side effect after rendering, declare it in a component body with useEffect()."):C(u[1])?console.error("You passed a container to the second argument of root.render(...). You don't need to pass it again since you already passed it to create the root."):typeof u[1]<"u"&&console.error("You passed a second argument to root.render(...) but it only accepts one argument."),u=i;var d=a.current,g=Zs(d);i_(d,g,u,a,null,null)},Mg.prototype.unmount=u_.prototype.unmount=function(){var i=arguments;if(typeof i[0]=="function"&&console.error("does not support a callback argument. To execute a side effect after rendering, declare it in a component body with useEffect()."),i=this._internalRoot,i!==null){this._internalRoot=null;var a=i.containerInfo;(Sn&(Ns|$i))!==Js&&console.error("Attempted to synchronously unmount a root while React was already rendering. React cannot finish unmounting the root until the current render has completed, which may lead to a race condition."),i_(i.current,2,null,i,null,null),Ru(),a[Ha]=null}},Mg.prototype.unstable_scheduleHydration=function(i){if(i){var a=lr();i={blockedOn:null,target:i,priority:a};for(var u=0;u<il.length&&a!==0&&a<il[u].priority;u++);il.splice(u,0,i),u===0&&tR(i)}},function(){var i=f_.version;if(i!=="19.1.0")throw Error(`Incompatible React versions: The "react" and "react-dom" packages must have the exact same version. Instead got:
  - react:      `+(i+`
  - react-dom:  19.1.0
Learn more: https://react.dev/warnings/version-mismatch`))}(),typeof Map=="function"&&Map.prototype!=null&&typeof Map.prototype.forEach=="function"&&typeof Set=="function"&&Set.prototype!=null&&typeof Set.prototype.clear=="function"&&typeof Set.prototype.forEach=="function"||console.error("React depends on Map and Set built-in types. Make sure that you load a polyfill in older browsers. https://react.dev/link/react-polyfills"),Nn.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error("Unable to find node on an unmounted component."):(i=Object.keys(i).join(","),Error("Argument appears to not be a ReactComponent. Keys: "+i));return i=U(a),i=i!==null?L(i):null,i=i===null?null:i.stateNode,i},!function(){var i={bundleType:1,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Be,reconcilerVersion:"19.1.0"};return i.overrideHookState=AP,i.overrideHookStateDeletePath=CP,i.overrideHookStateRenamePath=RP,i.overrideProps=kP,i.overridePropsDeletePath=PP,i.overridePropsRenamePath=DP,i.scheduleUpdate=MP,i.setErrorHandler=jP,i.setSuspenseHandler=IP,i.scheduleRefresh=E,i.scheduleRoot=_,i.setRefreshHandler=T,i.getCurrentFiber=u5,i.getLaneLabelMap=f5,i.injectProfilingHooks=he,Z(i)}()&&yo&&window.top===window.self&&(-1<navigator.userAgent.indexOf("Chrome")&&navigator.userAgent.indexOf("Edge")===-1||-1<navigator.userAgent.indexOf("Firefox"))){var OP=window.location.protocol;/^(https?|file):$/.test(OP)&&console.info("%cDownload the React DevTools for a better development experience: https://react.dev/link/react-devtools"+(OP==="file:"?`
You might need to use a local HTTP server (instead of file://): https://react.dev/link/react-devtools-faq`:""),"font-weight:bold")}lp.createRoot=function(i,a){if(!C(i))throw Error("Target container is not a DOM element.");sR(i);var u=!1,d="",g=cA,v=uA,R=fA,I=null;return a!=null&&(a.hydrate?console.warn("hydrate through createRoot is deprecated. Use ReactDOMClient.hydrateRoot(container, <App />) instead."):typeof a=="object"&&a!==null&&a.$$typeof===Ba&&console.error(`You passed a JSX element to createRoot. You probably meant to call root.render instead. Example usage:

  let root = createRoot(domContainer);
  root.render(<App />);`),a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(R=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks)),a=KC(i,1,!1,null,null,u,d,g,v,R,I,null),i[Ha]=a.current,q0(i),new u_(a)},lp.hydrateRoot=function(i,a,u){if(!C(i))throw Error("Target container is not a DOM element.");sR(i),a===void 0&&console.error("Must provide initial children as second argument to hydrateRoot. Example usage: hydrateRoot(domContainer, <App />)");var d=!1,g="",v=cA,R=uA,I=fA,q=null,re=null;return u!=null&&(u.unstable_strictMode===!0&&(d=!0),u.identifierPrefix!==void 0&&(g=u.identifierPrefix),u.onUncaughtError!==void 0&&(v=u.onUncaughtError),u.onCaughtError!==void 0&&(R=u.onCaughtError),u.onRecoverableError!==void 0&&(I=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(q=u.unstable_transitionCallbacks),u.formState!==void 0&&(re=u.formState)),a=KC(i,1,!0,a,u??null,d,g,v,R,I,q,re),a.context=ZC(null),u=a.current,d=Zs(u),d=$e(d),g=Da(d),g.callback=null,Ma(u,g,d),u=d,a.current.lanes=u,Wr(a,u),fo(a),i[Ha]=a.current,q0(i),new Mg(a)},lp.version="19.1.0",typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())}(),lp}var YP;function g8(){return YP||(YP=1,Ow.exports=m8()),Ow.exports}var b8=g8(),Cd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},eu=typeof window>"u"||"Deno"in globalThis;function Cs(){}function x8(t,e){return typeof t=="function"?t(e):t}function yN(t){return typeof t=="number"&&t>=0&&t!==1/0}function wI(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Il(t,e){return typeof t=="function"?t(e):t}function Zi(t,e){return typeof t=="function"?t(e):t}function KP(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:o,queryKey:l,stale:c}=t;if(l){if(r){if(e.queryHash!==cE(l,e.options))return!1}else if(!Xp(e.queryKey,l))return!1}if(n!=="all"){const f=e.isActive();if(n==="active"&&!f||n==="inactive"&&f)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||s&&s!==e.state.fetchStatus||o&&!o(e))}function ZP(t,e){const{exact:n,status:r,predicate:s,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(n){if(tu(e.options.mutationKey)!==tu(o))return!1}else if(!Xp(e.options.mutationKey,o))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function cE(t,e){return((e==null?void 0:e.queryKeyHashFn)||tu)(t)}function tu(t){return JSON.stringify(t,(e,n)=>_N(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Xp(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Xp(t[n],e[n])):!1}function vN(t,e){if(t===e)return t;const n=GP(t)&&GP(e);if(n||_N(t)&&_N(e)){const r=n?t:Object.keys(t),s=r.length,o=n?e:Object.keys(e),l=o.length,c=n?[]:{},f=new Set(r);let h=0;for(let p=0;p<l;p++){const m=n?p:o[p];(!n&&f.has(m)||n)&&t[m]===void 0&&e[m]===void 0?(c[m]=void 0,h++):(c[m]=vN(t[m],e[m]),c[m]===t[m]&&t[m]!==void 0&&h++)}return s===l&&h===s?t:c}return e}function Tx(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function GP(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function _N(t){if(!QP(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!QP(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function QP(t){return Object.prototype.toString.call(t)==="[object Object]"}function y8(t){return new Promise(e=>{setTimeout(e,t)})}function wN(t,e,n){if(typeof n.structuralSharing=="function")return n.structuralSharing(t,e);if(n.structuralSharing!==!1){try{return vN(t,e)}catch(r){throw console.error(`Structural sharing requires data to be JSON serializable. To fix this, turn off structuralSharing or return JSON-serializable data from your queryFn. [${n.queryHash}]: ${r}`),r}return vN(t,e)}return e}function v8(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function _8(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Ax=Symbol();function NI(t,e){return t.queryFn===Ax&&console.error(`Attempted to invoke queryFn when set to skipToken. This is likely a configuration error. Query hash: '${t.queryHash}'`),!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Ax?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function SI(t,e){return typeof t=="function"?t(...e):!!t}var Bc,wl,td,cI,w8=(cI=class extends Cd{constructor(){super();Rt(this,Bc);Rt(this,wl);Rt(this,td);yt(this,td,e=>{if(!eu&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){be(this,wl)||this.setEventListener(be(this,td))}onUnsubscribe(){var e;this.hasListeners()||((e=be(this,wl))==null||e.call(this),yt(this,wl,void 0))}setEventListener(e){var n;yt(this,td,e),(n=be(this,wl))==null||n.call(this),yt(this,wl,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){be(this,Bc)!==e&&(yt(this,Bc,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof be(this,Bc)=="boolean"?be(this,Bc):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Bc=new WeakMap,wl=new WeakMap,td=new WeakMap,cI),uE=new w8,nd,Nl,rd,uI,N8=(uI=class extends Cd{constructor(){super();Rt(this,nd,!0);Rt(this,Nl);Rt(this,rd);yt(this,rd,e=>{if(!eu&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){be(this,Nl)||this.setEventListener(be(this,rd))}onUnsubscribe(){var e;this.hasListeners()||((e=be(this,Nl))==null||e.call(this),yt(this,Nl,void 0))}setEventListener(e){var n;yt(this,rd,e),(n=be(this,Nl))==null||n.call(this),yt(this,Nl,e(this.setOnline.bind(this)))}setOnline(e){be(this,nd)!==e&&(yt(this,nd,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return be(this,nd)}},nd=new WeakMap,Nl=new WeakMap,rd=new WeakMap,uI),Cx=new N8;function NN(){let t,e;const n=new Promise((s,o)=>{t=s,e=o});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function S8(t){return Math.min(1e3*2**t,3e4)}function EI(t){return(t??"online")==="online"?Cx.isOnline():!0}var TI=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Bw(t){return t instanceof TI}function AI(t){let e=!1,n=0,r=!1,s;const o=NN(),l=T=>{var C;r||(b(new TI(T)),(C=t.abort)==null||C.call(t))},c=()=>{e=!0},f=()=>{e=!1},h=()=>uE.isFocused()&&(t.networkMode==="always"||Cx.isOnline())&&t.canRun(),p=()=>EI(t.networkMode)&&t.canRun(),m=T=>{var C;r||(r=!0,(C=t.onSuccess)==null||C.call(t,T),s==null||s(),o.resolve(T))},b=T=>{var C;r||(r=!0,(C=t.onError)==null||C.call(t,T),s==null||s(),o.reject(T))},_=()=>new Promise(T=>{var C;s=D=>{(r||h())&&T(D)},(C=t.onPause)==null||C.call(t)}).then(()=>{var T;s=void 0,r||(T=t.onContinue)==null||T.call(t)}),E=()=>{if(r)return;let T;const C=n===0?t.initialPromise:void 0;try{T=C??t.fn()}catch(D){T=Promise.reject(D)}Promise.resolve(T).then(m).catch(D=>{var O;if(r)return;const M=t.retry??(eu?0:3),P=t.retryDelay??S8,U=typeof P=="function"?P(n,D):P,L=M===!0||typeof M=="number"&&n<M||typeof M=="function"&&M(n,D);if(e||!L){b(D);return}n++,(O=t.onFail)==null||O.call(t,n,D),y8(U).then(()=>h()?void 0:_()).then(()=>{e?b(D):E()})})};return{promise:o,cancel:l,continue:()=>(s==null||s(),o),cancelRetry:c,continueRetry:f,canStart:p,start:()=>(p()?E():_().then(E),o)}}var E8=t=>setTimeout(t,0);function T8(){let t=[],e=0,n=c=>{c()},r=c=>{c()},s=E8;const o=c=>{e?t.push(c):s(()=>{n(c)})},l=()=>{const c=t;t=[],c.length&&s(()=>{r(()=>{c.forEach(f=>{n(f)})})})};return{batch:c=>{let f;e++;try{f=c()}finally{e--,e||l()}return f},batchCalls:c=>(...f)=>{o(()=>{c(...f)})},schedule:o,setNotifyFunction:c=>{n=c},setBatchNotifyFunction:c=>{r=c},setScheduler:c=>{s=c}}}var Br=T8(),Lc,fI,CI=(fI=class{constructor(){Rt(this,Lc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),yN(this.gcTime)&&yt(this,Lc,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(eu?1/0:5*60*1e3))}clearGcTimeout(){be(this,Lc)&&(clearTimeout(be(this,Lc)),yt(this,Lc,void 0))}},Lc=new WeakMap,fI),sd,id,Ei,zc,us,cm,$c,Yi,ga,dI,A8=(dI=class extends CI{constructor(e){super();Rt(this,Yi);Rt(this,sd);Rt(this,id);Rt(this,Ei);Rt(this,zc);Rt(this,us);Rt(this,cm);Rt(this,$c);yt(this,$c,!1),yt(this,cm,e.defaultOptions),this.setOptions(e.options),this.observers=[],yt(this,zc,e.client),yt(this,Ei,be(this,zc).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,yt(this,sd,C8(this.options)),this.state=e.state??be(this,sd),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=be(this,us))==null?void 0:e.promise}setOptions(e){this.options={...be(this,cm),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&be(this,Ei).remove(this)}setData(e,n){const r=wN(this.state.data,e,this.options);return Jt(this,Yi,ga).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){Jt(this,Yi,ga).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,s;const n=(r=be(this,us))==null?void 0:r.promise;return(s=be(this,us))==null||s.cancel(e),n?n.then(Cs).catch(Cs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(be(this,sd))}isActive(){return this.observers.some(e=>Zi(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Ax||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Il(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!wI(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=be(this,us))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=be(this,us))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),be(this,Ei).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(be(this,us)&&(be(this,$c)?be(this,us).cancel({revert:!0}):be(this,us).cancelRetry()),this.scheduleGc()),be(this,Ei).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Jt(this,Yi,ga).call(this,{type:"invalidate"})}fetch(e,n){var h,p,m;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(be(this,us))return be(this,us).continueRetry(),be(this,us).promise}if(e&&this.setOptions(e),!this.options.queryFn){const b=this.observers.find(_=>_.options.queryFn);b&&this.setOptions(b.options)}Array.isArray(this.options.queryKey)||console.error("As of v4, queryKey needs to be an Array. If you are using a string like 'repoData', please change it to an Array, e.g. ['repoData']");const r=new AbortController,s=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(yt(this,$c,!0),r.signal)})},o=()=>{const b=NI(this.options,n),E=(()=>{const T={client:be(this,zc),queryKey:this.queryKey,meta:this.meta};return s(T),T})();return yt(this,$c,!1),this.options.persister?this.options.persister(b,E,this):b(E)},c=(()=>{const b={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:be(this,zc),state:this.state,fetchFn:o};return s(b),b})();(h=this.options.behavior)==null||h.onFetch(c,this),yt(this,id,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((p=c.fetchOptions)==null?void 0:p.meta))&&Jt(this,Yi,ga).call(this,{type:"fetch",meta:(m=c.fetchOptions)==null?void 0:m.meta});const f=b=>{var _,E,T,C;Bw(b)&&b.silent||Jt(this,Yi,ga).call(this,{type:"error",error:b}),Bw(b)||((E=(_=be(this,Ei).config).onError)==null||E.call(_,b,this),(C=(T=be(this,Ei).config).onSettled)==null||C.call(T,this.state.data,b,this)),this.scheduleGc()};return yt(this,us,AI({initialPromise:n==null?void 0:n.initialPromise,fn:c.fetchFn,abort:r.abort.bind(r),onSuccess:b=>{var _,E,T,C;if(b===void 0){console.error(`Query data cannot be undefined. Please make sure to return a value other than undefined from your query function. Affected query key: ${this.queryHash}`),f(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(b)}catch(D){f(D);return}(E=(_=be(this,Ei).config).onSuccess)==null||E.call(_,b,this),(C=(T=be(this,Ei).config).onSettled)==null||C.call(T,b,this.state.error,this),this.scheduleGc()},onError:f,onFail:(b,_)=>{Jt(this,Yi,ga).call(this,{type:"failed",failureCount:b,error:_})},onPause:()=>{Jt(this,Yi,ga).call(this,{type:"pause"})},onContinue:()=>{Jt(this,Yi,ga).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0})),be(this,us).start()}},sd=new WeakMap,id=new WeakMap,Ei=new WeakMap,zc=new WeakMap,us=new WeakMap,cm=new WeakMap,$c=new WeakMap,Yi=new WeakSet,ga=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...RI(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return Bw(s)&&s.revert&&be(this,id)?{...be(this,id),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),Br.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),be(this,Ei).notify({query:this,type:"updated",action:e})})},dI);function RI(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:EI(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function C8(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Ro,hI,R8=(hI=class extends Cd{constructor(e={}){super();Rt(this,Ro);this.config=e,yt(this,Ro,new Map)}build(e,n,r){const s=n.queryKey,o=n.queryHash??cE(s,n);let l=this.get(o);return l||(l=new A8({client:e,queryKey:s,queryHash:o,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(l)),l}add(e){be(this,Ro).has(e.queryHash)||(be(this,Ro).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=be(this,Ro).get(e.queryHash);n&&(e.destroy(),n===e&&be(this,Ro).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Br.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return be(this,Ro).get(e)}getAll(){return[...be(this,Ro).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>KP(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>KP(e,r)):n}notify(e){Br.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Br.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Br.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ro=new WeakMap,hI),ko,Ts,Hc,Po,pl,pI,k8=(pI=class extends CI{constructor(e){super();Rt(this,Po);Rt(this,ko);Rt(this,Ts);Rt(this,Hc);this.mutationId=e.mutationId,yt(this,Ts,e.mutationCache),yt(this,ko,[]),this.state=e.state||kI(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){be(this,ko).includes(e)||(be(this,ko).push(e),this.clearGcTimeout(),be(this,Ts).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){yt(this,ko,be(this,ko).filter(n=>n!==e)),this.scheduleGc(),be(this,Ts).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){be(this,ko).length||(this.state.status==="pending"?this.scheduleGc():be(this,Ts).remove(this))}continue(){var e;return((e=be(this,Hc))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var o,l,c,f,h,p,m,b,_,E,T,C,D,M,P,U,L,O,Y,ne;const n=()=>{Jt(this,Po,pl).call(this,{type:"continue"})};yt(this,Hc,AI({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(G,K)=>{Jt(this,Po,pl).call(this,{type:"failed",failureCount:G,error:K})},onPause:()=>{Jt(this,Po,pl).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>be(this,Ts).canRun(this)}));const r=this.state.status==="pending",s=!be(this,Hc).canStart();try{if(r)n();else{Jt(this,Po,pl).call(this,{type:"pending",variables:e,isPaused:s}),await((l=(o=be(this,Ts).config).onMutate)==null?void 0:l.call(o,e,this));const K=await((f=(c=this.options).onMutate)==null?void 0:f.call(c,e));K!==this.state.context&&Jt(this,Po,pl).call(this,{type:"pending",context:K,variables:e,isPaused:s})}const G=await be(this,Hc).start();return await((p=(h=be(this,Ts).config).onSuccess)==null?void 0:p.call(h,G,e,this.state.context,this)),await((b=(m=this.options).onSuccess)==null?void 0:b.call(m,G,e,this.state.context)),await((E=(_=be(this,Ts).config).onSettled)==null?void 0:E.call(_,G,null,this.state.variables,this.state.context,this)),await((C=(T=this.options).onSettled)==null?void 0:C.call(T,G,null,e,this.state.context)),Jt(this,Po,pl).call(this,{type:"success",data:G}),G}catch(G){try{throw await((M=(D=be(this,Ts).config).onError)==null?void 0:M.call(D,G,e,this.state.context,this)),await((U=(P=this.options).onError)==null?void 0:U.call(P,G,e,this.state.context)),await((O=(L=be(this,Ts).config).onSettled)==null?void 0:O.call(L,void 0,G,this.state.variables,this.state.context,this)),await((ne=(Y=this.options).onSettled)==null?void 0:ne.call(Y,void 0,G,e,this.state.context)),G}finally{Jt(this,Po,pl).call(this,{type:"error",error:G})}}finally{be(this,Ts).runNext(this)}}},ko=new WeakMap,Ts=new WeakMap,Hc=new WeakMap,Po=new WeakSet,pl=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Br.batch(()=>{be(this,ko).forEach(r=>{r.onMutationUpdate(e)}),be(this,Ts).notify({mutation:this,type:"updated",action:e})})},pI);function kI(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var va,Ki,um,mI,P8=(mI=class extends Cd{constructor(e={}){super();Rt(this,va);Rt(this,Ki);Rt(this,um);this.config=e,yt(this,va,new Set),yt(this,Ki,new Map),yt(this,um,0)}build(e,n,r){const s=new k8({mutationCache:this,mutationId:++Cb(this,um)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){be(this,va).add(e);const n=kb(e);if(typeof n=="string"){const r=be(this,Ki).get(n);r?r.push(e):be(this,Ki).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(be(this,va).delete(e)){const n=kb(e);if(typeof n=="string"){const r=be(this,Ki).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&be(this,Ki).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=kb(e);if(typeof n=="string"){const r=be(this,Ki).get(n),s=r==null?void 0:r.find(o=>o.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=kb(e);if(typeof n=="string"){const s=(r=be(this,Ki).get(n))==null?void 0:r.find(o=>o!==e&&o.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Br.batch(()=>{be(this,va).forEach(e=>{this.notify({type:"removed",mutation:e})}),be(this,va).clear(),be(this,Ki).clear()})}getAll(){return Array.from(be(this,va))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>ZP(n,r))}findAll(e={}){return this.getAll().filter(n=>ZP(e,n))}notify(e){Br.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Br.batch(()=>Promise.all(e.map(n=>n.continue().catch(Cs))))}},va=new WeakMap,Ki=new WeakMap,um=new WeakMap,mI);function kb(t){var e;return(e=t.options.scope)==null?void 0:e.id}function JP(t){return{onFetch:(e,n)=>{var p,m,b,_,E;const r=e.options,s=(b=(m=(p=e.fetchOptions)==null?void 0:p.meta)==null?void 0:m.fetchMore)==null?void 0:b.direction,o=((_=e.state.data)==null?void 0:_.pages)||[],l=((E=e.state.data)==null?void 0:E.pageParams)||[];let c={pages:[],pageParams:[]},f=0;const h=async()=>{let T=!1;const C=P=>{Object.defineProperty(P,"signal",{enumerable:!0,get:()=>(e.signal.aborted?T=!0:e.signal.addEventListener("abort",()=>{T=!0}),e.signal)})},D=NI(e.options,e.fetchOptions),M=async(P,U,L)=>{if(T)return Promise.reject();if(U==null&&P.pages.length)return Promise.resolve(P);const Y=(()=>{const Q={client:e.client,queryKey:e.queryKey,pageParam:U,direction:L?"backward":"forward",meta:e.options.meta};return C(Q),Q})(),ne=await D(Y),{maxPages:G}=e.options,K=L?_8:v8;return{pages:K(P.pages,ne,G),pageParams:K(P.pageParams,U,G)}};if(s&&o.length){const P=s==="backward",U=P?D8:eD,L={pages:o,pageParams:l},O=U(r,L);c=await M(L,O,P)}else{const P=t??o.length;do{const U=f===0?l[0]??r.initialPageParam:eD(r,c);if(f>0&&U==null)break;c=await M(c,U),f++}while(f<P)}return c};e.options.persister?e.fetchFn=()=>{var T,C;return(C=(T=e.options).persister)==null?void 0:C.call(T,h,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=h}}}function eD(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function D8(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var dr,Sl,El,od,ad,Tl,ld,cd,gI,PI=(gI=class{constructor(t={}){Rt(this,dr);Rt(this,Sl);Rt(this,El);Rt(this,od);Rt(this,ad);Rt(this,Tl);Rt(this,ld);Rt(this,cd);yt(this,dr,t.queryCache||new R8),yt(this,Sl,t.mutationCache||new P8),yt(this,El,t.defaultOptions||{}),yt(this,od,new Map),yt(this,ad,new Map),yt(this,Tl,0)}mount(){Cb(this,Tl)._++,be(this,Tl)===1&&(yt(this,ld,uE.subscribe(async t=>{t&&(await this.resumePausedMutations(),be(this,dr).onFocus())})),yt(this,cd,Cx.subscribe(async t=>{t&&(await this.resumePausedMutations(),be(this,dr).onOnline())})))}unmount(){var t,e;Cb(this,Tl)._--,be(this,Tl)===0&&((t=be(this,ld))==null||t.call(this),yt(this,ld,void 0),(e=be(this,cd))==null||e.call(this),yt(this,cd,void 0))}isFetching(t){return be(this,dr).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return be(this,Sl).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=be(this,dr).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=be(this,dr).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Il(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return be(this,dr).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=be(this,dr).get(r.queryHash),o=s==null?void 0:s.state.data,l=x8(e,o);if(l!==void 0)return be(this,dr).build(this,r).setData(l,{...n,manual:!0})}setQueriesData(t,e,n){return Br.batch(()=>be(this,dr).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=be(this,dr).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=be(this,dr);Br.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=be(this,dr);return Br.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Br.batch(()=>be(this,dr).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Cs).catch(Cs)}invalidateQueries(t,e={}){return Br.batch(()=>(be(this,dr).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Br.batch(()=>be(this,dr).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let o=s.fetch(void 0,n);return n.throwOnError||(o=o.catch(Cs)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(Cs)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=be(this,dr).build(this,e);return n.isStaleByTime(Il(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Cs).catch(Cs)}fetchInfiniteQuery(t){return t.behavior=JP(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Cs).catch(Cs)}ensureInfiniteQueryData(t){return t.behavior=JP(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Cx.isOnline()?be(this,Sl).resumePausedMutations():Promise.resolve()}getQueryCache(){return be(this,dr)}getMutationCache(){return be(this,Sl)}getDefaultOptions(){return be(this,El)}setDefaultOptions(t){yt(this,El,t)}setQueryDefaults(t,e){be(this,od).set(tu(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...be(this,od).values()],n={};return e.forEach(r=>{Xp(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){be(this,ad).set(tu(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...be(this,ad).values()],n={};return e.forEach(r=>{Xp(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...be(this,El).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=cE(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Ax&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...be(this,El).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){be(this,dr).clear(),be(this,Sl).clear()}},dr=new WeakMap,Sl=new WeakMap,El=new WeakMap,od=new WeakMap,ad=new WeakMap,Tl=new WeakMap,ld=new WeakMap,cd=new WeakMap,gI),zs,gn,fm,As,Wc,ud,Al,Cl,dm,fd,dd,qc,Xc,Rl,hd,Dn,wp,SN,EN,TN,AN,CN,RN,kN,DI,bI,M8=(bI=class extends Cd{constructor(e,n){super();Rt(this,Dn);Rt(this,zs);Rt(this,gn);Rt(this,fm);Rt(this,As);Rt(this,Wc);Rt(this,ud);Rt(this,Al);Rt(this,Cl);Rt(this,dm);Rt(this,fd);Rt(this,dd);Rt(this,qc);Rt(this,Xc);Rt(this,Rl);Rt(this,hd,new Set);this.options=n,yt(this,zs,e),yt(this,Cl,null),yt(this,Al,NN()),this.options.experimental_prefetchInRender||be(this,Al).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(be(this,gn).addObserver(this),tD(be(this,gn),this.options)?Jt(this,Dn,wp).call(this):this.updateResult(),Jt(this,Dn,AN).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return PN(be(this,gn),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return PN(be(this,gn),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Jt(this,Dn,CN).call(this),Jt(this,Dn,RN).call(this),be(this,gn).removeObserver(this)}setOptions(e){const n=this.options,r=be(this,gn);if(this.options=be(this,zs).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Zi(this.options.enabled,be(this,gn))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Jt(this,Dn,kN).call(this),be(this,gn).setOptions(this.options),n._defaulted&&!Tx(this.options,n)&&be(this,zs).getQueryCache().notify({type:"observerOptionsUpdated",query:be(this,gn),observer:this});const s=this.hasListeners();s&&nD(be(this,gn),r,this.options,n)&&Jt(this,Dn,wp).call(this),this.updateResult(),s&&(be(this,gn)!==r||Zi(this.options.enabled,be(this,gn))!==Zi(n.enabled,be(this,gn))||Il(this.options.staleTime,be(this,gn))!==Il(n.staleTime,be(this,gn)))&&Jt(this,Dn,SN).call(this);const o=Jt(this,Dn,EN).call(this);s&&(be(this,gn)!==r||Zi(this.options.enabled,be(this,gn))!==Zi(n.enabled,be(this,gn))||o!==be(this,Rl))&&Jt(this,Dn,TN).call(this,o)}getOptimisticResult(e){const n=be(this,zs).getQueryCache().build(be(this,zs),e),r=this.createResult(n,e);return I8(this,r)&&(yt(this,As,r),yt(this,ud,this.options),yt(this,Wc,be(this,gn).state)),r}getCurrentResult(){return be(this,As)}trackResult(e,n){return new Proxy(e,{get:(r,s)=>(this.trackProp(s),n==null||n(s),Reflect.get(r,s))})}trackProp(e){be(this,hd).add(e)}getCurrentQuery(){return be(this,gn)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=be(this,zs).defaultQueryOptions(e),r=be(this,zs).getQueryCache().build(be(this,zs),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return Jt(this,Dn,wp).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),be(this,As)))}createResult(e,n){var G;const r=be(this,gn),s=this.options,o=be(this,As),l=be(this,Wc),c=be(this,ud),h=e!==r?e.state:be(this,fm),{state:p}=e;let m={...p},b=!1,_;if(n._optimisticResults){const K=this.hasListeners(),Q=!K&&tD(e,n),de=K&&nD(e,r,n,s);(Q||de)&&(m={...m,...RI(p.data,e.options)}),n._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:E,errorUpdatedAt:T,status:C}=m;_=m.data;let D=!1;if(n.placeholderData!==void 0&&_===void 0&&C==="pending"){let K;o!=null&&o.isPlaceholderData&&n.placeholderData===(c==null?void 0:c.placeholderData)?(K=o.data,D=!0):K=typeof n.placeholderData=="function"?n.placeholderData((G=be(this,dd))==null?void 0:G.state.data,be(this,dd)):n.placeholderData,K!==void 0&&(C="success",_=wN(o==null?void 0:o.data,K,n),b=!0)}if(n.select&&_!==void 0&&!D)if(o&&_===(l==null?void 0:l.data)&&n.select===be(this,dm))_=be(this,fd);else try{yt(this,dm,n.select),_=n.select(_),_=wN(o==null?void 0:o.data,_,n),yt(this,fd,_),yt(this,Cl,null)}catch(K){yt(this,Cl,K)}be(this,Cl)&&(E=be(this,Cl),_=be(this,fd),T=Date.now(),C="error");const M=m.fetchStatus==="fetching",P=C==="pending",U=C==="error",L=P&&M,O=_!==void 0,ne={status:C,fetchStatus:m.fetchStatus,isPending:P,isSuccess:C==="success",isError:U,isInitialLoading:L,isLoading:L,data:_,dataUpdatedAt:m.dataUpdatedAt,error:E,errorUpdatedAt:T,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>h.dataUpdateCount||m.errorUpdateCount>h.errorUpdateCount,isFetching:M,isRefetching:M&&!P,isLoadingError:U&&!O,isPaused:m.fetchStatus==="paused",isPlaceholderData:b,isRefetchError:U&&O,isStale:fE(e,n),refetch:this.refetch,promise:be(this,Al)};if(this.options.experimental_prefetchInRender){const K=pe=>{ne.status==="error"?pe.reject(ne.error):ne.data!==void 0&&pe.resolve(ne.data)},Q=()=>{const pe=yt(this,Al,ne.promise=NN());K(pe)},de=be(this,Al);switch(de.status){case"pending":e.queryHash===r.queryHash&&K(de);break;case"fulfilled":(ne.status==="error"||ne.data!==de.value)&&Q();break;case"rejected":(ne.status!=="error"||ne.error!==de.reason)&&Q();break}}return ne}updateResult(){const e=be(this,As),n=this.createResult(be(this,gn),this.options);if(yt(this,Wc,be(this,gn).state),yt(this,ud,this.options),be(this,Wc).data!==void 0&&yt(this,dd,be(this,gn)),Tx(n,e))return;yt(this,As,n);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,o=typeof s=="function"?s():s;if(o==="all"||!o&&!be(this,hd).size)return!0;const l=new Set(o??be(this,hd));return this.options.throwOnError&&l.add("error"),Object.keys(be(this,As)).some(c=>{const f=c;return be(this,As)[f]!==e[f]&&l.has(f)})};Jt(this,Dn,DI).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Jt(this,Dn,AN).call(this)}},zs=new WeakMap,gn=new WeakMap,fm=new WeakMap,As=new WeakMap,Wc=new WeakMap,ud=new WeakMap,Al=new WeakMap,Cl=new WeakMap,dm=new WeakMap,fd=new WeakMap,dd=new WeakMap,qc=new WeakMap,Xc=new WeakMap,Rl=new WeakMap,hd=new WeakMap,Dn=new WeakSet,wp=function(e){Jt(this,Dn,kN).call(this);let n=be(this,gn).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(Cs)),n},SN=function(){Jt(this,Dn,CN).call(this);const e=Il(this.options.staleTime,be(this,gn));if(eu||be(this,As).isStale||!yN(e))return;const r=wI(be(this,As).dataUpdatedAt,e)+1;yt(this,qc,setTimeout(()=>{be(this,As).isStale||this.updateResult()},r))},EN=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(be(this,gn)):this.options.refetchInterval)??!1},TN=function(e){Jt(this,Dn,RN).call(this),yt(this,Rl,e),!(eu||Zi(this.options.enabled,be(this,gn))===!1||!yN(be(this,Rl))||be(this,Rl)===0)&&yt(this,Xc,setInterval(()=>{(this.options.refetchIntervalInBackground||uE.isFocused())&&Jt(this,Dn,wp).call(this)},be(this,Rl)))},AN=function(){Jt(this,Dn,SN).call(this),Jt(this,Dn,TN).call(this,Jt(this,Dn,EN).call(this))},CN=function(){be(this,qc)&&(clearTimeout(be(this,qc)),yt(this,qc,void 0))},RN=function(){be(this,Xc)&&(clearInterval(be(this,Xc)),yt(this,Xc,void 0))},kN=function(){const e=be(this,zs).getQueryCache().build(be(this,zs),this.options);if(e===be(this,gn))return;const n=be(this,gn);yt(this,gn,e),yt(this,fm,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},DI=function(e){Br.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(be(this,As))}),be(this,zs).getQueryCache().notify({query:be(this,gn),type:"observerResultsUpdated"})})},bI);function j8(t,e){return Zi(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function tD(t,e){return j8(t,e)||t.state.data!==void 0&&PN(t,e,e.refetchOnMount)}function PN(t,e,n){if(Zi(e.enabled,t)!==!1&&Il(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&fE(t,e)}return!1}function nD(t,e,n,r){return(t!==e||Zi(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&fE(t,n)}function fE(t,e){return Zi(e.enabled,t)!==!1&&t.isStaleByTime(Il(e.staleTime,t))}function I8(t,e){return!Tx(t.getCurrentResult(),e)}var kl,Pl,$s,_a,Ea,ux,DN,xI,O8=(xI=class extends Cd{constructor(n,r){super();Rt(this,Ea);Rt(this,kl);Rt(this,Pl);Rt(this,$s);Rt(this,_a);yt(this,kl,n),this.setOptions(r),this.bindMethods(),Jt(this,Ea,ux).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=be(this,kl).defaultMutationOptions(n),Tx(this.options,r)||be(this,kl).getMutationCache().notify({type:"observerOptionsUpdated",mutation:be(this,$s),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&tu(r.mutationKey)!==tu(this.options.mutationKey)?this.reset():((s=be(this,$s))==null?void 0:s.state.status)==="pending"&&be(this,$s).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=be(this,$s))==null||n.removeObserver(this)}onMutationUpdate(n){Jt(this,Ea,ux).call(this),Jt(this,Ea,DN).call(this,n)}getCurrentResult(){return be(this,Pl)}reset(){var n;(n=be(this,$s))==null||n.removeObserver(this),yt(this,$s,void 0),Jt(this,Ea,ux).call(this),Jt(this,Ea,DN).call(this)}mutate(n,r){var s;return yt(this,_a,r),(s=be(this,$s))==null||s.removeObserver(this),yt(this,$s,be(this,kl).getMutationCache().build(be(this,kl),this.options)),be(this,$s).addObserver(this),be(this,$s).execute(n)}},kl=new WeakMap,Pl=new WeakMap,$s=new WeakMap,_a=new WeakMap,Ea=new WeakSet,ux=function(){var r;const n=((r=be(this,$s))==null?void 0:r.state)??kI();yt(this,Pl,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},DN=function(n){Br.batch(()=>{var r,s,o,l,c,f,h,p;if(be(this,_a)&&this.hasListeners()){const m=be(this,Pl).variables,b=be(this,Pl).context;(n==null?void 0:n.type)==="success"?((s=(r=be(this,_a)).onSuccess)==null||s.call(r,n.data,m,b),(l=(o=be(this,_a)).onSettled)==null||l.call(o,n.data,null,m,b)):(n==null?void 0:n.type)==="error"&&((f=(c=be(this,_a)).onError)==null||f.call(c,n.error,m,b),(p=(h=be(this,_a)).onSettled)==null||p.call(h,void 0,n.error,m,b))}this.listeners.forEach(m=>{m(be(this,Pl))})})},xI),Lw={exports:{}},cp={},rD;function U8(){if(rD)return cp;rD=1;/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */return function(){function t(V){if(V==null)return null;if(typeof V=="function")return V.$$typeof===K?null:V.displayName||V.name||null;if(typeof V=="string")return V;switch(V){case T:return"Fragment";case D:return"Profiler";case C:return"StrictMode";case L:return"Suspense";case O:return"SuspenseList";case G:return"Activity"}if(typeof V=="object")switch(typeof V.tag=="number"&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),V.$$typeof){case E:return"Portal";case P:return(V.displayName||"Context")+".Provider";case M:return(V._context.displayName||"Context")+".Consumer";case U:var ue=V.render;return V=V.displayName,V||(V=ue.displayName||ue.name||"",V=V!==""?"ForwardRef("+V+")":"ForwardRef"),V;case Y:return ue=V.displayName||null,ue!==null?ue:t(V.type)||"Memo";case ne:ue=V._payload,V=V._init;try{return t(V(ue))}catch{}}return null}function e(V){return""+V}function n(V){try{e(V);var ue=!1}catch{ue=!0}if(ue){ue=console;var se=ue.error,B=typeof Symbol=="function"&&Symbol.toStringTag&&V[Symbol.toStringTag]||V.constructor.name||"Object";return se.call(ue,"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",B),e(V)}}function r(V){if(V===T)return"<>";if(typeof V=="object"&&V!==null&&V.$$typeof===ne)return"<...>";try{var ue=t(V);return ue?"<"+ue+">":"<...>"}catch{return"<...>"}}function s(){var V=Q.A;return V===null?null:V.getOwner()}function o(){return Error("react-stack-top-frame")}function l(V){if(de.call(V,"key")){var ue=Object.getOwnPropertyDescriptor(V,"key").get;if(ue&&ue.isReactWarning)return!1}return V.key!==void 0}function c(V,ue){function se(){ye||(ye=!0,console.error("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)",ue))}se.isReactWarning=!0,Object.defineProperty(V,"key",{get:se,configurable:!0})}function f(){var V=t(this.type);return ge[V]||(ge[V]=!0,console.error("Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.")),V=this.props.ref,V!==void 0?V:null}function h(V,ue,se,B,ce,Z,xe,he){return se=Z.ref,V={$$typeof:_,type:V,key:ue,props:Z,_owner:ce},(se!==void 0?se:null)!==null?Object.defineProperty(V,"ref",{enumerable:!1,get:f}):Object.defineProperty(V,"ref",{enumerable:!1,value:null}),V._store={},Object.defineProperty(V._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:0}),Object.defineProperty(V,"_debugInfo",{configurable:!1,enumerable:!1,writable:!0,value:null}),Object.defineProperty(V,"_debugStack",{configurable:!1,enumerable:!1,writable:!0,value:xe}),Object.defineProperty(V,"_debugTask",{configurable:!1,enumerable:!1,writable:!0,value:he}),Object.freeze&&(Object.freeze(V.props),Object.freeze(V)),V}function p(V,ue,se,B,ce,Z,xe,he){var oe=ue.children;if(oe!==void 0)if(B)if(pe(oe)){for(B=0;B<oe.length;B++)m(oe[B]);Object.freeze&&Object.freeze(oe)}else console.error("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else m(oe);if(de.call(ue,"key")){oe=t(V);var Pe=Object.keys(ue).filter(function(Ye){return Ye!=="key"});B=0<Pe.length?"{key: someKey, "+Pe.join(": ..., ")+": ...}":"{key: someKey}",Ke[oe+B]||(Pe=0<Pe.length?"{"+Pe.join(": ..., ")+": ...}":"{}",console.error(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,B,oe,Pe,oe),Ke[oe+B]=!0)}if(oe=null,se!==void 0&&(n(se),oe=""+se),l(ue)&&(n(ue.key),oe=""+ue.key),"key"in ue){se={};for(var qe in ue)qe!=="key"&&(se[qe]=ue[qe])}else se=ue;return oe&&c(se,typeof V=="function"?V.displayName||V.name||"Unknown":V),h(V,oe,Z,ce,s(),se,xe,he)}function m(V){typeof V=="object"&&V!==null&&V.$$typeof===_&&V._store&&(V._store.validated=1)}var b=hm(),_=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),M=Symbol.for("react.consumer"),P=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),ne=Symbol.for("react.lazy"),G=Symbol.for("react.activity"),K=Symbol.for("react.client.reference"),Q=b.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de=Object.prototype.hasOwnProperty,pe=Array.isArray,le=console.createTask?console.createTask:function(){return null};b={"react-stack-bottom-frame":function(V){return V()}};var ye,ge={},je=b["react-stack-bottom-frame"].bind(b,o)(),_e=le(r(o)),Ke={};cp.Fragment=T,cp.jsx=function(V,ue,se,B,ce){var Z=1e4>Q.recentlyCreatedOwnerStacks++;return p(V,ue,se,!1,B,ce,Z?Error("react-stack-top-frame"):je,Z?le(r(V)):_e)},cp.jsxs=function(V,ue,se,B,ce){var Z=1e4>Q.recentlyCreatedOwnerStacks++;return p(V,ue,se,!0,B,ce,Z?Error("react-stack-top-frame"):je,Z?le(r(V)):_e)}}(),cp}var sD;function V8(){return sD||(sD=1,Lw.exports=U8()),Lw.exports}var Me=V8(),MI=k.createContext(void 0),Rd=t=>{const e=k.useContext(MI);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},jI=({client:t,children:e})=>(k.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),Me.jsx(MI.Provider,{value:t,children:e})),II=k.createContext(!1),F8=()=>k.useContext(II);II.Provider;function B8(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var L8=k.createContext(B8()),z8=()=>k.useContext(L8),$8=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},H8=t=>{k.useEffect(()=>{t.clearReset()},[t])},W8=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(s&&t.data===void 0||SI(n,[t.error,r])),q8=t=>{if(t.suspense){const e=r=>r==="static"?r:Math.max(r??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...r)=>e(n(...r)):e(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},X8=(t,e)=>t.isLoading&&t.isFetching&&!e,Y8=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,iD=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function K8(t,e,n){var m,b,_,E,T;if(typeof t!="object"||Array.isArray(t))throw new Error('Bad argument type. Starting with v5, only the "Object" form is allowed when calling query related functions. Please use the error stack to find the culprit call. More info here: https://tanstack.com/query/latest/docs/react/guides/migrating-to-v5#supports-a-single-signature-one-object');const r=F8(),s=z8(),o=Rd(),l=o.defaultQueryOptions(t);(b=(m=o.getDefaultOptions().queries)==null?void 0:m._experimental_beforeQuery)==null||b.call(m,l),l.queryFn||console.error(`[${l.queryHash}]: No queryFn was passed as an option, and no default queryFn was found. The queryFn parameter is only optional when using a default queryFn. More info here: https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function`),l._optimisticResults=r?"isRestoring":"optimistic",q8(l),$8(l,s),H8(s);const c=!o.getQueryCache().get(l.queryHash),[f]=k.useState(()=>new e(o,l)),h=f.getOptimisticResult(l),p=!r&&t.subscribed!==!1;if(k.useSyncExternalStore(k.useCallback(C=>{const D=p?f.subscribe(Br.batchCalls(C)):Cs;return f.updateResult(),D},[f,p]),()=>f.getCurrentResult(),()=>f.getCurrentResult()),k.useEffect(()=>{f.setOptions(l)},[l,f]),Y8(l,h))throw iD(l,f,s);if(W8({result:h,errorResetBoundary:s,throwOnError:l.throwOnError,query:o.getQueryCache().get(l.queryHash),suspense:l.suspense}))throw h.error;if((E=(_=o.getDefaultOptions().queries)==null?void 0:_._experimental_afterQuery)==null||E.call(_,l,h),l.experimental_prefetchInRender&&!eu&&X8(h,r)){const C=c?iD(l,f,s):(T=o.getQueryCache().get(l.queryHash))==null?void 0:T.promise;C==null||C.catch(Cs).finally(()=>{f.updateResult()})}return l.notifyOnChangeProps?h:f.trackResult(h)}function Di(t,e){return K8(t,M8)}function Rx(t,e){const n=Rd(),[r]=k.useState(()=>new O8(n,t));k.useEffect(()=>{r.setOptions(t)},[r,t]);const s=k.useSyncExternalStore(k.useCallback(l=>r.subscribe(Br.batchCalls(l)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),o=k.useCallback((l,c)=>{r.mutate(l,c).catch(Cs)},[r]);if(s.error&&SI(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:o,mutateAsync:s.mutate}}var kd=_I();const Z8=bu(kd);function Bt(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function oD(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function nu(...t){return e=>{let n=!1;const r=t.map(s=>{const o=oD(s,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():oD(t[s],null)}}}}function Kn(...t){return k.useCallback(nu(...t),t)}function G8(t,e){const n=k.createContext(e),r=o=>{const{children:l,...c}=o,f=k.useMemo(()=>c,Object.values(c));return Me.jsx(n.Provider,{value:f,children:l})};r.displayName=t+"Provider";function s(o){const l=k.useContext(n);if(l)return l;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[r,s]}function Ra(t,e=[]){let n=[];function r(o,l){const c=k.createContext(l),f=n.length;n=[...n,l];const h=m=>{var D;const{scope:b,children:_,...E}=m,T=((D=b==null?void 0:b[t])==null?void 0:D[f])||c,C=k.useMemo(()=>E,Object.values(E));return Me.jsx(T.Provider,{value:C,children:_})};h.displayName=o+"Provider";function p(m,b){var T;const _=((T=b==null?void 0:b[t])==null?void 0:T[f])||c,E=k.useContext(_);if(E)return E;if(l!==void 0)return l;throw new Error(`\`${m}\` must be used within \`${o}\``)}return[h,p]}const s=()=>{const o=n.map(l=>k.createContext(l));return function(c){const f=(c==null?void 0:c[t])||o;return k.useMemo(()=>({[`__scope${t}`]:{...c,[t]:f}}),[c,f])}};return s.scopeName=t,[r,Q8(s,...e)]}function Q8(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const l=r.reduce((c,{useScope:f,scopeName:h})=>{const m=f(o)[`__scope${h}`];return{...c,...m}},{});return k.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return n.scopeName=e.scopeName,n}function ru(t){const e=J8(t),n=k.forwardRef((r,s)=>{const{children:o,...l}=r,c=k.Children.toArray(o),f=c.find(t$);if(f){const h=f.props.children,p=c.map(m=>m===f?k.Children.count(h)>1?k.Children.only(null):k.isValidElement(h)?h.props.children:null:m);return Me.jsx(e,{...l,ref:s,children:k.isValidElement(h)?k.cloneElement(h,void 0,p):null})}return Me.jsx(e,{...l,ref:s,children:o})});return n.displayName=`${t}.Slot`,n}var OI=ru("Slot");function J8(t){const e=k.forwardRef((n,r)=>{const{children:s,...o}=n;if(k.isValidElement(s)){const l=r$(s),c=n$(o,s.props);return s.type!==k.Fragment&&(c.ref=r?nu(r,l):l),k.cloneElement(s,c)}return k.Children.count(s)>1?k.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var e$=Symbol("radix.slottable");function t$(t){return k.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===e$}function n$(t,e){const n={...e};for(const r in e){const s=t[r],o=e[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...c)=>{const f=o(...c);return s(...c),f}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...t,...n}}function r$(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function dE(t){const e=t+"CollectionProvider",[n,r]=Ra(e),[s,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),l=T=>{const{scope:C,children:D}=T,M=hl.useRef(null),P=hl.useRef(new Map).current;return Me.jsx(s,{scope:C,itemMap:P,collectionRef:M,children:D})};l.displayName=e;const c=t+"CollectionSlot",f=ru(c),h=hl.forwardRef((T,C)=>{const{scope:D,children:M}=T,P=o(c,D),U=Kn(C,P.collectionRef);return Me.jsx(f,{ref:U,children:M})});h.displayName=c;const p=t+"CollectionItemSlot",m="data-radix-collection-item",b=ru(p),_=hl.forwardRef((T,C)=>{const{scope:D,children:M,...P}=T,U=hl.useRef(null),L=Kn(C,U),O=o(p,D);return hl.useEffect(()=>(O.itemMap.set(U,{ref:U,...P}),()=>void O.itemMap.delete(U))),Me.jsx(b,{[m]:"",ref:L,children:M})});_.displayName=p;function E(T){const C=o(t+"CollectionConsumer",T);return hl.useCallback(()=>{const M=C.collectionRef.current;if(!M)return[];const P=Array.from(M.querySelectorAll(`[${m}]`));return Array.from(C.itemMap.values()).sort((O,Y)=>P.indexOf(O.ref.current)-P.indexOf(Y.ref.current))},[C.collectionRef,C.itemMap])}return[{Provider:l,Slot:h,ItemSlot:_},E,r]}var s$=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Mt=s$.reduce((t,e)=>{const n=ru(`Primitive.${e}`),r=k.forwardRef((s,o)=>{const{asChild:l,...c}=s,f=l?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),Me.jsx(f,{...c,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function UI(t,e){t&&kd.flushSync(()=>t.dispatchEvent(e))}function Mi(t){const e=k.useRef(t);return k.useEffect(()=>{e.current=t}),k.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function i$(t,e=globalThis==null?void 0:globalThis.document){const n=Mi(t);k.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var o$="DismissableLayer",MN="dismissableLayer.update",a$="dismissableLayer.pointerDownOutside",l$="dismissableLayer.focusOutside",aD,VI=k.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),pm=k.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:l,onDismiss:c,...f}=t,h=k.useContext(VI),[p,m]=k.useState(null),b=(p==null?void 0:p.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,_]=k.useState({}),E=Kn(e,Y=>m(Y)),T=Array.from(h.layers),[C]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),D=T.indexOf(C),M=p?T.indexOf(p):-1,P=h.layersWithOutsidePointerEventsDisabled.size>0,U=M>=D,L=u$(Y=>{const ne=Y.target,G=[...h.branches].some(K=>K.contains(ne));!U||G||(s==null||s(Y),l==null||l(Y),Y.defaultPrevented||c==null||c())},b),O=f$(Y=>{const ne=Y.target;[...h.branches].some(K=>K.contains(ne))||(o==null||o(Y),l==null||l(Y),Y.defaultPrevented||c==null||c())},b);return i$(Y=>{M===h.layers.size-1&&(r==null||r(Y),!Y.defaultPrevented&&c&&(Y.preventDefault(),c()))},b),k.useEffect(()=>{if(p)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(aD=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(p)),h.layers.add(p),lD(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=aD)}},[p,b,n,h]),k.useEffect(()=>()=>{p&&(h.layers.delete(p),h.layersWithOutsidePointerEventsDisabled.delete(p),lD())},[p,h]),k.useEffect(()=>{const Y=()=>_({});return document.addEventListener(MN,Y),()=>document.removeEventListener(MN,Y)},[]),Me.jsx(Mt.div,{...f,ref:E,style:{pointerEvents:P?U?"auto":"none":void 0,...t.style},onFocusCapture:Bt(t.onFocusCapture,O.onFocusCapture),onBlurCapture:Bt(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:Bt(t.onPointerDownCapture,L.onPointerDownCapture)})});pm.displayName=o$;var c$="DismissableLayerBranch",FI=k.forwardRef((t,e)=>{const n=k.useContext(VI),r=k.useRef(null),s=Kn(e,r);return k.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),Me.jsx(Mt.div,{...t,ref:s})});FI.displayName=c$;function u$(t,e=globalThis==null?void 0:globalThis.document){const n=Mi(t),r=k.useRef(!1),s=k.useRef(()=>{});return k.useEffect(()=>{const o=c=>{if(c.target&&!r.current){let f=function(){BI(a$,n,h,{discrete:!0})};const h={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=f,e.addEventListener("click",s.current,{once:!0})):f()}else e.removeEventListener("click",s.current);r.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",o),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function f$(t,e=globalThis==null?void 0:globalThis.document){const n=Mi(t),r=k.useRef(!1);return k.useEffect(()=>{const s=o=>{o.target&&!r.current&&BI(l$,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function lD(){const t=new CustomEvent(MN);document.dispatchEvent(t)}function BI(t,e,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?UI(s,o):s.dispatchEvent(o)}var d$=pm,h$=FI,ns=globalThis!=null&&globalThis.document?k.useLayoutEffect:()=>{},p$="Portal",mm=k.forwardRef((t,e)=>{var c;const{container:n,...r}=t,[s,o]=k.useState(!1);ns(()=>o(!0),[]);const l=n||s&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return l?Z8.createPortal(Me.jsx(Mt.div,{...r,ref:e}),l):null});mm.displayName=p$;function m$(t,e){return k.useReducer((n,r)=>e[n][r]??n,t)}var $l=t=>{const{present:e,children:n}=t,r=g$(e),s=typeof n=="function"?n({present:r.isPresent}):k.Children.only(n),o=Kn(r.ref,b$(s));return typeof n=="function"||r.isPresent?k.cloneElement(s,{ref:o}):null};$l.displayName="Presence";function g$(t){const[e,n]=k.useState(),r=k.useRef(null),s=k.useRef(t),o=k.useRef("none"),l=t?"mounted":"unmounted",[c,f]=m$(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return k.useEffect(()=>{const h=Pb(r.current);o.current=c==="mounted"?h:"none"},[c]),ns(()=>{const h=r.current,p=s.current;if(p!==t){const b=o.current,_=Pb(h);t?f("MOUNT"):_==="none"||(h==null?void 0:h.display)==="none"?f("UNMOUNT"):f(p&&b!==_?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,f]),ns(()=>{if(e){let h;const p=e.ownerDocument.defaultView??window,m=_=>{const T=Pb(r.current).includes(_.animationName);if(_.target===e&&T&&(f("ANIMATION_END"),!s.current)){const C=e.style.animationFillMode;e.style.animationFillMode="forwards",h=p.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=C)})}},b=_=>{_.target===e&&(o.current=Pb(r.current))};return e.addEventListener("animationstart",b),e.addEventListener("animationcancel",m),e.addEventListener("animationend",m),()=>{p.clearTimeout(h),e.removeEventListener("animationstart",b),e.removeEventListener("animationcancel",m),e.removeEventListener("animationend",m)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:k.useCallback(h=>{r.current=h?getComputedStyle(h):null,n(h)},[])}}function Pb(t){return(t==null?void 0:t.animationName)||"none"}function b$(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var x$=lE[" useInsertionEffect ".trim().toString()]||ns;function su({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,o,l]=y$({defaultProp:e,onChange:n}),c=t!==void 0,f=c?t:s;{const p=k.useRef(t!==void 0);k.useEffect(()=>{const m=p.current;m!==c&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=c},[c,r])}const h=k.useCallback(p=>{var m;if(c){const b=v$(p)?p(t):p;b!==t&&((m=l.current)==null||m.call(l,b))}else o(p)},[c,t,o,l]);return[f,h]}function y$({defaultProp:t,onChange:e}){const[n,r]=k.useState(t),s=k.useRef(n),o=k.useRef(e);return x$(()=>{o.current=e},[e]),k.useEffect(()=>{var l;s.current!==n&&((l=o.current)==null||l.call(o,n),s.current=n)},[n,s]),[n,r,o]}function v$(t){return typeof t=="function"}var LI=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),_$="VisuallyHidden",hE=k.forwardRef((t,e)=>Me.jsx(Mt.span,{...t,ref:e,style:{...LI,...t.style}}));hE.displayName=_$;var pE="ToastProvider",[mE,w$,N$]=dE("Toast"),[zI,$me]=Ra("Toast",[N$]),[S$,Fy]=zI(pE),$I=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:l}=t,[c,f]=k.useState(null),[h,p]=k.useState(0),m=k.useRef(!1),b=k.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${pE}\`. Expected non-empty \`string\`.`),Me.jsx(mE.Provider,{scope:e,children:Me.jsx(S$,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:o,toastCount:h,viewport:c,onViewportChange:f,onToastAdd:k.useCallback(()=>p(_=>_+1),[]),onToastRemove:k.useCallback(()=>p(_=>_-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:b,children:l})})};$I.displayName=pE;var HI="ToastViewport",E$=["F8"],jN="toast.viewportPause",IN="toast.viewportResume",WI=k.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=E$,label:s="Notifications ({hotkey})",...o}=t,l=Fy(HI,n),c=w$(n),f=k.useRef(null),h=k.useRef(null),p=k.useRef(null),m=k.useRef(null),b=Kn(e,m,l.onViewportChange),_=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),E=l.toastCount>0;k.useEffect(()=>{const C=D=>{var P;r.length!==0&&r.every(U=>D[U]||D.code===U)&&((P=m.current)==null||P.focus())};return document.addEventListener("keydown",C),()=>document.removeEventListener("keydown",C)},[r]),k.useEffect(()=>{const C=f.current,D=m.current;if(E&&C&&D){const M=()=>{if(!l.isClosePausedRef.current){const O=new CustomEvent(jN);D.dispatchEvent(O),l.isClosePausedRef.current=!0}},P=()=>{if(l.isClosePausedRef.current){const O=new CustomEvent(IN);D.dispatchEvent(O),l.isClosePausedRef.current=!1}},U=O=>{!C.contains(O.relatedTarget)&&P()},L=()=>{C.contains(document.activeElement)||P()};return C.addEventListener("focusin",M),C.addEventListener("focusout",U),C.addEventListener("pointermove",M),C.addEventListener("pointerleave",L),window.addEventListener("blur",M),window.addEventListener("focus",P),()=>{C.removeEventListener("focusin",M),C.removeEventListener("focusout",U),C.removeEventListener("pointermove",M),C.removeEventListener("pointerleave",L),window.removeEventListener("blur",M),window.removeEventListener("focus",P)}}},[E,l.isClosePausedRef]);const T=k.useCallback(({tabbingDirection:C})=>{const M=c().map(P=>{const U=P.ref.current,L=[U,...V$(U)];return C==="forwards"?L:L.reverse()});return(C==="forwards"?M.reverse():M).flat()},[c]);return k.useEffect(()=>{const C=m.current;if(C){const D=M=>{var L,O,Y;const P=M.altKey||M.ctrlKey||M.metaKey;if(M.key==="Tab"&&!P){const ne=document.activeElement,G=M.shiftKey;if(M.target===C&&G){(L=h.current)==null||L.focus();return}const de=T({tabbingDirection:G?"backwards":"forwards"}),pe=de.findIndex(le=>le===ne);zw(de.slice(pe+1))?M.preventDefault():G?(O=h.current)==null||O.focus():(Y=p.current)==null||Y.focus()}};return C.addEventListener("keydown",D),()=>C.removeEventListener("keydown",D)}},[c,T]),Me.jsxs(h$,{ref:f,role:"region","aria-label":s.replace("{hotkey}",_),tabIndex:-1,style:{pointerEvents:E?void 0:"none"},children:[E&&Me.jsx(ON,{ref:h,onFocusFromOutsideViewport:()=>{const C=T({tabbingDirection:"forwards"});zw(C)}}),Me.jsx(mE.Slot,{scope:n,children:Me.jsx(Mt.ol,{tabIndex:-1,...o,ref:b})}),E&&Me.jsx(ON,{ref:p,onFocusFromOutsideViewport:()=>{const C=T({tabbingDirection:"backwards"});zw(C)}})]})});WI.displayName=HI;var qI="ToastFocusProxy",ON=k.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,o=Fy(qI,n);return Me.jsx(hE,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:l=>{var h;const c=l.relatedTarget;!((h=o.viewport)!=null&&h.contains(c))&&r()}})});ON.displayName=qI;var gm="Toast",T$="toast.swipeStart",A$="toast.swipeMove",C$="toast.swipeCancel",R$="toast.swipeEnd",XI=k.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:o,...l}=t,[c,f]=su({prop:r,defaultProp:s??!0,onChange:o,caller:gm});return Me.jsx($l,{present:n||c,children:Me.jsx(D$,{open:c,...l,ref:e,onClose:()=>f(!1),onPause:Mi(t.onPause),onResume:Mi(t.onResume),onSwipeStart:Bt(t.onSwipeStart,h=>{h.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Bt(t.onSwipeMove,h=>{const{x:p,y:m}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","move"),h.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${p}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:Bt(t.onSwipeCancel,h=>{h.currentTarget.setAttribute("data-swipe","cancel"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Bt(t.onSwipeEnd,h=>{const{x:p,y:m}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","end"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${p}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),f(!1)})})})});XI.displayName=gm;var[k$,P$]=zI(gm,{onClose(){}}),D$=k.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:o,onClose:l,onEscapeKeyDown:c,onPause:f,onResume:h,onSwipeStart:p,onSwipeMove:m,onSwipeCancel:b,onSwipeEnd:_,...E}=t,T=Fy(gm,n),[C,D]=k.useState(null),M=Kn(e,le=>D(le)),P=k.useRef(null),U=k.useRef(null),L=s||T.duration,O=k.useRef(0),Y=k.useRef(L),ne=k.useRef(0),{onToastAdd:G,onToastRemove:K}=T,Q=Mi(()=>{var ye;(C==null?void 0:C.contains(document.activeElement))&&((ye=T.viewport)==null||ye.focus()),l()}),de=k.useCallback(le=>{!le||le===1/0||(window.clearTimeout(ne.current),O.current=new Date().getTime(),ne.current=window.setTimeout(Q,le))},[Q]);k.useEffect(()=>{const le=T.viewport;if(le){const ye=()=>{de(Y.current),h==null||h()},ge=()=>{const je=new Date().getTime()-O.current;Y.current=Y.current-je,window.clearTimeout(ne.current),f==null||f()};return le.addEventListener(jN,ge),le.addEventListener(IN,ye),()=>{le.removeEventListener(jN,ge),le.removeEventListener(IN,ye)}}},[T.viewport,L,f,h,de]),k.useEffect(()=>{o&&!T.isClosePausedRef.current&&de(L)},[o,L,T.isClosePausedRef,de]),k.useEffect(()=>(G(),()=>K()),[G,K]);const pe=k.useMemo(()=>C?eO(C):null,[C]);return T.viewport?Me.jsxs(Me.Fragment,{children:[pe&&Me.jsx(M$,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:pe}),Me.jsx(k$,{scope:n,onClose:Q,children:kd.createPortal(Me.jsx(mE.ItemSlot,{scope:n,children:Me.jsx(d$,{asChild:!0,onEscapeKeyDown:Bt(c,()=>{T.isFocusedToastEscapeKeyDownRef.current||Q(),T.isFocusedToastEscapeKeyDownRef.current=!1}),children:Me.jsx(Mt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":T.swipeDirection,...E,ref:M,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Bt(t.onKeyDown,le=>{le.key==="Escape"&&(c==null||c(le.nativeEvent),le.nativeEvent.defaultPrevented||(T.isFocusedToastEscapeKeyDownRef.current=!0,Q()))}),onPointerDown:Bt(t.onPointerDown,le=>{le.button===0&&(P.current={x:le.clientX,y:le.clientY})}),onPointerMove:Bt(t.onPointerMove,le=>{if(!P.current)return;const ye=le.clientX-P.current.x,ge=le.clientY-P.current.y,je=!!U.current,_e=["left","right"].includes(T.swipeDirection),Ke=["left","up"].includes(T.swipeDirection)?Math.min:Math.max,V=_e?Ke(0,ye):0,ue=_e?0:Ke(0,ge),se=le.pointerType==="touch"?10:2,B={x:V,y:ue},ce={originalEvent:le,delta:B};je?(U.current=B,Db(A$,m,ce,{discrete:!1})):cD(B,T.swipeDirection,se)?(U.current=B,Db(T$,p,ce,{discrete:!1}),le.target.setPointerCapture(le.pointerId)):(Math.abs(ye)>se||Math.abs(ge)>se)&&(P.current=null)}),onPointerUp:Bt(t.onPointerUp,le=>{const ye=U.current,ge=le.target;if(ge.hasPointerCapture(le.pointerId)&&ge.releasePointerCapture(le.pointerId),U.current=null,P.current=null,ye){const je=le.currentTarget,_e={originalEvent:le,delta:ye};cD(ye,T.swipeDirection,T.swipeThreshold)?Db(R$,_,_e,{discrete:!0}):Db(C$,b,_e,{discrete:!0}),je.addEventListener("click",Ke=>Ke.preventDefault(),{once:!0})}})})})}),T.viewport)})]}):null}),M$=t=>{const{__scopeToast:e,children:n,...r}=t,s=Fy(gm,e),[o,l]=k.useState(!1),[c,f]=k.useState(!1);return O$(()=>l(!0)),k.useEffect(()=>{const h=window.setTimeout(()=>f(!0),1e3);return()=>window.clearTimeout(h)},[]),c?null:Me.jsx(mm,{asChild:!0,children:Me.jsx(hE,{...r,children:o&&Me.jsxs(Me.Fragment,{children:[s.label," ",n]})})})},j$="ToastTitle",YI=k.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return Me.jsx(Mt.div,{...r,ref:e})});YI.displayName=j$;var I$="ToastDescription",KI=k.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return Me.jsx(Mt.div,{...r,ref:e})});KI.displayName=I$;var ZI="ToastAction",GI=k.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?Me.jsx(JI,{altText:n,asChild:!0,children:Me.jsx(gE,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${ZI}\`. Expected non-empty \`string\`.`),null)});GI.displayName=ZI;var QI="ToastClose",gE=k.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=P$(QI,n);return Me.jsx(JI,{asChild:!0,children:Me.jsx(Mt.button,{type:"button",...r,ref:e,onClick:Bt(t.onClick,s.onClose)})})});gE.displayName=QI;var JI=k.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return Me.jsx(Mt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function eO(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),U$(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const l=r.dataset.radixToastAnnounceAlt;l&&e.push(l)}else e.push(...eO(r))}}),e}function Db(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,o=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?UI(s,o):s.dispatchEvent(o)}var cD=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),o=r>s;return e==="left"||e==="right"?o&&r>n:!o&&s>n};function O$(t=()=>{}){const e=Mi(t);ns(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function U$(t){return t.nodeType===t.ELEMENT_NODE}function V$(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function zw(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var F$=$I,tO=WI,nO=XI,rO=YI,sO=KI,iO=GI,oO=gE;function aO(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=aO(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function lO(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=aO(t))&&(r&&(r+=" "),r+=e);return r}const uD=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,fD=lO,By=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return fD(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:o}=e,l=Object.keys(s).map(h=>{const p=n==null?void 0:n[h],m=o==null?void 0:o[h];if(p===null)return null;const b=uD(p)||uD(m);return s[h][b]}),c=n&&Object.entries(n).reduce((h,p)=>{let[m,b]=p;return b===void 0||(h[m]=b),h},{}),f=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((h,p)=>{let{class:m,className:b,..._}=p;return Object.entries(_).every(E=>{let[T,C]=E;return Array.isArray(C)?C.includes({...o,...c}[T]):{...o,...c}[T]===C})?[...h,m,b]:h},[]);return fD(t,l,f,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B$=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),L$=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),dD=t=>{const e=L$(t);return e.charAt(0).toUpperCase()+e.slice(1)},cO=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),z$=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $$={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H$=k.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:l,...c},f)=>k.createElement("svg",{ref:f,...$$,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:cO("lucide",s),...!o&&!z$(c)&&{"aria-hidden":"true"},...c},[...l.map(([h,p])=>k.createElement(h,p)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=(t,e)=>{const n=k.forwardRef(({className:r,...s},o)=>k.createElement(H$,{ref:o,iconNode:e,className:cO(`lucide-${B$(dD(t))}`,`lucide-${t}`,r),...s}));return n.displayName=dD(t),n};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W$=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],uO=kt("activity",W$);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q$=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],X$=kt("box",q$);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y$=[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]],UN=kt("boxes",Y$);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K$=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Dp=kt("chart-column",K$);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z$=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],fO=kt("check",Z$);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G$=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],bm=kt("chevron-down",G$);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q$=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],dO=kt("chevron-right",Q$);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J$=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],e7=kt("chevron-up",J$);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t7=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],n7=kt("chevrons-up-down",t7);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Mp=kt("circle-alert",r7);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s7=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Gi=kt("circle-check-big",s7);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],o7=kt("circle-help",i7);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],VN=kt("clock",a7);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l7=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],bE=kt("code",l7);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c7=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],pd=kt("copy",c7);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u7=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 15 21.84",key:"14ibmq"}],["path",{d:"M21 5V8",key:"1marbg"}],["path",{d:"M21 12L18 17H22L19 22",key:"zafso"}],["path",{d:"M3 12A9 3 0 0 0 14.59 14.87",key:"1y4wr8"}]],FN=kt("database-zap",u7);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f7=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],d7=kt("database",f7);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h7=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],kx=kt("download",h7);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p7=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],iu=kt("external-link",p7);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m7=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],hO=kt("eye",m7);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g7=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Yp=kt("file-text",g7);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b7=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],ba=kt("file",b7);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x7=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],y7=kt("folder-open",x7);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v7=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],_7=kt("folder",v7);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w7=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],pO=kt("funnel",w7);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N7=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],$w=kt("git-branch",N7);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],E7=kt("globe",S7);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T7=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],A7=kt("grip-vertical",T7);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Kp=kt("info",C7);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R7=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],k7=kt("layers",R7);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P7=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ol=kt("loader-circle",P7);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D7=[["path",{d:"M5 12h14",key:"1ays0h"}]],M7=kt("minus",D7);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j7=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],I7=kt("moon",j7);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O7=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],hD=kt("network",O7);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U7=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Mb=kt("package",U7);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V7=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],F7=kt("panel-left",V7);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B7=[["path",{d:"M8 21s-4-3-4-9 4-9 4-9",key:"uto9ud"}],["path",{d:"M16 3s4 3 4 9-4 9-4 9",key:"4w2vsq"}]],L7=kt("parentheses",B7);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z7=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],$7=kt("pen-line",z7);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H7=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],W7=kt("play",H7);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q7=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Px=kt("plus",q7);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X7=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Hs=kt("refresh-cw",X7);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y7=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],K7=kt("rotate-ccw",Y7);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z7=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Dx=kt("save",Z7);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G7=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Mx=kt("search",G7);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q7=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],J7=kt("server",Q7);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e9=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],xE=kt("settings",e9);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t9=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],BN=kt("sparkles",t9);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n9=[["path",{d:"M4 16a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v3a1 1 0 0 0 1 1h3a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H10a2 2 0 0 1-2-2v-3a1 1 0 0 0-1-1z",key:"17jnth"}]],r9=kt("squares-unite",n9);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s9=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],i9=kt("sun",s9);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o9=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],a9=kt("terminal",o9);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l9=[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]],pD=kt("test-tube",l9);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c9=[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]],mO=kt("tree-pine",c9);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u9=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ai=kt("triangle-alert",u9);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f9=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ii=kt("x",f9);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d9=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],yE=kt("zap",d9),vE="-",h9=t=>{const e=m9(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:l=>{const c=l.split(vE);return c[0]===""&&c.length!==1&&c.shift(),gO(c,e)||p9(l)},getConflictingClassGroupIds:(l,c)=>{const f=n[l]||[];return c&&r[l]?[...f,...r[l]]:f}}},gO=(t,e)=>{var l;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?gO(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const o=t.join(vE);return(l=e.validators.find(({validator:c})=>c(o)))==null?void 0:l.classGroupId},mD=/^\[(.+)\]$/,p9=t=>{if(mD.test(t)){const e=mD.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},m9=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const s in n)LN(n[s],r,s,e);return r},LN=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const o=s===""?e:gD(e,s);o.classGroupId=n;return}if(typeof s=="function"){if(g9(s)){LN(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([o,l])=>{LN(l,gD(e,o),n,r)})})},gD=(t,e)=>{let n=t;return e.split(vE).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},g9=t=>t.isThemeGetter,b9=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(o,l)=>{n.set(o,l),e++,e>t&&(e=0,r=n,n=new Map)};return{get(o){let l=n.get(o);if(l!==void 0)return l;if((l=r.get(o))!==void 0)return s(o,l),l},set(o,l){n.has(o)?n.set(o,l):s(o,l)}}},zN="!",$N=":",x9=$N.length,y9=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=s=>{const o=[];let l=0,c=0,f=0,h;for(let E=0;E<s.length;E++){let T=s[E];if(l===0&&c===0){if(T===$N){o.push(s.slice(f,E)),f=E+x9;continue}if(T==="/"){h=E;continue}}T==="["?l++:T==="]"?l--:T==="("?c++:T===")"&&c--}const p=o.length===0?s:s.substring(f),m=v9(p),b=m!==p,_=h&&h>f?h-f:void 0;return{modifiers:o,hasImportantModifier:b,baseClassName:m,maybePostfixModifierPosition:_}};if(e){const s=e+$N,o=r;r=l=>l.startsWith(s)?o(l.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:l,maybePostfixModifierPosition:void 0}}if(n){const s=r;r=o=>n({className:o,parseClassName:s})}return r},v9=t=>t.endsWith(zN)?t.substring(0,t.length-1):t.startsWith(zN)?t.substring(1):t,_9=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const s=[];let o=[];return r.forEach(l=>{l[0]==="["||e[l]?(s.push(...o.sort(),l),o=[]):o.push(l)}),s.push(...o.sort()),s}},w9=t=>({cache:b9(t.cacheSize),parseClassName:y9(t),sortModifiers:_9(t),...h9(t)}),N9=/\s+/,S9=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:o}=e,l=[],c=t.trim().split(N9);let f="";for(let h=c.length-1;h>=0;h-=1){const p=c[h],{isExternal:m,modifiers:b,hasImportantModifier:_,baseClassName:E,maybePostfixModifierPosition:T}=n(p);if(m){f=p+(f.length>0?" "+f:f);continue}let C=!!T,D=r(C?E.substring(0,T):E);if(!D){if(!C){f=p+(f.length>0?" "+f:f);continue}if(D=r(E),!D){f=p+(f.length>0?" "+f:f);continue}C=!1}const M=o(b).join(":"),P=_?M+zN:M,U=P+D;if(l.includes(U))continue;l.push(U);const L=s(D,C);for(let O=0;O<L.length;++O){const Y=L[O];l.push(P+Y)}f=p+(f.length>0?" "+f:f)}return f};function E9(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=bO(e))&&(r&&(r+=" "),r+=n);return r}const bO=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=bO(t[r]))&&(n&&(n+=" "),n+=e);return n};function T9(t,...e){let n,r,s,o=l;function l(f){const h=e.reduce((p,m)=>m(p),t());return n=w9(h),r=n.cache.get,s=n.cache.set,o=c,c(f)}function c(f){const h=r(f);if(h)return h;const p=S9(f,n);return s(f,p),p}return function(){return o(E9.apply(null,arguments))}}const Ur=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},xO=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,yO=/^\((?:(\w[\w-]*):)?(.+)\)$/i,A9=/^\d+\/\d+$/,C9=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,R9=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,k9=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,P9=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,D9=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,vf=t=>A9.test(t),cn=t=>!!t&&!Number.isNaN(Number(t)),ol=t=>!!t&&Number.isInteger(Number(t)),Hw=t=>t.endsWith("%")&&cn(t.slice(0,-1)),ma=t=>C9.test(t),M9=()=>!0,j9=t=>R9.test(t)&&!k9.test(t),vO=()=>!1,I9=t=>P9.test(t),O9=t=>D9.test(t),U9=t=>!St(t)&&!Et(t),V9=t=>Pd(t,NO,vO),St=t=>xO.test(t),Pc=t=>Pd(t,SO,j9),Ww=t=>Pd(t,$9,cn),bD=t=>Pd(t,_O,vO),F9=t=>Pd(t,wO,O9),jb=t=>Pd(t,EO,I9),Et=t=>yO.test(t),up=t=>Dd(t,SO),B9=t=>Dd(t,H9),xD=t=>Dd(t,_O),L9=t=>Dd(t,NO),z9=t=>Dd(t,wO),Ib=t=>Dd(t,EO,!0),Pd=(t,e,n)=>{const r=xO.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},Dd=(t,e,n=!1)=>{const r=yO.exec(t);return r?r[1]?e(r[1]):n:!1},_O=t=>t==="position"||t==="percentage",wO=t=>t==="image"||t==="url",NO=t=>t==="length"||t==="size"||t==="bg-size",SO=t=>t==="length",$9=t=>t==="number",H9=t=>t==="family-name",EO=t=>t==="shadow",W9=()=>{const t=Ur("color"),e=Ur("font"),n=Ur("text"),r=Ur("font-weight"),s=Ur("tracking"),o=Ur("leading"),l=Ur("breakpoint"),c=Ur("container"),f=Ur("spacing"),h=Ur("radius"),p=Ur("shadow"),m=Ur("inset-shadow"),b=Ur("text-shadow"),_=Ur("drop-shadow"),E=Ur("blur"),T=Ur("perspective"),C=Ur("aspect"),D=Ur("ease"),M=Ur("animate"),P=()=>["auto","avoid","all","avoid-page","page","left","right","column"],U=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],L=()=>[...U(),Et,St],O=()=>["auto","hidden","clip","visible","scroll"],Y=()=>["auto","contain","none"],ne=()=>[Et,St,f],G=()=>[vf,"full","auto",...ne()],K=()=>[ol,"none","subgrid",Et,St],Q=()=>["auto",{span:["full",ol,Et,St]},ol,Et,St],de=()=>[ol,"auto",Et,St],pe=()=>["auto","min","max","fr",Et,St],le=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ye=()=>["start","end","center","stretch","center-safe","end-safe"],ge=()=>["auto",...ne()],je=()=>[vf,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...ne()],_e=()=>[t,Et,St],Ke=()=>[...U(),xD,bD,{position:[Et,St]}],V=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ue=()=>["auto","cover","contain",L9,V9,{size:[Et,St]}],se=()=>[Hw,up,Pc],B=()=>["","none","full",h,Et,St],ce=()=>["",cn,up,Pc],Z=()=>["solid","dashed","dotted","double"],xe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],he=()=>[cn,Hw,xD,bD],oe=()=>["","none",E,Et,St],Pe=()=>["none",cn,Et,St],qe=()=>["none",cn,Et,St],Ye=()=>[cn,Et,St],tt=()=>[vf,"full",...ne()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ma],breakpoint:[ma],color:[M9],container:[ma],"drop-shadow":[ma],ease:["in","out","in-out"],font:[U9],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ma],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ma],shadow:[ma],spacing:["px",cn],text:[ma],"text-shadow":[ma],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",vf,St,Et,C]}],container:["container"],columns:[{columns:[cn,St,Et,c]}],"break-after":[{"break-after":P()}],"break-before":[{"break-before":P()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:L()}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:Y()}],"overscroll-x":[{"overscroll-x":Y()}],"overscroll-y":[{"overscroll-y":Y()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:G()}],"inset-x":[{"inset-x":G()}],"inset-y":[{"inset-y":G()}],start:[{start:G()}],end:[{end:G()}],top:[{top:G()}],right:[{right:G()}],bottom:[{bottom:G()}],left:[{left:G()}],visibility:["visible","invisible","collapse"],z:[{z:[ol,"auto",Et,St]}],basis:[{basis:[vf,"full","auto",c,...ne()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[cn,vf,"auto","initial","none",St]}],grow:[{grow:["",cn,Et,St]}],shrink:[{shrink:["",cn,Et,St]}],order:[{order:[ol,"first","last","none",Et,St]}],"grid-cols":[{"grid-cols":K()}],"col-start-end":[{col:Q()}],"col-start":[{"col-start":de()}],"col-end":[{"col-end":de()}],"grid-rows":[{"grid-rows":K()}],"row-start-end":[{row:Q()}],"row-start":[{"row-start":de()}],"row-end":[{"row-end":de()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":pe()}],"auto-rows":[{"auto-rows":pe()}],gap:[{gap:ne()}],"gap-x":[{"gap-x":ne()}],"gap-y":[{"gap-y":ne()}],"justify-content":[{justify:[...le(),"normal"]}],"justify-items":[{"justify-items":[...ye(),"normal"]}],"justify-self":[{"justify-self":["auto",...ye()]}],"align-content":[{content:["normal",...le()]}],"align-items":[{items:[...ye(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ye(),{baseline:["","last"]}]}],"place-content":[{"place-content":le()}],"place-items":[{"place-items":[...ye(),"baseline"]}],"place-self":[{"place-self":["auto",...ye()]}],p:[{p:ne()}],px:[{px:ne()}],py:[{py:ne()}],ps:[{ps:ne()}],pe:[{pe:ne()}],pt:[{pt:ne()}],pr:[{pr:ne()}],pb:[{pb:ne()}],pl:[{pl:ne()}],m:[{m:ge()}],mx:[{mx:ge()}],my:[{my:ge()}],ms:[{ms:ge()}],me:[{me:ge()}],mt:[{mt:ge()}],mr:[{mr:ge()}],mb:[{mb:ge()}],ml:[{ml:ge()}],"space-x":[{"space-x":ne()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":ne()}],"space-y-reverse":["space-y-reverse"],size:[{size:je()}],w:[{w:[c,"screen",...je()]}],"min-w":[{"min-w":[c,"screen","none",...je()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[l]},...je()]}],h:[{h:["screen","lh",...je()]}],"min-h":[{"min-h":["screen","lh","none",...je()]}],"max-h":[{"max-h":["screen","lh",...je()]}],"font-size":[{text:["base",n,up,Pc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Et,Ww]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Hw,St]}],"font-family":[{font:[B9,St,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,Et,St]}],"line-clamp":[{"line-clamp":[cn,"none",Et,Ww]}],leading:[{leading:[o,...ne()]}],"list-image":[{"list-image":["none",Et,St]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Et,St]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:_e()}],"text-color":[{text:_e()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Z(),"wavy"]}],"text-decoration-thickness":[{decoration:[cn,"from-font","auto",Et,Pc]}],"text-decoration-color":[{decoration:_e()}],"underline-offset":[{"underline-offset":[cn,"auto",Et,St]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:ne()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Et,St]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Et,St]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Ke()}],"bg-repeat":[{bg:V()}],"bg-size":[{bg:ue()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ol,Et,St],radial:["",Et,St],conic:[ol,Et,St]},z9,F9]}],"bg-color":[{bg:_e()}],"gradient-from-pos":[{from:se()}],"gradient-via-pos":[{via:se()}],"gradient-to-pos":[{to:se()}],"gradient-from":[{from:_e()}],"gradient-via":[{via:_e()}],"gradient-to":[{to:_e()}],rounded:[{rounded:B()}],"rounded-s":[{"rounded-s":B()}],"rounded-e":[{"rounded-e":B()}],"rounded-t":[{"rounded-t":B()}],"rounded-r":[{"rounded-r":B()}],"rounded-b":[{"rounded-b":B()}],"rounded-l":[{"rounded-l":B()}],"rounded-ss":[{"rounded-ss":B()}],"rounded-se":[{"rounded-se":B()}],"rounded-ee":[{"rounded-ee":B()}],"rounded-es":[{"rounded-es":B()}],"rounded-tl":[{"rounded-tl":B()}],"rounded-tr":[{"rounded-tr":B()}],"rounded-br":[{"rounded-br":B()}],"rounded-bl":[{"rounded-bl":B()}],"border-w":[{border:ce()}],"border-w-x":[{"border-x":ce()}],"border-w-y":[{"border-y":ce()}],"border-w-s":[{"border-s":ce()}],"border-w-e":[{"border-e":ce()}],"border-w-t":[{"border-t":ce()}],"border-w-r":[{"border-r":ce()}],"border-w-b":[{"border-b":ce()}],"border-w-l":[{"border-l":ce()}],"divide-x":[{"divide-x":ce()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ce()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Z(),"hidden","none"]}],"divide-style":[{divide:[...Z(),"hidden","none"]}],"border-color":[{border:_e()}],"border-color-x":[{"border-x":_e()}],"border-color-y":[{"border-y":_e()}],"border-color-s":[{"border-s":_e()}],"border-color-e":[{"border-e":_e()}],"border-color-t":[{"border-t":_e()}],"border-color-r":[{"border-r":_e()}],"border-color-b":[{"border-b":_e()}],"border-color-l":[{"border-l":_e()}],"divide-color":[{divide:_e()}],"outline-style":[{outline:[...Z(),"none","hidden"]}],"outline-offset":[{"outline-offset":[cn,Et,St]}],"outline-w":[{outline:["",cn,up,Pc]}],"outline-color":[{outline:_e()}],shadow:[{shadow:["","none",p,Ib,jb]}],"shadow-color":[{shadow:_e()}],"inset-shadow":[{"inset-shadow":["none",m,Ib,jb]}],"inset-shadow-color":[{"inset-shadow":_e()}],"ring-w":[{ring:ce()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:_e()}],"ring-offset-w":[{"ring-offset":[cn,Pc]}],"ring-offset-color":[{"ring-offset":_e()}],"inset-ring-w":[{"inset-ring":ce()}],"inset-ring-color":[{"inset-ring":_e()}],"text-shadow":[{"text-shadow":["none",b,Ib,jb]}],"text-shadow-color":[{"text-shadow":_e()}],opacity:[{opacity:[cn,Et,St]}],"mix-blend":[{"mix-blend":[...xe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":xe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[cn]}],"mask-image-linear-from-pos":[{"mask-linear-from":he()}],"mask-image-linear-to-pos":[{"mask-linear-to":he()}],"mask-image-linear-from-color":[{"mask-linear-from":_e()}],"mask-image-linear-to-color":[{"mask-linear-to":_e()}],"mask-image-t-from-pos":[{"mask-t-from":he()}],"mask-image-t-to-pos":[{"mask-t-to":he()}],"mask-image-t-from-color":[{"mask-t-from":_e()}],"mask-image-t-to-color":[{"mask-t-to":_e()}],"mask-image-r-from-pos":[{"mask-r-from":he()}],"mask-image-r-to-pos":[{"mask-r-to":he()}],"mask-image-r-from-color":[{"mask-r-from":_e()}],"mask-image-r-to-color":[{"mask-r-to":_e()}],"mask-image-b-from-pos":[{"mask-b-from":he()}],"mask-image-b-to-pos":[{"mask-b-to":he()}],"mask-image-b-from-color":[{"mask-b-from":_e()}],"mask-image-b-to-color":[{"mask-b-to":_e()}],"mask-image-l-from-pos":[{"mask-l-from":he()}],"mask-image-l-to-pos":[{"mask-l-to":he()}],"mask-image-l-from-color":[{"mask-l-from":_e()}],"mask-image-l-to-color":[{"mask-l-to":_e()}],"mask-image-x-from-pos":[{"mask-x-from":he()}],"mask-image-x-to-pos":[{"mask-x-to":he()}],"mask-image-x-from-color":[{"mask-x-from":_e()}],"mask-image-x-to-color":[{"mask-x-to":_e()}],"mask-image-y-from-pos":[{"mask-y-from":he()}],"mask-image-y-to-pos":[{"mask-y-to":he()}],"mask-image-y-from-color":[{"mask-y-from":_e()}],"mask-image-y-to-color":[{"mask-y-to":_e()}],"mask-image-radial":[{"mask-radial":[Et,St]}],"mask-image-radial-from-pos":[{"mask-radial-from":he()}],"mask-image-radial-to-pos":[{"mask-radial-to":he()}],"mask-image-radial-from-color":[{"mask-radial-from":_e()}],"mask-image-radial-to-color":[{"mask-radial-to":_e()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":U()}],"mask-image-conic-pos":[{"mask-conic":[cn]}],"mask-image-conic-from-pos":[{"mask-conic-from":he()}],"mask-image-conic-to-pos":[{"mask-conic-to":he()}],"mask-image-conic-from-color":[{"mask-conic-from":_e()}],"mask-image-conic-to-color":[{"mask-conic-to":_e()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Ke()}],"mask-repeat":[{mask:V()}],"mask-size":[{mask:ue()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Et,St]}],filter:[{filter:["","none",Et,St]}],blur:[{blur:oe()}],brightness:[{brightness:[cn,Et,St]}],contrast:[{contrast:[cn,Et,St]}],"drop-shadow":[{"drop-shadow":["","none",_,Ib,jb]}],"drop-shadow-color":[{"drop-shadow":_e()}],grayscale:[{grayscale:["",cn,Et,St]}],"hue-rotate":[{"hue-rotate":[cn,Et,St]}],invert:[{invert:["",cn,Et,St]}],saturate:[{saturate:[cn,Et,St]}],sepia:[{sepia:["",cn,Et,St]}],"backdrop-filter":[{"backdrop-filter":["","none",Et,St]}],"backdrop-blur":[{"backdrop-blur":oe()}],"backdrop-brightness":[{"backdrop-brightness":[cn,Et,St]}],"backdrop-contrast":[{"backdrop-contrast":[cn,Et,St]}],"backdrop-grayscale":[{"backdrop-grayscale":["",cn,Et,St]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[cn,Et,St]}],"backdrop-invert":[{"backdrop-invert":["",cn,Et,St]}],"backdrop-opacity":[{"backdrop-opacity":[cn,Et,St]}],"backdrop-saturate":[{"backdrop-saturate":[cn,Et,St]}],"backdrop-sepia":[{"backdrop-sepia":["",cn,Et,St]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":ne()}],"border-spacing-x":[{"border-spacing-x":ne()}],"border-spacing-y":[{"border-spacing-y":ne()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Et,St]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[cn,"initial",Et,St]}],ease:[{ease:["linear","initial",D,Et,St]}],delay:[{delay:[cn,Et,St]}],animate:[{animate:["none",M,Et,St]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[T,Et,St]}],"perspective-origin":[{"perspective-origin":L()}],rotate:[{rotate:Pe()}],"rotate-x":[{"rotate-x":Pe()}],"rotate-y":[{"rotate-y":Pe()}],"rotate-z":[{"rotate-z":Pe()}],scale:[{scale:qe()}],"scale-x":[{"scale-x":qe()}],"scale-y":[{"scale-y":qe()}],"scale-z":[{"scale-z":qe()}],"scale-3d":["scale-3d"],skew:[{skew:Ye()}],"skew-x":[{"skew-x":Ye()}],"skew-y":[{"skew-y":Ye()}],transform:[{transform:[Et,St,"","none","gpu","cpu"]}],"transform-origin":[{origin:L()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:tt()}],"translate-x":[{"translate-x":tt()}],"translate-y":[{"translate-y":tt()}],"translate-z":[{"translate-z":tt()}],"translate-none":["translate-none"],accent:[{accent:_e()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:_e()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Et,St]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":ne()}],"scroll-mx":[{"scroll-mx":ne()}],"scroll-my":[{"scroll-my":ne()}],"scroll-ms":[{"scroll-ms":ne()}],"scroll-me":[{"scroll-me":ne()}],"scroll-mt":[{"scroll-mt":ne()}],"scroll-mr":[{"scroll-mr":ne()}],"scroll-mb":[{"scroll-mb":ne()}],"scroll-ml":[{"scroll-ml":ne()}],"scroll-p":[{"scroll-p":ne()}],"scroll-px":[{"scroll-px":ne()}],"scroll-py":[{"scroll-py":ne()}],"scroll-ps":[{"scroll-ps":ne()}],"scroll-pe":[{"scroll-pe":ne()}],"scroll-pt":[{"scroll-pt":ne()}],"scroll-pr":[{"scroll-pr":ne()}],"scroll-pb":[{"scroll-pb":ne()}],"scroll-pl":[{"scroll-pl":ne()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Et,St]}],fill:[{fill:["none",..._e()]}],"stroke-w":[{stroke:[cn,up,Pc,Ww]}],stroke:[{stroke:["none",..._e()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},q9=T9(W9);function Wt(...t){return q9(lO(t))}const X9=By("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive border-destructive bg-card text-card-foreground",success:"border-[color:var(--color-success)] bg-card text-card-foreground",warning:"border-[color:var(--color-warning)] bg-card text-card-foreground",info:"border-[color:var(--color-info)] bg-card text-card-foreground"}},defaultVariants:{variant:"default"}}),Y9=F$,TO=k.forwardRef(({className:t,...e},n)=>x.jsxDEV(tO,{ref:n,className:Wt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px] gap-2",t),...e},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/toast.tsx",lineNumber:35,columnNumber:3},void 0));TO.displayName=tO.displayName;const AO=k.forwardRef(({className:t,variant:e,...n},r)=>x.jsxDEV(nO,{ref:r,className:Wt(X9({variant:e}),t),...n},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/toast.tsx",lineNumber:52,columnNumber:5},void 0));AO.displayName=nO.displayName;const K9=k.forwardRef(({className:t,...e},n)=>x.jsxDEV(iO,{ref:n,className:Wt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-thin ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/toast.tsx",lineNumber:65,columnNumber:3},void 0));K9.displayName=iO.displayName;const CO=k.forwardRef(({className:t,...e},n)=>x.jsxDEV(oO,{ref:n,className:Wt("absolute right-2 top-2 rounded-md p-1 text-foreground/30 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-80 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:x.jsxDEV(ii,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/toast.tsx",lineNumber:89,columnNumber:5},void 0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/toast.tsx",lineNumber:80,columnNumber:3},void 0));CO.displayName=oO.displayName;const RO=k.forwardRef(({className:t,...e},n)=>x.jsxDEV(rO,{ref:n,className:Wt("text-xs font-thin",t),...e},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/toast.tsx",lineNumber:98,columnNumber:3},void 0));RO.displayName=rO.displayName;const kO=k.forwardRef(({className:t,...e},n)=>x.jsxDEV(sO,{ref:n,className:Wt("text-xs opacity-70",t),...e},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/toast.tsx",lineNumber:110,columnNumber:3},void 0));kO.displayName=sO.displayName;const PO=k.forwardRef(({className:t,variant:e="default",...n},r)=>{const s={default:Kp,destructive:Mp,success:Gi,warning:Ai,info:Kp}[e],o={default:"text-muted-foreground",destructive:"text-destructive",success:"text-[color:var(--color-success)]",warning:"text-[color:var(--color-warning)]",info:"text-[color:var(--color-info)]"}[e];return x.jsxDEV("div",{ref:r,className:Wt("flex-shrink-0",t),...n,children:x.jsxDEV(s,{className:Wt("h-4 w-4",o)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/toast.tsx",lineNumber:144,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/toast.tsx",lineNumber:139,columnNumber:5},void 0)});PO.displayName="ToastIcon";const yD=(t,e)=>{const n={default:"text-foreground",destructive:"text-destructive",success:"text-[color:var(--color-success)]",warning:"text-[color:var(--color-warning)]",info:"text-[color:var(--color-info)]"},r={success:["added","created","saved","completed","success","done"],destructive:["error","failed","deleted","removed","warning"],warning:["warning","caution","alert"],info:["info","note","updated","changed"]};let s=t;return s=s.replace(/([^\s]+\.[a-zA-Z0-9]+)/g,"<strong>$1</strong>"),s=s.replace(/([^\s]*\/[^\s]+)/g,"<strong>$1</strong>"),Object.entries(r).forEach(([o,l])=>{l.forEach(c=>{const f=new RegExp(`\\b(${c})\\b`,"gi"),h=n[o];s=s.replace(f,`<span class="${h} font-medium">$1</span>`)})}),{__html:s}},Z9=3,G9=5e3;let qw=0;function Q9(){return qw=(qw+1)%Number.MAX_SAFE_INTEGER,qw.toString()}const Xw=new Map,vD=t=>{if(Xw.has(t))return;const e=setTimeout(()=>{Xw.delete(t),jp({type:"REMOVE_TOAST",toastId:t})},G9);Xw.set(t,e)},J9=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,Z9)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?vD(n):t.toasts.forEach(r=>{vD(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},fx=[];let dx={toasts:[]};function jp(t){dx=J9(dx,t),fx.forEach(e=>{e(dx)})}function Np({...t}){const e=Q9(),n=s=>jp({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>jp({type:"DISMISS_TOAST",toastId:e});return jp({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function eH(){const[t,e]=k.useState(dx);return k.useEffect(()=>(fx.push(e),()=>{const n=fx.indexOf(e);n>-1&&fx.splice(n,1)}),[t]),{...t,toast:Np,dismiss:n=>jp({type:"DISMISS_TOAST",toastId:n})}}function tH(){const{toasts:t}=eH();return x.jsxDEV(Y9,{children:[t.map(function({id:e,title:n,description:r,action:s,variant:o,...l}){return x.jsxDEV(AO,{variant:o,...l,children:[x.jsxDEV("div",{className:"flex items-start gap-3",children:[x.jsxDEV(PO,{variant:o},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/toaster.tsx",lineNumber:22,columnNumber:15},this),x.jsxDEV("div",{className:"grid gap-1 flex-1",children:[n&&x.jsxDEV(RO,{dangerouslySetInnerHTML:yD(String(n))},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/toaster.tsx",lineNumber:25,columnNumber:19},this),r&&x.jsxDEV(kO,{dangerouslySetInnerHTML:yD(String(r))},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/toaster.tsx",lineNumber:28,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/toaster.tsx",lineNumber:23,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/toaster.tsx",lineNumber:21,columnNumber:13},this),s,x.jsxDEV(CO,{},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/toaster.tsx",lineNumber:33,columnNumber:13},this)]},e,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/toaster.tsx",lineNumber:20,columnNumber:11},this)}),x.jsxDEV(TO,{},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/toaster.tsx",lineNumber:37,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/toaster.tsx",lineNumber:17,columnNumber:5},this)}var nH=(t,e,n,r,s,o,l,c)=>{let f=document.documentElement,h=["light","dark"];function p(_){(Array.isArray(t)?t:[t]).forEach(E=>{let T=E==="class",C=T&&o?s.map(D=>o[D]||D):s;T?(f.classList.remove(...C),f.classList.add(o&&o[_]?o[_]:_)):f.setAttribute(E,_)}),m(_)}function m(_){c&&h.includes(_)&&(f.style.colorScheme=_)}function b(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)p(r);else try{let _=localStorage.getItem(e)||n,E=l&&_==="system"?b():_;p(E)}catch{}},_D=["light","dark"],DO="(prefers-color-scheme: dark)",rH=typeof window>"u",_E=k.createContext(void 0),sH={setTheme:t=>{},themes:[]},iH=()=>{var t;return(t=k.useContext(_E))!=null?t:sH},oH=t=>k.useContext(_E)?k.createElement(k.Fragment,null,t.children):k.createElement(lH,{...t}),aH=["light","dark"],lH=({forcedTheme:t,disableTransitionOnChange:e=!1,enableSystem:n=!0,enableColorScheme:r=!0,storageKey:s="theme",themes:o=aH,defaultTheme:l=n?"system":"light",attribute:c="data-theme",value:f,children:h,nonce:p,scriptProps:m})=>{let[b,_]=k.useState(()=>uH(s,l)),[E,T]=k.useState(()=>b==="system"?Yw():b),C=f?Object.values(f):o,D=k.useCallback(L=>{let O=L;if(!O)return;L==="system"&&n&&(O=Yw());let Y=f?f[O]:O,ne=e?fH(p):null,G=document.documentElement,K=Q=>{Q==="class"?(G.classList.remove(...C),Y&&G.classList.add(Y)):Q.startsWith("data-")&&(Y?G.setAttribute(Q,Y):G.removeAttribute(Q))};if(Array.isArray(c)?c.forEach(K):K(c),r){let Q=_D.includes(l)?l:null,de=_D.includes(O)?O:Q;G.style.colorScheme=de}ne==null||ne()},[p]),M=k.useCallback(L=>{let O=typeof L=="function"?L(b):L;_(O);try{localStorage.setItem(s,O)}catch{}},[b]),P=k.useCallback(L=>{let O=Yw(L);T(O),b==="system"&&n&&!t&&D("system")},[b,t]);k.useEffect(()=>{let L=window.matchMedia(DO);return L.addListener(P),P(L),()=>L.removeListener(P)},[P]),k.useEffect(()=>{let L=O=>{O.key===s&&(O.newValue?_(O.newValue):M(l))};return window.addEventListener("storage",L),()=>window.removeEventListener("storage",L)},[M]),k.useEffect(()=>{D(t??b)},[t,b]);let U=k.useMemo(()=>({theme:b,setTheme:M,forcedTheme:t,resolvedTheme:b==="system"?E:b,themes:n?[...o,"system"]:o,systemTheme:n?E:void 0}),[b,M,t,E,n,o]);return k.createElement(_E.Provider,{value:U},k.createElement(cH,{forcedTheme:t,storageKey:s,attribute:c,enableSystem:n,enableColorScheme:r,defaultTheme:l,value:f,themes:o,nonce:p,scriptProps:m}),h)},cH=k.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:o,value:l,themes:c,nonce:f,scriptProps:h})=>{let p=JSON.stringify([n,e,o,t,c,l,r,s]).slice(1,-1);return k.createElement("script",{...h,suppressHydrationWarning:!0,nonce:typeof window>"u"?f:"",dangerouslySetInnerHTML:{__html:`(${nH.toString()})(${p})`}})}),uH=(t,e)=>{if(rH)return;let n;try{n=localStorage.getItem(t)||void 0}catch{}return n||e},fH=t=>{let e=document.createElement("style");return t&&e.setAttribute("nonce",t),e.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},Yw=t=>(t||(t=window.matchMedia(DO)),t.matches?"dark":"light");function dH({children:t,...e}){return x.jsxDEV(oH,{...e,children:t},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/theme-provider.tsx",lineNumber:13,columnNumber:10},this)}const hH=By("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-thin transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function Dt({className:t,variant:e,size:n,asChild:r=!1,...s}){const o=r?OI:"button";return x.jsxDEV(o,{"data-slot":"button",className:Wt(hH({variant:e,size:n,className:t})),...s},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/button.tsx",lineNumber:51,columnNumber:5},this)}const pH=By("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-thin w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function yn({className:t,variant:e,asChild:n=!1,...r}){const s=n?OI:"span";return x.jsxDEV(s,{"data-slot":"badge",className:Wt(pH({variant:e}),t),...r},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/badge.tsx",lineNumber:38,columnNumber:5},this)}var mH=lE[" useId ".trim().toString()]||(()=>{}),gH=0;function Ps(t){const[e,n]=k.useState(mH());return ns(()=>{n(r=>r??String(gH++))},[t]),e?`radix-${e}`:""}var bH=k.createContext(void 0);function wE(t){const e=k.useContext(bH);return t||e||"ltr"}var Kw="rovingFocusGroup.onEntryFocus",xH={bubbles:!1,cancelable:!0},xm="RovingFocusGroup",[HN,MO,yH]=dE(xm),[vH,jO]=Ra(xm,[yH]),[_H,wH]=vH(xm),IO=k.forwardRef((t,e)=>Me.jsx(HN.Provider,{scope:t.__scopeRovingFocusGroup,children:Me.jsx(HN.Slot,{scope:t.__scopeRovingFocusGroup,children:Me.jsx(NH,{...t,ref:e})})}));IO.displayName=xm;var NH=k.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:o,currentTabStopId:l,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:f,onEntryFocus:h,preventScrollOnEntryFocus:p=!1,...m}=t,b=k.useRef(null),_=Kn(e,b),E=wE(o),[T,C]=su({prop:l,defaultProp:c??null,onChange:f,caller:xm}),[D,M]=k.useState(!1),P=Mi(h),U=MO(n),L=k.useRef(!1),[O,Y]=k.useState(0);return k.useEffect(()=>{const ne=b.current;if(ne)return ne.addEventListener(Kw,P),()=>ne.removeEventListener(Kw,P)},[P]),Me.jsx(_H,{scope:n,orientation:r,dir:E,loop:s,currentTabStopId:T,onItemFocus:k.useCallback(ne=>C(ne),[C]),onItemShiftTab:k.useCallback(()=>M(!0),[]),onFocusableItemAdd:k.useCallback(()=>Y(ne=>ne+1),[]),onFocusableItemRemove:k.useCallback(()=>Y(ne=>ne-1),[]),children:Me.jsx(Mt.div,{tabIndex:D||O===0?-1:0,"data-orientation":r,...m,ref:_,style:{outline:"none",...t.style},onMouseDown:Bt(t.onMouseDown,()=>{L.current=!0}),onFocus:Bt(t.onFocus,ne=>{const G=!L.current;if(ne.target===ne.currentTarget&&G&&!D){const K=new CustomEvent(Kw,xH);if(ne.currentTarget.dispatchEvent(K),!K.defaultPrevented){const Q=U().filter(ge=>ge.focusable),de=Q.find(ge=>ge.active),pe=Q.find(ge=>ge.id===T),ye=[de,pe,...Q].filter(Boolean).map(ge=>ge.ref.current);VO(ye,p)}}L.current=!1}),onBlur:Bt(t.onBlur,()=>M(!1))})})}),OO="RovingFocusGroupItem",UO=k.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:o,children:l,...c}=t,f=Ps(),h=o||f,p=wH(OO,n),m=p.currentTabStopId===h,b=MO(n),{onFocusableItemAdd:_,onFocusableItemRemove:E,currentTabStopId:T}=p;return k.useEffect(()=>{if(r)return _(),()=>E()},[r,_,E]),Me.jsx(HN.ItemSlot,{scope:n,id:h,focusable:r,active:s,children:Me.jsx(Mt.span,{tabIndex:m?0:-1,"data-orientation":p.orientation,...c,ref:e,onMouseDown:Bt(t.onMouseDown,C=>{r?p.onItemFocus(h):C.preventDefault()}),onFocus:Bt(t.onFocus,()=>p.onItemFocus(h)),onKeyDown:Bt(t.onKeyDown,C=>{if(C.key==="Tab"&&C.shiftKey){p.onItemShiftTab();return}if(C.target!==C.currentTarget)return;const D=TH(C,p.orientation,p.dir);if(D!==void 0){if(C.metaKey||C.ctrlKey||C.altKey||C.shiftKey)return;C.preventDefault();let P=b().filter(U=>U.focusable).map(U=>U.ref.current);if(D==="last")P.reverse();else if(D==="prev"||D==="next"){D==="prev"&&P.reverse();const U=P.indexOf(C.currentTarget);P=p.loop?AH(P,U+1):P.slice(U+1)}setTimeout(()=>VO(P))}}),children:typeof l=="function"?l({isCurrentTabStop:m,hasTabStop:T!=null}):l})})});UO.displayName=OO;var SH={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function EH(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function TH(t,e,n){const r=EH(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return SH[r]}function VO(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function AH(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var CH=IO,RH=UO,Ly="Tabs",[kH,Hme]=Ra(Ly,[jO]),FO=jO(),[PH,NE]=kH(Ly),BO=k.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:o,orientation:l="horizontal",dir:c,activationMode:f="automatic",...h}=t,p=wE(c),[m,b]=su({prop:r,onChange:s,defaultProp:o??"",caller:Ly});return Me.jsx(PH,{scope:n,baseId:Ps(),value:m,onValueChange:b,orientation:l,dir:p,activationMode:f,children:Me.jsx(Mt.div,{dir:p,"data-orientation":l,...h,ref:e})})});BO.displayName=Ly;var LO="TabsList",zO=k.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,o=NE(LO,n),l=FO(n);return Me.jsx(CH,{asChild:!0,...l,orientation:o.orientation,dir:o.dir,loop:r,children:Me.jsx(Mt.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:e})})});zO.displayName=LO;var $O="TabsTrigger",HO=k.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...o}=t,l=NE($O,n),c=FO(n),f=XO(l.baseId,r),h=YO(l.baseId,r),p=r===l.value;return Me.jsx(RH,{asChild:!0,...c,focusable:!s,active:p,children:Me.jsx(Mt.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":h,"data-state":p?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:f,...o,ref:e,onMouseDown:Bt(t.onMouseDown,m=>{!s&&m.button===0&&m.ctrlKey===!1?l.onValueChange(r):m.preventDefault()}),onKeyDown:Bt(t.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&l.onValueChange(r)}),onFocus:Bt(t.onFocus,()=>{const m=l.activationMode!=="manual";!p&&!s&&m&&l.onValueChange(r)})})})});HO.displayName=$O;var WO="TabsContent",qO=k.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:o,...l}=t,c=NE(WO,n),f=XO(c.baseId,r),h=YO(c.baseId,r),p=r===c.value,m=k.useRef(p);return k.useEffect(()=>{const b=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(b)},[]),Me.jsx($l,{present:s||p,children:({present:b})=>Me.jsx(Mt.div,{"data-state":p?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":f,hidden:!b,id:h,tabIndex:0,...l,ref:e,style:{...t.style,animationDuration:m.current?"0s":void 0},children:b&&o})})});qO.displayName=WO;function XO(t,e){return`${t}-trigger-${e}`}function YO(t,e){return`${t}-content-${e}`}var DH=BO,MH=zO,jH=HO,IH=qO;function Hl({className:t,...e}){return x.jsxDEV(DH,{"data-slot":"tabs",className:Wt("flex flex-col gap-2",t),...e},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/tabs.tsx",lineNumber:11,columnNumber:5},this)}function Wl({className:t,...e}){return x.jsxDEV(MH,{"data-slot":"tabs-list",className:Wt("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",t),...e},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/tabs.tsx",lineNumber:24,columnNumber:5},this)}function ir({className:t,...e}){return x.jsxDEV(jH,{"data-slot":"tabs-trigger",className:Wt("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-thin whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...e},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/tabs.tsx",lineNumber:40,columnNumber:5},this)}function or({className:t,...e}){return x.jsxDEV(IH,{"data-slot":"tabs-content",className:Wt("flex-1 outline-none",t),...e},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/tabs.tsx",lineNumber:56,columnNumber:5},this)}const Ft={success:(t,e)=>Np({variant:"success",title:t,description:e}),error:(t,e)=>Np({variant:"destructive",title:t,description:e}),info:(t,e)=>Np({variant:"info",title:t,description:e}),warning:(t,e,n)=>Np({variant:"warning",title:t,description:e,duration:n==null?void 0:n.duration})},OH="modulepreload",UH=function(t,e){return new URL(t,e).href},wD={},VH=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let l=function(p){return Promise.all(p.map(m=>Promise.resolve(m).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};const c=document.getElementsByTagName("link"),f=document.querySelector("meta[property=csp-nonce]"),h=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));s=l(n.map(p=>{if(p=UH(p,r),p in wD)return;wD[p]=!0;const m=p.endsWith(".css"),b=m?'[rel="stylesheet"]':"";if(!!r)for(let T=c.length-1;T>=0;T--){const C=c[T];if(C.href===p&&(!m||C.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${p}"]${b}`))return;const E=document.createElement("link");if(E.rel=m?"stylesheet":OH,m||(E.as="script"),E.crossOrigin="",E.href=p,h&&E.setAttribute("nonce",h),document.head.appendChild(E),m)return new Promise((T,C)=>{E.addEventListener("load",T),E.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${p}`)))})}))}function o(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return s.then(l=>{for(const c of l||[])c.status==="rejected"&&o(c.reason);return e().catch(o)})},Lf=t=>{if(t===0)return"0 B";const e=1024,n=["B","KB","MB","GB"],r=Math.floor(Math.log(t)/Math.log(e));return parseFloat((t/Math.pow(e,r)).toFixed(1))+" "+n[r]},FH=()=>{const{data:t={}}=Di({queryKey:["fileSizes"],queryFn:async()=>{const e=await fetch("http://localhost:3333/api/files");if(!e.ok)throw new Error("Failed to fetch files");const n=await e.json(),r={};return n.forEach(s=>{r[s.path]=s.size||0}),r},refetchInterval:3e4});return t},BH=t=>{const[e,n]=k.useState([]),[r,s]=k.useState(!1);return k.useEffect(()=>{t&&(s(!0),zH(t).then(n).catch(o=>{console.warn("Failed to get suggestions for",t,o),n([])}).finally(()=>s(!1)))},[t]),{suggestions:e,loading:r}};let Zw=null;const LH=async()=>{if(!Zw){const{default:t}=await VH(async()=>{const{default:e}=await import("./heuristics-manager-browser-DfonOP5I.js");return{default:e}},[],import.meta.url);Zw=new t}return Zw},zH=async t=>{try{return await(await LH()).suggestBundlesForFile(t)}catch(e){console.warn("Failed to get bundle suggestions from heuristics manager, using fallback:",e);const n=t.toLowerCase(),r=n.split("/"),s=[];return(r.includes("web")||r.includes("components"))&&(s.push("frontend"),r.includes("components")&&s.push("ui-components")),(n.includes("server")||n.includes("api")||r.includes("bin"))&&s.push("server"),(n.includes("config")||n.includes("setup")||n.endsWith(".json")||n.endsWith(".sh")||n.includes("package"))&&s.push("config"),(n.endsWith(".md")||n.includes("doc")||n.includes("readme"))&&s.push("docs"),s.length===0&&(r.includes("web")?s.push("frontend"):s.push("server","config")),s}},WN=t=>{var r;const e=(r=t.split(".").pop())==null?void 0:r.toLowerCase(),n="w-4 h-4";switch(e){case"js":case"ts":case"jsx":case"tsx":return{className:`${n} text-[color:var(--color-warning)]`};case"json":return{className:`${n} text-[color:var(--color-success)]`};case"md":return{className:`${n} text-[color:var(--color-info)]/80`};case"css":case"scss":return{className:`${n} text-[color:var(--color-type-styles)]`};case"html":return{className:`${n} text-[color:var(--color-type-configuration)]`};default:return{className:`${n} text-muted-foreground`}}};function vn({className:t,...e}){return x.jsxDEV("div",{"data-slot":"card",className:Wt("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...e},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/card.tsx",lineNumber:7,columnNumber:5},this)}function gr({className:t,...e}){return x.jsxDEV("div",{"data-slot":"card-header",className:Wt("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...e},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/card.tsx",lineNumber:20,columnNumber:5},this)}function Nr({className:t,...e}){return x.jsxDEV("div",{"data-slot":"card-title",className:Wt("leading-none font-thin",t),...e},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/card.tsx",lineNumber:33,columnNumber:5},this)}function Ob({className:t,...e}){return x.jsxDEV("div",{"data-slot":"card-description",className:Wt("text-muted-foreground text-sm",t),...e},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/card.tsx",lineNumber:43,columnNumber:5},this)}function Pn({className:t,...e}){return x.jsxDEV("div",{"data-slot":"card-content",className:Wt("px-6",t),...e},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/card.tsx",lineNumber:66,columnNumber:5},this)}const $H=(t,e)=>{if(t.changed){if(!e)return"warning";const c=(new Date().getTime()-e.getTime())/(1e3*60);return c>5?"error":(c>1,"warning")}return!e||(new Date().getTime()-e.getTime())/(1e3*60)>10?"stale":"healthy"},HH=(t,e)=>{switch(t){case"healthy":return{label:"SYNCED",variant:"secondary",icon:Gi,className:"text-[color:var(--color-success)]"};case"warning":return{label:e.changed?"SYNCING":"SYNCED",variant:"outline",icon:VN,className:"text-[color:var(--color-warning)] border-[color:var(--color-warning)]/30"};case"error":return{label:"SYNC FAILED",variant:"destructive",icon:Mp,className:""};case"stale":return{label:"STALE",variant:"outline",icon:Ai,className:"text-muted-foreground border-muted-foreground/30"}}},WH=({bundle:t,isSelected:e,onSelect:n,onRegenerate:r,onCopy:s,onDownload:o,loadingButtons:l,successButtons:c,errorButtons:f,hasUnassignedFiles:h,lastRefresh:p})=>{const m=`copy-${t.name}`,b=`download-${t.name}`,_=`regen-${t.name}`,E=l.has(m),T=l.has(b),C=l.has(_),D=c.has(m),M=c.has(b),P=c.has(_),U=f.has(m),L=f.has(b),O=f.has(_),Y=$H(t,p),ne=HH(Y,t),G=ne.icon;return x.jsxDEV(vn,{className:`cursor-pointer transition-all hover:shadow-md ${t.changed?"border-warning":""} ${e?"ring-2 ring-primary border-primary":""}`,onClick:()=>n(t.name),children:[x.jsxDEV(gr,{className:"pb-2",children:x.jsxDEV("div",{className:"space-y-1.5",children:[x.jsxDEV("div",{className:"flex items-center gap-2",children:[x.jsxDEV(X$,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleCard.tsx",lineNumber:129,columnNumber:13},void 0),x.jsxDEV("h3",{className:"text-sm font-thin truncate",children:t.name},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleCard.tsx",lineNumber:130,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleCard.tsx",lineNumber:128,columnNumber:11},void 0),x.jsxDEV(yn,{variant:ne.variant,className:`text-xs font-thin h-4 w-fit flex items-center gap-1 ${ne.className}`,title:Y==="error"?"Bundle has been changed for >5min - sync may be failing":Y==="warning"?"Bundle is syncing or recently changed":Y==="stale"?"Data may be stale - no recent refresh":"Bundle is healthy and synced",children:[x.jsxDEV(G,{className:"w-2.5 h-2.5"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleCard.tsx",lineNumber:140,columnNumber:13},void 0),ne.label]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleCard.tsx",lineNumber:132,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleCard.tsx",lineNumber:127,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleCard.tsx",lineNumber:126,columnNumber:7},void 0),x.jsxDEV(Pn,{className:"pt-0",children:x.jsxDEV("div",{className:"space-y-2",children:[x.jsxDEV("div",{className:"text-xs text-muted-foreground",children:x.jsxDEV("div",{className:"flex flex-wrap gap-x-2 gap-y-1 items-center",children:[x.jsxDEV("span",{children:[t.fileCount," files"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleCard.tsx",lineNumber:149,columnNumber:15},void 0),x.jsxDEV("span",{children:"•"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleCard.tsx",lineNumber:150,columnNumber:15},void 0),x.jsxDEV("span",{children:Lf(t.size)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleCard.tsx",lineNumber:151,columnNumber:15},void 0),h&&x.jsxDEV(x.Fragment,{children:[x.jsxDEV("span",{children:"•"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleCard.tsx",lineNumber:154,columnNumber:19},void 0),x.jsxDEV("span",{className:"text-warning text-xs",children:[x.jsxDEV(Ai,{className:"w-2.5 h-2.5 inline mr-1"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleCard.tsx",lineNumber:156,columnNumber:21},void 0),"Files need assignment"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleCard.tsx",lineNumber:155,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleCard.tsx",lineNumber:153,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleCard.tsx",lineNumber:148,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleCard.tsx",lineNumber:147,columnNumber:11},void 0),x.jsxDEV("div",{className:"flex",onClick:K=>K.stopPropagation(),children:x.jsxDEV("div",{className:"inline-flex rounded-md border border-input bg-background shadow-sm",children:[x.jsxDEV(Dt,{variant:"ghost",size:"sm",onClick:()=>r(t.name),disabled:C,className:"h-6 px-1.5 rounded-none border-r border-input first:rounded-l-md last:rounded-r-md hover:bg-accent",children:C?x.jsxDEV(Ol,{className:"w-2.5 h-2.5 animate-spin"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleCard.tsx",lineNumber:174,columnNumber:19},void 0):P?x.jsxDEV(Gi,{className:"w-2.5 h-2.5"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleCard.tsx",lineNumber:176,columnNumber:19},void 0):O?x.jsxDEV(Mp,{className:"w-2.5 h-2.5"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleCard.tsx",lineNumber:178,columnNumber:19},void 0):x.jsxDEV(Hs,{className:"w-2.5 h-2.5"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleCard.tsx",lineNumber:180,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleCard.tsx",lineNumber:166,columnNumber:15},void 0),x.jsxDEV(Dt,{variant:"ghost",size:"sm",onClick:()=>s(t.name),disabled:E,className:"h-6 px-1.5 rounded-none border-r border-input first:rounded-l-md last:rounded-r-md hover:bg-accent",children:E?x.jsxDEV(Ol,{className:"w-2.5 h-2.5 animate-spin"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleCard.tsx",lineNumber:191,columnNumber:19},void 0):D?x.jsxDEV(Gi,{className:"w-2.5 h-2.5"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleCard.tsx",lineNumber:193,columnNumber:19},void 0):U?x.jsxDEV(Mp,{className:"w-2.5 h-2.5"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleCard.tsx",lineNumber:195,columnNumber:19},void 0):x.jsxDEV(pd,{className:"w-2.5 h-2.5"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleCard.tsx",lineNumber:197,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleCard.tsx",lineNumber:183,columnNumber:15},void 0),x.jsxDEV(Dt,{variant:"ghost",size:"sm",onClick:()=>o(t.name),disabled:T,className:"h-6 px-1.5 rounded-none first:rounded-l-md last:rounded-r-md hover:bg-accent",children:T?x.jsxDEV(Ol,{className:"w-2.5 h-2.5 animate-spin"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleCard.tsx",lineNumber:208,columnNumber:19},void 0):M?x.jsxDEV(Gi,{className:"w-2.5 h-2.5"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleCard.tsx",lineNumber:210,columnNumber:19},void 0):L?x.jsxDEV(Mp,{className:"w-2.5 h-2.5"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleCard.tsx",lineNumber:212,columnNumber:19},void 0):x.jsxDEV(kx,{className:"w-2.5 h-2.5"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleCard.tsx",lineNumber:214,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleCard.tsx",lineNumber:200,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleCard.tsx",lineNumber:165,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleCard.tsx",lineNumber:164,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleCard.tsx",lineNumber:146,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleCard.tsx",lineNumber:145,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleCard.tsx",lineNumber:121,columnNumber:5},void 0)};function ND(t,[e,n]){return Math.min(n,Math.max(e,t))}var Gw=0;function SE(){k.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??SD()),document.body.insertAdjacentElement("beforeend",t[1]??SD()),Gw++,()=>{Gw===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Gw--}},[])}function SD(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Qw="focusScope.autoFocusOnMount",Jw="focusScope.autoFocusOnUnmount",ED={bubbles:!1,cancelable:!0},qH="FocusScope",zy=k.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...l}=t,[c,f]=k.useState(null),h=Mi(s),p=Mi(o),m=k.useRef(null),b=Kn(e,T=>f(T)),_=k.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;k.useEffect(()=>{if(r){let T=function(P){if(_.paused||!c)return;const U=P.target;c.contains(U)?m.current=U:ml(m.current,{select:!0})},C=function(P){if(_.paused||!c)return;const U=P.relatedTarget;U!==null&&(c.contains(U)||ml(m.current,{select:!0}))},D=function(P){if(document.activeElement===document.body)for(const L of P)L.removedNodes.length>0&&ml(c)};document.addEventListener("focusin",T),document.addEventListener("focusout",C);const M=new MutationObserver(D);return c&&M.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",T),document.removeEventListener("focusout",C),M.disconnect()}}},[r,c,_.paused]),k.useEffect(()=>{if(c){AD.add(_);const T=document.activeElement;if(!c.contains(T)){const D=new CustomEvent(Qw,ED);c.addEventListener(Qw,h),c.dispatchEvent(D),D.defaultPrevented||(XH(QH(KO(c)),{select:!0}),document.activeElement===T&&ml(c))}return()=>{c.removeEventListener(Qw,h),setTimeout(()=>{const D=new CustomEvent(Jw,ED);c.addEventListener(Jw,p),c.dispatchEvent(D),D.defaultPrevented||ml(T??document.body,{select:!0}),c.removeEventListener(Jw,p),AD.remove(_)},0)}}},[c,h,p,_]);const E=k.useCallback(T=>{if(!n&&!r||_.paused)return;const C=T.key==="Tab"&&!T.altKey&&!T.ctrlKey&&!T.metaKey,D=document.activeElement;if(C&&D){const M=T.currentTarget,[P,U]=YH(M);P&&U?!T.shiftKey&&D===U?(T.preventDefault(),n&&ml(P,{select:!0})):T.shiftKey&&D===P&&(T.preventDefault(),n&&ml(U,{select:!0})):D===M&&T.preventDefault()}},[n,r,_.paused]);return Me.jsx(Mt.div,{tabIndex:-1,...l,ref:b,onKeyDown:E})});zy.displayName=qH;function XH(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(ml(r,{select:e}),document.activeElement!==n)return}function YH(t){const e=KO(t),n=TD(e,t),r=TD(e.reverse(),t);return[n,r]}function KO(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function TD(t,e){for(const n of t)if(!KH(n,{upTo:e}))return n}function KH(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function ZH(t){return t instanceof HTMLInputElement&&"select"in t}function ml(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&ZH(t)&&e&&t.select()}}var AD=GH();function GH(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=CD(t,e),t.unshift(e)},remove(e){var n;t=CD(t,e),(n=t[0])==null||n.resume()}}}function CD(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function QH(t){return t.filter(e=>e.tagName!=="A")}const JH=["top","right","bottom","left"],Fl=Math.min,ai=Math.max,jx=Math.round,Ub=Math.floor,Vo=t=>({x:t,y:t}),eW={left:"right",right:"left",bottom:"top",top:"bottom"},tW={start:"end",end:"start"};function qN(t,e,n){return ai(t,Fl(e,n))}function Ta(t,e){return typeof t=="function"?t(e):t}function Aa(t){return t.split("-")[0]}function Md(t){return t.split("-")[1]}function EE(t){return t==="x"?"y":"x"}function TE(t){return t==="y"?"height":"width"}function Oo(t){return["top","bottom"].includes(Aa(t))?"y":"x"}function AE(t){return EE(Oo(t))}function nW(t,e,n){n===void 0&&(n=!1);const r=Md(t),s=AE(t),o=TE(s);let l=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(l=Ix(l)),[l,Ix(l)]}function rW(t){const e=Ix(t);return[XN(t),e,XN(e)]}function XN(t){return t.replace(/start|end/g,e=>tW[e])}function sW(t,e,n){const r=["left","right"],s=["right","left"],o=["top","bottom"],l=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?o:l;default:return[]}}function iW(t,e,n,r){const s=Md(t);let o=sW(Aa(t),n==="start",r);return s&&(o=o.map(l=>l+"-"+s),e&&(o=o.concat(o.map(XN)))),o}function Ix(t){return t.replace(/left|right|bottom|top/g,e=>eW[e])}function oW(t){return{top:0,right:0,bottom:0,left:0,...t}}function ZO(t){return typeof t!="number"?oW(t):{top:t,right:t,bottom:t,left:t}}function Ox(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function RD(t,e,n){let{reference:r,floating:s}=t;const o=Oo(e),l=AE(e),c=TE(l),f=Aa(e),h=o==="y",p=r.x+r.width/2-s.width/2,m=r.y+r.height/2-s.height/2,b=r[c]/2-s[c]/2;let _;switch(f){case"top":_={x:p,y:r.y-s.height};break;case"bottom":_={x:p,y:r.y+r.height};break;case"right":_={x:r.x+r.width,y:m};break;case"left":_={x:r.x-s.width,y:m};break;default:_={x:r.x,y:r.y}}switch(Md(e)){case"start":_[l]-=b*(n&&h?-1:1);break;case"end":_[l]+=b*(n&&h?-1:1);break}return _}const aW=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:l}=n,c=o.filter(Boolean),f=await(l.isRTL==null?void 0:l.isRTL(e));let h=await l.getElementRects({reference:t,floating:e,strategy:s}),{x:p,y:m}=RD(h,r,f),b=r,_={},E=0;for(let T=0;T<c.length;T++){const{name:C,fn:D}=c[T],{x:M,y:P,data:U,reset:L}=await D({x:p,y:m,initialPlacement:r,placement:b,strategy:s,middlewareData:_,rects:h,platform:l,elements:{reference:t,floating:e}});p=M??p,m=P??m,_={..._,[C]:{..._[C],...U}},L&&E<=50&&(E++,typeof L=="object"&&(L.placement&&(b=L.placement),L.rects&&(h=L.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:s}):L.rects),{x:p,y:m}=RD(h,b,f)),T=-1)}return{x:p,y:m,placement:b,strategy:s,middlewareData:_}};async function Zp(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:o,rects:l,elements:c,strategy:f}=t,{boundary:h="clippingAncestors",rootBoundary:p="viewport",elementContext:m="floating",altBoundary:b=!1,padding:_=0}=Ta(e,t),E=ZO(_),C=c[b?m==="floating"?"reference":"floating":m],D=Ox(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(C)))==null||n?C:C.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(c.floating)),boundary:h,rootBoundary:p,strategy:f})),M=m==="floating"?{x:r,y:s,width:l.floating.width,height:l.floating.height}:l.reference,P=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c.floating)),U=await(o.isElement==null?void 0:o.isElement(P))?await(o.getScale==null?void 0:o.getScale(P))||{x:1,y:1}:{x:1,y:1},L=Ox(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:M,offsetParent:P,strategy:f}):M);return{top:(D.top-L.top+E.top)/U.y,bottom:(L.bottom-D.bottom+E.bottom)/U.y,left:(D.left-L.left+E.left)/U.x,right:(L.right-D.right+E.right)/U.x}}const lW=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:o,platform:l,elements:c,middlewareData:f}=e,{element:h,padding:p=0}=Ta(t,e)||{};if(h==null)return{};const m=ZO(p),b={x:n,y:r},_=AE(s),E=TE(_),T=await l.getDimensions(h),C=_==="y",D=C?"top":"left",M=C?"bottom":"right",P=C?"clientHeight":"clientWidth",U=o.reference[E]+o.reference[_]-b[_]-o.floating[E],L=b[_]-o.reference[_],O=await(l.getOffsetParent==null?void 0:l.getOffsetParent(h));let Y=O?O[P]:0;(!Y||!await(l.isElement==null?void 0:l.isElement(O)))&&(Y=c.floating[P]||o.floating[E]);const ne=U/2-L/2,G=Y/2-T[E]/2-1,K=Fl(m[D],G),Q=Fl(m[M],G),de=K,pe=Y-T[E]-Q,le=Y/2-T[E]/2+ne,ye=qN(de,le,pe),ge=!f.arrow&&Md(s)!=null&&le!==ye&&o.reference[E]/2-(le<de?K:Q)-T[E]/2<0,je=ge?le<de?le-de:le-pe:0;return{[_]:b[_]+je,data:{[_]:ye,centerOffset:le-ye-je,...ge&&{alignmentOffset:je}},reset:ge}}}),cW=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:o,rects:l,initialPlacement:c,platform:f,elements:h}=e,{mainAxis:p=!0,crossAxis:m=!0,fallbackPlacements:b,fallbackStrategy:_="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:T=!0,...C}=Ta(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const D=Aa(s),M=Oo(c),P=Aa(c)===c,U=await(f.isRTL==null?void 0:f.isRTL(h.floating)),L=b||(P||!T?[Ix(c)]:rW(c)),O=E!=="none";!b&&O&&L.push(...iW(c,T,E,U));const Y=[c,...L],ne=await Zp(e,C),G=[];let K=((r=o.flip)==null?void 0:r.overflows)||[];if(p&&G.push(ne[D]),m){const le=nW(s,l,U);G.push(ne[le[0]],ne[le[1]])}if(K=[...K,{placement:s,overflows:G}],!G.every(le=>le<=0)){var Q,de;const le=(((Q=o.flip)==null?void 0:Q.index)||0)+1,ye=Y[le];if(ye&&(!(m==="alignment"?M!==Oo(ye):!1)||K.every(_e=>_e.overflows[0]>0&&Oo(_e.placement)===M)))return{data:{index:le,overflows:K},reset:{placement:ye}};let ge=(de=K.filter(je=>je.overflows[0]<=0).sort((je,_e)=>je.overflows[1]-_e.overflows[1])[0])==null?void 0:de.placement;if(!ge)switch(_){case"bestFit":{var pe;const je=(pe=K.filter(_e=>{if(O){const Ke=Oo(_e.placement);return Ke===M||Ke==="y"}return!0}).map(_e=>[_e.placement,_e.overflows.filter(Ke=>Ke>0).reduce((Ke,V)=>Ke+V,0)]).sort((_e,Ke)=>_e[1]-Ke[1])[0])==null?void 0:pe[0];je&&(ge=je);break}case"initialPlacement":ge=c;break}if(s!==ge)return{reset:{placement:ge}}}return{}}}};function kD(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function PD(t){return JH.some(e=>t[e]>=0)}const uW=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Ta(t,e);switch(r){case"referenceHidden":{const o=await Zp(e,{...s,elementContext:"reference"}),l=kD(o,n.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:PD(l)}}}case"escaped":{const o=await Zp(e,{...s,altBoundary:!0}),l=kD(o,n.floating);return{data:{escapedOffsets:l,escaped:PD(l)}}}default:return{}}}}};async function fW(t,e){const{placement:n,platform:r,elements:s}=t,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),l=Aa(n),c=Md(n),f=Oo(n)==="y",h=["left","top"].includes(l)?-1:1,p=o&&f?-1:1,m=Ta(e,t);let{mainAxis:b,crossAxis:_,alignmentAxis:E}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return c&&typeof E=="number"&&(_=c==="end"?E*-1:E),f?{x:_*p,y:b*h}:{x:b*h,y:_*p}}const dW=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:o,placement:l,middlewareData:c}=e,f=await fW(e,t);return l===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:s+f.x,y:o+f.y,data:{...f,placement:l}}}}},hW=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:o=!0,crossAxis:l=!1,limiter:c={fn:C=>{let{x:D,y:M}=C;return{x:D,y:M}}},...f}=Ta(t,e),h={x:n,y:r},p=await Zp(e,f),m=Oo(Aa(s)),b=EE(m);let _=h[b],E=h[m];if(o){const C=b==="y"?"top":"left",D=b==="y"?"bottom":"right",M=_+p[C],P=_-p[D];_=qN(M,_,P)}if(l){const C=m==="y"?"top":"left",D=m==="y"?"bottom":"right",M=E+p[C],P=E-p[D];E=qN(M,E,P)}const T=c.fn({...e,[b]:_,[m]:E});return{...T,data:{x:T.x-n,y:T.y-r,enabled:{[b]:o,[m]:l}}}}}},pW=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:o,middlewareData:l}=e,{offset:c=0,mainAxis:f=!0,crossAxis:h=!0}=Ta(t,e),p={x:n,y:r},m=Oo(s),b=EE(m);let _=p[b],E=p[m];const T=Ta(c,e),C=typeof T=="number"?{mainAxis:T,crossAxis:0}:{mainAxis:0,crossAxis:0,...T};if(f){const P=b==="y"?"height":"width",U=o.reference[b]-o.floating[P]+C.mainAxis,L=o.reference[b]+o.reference[P]-C.mainAxis;_<U?_=U:_>L&&(_=L)}if(h){var D,M;const P=b==="y"?"width":"height",U=["top","left"].includes(Aa(s)),L=o.reference[m]-o.floating[P]+(U&&((D=l.offset)==null?void 0:D[m])||0)+(U?0:C.crossAxis),O=o.reference[m]+o.reference[P]+(U?0:((M=l.offset)==null?void 0:M[m])||0)-(U?C.crossAxis:0);E<L?E=L:E>O&&(E=O)}return{[b]:_,[m]:E}}}},mW=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:o,platform:l,elements:c}=e,{apply:f=()=>{},...h}=Ta(t,e),p=await Zp(e,h),m=Aa(s),b=Md(s),_=Oo(s)==="y",{width:E,height:T}=o.floating;let C,D;m==="top"||m==="bottom"?(C=m,D=b===(await(l.isRTL==null?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(D=m,C=b==="end"?"top":"bottom");const M=T-p.top-p.bottom,P=E-p.left-p.right,U=Fl(T-p[C],M),L=Fl(E-p[D],P),O=!e.middlewareData.shift;let Y=U,ne=L;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(ne=P),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(Y=M),O&&!b){const K=ai(p.left,0),Q=ai(p.right,0),de=ai(p.top,0),pe=ai(p.bottom,0);_?ne=E-2*(K!==0||Q!==0?K+Q:ai(p.left,p.right)):Y=T-2*(de!==0||pe!==0?de+pe:ai(p.top,p.bottom))}await f({...e,availableWidth:ne,availableHeight:Y});const G=await l.getDimensions(c.floating);return E!==G.width||T!==G.height?{reset:{rects:!0}}:{}}}};function $y(){return typeof window<"u"}function jd(t){return GO(t)?(t.nodeName||"").toLowerCase():"#document"}function ci(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function zo(t){var e;return(e=(GO(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function GO(t){return $y()?t instanceof Node||t instanceof ci(t).Node:!1}function no(t){return $y()?t instanceof Element||t instanceof ci(t).Element:!1}function Fo(t){return $y()?t instanceof HTMLElement||t instanceof ci(t).HTMLElement:!1}function DD(t){return!$y()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ci(t).ShadowRoot}function ym(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=ro(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function gW(t){return["table","td","th"].includes(jd(t))}function Hy(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function CE(t){const e=RE(),n=no(t)?ro(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function bW(t){let e=Bl(t);for(;Fo(e)&&!md(e);){if(CE(e))return e;if(Hy(e))return null;e=Bl(e)}return null}function RE(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function md(t){return["html","body","#document"].includes(jd(t))}function ro(t){return ci(t).getComputedStyle(t)}function Wy(t){return no(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Bl(t){if(jd(t)==="html")return t;const e=t.assignedSlot||t.parentNode||DD(t)&&t.host||zo(t);return DD(e)?e.host:e}function QO(t){const e=Bl(t);return md(e)?t.ownerDocument?t.ownerDocument.body:t.body:Fo(e)&&ym(e)?e:QO(e)}function Gp(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=QO(t),o=s===((r=t.ownerDocument)==null?void 0:r.body),l=ci(s);if(o){const c=YN(l);return e.concat(l,l.visualViewport||[],ym(s)?s:[],c&&n?Gp(c):[])}return e.concat(s,Gp(s,[],n))}function YN(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function JO(t){const e=ro(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Fo(t),o=s?t.offsetWidth:n,l=s?t.offsetHeight:r,c=jx(n)!==o||jx(r)!==l;return c&&(n=o,r=l),{width:n,height:r,$:c}}function kE(t){return no(t)?t:t.contextElement}function Kf(t){const e=kE(t);if(!Fo(e))return Vo(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:o}=JO(e);let l=(o?jx(n.width):n.width)/r,c=(o?jx(n.height):n.height)/s;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const xW=Vo(0);function eU(t){const e=ci(t);return!RE()||!e.visualViewport?xW:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function yW(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==ci(t)?!1:e}function ou(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),o=kE(t);let l=Vo(1);e&&(r?no(r)&&(l=Kf(r)):l=Kf(t));const c=yW(o,n,r)?eU(o):Vo(0);let f=(s.left+c.x)/l.x,h=(s.top+c.y)/l.y,p=s.width/l.x,m=s.height/l.y;if(o){const b=ci(o),_=r&&no(r)?ci(r):r;let E=b,T=YN(E);for(;T&&r&&_!==E;){const C=Kf(T),D=T.getBoundingClientRect(),M=ro(T),P=D.left+(T.clientLeft+parseFloat(M.paddingLeft))*C.x,U=D.top+(T.clientTop+parseFloat(M.paddingTop))*C.y;f*=C.x,h*=C.y,p*=C.x,m*=C.y,f+=P,h+=U,E=ci(T),T=YN(E)}}return Ox({width:p,height:m,x:f,y:h})}function PE(t,e){const n=Wy(t).scrollLeft;return e?e.left+n:ou(zo(t)).left+n}function tU(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:PE(t,r)),o=r.top+e.scrollTop;return{x:s,y:o}}function vW(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const o=s==="fixed",l=zo(r),c=e?Hy(e.floating):!1;if(r===l||c&&o)return n;let f={scrollLeft:0,scrollTop:0},h=Vo(1);const p=Vo(0),m=Fo(r);if((m||!m&&!o)&&((jd(r)!=="body"||ym(l))&&(f=Wy(r)),Fo(r))){const _=ou(r);h=Kf(r),p.x=_.x+r.clientLeft,p.y=_.y+r.clientTop}const b=l&&!m&&!o?tU(l,f,!0):Vo(0);return{width:n.width*h.x,height:n.height*h.y,x:n.x*h.x-f.scrollLeft*h.x+p.x+b.x,y:n.y*h.y-f.scrollTop*h.y+p.y+b.y}}function _W(t){return Array.from(t.getClientRects())}function wW(t){const e=zo(t),n=Wy(t),r=t.ownerDocument.body,s=ai(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=ai(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+PE(t);const c=-n.scrollTop;return ro(r).direction==="rtl"&&(l+=ai(e.clientWidth,r.clientWidth)-s),{width:s,height:o,x:l,y:c}}function NW(t,e){const n=ci(t),r=zo(t),s=n.visualViewport;let o=r.clientWidth,l=r.clientHeight,c=0,f=0;if(s){o=s.width,l=s.height;const h=RE();(!h||h&&e==="fixed")&&(c=s.offsetLeft,f=s.offsetTop)}return{width:o,height:l,x:c,y:f}}function SW(t,e){const n=ou(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,o=Fo(t)?Kf(t):Vo(1),l=t.clientWidth*o.x,c=t.clientHeight*o.y,f=s*o.x,h=r*o.y;return{width:l,height:c,x:f,y:h}}function MD(t,e,n){let r;if(e==="viewport")r=NW(t,n);else if(e==="document")r=wW(zo(t));else if(no(e))r=SW(e,n);else{const s=eU(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Ox(r)}function nU(t,e){const n=Bl(t);return n===e||!no(n)||md(n)?!1:ro(n).position==="fixed"||nU(n,e)}function EW(t,e){const n=e.get(t);if(n)return n;let r=Gp(t,[],!1).filter(c=>no(c)&&jd(c)!=="body"),s=null;const o=ro(t).position==="fixed";let l=o?Bl(t):t;for(;no(l)&&!md(l);){const c=ro(l),f=CE(l);!f&&c.position==="fixed"&&(s=null),(o?!f&&!s:!f&&c.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||ym(l)&&!f&&nU(t,l))?r=r.filter(p=>p!==l):s=c,l=Bl(l)}return e.set(t,r),r}function TW(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const l=[...n==="clippingAncestors"?Hy(e)?[]:EW(e,this._c):[].concat(n),r],c=l[0],f=l.reduce((h,p)=>{const m=MD(e,p,s);return h.top=ai(m.top,h.top),h.right=Fl(m.right,h.right),h.bottom=Fl(m.bottom,h.bottom),h.left=ai(m.left,h.left),h},MD(e,c,s));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function AW(t){const{width:e,height:n}=JO(t);return{width:e,height:n}}function CW(t,e,n){const r=Fo(e),s=zo(e),o=n==="fixed",l=ou(t,!0,o,e);let c={scrollLeft:0,scrollTop:0};const f=Vo(0);function h(){f.x=PE(s)}if(r||!r&&!o)if((jd(e)!=="body"||ym(s))&&(c=Wy(e)),r){const _=ou(e,!0,o,e);f.x=_.x+e.clientLeft,f.y=_.y+e.clientTop}else s&&h();o&&!r&&s&&h();const p=s&&!r&&!o?tU(s,c):Vo(0),m=l.left+c.scrollLeft-f.x-p.x,b=l.top+c.scrollTop-f.y-p.y;return{x:m,y:b,width:l.width,height:l.height}}function e1(t){return ro(t).position==="static"}function jD(t,e){if(!Fo(t)||ro(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return zo(t)===n&&(n=n.ownerDocument.body),n}function rU(t,e){const n=ci(t);if(Hy(t))return n;if(!Fo(t)){let s=Bl(t);for(;s&&!md(s);){if(no(s)&&!e1(s))return s;s=Bl(s)}return n}let r=jD(t,e);for(;r&&gW(r)&&e1(r);)r=jD(r,e);return r&&md(r)&&e1(r)&&!CE(r)?n:r||bW(t)||n}const RW=async function(t){const e=this.getOffsetParent||rU,n=this.getDimensions,r=await n(t.floating);return{reference:CW(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function kW(t){return ro(t).direction==="rtl"}const PW={convertOffsetParentRelativeRectToViewportRelativeRect:vW,getDocumentElement:zo,getClippingRect:TW,getOffsetParent:rU,getElementRects:RW,getClientRects:_W,getDimensions:AW,getScale:Kf,isElement:no,isRTL:kW};function sU(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function DW(t,e){let n=null,r;const s=zo(t);function o(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function l(c,f){c===void 0&&(c=!1),f===void 0&&(f=1),o();const h=t.getBoundingClientRect(),{left:p,top:m,width:b,height:_}=h;if(c||e(),!b||!_)return;const E=Ub(m),T=Ub(s.clientWidth-(p+b)),C=Ub(s.clientHeight-(m+_)),D=Ub(p),P={rootMargin:-E+"px "+-T+"px "+-C+"px "+-D+"px",threshold:ai(0,Fl(1,f))||1};let U=!0;function L(O){const Y=O[0].intersectionRatio;if(Y!==f){if(!U)return l();Y?l(!1,Y):r=setTimeout(()=>{l(!1,1e-7)},1e3)}Y===1&&!sU(h,t.getBoundingClientRect())&&l(),U=!1}try{n=new IntersectionObserver(L,{...P,root:s.ownerDocument})}catch{n=new IntersectionObserver(L,P)}n.observe(t)}return l(!0),o}function MW(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:f=!1}=r,h=kE(t),p=s||o?[...h?Gp(h):[],...Gp(e)]:[];p.forEach(D=>{s&&D.addEventListener("scroll",n,{passive:!0}),o&&D.addEventListener("resize",n)});const m=h&&c?DW(h,n):null;let b=-1,_=null;l&&(_=new ResizeObserver(D=>{let[M]=D;M&&M.target===h&&_&&(_.unobserve(e),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var P;(P=_)==null||P.observe(e)})),n()}),h&&!f&&_.observe(h),_.observe(e));let E,T=f?ou(t):null;f&&C();function C(){const D=ou(t);T&&!sU(T,D)&&n(),T=D,E=requestAnimationFrame(C)}return n(),()=>{var D;p.forEach(M=>{s&&M.removeEventListener("scroll",n),o&&M.removeEventListener("resize",n)}),m==null||m(),(D=_)==null||D.disconnect(),_=null,f&&cancelAnimationFrame(E)}}const jW=dW,IW=hW,OW=cW,UW=mW,VW=uW,ID=lW,FW=pW,BW=(t,e,n)=>{const r=new Map,s={platform:PW,...n},o={...s.platform,_c:r};return aW(t,e,{...s,platform:o})};var LW=typeof document<"u",zW=function(){},hx=LW?k.useLayoutEffect:zW;function Ux(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Ux(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&t.$$typeof)&&!Ux(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function iU(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function OD(t,e){const n=iU(t);return Math.round(e*n)/n}function t1(t){const e=k.useRef(t);return hx(()=>{e.current=t}),e}function $W(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:l}={},transform:c=!0,whileElementsMounted:f,open:h}=t,[p,m]=k.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[b,_]=k.useState(r);Ux(b,r)||_(r);const[E,T]=k.useState(null),[C,D]=k.useState(null),M=k.useCallback(_e=>{_e!==O.current&&(O.current=_e,T(_e))},[]),P=k.useCallback(_e=>{_e!==Y.current&&(Y.current=_e,D(_e))},[]),U=o||E,L=l||C,O=k.useRef(null),Y=k.useRef(null),ne=k.useRef(p),G=f!=null,K=t1(f),Q=t1(s),de=t1(h),pe=k.useCallback(()=>{if(!O.current||!Y.current)return;const _e={placement:e,strategy:n,middleware:b};Q.current&&(_e.platform=Q.current),BW(O.current,Y.current,_e).then(Ke=>{const V={...Ke,isPositioned:de.current!==!1};le.current&&!Ux(ne.current,V)&&(ne.current=V,kd.flushSync(()=>{m(V)}))})},[b,e,n,Q,de]);hx(()=>{h===!1&&ne.current.isPositioned&&(ne.current.isPositioned=!1,m(_e=>({..._e,isPositioned:!1})))},[h]);const le=k.useRef(!1);hx(()=>(le.current=!0,()=>{le.current=!1}),[]),hx(()=>{if(U&&(O.current=U),L&&(Y.current=L),U&&L){if(K.current)return K.current(U,L,pe);pe()}},[U,L,pe,K,G]);const ye=k.useMemo(()=>({reference:O,floating:Y,setReference:M,setFloating:P}),[M,P]),ge=k.useMemo(()=>({reference:U,floating:L}),[U,L]),je=k.useMemo(()=>{const _e={position:n,left:0,top:0};if(!ge.floating)return _e;const Ke=OD(ge.floating,p.x),V=OD(ge.floating,p.y);return c?{..._e,transform:"translate("+Ke+"px, "+V+"px)",...iU(ge.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Ke,top:V}},[n,c,ge.floating,p.x,p.y]);return k.useMemo(()=>({...p,update:pe,refs:ye,elements:ge,floatingStyles:je}),[p,pe,ye,ge,je])}const HW=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?ID({element:r.current,padding:s}).fn(n):{}:r?ID({element:r,padding:s}).fn(n):{}}}},WW=(t,e)=>({...jW(t),options:[t,e]}),qW=(t,e)=>({...IW(t),options:[t,e]}),XW=(t,e)=>({...FW(t),options:[t,e]}),YW=(t,e)=>({...OW(t),options:[t,e]}),KW=(t,e)=>({...UW(t),options:[t,e]}),ZW=(t,e)=>({...VW(t),options:[t,e]}),GW=(t,e)=>({...HW(t),options:[t,e]});var QW="Arrow",oU=k.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...o}=t;return Me.jsx(Mt.svg,{...o,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:Me.jsx("polygon",{points:"0,0 30,0 15,10"})})});oU.displayName=QW;var JW=oU;function eq(t){const[e,n]=k.useState(void 0);return ns(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let l,c;if("borderBoxSize"in o){const f=o.borderBoxSize,h=Array.isArray(f)?f[0]:f;l=h.inlineSize,c=h.blockSize}else l=t.offsetWidth,c=t.offsetHeight;n({width:l,height:c})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var DE="Popper",[aU,qy]=Ra(DE),[tq,lU]=aU(DE),cU=t=>{const{__scopePopper:e,children:n}=t,[r,s]=k.useState(null);return Me.jsx(tq,{scope:e,anchor:r,onAnchorChange:s,children:n})};cU.displayName=DE;var uU="PopperAnchor",fU=k.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,o=lU(uU,n),l=k.useRef(null),c=Kn(e,l);return k.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||l.current)}),r?null:Me.jsx(Mt.div,{...s,ref:c})});fU.displayName=uU;var ME="PopperContent",[nq,rq]=aU(ME),dU=k.forwardRef((t,e)=>{var he,oe,Pe,qe,Ye,tt;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:l=0,arrowPadding:c=0,avoidCollisions:f=!0,collisionBoundary:h=[],collisionPadding:p=0,sticky:m="partial",hideWhenDetached:b=!1,updatePositionStrategy:_="optimized",onPlaced:E,...T}=t,C=lU(ME,n),[D,M]=k.useState(null),P=Kn(e,Ue=>M(Ue)),[U,L]=k.useState(null),O=eq(U),Y=(O==null?void 0:O.width)??0,ne=(O==null?void 0:O.height)??0,G=r+(o!=="center"?"-"+o:""),K=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},Q=Array.isArray(h)?h:[h],de=Q.length>0,pe={padding:K,boundary:Q.filter(iq),altBoundary:de},{refs:le,floatingStyles:ye,placement:ge,isPositioned:je,middlewareData:_e}=$W({strategy:"fixed",placement:G,whileElementsMounted:(...Ue)=>MW(...Ue,{animationFrame:_==="always"}),elements:{reference:C.anchor},middleware:[WW({mainAxis:s+ne,alignmentAxis:l}),f&&qW({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?XW():void 0,...pe}),f&&YW({...pe}),KW({...pe,apply:({elements:Ue,rects:nt,availableWidth:lt,availableHeight:gt})=>{const{width:Lt,height:Yt}=nt.reference,Ot=Ue.floating.style;Ot.setProperty("--radix-popper-available-width",`${lt}px`),Ot.setProperty("--radix-popper-available-height",`${gt}px`),Ot.setProperty("--radix-popper-anchor-width",`${Lt}px`),Ot.setProperty("--radix-popper-anchor-height",`${Yt}px`)}}),U&&GW({element:U,padding:c}),oq({arrowWidth:Y,arrowHeight:ne}),b&&ZW({strategy:"referenceHidden",...pe})]}),[Ke,V]=mU(ge),ue=Mi(E);ns(()=>{je&&(ue==null||ue())},[je,ue]);const se=(he=_e.arrow)==null?void 0:he.x,B=(oe=_e.arrow)==null?void 0:oe.y,ce=((Pe=_e.arrow)==null?void 0:Pe.centerOffset)!==0,[Z,xe]=k.useState();return ns(()=>{D&&xe(window.getComputedStyle(D).zIndex)},[D]),Me.jsx("div",{ref:le.setFloating,"data-radix-popper-content-wrapper":"",style:{...ye,transform:je?ye.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Z,"--radix-popper-transform-origin":[(qe=_e.transformOrigin)==null?void 0:qe.x,(Ye=_e.transformOrigin)==null?void 0:Ye.y].join(" "),...((tt=_e.hide)==null?void 0:tt.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:Me.jsx(nq,{scope:n,placedSide:Ke,onArrowChange:L,arrowX:se,arrowY:B,shouldHideArrow:ce,children:Me.jsx(Mt.div,{"data-side":Ke,"data-align":V,...T,ref:P,style:{...T.style,animation:je?void 0:"none"}})})})});dU.displayName=ME;var hU="PopperArrow",sq={top:"bottom",right:"left",bottom:"top",left:"right"},pU=k.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,o=rq(hU,r),l=sq[o.placedSide];return Me.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:Me.jsx(JW,{...s,ref:n,style:{...s.style,display:"block"}})})});pU.displayName=hU;function iq(t){return t!==null}var oq=t=>({name:"transformOrigin",options:t,fn(e){var C,D,M;const{placement:n,rects:r,middlewareData:s}=e,l=((C=s.arrow)==null?void 0:C.centerOffset)!==0,c=l?0:t.arrowWidth,f=l?0:t.arrowHeight,[h,p]=mU(n),m={start:"0%",center:"50%",end:"100%"}[p],b=(((D=s.arrow)==null?void 0:D.x)??0)+c/2,_=(((M=s.arrow)==null?void 0:M.y)??0)+f/2;let E="",T="";return h==="bottom"?(E=l?m:`${b}px`,T=`${-f}px`):h==="top"?(E=l?m:`${b}px`,T=`${r.floating.height+f}px`):h==="right"?(E=`${-f}px`,T=l?m:`${_}px`):h==="left"&&(E=`${r.floating.width+f}px`,T=l?m:`${_}px`),{data:{x:E,y:T}}}});function mU(t){const[e,n="center"]=t.split("-");return[e,n]}var gU=cU,jE=fU,bU=dU,xU=pU;function aq(t){const e=k.useRef({value:t,previous:t});return k.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var lq=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},_f=new WeakMap,Vb=new WeakMap,Fb={},n1=0,yU=function(t){return t&&(t.host||yU(t.parentNode))},cq=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=yU(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},uq=function(t,e,n,r){var s=cq(e,Array.isArray(t)?t:[t]);Fb[n]||(Fb[n]=new WeakMap);var o=Fb[n],l=[],c=new Set,f=new Set(s),h=function(m){!m||c.has(m)||(c.add(m),h(m.parentNode))};s.forEach(h);var p=function(m){!m||f.has(m)||Array.prototype.forEach.call(m.children,function(b){if(c.has(b))p(b);else try{var _=b.getAttribute(r),E=_!==null&&_!=="false",T=(_f.get(b)||0)+1,C=(o.get(b)||0)+1;_f.set(b,T),o.set(b,C),l.push(b),T===1&&E&&Vb.set(b,!0),C===1&&b.setAttribute(n,"true"),E||b.setAttribute(r,"true")}catch(D){console.error("aria-hidden: cannot operate on ",b,D)}})};return p(e),c.clear(),n1++,function(){l.forEach(function(m){var b=_f.get(m)-1,_=o.get(m)-1;_f.set(m,b),o.set(m,_),b||(Vb.has(m)||m.removeAttribute(r),Vb.delete(m)),_||m.removeAttribute(n)}),n1--,n1||(_f=new WeakMap,_f=new WeakMap,Vb=new WeakMap,Fb={})}},IE=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=lq(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),uq(r,s,n,"aria-hidden")):function(){return null}},Do=function(){return Do=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Do.apply(this,arguments)};function vU(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function fq(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,o;r<s;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var px="right-scroll-bar-position",mx="width-before-scroll-bar",dq="with-scroll-bars-hidden",hq="--removed-body-scroll-bar-size";function r1(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function pq(t,e){var n=k.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var mq=typeof window<"u"?k.useLayoutEffect:k.useEffect,UD=new WeakMap;function gq(t,e){var n=pq(null,function(r){return t.forEach(function(s){return r1(s,r)})});return mq(function(){var r=UD.get(n);if(r){var s=new Set(r),o=new Set(t),l=n.current;s.forEach(function(c){o.has(c)||r1(c,null)}),o.forEach(function(c){s.has(c)||r1(c,l)})}UD.set(n,t)},[t]),n}function bq(t){return t}function xq(t,e){e===void 0&&(e=bq);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var l=e(o,r);return n.push(l),function(){n=n.filter(function(c){return c!==l})}},assignSyncMedium:function(o){for(r=!0;n.length;){var l=n;n=[],l.forEach(o)}n={push:function(c){return o(c)},filter:function(){return n}}},assignMedium:function(o){r=!0;var l=[];if(n.length){var c=n;n=[],c.forEach(o),l=n}var f=function(){var p=l;l=[],p.forEach(o)},h=function(){return Promise.resolve().then(f)};h(),n={push:function(p){l.push(p),h()},filter:function(p){return l=l.filter(p),n}}}};return s}function yq(t){t===void 0&&(t={});var e=xq(null);return e.options=Do({async:!0,ssr:!1},t),e}var _U=function(t){var e=t.sideCar,n=vU(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return k.createElement(r,Do({},n))};_U.isSideCarExport=!0;function vq(t,e){return t.useMedium(e),_U}var wU=yq(),s1=function(){},Xy=k.forwardRef(function(t,e){var n=k.useRef(null),r=k.useState({onScrollCapture:s1,onWheelCapture:s1,onTouchMoveCapture:s1}),s=r[0],o=r[1],l=t.forwardProps,c=t.children,f=t.className,h=t.removeScrollBar,p=t.enabled,m=t.shards,b=t.sideCar,_=t.noRelative,E=t.noIsolation,T=t.inert,C=t.allowPinchZoom,D=t.as,M=D===void 0?"div":D,P=t.gapMode,U=vU(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),L=b,O=gq([n,e]),Y=Do(Do({},U),s);return k.createElement(k.Fragment,null,p&&k.createElement(L,{sideCar:wU,removeScrollBar:h,shards:m,noRelative:_,noIsolation:E,inert:T,setCallbacks:o,allowPinchZoom:!!C,lockRef:n,gapMode:P}),l?k.cloneElement(k.Children.only(c),Do(Do({},Y),{ref:O})):k.createElement(M,Do({},Y,{className:f,ref:O}),c))});Xy.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Xy.classNames={fullWidth:mx,zeroRight:px};var _q=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function wq(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=_q();return e&&t.setAttribute("nonce",e),t}function Nq(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Sq(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Eq=function(){var t=0,e=null;return{add:function(n){t==0&&(e=wq())&&(Nq(e,n),Sq(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Tq=function(){var t=Eq();return function(e,n){k.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},NU=function(){var t=Tq(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},Aq={left:0,top:0,right:0,gap:0},i1=function(t){return parseInt(t||"",10)||0},Cq=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[i1(n),i1(r),i1(s)]},Rq=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Aq;var e=Cq(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},kq=NU(),Zf="data-scroll-locked",Pq=function(t,e,n,r){var s=t.left,o=t.top,l=t.right,c=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(dq,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(Zf,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(px,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(mx,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(px," .").concat(px,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(mx," .").concat(mx,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Zf,`] {
    `).concat(hq,": ").concat(c,`px;
  }
`)},VD=function(){var t=parseInt(document.body.getAttribute(Zf)||"0",10);return isFinite(t)?t:0},Dq=function(){k.useEffect(function(){return document.body.setAttribute(Zf,(VD()+1).toString()),function(){var t=VD()-1;t<=0?document.body.removeAttribute(Zf):document.body.setAttribute(Zf,t.toString())}},[])},Mq=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;Dq();var o=k.useMemo(function(){return Rq(s)},[s]);return k.createElement(kq,{styles:Pq(o,!e,s,n?"":"!important")})},KN=!1;if(typeof window<"u")try{var Bb=Object.defineProperty({},"passive",{get:function(){return KN=!0,!0}});window.addEventListener("test",Bb,Bb),window.removeEventListener("test",Bb,Bb)}catch{KN=!1}var wf=KN?{passive:!1}:!1,jq=function(t){return t.tagName==="TEXTAREA"},SU=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!jq(t)&&n[e]==="visible")},Iq=function(t){return SU(t,"overflowY")},Oq=function(t){return SU(t,"overflowX")},FD=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=EU(t,r);if(s){var o=TU(t,r),l=o[1],c=o[2];if(l>c)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Uq=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Vq=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},EU=function(t,e){return t==="v"?Iq(e):Oq(e)},TU=function(t,e){return t==="v"?Uq(e):Vq(e)},Fq=function(t,e){return t==="h"&&e==="rtl"?-1:1},Bq=function(t,e,n,r,s){var o=Fq(t,window.getComputedStyle(e).direction),l=o*r,c=n.target,f=e.contains(c),h=!1,p=l>0,m=0,b=0;do{if(!c)break;var _=TU(t,c),E=_[0],T=_[1],C=_[2],D=T-C-o*E;(E||D)&&EU(t,c)&&(m+=D,b+=E);var M=c.parentNode;c=M&&M.nodeType===Node.DOCUMENT_FRAGMENT_NODE?M.host:M}while(!f&&c!==document.body||f&&(e.contains(c)||e===c));return(p&&Math.abs(m)<1||!p&&Math.abs(b)<1)&&(h=!0),h},Lb=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},BD=function(t){return[t.deltaX,t.deltaY]},LD=function(t){return t&&"current"in t?t.current:t},Lq=function(t,e){return t[0]===e[0]&&t[1]===e[1]},zq=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},$q=0,Nf=[];function Hq(t){var e=k.useRef([]),n=k.useRef([0,0]),r=k.useRef(),s=k.useState($q++)[0],o=k.useState(NU)[0],l=k.useRef(t);k.useEffect(function(){l.current=t},[t]),k.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var T=fq([t.lockRef.current],(t.shards||[]).map(LD),!0).filter(Boolean);return T.forEach(function(C){return C.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),T.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var c=k.useCallback(function(T,C){if("touches"in T&&T.touches.length===2||T.type==="wheel"&&T.ctrlKey)return!l.current.allowPinchZoom;var D=Lb(T),M=n.current,P="deltaX"in T?T.deltaX:M[0]-D[0],U="deltaY"in T?T.deltaY:M[1]-D[1],L,O=T.target,Y=Math.abs(P)>Math.abs(U)?"h":"v";if("touches"in T&&Y==="h"&&O.type==="range")return!1;var ne=FD(Y,O);if(!ne)return!0;if(ne?L=Y:(L=Y==="v"?"h":"v",ne=FD(Y,O)),!ne)return!1;if(!r.current&&"changedTouches"in T&&(P||U)&&(r.current=L),!L)return!0;var G=r.current||L;return Bq(G,C,T,G==="h"?P:U)},[]),f=k.useCallback(function(T){var C=T;if(!(!Nf.length||Nf[Nf.length-1]!==o)){var D="deltaY"in C?BD(C):Lb(C),M=e.current.filter(function(L){return L.name===C.type&&(L.target===C.target||C.target===L.shadowParent)&&Lq(L.delta,D)})[0];if(M&&M.should){C.cancelable&&C.preventDefault();return}if(!M){var P=(l.current.shards||[]).map(LD).filter(Boolean).filter(function(L){return L.contains(C.target)}),U=P.length>0?c(C,P[0]):!l.current.noIsolation;U&&C.cancelable&&C.preventDefault()}}},[]),h=k.useCallback(function(T,C,D,M){var P={name:T,delta:C,target:D,should:M,shadowParent:Wq(D)};e.current.push(P),setTimeout(function(){e.current=e.current.filter(function(U){return U!==P})},1)},[]),p=k.useCallback(function(T){n.current=Lb(T),r.current=void 0},[]),m=k.useCallback(function(T){h(T.type,BD(T),T.target,c(T,t.lockRef.current))},[]),b=k.useCallback(function(T){h(T.type,Lb(T),T.target,c(T,t.lockRef.current))},[]);k.useEffect(function(){return Nf.push(o),t.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:b}),document.addEventListener("wheel",f,wf),document.addEventListener("touchmove",f,wf),document.addEventListener("touchstart",p,wf),function(){Nf=Nf.filter(function(T){return T!==o}),document.removeEventListener("wheel",f,wf),document.removeEventListener("touchmove",f,wf),document.removeEventListener("touchstart",p,wf)}},[]);var _=t.removeScrollBar,E=t.inert;return k.createElement(k.Fragment,null,E?k.createElement(o,{styles:zq(s)}):null,_?k.createElement(Mq,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function Wq(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const qq=vq(wU,Hq);var Yy=k.forwardRef(function(t,e){return k.createElement(Xy,Do({},t,{ref:e,sideCar:qq}))});Yy.classNames=Xy.classNames;var Xq=[" ","Enter","ArrowUp","ArrowDown"],Yq=[" ","Enter"],au="Select",[Ky,Zy,Kq]=dE(au),[Id,Wme]=Ra(au,[Kq,qy]),Gy=qy(),[Zq,ql]=Id(au),[Gq,Qq]=Id(au),AU=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:o,value:l,defaultValue:c,onValueChange:f,dir:h,name:p,autoComplete:m,disabled:b,required:_,form:E}=t,T=Gy(e),[C,D]=k.useState(null),[M,P]=k.useState(null),[U,L]=k.useState(!1),O=wE(h),[Y,ne]=su({prop:r,defaultProp:s??!1,onChange:o,caller:au}),[G,K]=su({prop:l,defaultProp:c,onChange:f,caller:au}),Q=k.useRef(null),de=C?E||!!C.closest("form"):!0,[pe,le]=k.useState(new Set),ye=Array.from(pe).map(ge=>ge.props.value).join(";");return Me.jsx(gU,{...T,children:Me.jsxs(Zq,{required:_,scope:e,trigger:C,onTriggerChange:D,valueNode:M,onValueNodeChange:P,valueNodeHasChildren:U,onValueNodeHasChildrenChange:L,contentId:Ps(),value:G,onValueChange:K,open:Y,onOpenChange:ne,dir:O,triggerPointerDownPosRef:Q,disabled:b,children:[Me.jsx(Ky.Provider,{scope:e,children:Me.jsx(Gq,{scope:t.__scopeSelect,onNativeOptionAdd:k.useCallback(ge=>{le(je=>new Set(je).add(ge))},[]),onNativeOptionRemove:k.useCallback(ge=>{le(je=>{const _e=new Set(je);return _e.delete(ge),_e})},[]),children:n})}),de?Me.jsxs(KU,{"aria-hidden":!0,required:_,tabIndex:-1,name:p,autoComplete:m,value:G,onChange:ge=>K(ge.target.value),disabled:b,form:E,children:[G===void 0?Me.jsx("option",{value:""}):null,Array.from(pe)]},ye):null]})})};AU.displayName=au;var CU="SelectTrigger",RU=k.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,o=Gy(n),l=ql(CU,n),c=l.disabled||r,f=Kn(e,l.onTriggerChange),h=Zy(n),p=k.useRef("touch"),[m,b,_]=GU(T=>{const C=h().filter(P=>!P.disabled),D=C.find(P=>P.value===l.value),M=QU(C,T,D);M!==void 0&&l.onValueChange(M.value)}),E=T=>{c||(l.onOpenChange(!0),_()),T&&(l.triggerPointerDownPosRef.current={x:Math.round(T.pageX),y:Math.round(T.pageY)})};return Me.jsx(jE,{asChild:!0,...o,children:Me.jsx(Mt.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":ZU(l.value)?"":void 0,...s,ref:f,onClick:Bt(s.onClick,T=>{T.currentTarget.focus(),p.current!=="mouse"&&E(T)}),onPointerDown:Bt(s.onPointerDown,T=>{p.current=T.pointerType;const C=T.target;C.hasPointerCapture(T.pointerId)&&C.releasePointerCapture(T.pointerId),T.button===0&&T.ctrlKey===!1&&T.pointerType==="mouse"&&(E(T),T.preventDefault())}),onKeyDown:Bt(s.onKeyDown,T=>{const C=m.current!=="";!(T.ctrlKey||T.altKey||T.metaKey)&&T.key.length===1&&b(T.key),!(C&&T.key===" ")&&Xq.includes(T.key)&&(E(),T.preventDefault())})})})});RU.displayName=CU;var kU="SelectValue",PU=k.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:o,placeholder:l="",...c}=t,f=ql(kU,n),{onValueNodeHasChildrenChange:h}=f,p=o!==void 0,m=Kn(e,f.onValueNodeChange);return ns(()=>{h(p)},[h,p]),Me.jsx(Mt.span,{...c,ref:m,style:{pointerEvents:"none"},children:ZU(f.value)?Me.jsx(Me.Fragment,{children:l}):o})});PU.displayName=kU;var Jq="SelectIcon",DU=k.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return Me.jsx(Mt.span,{"aria-hidden":!0,...s,ref:e,children:r||"▼"})});DU.displayName=Jq;var eX="SelectPortal",MU=t=>Me.jsx(mm,{asChild:!0,...t});MU.displayName=eX;var lu="SelectContent",jU=k.forwardRef((t,e)=>{const n=ql(lu,t.__scopeSelect),[r,s]=k.useState();if(ns(()=>{s(new DocumentFragment)},[]),!n.open){const o=r;return o?kd.createPortal(Me.jsx(IU,{scope:t.__scopeSelect,children:Me.jsx(Ky.Slot,{scope:t.__scopeSelect,children:Me.jsx("div",{children:t.children})})}),o):null}return Me.jsx(OU,{...t,ref:e})});jU.displayName=lu;var qi=10,[IU,Xl]=Id(lu),tX="SelectContentImpl",nX=ru("SelectContent.RemoveScroll"),OU=k.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:l,side:c,sideOffset:f,align:h,alignOffset:p,arrowPadding:m,collisionBoundary:b,collisionPadding:_,sticky:E,hideWhenDetached:T,avoidCollisions:C,...D}=t,M=ql(lu,n),[P,U]=k.useState(null),[L,O]=k.useState(null),Y=Kn(e,he=>U(he)),[ne,G]=k.useState(null),[K,Q]=k.useState(null),de=Zy(n),[pe,le]=k.useState(!1),ye=k.useRef(!1);k.useEffect(()=>{if(P)return IE(P)},[P]),SE();const ge=k.useCallback(he=>{const[oe,...Pe]=de().map(tt=>tt.ref.current),[qe]=Pe.slice(-1),Ye=document.activeElement;for(const tt of he)if(tt===Ye||(tt==null||tt.scrollIntoView({block:"nearest"}),tt===oe&&L&&(L.scrollTop=0),tt===qe&&L&&(L.scrollTop=L.scrollHeight),tt==null||tt.focus(),document.activeElement!==Ye))return},[de,L]),je=k.useCallback(()=>ge([ne,P]),[ge,ne,P]);k.useEffect(()=>{pe&&je()},[pe,je]);const{onOpenChange:_e,triggerPointerDownPosRef:Ke}=M;k.useEffect(()=>{if(P){let he={x:0,y:0};const oe=qe=>{var Ye,tt;he={x:Math.abs(Math.round(qe.pageX)-(((Ye=Ke.current)==null?void 0:Ye.x)??0)),y:Math.abs(Math.round(qe.pageY)-(((tt=Ke.current)==null?void 0:tt.y)??0))}},Pe=qe=>{he.x<=10&&he.y<=10?qe.preventDefault():P.contains(qe.target)||_e(!1),document.removeEventListener("pointermove",oe),Ke.current=null};return Ke.current!==null&&(document.addEventListener("pointermove",oe),document.addEventListener("pointerup",Pe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",oe),document.removeEventListener("pointerup",Pe,{capture:!0})}}},[P,_e,Ke]),k.useEffect(()=>{const he=()=>_e(!1);return window.addEventListener("blur",he),window.addEventListener("resize",he),()=>{window.removeEventListener("blur",he),window.removeEventListener("resize",he)}},[_e]);const[V,ue]=GU(he=>{const oe=de().filter(Ye=>!Ye.disabled),Pe=oe.find(Ye=>Ye.ref.current===document.activeElement),qe=QU(oe,he,Pe);qe&&setTimeout(()=>qe.ref.current.focus())}),se=k.useCallback((he,oe,Pe)=>{const qe=!ye.current&&!Pe;(M.value!==void 0&&M.value===oe||qe)&&(G(he),qe&&(ye.current=!0))},[M.value]),B=k.useCallback(()=>P==null?void 0:P.focus(),[P]),ce=k.useCallback((he,oe,Pe)=>{const qe=!ye.current&&!Pe;(M.value!==void 0&&M.value===oe||qe)&&Q(he)},[M.value]),Z=r==="popper"?ZN:UU,xe=Z===ZN?{side:c,sideOffset:f,align:h,alignOffset:p,arrowPadding:m,collisionBoundary:b,collisionPadding:_,sticky:E,hideWhenDetached:T,avoidCollisions:C}:{};return Me.jsx(IU,{scope:n,content:P,viewport:L,onViewportChange:O,itemRefCallback:se,selectedItem:ne,onItemLeave:B,itemTextRefCallback:ce,focusSelectedItem:je,selectedItemText:K,position:r,isPositioned:pe,searchRef:V,children:Me.jsx(Yy,{as:nX,allowPinchZoom:!0,children:Me.jsx(zy,{asChild:!0,trapped:M.open,onMountAutoFocus:he=>{he.preventDefault()},onUnmountAutoFocus:Bt(s,he=>{var oe;(oe=M.trigger)==null||oe.focus({preventScroll:!0}),he.preventDefault()}),children:Me.jsx(pm,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:he=>he.preventDefault(),onDismiss:()=>M.onOpenChange(!1),children:Me.jsx(Z,{role:"listbox",id:M.contentId,"data-state":M.open?"open":"closed",dir:M.dir,onContextMenu:he=>he.preventDefault(),...D,...xe,onPlaced:()=>le(!0),ref:Y,style:{display:"flex",flexDirection:"column",outline:"none",...D.style},onKeyDown:Bt(D.onKeyDown,he=>{const oe=he.ctrlKey||he.altKey||he.metaKey;if(he.key==="Tab"&&he.preventDefault(),!oe&&he.key.length===1&&ue(he.key),["ArrowUp","ArrowDown","Home","End"].includes(he.key)){let qe=de().filter(Ye=>!Ye.disabled).map(Ye=>Ye.ref.current);if(["ArrowUp","End"].includes(he.key)&&(qe=qe.slice().reverse()),["ArrowUp","ArrowDown"].includes(he.key)){const Ye=he.target,tt=qe.indexOf(Ye);qe=qe.slice(tt+1)}setTimeout(()=>ge(qe)),he.preventDefault()}})})})})})})});OU.displayName=tX;var rX="SelectItemAlignedPosition",UU=k.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,o=ql(lu,n),l=Xl(lu,n),[c,f]=k.useState(null),[h,p]=k.useState(null),m=Kn(e,Y=>p(Y)),b=Zy(n),_=k.useRef(!1),E=k.useRef(!0),{viewport:T,selectedItem:C,selectedItemText:D,focusSelectedItem:M}=l,P=k.useCallback(()=>{if(o.trigger&&o.valueNode&&c&&h&&T&&C&&D){const Y=o.trigger.getBoundingClientRect(),ne=h.getBoundingClientRect(),G=o.valueNode.getBoundingClientRect(),K=D.getBoundingClientRect();if(o.dir!=="rtl"){const Ye=K.left-ne.left,tt=G.left-Ye,Ue=Y.left-tt,nt=Y.width+Ue,lt=Math.max(nt,ne.width),gt=window.innerWidth-qi,Lt=ND(tt,[qi,Math.max(qi,gt-lt)]);c.style.minWidth=nt+"px",c.style.left=Lt+"px"}else{const Ye=ne.right-K.right,tt=window.innerWidth-G.right-Ye,Ue=window.innerWidth-Y.right-tt,nt=Y.width+Ue,lt=Math.max(nt,ne.width),gt=window.innerWidth-qi,Lt=ND(tt,[qi,Math.max(qi,gt-lt)]);c.style.minWidth=nt+"px",c.style.right=Lt+"px"}const Q=b(),de=window.innerHeight-qi*2,pe=T.scrollHeight,le=window.getComputedStyle(h),ye=parseInt(le.borderTopWidth,10),ge=parseInt(le.paddingTop,10),je=parseInt(le.borderBottomWidth,10),_e=parseInt(le.paddingBottom,10),Ke=ye+ge+pe+_e+je,V=Math.min(C.offsetHeight*5,Ke),ue=window.getComputedStyle(T),se=parseInt(ue.paddingTop,10),B=parseInt(ue.paddingBottom,10),ce=Y.top+Y.height/2-qi,Z=de-ce,xe=C.offsetHeight/2,he=C.offsetTop+xe,oe=ye+ge+he,Pe=Ke-oe;if(oe<=ce){const Ye=Q.length>0&&C===Q[Q.length-1].ref.current;c.style.bottom="0px";const tt=h.clientHeight-T.offsetTop-T.offsetHeight,Ue=Math.max(Z,xe+(Ye?B:0)+tt+je),nt=oe+Ue;c.style.height=nt+"px"}else{const Ye=Q.length>0&&C===Q[0].ref.current;c.style.top="0px";const Ue=Math.max(ce,ye+T.offsetTop+(Ye?se:0)+xe)+Pe;c.style.height=Ue+"px",T.scrollTop=oe-ce+T.offsetTop}c.style.margin=`${qi}px 0`,c.style.minHeight=V+"px",c.style.maxHeight=de+"px",r==null||r(),requestAnimationFrame(()=>_.current=!0)}},[b,o.trigger,o.valueNode,c,h,T,C,D,o.dir,r]);ns(()=>P(),[P]);const[U,L]=k.useState();ns(()=>{h&&L(window.getComputedStyle(h).zIndex)},[h]);const O=k.useCallback(Y=>{Y&&E.current===!0&&(P(),M==null||M(),E.current=!1)},[P,M]);return Me.jsx(iX,{scope:n,contentWrapper:c,shouldExpandOnScrollRef:_,onScrollButtonChange:O,children:Me.jsx("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:U},children:Me.jsx(Mt.div,{...s,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});UU.displayName=rX;var sX="SelectPopperPosition",ZN=k.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=qi,...o}=t,l=Gy(n);return Me.jsx(bU,{...l,...o,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ZN.displayName=sX;var[iX,OE]=Id(lu,{}),GN="SelectViewport",VU=k.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,o=Xl(GN,n),l=OE(GN,n),c=Kn(e,o.onViewportChange),f=k.useRef(0);return Me.jsxs(Me.Fragment,{children:[Me.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),Me.jsx(Ky.Slot,{scope:n,children:Me.jsx(Mt.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Bt(s.onScroll,h=>{const p=h.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:b}=l;if(b!=null&&b.current&&m){const _=Math.abs(f.current-p.scrollTop);if(_>0){const E=window.innerHeight-qi*2,T=parseFloat(m.style.minHeight),C=parseFloat(m.style.height),D=Math.max(T,C);if(D<E){const M=D+_,P=Math.min(E,M),U=M-P;m.style.height=P+"px",m.style.bottom==="0px"&&(p.scrollTop=U>0?U:0,m.style.justifyContent="flex-end")}}}f.current=p.scrollTop})})})]})});VU.displayName=GN;var FU="SelectGroup",[oX,aX]=Id(FU),lX=k.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Ps();return Me.jsx(oX,{scope:n,id:s,children:Me.jsx(Mt.div,{role:"group","aria-labelledby":s,...r,ref:e})})});lX.displayName=FU;var BU="SelectLabel",LU=k.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=aX(BU,n);return Me.jsx(Mt.div,{id:s.id,...r,ref:e})});LU.displayName=BU;var Vx="SelectItem",[cX,zU]=Id(Vx),$U=k.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:o,...l}=t,c=ql(Vx,n),f=Xl(Vx,n),h=c.value===r,[p,m]=k.useState(o??""),[b,_]=k.useState(!1),E=Kn(e,M=>{var P;return(P=f.itemRefCallback)==null?void 0:P.call(f,M,r,s)}),T=Ps(),C=k.useRef("touch"),D=()=>{s||(c.onValueChange(r),c.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return Me.jsx(cX,{scope:n,value:r,disabled:s,textId:T,isSelected:h,onItemTextChange:k.useCallback(M=>{m(P=>P||((M==null?void 0:M.textContent)??"").trim())},[]),children:Me.jsx(Ky.ItemSlot,{scope:n,value:r,disabled:s,textValue:p,children:Me.jsx(Mt.div,{role:"option","aria-labelledby":T,"data-highlighted":b?"":void 0,"aria-selected":h&&b,"data-state":h?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...l,ref:E,onFocus:Bt(l.onFocus,()=>_(!0)),onBlur:Bt(l.onBlur,()=>_(!1)),onClick:Bt(l.onClick,()=>{C.current!=="mouse"&&D()}),onPointerUp:Bt(l.onPointerUp,()=>{C.current==="mouse"&&D()}),onPointerDown:Bt(l.onPointerDown,M=>{C.current=M.pointerType}),onPointerMove:Bt(l.onPointerMove,M=>{var P;C.current=M.pointerType,s?(P=f.onItemLeave)==null||P.call(f):C.current==="mouse"&&M.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Bt(l.onPointerLeave,M=>{var P;M.currentTarget===document.activeElement&&((P=f.onItemLeave)==null||P.call(f))}),onKeyDown:Bt(l.onKeyDown,M=>{var U;((U=f.searchRef)==null?void 0:U.current)!==""&&M.key===" "||(Yq.includes(M.key)&&D(),M.key===" "&&M.preventDefault())})})})})});$U.displayName=Vx;var Sp="SelectItemText",HU=k.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...o}=t,l=ql(Sp,n),c=Xl(Sp,n),f=zU(Sp,n),h=Qq(Sp,n),[p,m]=k.useState(null),b=Kn(e,D=>m(D),f.onItemTextChange,D=>{var M;return(M=c.itemTextRefCallback)==null?void 0:M.call(c,D,f.value,f.disabled)}),_=p==null?void 0:p.textContent,E=k.useMemo(()=>Me.jsx("option",{value:f.value,disabled:f.disabled,children:_},f.value),[f.disabled,f.value,_]),{onNativeOptionAdd:T,onNativeOptionRemove:C}=h;return ns(()=>(T(E),()=>C(E)),[T,C,E]),Me.jsxs(Me.Fragment,{children:[Me.jsx(Mt.span,{id:f.textId,...o,ref:b}),f.isSelected&&l.valueNode&&!l.valueNodeHasChildren?kd.createPortal(o.children,l.valueNode):null]})});HU.displayName=Sp;var WU="SelectItemIndicator",qU=k.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return zU(WU,n).isSelected?Me.jsx(Mt.span,{"aria-hidden":!0,...r,ref:e}):null});qU.displayName=WU;var QN="SelectScrollUpButton",uX=k.forwardRef((t,e)=>{const n=Xl(QN,t.__scopeSelect),r=OE(QN,t.__scopeSelect),[s,o]=k.useState(!1),l=Kn(e,r.onScrollButtonChange);return ns(()=>{if(n.viewport&&n.isPositioned){let c=function(){const h=f.scrollTop>0;o(h)};const f=n.viewport;return c(),f.addEventListener("scroll",c),()=>f.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),s?Me.jsx(XU,{...t,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:f}=n;c&&f&&(c.scrollTop=c.scrollTop-f.offsetHeight)}}):null});uX.displayName=QN;var JN="SelectScrollDownButton",fX=k.forwardRef((t,e)=>{const n=Xl(JN,t.__scopeSelect),r=OE(JN,t.__scopeSelect),[s,o]=k.useState(!1),l=Kn(e,r.onScrollButtonChange);return ns(()=>{if(n.viewport&&n.isPositioned){let c=function(){const h=f.scrollHeight-f.clientHeight,p=Math.ceil(f.scrollTop)<h;o(p)};const f=n.viewport;return c(),f.addEventListener("scroll",c),()=>f.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),s?Me.jsx(XU,{...t,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:f}=n;c&&f&&(c.scrollTop=c.scrollTop+f.offsetHeight)}}):null});fX.displayName=JN;var XU=k.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,o=Xl("SelectScrollButton",n),l=k.useRef(null),c=Zy(n),f=k.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return k.useEffect(()=>()=>f(),[f]),ns(()=>{var p;const h=c().find(m=>m.ref.current===document.activeElement);(p=h==null?void 0:h.ref.current)==null||p.scrollIntoView({block:"nearest"})},[c]),Me.jsx(Mt.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:Bt(s.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(r,50))}),onPointerMove:Bt(s.onPointerMove,()=>{var h;(h=o.onItemLeave)==null||h.call(o),l.current===null&&(l.current=window.setInterval(r,50))}),onPointerLeave:Bt(s.onPointerLeave,()=>{f()})})}),dX="SelectSeparator",YU=k.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return Me.jsx(Mt.div,{"aria-hidden":!0,...r,ref:e})});YU.displayName=dX;var eS="SelectArrow",hX=k.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Gy(n),o=ql(eS,n),l=Xl(eS,n);return o.open&&l.position==="popper"?Me.jsx(xU,{...s,...r,ref:e}):null});hX.displayName=eS;var pX="SelectBubbleInput",KU=k.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=k.useRef(null),o=Kn(r,s),l=aq(e);return k.useEffect(()=>{const c=s.current;if(!c)return;const f=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(f,"value").set;if(l!==e&&p){const m=new Event("change",{bubbles:!0});p.call(c,e),c.dispatchEvent(m)}},[l,e]),Me.jsx(Mt.select,{...n,style:{...LI,...n.style},ref:o,defaultValue:e})});KU.displayName=pX;function ZU(t){return t===""||t===void 0}function GU(t){const e=Mi(t),n=k.useRef(""),r=k.useRef(0),s=k.useCallback(l=>{const c=n.current+l;e(c),function f(h){n.current=h,window.clearTimeout(r.current),h!==""&&(r.current=window.setTimeout(()=>f(""),1e3))}(c)},[e]),o=k.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return k.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,o]}function QU(t,e,n){const s=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let l=mX(t,Math.max(o,0));s.length===1&&(l=l.filter(h=>h!==n));const f=l.find(h=>h.textValue.toLowerCase().startsWith(s.toLowerCase()));return f!==n?f:void 0}function mX(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var gX=AU,JU=RU,bX=PU,xX=DU,yX=MU,e4=jU,vX=VU,t4=LU,n4=$U,_X=HU,wX=qU,r4=YU;const wa=gX,yl=bX,Mo=k.forwardRef(({className:t,children:e,...n},r)=>x.jsxDEV(JU,{ref:r,className:Wt("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...n,children:[e,x.jsxDEV(xX,{asChild:!0,children:x.jsxDEV(bm,{className:"h-4 w-4 opacity-50"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/select.tsx",lineNumber:26,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/select.tsx",lineNumber:25,columnNumber:5},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/select.tsx",lineNumber:16,columnNumber:3},void 0));Mo.displayName=JU.displayName;const jo=k.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>x.jsxDEV(yX,{children:x.jsxDEV(e4,{ref:s,className:Wt("relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:x.jsxDEV(vX,{className:Wt("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/select.tsx",lineNumber:48,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/select.tsx",lineNumber:37,columnNumber:5},void 0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/select.tsx",lineNumber:36,columnNumber:3},void 0));jo.displayName=e4.displayName;const NX=k.forwardRef(({className:t,...e},n)=>x.jsxDEV(t4,{ref:n,className:Wt("py-1.5 pl-8 pr-2 text-sm font-thin",t),...e},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/select.tsx",lineNumber:66,columnNumber:3},void 0));NX.displayName=t4.displayName;const wr=k.forwardRef(({className:t,children:e,...n},r)=>x.jsxDEV(n4,{ref:r,className:Wt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[x.jsxDEV("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:x.jsxDEV(wX,{children:x.jsxDEV(fO,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/select.tsx",lineNumber:88,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/select.tsx",lineNumber:87,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/select.tsx",lineNumber:86,columnNumber:5},void 0),x.jsxDEV(_X,{children:e},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/select.tsx",lineNumber:92,columnNumber:5},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/select.tsx",lineNumber:78,columnNumber:3},void 0));wr.displayName=n4.displayName;const SX=k.forwardRef(({className:t,...e},n)=>x.jsxDEV(r4,{ref:n,className:Wt("-mx-1 my-1 h-px bg-muted",t),...e},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/select.tsx",lineNumber:101,columnNumber:3},void 0));SX.displayName=r4.displayName;const Qy=k.createContext(null);Qy.displayName="PanelGroupContext";const mr={group:"data-panel-group",groupDirection:"data-panel-group-direction",groupId:"data-panel-group-id",panel:"data-panel",panelCollapsible:"data-panel-collapsible",panelId:"data-panel-id",panelSize:"data-panel-size",resizeHandle:"data-resize-handle",resizeHandleActive:"data-resize-handle-active",resizeHandleEnabled:"data-panel-resize-handle-enabled",resizeHandleId:"data-panel-resize-handle-id",resizeHandleState:"data-resize-handle-state"},UE=10,Yc=k.useLayoutEffect,zD=lE.useId,EX=typeof zD=="function"?zD:()=>null;let TX=0;function VE(t=null){const e=EX(),n=k.useRef(t||e||null);return n.current===null&&(n.current=""+TX++),t??n.current}function s4({children:t,className:e="",collapsedSize:n,collapsible:r,defaultSize:s,forwardedRef:o,id:l,maxSize:c,minSize:f,onCollapse:h,onExpand:p,onResize:m,order:b,style:_,tagName:E="div",...T}){const C=k.useContext(Qy);if(C===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:D,expandPanel:M,getPanelSize:P,getPanelStyle:U,groupId:L,isPanelCollapsed:O,reevaluatePanelConstraints:Y,registerPanel:ne,resizePanel:G,unregisterPanel:K}=C,Q=VE(l),de=k.useRef({callbacks:{onCollapse:h,onExpand:p,onResize:m},constraints:{collapsedSize:n,collapsible:r,defaultSize:s,maxSize:c,minSize:f},id:Q,idIsFromProps:l!==void 0,order:b});k.useRef({didLogMissingDefaultSizeWarning:!1}).current.didLogMissingDefaultSizeWarning,Yc(()=>{const{callbacks:ye,constraints:ge}=de.current,je={...ge};de.current.id=Q,de.current.idIsFromProps=l!==void 0,de.current.order=b,ye.onCollapse=h,ye.onExpand=p,ye.onResize=m,ge.collapsedSize=n,ge.collapsible=r,ge.defaultSize=s,ge.maxSize=c,ge.minSize=f,(je.collapsedSize!==ge.collapsedSize||je.collapsible!==ge.collapsible||je.maxSize!==ge.maxSize||je.minSize!==ge.minSize)&&Y(de.current,je)}),Yc(()=>{const ye=de.current;return ne(ye),()=>{K(ye)}},[b,Q,ne,K]),k.useImperativeHandle(o,()=>({collapse:()=>{D(de.current)},expand:ye=>{M(de.current,ye)},getId(){return Q},getSize(){return P(de.current)},isCollapsed(){return O(de.current)},isExpanded(){return!O(de.current)},resize:ye=>{G(de.current,ye)}}),[D,M,P,O,Q,G]);const le=U(de.current,s);return k.createElement(E,{...T,children:t,className:e,id:Q,style:{...le,..._},[mr.groupId]:L,[mr.panel]:"",[mr.panelCollapsible]:r||void 0,[mr.panelId]:Q,[mr.panelSize]:parseFloat(""+le.flexGrow).toFixed(1)})}const i4=k.forwardRef((t,e)=>k.createElement(s4,{...t,forwardedRef:e}));s4.displayName="Panel";i4.displayName="forwardRef(Panel)";let tS=null,gx=-1,vl=null;function AX(t,e){if(e){const n=(e&u4)!==0,r=(e&f4)!==0,s=(e&d4)!==0,o=(e&h4)!==0;if(n)return s?"se-resize":o?"ne-resize":"e-resize";if(r)return s?"sw-resize":o?"nw-resize":"w-resize";if(s)return"s-resize";if(o)return"n-resize"}switch(t){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function CX(){vl!==null&&(document.head.removeChild(vl),tS=null,vl=null,gx=-1)}function o1(t,e){var n,r;const s=AX(t,e);if(tS!==s){if(tS=s,vl===null&&(vl=document.createElement("style"),document.head.appendChild(vl)),gx>=0){var o;(o=vl.sheet)===null||o===void 0||o.removeRule(gx)}gx=(n=(r=vl.sheet)===null||r===void 0?void 0:r.insertRule(`*{cursor: ${s} !important;}`))!==null&&n!==void 0?n:-1}}function o4(t){return t.type==="keydown"}function a4(t){return t.type.startsWith("pointer")}function l4(t){return t.type.startsWith("mouse")}function Jy(t){if(a4(t)){if(t.isPrimary)return{x:t.clientX,y:t.clientY}}else if(l4(t))return{x:t.clientX,y:t.clientY};return{x:1/0,y:1/0}}function RX(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function kX(t,e,n){return t.x<e.x+e.width&&t.x+t.width>e.x&&t.y<e.y+e.height&&t.y+t.height>e.y}function PX(t,e){if(t===e)throw new Error("Cannot compare node with itself");const n={a:WD(t),b:WD(e)};let r;for(;n.a.at(-1)===n.b.at(-1);)t=n.a.pop(),e=n.b.pop(),r=t;en(r,"Stacking order can only be calculated for elements with a common ancestor");const s={a:HD($D(n.a)),b:HD($D(n.b))};if(s.a===s.b){const o=r.childNodes,l={a:n.a.at(-1),b:n.b.at(-1)};let c=o.length;for(;c--;){const f=o[c];if(f===l.a)return 1;if(f===l.b)return-1}}return Math.sign(s.a-s.b)}const DX=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function MX(t){var e;const n=getComputedStyle((e=c4(t))!==null&&e!==void 0?e:t).display;return n==="flex"||n==="inline-flex"}function jX(t){const e=getComputedStyle(t);return!!(e.position==="fixed"||e.zIndex!=="auto"&&(e.position!=="static"||MX(t))||+e.opacity<1||"transform"in e&&e.transform!=="none"||"webkitTransform"in e&&e.webkitTransform!=="none"||"mixBlendMode"in e&&e.mixBlendMode!=="normal"||"filter"in e&&e.filter!=="none"||"webkitFilter"in e&&e.webkitFilter!=="none"||"isolation"in e&&e.isolation==="isolate"||DX.test(e.willChange)||e.webkitOverflowScrolling==="touch")}function $D(t){let e=t.length;for(;e--;){const n=t[e];if(en(n,"Missing node"),jX(n))return n}return null}function HD(t){return t&&Number(getComputedStyle(t).zIndex)||0}function WD(t){const e=[];for(;t;)e.push(t),t=c4(t);return e}function c4(t){const{parentNode:e}=t;return e&&e instanceof ShadowRoot?e.host:e}const u4=1,f4=2,d4=4,h4=8,IX=RX()==="coarse";let eo=[],Gf=!1,_l=new Map,ev=new Map;const Qp=new Set;function OX(t,e,n,r,s){var o;const{ownerDocument:l}=e,c={direction:n,element:e,hitAreaMargins:r,setResizeHandlerState:s},f=(o=_l.get(l))!==null&&o!==void 0?o:0;return _l.set(l,f+1),Qp.add(c),Fx(),function(){var p;ev.delete(t),Qp.delete(c);const m=(p=_l.get(l))!==null&&p!==void 0?p:1;if(_l.set(l,m-1),Fx(),m===1&&_l.delete(l),eo.includes(c)){const b=eo.indexOf(c);b>=0&&eo.splice(b,1),BE(),s("up",!0,null)}}}function UX(t){const{target:e}=t,{x:n,y:r}=Jy(t);Gf=!0,FE({target:e,x:n,y:r}),Fx(),eo.length>0&&(Bx("down",t),t.preventDefault(),p4(e)||t.stopImmediatePropagation())}function a1(t){const{x:e,y:n}=Jy(t);if(Gf&&t.buttons===0&&(Gf=!1,Bx("up",t)),!Gf){const{target:r}=t;FE({target:r,x:e,y:n})}Bx("move",t),BE(),eo.length>0&&t.preventDefault()}function l1(t){const{target:e}=t,{x:n,y:r}=Jy(t);ev.clear(),Gf=!1,eo.length>0&&(t.preventDefault(),p4(e)||t.stopImmediatePropagation()),Bx("up",t),FE({target:e,x:n,y:r}),BE(),Fx()}function p4(t){let e=t;for(;e;){if(e.hasAttribute(mr.resizeHandle))return!0;e=e.parentElement}return!1}function FE({target:t,x:e,y:n}){eo.splice(0);let r=null;(t instanceof HTMLElement||t instanceof SVGElement)&&(r=t),Qp.forEach(s=>{const{element:o,hitAreaMargins:l}=s,c=o.getBoundingClientRect(),{bottom:f,left:h,right:p,top:m}=c,b=IX?l.coarse:l.fine;if(e>=h-b&&e<=p+b&&n>=m-b&&n<=f+b){if(r!==null&&document.contains(r)&&o!==r&&!o.contains(r)&&!r.contains(o)&&PX(r,o)>0){let E=r,T=!1;for(;E&&!E.contains(o);){if(kX(E.getBoundingClientRect(),c)){T=!0;break}E=E.parentElement}if(T)return}eo.push(s)}})}function c1(t,e){ev.set(t,e)}function BE(){let t=!1,e=!1;eo.forEach(r=>{const{direction:s}=r;s==="horizontal"?t=!0:e=!0});let n=0;ev.forEach(r=>{n|=r}),t&&e?o1("intersection",n):t?o1("horizontal",n):e?o1("vertical",n):CX()}let u1;function Fx(){var t;(t=u1)===null||t===void 0||t.abort(),u1=new AbortController;const e={capture:!0,signal:u1.signal};Qp.size&&(Gf?(eo.length>0&&_l.forEach((n,r)=>{const{body:s}=r;n>0&&(s.addEventListener("contextmenu",l1,e),s.addEventListener("pointerleave",a1,e),s.addEventListener("pointermove",a1,e))}),_l.forEach((n,r)=>{const{body:s}=r;s.addEventListener("pointerup",l1,e),s.addEventListener("pointercancel",l1,e)})):_l.forEach((n,r)=>{const{body:s}=r;n>0&&(s.addEventListener("pointerdown",UX,e),s.addEventListener("pointermove",a1,e))}))}function Bx(t,e){Qp.forEach(n=>{const{setResizeHandlerState:r}=n,s=eo.includes(n);r(t,s,e)})}function VX(){const[t,e]=k.useState(0);return k.useCallback(()=>e(n=>n+1),[])}function en(t,e){if(!t)throw console.error(e),Error(e)}function cu(t,e,n=UE){return t.toFixed(n)===e.toFixed(n)?0:t>e?1:-1}function Na(t,e,n=UE){return cu(t,e,n)===0}function si(t,e,n){return cu(t,e,n)===0}function FX(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){const s=t[r],o=e[r];if(!si(s,o,n))return!1}return!0}function zf({panelConstraints:t,panelIndex:e,size:n}){const r=t[e];en(r!=null,`Panel constraints not found for index ${e}`);let{collapsedSize:s=0,collapsible:o,maxSize:l=100,minSize:c=0}=r;if(cu(n,c)<0)if(o){const f=(s+c)/2;cu(n,f)<0?n=s:n=c}else n=c;return n=Math.min(l,n),n=parseFloat(n.toFixed(UE)),n}function Ep({delta:t,initialLayout:e,panelConstraints:n,pivotIndices:r,prevLayout:s,trigger:o}){if(si(t,0))return e;const l=[...e],[c,f]=r;en(c!=null,"Invalid first pivot index"),en(f!=null,"Invalid second pivot index");let h=0;if(o==="keyboard"){{const m=t<0?f:c,b=n[m];en(b,`Panel constraints not found for index ${m}`);const{collapsedSize:_=0,collapsible:E,minSize:T=0}=b;if(E){const C=e[m];if(en(C!=null,`Previous layout not found for panel index ${m}`),si(C,_)){const D=T-C;cu(D,Math.abs(t))>0&&(t=t<0?0-D:D)}}}{const m=t<0?c:f,b=n[m];en(b,`No panel constraints found for index ${m}`);const{collapsedSize:_=0,collapsible:E,minSize:T=0}=b;if(E){const C=e[m];if(en(C!=null,`Previous layout not found for panel index ${m}`),si(C,T)){const D=C-_;cu(D,Math.abs(t))>0&&(t=t<0?0-D:D)}}}}{const m=t<0?1:-1;let b=t<0?f:c,_=0;for(;;){const T=e[b];en(T!=null,`Previous layout not found for panel index ${b}`);const D=zf({panelConstraints:n,panelIndex:b,size:100})-T;if(_+=D,b+=m,b<0||b>=n.length)break}const E=Math.min(Math.abs(t),Math.abs(_));t=t<0?0-E:E}{let b=t<0?c:f;for(;b>=0&&b<n.length;){const _=Math.abs(t)-Math.abs(h),E=e[b];en(E!=null,`Previous layout not found for panel index ${b}`);const T=E-_,C=zf({panelConstraints:n,panelIndex:b,size:T});if(!si(E,C)&&(h+=E-C,l[b]=C,h.toPrecision(3).localeCompare(Math.abs(t).toPrecision(3),void 0,{numeric:!0})>=0))break;t<0?b--:b++}}if(FX(s,l))return s;{const m=t<0?f:c,b=e[m];en(b!=null,`Previous layout not found for panel index ${m}`);const _=b+h,E=zf({panelConstraints:n,panelIndex:m,size:_});if(l[m]=E,!si(E,_)){let T=_-E,D=t<0?f:c;for(;D>=0&&D<n.length;){const M=l[D];en(M!=null,`Previous layout not found for panel index ${D}`);const P=M+T,U=zf({panelConstraints:n,panelIndex:D,size:P});if(si(M,U)||(T-=U-M,l[D]=U),si(T,0))break;t>0?D--:D++}}}const p=l.reduce((m,b)=>b+m,0);return si(p,100)?l:s}function BX({layout:t,panelsArray:e,pivotIndices:n}){let r=0,s=100,o=0,l=0;const c=n[0];en(c!=null,"No pivot index found"),e.forEach((m,b)=>{const{constraints:_}=m,{maxSize:E=100,minSize:T=0}=_;b===c?(r=T,s=E):(o+=T,l+=E)});const f=Math.min(s,100-o),h=Math.max(r,100-l),p=t[c];return{valueMax:f,valueMin:h,valueNow:p}}function Jp(t,e=document){return Array.from(e.querySelectorAll(`[${mr.resizeHandleId}][data-panel-group-id="${t}"]`))}function m4(t,e,n=document){const s=Jp(t,n).findIndex(o=>o.getAttribute(mr.resizeHandleId)===e);return s??null}function g4(t,e,n){const r=m4(t,e,n);return r!=null?[r,r+1]:[-1,-1]}function LX(t){return t instanceof HTMLElement?!0:typeof t=="object"&&t!==null&&"tagName"in t&&"getAttribute"in t}function b4(t,e=document){if(LX(e)&&e.dataset.panelGroupId==t)return e;const n=e.querySelector(`[data-panel-group][data-panel-group-id="${t}"]`);return n||null}function tv(t,e=document){const n=e.querySelector(`[${mr.resizeHandleId}="${t}"]`);return n||null}function zX(t,e,n,r=document){var s,o,l,c;const f=tv(e,r),h=Jp(t,r),p=f?h.indexOf(f):-1,m=(s=(o=n[p])===null||o===void 0?void 0:o.id)!==null&&s!==void 0?s:null,b=(l=(c=n[p+1])===null||c===void 0?void 0:c.id)!==null&&l!==void 0?l:null;return[m,b]}function $X({committedValuesRef:t,eagerValuesRef:e,groupId:n,layout:r,panelDataArray:s,panelGroupElement:o,setLayout:l}){const c=k.useRef({didWarnAboutMissingResizeHandle:!1});Yc(()=>{if(!o)return;const f=Jp(n,o);for(let h=0;h<s.length-1;h++){const{valueMax:p,valueMin:m,valueNow:b}=BX({layout:r,panelsArray:s,pivotIndices:[h,h+1]}),_=f[h];if(_==null){const{didWarnAboutMissingResizeHandle:E}=c.current;E||(c.current.didWarnAboutMissingResizeHandle=!0,console.warn(`WARNING: Missing resize handle for PanelGroup "${n}"`))}else{const E=s[h];en(E,`No panel data found for index "${h}"`),_.setAttribute("aria-controls",E.id),_.setAttribute("aria-valuemax",""+Math.round(p)),_.setAttribute("aria-valuemin",""+Math.round(m)),_.setAttribute("aria-valuenow",b!=null?""+Math.round(b):"")}}return()=>{f.forEach((h,p)=>{h.removeAttribute("aria-controls"),h.removeAttribute("aria-valuemax"),h.removeAttribute("aria-valuemin"),h.removeAttribute("aria-valuenow")})}},[n,r,s,o]),k.useEffect(()=>{if(!o)return;const f=e.current;en(f,"Eager values not found");const{panelDataArray:h}=f,p=b4(n,o);en(p!=null,`No group found for id "${n}"`);const m=Jp(n,o);en(m,`No resize handles found for group id "${n}"`);const b=m.map(_=>{const E=_.getAttribute(mr.resizeHandleId);en(E,"Resize handle element has no handle id attribute");const[T,C]=zX(n,E,h,o);if(T==null||C==null)return()=>{};const D=M=>{if(!M.defaultPrevented)switch(M.key){case"Enter":{M.preventDefault();const P=h.findIndex(U=>U.id===T);if(P>=0){const U=h[P];en(U,`No panel data found for index ${P}`);const L=r[P],{collapsedSize:O=0,collapsible:Y,minSize:ne=0}=U.constraints;if(L!=null&&Y){const G=Ep({delta:si(L,O)?ne-O:O-L,initialLayout:r,panelConstraints:h.map(K=>K.constraints),pivotIndices:g4(n,E,o),prevLayout:r,trigger:"keyboard"});r!==G&&l(G)}}break}}};return _.addEventListener("keydown",D),()=>{_.removeEventListener("keydown",D)}});return()=>{b.forEach(_=>_())}},[o,t,e,n,r,s,l])}function f1(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function x4(t,e){const n=t==="horizontal",{x:r,y:s}=Jy(e);return n?r:s}function HX(t,e,n,r,s){const o=n==="horizontal",l=tv(e,s);en(l,`No resize handle element found for id "${e}"`);const c=l.getAttribute(mr.groupId);en(c,"Resize handle element has no group id attribute");let{initialCursorPosition:f}=r;const h=x4(n,t),p=b4(c,s);en(p,`No group element found for id "${c}"`);const m=p.getBoundingClientRect(),b=o?m.width:m.height;return(h-f)/b*100}function WX(t,e,n,r,s,o){if(o4(t)){const l=n==="horizontal";let c=0;t.shiftKey?c=100:s!=null?c=s:c=10;let f=0;switch(t.key){case"ArrowDown":f=l?0:c;break;case"ArrowLeft":f=l?-c:0;break;case"ArrowRight":f=l?c:0;break;case"ArrowUp":f=l?0:-c;break;case"End":f=100;break;case"Home":f=-100;break}return f}else return r==null?0:HX(t,e,n,r,o)}function qX({panelDataArray:t}){const e=Array(t.length),n=t.map(o=>o.constraints);let r=0,s=100;for(let o=0;o<t.length;o++){const l=n[o];en(l,`Panel constraints not found for index ${o}`);const{defaultSize:c}=l;c!=null&&(r++,e[o]=c,s-=c)}for(let o=0;o<t.length;o++){const l=n[o];en(l,`Panel constraints not found for index ${o}`);const{defaultSize:c}=l;if(c!=null)continue;const f=t.length-r,h=s/f;r++,e[o]=h,s-=h}return e}function Sf(t,e,n){e.forEach((r,s)=>{const o=t[s];en(o,`Panel data not found for index ${s}`);const{callbacks:l,constraints:c,id:f}=o,{collapsedSize:h=0,collapsible:p}=c,m=n[f];if(m==null||r!==m){n[f]=r;const{onCollapse:b,onExpand:_,onResize:E}=l;E&&E(r,m),p&&(b||_)&&(_&&(m==null||Na(m,h))&&!Na(r,h)&&_(),b&&(m==null||!Na(m,h))&&Na(r,h)&&b())}})}function zb(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n])return!1;return!0}function XX({defaultSize:t,dragState:e,layout:n,panelData:r,panelIndex:s,precision:o=3}){const l=n[s];let c;return l==null?c=t!=null?t.toPrecision(o):"1":r.length===1?c="1":c=l.toPrecision(o),{flexBasis:0,flexGrow:c,flexShrink:1,overflow:"hidden",pointerEvents:e!==null?"none":void 0}}function YX(t,e=10){let n=null;return(...s)=>{n!==null&&clearTimeout(n),n=setTimeout(()=>{t(...s)},e)}}function qD(t){try{if(typeof localStorage<"u")t.getItem=e=>localStorage.getItem(e),t.setItem=(e,n)=>{localStorage.setItem(e,n)};else throw new Error("localStorage not supported in this environment")}catch(e){console.error(e),t.getItem=()=>null,t.setItem=()=>{}}}function y4(t){return`react-resizable-panels:${t}`}function v4(t){return t.map(e=>{const{constraints:n,id:r,idIsFromProps:s,order:o}=e;return s?r:o?`${o}:${JSON.stringify(n)}`:JSON.stringify(n)}).sort((e,n)=>e.localeCompare(n)).join(",")}function _4(t,e){try{const n=y4(t),r=e.getItem(n);if(r){const s=JSON.parse(r);if(typeof s=="object"&&s!=null)return s}}catch{}return null}function KX(t,e,n){var r,s;const o=(r=_4(t,n))!==null&&r!==void 0?r:{},l=v4(e);return(s=o[l])!==null&&s!==void 0?s:null}function ZX(t,e,n,r,s){var o;const l=y4(t),c=v4(e),f=(o=_4(t,s))!==null&&o!==void 0?o:{};f[c]={expandToSizes:Object.fromEntries(n.entries()),layout:r};try{s.setItem(l,JSON.stringify(f))}catch(h){console.error(h)}}function GX({panelConstraints:t,panelId:e,panelIndex:n}){{const r=[],s=t[n];en(s,`No panel constraints found for index ${n}`);const{collapsedSize:o=0,collapsible:l=!1,defaultSize:c,maxSize:f=100,minSize:h=0}=s;if(h>f&&r.push(`min size (${h}%) should not be greater than max size (${f}%)`),c!=null&&(c<0?r.push("default size should not be less than 0"):c<h&&(!l||c!==o)&&r.push("default size should not be less than min size"),c>100?r.push("default size should not be greater than 100"):c>f&&r.push("default size should not be greater than max size")),o>h&&r.push("collapsed size should not be greater than min size"),r.length>0){const p=e!=null?`Panel "${e}"`:"Panel";return console.warn(`${p} has an invalid configuration:

${r.join(`
`)}`),!1}}return!0}function XD({layout:t,panelConstraints:e}){const n=[...t],r=n.reduce((o,l)=>o+l,0);if(n.length!==e.length)throw Error(`Invalid ${e.length} panel layout: ${n.map(o=>`${o}%`).join(", ")}`);if(!si(r,100)&&n.length>0){console.warn(`WARNING: Invalid layout total size: ${n.map(o=>`${o}%`).join(", ")}. Layout normalization will be applied.`);for(let o=0;o<e.length;o++){const l=n[o];en(l!=null,`No layout data found for index ${o}`);const c=100/r*l;n[o]=c}}let s=0;for(let o=0;o<e.length;o++){const l=n[o];en(l!=null,`No layout data found for index ${o}`);const c=zf({panelConstraints:e,panelIndex:o,size:l});l!=c&&(s+=l-c,n[o]=c)}if(!si(s,0))for(let o=0;o<e.length;o++){const l=n[o];en(l!=null,`No layout data found for index ${o}`);const c=l+s,f=zf({panelConstraints:e,panelIndex:o,size:c});if(l!==f&&(s-=f-l,n[o]=f,si(s,0)))break}return n}const QX=100,Tp={getItem:t=>(qD(Tp),Tp.getItem(t)),setItem:(t,e)=>{qD(Tp),Tp.setItem(t,e)}},YD={};function w4({autoSaveId:t=null,children:e,className:n="",direction:r,forwardedRef:s,id:o=null,onLayout:l=null,keyboardResizeBy:c=null,storage:f=Tp,style:h,tagName:p="div",...m}){const b=VE(o),_=k.useRef(null),[E,T]=k.useState(null),[C,D]=k.useState([]),M=VX(),P=k.useRef({}),U=k.useRef(new Map),L=k.useRef(0),O=k.useRef({autoSaveId:t,direction:r,dragState:E,id:b,keyboardResizeBy:c,onLayout:l,storage:f}),Y=k.useRef({layout:C,panelDataArray:[],panelDataArrayChanged:!1}),ne=k.useRef({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]});k.useImperativeHandle(s,()=>({getId:()=>O.current.id,getLayout:()=>{const{layout:ce}=Y.current;return ce},setLayout:ce=>{const{onLayout:Z}=O.current,{layout:xe,panelDataArray:he}=Y.current,oe=XD({layout:ce,panelConstraints:he.map(Pe=>Pe.constraints)});f1(xe,oe)||(D(oe),Y.current.layout=oe,Z&&Z(oe),Sf(he,oe,P.current))}}),[]),Yc(()=>{O.current.autoSaveId=t,O.current.direction=r,O.current.dragState=E,O.current.id=b,O.current.onLayout=l,O.current.storage=f}),$X({committedValuesRef:O,eagerValuesRef:Y,groupId:b,layout:C,panelDataArray:Y.current.panelDataArray,setLayout:D,panelGroupElement:_.current}),k.useEffect(()=>{const{panelDataArray:ce}=Y.current;if(t){if(C.length===0||C.length!==ce.length)return;let Z=YD[t];Z==null&&(Z=YX(ZX,QX),YD[t]=Z);const xe=[...ce],he=new Map(U.current);Z(t,xe,he,C,f)}},[t,C,f]),k.useEffect(()=>{{const{panelDataArray:ce}=Y.current,{didLogIdAndOrderWarning:Z,didLogPanelConstraintsWarning:xe,prevPanelIds:he}=ne.current;if(!Z){const oe=ce.map(({id:qe})=>qe);ne.current.prevPanelIds=oe,he.length>0&&!f1(he,oe)&&ce.find(({idIsFromProps:qe,order:Ye})=>!qe||Ye==null)&&(ne.current.didLogIdAndOrderWarning=!0,console.warn("WARNING: Panel id and order props recommended when panels are dynamically rendered"))}if(!xe){const oe=ce.map(Pe=>Pe.constraints);for(let Pe=0;Pe<oe.length;Pe++){const qe=ce[Pe];if(en(qe,`Panel data not found for index ${Pe}`),!GX({panelConstraints:oe,panelId:qe.id,panelIndex:Pe})){ne.current.didLogPanelConstraintsWarning=!0;break}}}}});const G=k.useCallback(ce=>{const{onLayout:Z}=O.current,{layout:xe,panelDataArray:he}=Y.current;if(ce.constraints.collapsible){const oe=he.map(tt=>tt.constraints),{collapsedSize:Pe=0,panelSize:qe,pivotIndices:Ye}=Dc(he,ce,xe);if(en(qe!=null,`Panel size not found for panel "${ce.id}"`),!Na(qe,Pe)){U.current.set(ce.id,qe);const Ue=Of(he,ce)===he.length-1?qe-Pe:Pe-qe,nt=Ep({delta:Ue,initialLayout:xe,panelConstraints:oe,pivotIndices:Ye,prevLayout:xe,trigger:"imperative-api"});zb(xe,nt)||(D(nt),Y.current.layout=nt,Z&&Z(nt),Sf(he,nt,P.current))}}},[]),K=k.useCallback((ce,Z)=>{const{onLayout:xe}=O.current,{layout:he,panelDataArray:oe}=Y.current;if(ce.constraints.collapsible){const Pe=oe.map(lt=>lt.constraints),{collapsedSize:qe=0,panelSize:Ye=0,minSize:tt=0,pivotIndices:Ue}=Dc(oe,ce,he),nt=Z??tt;if(Na(Ye,qe)){const lt=U.current.get(ce.id),gt=lt!=null&&lt>=nt?lt:nt,Yt=Of(oe,ce)===oe.length-1?Ye-gt:gt-Ye,Ot=Ep({delta:Yt,initialLayout:he,panelConstraints:Pe,pivotIndices:Ue,prevLayout:he,trigger:"imperative-api"});zb(he,Ot)||(D(Ot),Y.current.layout=Ot,xe&&xe(Ot),Sf(oe,Ot,P.current))}}},[]),Q=k.useCallback(ce=>{const{layout:Z,panelDataArray:xe}=Y.current,{panelSize:he}=Dc(xe,ce,Z);return en(he!=null,`Panel size not found for panel "${ce.id}"`),he},[]),de=k.useCallback((ce,Z)=>{const{panelDataArray:xe}=Y.current,he=Of(xe,ce);return XX({defaultSize:Z,dragState:E,layout:C,panelData:xe,panelIndex:he})},[E,C]),pe=k.useCallback(ce=>{const{layout:Z,panelDataArray:xe}=Y.current,{collapsedSize:he=0,collapsible:oe,panelSize:Pe}=Dc(xe,ce,Z);return en(Pe!=null,`Panel size not found for panel "${ce.id}"`),oe===!0&&Na(Pe,he)},[]),le=k.useCallback(ce=>{const{layout:Z,panelDataArray:xe}=Y.current,{collapsedSize:he=0,collapsible:oe,panelSize:Pe}=Dc(xe,ce,Z);return en(Pe!=null,`Panel size not found for panel "${ce.id}"`),!oe||cu(Pe,he)>0},[]),ye=k.useCallback(ce=>{const{panelDataArray:Z}=Y.current;Z.push(ce),Z.sort((xe,he)=>{const oe=xe.order,Pe=he.order;return oe==null&&Pe==null?0:oe==null?-1:Pe==null?1:oe-Pe}),Y.current.panelDataArrayChanged=!0,M()},[M]);Yc(()=>{if(Y.current.panelDataArrayChanged){Y.current.panelDataArrayChanged=!1;const{autoSaveId:ce,onLayout:Z,storage:xe}=O.current,{layout:he,panelDataArray:oe}=Y.current;let Pe=null;if(ce){const Ye=KX(ce,oe,xe);Ye&&(U.current=new Map(Object.entries(Ye.expandToSizes)),Pe=Ye.layout)}Pe==null&&(Pe=qX({panelDataArray:oe}));const qe=XD({layout:Pe,panelConstraints:oe.map(Ye=>Ye.constraints)});f1(he,qe)||(D(qe),Y.current.layout=qe,Z&&Z(qe),Sf(oe,qe,P.current))}}),Yc(()=>{const ce=Y.current;return()=>{ce.layout=[]}},[]);const ge=k.useCallback(ce=>{let Z=!1;const xe=_.current;return xe&&window.getComputedStyle(xe,null).getPropertyValue("direction")==="rtl"&&(Z=!0),function(oe){oe.preventDefault();const Pe=_.current;if(!Pe)return()=>null;const{direction:qe,dragState:Ye,id:tt,keyboardResizeBy:Ue,onLayout:nt}=O.current,{layout:lt,panelDataArray:gt}=Y.current,{initialLayout:Lt}=Ye??{},Yt=g4(tt,ce,Pe);let Ot=WX(oe,ce,qe,Ye,Ue,Pe);const Pt=qe==="horizontal";Pt&&Z&&(Ot=-Ot);const ar=gt.map(ms=>ms.constraints),An=Ep({delta:Ot,initialLayout:Lt??lt,panelConstraints:ar,pivotIndices:Yt,prevLayout:lt,trigger:o4(oe)?"keyboard":"mouse-or-touch"}),Wr=!zb(lt,An);(a4(oe)||l4(oe))&&L.current!=Ot&&(L.current=Ot,!Wr&&Ot!==0?Pt?c1(ce,Ot<0?u4:f4):c1(ce,Ot<0?d4:h4):c1(ce,0)),Wr&&(D(An),Y.current.layout=An,nt&&nt(An),Sf(gt,An,P.current))}},[]),je=k.useCallback((ce,Z)=>{const{onLayout:xe}=O.current,{layout:he,panelDataArray:oe}=Y.current,Pe=oe.map(lt=>lt.constraints),{panelSize:qe,pivotIndices:Ye}=Dc(oe,ce,he);en(qe!=null,`Panel size not found for panel "${ce.id}"`);const Ue=Of(oe,ce)===oe.length-1?qe-Z:Z-qe,nt=Ep({delta:Ue,initialLayout:he,panelConstraints:Pe,pivotIndices:Ye,prevLayout:he,trigger:"imperative-api"});zb(he,nt)||(D(nt),Y.current.layout=nt,xe&&xe(nt),Sf(oe,nt,P.current))},[]),_e=k.useCallback((ce,Z)=>{const{layout:xe,panelDataArray:he}=Y.current,{collapsedSize:oe=0,collapsible:Pe}=Z,{collapsedSize:qe=0,collapsible:Ye,maxSize:tt=100,minSize:Ue=0}=ce.constraints,{panelSize:nt}=Dc(he,ce,xe);nt!=null&&(Pe&&Ye&&Na(nt,oe)?Na(oe,qe)||je(ce,qe):nt<Ue?je(ce,Ue):nt>tt&&je(ce,tt))},[je]),Ke=k.useCallback((ce,Z)=>{const{direction:xe}=O.current,{layout:he}=Y.current;if(!_.current)return;const oe=tv(ce,_.current);en(oe,`Drag handle element not found for id "${ce}"`);const Pe=x4(xe,Z);T({dragHandleId:ce,dragHandleRect:oe.getBoundingClientRect(),initialCursorPosition:Pe,initialLayout:he})},[]),V=k.useCallback(()=>{T(null)},[]),ue=k.useCallback(ce=>{const{panelDataArray:Z}=Y.current,xe=Of(Z,ce);xe>=0&&(Z.splice(xe,1),delete P.current[ce.id],Y.current.panelDataArrayChanged=!0,M())},[M]),se=k.useMemo(()=>({collapsePanel:G,direction:r,dragState:E,expandPanel:K,getPanelSize:Q,getPanelStyle:de,groupId:b,isPanelCollapsed:pe,isPanelExpanded:le,reevaluatePanelConstraints:_e,registerPanel:ye,registerResizeHandle:ge,resizePanel:je,startDragging:Ke,stopDragging:V,unregisterPanel:ue,panelGroupElement:_.current}),[G,E,r,K,Q,de,b,pe,le,_e,ye,ge,je,Ke,V,ue]),B={display:"flex",flexDirection:r==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return k.createElement(Qy.Provider,{value:se},k.createElement(p,{...m,children:e,className:n,id:o,ref:_,style:{...B,...h},[mr.group]:"",[mr.groupDirection]:r,[mr.groupId]:b}))}const N4=k.forwardRef((t,e)=>k.createElement(w4,{...t,forwardedRef:e}));w4.displayName="PanelGroup";N4.displayName="forwardRef(PanelGroup)";function Of(t,e){return t.findIndex(n=>n===e||n.id===e.id)}function Dc(t,e,n){const r=Of(t,e),o=r===t.length-1?[r-1,r]:[r,r+1],l=n[r];return{...e.constraints,panelSize:l,pivotIndices:o}}function JX({disabled:t,handleId:e,resizeHandler:n,panelGroupElement:r}){k.useEffect(()=>{if(t||n==null||r==null)return;const s=tv(e,r);if(s==null)return;const o=l=>{if(!l.defaultPrevented)switch(l.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{l.preventDefault(),n(l);break}case"F6":{l.preventDefault();const c=s.getAttribute(mr.groupId);en(c,`No group element found for id "${c}"`);const f=Jp(c,r),h=m4(c,e,r);en(h!==null,`No resize element found for id "${e}"`);const p=l.shiftKey?h>0?h-1:f.length-1:h+1<f.length?h+1:0;f[p].focus();break}}};return s.addEventListener("keydown",o),()=>{s.removeEventListener("keydown",o)}},[r,t,e,n])}function S4({children:t=null,className:e="",disabled:n=!1,hitAreaMargins:r,id:s,onBlur:o,onClick:l,onDragging:c,onFocus:f,onPointerDown:h,onPointerUp:p,style:m={},tabIndex:b=0,tagName:_="div",...E}){var T,C;const D=k.useRef(null),M=k.useRef({onClick:l,onDragging:c,onPointerDown:h,onPointerUp:p});k.useEffect(()=>{M.current.onClick=l,M.current.onDragging=c,M.current.onPointerDown=h,M.current.onPointerUp=p});const P=k.useContext(Qy);if(P===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:U,groupId:L,registerResizeHandle:O,startDragging:Y,stopDragging:ne,panelGroupElement:G}=P,K=VE(s),[Q,de]=k.useState("inactive"),[pe,le]=k.useState(!1),[ye,ge]=k.useState(null),je=k.useRef({state:Q});Yc(()=>{je.current.state=Q}),k.useEffect(()=>{if(n)ge(null);else{const ue=O(K);ge(()=>ue)}},[n,K,O]);const _e=(T=r==null?void 0:r.coarse)!==null&&T!==void 0?T:15,Ke=(C=r==null?void 0:r.fine)!==null&&C!==void 0?C:5;k.useEffect(()=>{if(n||ye==null)return;const ue=D.current;en(ue,"Element ref not attached");let se=!1;return OX(K,ue,U,{coarse:_e,fine:Ke},(ce,Z,xe)=>{if(!Z){de("inactive");return}switch(ce){case"down":{de("drag"),se=!1,en(xe,'Expected event to be defined for "down" action'),Y(K,xe);const{onDragging:he,onPointerDown:oe}=M.current;he==null||he(!0),oe==null||oe();break}case"move":{const{state:he}=je.current;se=!0,he!=="drag"&&de("hover"),en(xe,'Expected event to be defined for "move" action'),ye(xe);break}case"up":{de("hover"),ne();const{onClick:he,onDragging:oe,onPointerUp:Pe}=M.current;oe==null||oe(!1),Pe==null||Pe(),se||he==null||he();break}}})},[_e,U,n,Ke,O,K,ye,Y,ne]),JX({disabled:n,handleId:K,resizeHandler:ye,panelGroupElement:G});const V={touchAction:"none",userSelect:"none"};return k.createElement(_,{...E,children:t,className:e,id:s,onBlur:()=>{le(!1),o==null||o()},onFocus:()=>{le(!0),f==null||f()},ref:D,role:"separator",style:{...V,...m},tabIndex:b,[mr.groupDirection]:U,[mr.groupId]:L,[mr.resizeHandle]:"",[mr.resizeHandleActive]:Q==="drag"?"pointer":pe?"keyboard":void 0,[mr.resizeHandleEnabled]:!n,[mr.resizeHandleId]:K,[mr.resizeHandleState]:Q})}S4.displayName="PanelResizeHandle";function eY({className:t,...e}){return x.jsxDEV(N4,{"data-slot":"resizable-panel-group",className:Wt("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",t),...e},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/resizable.tsx",lineNumber:12,columnNumber:5},this)}function KD({...t}){return x.jsxDEV(i4,{"data-slot":"resizable-panel",...t},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/resizable.tsx",lineNumber:26,columnNumber:10},this)}function tY({withHandle:t,className:e,...n}){return x.jsxDEV(S4,{"data-slot":"resizable-handle",className:Wt("bg-border focus-visible:ring-ring relative flex w-px items-center justify-center after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:ring-1 focus-visible:ring-offset-1 focus-visible:outline-hidden data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:translate-x-0 data-[panel-group-direction=vertical]:after:-translate-y-1/2 [&[data-panel-group-direction=vertical]>div]:rotate-90",e),...n,children:t&&x.jsxDEV("div",{className:"bg-border z-10 flex h-4 w-3 items-center justify-center rounded-xs border",children:x.jsxDEV(A7,{className:"size-2.5"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/resizable.tsx",lineNumber:47,columnNumber:11},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/resizable.tsx",lineNumber:46,columnNumber:9},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/resizable.tsx",lineNumber:37,columnNumber:5},this)}const nY=({bundle:t,bundles:e,selectedBundleName:n,editingBundles:r,availableFiles:s,loadingButtons:o,toggleEditMode:l,removeFileFromBundle:c,addFileToBundle:f,addFilesToBundle:h,removeFilesFromBundle:p,getFileBundles:m,fileSizes:b,onBundleSelect:_})=>{const E=(e==null?void 0:e.find(Ue=>Ue.name===n))||t,[T,C]=k.useState(""),[D,M]=k.useState(-1),[P,U]=k.useState(!1),L=k.useRef(null),O=k.useRef(null),[Y,ne]=k.useState(""),[G,K]=k.useState(!1),[Q,de]=k.useState(-1),pe=k.useRef(null),le=k.useRef(null),[ye,ge]=k.useState(-1),[je,_e]=k.useState(-1),[Ke,V]=k.useState(-1),[ue,se]=k.useState(-1),[B,ce]=k.useState(!1),Z=T,xe=C,he=k.useMemo(()=>s.filter(Ue=>!E.files.includes(Ue)).filter(Ue=>Z===""||Ue.toLowerCase().includes(Z.toLowerCase())),[s,E.files,Z]),oe=k.useMemo(()=>E.files.filter(Ue=>Y===""||Ue.toLowerCase().includes(Y.toLowerCase())),[E.files,Y]);k.useEffect(()=>{P||M(-1)},[P]),k.useEffect(()=>{G||de(-1)},[G]),k.useEffect(()=>{if(D>=0&&O.current){const Ue=O.current.children[D];Ue&&Ue.scrollIntoView({behavior:"smooth",block:"nearest"})}},[D]),k.useEffect(()=>{if(Q>=0&&le.current){const Ue=le.current.children[Q];Ue&&Ue.scrollIntoView({behavior:"smooth",block:"nearest"})}},[Q]);const Pe=k.useCallback(Ue=>{var nt;if(P){if(Ue.key==="Escape"){Ue.preventDefault(),xe(""),M(-1),ge(-1),_e(-1),(nt=L.current)==null||nt.blur();return}if(he.length!==0){if(Ue.key==="ArrowDown")if(Ue.preventDefault(),Ue.shiftKey){ye===-1&&ge(D>=0?D:0);const lt=Math.min(D+1,he.length-1);M(lt),_e(lt)}else ge(-1),_e(-1),M(lt=>Math.min(lt+1,he.length-1));else if(Ue.key==="ArrowUp")if(Ue.preventDefault(),Ue.shiftKey){ye===-1&&ge(D>=0?D:0);const lt=Math.max(D-1,0);M(lt),_e(lt)}else ge(-1),_e(-1),D<=0?M(-1):M(lt=>lt-1);else if(Ue.key==="Enter"){if(Ue.preventDefault(),ye!==-1&&je!==-1){const lt=Math.min(ye,je),gt=Math.max(ye,je),Lt=[];for(let Yt=lt;Yt<=gt;Yt++)Yt<he.length&&Lt.push(he[Yt]);h(Lt,E.name),ge(-1),_e(-1),M(-1)}else if(D>=0&&D<he.length){const lt=he[D];f(lt,E.name),M(-1)}}}}},[P,he,D,ye,je,xe,h,f,E.name]),qe=k.useCallback(Ue=>{var nt;if(G){if(Ue.key==="Escape"){Ue.preventDefault(),ne(""),de(-1),V(-1),se(-1),(nt=pe.current)==null||nt.blur();return}if(oe.length!==0){if(Ue.key==="ArrowDown")if(Ue.preventDefault(),Ue.shiftKey){Ke===-1&&V(Q>=0?Q:0);const lt=Math.min(Q+1,oe.length-1);de(lt),se(lt)}else V(-1),se(-1),de(lt=>Math.min(lt+1,oe.length-1));else if(Ue.key==="ArrowUp")if(Ue.preventDefault(),Ue.shiftKey){Ke===-1&&V(Q>=0?Q:0);const lt=Math.max(Q-1,0);de(lt),se(lt)}else V(-1),se(-1),Q<=0?de(-1):de(lt=>lt-1);else if((Ue.key==="Delete"||Ue.key==="Backspace")&&Q>=0){if(Ue.preventDefault(),Ke!==-1&&ue!==-1){const lt=Math.min(Ke,ue),gt=Math.max(Ke,ue),Lt=[];for(let Yt=lt;Yt<=gt;Yt++)Yt<oe.length&&Lt.push(oe[Yt]);p(Lt,E.name),V(-1),se(-1),de(-1)}else if(Q>=0&&Q<oe.length){const lt=oe[Q];c(lt,E.name),de(-1)}}}}},[G,oe,Q,Ke,ue,ne,p,c,E.name]),Ye=k.useCallback(async Ue=>{try{const nt=await fetch("http://localhost:3333/api/open-file",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({filePath:Ue})});if(!nt.ok){const lt=await nt.json();throw new Error(lt.error||"Failed to open file")}Ft.success(`Opening ${Ue} in editor...`)}catch(nt){console.error("Failed to open in editor:",nt),Ft.error(`Could not open file: ${nt instanceof Error?nt.message:"Unknown error"}`)}},[]),tt=k.useCallback(Ue=>{const nt=Ue.split("/").pop()||Ue,lt=Ue.substring(0,Ue.lastIndexOf("/")+1),gt=m(Ue);return{fileName:nt,filePath:lt,fileBundles:gt}},[m]);return x.jsxDEV("div",{className:"h-full flex flex-col bg-background border border-border rounded-lg",children:[x.jsxDEV("div",{className:"p-6 border-b",children:x.jsxDEV("div",{className:"flex items-center justify-between",children:[x.jsxDEV("div",{className:"space-y-1 flex-1",children:[_?x.jsxDEV(wa,{value:E.name,onValueChange:_,onOpenChange:ce,children:[x.jsxDEV(Mo,{className:"w-fit border-0 p-0 h-auto bg-transparent hover:bg-muted/50 focus:ring-0 focus:ring-offset-0 [&>svg]:hidden",children:x.jsxDEV(yl,{children:x.jsxDEV("div",{className:"flex items-center gap-2",children:[x.jsxDEV("h3",{className:"text-lg font-thin",children:E.name},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:320,columnNumber:23},void 0),x.jsxDEV(bm,{className:`w-4 h-4 text-muted-foreground transition-transform duration-200 ${B?"rotate-180":""}`},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:321,columnNumber:23},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:319,columnNumber:21},void 0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:318,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:317,columnNumber:17},void 0),x.jsxDEV(jo,{children:e.map(Ue=>x.jsxDEV(wr,{value:Ue.name,children:x.jsxDEV("div",{className:"flex items-center gap-2",children:[x.jsxDEV("span",{className:"font-medium",children:Ue.name},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:329,columnNumber:25},void 0),x.jsxDEV("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[x.jsxDEV("span",{children:[Ue.fileCount," files"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:331,columnNumber:27},void 0),x.jsxDEV("span",{children:"•"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:332,columnNumber:27},void 0),x.jsxDEV("span",{children:Lf(Ue.size)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:333,columnNumber:27},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:330,columnNumber:25},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:328,columnNumber:23},void 0)},Ue.name,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:327,columnNumber:21},void 0))},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:325,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:312,columnNumber:15},void 0):x.jsxDEV("h3",{className:"text-lg font-thin",children:E.name},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:341,columnNumber:15},void 0),x.jsxDEV("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[x.jsxDEV("span",{children:[E.fileCount," files"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:344,columnNumber:15},void 0),x.jsxDEV("span",{children:"•"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:345,columnNumber:15},void 0),x.jsxDEV("span",{children:Lf(E.size)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:346,columnNumber:15},void 0),E.lastGenerated&&x.jsxDEV(x.Fragment,{children:[x.jsxDEV("span",{children:"•"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:349,columnNumber:19},void 0),x.jsxDEV("span",{children:["Last generated: ",new Date(E.lastGenerated).toLocaleDateString()]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:350,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:348,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:343,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:310,columnNumber:11},void 0),x.jsxDEV(Dt,{variant:"outline",size:"sm",onClick:()=>l(E.name),className:"h-8 px-3",children:[x.jsxDEV($7,{className:"w-3 h-3 mr-1"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:361,columnNumber:13},void 0),r.has(E.name)?"Done":"Edit"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:355,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:309,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:308,columnNumber:7},void 0),x.jsxDEV("div",{className:"flex-1 min-h-0 px-6",children:x.jsxDEV(eY,{direction:"vertical",className:"h-full",children:[x.jsxDEV(KD,{defaultSize:r.has(E.name)?60:100,minSize:20,children:x.jsxDEV("div",{className:"space-y-2 h-full",children:[x.jsxDEV("div",{className:"flex items-center gap-2 flex-wrap pt-6",children:[x.jsxDEV(yn,{variant:"outline",className:"bg-primary/10 text-primary border-primary/20 text-xs font-thin h-5",children:"Bundle Files"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:372,columnNumber:17},void 0),x.jsxDEV("span",{className:"text-xs text-muted-foreground",children:r.has(E.name)?"(Click - to remove from bundle)":""},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:375,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:371,columnNumber:15},void 0),r.has(E.name)&&x.jsxDEV("div",{className:"mb-2",children:[x.jsxDEV("div",{className:"relative",children:[x.jsxDEV(Mx,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 text-muted-foreground w-3 h-3"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:383,columnNumber:21},void 0),x.jsxDEV("input",{ref:pe,type:"text",placeholder:"Search bundle files...",value:Y,onChange:Ue=>ne(Ue.target.value),onKeyDown:qe,onFocus:()=>K(!0),onBlur:()=>K(!1),className:"w-full pl-7 pr-3 py-1 text-xs border border-input rounded-md bg-background text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:384,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:382,columnNumber:19},void 0),Y&&x.jsxDEV("div",{className:"mt-2 ml-2 text-xs text-muted-foreground/55 flex items-center gap-2",children:x.jsxDEV("span",{children:["Press ",x.jsxDEV("kbd",{className:"px-1 py-0.5 bg-muted rounded border text-xs",children:"Delete"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:398,columnNumber:35},void 0)," to remove, ",x.jsxDEV("kbd",{className:"px-1 py-0.5 bg-muted rounded border text-xs",children:"↑"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:398,columnNumber:120},void 0),"/",x.jsxDEV("kbd",{className:"px-1 py-0.5 bg-muted rounded border text-xs",children:"↓"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:398,columnNumber:189},void 0)," to navigate, ",x.jsxDEV("kbd",{className:"px-1 py-0.5 bg-muted rounded border text-xs",children:"Shift+↑/↓"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:398,columnNumber:271},void 0)," to select range, ",x.jsxDEV("kbd",{className:"px-1 py-0.5 bg-muted rounded border text-xs",children:"Esc"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:398,columnNumber:365},void 0)," to exit"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:398,columnNumber:23},void 0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:397,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:381,columnNumber:17},void 0),x.jsxDEV("div",{className:"space-y-1 overflow-y-auto h-full",ref:le,onMouseLeave:()=>de(-1),children:oe.length===0?x.jsxDEV("div",{className:"text-center py-4 text-muted-foreground",children:x.jsxDEV("p",{className:"text-xs",children:Y?"No files match your search":"No files in this bundle"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:409,columnNumber:25},void 0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:408,columnNumber:23},void 0):oe.map((Ue,nt)=>{const lt=`remove-${E.name}-${Ue}`,gt=o.has(lt),{fileName:Lt,filePath:Yt,fileBundles:Ot}=tt(Ue),Pt=G&&nt===Q,ar=Ke!==-1&&ue!==-1&&nt>=Math.min(Ke,ue)&&nt<=Math.max(Ke,ue);return x.jsxDEV("div",{className:`bundle-file-row flex items-center gap-2 py-0.5 px-1 rounded-sm group cursor-default transition-all duration-200 ${ar?"bg-destructive/20 ring-1 ring-destructive":Pt?"bg-destructive/10 ring-2 ring-destructive":"hover:bg-muted/50 hover:shadow-sm"}`,onMouseEnter:()=>de(nt),tabIndex:-1,children:[x.jsxDEV(Dt,{variant:"ghost",size:"sm",onClick:()=>c(Ue,E.name),disabled:gt,className:"h-4 w-4 p-0 opacity-0 group-hover:opacity-100 hover:bg-destructive/10 hover:scale-110 transition-all duration-200 flex-shrink-0 cursor-pointer",title:"Remove from bundle",children:gt?x.jsxDEV(Ol,{className:"w-2.5 h-2.5 animate-spin"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:442,columnNumber:29},void 0):x.jsxDEV(M7,{className:"w-2.5 h-2.5 text-destructive"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:444,columnNumber:29},void 0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:433,columnNumber:25},void 0),x.jsxDEV("div",{className:"flex items-center gap-1.5 flex-1",children:[x.jsxDEV("div",{className:"flex-shrink-0",children:x.jsxDEV(ba,{className:WN(Ue).className},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:449,columnNumber:29},void 0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:448,columnNumber:27},void 0),x.jsxDEV("div",{className:"flex items-center gap-1.5 min-w-0 cursor-pointer group/file-link flex-1",onClick:()=>Ye(Ue),title:`Open ${Ue} in editor`,children:[x.jsxDEV("span",{className:"text-xs text-muted-foreground font-thin group-hover/file-link:text-foreground/70 transition-colors duration-200",children:Yt},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:456,columnNumber:29},void 0),x.jsxDEV("span",{className:"text-xs text-foreground font-medium group-hover/file-link:text-primary transition-colors duration-200",children:Lt},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:457,columnNumber:29},void 0),x.jsxDEV(iu,{className:"w-3 h-3 text-muted-foreground opacity-0 group-hover/file-link:opacity-100 transition-opacity duration-200 flex-shrink-0"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:458,columnNumber:29},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:451,columnNumber:27},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:447,columnNumber:25},void 0),x.jsxDEV("div",{className:"flex items-center gap-2 flex-shrink-0",children:[x.jsxDEV("span",{className:"text-xs text-muted-foreground",children:Lf(b[Ue]||0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:462,columnNumber:27},void 0),Ot.length>0&&x.jsxDEV("div",{className:"flex gap-1 flex-wrap",children:Ot.map(An=>x.jsxDEV(yn,{variant:"outline",className:"text-xs font-thin h-4 px-1.5",children:An},An,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:468,columnNumber:33},void 0))},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:466,columnNumber:29},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:461,columnNumber:25},void 0)]},Ue,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:424,columnNumber:23},void 0)})},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:404,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:370,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:369,columnNumber:11},void 0),r.has(E.name)&&x.jsxDEV(x.Fragment,{children:[x.jsxDEV(tY,{withHandle:!0},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:486,columnNumber:15},void 0),x.jsxDEV(KD,{defaultSize:40,minSize:20,children:x.jsxDEV("div",{className:"space-y-2 h-full",children:[x.jsxDEV("div",{className:"flex items-center gap-2 flex-wrap pt-6",children:[x.jsxDEV(yn,{variant:"outline",className:"bg-muted text-muted-foreground border-border text-xs font-thin h-5",children:[x.jsxDEV(Px,{className:"w-2.5 h-2.5 mr-1"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:491,columnNumber:23},void 0),"Available Files"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:490,columnNumber:21},void 0),x.jsxDEV("span",{className:"text-xs text-muted-foreground",children:"(Click + to add to bundle)"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:494,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:489,columnNumber:19},void 0),x.jsxDEV("div",{className:"mb-2",children:[x.jsxDEV("div",{className:"relative",children:[x.jsxDEV(Mx,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 text-muted-foreground w-3 h-3"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:500,columnNumber:23},void 0),x.jsxDEV("input",{ref:L,type:"text",placeholder:"Search files...",value:Z,onChange:Ue=>xe(Ue.target.value),onKeyDown:Pe,onFocus:()=>U(!0),onBlur:()=>U(!1),className:"w-full pl-7 pr-3 py-1 text-xs border border-input rounded-md bg-background text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:501,columnNumber:23},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:499,columnNumber:21},void 0),Z&&x.jsxDEV("div",{className:"mt-2 ml-2 text-xs text-muted-foreground/55 flex items-center gap-2",children:x.jsxDEV("span",{children:["Press ",x.jsxDEV("kbd",{className:"px-1 py-0.5 bg-muted rounded border text-xs",children:"Enter"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:515,columnNumber:37},void 0)," to add, ",x.jsxDEV("kbd",{className:"px-1 py-0.5 bg-muted rounded border text-xs",children:"↑"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:515,columnNumber:118},void 0),"/",x.jsxDEV("kbd",{className:"px-1 py-0.5 bg-muted rounded border text-xs",children:"↓"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:515,columnNumber:187},void 0)," to navigate, ",x.jsxDEV("kbd",{className:"px-1 py-0.5 bg-muted rounded border text-xs",children:"Shift+↑/↓"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:515,columnNumber:269},void 0)," to select range, ",x.jsxDEV("kbd",{className:"px-1 py-0.5 bg-muted rounded border text-xs",children:"Esc"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:515,columnNumber:363},void 0)," to exit"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:515,columnNumber:25},void 0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:514,columnNumber:23},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:498,columnNumber:19},void 0),x.jsxDEV("div",{className:"space-y-1 overflow-y-auto h-full",ref:O,onMouseLeave:()=>M(-1),children:he.length===0?x.jsxDEV("div",{className:"text-center py-4 text-muted-foreground",children:x.jsxDEV("p",{className:"text-xs",children:Z?"No files match your search":"All files are already in this bundle"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:524,columnNumber:29},void 0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:523,columnNumber:27},void 0):he.map((Ue,nt)=>{const lt=`add-${E.name}-${Ue}`,gt=o.has(lt),{fileName:Lt,filePath:Yt,fileBundles:Ot}=tt(Ue),Pt=P&&nt===D,ar=ye!==-1&&je!==-1&&nt>=Math.min(ye,je)&&nt<=Math.max(ye,je);return x.jsxDEV("div",{className:`available-file-row flex items-center gap-2 py-0.5 px-1 rounded-sm group cursor-default transition-all duration-200 ${ar?"bg-primary/20 ring-1 ring-primary":Pt?"bg-primary/10 ring-2 ring-primary":"hover:bg-muted/50 hover:shadow-sm"}`,onMouseEnter:()=>M(nt),tabIndex:-1,children:[x.jsxDEV(Dt,{variant:"ghost",size:"sm",onClick:()=>f(Ue,E.name),disabled:gt,className:"h-4 w-4 p-0 opacity-0 group-hover:opacity-100 hover:bg-primary/10 hover:scale-110 transition-all duration-200 flex-shrink-0 cursor-pointer",title:"Add to bundle",children:gt?x.jsxDEV(Ol,{className:"w-2.5 h-2.5 animate-spin"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:557,columnNumber:33},void 0):x.jsxDEV(Px,{className:"w-2.5 h-2.5 text-primary"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:559,columnNumber:33},void 0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:548,columnNumber:29},void 0),x.jsxDEV("div",{className:"flex items-center gap-1.5 flex-1",children:[x.jsxDEV("div",{className:"flex-shrink-0",children:x.jsxDEV(ba,{className:WN(Ue).className},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:564,columnNumber:33},void 0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:563,columnNumber:31},void 0),x.jsxDEV("div",{className:"flex items-center gap-1.5 min-w-0 cursor-pointer group/file-link flex-1",onClick:()=>Ye(Ue),title:`Open ${Ue} in editor`,children:[x.jsxDEV("span",{className:"text-xs text-muted-foreground font-thin group-hover/file-link:text-foreground/70 transition-colors duration-200",children:Yt},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:571,columnNumber:33},void 0),x.jsxDEV("span",{className:"text-xs text-foreground font-medium group-hover/file-link:text-primary transition-colors duration-200",children:Lt},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:572,columnNumber:33},void 0),x.jsxDEV(iu,{className:"w-3 h-3 text-muted-foreground opacity-0 group-hover/file-link:opacity-100 transition-opacity duration-200 flex-shrink-0"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:573,columnNumber:33},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:566,columnNumber:31},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:562,columnNumber:29},void 0),x.jsxDEV("div",{className:"flex items-center gap-2 flex-shrink-0",children:[x.jsxDEV("span",{className:"text-xs text-muted-foreground",children:Lf(b[Ue]||0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:577,columnNumber:31},void 0),Ot.length>0&&x.jsxDEV("div",{className:"flex gap-1 flex-wrap",children:Ot.map(An=>x.jsxDEV(yn,{variant:"outline",className:"text-xs font-thin h-4 px-1.5",children:An},An,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:583,columnNumber:37},void 0))},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:581,columnNumber:33},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:576,columnNumber:29},void 0)]},Ue,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:539,columnNumber:27},void 0)})},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:519,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:488,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:487,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:485,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:367,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:366,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:307,columnNumber:5},void 0)},rY=async()=>{const t=await fetch("http://localhost:3333/api/bundles");if(!t.ok)throw new Error("Failed to fetch bundles");return t.json()},ZD=t=>{const e={name:"",path:"",type:"directory",children:[]},n=new Set,r=new Map;t.forEach(o=>{o.files.forEach(l=>{n.add(l),r.has(l)||r.set(l,[]),r.get(l).push(o.name)})}),n.forEach(o=>{const l=o.split("/");let c=e;l.forEach((f,h)=>{const p=h===l.length-1,m=l.slice(0,h+1).join("/");c.children||(c.children=[]);let b=c.children.find(_=>_.name===f);b||(b={name:f,path:m,type:p?"file":"directory",children:p?void 0:[],bundles:p?r.get(o):void 0},c.children.push(b)),p||(c=b)})});const s=o=>{o.children&&(o.children.sort((l,c)=>l.type!==c.type?l.type==="directory"?-1:1:l.name.localeCompare(c.name)),o.children.forEach(s))};return s(e),e},sY=t=>{if(t===0)return"0 B";const e=1024,n=["B","KB","MB","GB"],r=Math.floor(Math.log(t)/Math.log(e));return parseFloat((t/Math.pow(e,r)).toFixed(1))+" "+n[r]};function E4({node:t,level:e,expandedDirs:n,onToggleDir:r}){const s=n.has(t.path),o=e*16;if(t.type==="directory")return x.jsxDEV("div",{children:[x.jsxDEV("div",{className:"flex items-center gap-2 py-1 px-2 hover:bg-muted/50 rounded cursor-pointer",style:{paddingLeft:`${o+8}px`},onClick:()=>r(t.path),children:[s?x.jsxDEV(bm,{className:"w-4 h-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/FileTree.tsx",lineNumber:119,columnNumber:13},this):x.jsxDEV(dO,{className:"w-4 h-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/FileTree.tsx",lineNumber:121,columnNumber:13},this),s?x.jsxDEV(y7,{className:"w-4 h-4 text-[color:var(--color-info)]"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/FileTree.tsx",lineNumber:124,columnNumber:13},this):x.jsxDEV(_7,{className:"w-4 h-4 text-[color:var(--color-info)]"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/FileTree.tsx",lineNumber:126,columnNumber:13},this),x.jsxDEV("span",{className:"text-xs font-thin",children:t.name},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/FileTree.tsx",lineNumber:128,columnNumber:11},this),t.children&&x.jsxDEV("span",{className:"text-xs text-muted-foreground ml-auto",children:[t.children.length," items"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/FileTree.tsx",lineNumber:130,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/FileTree.tsx",lineNumber:113,columnNumber:9},this),s&&t.children&&x.jsxDEV("div",{children:t.children.map(c=>x.jsxDEV(E4,{node:c,level:e+1,expandedDirs:n,onToggleDir:r},c.path,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/FileTree.tsx",lineNumber:139,columnNumber:15},this))},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/FileTree.tsx",lineNumber:137,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/FileTree.tsx",lineNumber:112,columnNumber:7},this);const l=c=>{var p;const f=(p=c.split(".").pop())==null?void 0:p.toLowerCase(),h="w-4 h-4";switch(f){case"js":case"ts":case"jsx":case"tsx":return x.jsxDEV(ba,{className:`${h} text-[color:var(--color-warning)]`},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/FileTree.tsx",lineNumber:163,columnNumber:16},this);case"json":return x.jsxDEV(ba,{className:`${h} text-[color:var(--color-success)]`},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/FileTree.tsx",lineNumber:165,columnNumber:16},this);case"md":return x.jsxDEV(ba,{className:`${h} text-[color:var(--color-info)]/80`},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/FileTree.tsx",lineNumber:167,columnNumber:16},this);case"css":case"scss":return x.jsxDEV(ba,{className:`${h} text-[color:var(--color-type-styles)]`},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/FileTree.tsx",lineNumber:170,columnNumber:16},this);case"html":return x.jsxDEV(ba,{className:`${h} text-[color:var(--color-type-configuration)]`},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/FileTree.tsx",lineNumber:172,columnNumber:16},this);default:return x.jsxDEV(ba,{className:`${h} text-muted-foreground`},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/FileTree.tsx",lineNumber:174,columnNumber:16},this)}};return x.jsxDEV("div",{className:"flex items-center gap-2 py-1 px-2 hover:bg-muted/50 rounded",style:{paddingLeft:`${o+24}px`},children:[l(t.name),x.jsxDEV("span",{className:"text-xs font-mono",children:t.name},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/FileTree.tsx",lineNumber:184,columnNumber:7},this),t.bundles&&t.bundles.length>0&&x.jsxDEV("div",{className:"flex gap-1 ml-2",children:t.bundles.map(c=>x.jsxDEV(yn,{variant:"outline",className:"text-xs px-1 py-0 h-4",children:c},c,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/FileTree.tsx",lineNumber:189,columnNumber:13},this))},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/FileTree.tsx",lineNumber:187,columnNumber:9},this),t.size&&x.jsxDEV("span",{className:"text-xs text-muted-foreground ml-auto",children:sY(t.size)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/FileTree.tsx",lineNumber:201,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/FileTree.tsx",lineNumber:179,columnNumber:5},this)}function iY(){const[t,e]=k.useState(new Set([""])),{data:n,isLoading:r}=Di({queryKey:["bundles"],queryFn:rY,refetchInterval:5e3}),s=h=>{const p=new Set(t);p.has(h)?p.delete(h):p.add(h),e(p)},o=()=>{if(!n)return;const h=ZD(n),p=new Set,m=b=>{var _;b.type==="directory"&&(p.add(b.path),(_=b.children)==null||_.forEach(m))};m(h),e(p)},l=()=>{e(new Set([""]))};if(r)return x.jsxDEV("div",{children:"Loading file tree..."},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/FileTree.tsx",lineNumber:250,columnNumber:25},this);if(!n)return x.jsxDEV("div",{children:"No bundles found"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/FileTree.tsx",lineNumber:251,columnNumber:24},this);const c=ZD(n),f=n.reduce((h,p)=>h+p.files.length,0);return x.jsxDEV("div",{className:"space-y-4",children:[x.jsxDEV("div",{className:"flex items-center justify-between",children:[x.jsxDEV("div",{className:"flex gap-1",children:[x.jsxDEV(Dt,{variant:"outline",size:"sm",className:"h-7 text-xs",onClick:o,children:"Expand All"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/FileTree.tsx",lineNumber:261,columnNumber:11},this),x.jsxDEV(Dt,{variant:"outline",size:"sm",className:"h-7 text-xs",onClick:l,children:"Collapse All"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/FileTree.tsx",lineNumber:264,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/FileTree.tsx",lineNumber:260,columnNumber:9},this),x.jsxDEV("div",{className:"text-xs text-muted-foreground font-thin",children:[f," files tracked"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/FileTree.tsx",lineNumber:269,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/FileTree.tsx",lineNumber:259,columnNumber:7},this),x.jsxDEV(vn,{className:"p-4",children:x.jsxDEV("div",{className:"space-y-1 max-h-96 overflow-y-auto",children:c.children&&c.children.length>0?c.children.map(h=>x.jsxDEV(E4,{node:h,level:0,expandedDirs:t,onToggleDir:s},h.path,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/FileTree.tsx",lineNumber:279,columnNumber:15},this)):x.jsxDEV("div",{className:"text-center text-muted-foreground py-8",children:"No files found"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/FileTree.tsx",lineNumber:288,columnNumber:13},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/FileTree.tsx",lineNumber:276,columnNumber:9},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/FileTree.tsx",lineNumber:275,columnNumber:7},this),x.jsxDEV(vn,{className:"p-4",children:[x.jsxDEV("h3",{className:"text-xs font-thin mb-2",children:"Bundle Legend"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/FileTree.tsx",lineNumber:297,columnNumber:9},this),x.jsxDEV("div",{className:"flex flex-wrap gap-2",children:n.map(h=>x.jsxDEV(yn,{variant:"outline",children:[h.name," (",h.files.length,")"]},h.name,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/FileTree.tsx",lineNumber:300,columnNumber:13},this))},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/FileTree.tsx",lineNumber:298,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/FileTree.tsx",lineNumber:296,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/FileTree.tsx",lineNumber:257,columnNumber:5},this)}const oY=()=>x.jsxDEV(vn,{children:[x.jsxDEV(gr,{children:[x.jsxDEV(Nr,{className:"flex items-center gap-2",children:[x.jsxDEV(mO,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/ProjectFiles.tsx",lineNumber:11,columnNumber:11},void 0),"Project Files"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/ProjectFiles.tsx",lineNumber:10,columnNumber:9},void 0),x.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Browse and explore all files in your project with bundle information."},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/ProjectFiles.tsx",lineNumber:14,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/ProjectFiles.tsx",lineNumber:9,columnNumber:7},void 0),x.jsxDEV(Pn,{children:x.jsxDEV(iY,{},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/ProjectFiles.tsx",lineNumber:19,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/ProjectFiles.tsx",lineNumber:18,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/ProjectFiles.tsx",lineNumber:8,columnNumber:5},void 0);var nv="Dialog",[T4,qme]=Ra(nv),[aY,so]=T4(nv),A4=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:l=!0}=t,c=k.useRef(null),f=k.useRef(null),[h,p]=su({prop:r,defaultProp:s??!1,onChange:o,caller:nv});return Me.jsx(aY,{scope:e,triggerRef:c,contentRef:f,contentId:Ps(),titleId:Ps(),descriptionId:Ps(),open:h,onOpenChange:p,onOpenToggle:k.useCallback(()=>p(m=>!m),[p]),modal:l,children:n})};A4.displayName=nv;var C4="DialogTrigger",lY=k.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=so(C4,n),o=Kn(e,s.triggerRef);return Me.jsx(Mt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":$E(s.open),...r,ref:o,onClick:Bt(t.onClick,s.onOpenToggle)})});lY.displayName=C4;var LE="DialogPortal",[cY,R4]=T4(LE,{forceMount:void 0}),k4=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,o=so(LE,e);return Me.jsx(cY,{scope:e,forceMount:n,children:k.Children.map(r,l=>Me.jsx($l,{present:n||o.open,children:Me.jsx(mm,{asChild:!0,container:s,children:l})}))})};k4.displayName=LE;var Lx="DialogOverlay",P4=k.forwardRef((t,e)=>{const n=R4(Lx,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,o=so(Lx,t.__scopeDialog);return o.modal?Me.jsx($l,{present:r||o.open,children:Me.jsx(fY,{...s,ref:e})}):null});P4.displayName=Lx;var uY=ru("DialogOverlay.RemoveScroll"),fY=k.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=so(Lx,n);return Me.jsx(Yy,{as:uY,allowPinchZoom:!0,shards:[s.contentRef],children:Me.jsx(Mt.div,{"data-state":$E(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),uu="DialogContent",D4=k.forwardRef((t,e)=>{const n=R4(uu,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,o=so(uu,t.__scopeDialog);return Me.jsx($l,{present:r||o.open,children:o.modal?Me.jsx(dY,{...s,ref:e}):Me.jsx(hY,{...s,ref:e})})});D4.displayName=uu;var dY=k.forwardRef((t,e)=>{const n=so(uu,t.__scopeDialog),r=k.useRef(null),s=Kn(e,n.contentRef,r);return k.useEffect(()=>{const o=r.current;if(o)return IE(o)},[]),Me.jsx(M4,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Bt(t.onCloseAutoFocus,o=>{var l;o.preventDefault(),(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Bt(t.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0;(l.button===2||c)&&o.preventDefault()}),onFocusOutside:Bt(t.onFocusOutside,o=>o.preventDefault())})}),hY=k.forwardRef((t,e)=>{const n=so(uu,t.__scopeDialog),r=k.useRef(!1),s=k.useRef(!1);return Me.jsx(M4,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var l,c;(l=t.onCloseAutoFocus)==null||l.call(t,o),o.defaultPrevented||(r.current||(c=n.triggerRef.current)==null||c.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var f,h;(f=t.onInteractOutside)==null||f.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const l=o.target;((h=n.triggerRef.current)==null?void 0:h.contains(l))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),M4=k.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...l}=t,c=so(uu,n),f=k.useRef(null),h=Kn(e,f);return SE(),Me.jsxs(Me.Fragment,{children:[Me.jsx(zy,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:Me.jsx(pm,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":$E(c.open),...l,ref:h,onDismiss:()=>c.onOpenChange(!1)})}),Me.jsxs(Me.Fragment,{children:[Me.jsx(mY,{titleId:c.titleId}),Me.jsx(bY,{contentRef:f,descriptionId:c.descriptionId})]})]})}),zE="DialogTitle",j4=k.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=so(zE,n);return Me.jsx(Mt.h2,{id:s.titleId,...r,ref:e})});j4.displayName=zE;var I4="DialogDescription",pY=k.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=so(I4,n);return Me.jsx(Mt.p,{id:s.descriptionId,...r,ref:e})});pY.displayName=I4;var O4="DialogClose",U4=k.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=so(O4,n);return Me.jsx(Mt.button,{type:"button",...r,ref:e,onClick:Bt(t.onClick,()=>s.onOpenChange(!1))})});U4.displayName=O4;function $E(t){return t?"open":"closed"}var V4="DialogTitleWarning",[Xme,F4]=G8(V4,{contentName:uu,titleName:zE,docsSlug:"dialog"}),mY=({titleId:t})=>{const e=F4(V4),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return k.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},gY="DialogDescriptionWarning",bY=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${F4(gY).contentName}}.`;return k.useEffect(()=>{var o;const s=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},B4=A4,L4=k4,z4=P4,$4=D4,xY=j4,yY=U4;function vY({...t}){return x.jsxDEV(B4,{"data-slot":"dialog",...t},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/dialog.tsx",lineNumber:12,columnNumber:10},this)}function _Y({...t}){return x.jsxDEV(L4,{"data-slot":"dialog-portal",...t},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/dialog.tsx",lineNumber:24,columnNumber:10},this)}function wY({className:t,...e}){return x.jsxDEV(z4,{"data-slot":"dialog-overlay",className:Wt("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/dialog.tsx",lineNumber:38,columnNumber:5},this)}function NY({className:t,children:e,showCloseButton:n=!0,...r}){return x.jsxDEV(_Y,{"data-slot":"dialog-portal",children:[x.jsxDEV(wY,{},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/dialog.tsx",lineNumber:59,columnNumber:7},this),x.jsxDEV($4,{"data-slot":"dialog-content",className:Wt("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...r,children:[e,n&&x.jsxDEV(yY,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[x.jsxDEV(ii,{},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/dialog.tsx",lineNumber:74,columnNumber:13},this),x.jsxDEV("span",{className:"sr-only",children:"Close"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/dialog.tsx",lineNumber:75,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/dialog.tsx",lineNumber:70,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/dialog.tsx",lineNumber:60,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/dialog.tsx",lineNumber:58,columnNumber:5},this)}function SY({className:t,...e}){return x.jsxDEV("div",{"data-slot":"dialog-header",className:Wt("flex flex-col gap-2 text-center sm:text-left",t),...e},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/dialog.tsx",lineNumber:85,columnNumber:5},this)}function EY({className:t,...e}){return x.jsxDEV("div",{"data-slot":"dialog-footer",className:Wt("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...e},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/dialog.tsx",lineNumber:95,columnNumber:5},this)}function TY({className:t,...e}){return x.jsxDEV(xY,{"data-slot":"dialog-title",className:Wt("text-lg leading-none font-thin",t),...e},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/dialog.tsx",lineNumber:111,columnNumber:5},this)}function HE({className:t,type:e,...n}){return x.jsxDEV("input",{type:e,"data-slot":"input",className:Wt("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-thin disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/input.tsx",lineNumber:7,columnNumber:5},this)}const AY=({fileInfo:t,bundles:e,addFileToBundle:n,loadFileAnalysis:r,loadingButtons:s,setButtonState:o,onRemove:l,fileSizes:c})=>{const{suggestions:f,loading:h}=BH(t.path);t.bundles.length===0||t.bundles.join(", ");const[p,m]=k.useState(""),[b,_]=k.useState(!1),[E,T]=k.useState(""),[C,D]=k.useState(!1),[M,P]=k.useState(!1),[U,L]=k.useState(!1),O=e.map(ye=>ye.name).filter(ye=>ye!=="master"&&!t.bundles.includes(ye)),Y=async ye=>{if(ye==="__create__")_(!0),m("");else if(ye==="__ignore__")await K(),m("");else if(ye){L(!0);const ge=`add-${ye}-${t.path}`;o(ge,"loading"),await n(t.path,ye),o(ge,"idle"),m(""),P(!0),setTimeout(()=>{L(!1),l(t.path)},300)}},ne=async ye=>{const ge=`add-${ye}-${t.path}`;o(ge,"loading"),await n(t.path,ye),o(ge,"idle"),Q()},G=async()=>{if(E.trim()){if(e.some(ye=>ye.name===E.trim())){alert("Bundle already exists!");return}D(!0),await n(t.path,E.trim()),D(!1),_(!1),T(""),Q()}},K=async()=>{o(`ignore-${t.path}`,"loading"),await fetch("http://localhost:3333/api/hidden-files",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"toggle",filePath:t.path,forceHide:!0})}),o(`ignore-${t.path}`,"idle"),Q()},Q=()=>{P(!0),setTimeout(()=>l(t.path),300)},de=async ye=>{try{const ge=await fetch("http://localhost:3333/api/open-file",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({filePath:ye})});if(!ge.ok){const je=await ge.json();throw new Error(je.error||"Failed to open file")}Ft.success(`Opening ${ye} in editor...`)}catch(ge){console.error("Failed to open in editor:",ge),Ft.error(`Could not open file: ${ge instanceof Error?ge.message:"Unknown error"}`)}},pe=t.path.split("/").pop()||t.path,le=t.path.substring(0,t.path.lastIndexOf("/")+1);return x.jsxDEV("div",{className:`flex items-center gap-2 py-0.5 px-1 rounded-sm group cursor-default transition-all duration-300 border border-warning/20 bg-warning/5 hover:bg-warning/10 ${M?"opacity-0 h-0 overflow-hidden p-0 m-0":""}`,children:[x.jsxDEV("div",{className:"flex items-center gap-1.5 flex-1",children:[x.jsxDEV("div",{className:"flex-shrink-0",children:x.jsxDEV(ba,{className:WN(t.path).className},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/UndercategorizedFileRow.tsx",lineNumber:126,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/UndercategorizedFileRow.tsx",lineNumber:125,columnNumber:9},void 0),x.jsxDEV("div",{className:"flex items-center gap-1.5 min-w-0 cursor-pointer group/file-link flex-1",onClick:()=>de(t.path),title:`Open ${t.path} in editor`,children:[x.jsxDEV("span",{className:"text-xs text-muted-foreground font-thin group-hover/file-link:text-foreground/70 transition-colors duration-200",children:le},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/UndercategorizedFileRow.tsx",lineNumber:133,columnNumber:11},void 0),x.jsxDEV("span",{className:"text-xs text-foreground font-medium group-hover/file-link:text-primary transition-colors duration-200",children:pe},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/UndercategorizedFileRow.tsx",lineNumber:134,columnNumber:11},void 0),x.jsxDEV(iu,{className:"w-3 h-3 text-muted-foreground opacity-0 group-hover/file-link:opacity-100 transition-opacity duration-200 flex-shrink-0"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/UndercategorizedFileRow.tsx",lineNumber:135,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/UndercategorizedFileRow.tsx",lineNumber:128,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/UndercategorizedFileRow.tsx",lineNumber:124,columnNumber:7},void 0),x.jsxDEV("div",{className:"flex items-center gap-2 flex-shrink-0",children:[x.jsxDEV("span",{className:"text-xs text-muted-foreground",children:Lf(c[t.path]||0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/UndercategorizedFileRow.tsx",lineNumber:141,columnNumber:9},void 0),h?x.jsxDEV("div",{className:"flex items-center gap-1",children:[x.jsxDEV(Ol,{className:"w-3 h-3 animate-spin"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/UndercategorizedFileRow.tsx",lineNumber:148,columnNumber:13},void 0),x.jsxDEV("span",{className:"text-xs text-muted-foreground",children:"Loading..."},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/UndercategorizedFileRow.tsx",lineNumber:149,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/UndercategorizedFileRow.tsx",lineNumber:147,columnNumber:11},void 0):f.length>0&&x.jsxDEV("div",{className:"flex gap-1",children:f.slice(0,2).map(ye=>{const ge=`add-${ye}-${t.path}`,je=s.has(ge);return x.jsxDEV(yn,{variant:"outline",className:"text-xs font-thin h-4 px-1.5 bg-primary/10 cursor-pointer hover:bg-primary/20 transition-colors duration-200 flex items-center gap-1",onClick:()=>ne(ye),title:`Add to ${ye} bundle`,children:[je?x.jsxDEV(Ol,{className:"w-2.5 h-2.5 animate-spin"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/UndercategorizedFileRow.tsx",lineNumber:165,columnNumber:21},void 0):x.jsxDEV(Px,{className:"w-2.5 h-2.5"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/UndercategorizedFileRow.tsx",lineNumber:167,columnNumber:21},void 0),ye]},`suggestion-${ye}`,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/UndercategorizedFileRow.tsx",lineNumber:157,columnNumber:17},void 0)})},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/UndercategorizedFileRow.tsx",lineNumber:152,columnNumber:11},void 0),x.jsxDEV("div",{className:"flex gap-1 items-center",children:x.jsxDEV(wa,{value:p,onValueChange:Y,disabled:M||U,children:[x.jsxDEV(Mo,{className:"h-4 w-4 p-0 border-0 bg-transparent hover:bg-muted/50 opacity-60 hover:opacity-100 transition-all duration-200 [&>svg]:hidden",children:U?x.jsxDEV(Ol,{className:"w-2.5 h-2.5 animate-spin"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/UndercategorizedFileRow.tsx",lineNumber:182,columnNumber:17},void 0):x.jsxDEV("span",{className:"text-xs",children:"⋯"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/UndercategorizedFileRow.tsx",lineNumber:184,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/UndercategorizedFileRow.tsx",lineNumber:180,columnNumber:13},void 0),x.jsxDEV(jo,{children:[O.map(ye=>x.jsxDEV(wr,{value:ye,className:"text-xs",children:x.jsxDEV("div",{className:"flex items-center gap-1",children:[x.jsxDEV(Px,{className:"w-3 h-3"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/UndercategorizedFileRow.tsx",lineNumber:191,columnNumber:21},void 0),"Add to ",ye]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/UndercategorizedFileRow.tsx",lineNumber:190,columnNumber:19},void 0)},ye,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/UndercategorizedFileRow.tsx",lineNumber:189,columnNumber:17},void 0)),x.jsxDEV(wr,{value:"__create__",className:"text-xs italic text-muted-foreground",children:"+ Create new bundle…"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/UndercategorizedFileRow.tsx",lineNumber:196,columnNumber:15},void 0),x.jsxDEV(wr,{value:"__ignore__",className:"text-xs text-muted-foreground",children:"Ignore file"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/UndercategorizedFileRow.tsx",lineNumber:199,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/UndercategorizedFileRow.tsx",lineNumber:187,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/UndercategorizedFileRow.tsx",lineNumber:179,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/UndercategorizedFileRow.tsx",lineNumber:177,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/UndercategorizedFileRow.tsx",lineNumber:140,columnNumber:7},void 0),x.jsxDEV(vY,{open:b,onOpenChange:_,children:x.jsxDEV(NY,{className:"max-w-xs",children:[x.jsxDEV(SY,{children:x.jsxDEV(TY,{children:"Create New Bundle"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/UndercategorizedFileRow.tsx",lineNumber:211,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/UndercategorizedFileRow.tsx",lineNumber:210,columnNumber:11},void 0),x.jsxDEV(HE,{autoFocus:!0,placeholder:"Bundle name",value:E,onChange:ye=>T(ye.target.value),onKeyDown:ye=>{ye.key==="Enter"&&G()},className:"mt-2",disabled:C||s.has(`add-${E}-${t.path}`)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/UndercategorizedFileRow.tsx",lineNumber:213,columnNumber:11},void 0),x.jsxDEV(EY,{children:x.jsxDEV(Dt,{onClick:G,disabled:C||!E.trim(),children:C?"Creating…":"Create"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/UndercategorizedFileRow.tsx",lineNumber:223,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/UndercategorizedFileRow.tsx",lineNumber:222,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/UndercategorizedFileRow.tsx",lineNumber:209,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/UndercategorizedFileRow.tsx",lineNumber:208,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/UndercategorizedFileRow.tsx",lineNumber:122,columnNumber:5},void 0)},CY=({undercategorizedFiles:t,bundles:e,addFileToBundle:n,loadFileAnalysis:r,loadingButtons:s,setButtonState:o,onRemoveFile:l,fileSizes:c})=>t.length===0?null:x.jsxDEV(vn,{className:"border-warning/20 bg-warning/5",children:[x.jsxDEV(gr,{className:"pb-3",children:[x.jsxDEV(Nr,{className:"flex items-center gap-2 text-warning text-sm font-medium",children:[x.jsxDEV(Ai,{className:"w-3 h-3"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/FileAnalysis.tsx",lineNumber:26,columnNumber:11},void 0),"Files Needing Bundle Assignment (",t.length,")"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/FileAnalysis.tsx",lineNumber:25,columnNumber:9},void 0),x.jsxDEV("p",{className:"text-xs text-muted-foreground font-thin",children:"These files are only in the 'master' bundle and should be assigned to more specific bundles for better organization."},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/FileAnalysis.tsx",lineNumber:29,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/FileAnalysis.tsx",lineNumber:24,columnNumber:7},void 0),x.jsxDEV(Pn,{className:"pt-0",children:[x.jsxDEV("div",{className:"space-y-1 max-h-80 overflow-y-auto",children:t.map(f=>x.jsxDEV(AY,{fileInfo:f,bundles:e,addFileToBundle:n,loadFileAnalysis:r,loadingButtons:s,setButtonState:o,onRemove:l,fileSizes:c},f.path,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/FileAnalysis.tsx",lineNumber:36,columnNumber:13},void 0))},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/FileAnalysis.tsx",lineNumber:34,columnNumber:9},void 0),x.jsxDEV("div",{className:"flex justify-between items-center pt-3 mt-3 border-t border-warning/20",children:[x.jsxDEV("span",{className:"text-xs text-muted-foreground",children:[t.length," files need better bundle assignment"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/FileAnalysis.tsx",lineNumber:51,columnNumber:11},void 0),x.jsxDEV(Dt,{variant:"outline",size:"sm",onClick:r,className:"h-6 px-2 text-xs",children:[x.jsxDEV(Hs,{className:"w-2.5 h-2.5 mr-1"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/FileAnalysis.tsx",lineNumber:60,columnNumber:13},void 0),"Refresh"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/FileAnalysis.tsx",lineNumber:54,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/FileAnalysis.tsx",lineNumber:50,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/FileAnalysis.tsx",lineNumber:33,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/FileAnalysis.tsx",lineNumber:23,columnNumber:5},void 0),RY=async()=>{const t=await fetch("http://localhost:3333/api/bundles");if(!t.ok)throw new Error("Failed to fetch bundles");return t.json()},kY=async()=>{const t=await fetch("http://localhost:3333/api/files");if(!t.ok)throw new Error("Failed to fetch files");return(await t.json()).map(n=>n.path)};function PY(){const t=Rd(),[e,n]=k.useState(null),[r,s]=k.useState(new Set),[o,l]=k.useState(new Set),[c,f]=k.useState(null),[h,p]=k.useState(new Map),[m,b]=k.useState(!1),_=FH(),{data:E=[],isLoading:T,isFetching:C,dataUpdatedAt:D}=Di({queryKey:["bundles"],queryFn:RY,refetchInterval:5e3,refetchOnWindowFocus:!0}),{data:M=[],isFetching:P,dataUpdatedAt:U}=Di({queryKey:["allFiles"],queryFn:kY,refetchInterval:3e4,refetchOnWindowFocus:!0});k.useEffect(()=>{const B=Math.max(D,U);B>0&&f(new Date(B))},[D,U]),k.useEffect(()=>{const B=new WebSocket("ws://localhost:3333");return B.onopen=()=>{console.log("Bundle updates WebSocket connected")},B.onmessage=ce=>{try{const Z=JSON.parse(ce.data);switch(console.log("WebSocket message received:",Z),Z.type){case"bundle-sync-started":p(xe=>new Map(xe).set(Z.bundleName,{changed:!0,lastSync:new Date(Z.timestamp)})),Ft.info(`Syncing ${Z.bundleName}`);break;case"bundle-sync-completed":p(xe=>new Map(xe).set(Z.bundleName,{changed:!1,lastSync:new Date(Z.timestamp)})),Ft.success(`Synced ${Z.bundleName}`),t.invalidateQueries({queryKey:["bundles"]});break;case"bundle-sync-failed":p(xe=>new Map(xe).set(Z.bundleName,{changed:!0,lastSync:new Date(Z.timestamp)})),Ft.error(`Sync failed for ${Z.bundleName}`,Z.error);break;case"bundle-file-changed":p(xe=>new Map(xe).set(Z.bundleName,{changed:!0,lastSync:new Date(Z.timestamp)}));break}}catch(Z){console.error("Error parsing bundle update:",Z)}},B.onclose=()=>{console.log("Bundle updates WebSocket disconnected")},B.onerror=ce=>{console.error("Bundle updates WebSocket error:",ce)},()=>{B.close()}},[t]);const L=!M||!E?[]:M,O=k.useCallback(B=>{n(e===B?null:B)},[e]),Y=k.useCallback(B=>{s(ce=>{const Z=new Set(ce);return Z.has(B)?Z.delete(B):Z.add(B),Z})},[]),ne=k.useCallback(B=>E.filter(ce=>ce.files.includes(B)).map(ce=>ce.name),[E]),G=k.useCallback(B=>{const ce=ne(B);return ce.length===1&&ce[0]==="master"},[ne]),K=k.useCallback(B=>B.files.some(ce=>G(ce)),[G]),Q=k.useMemo(()=>E.filter(B=>B.name==="master").flatMap(B=>B.files.filter(ce=>G(ce))).map(B=>({path:B,bundles:["master"]})),[E]),de=k.useMemo(()=>Q.length,[Q]),pe=k.useMemo(()=>E.map(B=>{const ce=h.get(B.name);return{...B,changed:(ce==null?void 0:ce.changed)??B.changed,lastSync:ce==null?void 0:ce.lastSync}}),[E,h]),le=k.useMemo(()=>E.map(B=>({name:B.name,hasUnassignedFiles:K(B)})),[E]),ye=k.useCallback(async()=>{b(!0);try{await Promise.all([t.invalidateQueries({queryKey:["bundles"]}),t.invalidateQueries({queryKey:["allFiles"]})]),Ft.success("Data refreshed")}catch{Ft.error("Failed to refresh data")}finally{b(!1)}},[t]),ge=k.useCallback(async B=>{const ce=`regen-${B}`;l(Z=>new Set(Z).add(ce));try{const Z=await fetch(`http://localhost:3333/api/regenerate/${B}`,{method:"POST",headers:{"Content-Type":"application/json"}});if(!Z.ok){const xe=await Z.text();throw new Error(`Failed to regenerate bundle: ${Z.status} ${xe}`)}await ye(),Ft.success(`Regenerated ${B}`)}catch(Z){console.error("Regenerate bundle error:",Z),Ft.error(`Failed to regenerate bundle: ${Z instanceof Error?Z.message:"Unknown error"}`)}finally{l(Z=>{const xe=new Set(Z);return xe.delete(ce),xe})}},[ye]),je=k.useCallback(async B=>{const ce=`copy-${B}`;l(Z=>new Set(Z).add(ce));try{Ft.error("Copy functionality not yet implemented")}catch(Z){console.error("Copy bundle error:",Z),Ft.error(`Failed to copy bundle: ${Z instanceof Error?Z.message:"Unknown error"}`)}finally{l(Z=>{const xe=new Set(Z);return xe.delete(ce),xe})}},[]),_e=k.useCallback(async B=>{const ce=`download-${B}`;l(Z=>new Set(Z).add(ce));try{Ft.error("Download functionality not yet implemented")}catch(Z){console.error("Download bundle error:",Z),Ft.error(`Failed to download bundle: ${Z instanceof Error?Z.message:"Unknown error"}`)}finally{l(Z=>{const xe=new Set(Z);return xe.delete(ce),xe})}},[]),Ke=k.useCallback(async(B,ce)=>{const Z=`remove-${ce}-${B}`;l(xe=>new Set(xe).add(Z));try{const xe=await fetch("http://localhost:3333/api/bundles",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"remove-file",bundleName:ce,fileName:B})});if(!xe.ok){const he=await xe.text();throw new Error(`Failed to remove file from bundle: ${xe.status} ${he}`)}await ye(),Ft.success(`Removed ${B} from ${ce}`)}catch(xe){console.error("Remove file error:",xe),Ft.error(`Failed to remove file: ${xe instanceof Error?xe.message:"Unknown error"}`)}finally{l(xe=>{const he=new Set(xe);return he.delete(Z),he})}},[ye]),V=k.useCallback(async(B,ce)=>{const Z=`add-${ce}-${B}`;l(xe=>new Set(xe).add(Z));try{const xe=await fetch("http://localhost:3333/api/bundles",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"add-file",bundleName:ce,fileName:B})});if(!xe.ok){const he=await xe.text();throw new Error(`Failed to add file to bundle: ${xe.status} ${he}`)}await ye(),Ft.success(`Added ${B} to ${ce}`)}catch(xe){console.error("Add file error:",xe),Ft.error(`Failed to add file: ${xe instanceof Error?xe.message:"Unknown error"}`)}finally{l(xe=>{const he=new Set(xe);return he.delete(Z),he})}},[ye]),ue=k.useCallback(async(B,ce)=>{const Z=`bulk-add-${ce}`;l(xe=>new Set(xe).add(Z));try{const xe=await fetch("http://localhost:3333/api/bundles",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"bulk-add-files",bundleName:ce,fileNames:B})});if(!xe.ok){const he=await xe.text();throw new Error(`Failed to add files to bundle: ${xe.status} ${he}`)}await ye(),Ft.success(`Added ${B.length} files to ${ce}`)}catch(xe){console.error("Bulk add files error:",xe),Ft.error(`Failed to add files: ${xe instanceof Error?xe.message:"Unknown error"}`)}finally{l(xe=>{const he=new Set(xe);return he.delete(Z),he})}},[ye]),se=k.useCallback(async(B,ce)=>{const Z=`bulk-remove-${ce}`;l(xe=>new Set(xe).add(Z));try{const xe=await fetch("http://localhost:3333/api/bundles",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"bulk-remove-files",bundleName:ce,fileNames:B})});if(!xe.ok){const he=await xe.text();throw new Error(`Failed to remove files from bundle: ${xe.status} ${he}`)}await ye(),Ft.success(`Removed ${B.length} files from ${ce}`)}catch(xe){console.error("Bulk remove files error:",xe),Ft.error(`Failed to remove files: ${xe instanceof Error?xe.message:"Unknown error"}`)}finally{l(xe=>{const he=new Set(xe);return he.delete(Z),he})}},[ye]);return T?x.jsxDEV("div",{children:"Loading bundles..."},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/BundleList.tsx",lineNumber:361,columnNumber:25},this):E?x.jsxDEV("div",{className:"h-full flex flex-col relative",children:[x.jsxDEV(Hl,{defaultValue:"bundles",className:"w-full flex-1 flex flex-col min-h-0",children:[x.jsxDEV(Wl,{className:"grid w-full grid-cols-3 bg-background",children:[x.jsxDEV(ir,{value:"bundles",className:"flex items-center gap-2",children:[x.jsxDEV(UN,{className:"w-4 h-4 text-muted-foreground/75"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/BundleList.tsx",lineNumber:369,columnNumber:13},this),"Bundles"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/BundleList.tsx",lineNumber:368,columnNumber:11},this),x.jsxDEV(ir,{value:"files",className:"flex items-center gap-2",children:[x.jsxDEV(mO,{className:"w-4 h-4 text-muted-foreground/75"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/BundleList.tsx",lineNumber:373,columnNumber:13},this),"Project Files"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/BundleList.tsx",lineNumber:372,columnNumber:11},this),x.jsxDEV(ir,{value:"analysis",className:"flex items-center gap-2",children:[x.jsxDEV(Dp,{className:"w-4 h-4 text-muted-foreground/75"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/BundleList.tsx",lineNumber:377,columnNumber:13},this),"File Analysis",de>0&&x.jsxDEV(yn,{variant:"outline",className:"ml-1 bg-warning/10 text-warning border-warning/20 h-4 px-1 py-1 text-xs",children:[x.jsxDEV(Ai,{className:"w-3 h-3 mr-1"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/BundleList.tsx",lineNumber:381,columnNumber:17},this),de]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/BundleList.tsx",lineNumber:380,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/BundleList.tsx",lineNumber:376,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/BundleList.tsx",lineNumber:367,columnNumber:9},this),x.jsxDEV(or,{value:"bundles",className:"flex-1 overflow-y-auto",children:x.jsxDEV("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:pe&&Array.isArray(pe)?pe.map(B=>{const ce=le.find(Z=>Z.name===B.name);return x.jsxDEV(WH,{bundle:B,isSelected:e===B.name,onSelect:O,onRegenerate:ge,onCopy:je,onDownload:_e,loadingButtons:o,successButtons:new Set,errorButtons:new Set,hasUnassignedFiles:(ce==null?void 0:ce.hasUnassignedFiles)??!1,lastRefresh:c},B.name,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/BundleList.tsx",lineNumber:392,columnNumber:17},this)}):x.jsxDEV("div",{children:"No bundles available"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/BundleList.tsx",lineNumber:407,columnNumber:18},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/BundleList.tsx",lineNumber:388,columnNumber:11},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/BundleList.tsx",lineNumber:387,columnNumber:9},this),x.jsxDEV(or,{value:"files",className:"space-y-4",children:x.jsxDEV(oY,{},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/BundleList.tsx",lineNumber:411,columnNumber:11},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/BundleList.tsx",lineNumber:410,columnNumber:9},this),x.jsxDEV(or,{value:"analysis",className:"space-y-4",children:x.jsxDEV(CY,{undercategorizedFiles:Q,bundles:E,addFileToBundle:V,loadFileAnalysis:ye,loadingButtons:o,setButtonState:()=>{},onRemoveFile:()=>{},fileSizes:_},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/BundleList.tsx",lineNumber:414,columnNumber:11},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/BundleList.tsx",lineNumber:413,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/BundleList.tsx",lineNumber:366,columnNumber:7},this),e&&(()=>{const B=E.find(ce=>ce.name===e);return B?x.jsxDEV("div",{className:"fixed top-0 left-0 right-0 bottom-10 z-50 bg-background flex flex-col",children:[x.jsxDEV("div",{className:"sticky top-0 bg-background border-b p-4 flex justify-between items-center flex-shrink-0",children:[x.jsxDEV("h3",{className:"font-thin text-sm flex items-center gap-2",children:[x.jsxDEV(UN,{className:"w-4 h-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/BundleList.tsx",lineNumber:436,columnNumber:17},this),"Bundle Details"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/BundleList.tsx",lineNumber:435,columnNumber:15},this),x.jsxDEV(Dt,{variant:"ghost",size:"sm",onClick:()=>n(null),children:x.jsxDEV(ii,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/BundleList.tsx",lineNumber:440,columnNumber:17},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/BundleList.tsx",lineNumber:439,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/BundleList.tsx",lineNumber:434,columnNumber:13},this),x.jsxDEV("div",{className:"flex-1 min-h-0 overflow-hidden",children:x.jsxDEV(nY,{bundle:B,bundles:E,selectedBundleName:e,editingBundles:r,availableFiles:L,loadingButtons:o,toggleEditMode:Y,removeFileFromBundle:Ke,addFileToBundle:V,addFilesToBundle:ue,removeFilesFromBundle:se,getFileBundles:ne,fileSizes:_,onBundleSelect:O},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/BundleList.tsx",lineNumber:444,columnNumber:15},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/BundleList.tsx",lineNumber:443,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/BundleList.tsx",lineNumber:433,columnNumber:11},this):null})()]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/BundleList.tsx",lineNumber:365,columnNumber:5},this):x.jsxDEV("div",{children:"No bundles found"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/BundleList.tsx",lineNumber:362,columnNumber:24},this)}function nS({className:t,...e}){return x.jsxDEV("textarea",{"data-slot":"textarea",className:Wt("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...e},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/textarea.tsx",lineNumber:7,columnNumber:5},this)}const DY=By("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function em({className:t,variant:e,...n}){return x.jsxDEV("div",{"data-slot":"alert",role:"alert",className:Wt(DY({variant:e}),t),...n},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/alert.tsx",lineNumber:28,columnNumber:5},this)}function tm({className:t,...e}){return x.jsxDEV("div",{"data-slot":"alert-description",className:Wt("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t),...e},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/alert.tsx",lineNumber:55,columnNumber:5},this)}const MY=async()=>{const t=await fetch("http://localhost:3333/api/cursor-rules");if(!t.ok)throw new Error("Failed to fetch cursor rules");return t.text()},jY=async t=>{if(!(await fetch("http://localhost:3333/api/cursor-rules",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:t})})).ok)throw new Error("Failed to save cursor rules")},IY=async()=>{const t=await fetch("http://localhost:3333/api/claude-md");if(!t.ok)throw new Error("Failed to fetch CLAUDE.md");return t.text()},OY=async t=>{if(!(await fetch("http://localhost:3333/api/claude-md",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:t})})).ok)throw new Error("Failed to save CLAUDE.md")};function UY(){const t=Rd(),[e,n]=k.useState(""),[r,s]=k.useState(""),[o,l]=k.useState("cursor"),{data:c,isLoading:f}=Di({queryKey:["cursor-rules"],queryFn:MY}),h=Rx({mutationFn:jY,onSuccess:()=>{t.invalidateQueries({queryKey:["cursor-rules"]}),Ft.success(".cursorrules saved successfully!")},onError:D=>{Ft.error(`Failed to save .cursorrules: ${D.message}`)}}),{data:p,isLoading:m}=Di({queryKey:["claude-md"],queryFn:IY}),b=Rx({mutationFn:OY,onSuccess:()=>{t.invalidateQueries({queryKey:["claude-md"]}),Ft.success("CLAUDE.md saved successfully!")},onError:D=>{Ft.error(`Failed to save CLAUDE.md: ${D.message}`)}});k.useEffect(()=>{c&&!e&&n(c)},[c]),k.useEffect(()=>{p&&!r&&s(p)},[p]);const _=()=>{h.mutate(e)},E=()=>{b.mutate(r)},T=(D,M)=>{navigator.clipboard.writeText(D),Ft.success(`${M} copied to clipboard!`)},C=(D,M)=>{const P=new Blob([D],{type:"text/plain"}),U=URL.createObjectURL(P),L=document.createElement("a");L.href=U,L.download=M,document.body.appendChild(L),L.click(),document.body.removeChild(L),URL.revokeObjectURL(U),Ft.success(`${M} downloaded!`)};return x.jsxDEV(vn,{children:[x.jsxDEV(gr,{children:x.jsxDEV(Nr,{className:"flex items-center gap-2 text-sm font-thin",children:[x.jsxDEV(BN,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:126,columnNumber:11},this),"AI Rules & Context"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:125,columnNumber:9},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:124,columnNumber:7},this),x.jsxDEV(Pn,{children:[x.jsxDEV(em,{className:"mb-4",children:[x.jsxDEV(Kp,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:132,columnNumber:11},this),x.jsxDEV(tm,{children:["Configure AI context files for better assistance. ",x.jsxDEV("strong",{children:".cursorrules"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:134,columnNumber:63},this)," works with Cursor, while ",x.jsxDEV("strong",{children:"CLAUDE.md"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:135,columnNumber:19},this)," provides project context for Claude."]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:133,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:131,columnNumber:9},this),x.jsxDEV(Hl,{value:o,onValueChange:D=>l(D),className:"space-y-4",children:[x.jsxDEV(Wl,{className:"grid w-full grid-cols-2",children:[x.jsxDEV(ir,{value:"cursor",className:"flex items-center gap-2",children:[x.jsxDEV(Yp,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:142,columnNumber:15},this),".cursorrules"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:141,columnNumber:13},this),x.jsxDEV(ir,{value:"claude",className:"flex items-center gap-2",children:[x.jsxDEV(BN,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:146,columnNumber:15},this),"CLAUDE.md"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:145,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:140,columnNumber:11},this),x.jsxDEV(or,{value:"cursor",className:"space-y-4",children:[x.jsxDEV("div",{className:"flex justify-between items-center",children:[x.jsxDEV("div",{children:[x.jsxDEV("h3",{className:"text-sm font-thin",children:"Cursor AI Assistant Rules"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:154,columnNumber:17},this),x.jsxDEV("p",{className:"text-xs text-muted-foreground font-thin",children:"Configure how Cursor's AI understands your project"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:155,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:153,columnNumber:15},this),x.jsxDEV("div",{className:"flex gap-2",children:[x.jsxDEV(Dt,{variant:"outline",size:"sm",className:"h-7 text-xs",onClick:()=>T(e,".cursorrules"),children:[x.jsxDEV(pd,{className:"w-3 h-3 mr-1"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:166,columnNumber:19},this),"Copy"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:160,columnNumber:17},this),x.jsxDEV(Dt,{variant:"outline",size:"sm",className:"h-7 text-xs",onClick:()=>C(e,".cursorrules"),children:[x.jsxDEV(kx,{className:"w-3 h-3 mr-1"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:175,columnNumber:19},this),"Download"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:169,columnNumber:17},this),x.jsxDEV(Dt,{onClick:_,disabled:h.isPending,size:"sm",className:"h-7 text-xs",children:[x.jsxDEV(Dx,{className:"w-3 h-3 mr-1"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:184,columnNumber:19},this),"Save"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:178,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:159,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:152,columnNumber:13},this),f?x.jsxDEV("div",{className:"flex items-center justify-center p-8",children:[x.jsxDEV(Hs,{className:"w-6 h-6 animate-spin mr-2"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:192,columnNumber:17},this),"Loading..."]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:191,columnNumber:15},this):x.jsxDEV(nS,{value:e,onChange:D=>n(D.target.value),placeholder:"Enter your Cursor AI rules here...",className:"min-h-[300px] font-mono text-sm"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:196,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:151,columnNumber:11},this),x.jsxDEV(or,{value:"claude",className:"space-y-4",children:[x.jsxDEV("div",{className:"flex justify-between items-center",children:[x.jsxDEV("div",{children:[x.jsxDEV("h3",{className:"text-sm font-thin",children:"Claude Project Context"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:208,columnNumber:17},this),x.jsxDEV("p",{className:"text-xs text-muted-foreground font-thin",children:"Markdown file explaining your project structure and guidelines"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:209,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:207,columnNumber:15},this),x.jsxDEV("div",{className:"flex gap-2",children:[x.jsxDEV(Dt,{variant:"outline",size:"sm",className:"h-7 text-xs",onClick:()=>T(r,"CLAUDE.md"),children:[x.jsxDEV(pd,{className:"w-3 h-3 mr-1"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:220,columnNumber:19},this),"Copy"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:214,columnNumber:17},this),x.jsxDEV(Dt,{variant:"outline",size:"sm",className:"h-7 text-xs",onClick:()=>C(r,"CLAUDE.md"),children:[x.jsxDEV(kx,{className:"w-3 h-3 mr-1"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:229,columnNumber:19},this),"Download"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:223,columnNumber:17},this),x.jsxDEV(Dt,{onClick:E,disabled:b.isPending,size:"sm",className:"h-7 text-xs",children:[x.jsxDEV(Dx,{className:"w-3 h-3 mr-1"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:238,columnNumber:19},this),"Save"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:232,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:213,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:206,columnNumber:13},this),m?x.jsxDEV("div",{className:"flex items-center justify-center p-8",children:[x.jsxDEV(Hs,{className:"w-6 h-6 animate-spin mr-2"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:246,columnNumber:17},this),"Loading..."]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:245,columnNumber:15},this):x.jsxDEV(nS,{value:r,onChange:D=>s(D.target.value),placeholder:"Enter your Claude project context here...",className:"min-h-[300px] font-mono text-sm"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:250,columnNumber:15},this),x.jsxDEV(em,{children:[x.jsxDEV(Kp,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:259,columnNumber:15},this),x.jsxDEV(tm,{children:"This file helps Claude understand your project. Include project structure, coding conventions, key concepts, and any important context."},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:260,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:258,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:205,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:139,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:130,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:123,columnNumber:5},this)}const GD=[{path:"/api/status",method:"GET",description:"Server status and health"},{path:"/api/bundles",method:"GET",description:"List all bundles"},{path:"/api/config",method:"GET",description:"Get bundle configuration"},{path:"/api/files",method:"GET",description:"Get file tree"},{path:"/api/semantic-chunks",method:"GET",description:"Get semantic analysis"},{path:"/api/vector-db/status",method:"GET",description:"Vector database status"},{path:"/api/cursor-rules",method:"GET",description:"Cursor rules configuration"},{path:"/api/claude-md",method:"GET",description:"Claude.md file content"},{path:"/api/activities",method:"GET",description:"Available activities"},{path:"/api/mcp-status",method:"GET",description:"MCP server status"}],Ef=[{name:"list_bundles",description:"List all available file bundles",group:"Bundle Management"},{name:"get_bundle",description:"Get the content of a specific bundle",group:"Bundle Management"},{name:"generate_bundle",description:"Regenerate a specific bundle",group:"Bundle Management"},{name:"create_bundle",description:"Create a new bundle with specified patterns",group:"Bundle Management"},{name:"update_bundle",description:"Update an existing bundle's patterns",group:"Bundle Management"},{name:"delete_bundle",description:"Delete an existing bundle",group:"Bundle Management"},{name:"get_file_tree",description:"Get the project file tree",group:"Project Exploration"},{name:"get_project_status",description:"Get current project status and bundle information",group:"Project Exploration"},{name:"update_cntxignore",description:"Update the .cntxignore file with new ignore patterns",group:"Project Exploration"},{name:"get_semantic_chunks",description:"Get function-level semantic chunks from the codebase",group:"Semantic Analysis"},{name:"get_semantic_chunks_filtered",description:"Get semantic chunks filtered by purpose, type, complexity, or bundle",group:"Semantic Analysis"},{name:"analyze_bundle_suggestions",description:"Analyze codebase and suggest optimal bundle organization",group:"Semantic Analysis"},{name:"agent_discover",description:"Agent Discovery Mode: Get comprehensive codebase overview",group:"Agent Modes"},{name:"agent_query",description:"Agent Query Mode: Answer specific questions about the codebase",group:"Agent Modes"},{name:"agent_investigate",description:"Agent Investigation Mode: Investigate existing implementations for a feature",group:"Agent Modes"},{name:"agent_discuss",description:"Agent Passive Mode: Engage in discussion about codebase architecture",group:"Agent Modes"},{name:"agent_organize",description:"Agent Project Organizer Mode: Setup and maintenance of project organization",group:"Agent Modes"},{name:"read_file",description:"Read contents of a specific file with bundle context and metadata",group:"File Operations"},{name:"write_file",description:"Write content to a file with validation and safety checks",group:"File Operations"},{name:"manage_activities",description:"CRUD operations for project activities",group:"Activities Management"}],VY=async()=>{const t=await fetch("http://localhost:3333/api/status");if(!t.ok)throw new Error("Failed to fetch server status");return t.json()},FY=async t=>{const e=Date.now();try{const n=await fetch(`http://localhost:3333${t.path}`),r=Date.now()-e;return n.ok?{...t,status:"success",responseTime:r}:{...t,status:"error",responseTime:r,error:`HTTP ${n.status}`}}catch(n){const r=Date.now()-e;return{...t,status:"error",responseTime:r,error:n instanceof Error?n.message:"Unknown error"}}},BY=async t=>{try{const e=await fetch("http://localhost:3333/api/mcp-status");return e.ok?(await e.json()).enabled?{...t,status:"available"}:{...t,status:"error",error:"MCP server not enabled"}:{...t,status:"error",error:"MCP status unavailable"}}catch(e){return{...t,status:"error",error:e instanceof Error?e.message:"Unknown error"}}};function LY(){var L,O,Y,ne,G,K;const[t,e]=k.useState([]),[n,r]=k.useState([]),[s,o]=k.useState(!1),[l,c]=k.useState("All"),{data:f,isLoading:h,error:p,refetch:m}=Di({queryKey:["server-status"],queryFn:VY,refetchInterval:5e3}),b=async()=>{o(!0);try{const Q=await Promise.all(GD.map(de=>FY(de)));e(Q)}catch(Q){console.error("Failed to run endpoint tests:",Q)}finally{o(!1)}},_=async()=>{o(!0);try{const Q=await Promise.all(Ef.map(de=>BY(de)));r(Q)}catch(Q){console.error("Failed to run MCP tests:",Q)}finally{o(!1)}},E=Q=>{if(Q<60)return`${Math.floor(Q)}s`;if(Q<3600)return`${Math.floor(Q/60)}m ${Math.floor(Q%60)}s`;const de=Math.floor(Q/3600),pe=Math.floor(Q%3600/60);return`${de}h ${pe}m`},T=Q=>{const de=Q/1024/1024;return`${Math.round(de)}MB`},C=()=>["All",...new Set(Ef.map(de=>de.group))],D=()=>l==="All"?Ef:Ef.filter(Q=>Q.group===l),M=()=>D().reduce((pe,le)=>(pe[le.group]||(pe[le.group]=[]),pe[le.group].push(le),pe),{}),P=(Q,de)=>{var pe,le,ye,ge,je;if(typeof Q=="string")return Q.length>100?Q.substring(0,100)+"...":Q;if(Array.isArray(Q))return`Array with ${Q.length} items`;if(typeof Q=="object"&&Q!==null){const _e=Object.keys(Q);if(de.includes("/api/status"))return`Uptime: ${Math.floor(Q.uptime||0)}s, Memory: ${Math.round((((pe=Q.memory)==null?void 0:pe.heapUsed)||0)/1024/1024)}MB, Files: ${Q.totalFiles||0}`;if(de.includes("/api/bundles"))return`${Q.length||_e.length} bundles found`;if(de.includes("/api/semantic-chunks"))return`${((le=Q.chunks)==null?void 0:le.length)||0} chunks, ${((ye=Q.summary)==null?void 0:ye.totalFunctions)||0} functions`;if(de.includes("/api/vector-db/status"))return`${((ge=Q.stats)==null?void 0:ge.totalChunks)||0} chunks indexed with ${((je=Q.stats)==null?void 0:je.modelName)||"unknown model"}`;if(de.includes("/api/activities"))return`${Q.length||_e.length} activities found`;const Ke=_e.slice(0,3).map(V=>{const ue=Q[V];return typeof ue=="object"?`${V}: ${Array.isArray(ue)?`[${ue.length}]`:"{object}"}`:`${V}: ${String(ue).substring(0,20)}`}).join(", ");return _e.length>3?`${Ke}... (+${_e.length-3} more)`:Ke}return String(Q).substring(0,100)},U=async Q=>{const de=Date.now();try{const pe=await fetch(`http://localhost:3333${Q.path}`),le=Date.now()-de;if(pe.ok){const ye=await pe.json(),ge=P(ye,Q.path);Ft.success(`${Q.path} (${le}ms)`,ge)}else Ft.error(`${Q.path} failed`,`HTTP ${pe.status} (${le}ms)`)}catch(pe){const le=Date.now()-de;Ft.error(`${Q.path} error`,`${pe instanceof Error?pe.message:"Unknown error"} (${le}ms)`)}};return h?x.jsxDEV(vn,{children:x.jsxDEV(Pn,{className:"pt-6",children:x.jsxDEV("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[x.jsxDEV(Hs,{className:"w-4 h-4 animate-spin"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:290,columnNumber:13},this),"Checking system status..."]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:289,columnNumber:11},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:288,columnNumber:9},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:287,columnNumber:7},this):p?x.jsxDEV(vn,{children:x.jsxDEV(Pn,{className:"p-4",children:x.jsxDEV("div",{className:"text-center space-y-2",children:[x.jsxDEV(Ai,{className:"h-6 w-6 mx-auto text-red-500"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:303,columnNumber:13},this),x.jsxDEV("p",{className:"text-sm font-medium",children:"Failed to connect to server"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:304,columnNumber:13},this),x.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Make sure the cntx-ui server is running on localhost:3333"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:305,columnNumber:13},this),x.jsxDEV(Dt,{variant:"outline",size:"sm",onClick:()=>m(),children:[x.jsxDEV(Hs,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:309,columnNumber:15},this),"Retry"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:308,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:302,columnNumber:11},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:301,columnNumber:9},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:300,columnNumber:7},this):x.jsxDEV("div",{className:"space-y-4",children:[x.jsxDEV(vn,{children:[x.jsxDEV(gr,{children:x.jsxDEV(Nr,{className:"flex items-center gap-2",children:[x.jsxDEV(J7,{className:"w-5 h-5"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:324,columnNumber:13},this),"Server Status",x.jsxDEV(Gi,{className:"w-4 h-4 text-green-600"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:326,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:323,columnNumber:11},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:322,columnNumber:9},this),x.jsxDEV(Pn,{children:[x.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[x.jsxDEV("div",{children:[x.jsxDEV("div",{className:"text-muted-foreground",children:"Uptime"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:332,columnNumber:15},this),x.jsxDEV("div",{className:"font-medium",children:E((f==null?void 0:f.uptime)||0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:333,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:331,columnNumber:13},this),x.jsxDEV("div",{children:[x.jsxDEV("div",{className:"text-muted-foreground",children:"Memory"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:336,columnNumber:15},this),x.jsxDEV("div",{className:"font-medium",children:T(((L=f==null?void 0:f.memory)==null?void 0:L.heapUsed)||0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:337,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:335,columnNumber:13},this),x.jsxDEV("div",{children:[x.jsxDEV("div",{className:"text-muted-foreground",children:"Total Files"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:340,columnNumber:15},this),x.jsxDEV("div",{className:"font-medium",children:(f==null?void 0:f.totalFiles)||0},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:341,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:339,columnNumber:13},this),x.jsxDEV("div",{children:[x.jsxDEV("div",{className:"text-muted-foreground",children:"Bundles"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:344,columnNumber:15},this),x.jsxDEV("div",{className:"font-medium",children:((O=f==null?void 0:f.bundles)==null?void 0:O.length)||0},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:345,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:343,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:330,columnNumber:11},this),x.jsxDEV("div",{className:"mt-4 flex flex-wrap gap-2",children:[x.jsxDEV(yn,{variant:f!=null&&f.scanning?"destructive":"secondary",children:f!=null&&f.scanning?"Scanning":"Idle"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:350,columnNumber:13},this),x.jsxDEV(yn,{variant:(Y=f==null?void 0:f.mcp)!=null&&Y.enabled?"default":"secondary",children:["MCP: ",(ne=f==null?void 0:f.mcp)!=null&&ne.enabled?"Enabled":"Disabled"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:353,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:349,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:329,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:321,columnNumber:7},this),x.jsxDEV(Hl,{defaultValue:"endpoints",className:"w-full",children:[x.jsxDEV(Wl,{className:"grid w-full grid-cols-2",children:[x.jsxDEV(ir,{value:"endpoints",className:"flex items-center gap-2",children:[x.jsxDEV(d7,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:364,columnNumber:13},this),"API Endpoints"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:363,columnNumber:11},this),x.jsxDEV(ir,{value:"mcp",className:"flex items-center gap-2",children:[x.jsxDEV(yE,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:368,columnNumber:13},this),"MCP Tools"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:367,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:362,columnNumber:9},this),x.jsxDEV(or,{value:"endpoints",className:"space-y-4",children:x.jsxDEV(vn,{children:[x.jsxDEV(gr,{children:x.jsxDEV("div",{className:"flex items-center justify-between",children:[x.jsxDEV(Nr,{className:"text-lg",children:"API Endpoints"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:377,columnNumber:17},this),x.jsxDEV(Dt,{onClick:b,disabled:s,size:"sm",variant:"outline",children:[x.jsxDEV(pD,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:384,columnNumber:19},this),s?"Testing...":"Test All"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:378,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:376,columnNumber:15},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:375,columnNumber:13},this),x.jsxDEV(Pn,{children:x.jsxDEV("div",{className:"space-y-2",children:GD.map((Q,de)=>{const pe=t.find(le=>le.path===Q.path);return x.jsxDEV("div",{className:"flex items-center justify-between py-2 px-3 bg-muted/30 rounded-lg",children:[x.jsxDEV("div",{className:"flex-1",children:[x.jsxDEV("div",{className:"flex items-center gap-2",children:[x.jsxDEV(yn,{variant:"outline",className:"text-xs",children:Q.method},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:397,columnNumber:27},this),x.jsxDEV("code",{className:"text-sm",children:Q.path},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:400,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:396,columnNumber:25},this),x.jsxDEV("div",{className:"text-xs text-muted-foreground mt-1",children:Q.description},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:402,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:395,columnNumber:23},this),x.jsxDEV("div",{className:"flex items-center gap-2",children:[x.jsxDEV(Dt,{variant:"ghost",size:"sm",onClick:()=>U(Q),className:"h-7 w-7 p-0",title:`Test ${Q.path}`,children:x.jsxDEV(W7,{className:"w-3 h-3"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:414,columnNumber:27},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:407,columnNumber:25},this),pe&&x.jsxDEV(x.Fragment,{children:[x.jsxDEV("span",{className:"text-xs text-muted-foreground",children:[pe.responseTime,"ms"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:418,columnNumber:29},this),pe.status==="success"?x.jsxDEV(Gi,{className:"w-4 h-4 text-green-600"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:422,columnNumber:31},this):pe.status==="error"?x.jsxDEV("div",{title:pe.error,children:x.jsxDEV(Ai,{className:"w-4 h-4 text-red-600"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:425,columnNumber:33},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:424,columnNumber:31},this):x.jsxDEV("div",{className:"w-4 h-4 bg-gray-300 rounded-full"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:428,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:417,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:406,columnNumber:23},this)]},Q.path,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:394,columnNumber:21},this)})},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:390,columnNumber:15},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:389,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:374,columnNumber:11},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:373,columnNumber:9},this),x.jsxDEV(or,{value:"mcp",className:"space-y-4",children:x.jsxDEV(vn,{children:[x.jsxDEV(gr,{children:x.jsxDEV("div",{className:"flex items-center justify-between",children:[x.jsxDEV(Nr,{className:"text-lg",children:"MCP Tools"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:445,columnNumber:17},this),x.jsxDEV("div",{className:"flex items-center gap-3",children:[x.jsxDEV(wa,{value:l,onValueChange:c,children:[x.jsxDEV(Mo,{className:"w-48",children:x.jsxDEV(yl,{placeholder:"Filter by group"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:449,columnNumber:23},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:448,columnNumber:21},this),x.jsxDEV(jo,{children:C().map(Q=>x.jsxDEV(wr,{value:Q,children:[Q," ",Q==="All"?`(${Ef.length})`:`(${Ef.filter(de=>de.group===Q).length})`]},Q,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:453,columnNumber:25},this))},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:451,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:447,columnNumber:19},this),x.jsxDEV(Dt,{onClick:_,disabled:s||!((G=f==null?void 0:f.mcp)!=null&&G.enabled),size:"sm",variant:"outline",children:[x.jsxDEV(pD,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:465,columnNumber:21},this),s?"Testing...":"Test All"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:459,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:446,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:444,columnNumber:15},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:443,columnNumber:13},this),x.jsxDEV(Pn,{children:[!((K=f==null?void 0:f.mcp)!=null&&K.enabled)&&x.jsxDEV(em,{className:"mb-4",children:[x.jsxDEV(Kp,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:474,columnNumber:19},this),x.jsxDEV(tm,{children:"MCP server is not enabled. MCP tools will not be available."},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:475,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:473,columnNumber:17},this),x.jsxDEV("div",{className:"space-y-4",children:l==="All"?Object.entries(M()).map(([Q,de])=>x.jsxDEV("div",{className:"space-y-2",children:[x.jsxDEV("div",{className:"flex items-center gap-2 pb-2 border-b",children:[x.jsxDEV("h4",{className:"text-sm font-medium text-muted-foreground",children:Q},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:487,columnNumber:25},this),x.jsxDEV(yn,{variant:"outline",className:"text-xs",children:[de.length," tools"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:488,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:486,columnNumber:23},this),x.jsxDEV("div",{className:"space-y-2",children:de.map(pe=>{const le=n.find(ye=>ye.name===pe.name);return x.jsxDEV("div",{className:"flex items-center justify-between py-2 px-3 bg-muted/30 rounded-lg",children:[x.jsxDEV("div",{className:"flex-1",children:[x.jsxDEV("div",{className:"font-medium text-sm",children:pe.name},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:498,columnNumber:33},this),x.jsxDEV("div",{className:"text-xs text-muted-foreground mt-1",children:pe.description},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:499,columnNumber:33},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:497,columnNumber:31},this),x.jsxDEV("div",{className:"flex items-center gap-2",children:le?le.status==="available"?x.jsxDEV(Gi,{className:"w-4 h-4 text-green-600"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:506,columnNumber:37},this):x.jsxDEV("div",{title:le.error,children:x.jsxDEV(Ai,{className:"w-4 h-4 text-red-600"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:509,columnNumber:33},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:508,columnNumber:37},this):x.jsxDEV("div",{className:"w-4 h-4 bg-gray-300 rounded-full"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:513,columnNumber:35},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:503,columnNumber:31},this)]},pe.name,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:496,columnNumber:29},this)})},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:492,columnNumber:23},this)]},Q,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:485,columnNumber:21},this)):x.jsxDEV("div",{className:"space-y-2",children:D().map(Q=>{const de=n.find(pe=>pe.name===Q.name);return x.jsxDEV("div",{className:"flex items-center justify-between py-2 px-3 bg-muted/30 rounded-lg",children:[x.jsxDEV("div",{className:"flex-1",children:[x.jsxDEV("div",{className:"font-medium text-sm",children:Q.name},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:530,columnNumber:29},this),x.jsxDEV("div",{className:"text-xs text-muted-foreground mt-1",children:Q.description},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:531,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:529,columnNumber:27},this),x.jsxDEV("div",{className:"flex items-center gap-2",children:de?de.status==="available"?x.jsxDEV(Gi,{className:"w-4 h-4 text-green-600"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:538,columnNumber:33},this):x.jsxDEV("div",{title:de.error,children:x.jsxDEV(Ai,{className:"w-4 h-4 text-red-600"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:541,columnNumber:33},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:540,columnNumber:33},this):x.jsxDEV("div",{className:"w-4 h-4 bg-gray-300 rounded-full"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:545,columnNumber:31},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:535,columnNumber:27},this)]},Q.name,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:528,columnNumber:25},this)})},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:524,columnNumber:19},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:481,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:471,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:442,columnNumber:11},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:441,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:361,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:319,columnNumber:5},this)}var d1={exports:{}},QD;function zY(){return QD||(QD=1,function(t){var e=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var n=function(r){var s=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,o=0,l={},c={manual:r.Prism&&r.Prism.manual,disableWorkerMessageHandler:r.Prism&&r.Prism.disableWorkerMessageHandler,util:{encode:function M(P){return P instanceof f?new f(P.type,M(P.content),P.alias):Array.isArray(P)?P.map(M):P.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(M){return Object.prototype.toString.call(M).slice(8,-1)},objId:function(M){return M.__id||Object.defineProperty(M,"__id",{value:++o}),M.__id},clone:function M(P,U){U=U||{};var L,O;switch(c.util.type(P)){case"Object":if(O=c.util.objId(P),U[O])return U[O];L={},U[O]=L;for(var Y in P)P.hasOwnProperty(Y)&&(L[Y]=M(P[Y],U));return L;case"Array":return O=c.util.objId(P),U[O]?U[O]:(L=[],U[O]=L,P.forEach(function(ne,G){L[G]=M(ne,U)}),L);default:return P}},getLanguage:function(M){for(;M;){var P=s.exec(M.className);if(P)return P[1].toLowerCase();M=M.parentElement}return"none"},setLanguage:function(M,P){M.className=M.className.replace(RegExp(s,"gi"),""),M.classList.add("language-"+P)},currentScript:function(){if(typeof document>"u")return null;if(document.currentScript&&document.currentScript.tagName==="SCRIPT")return document.currentScript;try{throw new Error}catch(L){var M=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(L.stack)||[])[1];if(M){var P=document.getElementsByTagName("script");for(var U in P)if(P[U].src==M)return P[U]}return null}},isActive:function(M,P,U){for(var L="no-"+P;M;){var O=M.classList;if(O.contains(P))return!0;if(O.contains(L))return!1;M=M.parentElement}return!!U}},languages:{plain:l,plaintext:l,text:l,txt:l,extend:function(M,P){var U=c.util.clone(c.languages[M]);for(var L in P)U[L]=P[L];return U},insertBefore:function(M,P,U,L){L=L||c.languages;var O=L[M],Y={};for(var ne in O)if(O.hasOwnProperty(ne)){if(ne==P)for(var G in U)U.hasOwnProperty(G)&&(Y[G]=U[G]);U.hasOwnProperty(ne)||(Y[ne]=O[ne])}var K=L[M];return L[M]=Y,c.languages.DFS(c.languages,function(Q,de){de===K&&Q!=M&&(this[Q]=Y)}),Y},DFS:function M(P,U,L,O){O=O||{};var Y=c.util.objId;for(var ne in P)if(P.hasOwnProperty(ne)){U.call(P,ne,P[ne],L||ne);var G=P[ne],K=c.util.type(G);K==="Object"&&!O[Y(G)]?(O[Y(G)]=!0,M(G,U,null,O)):K==="Array"&&!O[Y(G)]&&(O[Y(G)]=!0,M(G,U,ne,O))}}},plugins:{},highlightAll:function(M,P){c.highlightAllUnder(document,M,P)},highlightAllUnder:function(M,P,U){var L={callback:U,container:M,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};c.hooks.run("before-highlightall",L),L.elements=Array.prototype.slice.apply(L.container.querySelectorAll(L.selector)),c.hooks.run("before-all-elements-highlight",L);for(var O=0,Y;Y=L.elements[O++];)c.highlightElement(Y,P===!0,L.callback)},highlightElement:function(M,P,U){var L=c.util.getLanguage(M),O=c.languages[L];c.util.setLanguage(M,L);var Y=M.parentElement;Y&&Y.nodeName.toLowerCase()==="pre"&&c.util.setLanguage(Y,L);var ne=M.textContent,G={element:M,language:L,grammar:O,code:ne};function K(de){G.highlightedCode=de,c.hooks.run("before-insert",G),G.element.innerHTML=G.highlightedCode,c.hooks.run("after-highlight",G),c.hooks.run("complete",G),U&&U.call(G.element)}if(c.hooks.run("before-sanity-check",G),Y=G.element.parentElement,Y&&Y.nodeName.toLowerCase()==="pre"&&!Y.hasAttribute("tabindex")&&Y.setAttribute("tabindex","0"),!G.code){c.hooks.run("complete",G),U&&U.call(G.element);return}if(c.hooks.run("before-highlight",G),!G.grammar){K(c.util.encode(G.code));return}if(P&&r.Worker){var Q=new Worker(c.filename);Q.onmessage=function(de){K(de.data)},Q.postMessage(JSON.stringify({language:G.language,code:G.code,immediateClose:!0}))}else K(c.highlight(G.code,G.grammar,G.language))},highlight:function(M,P,U){var L={code:M,grammar:P,language:U};if(c.hooks.run("before-tokenize",L),!L.grammar)throw new Error('The language "'+L.language+'" has no grammar.');return L.tokens=c.tokenize(L.code,L.grammar),c.hooks.run("after-tokenize",L),f.stringify(c.util.encode(L.tokens),L.language)},tokenize:function(M,P){var U=P.rest;if(U){for(var L in U)P[L]=U[L];delete P.rest}var O=new m;return b(O,O.head,M),p(M,O,P,O.head,0),E(O)},hooks:{all:{},add:function(M,P){var U=c.hooks.all;U[M]=U[M]||[],U[M].push(P)},run:function(M,P){var U=c.hooks.all[M];if(!(!U||!U.length))for(var L=0,O;O=U[L++];)O(P)}},Token:f};r.Prism=c;function f(M,P,U,L){this.type=M,this.content=P,this.alias=U,this.length=(L||"").length|0}f.stringify=function M(P,U){if(typeof P=="string")return P;if(Array.isArray(P)){var L="";return P.forEach(function(K){L+=M(K,U)}),L}var O={type:P.type,content:M(P.content,U),tag:"span",classes:["token",P.type],attributes:{},language:U},Y=P.alias;Y&&(Array.isArray(Y)?Array.prototype.push.apply(O.classes,Y):O.classes.push(Y)),c.hooks.run("wrap",O);var ne="";for(var G in O.attributes)ne+=" "+G+'="'+(O.attributes[G]||"").replace(/"/g,"&quot;")+'"';return"<"+O.tag+' class="'+O.classes.join(" ")+'"'+ne+">"+O.content+"</"+O.tag+">"};function h(M,P,U,L){M.lastIndex=P;var O=M.exec(U);if(O&&L&&O[1]){var Y=O[1].length;O.index+=Y,O[0]=O[0].slice(Y)}return O}function p(M,P,U,L,O,Y){for(var ne in U)if(!(!U.hasOwnProperty(ne)||!U[ne])){var G=U[ne];G=Array.isArray(G)?G:[G];for(var K=0;K<G.length;++K){if(Y&&Y.cause==ne+","+K)return;var Q=G[K],de=Q.inside,pe=!!Q.lookbehind,le=!!Q.greedy,ye=Q.alias;if(le&&!Q.pattern.global){var ge=Q.pattern.toString().match(/[imsuy]*$/)[0];Q.pattern=RegExp(Q.pattern.source,ge+"g")}for(var je=Q.pattern||Q,_e=L.next,Ke=O;_e!==P.tail&&!(Y&&Ke>=Y.reach);Ke+=_e.value.length,_e=_e.next){var V=_e.value;if(P.length>M.length)return;if(!(V instanceof f)){var ue=1,se;if(le){if(se=h(je,Ke,M,pe),!se||se.index>=M.length)break;var xe=se.index,B=se.index+se[0].length,ce=Ke;for(ce+=_e.value.length;xe>=ce;)_e=_e.next,ce+=_e.value.length;if(ce-=_e.value.length,Ke=ce,_e.value instanceof f)continue;for(var Z=_e;Z!==P.tail&&(ce<B||typeof Z.value=="string");Z=Z.next)ue++,ce+=Z.value.length;ue--,V=M.slice(Ke,ce),se.index-=Ke}else if(se=h(je,0,V,pe),!se)continue;var xe=se.index,he=se[0],oe=V.slice(0,xe),Pe=V.slice(xe+he.length),qe=Ke+V.length;Y&&qe>Y.reach&&(Y.reach=qe);var Ye=_e.prev;oe&&(Ye=b(P,Ye,oe),Ke+=oe.length),_(P,Ye,ue);var tt=new f(ne,de?c.tokenize(he,de):he,ye,he);if(_e=b(P,Ye,tt),Pe&&b(P,_e,Pe),ue>1){var Ue={cause:ne+","+K,reach:qe};p(M,P,U,_e.prev,Ke,Ue),Y&&Ue.reach>Y.reach&&(Y.reach=Ue.reach)}}}}}}function m(){var M={value:null,prev:null,next:null},P={value:null,prev:M,next:null};M.next=P,this.head=M,this.tail=P,this.length=0}function b(M,P,U){var L=P.next,O={value:U,prev:P,next:L};return P.next=O,L.prev=O,M.length++,O}function _(M,P,U){for(var L=P.next,O=0;O<U&&L!==M.tail;O++)L=L.next;P.next=L,L.prev=P,M.length-=O}function E(M){for(var P=[],U=M.head.next;U!==M.tail;)P.push(U.value),U=U.next;return P}if(!r.document)return r.addEventListener&&(c.disableWorkerMessageHandler||r.addEventListener("message",function(M){var P=JSON.parse(M.data),U=P.language,L=P.code,O=P.immediateClose;r.postMessage(c.highlight(L,c.languages[U],U)),O&&r.close()},!1)),c;var T=c.util.currentScript();T&&(c.filename=T.src,T.hasAttribute("data-manual")&&(c.manual=!0));function C(){c.manual||c.highlightAll()}if(!c.manual){var D=document.readyState;D==="loading"||D==="interactive"&&T&&T.defer?document.addEventListener("DOMContentLoaded",C):window.requestAnimationFrame?window.requestAnimationFrame(C):window.setTimeout(C,16)}return c}(e);t.exports&&(t.exports=n),typeof VP<"u"&&(VP.Prism=n),n.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},n.languages.markup.tag.inside["attr-value"].inside.entity=n.languages.markup.entity,n.languages.markup.doctype.inside["internal-subset"].inside=n.languages.markup,n.hooks.add("wrap",function(r){r.type==="entity"&&(r.attributes.title=r.content.replace(/&amp;/,"&"))}),Object.defineProperty(n.languages.markup.tag,"addInlined",{value:function(s,o){var l={};l["language-"+o]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:n.languages[o]},l.cdata=/^<!\[CDATA\[|\]\]>$/i;var c={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:l}};c["language-"+o]={pattern:/[\s\S]+/,inside:n.languages[o]};var f={};f[s]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return s}),"i"),lookbehind:!0,greedy:!0,inside:c},n.languages.insertBefore("markup","cdata",f)}}),Object.defineProperty(n.languages.markup.tag,"addAttribute",{value:function(r,s){n.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+r+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[s,"language-"+s],inside:n.languages[s]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),n.languages.html=n.languages.markup,n.languages.mathml=n.languages.markup,n.languages.svg=n.languages.markup,n.languages.xml=n.languages.extend("markup",{}),n.languages.ssml=n.languages.xml,n.languages.atom=n.languages.xml,n.languages.rss=n.languages.xml,function(r){var s=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;r.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+s.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+s.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+s.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+s.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:s,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},r.languages.css.atrule.inside.rest=r.languages.css;var o=r.languages.markup;o&&(o.tag.addInlined("style","css"),o.tag.addAttribute("style","css"))}(n),n.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},n.languages.javascript=n.languages.extend("clike",{"class-name":[n.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),n.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,n.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:n.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:n.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:n.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:n.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:n.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),n.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:n.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),n.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),n.languages.markup&&(n.languages.markup.tag.addInlined("script","javascript"),n.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),n.languages.js=n.languages.javascript,function(){if(typeof n>"u"||typeof document>"u")return;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var r="Loading…",s=function(T,C){return"✖ Error "+T+" while fetching file: "+C},o="✖ Error: File does not exist or is empty",l={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},c="data-src-status",f="loading",h="loaded",p="failed",m="pre[data-src]:not(["+c+'="'+h+'"]):not(['+c+'="'+f+'"])';function b(T,C,D){var M=new XMLHttpRequest;M.open("GET",T,!0),M.onreadystatechange=function(){M.readyState==4&&(M.status<400&&M.responseText?C(M.responseText):M.status>=400?D(s(M.status,M.statusText)):D(o))},M.send(null)}function _(T){var C=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(T||"");if(C){var D=Number(C[1]),M=C[2],P=C[3];return M?P?[D,Number(P)]:[D,void 0]:[D,D]}}n.hooks.add("before-highlightall",function(T){T.selector+=", "+m}),n.hooks.add("before-sanity-check",function(T){var C=T.element;if(C.matches(m)){T.code="",C.setAttribute(c,f);var D=C.appendChild(document.createElement("CODE"));D.textContent=r;var M=C.getAttribute("data-src"),P=T.language;if(P==="none"){var U=(/\.(\w+)$/.exec(M)||[,"none"])[1];P=l[U]||U}n.util.setLanguage(D,P),n.util.setLanguage(C,P);var L=n.plugins.autoloader;L&&L.loadLanguages(P),b(M,function(O){C.setAttribute(c,h);var Y=_(C.getAttribute("data-range"));if(Y){var ne=O.split(/\r\n?|\n/g),G=Y[0],K=Y[1]==null?ne.length:Y[1];G<0&&(G+=ne.length),G=Math.max(0,Math.min(G-1,ne.length)),K<0&&(K+=ne.length),K=Math.max(0,Math.min(K,ne.length)),O=ne.slice(G,K).join(`
`),C.hasAttribute("data-start")||C.setAttribute("data-start",String(G+1))}D.textContent=O,n.highlightElement(D)},function(O){C.setAttribute(c,p),D.textContent=O})}}),n.plugins.fileHighlight={highlight:function(C){for(var D=(C||document).querySelectorAll(m),M=0,P;P=D[M++];)n.highlightElement(P)}};var E=!1;n.fileHighlight=function(){E||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),E=!0),n.plugins.fileHighlight.highlight.apply(this,arguments)}}()}(d1)),d1.exports}var $Y=zY();const h1=bu($Y);Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/});Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/;Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/});Prism.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}});Prism.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}});Prism.languages.markup&&(Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript"));Prism.languages.js=Prism.languages.javascript;var JD={},e2;function HY(){return e2||(e2=1,function(t){t.languages.typescript=t.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),t.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete t.languages.typescript.parameter,delete t.languages.typescript["literal-property"];var e=t.languages.extend("typescript",{});delete e["class-name"],t.languages.typescript["class-name"].inside=e,t.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:e}}}}),t.languages.ts=t.languages.typescript}(Prism)),JD}HY();(function(t){var e=t.util.clone(t.languages.javascript),n=/(?:\s|\/\/.*(?!.)|\/\*(?:[^*]|\*(?!\/))\*\/)/.source,r=/(?:\{(?:\{(?:\{[^{}]*\}|[^{}])*\}|[^{}])*\})/.source,s=/(?:\{<S>*\.{3}(?:[^{}]|<BRACES>)*\})/.source;function o(f,h){return f=f.replace(/<S>/g,function(){return n}).replace(/<BRACES>/g,function(){return r}).replace(/<SPREAD>/g,function(){return s}),RegExp(f,h)}s=o(s).source,t.languages.jsx=t.languages.extend("markup",e),t.languages.jsx.tag.pattern=o(/<\/?(?:[\w.:-]+(?:<S>+(?:[\w.:$-]+(?:=(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s{'"/>=]+|<BRACES>))?|<SPREAD>))*<S>*\/?)?>/.source),t.languages.jsx.tag.inside.tag.pattern=/^<\/?[^\s>\/]*/,t.languages.jsx.tag.inside["attr-value"].pattern=/=(?!\{)(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s'">]+)/,t.languages.jsx.tag.inside.tag.inside["class-name"]=/^[A-Z]\w*(?:\.[A-Z]\w*)*$/,t.languages.jsx.tag.inside.comment=e.comment,t.languages.insertBefore("inside","attr-name",{spread:{pattern:o(/<SPREAD>/.source),inside:t.languages.jsx}},t.languages.jsx.tag),t.languages.insertBefore("inside","special-attr",{script:{pattern:o(/=<BRACES>/.source),alias:"language-javascript",inside:{"script-punctuation":{pattern:/^=(?=\{)/,alias:"punctuation"},rest:t.languages.jsx}}},t.languages.jsx.tag);var l=function(f){return f?typeof f=="string"?f:typeof f.content=="string"?f.content:f.content.map(l).join(""):""},c=function(f){for(var h=[],p=0;p<f.length;p++){var m=f[p],b=!1;if(typeof m!="string"&&(m.type==="tag"&&m.content[0]&&m.content[0].type==="tag"?m.content[0].content[0].content==="</"?h.length>0&&h[h.length-1].tagName===l(m.content[0].content[1])&&h.pop():m.content[m.content.length-1].content==="/>"||h.push({tagName:l(m.content[0].content[1]),openedBraces:0}):h.length>0&&m.type==="punctuation"&&m.content==="{"?h[h.length-1].openedBraces++:h.length>0&&h[h.length-1].openedBraces>0&&m.type==="punctuation"&&m.content==="}"?h[h.length-1].openedBraces--:b=!0),(b||typeof m=="string")&&h.length>0&&h[h.length-1].openedBraces===0){var _=l(m);p<f.length-1&&(typeof f[p+1]=="string"||f[p+1].type==="plain-text")&&(_+=l(f[p+1]),f.splice(p+1,1)),p>0&&(typeof f[p-1]=="string"||f[p-1].type==="plain-text")&&(_=l(f[p-1])+_,f.splice(p-1,1),p--),f[p]=new t.Token("plain-text",_,null,_)}m.content&&typeof m.content!="string"&&c(m.content)}};t.hooks.add("after-tokenize",function(f){f.language!=="jsx"&&f.language!=="tsx"||c(f.tokens)})})(Prism);(function(t){var e=t.util.clone(t.languages.typescript);t.languages.tsx=t.languages.extend("jsx",e),delete t.languages.tsx.parameter,delete t.languages.tsx["literal-property"];var n=t.languages.tsx.tag;n.pattern=RegExp(/(^|[^\w$]|(?=<\/))/.source+"(?:"+n.pattern.source+")",n.pattern.flags),n.lookbehind=!0})(Prism);Prism.languages.json={property:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}};Prism.languages.webmanifest=Prism.languages.json;(function(t){var e=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;t.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+e.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+e.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+e.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+e.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:e,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},t.languages.css.atrule.inside.rest=t.languages.css;var n=t.languages.markup;n&&(n.tag.addInlined("style","css"),n.tag.addAttribute("style","css"))})(Prism);var t2={},n2;function WY(){return n2||(n2=1,Prism.languages.scss=Prism.languages.extend("css",{comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:!0},atrule:{pattern:/@[\w-](?:\([^()]+\)|[^()\s]|\s+(?!\s))*?(?=\s+[{;])/,inside:{rule:/@[\w-]+/}},url:/(?:[-a-z]+-)?url(?=\()/i,selector:{pattern:/(?=\S)[^@;{}()]?(?:[^@;{}()\s]|\s+(?!\s)|#\{\$[-\w]+\})+(?=\s*\{(?:\}|\s|[^}][^:{}]*[:{][^}]))/,inside:{parent:{pattern:/&/,alias:"important"},placeholder:/%[-\w]+/,variable:/\$[-\w]+|#\{\$[-\w]+\}/}},property:{pattern:/(?:[-\w]|\$[-\w]|#\{\$[-\w]+\})+(?=\s*:)/,inside:{variable:/\$[-\w]+|#\{\$[-\w]+\}/}}}),Prism.languages.insertBefore("scss","atrule",{keyword:[/@(?:content|debug|each|else(?: if)?|extend|for|forward|function|if|import|include|mixin|return|use|warn|while)\b/i,{pattern:/( )(?:from|through)(?= )/,lookbehind:!0}]}),Prism.languages.insertBefore("scss","important",{variable:/\$[-\w]+|#\{\$[-\w]+\}/}),Prism.languages.insertBefore("scss","function",{"module-modifier":{pattern:/\b(?:as|hide|show|with)\b/i,alias:"keyword"},placeholder:{pattern:/%[-\w]+/,alias:"selector"},statement:{pattern:/\B!(?:default|optional)\b/i,alias:"keyword"},boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"},operator:{pattern:/(\s)(?:[-+*\/%]|[=!]=|<=?|>=?|and|not|or)(?=\s)/,lookbehind:!0}}),Prism.languages.scss.atrule.inside.rest=Prism.languages.scss),t2}WY();(function(t){var e=/(?:\\.|[^\\\n\r]|(?:\n|\r\n?)(?![\r\n]))/.source;function n(p){return p=p.replace(/<inner>/g,function(){return e}),RegExp(/((?:^|[^\\])(?:\\{2})*)/.source+"(?:"+p+")")}var r=/(?:\\.|``(?:[^`\r\n]|`(?!`))+``|`[^`\r\n]+`|[^\\|\r\n`])+/.source,s=/\|?__(?:\|__)+\|?(?:(?:\n|\r\n?)|(?![\s\S]))/.source.replace(/__/g,function(){return r}),o=/\|?[ \t]*:?-{3,}:?[ \t]*(?:\|[ \t]*:?-{3,}:?[ \t]*)+\|?(?:\n|\r\n?)/.source;t.languages.markdown=t.languages.extend("markup",{}),t.languages.insertBefore("markdown","prolog",{"front-matter-block":{pattern:/(^(?:\s*[\r\n])?)---(?!.)[\s\S]*?[\r\n]---(?!.)/,lookbehind:!0,greedy:!0,inside:{punctuation:/^---|---$/,"front-matter":{pattern:/\S+(?:\s+\S+)*/,alias:["yaml","language-yaml"],inside:t.languages.yaml}}},blockquote:{pattern:/^>(?:[\t ]*>)*/m,alias:"punctuation"},table:{pattern:RegExp("^"+s+o+"(?:"+s+")*","m"),inside:{"table-data-rows":{pattern:RegExp("^("+s+o+")(?:"+s+")*$"),lookbehind:!0,inside:{"table-data":{pattern:RegExp(r),inside:t.languages.markdown},punctuation:/\|/}},"table-line":{pattern:RegExp("^("+s+")"+o+"$"),lookbehind:!0,inside:{punctuation:/\||:?-{3,}:?/}},"table-header-row":{pattern:RegExp("^"+s+"$"),inside:{"table-header":{pattern:RegExp(r),alias:"important",inside:t.languages.markdown},punctuation:/\|/}}}},code:[{pattern:/((?:^|\n)[ \t]*\n|(?:^|\r\n?)[ \t]*\r\n?)(?: {4}|\t).+(?:(?:\n|\r\n?)(?: {4}|\t).+)*/,lookbehind:!0,alias:"keyword"},{pattern:/^```[\s\S]*?^```$/m,greedy:!0,inside:{"code-block":{pattern:/^(```.*(?:\n|\r\n?))[\s\S]+?(?=(?:\n|\r\n?)^```$)/m,lookbehind:!0},"code-language":{pattern:/^(```).+/,lookbehind:!0},punctuation:/```/}}],title:[{pattern:/\S.*(?:\n|\r\n?)(?:==+|--+)(?=[ \t]*$)/m,alias:"important",inside:{punctuation:/==+$|--+$/}},{pattern:/(^\s*)#.+/m,lookbehind:!0,alias:"important",inside:{punctuation:/^#+|#+$/}}],hr:{pattern:/(^\s*)([*-])(?:[\t ]*\2){2,}(?=\s*$)/m,lookbehind:!0,alias:"punctuation"},list:{pattern:/(^\s*)(?:[*+-]|\d+\.)(?=[\t ].)/m,lookbehind:!0,alias:"punctuation"},"url-reference":{pattern:/!?\[[^\]]+\]:[\t ]+(?:\S+|<(?:\\.|[^>\\])+>)(?:[\t ]+(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\)))?/,inside:{variable:{pattern:/^(!?\[)[^\]]+/,lookbehind:!0},string:/(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\))$/,punctuation:/^[\[\]!:]|[<>]/},alias:"url"},bold:{pattern:n(/\b__(?:(?!_)<inner>|_(?:(?!_)<inner>)+_)+__\b|\*\*(?:(?!\*)<inner>|\*(?:(?!\*)<inner>)+\*)+\*\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^..)[\s\S]+(?=..$)/,lookbehind:!0,inside:{}},punctuation:/\*\*|__/}},italic:{pattern:n(/\b_(?:(?!_)<inner>|__(?:(?!_)<inner>)+__)+_\b|\*(?:(?!\*)<inner>|\*\*(?:(?!\*)<inner>)+\*\*)+\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^.)[\s\S]+(?=.$)/,lookbehind:!0,inside:{}},punctuation:/[*_]/}},strike:{pattern:n(/(~~?)(?:(?!~)<inner>)+\2/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^~~?)[\s\S]+(?=\1$)/,lookbehind:!0,inside:{}},punctuation:/~~?/}},"code-snippet":{pattern:/(^|[^\\`])(?:``[^`\r\n]+(?:`[^`\r\n]+)*``(?!`)|`[^`\r\n]+`(?!`))/,lookbehind:!0,greedy:!0,alias:["code","keyword"]},url:{pattern:n(/!?\[(?:(?!\])<inner>)+\](?:\([^\s)]+(?:[\t ]+"(?:\\.|[^"\\])*")?\)|[ \t]?\[(?:(?!\])<inner>)+\])/.source),lookbehind:!0,greedy:!0,inside:{operator:/^!/,content:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0,inside:{}},variable:{pattern:/(^\][ \t]?\[)[^\]]+(?=\]$)/,lookbehind:!0},url:{pattern:/(^\]\()[^\s)]+/,lookbehind:!0},string:{pattern:/(^[ \t]+)"(?:\\.|[^"\\])*"(?=\)$)/,lookbehind:!0}}}}),["url","bold","italic","strike"].forEach(function(p){["url","bold","italic","strike","code-snippet"].forEach(function(m){p!==m&&(t.languages.markdown[p].inside.content.inside[m]=t.languages.markdown[m])})}),t.hooks.add("after-tokenize",function(p){if(p.language!=="markdown"&&p.language!=="md")return;function m(b){if(!(!b||typeof b=="string"))for(var _=0,E=b.length;_<E;_++){var T=b[_];if(T.type!=="code"){m(T.content);continue}var C=T.content[1],D=T.content[3];if(C&&D&&C.type==="code-language"&&D.type==="code-block"&&typeof C.content=="string"){var M=C.content.replace(/\b#/g,"sharp").replace(/\b\+\+/g,"pp");M=(/[a-z][\w-]*/i.exec(M)||[""])[0].toLowerCase();var P="language-"+M;D.alias?typeof D.alias=="string"?D.alias=[D.alias,P]:D.alias.push(P):D.alias=[P]}}}m(p.tokens)}),t.hooks.add("wrap",function(p){if(p.type==="code-block"){for(var m="",b=0,_=p.classes.length;b<_;b++){var E=p.classes[b],T=/language-(.+)/.exec(E);if(T){m=T[1];break}}var C=t.languages[m];if(C)p.content=t.highlight(h(p.content),C,m);else if(m&&m!=="none"&&t.plugins.autoloader){var D="md-"+new Date().valueOf()+"-"+Math.floor(Math.random()*1e16);p.attributes.id=D,t.plugins.autoloader.loadLanguages(m,function(){var M=document.getElementById(D);M&&(M.innerHTML=t.highlight(M.textContent,t.languages[m],m))})}}});var l=RegExp(t.languages.markup.tag.pattern.source,"gi"),c={amp:"&",lt:"<",gt:">",quot:'"'},f=String.fromCodePoint||String.fromCharCode;function h(p){var m=p.replace(l,"");return m=m.replace(/&(\w{1,8}|#x?[\da-f]{1,8});/gi,function(b,_){if(_=_.toLowerCase(),_[0]==="#"){var E;return _[1]==="x"?E=parseInt(_.slice(2),16):E=Number(_.slice(1)),f(E)}else{var T=c[_];return T||b}}),m}t.languages.md=t.languages.markdown})(Prism);(function(t){var e="\\b(?:BASH|BASHOPTS|BASH_ALIASES|BASH_ARGC|BASH_ARGV|BASH_CMDS|BASH_COMPLETION_COMPAT_DIR|BASH_LINENO|BASH_REMATCH|BASH_SOURCE|BASH_VERSINFO|BASH_VERSION|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|EUID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_ADDRESS|LC_ALL|LC_IDENTIFICATION|LC_MEASUREMENT|LC_MONETARY|LC_NAME|LC_NUMERIC|LC_PAPER|LC_TELEPHONE|LC_TIME|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS1|PS2|PS3|PS4|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UID|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_CONFIG_DIRS|XDG_CURRENT_DESKTOP|XDG_DATA_DIRS|XDG_GREETER_DATA_DIR|XDG_MENU_PREFIX|XDG_RUNTIME_DIR|XDG_SEAT|XDG_SEAT_PATH|XDG_SESSION_DESKTOP|XDG_SESSION_ID|XDG_SESSION_PATH|XDG_SESSION_TYPE|XDG_VTNR|XMODIFIERS)\\b",n={pattern:/(^(["']?)\w+\2)[ \t]+\S.*/,lookbehind:!0,alias:"punctuation",inside:null},r={bash:n,environment:{pattern:RegExp("\\$"+e),alias:"constant"},variable:[{pattern:/\$?\(\([\s\S]+?\)\)/,greedy:!0,inside:{variable:[{pattern:/(^\$\(\([\s\S]+)\)\)/,lookbehind:!0},/^\$\(\(/],number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--|\+\+|\*\*=?|<<=?|>>=?|&&|\|\||[=!+\-*/%<>^&|]=?|[?~:]/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\((?:\([^)]+\)|[^()])+\)|`[^`]+`/,greedy:!0,inside:{variable:/^\$\(|^`|\)$|`$/}},{pattern:/\$\{[^}]+\}/,greedy:!0,inside:{operator:/:[-=?+]?|[!\/]|##?|%%?|\^\^?|,,?/,punctuation:/[\[\]]/,environment:{pattern:RegExp("(\\{)"+e),lookbehind:!0,alias:"constant"}}},/\$(?:\w+|[#?*!@$])/],entity:/\\(?:[abceEfnrtv\\"]|O?[0-7]{1,3}|U[0-9a-fA-F]{8}|u[0-9a-fA-F]{4}|x[0-9a-fA-F]{1,2})/};t.languages.bash={shebang:{pattern:/^#!\s*\/.*/,alias:"important"},comment:{pattern:/(^|[^"{\\$])#.*/,lookbehind:!0},"function-name":[{pattern:/(\bfunction\s+)[\w-]+(?=(?:\s*\(?:\s*\))?\s*\{)/,lookbehind:!0,alias:"function"},{pattern:/\b[\w-]+(?=\s*\(\s*\)\s*\{)/,alias:"function"}],"for-or-select":{pattern:/(\b(?:for|select)\s+)\w+(?=\s+in\s)/,alias:"variable",lookbehind:!0},"assign-left":{pattern:/(^|[\s;|&]|[<>]\()\w+(?:\.\w+)*(?=\+?=)/,inside:{environment:{pattern:RegExp("(^|[\\s;|&]|[<>]\\()"+e),lookbehind:!0,alias:"constant"}},alias:"variable",lookbehind:!0},parameter:{pattern:/(^|\s)-{1,2}(?:\w+:[+-]?)?\w+(?:\.\w+)*(?=[=\s]|$)/,alias:"variable",lookbehind:!0},string:[{pattern:/((?:^|[^<])<<-?\s*)(\w+)\s[\s\S]*?(?:\r?\n|\r)\2/,lookbehind:!0,greedy:!0,inside:r},{pattern:/((?:^|[^<])<<-?\s*)(["'])(\w+)\2\s[\s\S]*?(?:\r?\n|\r)\3/,lookbehind:!0,greedy:!0,inside:{bash:n}},{pattern:/(^|[^\\](?:\\\\)*)"(?:\\[\s\S]|\$\([^)]+\)|\$(?!\()|`[^`]+`|[^"\\`$])*"/,lookbehind:!0,greedy:!0,inside:r},{pattern:/(^|[^$\\])'[^']*'/,lookbehind:!0,greedy:!0},{pattern:/\$'(?:[^'\\]|\\[\s\S])*'/,greedy:!0,inside:{entity:r.entity}}],environment:{pattern:RegExp("\\$?"+e),alias:"constant"},variable:r.variable,function:{pattern:/(^|[\s;|&]|[<>]\()(?:add|apropos|apt|apt-cache|apt-get|aptitude|aspell|automysqlbackup|awk|basename|bash|bc|bconsole|bg|bzip2|cal|cargo|cat|cfdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|composer|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|docker|docker-compose|du|egrep|eject|env|ethtool|expand|expect|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|git|gparted|grep|groupadd|groupdel|groupmod|groups|grub-mkconfig|gzip|halt|head|hg|history|host|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|ip|java|jobs|join|kill|killall|less|link|ln|locate|logname|logrotate|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mmv|more|most|mount|mtools|mtr|mutt|mv|nano|nc|netstat|nice|nl|node|nohup|notify-send|npm|nslookup|op|open|parted|passwd|paste|pathchk|ping|pkill|pnpm|podman|podman-compose|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ram|rar|rcp|reboot|remsync|rename|renice|rev|rm|rmdir|rpm|rsync|scp|screen|sdiff|sed|sendmail|seq|service|sftp|sh|shellcheck|shuf|shutdown|sleep|slocate|sort|split|ssh|stat|strace|su|sudo|sum|suspend|swapon|sync|sysctl|tac|tail|tar|tee|time|timeout|top|touch|tr|traceroute|tsort|tty|umount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vcpkg|vdir|vi|vim|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|zip|zsh|zypper)(?=$|[)\s;|&])/,lookbehind:!0},keyword:{pattern:/(^|[\s;|&]|[<>]\()(?:case|do|done|elif|else|esac|fi|for|function|if|in|select|then|until|while)(?=$|[)\s;|&])/,lookbehind:!0},builtin:{pattern:/(^|[\s;|&]|[<>]\()(?:\.|:|alias|bind|break|builtin|caller|cd|command|continue|declare|echo|enable|eval|exec|exit|export|getopts|hash|help|let|local|logout|mapfile|printf|pwd|read|readarray|readonly|return|set|shift|shopt|source|test|times|trap|type|typeset|ulimit|umask|unalias|unset)(?=$|[)\s;|&])/,lookbehind:!0,alias:"class-name"},boolean:{pattern:/(^|[\s;|&]|[<>]\()(?:false|true)(?=$|[)\s;|&])/,lookbehind:!0},"file-descriptor":{pattern:/\B&\d\b/,alias:"important"},operator:{pattern:/\d?<>|>\||\+=|=[=~]?|!=?|<<[<-]?|[&\d]?>>|\d[<>]&?|[<>][&=]?|&[>&]?|\|[&|]?/,inside:{"file-descriptor":{pattern:/^\d/,alias:"important"}}},punctuation:/\$?\(\(?|\)\)?|\.\.|[{}[\];\\]/,number:{pattern:/(^|\s)(?:[1-9]\d*|0)(?:[.,]\d+)?\b/,lookbehind:!0}},n.inside=t.languages.bash;for(var s=["comment","function-name","for-or-select","assign-left","parameter","string","environment","function","keyword","builtin","boolean","file-descriptor","operator","punctuation","number"],o=r.variable[1].inside,l=0;l<s.length;l++)o[s[l]]=t.languages.bash[s[l]];t.languages.sh=t.languages.bash,t.languages.shell=t.languages.bash})(Prism);(function(t){var e=/[*&][^\s[\]{},]+/,n=/!(?:<[\w\-%#;/?:@&=+$,.!~*'()[\]]+>|(?:[a-zA-Z\d-]*!)?[\w\-%#;/?:@&=+$.~*'()]+)?/,r="(?:"+n.source+"(?:[ 	]+"+e.source+")?|"+e.source+"(?:[ 	]+"+n.source+")?)",s=/(?:[^\s\x00-\x08\x0e-\x1f!"#%&'*,\-:>?@[\]`{|}\x7f-\x84\x86-\x9f\ud800-\udfff\ufffe\uffff]|[?:-]<PLAIN>)(?:[ \t]*(?:(?![#:])<PLAIN>|:<PLAIN>))*/.source.replace(/<PLAIN>/g,function(){return/[^\s\x00-\x08\x0e-\x1f,[\]{}\x7f-\x84\x86-\x9f\ud800-\udfff\ufffe\uffff]/.source}),o=/"(?:[^"\\\r\n]|\\.)*"|'(?:[^'\\\r\n]|\\.)*'/.source;function l(c,f){f=(f||"").replace(/m/g,"")+"m";var h=/([:\-,[{]\s*(?:\s<<prop>>[ \t]+)?)(?:<<value>>)(?=[ \t]*(?:$|,|\]|\}|(?:[\r\n]\s*)?#))/.source.replace(/<<prop>>/g,function(){return r}).replace(/<<value>>/g,function(){return c});return RegExp(h,f)}t.languages.yaml={scalar:{pattern:RegExp(/([\-:]\s*(?:\s<<prop>>[ \t]+)?[|>])[ \t]*(?:((?:\r?\n|\r)[ \t]+)\S[^\r\n]*(?:\2[^\r\n]+)*)/.source.replace(/<<prop>>/g,function(){return r})),lookbehind:!0,alias:"string"},comment:/#.*/,key:{pattern:RegExp(/((?:^|[:\-,[{\r\n?])[ \t]*(?:<<prop>>[ \t]+)?)<<key>>(?=\s*:\s)/.source.replace(/<<prop>>/g,function(){return r}).replace(/<<key>>/g,function(){return"(?:"+s+"|"+o+")"})),lookbehind:!0,greedy:!0,alias:"atrule"},directive:{pattern:/(^[ \t]*)%.+/m,lookbehind:!0,alias:"important"},datetime:{pattern:l(/\d{4}-\d\d?-\d\d?(?:[tT]|[ \t]+)\d\d?:\d{2}:\d{2}(?:\.\d*)?(?:[ \t]*(?:Z|[-+]\d\d?(?::\d{2})?))?|\d{4}-\d{2}-\d{2}|\d\d?:\d{2}(?::\d{2}(?:\.\d*)?)?/.source),lookbehind:!0,alias:"number"},boolean:{pattern:l(/false|true/.source,"i"),lookbehind:!0,alias:"important"},null:{pattern:l(/null|~/.source,"i"),lookbehind:!0,alias:"important"},string:{pattern:l(o),lookbehind:!0,greedy:!0},number:{pattern:l(/[+-]?(?:0x[\da-f]+|0o[0-7]+|(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?|\.inf|\.nan)/.source,"i"),lookbehind:!0},tag:n,important:e,punctuation:/---|[:[\]{}\-,|>?]|\.\.\./},t.languages.yml=t.languages.yaml})(Prism);const qY=async()=>{const t=await fetch("http://localhost:3333/api/semantic-chunks");if(!t.ok)throw new Error("Failed to fetch semantic analysis");return t.json()};function XY({chunk:t,isOpen:e,onClose:n}){const[r,s]=k.useState("");k.useEffect(()=>{if(e&&(t!=null&&t.code)){const c=(h=>{var m;switch((m=h.split(".").pop())==null?void 0:m.toLowerCase()){case"js":return"javascript";case"jsx":return"jsx";case"ts":return"typescript";case"tsx":return"tsx";case"json":return"json";case"css":return"css";case"scss":return"scss";case"md":return"markdown";case"sh":case"bash":return"bash";case"yml":case"yaml":return"yaml";default:return"javascript"}})(t.filePath),f=h1.highlight(t.code,h1.languages[c]||h1.languages.javascript,c);s(f)}},[e,t]);const o=async()=>{if(t)try{const l=await fetch("http://localhost:3333/api/open-file",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({filePath:t.filePath})});if(!l.ok){const c=await l.json();throw new Error(c.error||"Failed to open file")}Ft.success(`Opening ${t.filePath} in editor...`)}catch(l){console.error("Failed to open in editor:",l),Ft.error(`Could not open file: ${l instanceof Error?l.message:"Unknown error"}`)}};return!e||!t?null:x.jsxDEV("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:x.jsxDEV("div",{className:"bg-background border rounded-lg shadow-lg w-full max-w-3xl max-h-[80vh] flex flex-col",children:[x.jsxDEV("div",{className:"flex items-center justify-between p-3 border-b",children:[x.jsxDEV("div",{children:[x.jsxDEV("h3",{className:"font-semibold text-base",children:t.name},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:151,columnNumber:13},this),x.jsxDEV("p",{className:"text-xs text-muted-foreground",children:[t.filePath,t.startLine?`:${t.startLine}`:""]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:152,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:150,columnNumber:11},this),x.jsxDEV("div",{className:"flex items-center gap-2",children:[x.jsxDEV(Dt,{variant:"outline",size:"sm",onClick:o,title:"Open in external editor",children:[x.jsxDEV(iu,{className:"w-3 h-3 mr-1"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:161,columnNumber:15},this),"Open"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:155,columnNumber:13},this),x.jsxDEV(Dt,{variant:"outline",size:"sm",onClick:()=>{navigator.clipboard.writeText(t.code||""),Ft.success("Code copied to clipboard!")},children:[x.jsxDEV(pd,{className:"w-3 h-3 mr-1"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:172,columnNumber:15},this),"Copy"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:164,columnNumber:13},this),x.jsxDEV(Dt,{variant:"outline",size:"sm",onClick:n,children:x.jsxDEV(ii,{className:"w-3 h-3"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:180,columnNumber:15},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:175,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:154,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:149,columnNumber:9},this),x.jsxDEV("div",{className:"flex-1 overflow-auto p-3",children:t.code?x.jsxDEV("div",{className:"bg-muted/30 rounded p-3",children:x.jsxDEV("pre",{className:"text-xs font-mono overflow-x-auto",children:x.jsxDEV("code",{className:"language-javascript",dangerouslySetInnerHTML:{__html:r}},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:190,columnNumber:17},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:189,columnNumber:15},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:188,columnNumber:13},this):x.jsxDEV("div",{className:"text-center text-muted-foreground py-6",children:"No code available for this chunk"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:197,columnNumber:13},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:186,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:147,columnNumber:7},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:146,columnNumber:5},this)}function YY(){var je,_e,Ke,V;const[t,e]=k.useState(!1),[n,r]=k.useState(null),[s,o]=k.useState(!1),[l,c]=k.useState(""),[f,h]=k.useState("all"),[p,m]=k.useState("all"),[b,_]=k.useState("all"),[E,T]=k.useState("all"),[C,D]=k.useState("all"),[M,P]=k.useState("all"),{data:U,isLoading:L,error:O,refetch:Y}=Di({queryKey:["semantic-analysis"],queryFn:qY,staleTime:3e4,refetchInterval:6e4}),{data:ne}=Di({queryKey:["bundle-states"],queryFn:async()=>{const ue=await fetch("/api/bundles");if(!ue.ok)throw new Error("Failed to fetch bundles");return ue.json()},staleTime:3e4}),G=k.useMemo(()=>U!=null&&U.chunks?U.chunks.filter(se=>{var B,ce,Z;if(l){const xe=l.toLowerCase();if(!(se.name.toLowerCase().includes(xe)||se.purpose.toLowerCase().includes(xe)||se.filePath.toLowerCase().includes(xe)||((B=se.code)==null?void 0:B.toLowerCase().includes(xe))))return!1}return!(f!=="all"&&se.semanticType!==f||p!=="all"&&((ce=se.complexity)==null?void 0:ce.level)!==p||b!=="all"&&!se.purpose.toLowerCase().includes(b.toLowerCase())||E==="async"&&!se.isAsync||E==="sync"&&se.isAsync||C==="exported"&&!se.isExported||C==="internal"&&se.isExported||M!=="all"&&!((Z=se.bundles)!=null&&Z.includes(M)))}):[],[U==null?void 0:U.chunks,l,f,p,b,E,C,M]),K=k.useMemo(()=>{if(!(U!=null&&U.chunks))return{types:[],purposes:[],complexities:[],bundles:[]};const ue=[...new Set(U.chunks.map(Z=>Z.semanticType).filter(Boolean))].sort(),se=[...new Set(U.chunks.map(Z=>Z.purpose))].sort(),B=[...new Set(U.chunks.map(Z=>{var xe;return(xe=Z.complexity)==null?void 0:xe.level}).filter(Boolean))].sort(),ce=ne?ne.map(Z=>Z.name).sort():[];return console.log("Bundle states data:",ne),console.log("Extracted bundles:",ce),{types:ue,purposes:se,complexities:B,bundles:ce}},[U==null?void 0:U.chunks,ne]),Q=()=>{c(""),h("all"),m("all"),_("all"),T("all"),D("all"),P("all")},de=l||f!=="all"||p!=="all"||b!=="all"||E!=="all"||C!=="all"||M!=="all",pe=ue=>{r(ue),o(!0)},le=async(ue,se)=>{try{const B={filePath:ue};se&&(B.line=se);const ce=await fetch("http://localhost:3333/api/open-file",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(B)});if(!ce.ok){const Z=await ce.json();throw new Error(Z.error||"Failed to open file")}Ft.success(`Opening ${ue} in editor...`)}catch(B){console.error("Failed to open in editor:",B),Ft.error(`Could not open file: ${B instanceof Error?B.message:"Unknown error"}`)}},ye=ue=>{var se,B;return ue.subtype==="react_component"||(se=ue.tags)!=null&&se.includes("react_component")?x.jsxDEV(bE,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:341,columnNumber:96},this):(B=ue.purpose)!=null&&B.includes("React hook")?x.jsxDEV(yE,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:342,columnNumber:55},this):ue.subtype==="arrow_function"?x.jsxDEV(Yp,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:343,columnNumber:52},this):ue.subtype==="method"?x.jsxDEV(Mb,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:344,columnNumber:44},this):x.jsxDEV(Yp,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:345,columnNumber:12},this)},ge=ue=>{switch(ue){case"low":return"text-green-600";case"medium":return"text-yellow-600";case"high":return"text-red-600";default:return"text-gray-600"}};return L?x.jsxDEV(vn,{children:x.jsxDEV(Pn,{className:"pt-6",children:x.jsxDEV("div",{className:"flex items-center justify-center py-8",children:[x.jsxDEV(Hs,{className:"w-6 h-6 animate-spin mr-2"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:362,columnNumber:13},this),x.jsxDEV("span",{className:"text-sm",children:"Analyzing code semantics..."},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:363,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:361,columnNumber:11},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:360,columnNumber:9},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:359,columnNumber:7},this):O?x.jsxDEV(vn,{children:x.jsxDEV(Pn,{className:"pt-6",children:x.jsxDEV(em,{children:[x.jsxDEV(Ai,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:375,columnNumber:13},this),x.jsxDEV(tm,{children:["Failed to load semantic analysis. Make sure the server supports semantic chunking.",x.jsxDEV(Dt,{variant:"outline",size:"sm",className:"ml-2",onClick:()=>Y(),children:"Retry"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:378,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:376,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:374,columnNumber:11},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:373,columnNumber:9},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:372,columnNumber:7},this):U?x.jsxDEV("div",{className:"space-y-6",children:[x.jsxDEV(vn,{children:[x.jsxDEV(gr,{children:x.jsxDEV(Nr,{className:"flex items-center justify-between text-sm font-thin",children:[x.jsxDEV("div",{className:"flex items-center gap-2",children:[x.jsxDEV(pO,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:402,columnNumber:15},this),"Filters"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:401,columnNumber:13},this),x.jsxDEV("div",{className:"flex items-center gap-2",children:[de&&x.jsxDEV(Dt,{variant:"outline",size:"sm",className:"h-7 text-xs",onClick:Q,children:[x.jsxDEV(ii,{className:"w-3 h-3 mr-1"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:413,columnNumber:19},this),"Clear All"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:407,columnNumber:17},this),x.jsxDEV(Dt,{variant:"outline",size:"sm",className:"h-7 text-xs md:hidden",onClick:()=>e(!t),children:t?x.jsxDEV(e7,{className:"w-3 h-3"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:423,columnNumber:32},this):x.jsxDEV(bm,{className:"w-3 h-3"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:423,columnNumber:68},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:417,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:405,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:400,columnNumber:11},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:399,columnNumber:9},this),x.jsxDEV(Pn,{className:`${t?"block":"hidden"} md:block`,children:[x.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:[x.jsxDEV("div",{className:"md:col-span-2 lg:col-span-2 xl:col-span-2",children:x.jsxDEV("div",{className:"relative",children:[x.jsxDEV(Mx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:433,columnNumber:17},this),x.jsxDEV(HE,{placeholder:"Search functions...",value:l,onChange:ue=>c(ue.target.value),className:"pl-10 h-8 text-xs"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:434,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:432,columnNumber:15},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:431,columnNumber:13},this),x.jsxDEV("div",{children:x.jsxDEV(wa,{value:f,onValueChange:h,children:[x.jsxDEV(Mo,{className:"h-8 text-xs",children:x.jsxDEV(yl,{placeholder:"Type"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:447,columnNumber:19},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:446,columnNumber:17},this),x.jsxDEV(jo,{children:[x.jsxDEV(wr,{value:"all",children:"All Types"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:450,columnNumber:19},this),K.types.map(ue=>x.jsxDEV(wr,{value:ue,children:ue},ue,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:452,columnNumber:21},this))]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:449,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:445,columnNumber:15},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:444,columnNumber:13},this),x.jsxDEV("div",{children:x.jsxDEV(wa,{value:p,onValueChange:m,children:[x.jsxDEV(Mo,{className:"h-8 text-xs",children:x.jsxDEV(yl,{placeholder:"Complexity"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:462,columnNumber:19},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:461,columnNumber:17},this),x.jsxDEV(jo,{children:[x.jsxDEV(wr,{value:"all",children:"All Complexity"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:465,columnNumber:19},this),K.complexities.map(ue=>x.jsxDEV(wr,{value:ue,children:ue},ue,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:467,columnNumber:21},this))]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:464,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:460,columnNumber:15},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:459,columnNumber:13},this),x.jsxDEV("div",{children:x.jsxDEV(wa,{value:b,onValueChange:_,children:[x.jsxDEV(Mo,{className:"h-8 text-xs",children:x.jsxDEV(yl,{placeholder:"Purpose"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:477,columnNumber:19},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:476,columnNumber:17},this),x.jsxDEV(jo,{children:[x.jsxDEV(wr,{value:"all",children:"All Purposes"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:480,columnNumber:19},this),K.purposes.map(ue=>x.jsxDEV(wr,{value:ue,children:ue},ue,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:482,columnNumber:21},this))]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:479,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:475,columnNumber:15},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:474,columnNumber:13},this),x.jsxDEV("div",{children:x.jsxDEV(wa,{value:E,onValueChange:T,children:[x.jsxDEV(Mo,{className:"h-8 text-xs",children:x.jsxDEV(yl,{placeholder:"Async"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:492,columnNumber:19},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:491,columnNumber:17},this),x.jsxDEV(jo,{children:[x.jsxDEV(wr,{value:"all",children:"All Functions"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:495,columnNumber:19},this),x.jsxDEV(wr,{value:"async",children:"Async Only"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:496,columnNumber:19},this),x.jsxDEV(wr,{value:"sync",children:"Sync Only"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:497,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:494,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:490,columnNumber:15},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:489,columnNumber:13},this),x.jsxDEV("div",{children:x.jsxDEV(wa,{value:M,onValueChange:P,children:[x.jsxDEV(Mo,{className:"h-8 text-xs",children:x.jsxDEV(yl,{placeholder:"Bundle"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:506,columnNumber:19},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:505,columnNumber:17},this),x.jsxDEV(jo,{children:[x.jsxDEV(wr,{value:"all",children:"All Bundles"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:509,columnNumber:19},this),K.bundles.map(ue=>x.jsxDEV(wr,{value:ue,children:ue},ue,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:511,columnNumber:21},this))]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:508,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:504,columnNumber:15},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:503,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:429,columnNumber:11},this),de&&x.jsxDEV("div",{className:"flex flex-wrap gap-2 mt-4 pt-4 border-t",children:[l&&x.jsxDEV(yn,{variant:"secondary",className:"text-xs flex items-center gap-1",children:['Search: "',l,'"',x.jsxDEV("button",{onClick:ue=>{ue.preventDefault(),ue.stopPropagation(),c("")},className:"ml-1 hover:bg-muted rounded-sm p-0.5",children:x.jsxDEV(ii,{className:"w-3 h-3"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:532,columnNumber:21},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:524,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:522,columnNumber:17},this),f!=="all"&&x.jsxDEV(yn,{variant:"secondary",className:"text-xs flex items-center gap-1",children:["Type: ",f,x.jsxDEV("button",{onClick:ue=>{ue.preventDefault(),ue.stopPropagation(),h("all")},className:"ml-1 hover:bg-muted rounded-sm p-0.5",children:x.jsxDEV(ii,{className:"w-3 h-3"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:547,columnNumber:21},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:539,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:537,columnNumber:17},this),p!=="all"&&x.jsxDEV(yn,{variant:"secondary",className:"text-xs flex items-center gap-1",children:["Complexity: ",p,x.jsxDEV("button",{onClick:ue=>{ue.preventDefault(),ue.stopPropagation(),m("all")},className:"ml-1 hover:bg-muted rounded-sm p-0.5",children:x.jsxDEV(ii,{className:"w-3 h-3"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:562,columnNumber:21},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:554,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:552,columnNumber:17},this),b!=="all"&&x.jsxDEV(yn,{variant:"secondary",className:"text-xs flex items-center gap-1",children:["Purpose: ",b,x.jsxDEV("button",{onClick:ue=>{ue.preventDefault(),ue.stopPropagation(),_("all")},className:"ml-1 hover:bg-muted rounded-sm p-0.5",children:x.jsxDEV(ii,{className:"w-3 h-3"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:577,columnNumber:21},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:569,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:567,columnNumber:17},this),E!=="all"&&x.jsxDEV(yn,{variant:"secondary",className:"text-xs flex items-center gap-1",children:[E==="async"?"Async Only":"Sync Only",x.jsxDEV("button",{onClick:ue=>{ue.preventDefault(),ue.stopPropagation(),T("all")},className:"ml-1 hover:bg-muted rounded-sm p-0.5",children:x.jsxDEV(ii,{className:"w-3 h-3"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:592,columnNumber:21},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:584,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:582,columnNumber:17},this),M!=="all"&&x.jsxDEV(yn,{variant:"secondary",className:"text-xs flex items-center gap-1",children:["Bundle: ",M,x.jsxDEV("button",{onClick:ue=>{ue.preventDefault(),ue.stopPropagation(),P("all")},className:"ml-1 hover:bg-muted rounded-sm p-0.5",children:x.jsxDEV(ii,{className:"w-3 h-3"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:607,columnNumber:21},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:599,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:597,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:520,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:428,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:398,columnNumber:7},this),x.jsxDEV(vn,{children:[x.jsxDEV(gr,{children:x.jsxDEV(Nr,{className:"flex items-center justify-between text-sm font-thin",children:[x.jsxDEV("div",{className:"flex items-center gap-2",children:[x.jsxDEV(Dp,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:621,columnNumber:15},this),"Project Analysis"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:620,columnNumber:13},this),x.jsxDEV(Dt,{variant:"outline",size:"sm",className:"h-7 text-xs",onClick:()=>Y(),disabled:L,children:[x.jsxDEV(Hs,{className:"w-3 h-3 mr-1"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:631,columnNumber:15},this),"Refresh"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:624,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:619,columnNumber:11},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:618,columnNumber:9},this),x.jsxDEV(Pn,{children:x.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[x.jsxDEV("div",{children:[x.jsxDEV("div",{className:"text-lg font-thin",children:((je=U.summary)==null?void 0:je.totalFiles)||0},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:639,columnNumber:15},this),x.jsxDEV("div",{className:"text-xs text-muted-foreground font-thin",children:"Files Analyzed"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:640,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:638,columnNumber:13},this),x.jsxDEV("div",{children:[x.jsxDEV("div",{className:"text-lg font-thin",children:((_e=U.summary)==null?void 0:_e.totalFunctions)||0},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:643,columnNumber:15},this),x.jsxDEV("div",{className:"text-xs text-muted-foreground font-thin",children:"Functions Extracted"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:644,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:642,columnNumber:13},this),x.jsxDEV("div",{children:[x.jsxDEV("div",{className:"text-lg font-thin",children:[G.length,de&&x.jsxDEV("span",{className:"text-sm text-muted-foreground",children:[" / ",((Ke=U.summary)==null?void 0:Ke.totalChunks)||0]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:650,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:647,columnNumber:15},this),x.jsxDEV("div",{className:"text-xs text-muted-foreground font-thin",children:[de?"Filtered":"Total"," Chunks"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:653,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:646,columnNumber:13},this),x.jsxDEV("div",{children:[x.jsxDEV("div",{className:"text-lg font-thin",children:Math.round(((V=U.summary)==null?void 0:V.averageChunkSize)||0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:658,columnNumber:15},this),x.jsxDEV("div",{className:"text-xs text-muted-foreground font-thin",children:"Avg Chunk Size"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:659,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:657,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:637,columnNumber:11},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:636,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:617,columnNumber:7},this),G.length===0?x.jsxDEV(vn,{children:x.jsxDEV(Pn,{className:"pt-6",children:x.jsxDEV("div",{className:"text-center py-8",children:[x.jsxDEV(Mb,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:670,columnNumber:15},this),x.jsxDEV("h3",{className:"text-lg font-thin mb-2",children:"No chunks match your filters"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:671,columnNumber:15},this),x.jsxDEV("p",{className:"text-sm text-muted-foreground mb-4",children:"Try adjusting your search criteria or clearing the filters."},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:672,columnNumber:15},this),de&&x.jsxDEV(Dt,{variant:"outline",onClick:Q,children:"Clear All Filters"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:676,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:669,columnNumber:13},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:668,columnNumber:11},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:667,columnNumber:9},this):x.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:G.map((ue,se)=>{var B,ce,Z,xe,he,oe,Pe,qe,Ye,tt;return x.jsxDEV(vn,{className:"relative",children:[x.jsxDEV(gr,{children:x.jsxDEV("div",{className:"flex items-start justify-between",children:[x.jsxDEV("div",{className:"flex items-start gap-3 flex-1 min-w-0",children:[x.jsxDEV("div",{className:"mt-1 flex-shrink-0",children:ye(ue)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:690,columnNumber:21},this),x.jsxDEV("div",{className:"flex-1 min-w-0",children:[x.jsxDEV(Nr,{className:"text-sm font-thin tracking-wide truncate",children:ue.name},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:694,columnNumber:23},this),x.jsxDEV("div",{className:"flex items-center gap-1 mt-1 flex-wrap",children:[x.jsxDEV(yn,{variant:"outline",className:"text-xs h-4",children:ue.subtype||ue.type},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:698,columnNumber:25},this),x.jsxDEV(yn,{variant:"outline",className:"text-xs h-4",children:[ue.size," chars"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:701,columnNumber:25},this),x.jsxDEV(yn,{variant:"outline",className:`text-xs h-4 ${ge(((B=ue.complexity)==null?void 0:B.level)||"unknown")}`,children:[((ce=ue.complexity)==null?void 0:ce.level)||"unknown"," complexity"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:704,columnNumber:25},this),ue.isAsync&&x.jsxDEV(yn,{variant:"outline",className:"text-xs h-4 bg-blue-50",children:"async"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:711,columnNumber:27},this),ue.isExported&&x.jsxDEV(yn,{variant:"outline",className:"text-xs h-4 bg-green-50",children:"exported"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:716,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:697,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:693,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:689,columnNumber:19},this),x.jsxDEV("div",{className:"flex gap-1 flex-shrink-0",children:[x.jsxDEV(Dt,{variant:"outline",size:"sm",className:"h-7 text-xs",onClick:()=>le(ue.filePath,ue.startLine),title:"Open in external editor",children:x.jsxDEV(iu,{className:"w-3 h-3"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:731,columnNumber:23},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:724,columnNumber:21},this),x.jsxDEV(Dt,{variant:"outline",size:"sm",className:"h-7 text-xs",onClick:()=>pe(ue),title:"View code preview",children:x.jsxDEV(hO,{className:"w-3 h-3"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:740,columnNumber:23},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:733,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:723,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:688,columnNumber:17},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:687,columnNumber:15},this),x.jsxDEV(Pn,{children:x.jsxDEV("div",{className:"space-y-3",children:[x.jsxDEV("div",{children:[x.jsxDEV("p",{className:"text-xs text-muted-foreground font-thin mb-2 line-clamp-2",children:[x.jsxDEV(L7,{className:"w-3 h-3 inline mr-1"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:750,columnNumber:23},this),ue.purpose]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:749,columnNumber:21},this),x.jsxDEV("div",{className:"flex flex-wrap gap-1",children:[(ue.tags||[]).slice(0,4).map(Ue=>x.jsxDEV(yn,{variant:"secondary",className:"text-xs h-4",children:Ue},Ue,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:755,columnNumber:25},this)),(ue.tags||[]).length>4&&x.jsxDEV(yn,{variant:"secondary",className:"text-xs h-4",children:["+",(ue.tags||[]).length-4," more"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:760,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:753,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:748,columnNumber:19},this),x.jsxDEV("div",{children:[x.jsxDEV("div",{className:"text-xs font-thin mb-1",children:"Location:"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:769,columnNumber:21},this),x.jsxDEV("div",{className:"text-xs text-muted-foreground font-thin font-mono truncate",children:[ue.filePath,ue.startLine?`:${ue.startLine}`:""]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:770,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:768,columnNumber:19},this),(((Z=ue.bundles)==null?void 0:Z.length)||0)>0&&x.jsxDEV("div",{className:"flex items-start gap-2 p-2 bg-blue-50 rounded text-xs",children:[x.jsxDEV(Mb,{className:"w-3 h-3 mt-0.5 text-blue-600 flex-shrink-0"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:778,columnNumber:23},this),x.jsxDEV("div",{className:"min-w-0",children:[x.jsxDEV("div",{className:"font-thin text-blue-800",children:"Bundles:"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:780,columnNumber:25},this),x.jsxDEV("div",{className:"flex flex-wrap gap-1 mt-1",children:[(xe=ue.bundles)==null?void 0:xe.slice(0,2).map(Ue=>x.jsxDEV(yn,{variant:"outline",className:"text-xs h-4 bg-blue-100 text-blue-700 border-blue-200",children:Ue},Ue,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:783,columnNumber:29},this)),(((he=ue.bundles)==null?void 0:he.length)||0)>2&&x.jsxDEV(yn,{variant:"outline",className:"text-xs h-4 bg-blue-100 text-blue-700 border-blue-200",children:["+",(((oe=ue.bundles)==null?void 0:oe.length)||0)-2," more"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:788,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:781,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:779,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:777,columnNumber:21},this),(((Pe=ue.includes)==null?void 0:Pe.imports.length)||0)>0&&x.jsxDEV("div",{className:"flex items-start gap-2 p-2 bg-muted/50 rounded text-xs",children:[x.jsxDEV(Mb,{className:"w-3 h-3 mt-0.5 text-blue-500 flex-shrink-0"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:800,columnNumber:23},this),x.jsxDEV("div",{className:"min-w-0",children:[x.jsxDEV("div",{className:"font-thin",children:"Imports:"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:802,columnNumber:25},this),x.jsxDEV("div",{className:"font-thin truncate",children:(qe=ue.includes)==null?void 0:qe.imports.slice(0,2).join(", ")},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:803,columnNumber:25},this),(((Ye=ue.includes)==null?void 0:Ye.imports.length)||0)>2&&x.jsxDEV("div",{className:"text-muted-foreground",children:["+",(((tt=ue.includes)==null?void 0:tt.imports.length)||0)-2," more"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:805,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:801,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:799,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:746,columnNumber:17},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:745,columnNumber:15},this)]},`${ue.filePath}-${ue.name}-${se}`,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:686,columnNumber:13},this)})},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:684,columnNumber:9},this),x.jsxDEV(XY,{chunk:n,isOpen:s,onClose:()=>{o(!1),r(null)}},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:818,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:396,columnNumber:5},this):null}function r2(){const{theme:t,setTheme:e}=iH();return x.jsxDEV(Dt,{variant:"ghost",size:"sm",onClick:()=>e(t==="light"?"dark":"light"),className:"h-8 w-8 p-0",children:[x.jsxDEV(i9,{className:"h-4 w-4 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/theme-toggle.tsx",lineNumber:19,columnNumber:7},this),x.jsxDEV(I7,{className:"absolute h-4 w-4 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/theme-toggle.tsx",lineNumber:20,columnNumber:7},this),x.jsxDEV("span",{className:"sr-only",children:"Toggle theme"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/theme-toggle.tsx",lineNumber:21,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/theme-toggle.tsx",lineNumber:13,columnNumber:5},this)}var s2=1,KY=.9,ZY=.8,GY=.17,p1=.1,m1=.999,QY=.9999,JY=.99,eK=/[\\\/_+.#"@\[\(\{&]/,tK=/[\\\/_+.#"@\[\(\{&]/g,nK=/[\s-]/,H4=/[\s-]/g;function rS(t,e,n,r,s,o,l){if(o===e.length)return s===t.length?s2:JY;var c=`${s},${o}`;if(l[c]!==void 0)return l[c];for(var f=r.charAt(o),h=n.indexOf(f,s),p=0,m,b,_,E;h>=0;)m=rS(t,e,n,r,h+1,o+1,l),m>p&&(h===s?m*=s2:eK.test(t.charAt(h-1))?(m*=ZY,_=t.slice(s,h-1).match(tK),_&&s>0&&(m*=Math.pow(m1,_.length))):nK.test(t.charAt(h-1))?(m*=KY,E=t.slice(s,h-1).match(H4),E&&s>0&&(m*=Math.pow(m1,E.length))):(m*=GY,s>0&&(m*=Math.pow(m1,h-s))),t.charAt(h)!==e.charAt(o)&&(m*=QY)),(m<p1&&n.charAt(h-1)===r.charAt(o+1)||r.charAt(o+1)===r.charAt(o)&&n.charAt(h-1)!==r.charAt(o))&&(b=rS(t,e,n,r,h+1,o+2,l),b*p1>m&&(m=b*p1)),m>p&&(p=m),h=n.indexOf(f,h+1);return l[c]=p,p}function i2(t){return t.toLowerCase().replace(H4," ")}function rK(t,e,n){return t=n&&n.length>0?`${t+" "+n.join(" ")}`:t,rS(t,e,i2(t),i2(e),0,0,{})}var fp='[cmdk-group=""]',g1='[cmdk-group-items=""]',sK='[cmdk-group-heading=""]',W4='[cmdk-item=""]',o2=`${W4}:not([aria-disabled="true"])`,sS="cmdk-item-select",Uf="data-value",iK=(t,e,n)=>rK(t,e,n),q4=k.createContext(void 0),vm=()=>k.useContext(q4),X4=k.createContext(void 0),WE=()=>k.useContext(X4),Y4=k.createContext(void 0),K4=k.forwardRef((t,e)=>{let n=Vf(()=>{var se,B;return{search:"",value:(B=(se=t.value)!=null?se:t.defaultValue)!=null?B:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),r=Vf(()=>new Set),s=Vf(()=>new Map),o=Vf(()=>new Map),l=Vf(()=>new Set),c=Z4(t),{label:f,children:h,value:p,onValueChange:m,filter:b,shouldFilter:_,loop:E,disablePointerSelection:T=!1,vimBindings:C=!0,...D}=t,M=Ps(),P=Ps(),U=Ps(),L=k.useRef(null),O=gK();fu(()=>{if(p!==void 0){let se=p.trim();n.current.value=se,Y.emit()}},[p]),fu(()=>{O(6,pe)},[]);let Y=k.useMemo(()=>({subscribe:se=>(l.current.add(se),()=>l.current.delete(se)),snapshot:()=>n.current,setState:(se,B,ce)=>{var Z,xe,he,oe;if(!Object.is(n.current[se],B)){if(n.current[se]=B,se==="search")de(),K(),O(1,Q);else if(se==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let Pe=document.getElementById(U);Pe?Pe.focus():(Z=document.getElementById(M))==null||Z.focus()}if(O(7,()=>{var Pe;n.current.selectedItemId=(Pe=le())==null?void 0:Pe.id,Y.emit()}),ce||O(5,pe),((xe=c.current)==null?void 0:xe.value)!==void 0){let Pe=B??"";(oe=(he=c.current).onValueChange)==null||oe.call(he,Pe);return}}Y.emit()}},emit:()=>{l.current.forEach(se=>se())}}),[]),ne=k.useMemo(()=>({value:(se,B,ce)=>{var Z;B!==((Z=o.current.get(se))==null?void 0:Z.value)&&(o.current.set(se,{value:B,keywords:ce}),n.current.filtered.items.set(se,G(B,ce)),O(2,()=>{K(),Y.emit()}))},item:(se,B)=>(r.current.add(se),B&&(s.current.has(B)?s.current.get(B).add(se):s.current.set(B,new Set([se]))),O(3,()=>{de(),K(),n.current.value||Q(),Y.emit()}),()=>{o.current.delete(se),r.current.delete(se),n.current.filtered.items.delete(se);let ce=le();O(4,()=>{de(),(ce==null?void 0:ce.getAttribute("id"))===se&&Q(),Y.emit()})}),group:se=>(s.current.has(se)||s.current.set(se,new Set),()=>{o.current.delete(se),s.current.delete(se)}),filter:()=>c.current.shouldFilter,label:f||t["aria-label"],getDisablePointerSelection:()=>c.current.disablePointerSelection,listId:M,inputId:U,labelId:P,listInnerRef:L}),[]);function G(se,B){var ce,Z;let xe=(Z=(ce=c.current)==null?void 0:ce.filter)!=null?Z:iK;return se?xe(se,n.current.search,B):0}function K(){if(!n.current.search||c.current.shouldFilter===!1)return;let se=n.current.filtered.items,B=[];n.current.filtered.groups.forEach(Z=>{let xe=s.current.get(Z),he=0;xe.forEach(oe=>{let Pe=se.get(oe);he=Math.max(Pe,he)}),B.push([Z,he])});let ce=L.current;ye().sort((Z,xe)=>{var he,oe;let Pe=Z.getAttribute("id"),qe=xe.getAttribute("id");return((he=se.get(qe))!=null?he:0)-((oe=se.get(Pe))!=null?oe:0)}).forEach(Z=>{let xe=Z.closest(g1);xe?xe.appendChild(Z.parentElement===xe?Z:Z.closest(`${g1} > *`)):ce.appendChild(Z.parentElement===ce?Z:Z.closest(`${g1} > *`))}),B.sort((Z,xe)=>xe[1]-Z[1]).forEach(Z=>{var xe;let he=(xe=L.current)==null?void 0:xe.querySelector(`${fp}[${Uf}="${encodeURIComponent(Z[0])}"]`);he==null||he.parentElement.appendChild(he)})}function Q(){let se=ye().find(ce=>ce.getAttribute("aria-disabled")!=="true"),B=se==null?void 0:se.getAttribute(Uf);Y.setState("value",B||void 0)}function de(){var se,B,ce,Z;if(!n.current.search||c.current.shouldFilter===!1){n.current.filtered.count=r.current.size;return}n.current.filtered.groups=new Set;let xe=0;for(let he of r.current){let oe=(B=(se=o.current.get(he))==null?void 0:se.value)!=null?B:"",Pe=(Z=(ce=o.current.get(he))==null?void 0:ce.keywords)!=null?Z:[],qe=G(oe,Pe);n.current.filtered.items.set(he,qe),qe>0&&xe++}for(let[he,oe]of s.current)for(let Pe of oe)if(n.current.filtered.items.get(Pe)>0){n.current.filtered.groups.add(he);break}n.current.filtered.count=xe}function pe(){var se,B,ce;let Z=le();Z&&(((se=Z.parentElement)==null?void 0:se.firstChild)===Z&&((ce=(B=Z.closest(fp))==null?void 0:B.querySelector(sK))==null||ce.scrollIntoView({block:"nearest"})),Z.scrollIntoView({block:"nearest"}))}function le(){var se;return(se=L.current)==null?void 0:se.querySelector(`${W4}[aria-selected="true"]`)}function ye(){var se;return Array.from(((se=L.current)==null?void 0:se.querySelectorAll(o2))||[])}function ge(se){let B=ye()[se];B&&Y.setState("value",B.getAttribute(Uf))}function je(se){var B;let ce=le(),Z=ye(),xe=Z.findIndex(oe=>oe===ce),he=Z[xe+se];(B=c.current)!=null&&B.loop&&(he=xe+se<0?Z[Z.length-1]:xe+se===Z.length?Z[0]:Z[xe+se]),he&&Y.setState("value",he.getAttribute(Uf))}function _e(se){let B=le(),ce=B==null?void 0:B.closest(fp),Z;for(;ce&&!Z;)ce=se>0?pK(ce,fp):mK(ce,fp),Z=ce==null?void 0:ce.querySelector(o2);Z?Y.setState("value",Z.getAttribute(Uf)):je(se)}let Ke=()=>ge(ye().length-1),V=se=>{se.preventDefault(),se.metaKey?Ke():se.altKey?_e(1):je(1)},ue=se=>{se.preventDefault(),se.metaKey?ge(0):se.altKey?_e(-1):je(-1)};return k.createElement(Mt.div,{ref:e,tabIndex:-1,...D,"cmdk-root":"",onKeyDown:se=>{var B;(B=D.onKeyDown)==null||B.call(D,se);let ce=se.nativeEvent.isComposing||se.keyCode===229;if(!(se.defaultPrevented||ce))switch(se.key){case"n":case"j":{C&&se.ctrlKey&&V(se);break}case"ArrowDown":{V(se);break}case"p":case"k":{C&&se.ctrlKey&&ue(se);break}case"ArrowUp":{ue(se);break}case"Home":{se.preventDefault(),ge(0);break}case"End":{se.preventDefault(),Ke();break}case"Enter":{se.preventDefault();let Z=le();if(Z){let xe=new Event(sS);Z.dispatchEvent(xe)}}}}},k.createElement("label",{"cmdk-label":"",htmlFor:ne.inputId,id:ne.labelId,style:xK},f),rv(t,se=>k.createElement(X4.Provider,{value:Y},k.createElement(q4.Provider,{value:ne},se))))}),oK=k.forwardRef((t,e)=>{var n,r;let s=Ps(),o=k.useRef(null),l=k.useContext(Y4),c=vm(),f=Z4(t),h=(r=(n=f.current)==null?void 0:n.forceMount)!=null?r:l==null?void 0:l.forceMount;fu(()=>{if(!h)return c.item(s,l==null?void 0:l.id)},[h]);let p=G4(s,o,[t.value,t.children,o],t.keywords),m=WE(),b=Ll(O=>O.value&&O.value===p.current),_=Ll(O=>h||c.filter()===!1?!0:O.search?O.filtered.items.get(s)>0:!0);k.useEffect(()=>{let O=o.current;if(!(!O||t.disabled))return O.addEventListener(sS,E),()=>O.removeEventListener(sS,E)},[_,t.onSelect,t.disabled]);function E(){var O,Y;T(),(Y=(O=f.current).onSelect)==null||Y.call(O,p.current)}function T(){m.setState("value",p.current,!0)}if(!_)return null;let{disabled:C,value:D,onSelect:M,forceMount:P,keywords:U,...L}=t;return k.createElement(Mt.div,{ref:nu(o,e),...L,id:s,"cmdk-item":"",role:"option","aria-disabled":!!C,"aria-selected":!!b,"data-disabled":!!C,"data-selected":!!b,onPointerMove:C||c.getDisablePointerSelection()?void 0:T,onClick:C?void 0:E},t.children)}),aK=k.forwardRef((t,e)=>{let{heading:n,children:r,forceMount:s,...o}=t,l=Ps(),c=k.useRef(null),f=k.useRef(null),h=Ps(),p=vm(),m=Ll(_=>s||p.filter()===!1?!0:_.search?_.filtered.groups.has(l):!0);fu(()=>p.group(l),[]),G4(l,c,[t.value,t.heading,f]);let b=k.useMemo(()=>({id:l,forceMount:s}),[s]);return k.createElement(Mt.div,{ref:nu(c,e),...o,"cmdk-group":"",role:"presentation",hidden:m?void 0:!0},n&&k.createElement("div",{ref:f,"cmdk-group-heading":"","aria-hidden":!0,id:h},n),rv(t,_=>k.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?h:void 0},k.createElement(Y4.Provider,{value:b},_))))}),lK=k.forwardRef((t,e)=>{let{alwaysRender:n,...r}=t,s=k.useRef(null),o=Ll(l=>!l.search);return!n&&!o?null:k.createElement(Mt.div,{ref:nu(s,e),...r,"cmdk-separator":"",role:"separator"})}),cK=k.forwardRef((t,e)=>{let{onValueChange:n,...r}=t,s=t.value!=null,o=WE(),l=Ll(h=>h.search),c=Ll(h=>h.selectedItemId),f=vm();return k.useEffect(()=>{t.value!=null&&o.setState("search",t.value)},[t.value]),k.createElement(Mt.input,{ref:e,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":f.listId,"aria-labelledby":f.labelId,"aria-activedescendant":c,id:f.inputId,type:"text",value:s?t.value:l,onChange:h=>{s||o.setState("search",h.target.value),n==null||n(h.target.value)}})}),uK=k.forwardRef((t,e)=>{let{children:n,label:r="Suggestions",...s}=t,o=k.useRef(null),l=k.useRef(null),c=Ll(h=>h.selectedItemId),f=vm();return k.useEffect(()=>{if(l.current&&o.current){let h=l.current,p=o.current,m,b=new ResizeObserver(()=>{m=requestAnimationFrame(()=>{let _=h.offsetHeight;p.style.setProperty("--cmdk-list-height",_.toFixed(1)+"px")})});return b.observe(h),()=>{cancelAnimationFrame(m),b.unobserve(h)}}},[]),k.createElement(Mt.div,{ref:nu(o,e),...s,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":c,"aria-label":r,id:f.listId},rv(t,h=>k.createElement("div",{ref:nu(l,f.listInnerRef),"cmdk-list-sizer":""},h)))}),fK=k.forwardRef((t,e)=>{let{open:n,onOpenChange:r,overlayClassName:s,contentClassName:o,container:l,...c}=t;return k.createElement(B4,{open:n,onOpenChange:r},k.createElement(L4,{container:l},k.createElement(z4,{"cmdk-overlay":"",className:s}),k.createElement($4,{"aria-label":t.label,"cmdk-dialog":"",className:o},k.createElement(K4,{ref:e,...c}))))}),dK=k.forwardRef((t,e)=>Ll(n=>n.filtered.count===0)?k.createElement(Mt.div,{ref:e,...t,"cmdk-empty":"",role:"presentation"}):null),hK=k.forwardRef((t,e)=>{let{progress:n,children:r,label:s="Loading...",...o}=t;return k.createElement(Mt.div,{ref:e,...o,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":s},rv(t,l=>k.createElement("div",{"aria-hidden":!0},l)))}),_m=Object.assign(K4,{List:uK,Item:oK,Input:cK,Group:aK,Separator:lK,Dialog:fK,Empty:dK,Loading:hK});function pK(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return n;n=n.nextElementSibling}}function mK(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return n;n=n.previousElementSibling}}function Z4(t){let e=k.useRef(t);return fu(()=>{e.current=t}),e}var fu=typeof window>"u"?k.useEffect:k.useLayoutEffect;function Vf(t){let e=k.useRef();return e.current===void 0&&(e.current=t()),e}function Ll(t){let e=WE(),n=()=>t(e.snapshot());return k.useSyncExternalStore(e.subscribe,n,n)}function G4(t,e,n,r=[]){let s=k.useRef(),o=vm();return fu(()=>{var l;let c=(()=>{var h;for(let p of n){if(typeof p=="string")return p.trim();if(typeof p=="object"&&"current"in p)return p.current?(h=p.current.textContent)==null?void 0:h.trim():s.current}})(),f=r.map(h=>h.trim());o.value(t,c,f),(l=e.current)==null||l.setAttribute(Uf,c),s.current=c}),s}var gK=()=>{let[t,e]=k.useState(),n=Vf(()=>new Map);return fu(()=>{n.current.forEach(r=>r()),n.current=new Map},[t]),(r,s)=>{n.current.set(r,s),e({})}};function bK(t){let e=t.type;return typeof e=="function"?e(t.props):"render"in e?e.render(t.props):t}function rv({asChild:t,children:e},n){return t&&k.isValidElement(e)?k.cloneElement(bK(e),{ref:e.ref},n(e.props.children)):n(e)}var xK={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function yK({className:t,...e}){return x.jsxDEV(_m,{"data-slot":"command",className:Wt("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",t),...e},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/command.tsx",lineNumber:19,columnNumber:5},this)}function vK({className:t,...e}){return x.jsxDEV("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[x.jsxDEV(Mx,{className:"size-4 shrink-0 opacity-50"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/command.tsx",lineNumber:70,columnNumber:7},this),x.jsxDEV(_m.Input,{"data-slot":"command-input",className:Wt("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",t),...e},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/command.tsx",lineNumber:71,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/command.tsx",lineNumber:66,columnNumber:5},this)}function _K({...t}){return x.jsxDEV(_m.Empty,{"data-slot":"command-empty",className:"py-6 text-center text-sm",...t},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/command.tsx",lineNumber:103,columnNumber:5},this)}function wK({className:t,...e}){return x.jsxDEV(_m.Group,{"data-slot":"command-group",className:Wt("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-thin",t),...e},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/command.tsx",lineNumber:116,columnNumber:5},this)}function a2({className:t,...e}){return x.jsxDEV(_m.Item,{"data-slot":"command-item",className:Wt("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...e},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/command.tsx",lineNumber:145,columnNumber:5},this)}var sv="Popover",[Q4,Yme]=Ra(sv,[qy]),wm=qy(),[NK,Yl]=Q4(sv),J4=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:l=!1}=t,c=wm(e),f=k.useRef(null),[h,p]=k.useState(!1),[m,b]=su({prop:r,defaultProp:s??!1,onChange:o,caller:sv});return Me.jsx(gU,{...c,children:Me.jsx(NK,{scope:e,contentId:Ps(),triggerRef:f,open:m,onOpenChange:b,onOpenToggle:k.useCallback(()=>b(_=>!_),[b]),hasCustomAnchor:h,onCustomAnchorAdd:k.useCallback(()=>p(!0),[]),onCustomAnchorRemove:k.useCallback(()=>p(!1),[]),modal:l,children:n})})};J4.displayName=sv;var eV="PopoverAnchor",SK=k.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Yl(eV,n),o=wm(n),{onCustomAnchorAdd:l,onCustomAnchorRemove:c}=s;return k.useEffect(()=>(l(),()=>c()),[l,c]),Me.jsx(jE,{...o,...r,ref:e})});SK.displayName=eV;var tV="PopoverTrigger",nV=k.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Yl(tV,n),o=wm(n),l=Kn(e,s.triggerRef),c=Me.jsx(Mt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":aV(s.open),...r,ref:l,onClick:Bt(t.onClick,s.onOpenToggle)});return s.hasCustomAnchor?c:Me.jsx(jE,{asChild:!0,...o,children:c})});nV.displayName=tV;var qE="PopoverPortal",[EK,TK]=Q4(qE,{forceMount:void 0}),rV=t=>{const{__scopePopover:e,forceMount:n,children:r,container:s}=t,o=Yl(qE,e);return Me.jsx(EK,{scope:e,forceMount:n,children:Me.jsx($l,{present:n||o.open,children:Me.jsx(mm,{asChild:!0,container:s,children:r})})})};rV.displayName=qE;var gd="PopoverContent",sV=k.forwardRef((t,e)=>{const n=TK(gd,t.__scopePopover),{forceMount:r=n.forceMount,...s}=t,o=Yl(gd,t.__scopePopover);return Me.jsx($l,{present:r||o.open,children:o.modal?Me.jsx(CK,{...s,ref:e}):Me.jsx(RK,{...s,ref:e})})});sV.displayName=gd;var AK=ru("PopoverContent.RemoveScroll"),CK=k.forwardRef((t,e)=>{const n=Yl(gd,t.__scopePopover),r=k.useRef(null),s=Kn(e,r),o=k.useRef(!1);return k.useEffect(()=>{const l=r.current;if(l)return IE(l)},[]),Me.jsx(Yy,{as:AK,allowPinchZoom:!0,children:Me.jsx(iV,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Bt(t.onCloseAutoFocus,l=>{var c;l.preventDefault(),o.current||(c=n.triggerRef.current)==null||c.focus()}),onPointerDownOutside:Bt(t.onPointerDownOutside,l=>{const c=l.detail.originalEvent,f=c.button===0&&c.ctrlKey===!0,h=c.button===2||f;o.current=h},{checkForDefaultPrevented:!1}),onFocusOutside:Bt(t.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1})})})}),RK=k.forwardRef((t,e)=>{const n=Yl(gd,t.__scopePopover),r=k.useRef(!1),s=k.useRef(!1);return Me.jsx(iV,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var l,c;(l=t.onCloseAutoFocus)==null||l.call(t,o),o.defaultPrevented||(r.current||(c=n.triggerRef.current)==null||c.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var f,h;(f=t.onInteractOutside)==null||f.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const l=o.target;((h=n.triggerRef.current)==null?void 0:h.contains(l))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),iV=k.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEscapeKeyDown:c,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:p,...m}=t,b=Yl(gd,n),_=wm(n);return SE(),Me.jsx(zy,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:Me.jsx(pm,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:p,onEscapeKeyDown:c,onPointerDownOutside:f,onFocusOutside:h,onDismiss:()=>b.onOpenChange(!1),children:Me.jsx(bU,{"data-state":aV(b.open),role:"dialog",id:b.contentId,..._,...m,ref:e,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),oV="PopoverClose",kK=k.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Yl(oV,n);return Me.jsx(Mt.button,{type:"button",...r,ref:e,onClick:Bt(t.onClick,()=>s.onOpenChange(!1))})});kK.displayName=oV;var PK="PopoverArrow",DK=k.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=wm(n);return Me.jsx(xU,{...s,...r,ref:e})});DK.displayName=PK;function aV(t){return t?"open":"closed"}var MK=J4,jK=nV,IK=rV,OK=sV;function UK({...t}){return x.jsxDEV(MK,{"data-slot":"popover",...t},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/popover.tsx",lineNumber:9,columnNumber:10},this)}function VK({...t}){return x.jsxDEV(jK,{"data-slot":"popover-trigger",...t},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/popover.tsx",lineNumber:15,columnNumber:10},this)}function FK({className:t,align:e="center",sideOffset:n=4,...r}){return x.jsxDEV(IK,{children:x.jsxDEV(OK,{"data-slot":"popover-content",align:e,sideOffset:n,className:Wt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",t),...r},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/popover.tsx",lineNumber:26,columnNumber:7},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/popover.tsx",lineNumber:25,columnNumber:5},this)}function l2({options:t,selected:e,onSelectedChange:n,placeholder:r="Select items...",className:s}){const[o,l]=k.useState(!1),c=m=>{e.includes(m)?n(e.filter(b=>b!==m)):n([...e,m])},f=m=>{n(e.filter(b=>b!==m))},h=()=>{n([])},p=t.filter(m=>e.includes(m.value));return x.jsxDEV(UK,{open:o,onOpenChange:l,children:[x.jsxDEV(VK,{asChild:!0,children:x.jsxDEV(Dt,{variant:"outline",role:"combobox","aria-expanded":o,className:Wt("w-full justify-between h-8 px-2 py-1 text-sm",s),children:[x.jsxDEV("div",{className:"flex items-center gap-1 flex-1 overflow-hidden",children:p.length===0?x.jsxDEV("span",{className:"text-muted-foreground",children:r},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/multi-select.tsx",lineNumber:71,columnNumber:15},this):x.jsxDEV("div",{className:"flex items-center gap-1 overflow-x-auto scrollbar-hide flex-1 min-w-0",children:x.jsxDEV("div",{className:"flex items-center gap-1 flex-nowrap",children:p.map(m=>x.jsxDEV(yn,{variant:"secondary",className:"flex-shrink-0 whitespace-nowrap px-1 py-0.5 text-xs",style:m.color?{backgroundColor:m.color+"20",borderColor:m.color,color:m.color}:void 0,children:[m.label,x.jsxDEV("button",{className:"ml-1 ring-offset-background rounded-full outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",onKeyDown:b=>{b.key==="Enter"&&f(m.value)},onMouseDown:b=>{b.preventDefault(),b.stopPropagation()},onClick:()=>f(m.value),children:x.jsxDEV(ii,{className:"h-2.5 w-2.5 text-muted-foreground hover:text-foreground"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/multi-select.tsx",lineNumber:100,columnNumber:25},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/multi-select.tsx",lineNumber:87,columnNumber:23},this)]},m.value,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/multi-select.tsx",lineNumber:76,columnNumber:21},this))},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/multi-select.tsx",lineNumber:74,columnNumber:17},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/multi-select.tsx",lineNumber:73,columnNumber:15},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/multi-select.tsx",lineNumber:69,columnNumber:11},this),x.jsxDEV(n7,{className:"h-4 w-4 shrink-0 opacity-50 ml-2"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/multi-select.tsx",lineNumber:108,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/multi-select.tsx",lineNumber:63,columnNumber:9},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/multi-select.tsx",lineNumber:62,columnNumber:7},this),x.jsxDEV(FK,{className:"w-full p-0",align:"start",children:x.jsxDEV(yK,{children:[x.jsxDEV(vK,{placeholder:"Search...",className:"h-8 text-sm"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/multi-select.tsx",lineNumber:113,columnNumber:11},this),x.jsxDEV(_K,{children:"No options found."},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/multi-select.tsx",lineNumber:114,columnNumber:11},this),x.jsxDEV(wK,{className:"max-h-64 overflow-auto",children:[t.map(m=>x.jsxDEV(a2,{value:m.value,onSelect:()=>c(m.value),className:"text-sm",children:[x.jsxDEV(fO,{className:Wt("mr-2 h-4 w-4",e.includes(m.value)?"opacity-100":"opacity-0")},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/multi-select.tsx",lineNumber:123,columnNumber:17},this),x.jsxDEV("div",{className:"flex items-center gap-2 flex-1",children:[m.color&&x.jsxDEV("div",{className:"w-3 h-3 rounded-full border border-border/50",style:{backgroundColor:m.color}},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/multi-select.tsx",lineNumber:131,columnNumber:21},this),x.jsxDEV("span",{children:m.label},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/multi-select.tsx",lineNumber:136,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/multi-select.tsx",lineNumber:129,columnNumber:17},this)]},m.value,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/multi-select.tsx",lineNumber:117,columnNumber:15},this)),e.length>0&&x.jsxDEV(a2,{onSelect:h,className:"justify-center text-center text-muted-foreground",children:"Clear all selections"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/multi-select.tsx",lineNumber:141,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/multi-select.tsx",lineNumber:115,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/multi-select.tsx",lineNumber:112,columnNumber:9},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/multi-select.tsx",lineNumber:111,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/multi-select.tsx",lineNumber:61,columnNumber:5},this)}function zx(t,e){if(!t)throw new Error(e||"loader assertion failed.")}const XE=!!(typeof process!="object"||String(process)!=="[object process]"||process.browser),c2=typeof process<"u"&&process.version&&/v([0-9]*)/.exec(process.version);c2&&parseFloat(c2[1]);const $b=globalThis,Tf=globalThis.process||{},BK=globalThis.navigator||{};function lV(t){var r,s;if(typeof window<"u"&&((r=window.process)==null?void 0:r.type)==="renderer"||typeof process<"u"&&((s=process.versions)!=null&&s.electron))return!0;const n=typeof navigator<"u"&&navigator.userAgent;return!!(n&&n.indexOf("Electron")>=0)}function xu(){return!(typeof process=="object"&&String(process)==="[object process]"&&!(process!=null&&process.browser))||lV()}function LK(t){return xu()?lV()?"Electron":(BK.userAgent||"").indexOf("Edge")>-1?"Edge":globalThis.chrome?"Chrome":globalThis.safari?"Safari":globalThis.mozInnerScreenX?"Firefox":"Unknown":"Node"}const cV="4.1.0";function zK(t){try{const e=window[t],n="__storage_test__";return e.setItem(n,n),e.removeItem(n),e}catch{return null}}class $K{constructor(e,n,r="sessionStorage"){this.storage=zK(r),this.id=e,this.config=n,this._loadConfiguration()}getConfiguration(){return this.config}setConfiguration(e){if(Object.assign(this.config,e),this.storage){const n=JSON.stringify(this.config);this.storage.setItem(this.id,n)}}_loadConfiguration(){let e={};if(this.storage){const n=this.storage.getItem(this.id);e=n?JSON.parse(n):{}}return Object.assign(this.config,e),this}}function HK(t){let e;return t<10?e=`${t.toFixed(2)}ms`:t<100?e=`${t.toFixed(1)}ms`:t<1e3?e=`${t.toFixed(0)}ms`:e=`${(t/1e3).toFixed(2)}s`,e}function WK(t,e=8){const n=Math.max(e-t.length,0);return`${" ".repeat(n)}${t}`}var $x;(function(t){t[t.BLACK=30]="BLACK",t[t.RED=31]="RED",t[t.GREEN=32]="GREEN",t[t.YELLOW=33]="YELLOW",t[t.BLUE=34]="BLUE",t[t.MAGENTA=35]="MAGENTA",t[t.CYAN=36]="CYAN",t[t.WHITE=37]="WHITE",t[t.BRIGHT_BLACK=90]="BRIGHT_BLACK",t[t.BRIGHT_RED=91]="BRIGHT_RED",t[t.BRIGHT_GREEN=92]="BRIGHT_GREEN",t[t.BRIGHT_YELLOW=93]="BRIGHT_YELLOW",t[t.BRIGHT_BLUE=94]="BRIGHT_BLUE",t[t.BRIGHT_MAGENTA=95]="BRIGHT_MAGENTA",t[t.BRIGHT_CYAN=96]="BRIGHT_CYAN",t[t.BRIGHT_WHITE=97]="BRIGHT_WHITE"})($x||($x={}));const qK=10;function u2(t){return typeof t!="string"?t:(t=t.toUpperCase(),$x[t]||$x.WHITE)}function XK(t,e,n){return!xu&&typeof t=="string"&&(e&&(t=`\x1B[${u2(e)}m${t}\x1B[39m`),n&&(t=`\x1B[${u2(n)+qK}m${t}\x1B[49m`)),t}function YK(t,e=["constructor"]){const n=Object.getPrototypeOf(t),r=Object.getOwnPropertyNames(n),s=t;for(const o of r){const l=s[o];typeof l=="function"&&(e.find(c=>o===c)||(s[o]=l.bind(t)))}}function YE(t,e){if(!t)throw new Error("Assertion failed")}function Af(){var e,n,r;let t;if(xu()&&$b.performance)t=(n=(e=$b==null?void 0:$b.performance)==null?void 0:e.now)==null?void 0:n.call(e);else if("hrtime"in Tf){const s=(r=Tf==null?void 0:Tf.hrtime)==null?void 0:r.call(Tf);t=s[0]*1e3+s[1]/1e6}else t=Date.now();return t}const Cf={debug:xu()&&console.debug||console.log,log:console.log,info:console.info,warn:console.warn,error:console.error},KK={enabled:!0,level:0};function Rf(){}const f2={},d2={once:!0};class Nm{constructor({id:e}={id:""}){this.VERSION=cV,this._startTs=Af(),this._deltaTs=Af(),this.userData={},this.LOG_THROTTLE_TIMEOUT=0,this.id=e,this.userData={},this._storage=new $K(`__probe-${this.id}__`,KK),this.timeStamp(`${this.id} started`),YK(this),Object.seal(this)}set level(e){this.setLevel(e)}get level(){return this.getLevel()}isEnabled(){return this._storage.config.enabled}getLevel(){return this._storage.config.level}getTotal(){return Number((Af()-this._startTs).toPrecision(10))}getDelta(){return Number((Af()-this._deltaTs).toPrecision(10))}set priority(e){this.level=e}get priority(){return this.level}getPriority(){return this.level}enable(e=!0){return this._storage.setConfiguration({enabled:e}),this}setLevel(e){return this._storage.setConfiguration({level:e}),this}get(e){return this._storage.config[e]}set(e,n){this._storage.setConfiguration({[e]:n})}settings(){console.table?console.table(this._storage.config):console.log(this._storage.config)}assert(e,n){if(!e)throw new Error(n||"Assertion failed")}warn(e){return this._getLogFunction(0,e,Cf.warn,arguments,d2)}error(e){return this._getLogFunction(0,e,Cf.error,arguments)}deprecated(e,n){return this.warn(`\`${e}\` is deprecated and will be removed in a later version. Use \`${n}\` instead`)}removed(e,n){return this.error(`\`${e}\` has been removed. Use \`${n}\` instead`)}probe(e,n){return this._getLogFunction(e,n,Cf.log,arguments,{time:!0,once:!0})}log(e,n){return this._getLogFunction(e,n,Cf.debug,arguments)}info(e,n){return this._getLogFunction(e,n,console.info,arguments)}once(e,n){return this._getLogFunction(e,n,Cf.debug||Cf.info,arguments,d2)}table(e,n,r){return n?this._getLogFunction(e,n,console.table||Rf,r&&[r],{tag:GK(n)}):Rf}time(e,n){return this._getLogFunction(e,n,console.time?console.time:console.info)}timeEnd(e,n){return this._getLogFunction(e,n,console.timeEnd?console.timeEnd:console.info)}timeStamp(e,n){return this._getLogFunction(e,n,console.timeStamp||Rf)}group(e,n,r={collapsed:!1}){const s=h2({logLevel:e,message:n,opts:r}),{collapsed:o}=r;return s.method=(o?console.groupCollapsed:console.group)||console.info,this._getLogFunction(s)}groupCollapsed(e,n,r={}){return this.group(e,n,Object.assign({},r,{collapsed:!0}))}groupEnd(e){return this._getLogFunction(e,"",console.groupEnd||Rf)}withGroup(e,n,r){this.group(e,n)();try{r()}finally{this.groupEnd(e)()}}trace(){console.trace&&console.trace()}_shouldLog(e){return this.isEnabled()&&this.getLevel()>=uV(e)}_getLogFunction(e,n,r,s,o){if(this._shouldLog(e)){o=h2({logLevel:e,message:n,args:s,opts:o}),r=r||o.method,YE(r),o.total=this.getTotal(),o.delta=this.getDelta(),this._deltaTs=Af();const l=o.tag||o.message;if(o.once&&l)if(!f2[l])f2[l]=Af();else return Rf;return n=ZK(this.id,o.message,o),r.bind(console,n,...o.args)}return Rf}}Nm.VERSION=cV;function uV(t){if(!t)return 0;let e;switch(typeof t){case"number":e=t;break;case"object":e=t.logLevel||t.priority||0;break;default:return 0}return YE(Number.isFinite(e)&&e>=0),e}function h2(t){const{logLevel:e,message:n}=t;t.logLevel=uV(e);const r=t.args?Array.from(t.args):[];for(;r.length&&r.shift()!==n;);switch(typeof e){case"string":case"function":n!==void 0&&r.unshift(n),t.message=e;break;case"object":Object.assign(t,e);break}typeof t.message=="function"&&(t.message=t.message());const s=typeof t.message;return YE(s==="string"||s==="object"),Object.assign(t,{args:r},t.opts)}function ZK(t,e,n){if(typeof e=="string"){const r=n.time?WK(HK(n.total)):"";e=n.time?`${t}: ${r}  ${e}`:`${t}: ${e}`,e=XK(e,n.color,n.background)}return e}function GK(t){for(const e in t)for(const n in t[e])return n||"untitled";return"empty"}const b1="4.3.3",QK=b1[0]>="0"&&b1[0]<="9"?`v${b1}`:"";function JK(){const t=new Nm({id:"loaders.gl"});return globalThis.loaders=globalThis.loaders||{},globalThis.loaders.log=t,globalThis.loaders.version=QK,globalThis.probe=globalThis.probe||{},globalThis.probe.loaders=t,t}const eZ=JK();function tZ(t,e){return fV(t||{},e)}function fV(t,e,n=0){if(n>3)return e;const r={...t};for(const[s,o]of Object.entries(e))o&&typeof o=="object"&&!Array.isArray(o)?r[s]=fV(r[s]||{},e[s],n+1):r[s]=e[s];return r}const nZ="latest";function rZ(){var t;return(t=globalThis._loadersgl_)!=null&&t.version||(globalThis._loadersgl_=globalThis._loadersgl_||{},globalThis._loadersgl_.version="4.3.3"),globalThis._loadersgl_.version}const sZ=rZ();function zl(t,e){if(!t)throw new Error(e||"loaders.gl assertion failed.")}const Kc=typeof process!="object"||String(process)!=="[object process]"||process.browser,iZ=typeof window<"u"&&typeof window.orientation<"u",p2=typeof process<"u"&&process.version&&/v([0-9]*)/.exec(process.version);p2&&parseFloat(p2[1]);class oZ{constructor(e,n){H(this,"name");H(this,"workerThread");H(this,"isRunning",!0);H(this,"result");H(this,"_resolve",()=>{});H(this,"_reject",()=>{});this.name=e,this.workerThread=n,this.result=new Promise((r,s)=>{this._resolve=r,this._reject=s})}postMessage(e,n){this.workerThread.postMessage({source:"loaders.gl",type:e,payload:n})}done(e){zl(this.isRunning),this.isRunning=!1,this._resolve(e)}error(e){zl(this.isRunning),this.isRunning=!1,this._reject(e)}}class x1{terminate(){}}const y1=new Map;function aZ(t){zl(t.source&&!t.url||!t.source&&t.url);let e=y1.get(t.source||t.url);return e||(t.url&&(e=lZ(t.url),y1.set(t.url,e)),t.source&&(e=dV(t.source),y1.set(t.source,e))),zl(e),e}function lZ(t){if(!t.startsWith("http"))return t;const e=cZ(t);return dV(e)}function dV(t){const e=new Blob([t],{type:"application/javascript"});return URL.createObjectURL(e)}function cZ(t){return`try {
  importScripts('${t}');
} catch (error) {
  console.error(error);
  throw error;
}`}function hV(t,e=!0,n){const r=n||new Set;if(t){if(m2(t))r.add(t);else if(m2(t.buffer))r.add(t.buffer);else if(!ArrayBuffer.isView(t)){if(e&&typeof t=="object")for(const s in t)hV(t[s],e,r)}}return n===void 0?Array.from(r):[]}function m2(t){return t?t instanceof ArrayBuffer||typeof MessagePort<"u"&&t instanceof MessagePort||typeof ImageBitmap<"u"&&t instanceof ImageBitmap||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas:!1}const v1=()=>{};class iS{constructor(e){H(this,"name");H(this,"source");H(this,"url");H(this,"terminated",!1);H(this,"worker");H(this,"onMessage");H(this,"onError");H(this,"_loadableURL","");const{name:n,source:r,url:s}=e;zl(r||s),this.name=n,this.source=r,this.url=s,this.onMessage=v1,this.onError=o=>console.log(o),this.worker=Kc?this._createBrowserWorker():this._createNodeWorker()}static isSupported(){return typeof Worker<"u"&&Kc||typeof x1<"u"&&!Kc}destroy(){this.onMessage=v1,this.onError=v1,this.worker.terminate(),this.terminated=!0}get isRunning(){return!!this.onMessage}postMessage(e,n){n=n||hV(e),this.worker.postMessage(e,n)}_getErrorFromErrorEvent(e){let n="Failed to load ";return n+=`worker ${this.name} from ${this.url}. `,e.message&&(n+=`${e.message} in `),e.lineno&&(n+=`:${e.lineno}:${e.colno}`),new Error(n)}_createBrowserWorker(){this._loadableURL=aZ({source:this.source,url:this.url});const e=new Worker(this._loadableURL,{name:this.name});return e.onmessage=n=>{n.data?this.onMessage(n.data):this.onError(new Error("No data received"))},e.onerror=n=>{this.onError(this._getErrorFromErrorEvent(n)),this.terminated=!0},e.onmessageerror=n=>console.error(n),e}_createNodeWorker(){let e;if(this.url){const r=this.url.includes(":/")||this.url.startsWith("/")?this.url:`./${this.url}`;e=new x1(r,{eval:!1})}else if(this.source)e=new x1(this.source,{eval:!0});else throw new Error("no worker");return e.on("message",n=>{this.onMessage(n)}),e.on("error",n=>{this.onError(n)}),e.on("exit",n=>{}),e}}class uZ{constructor(e){H(this,"name","unnamed");H(this,"source");H(this,"url");H(this,"maxConcurrency",1);H(this,"maxMobileConcurrency",1);H(this,"onDebug",()=>{});H(this,"reuseWorkers",!0);H(this,"props",{});H(this,"jobQueue",[]);H(this,"idleQueue",[]);H(this,"count",0);H(this,"isDestroyed",!1);this.source=e.source,this.url=e.url,this.setProps(e)}static isSupported(){return iS.isSupported()}destroy(){this.idleQueue.forEach(e=>e.destroy()),this.isDestroyed=!0}setProps(e){this.props={...this.props,...e},e.name!==void 0&&(this.name=e.name),e.maxConcurrency!==void 0&&(this.maxConcurrency=e.maxConcurrency),e.maxMobileConcurrency!==void 0&&(this.maxMobileConcurrency=e.maxMobileConcurrency),e.reuseWorkers!==void 0&&(this.reuseWorkers=e.reuseWorkers),e.onDebug!==void 0&&(this.onDebug=e.onDebug)}async startJob(e,n=(s,o,l)=>s.done(l),r=(s,o)=>s.error(o)){const s=new Promise(o=>(this.jobQueue.push({name:e,onMessage:n,onError:r,onStart:o}),this));return this._startQueuedJob(),await s}async _startQueuedJob(){if(!this.jobQueue.length)return;const e=this._getAvailableWorker();if(!e)return;const n=this.jobQueue.shift();if(n){this.onDebug({message:"Starting job",name:n.name,workerThread:e,backlog:this.jobQueue.length});const r=new oZ(n.name,e);e.onMessage=s=>n.onMessage(r,s.type,s.payload),e.onError=s=>n.onError(r,s),n.onStart(r);try{await r.result}catch(s){console.error(`Worker exception: ${s}`)}finally{this.returnWorkerToQueue(e)}}}returnWorkerToQueue(e){!Kc||this.isDestroyed||!this.reuseWorkers||this.count>this._getMaxConcurrency()?(e.destroy(),this.count--):this.idleQueue.push(e),this.isDestroyed||this._startQueuedJob()}_getAvailableWorker(){if(this.idleQueue.length>0)return this.idleQueue.shift()||null;if(this.count<this._getMaxConcurrency()){this.count++;const e=`${this.name.toLowerCase()} (#${this.count} of ${this.maxConcurrency})`;return new iS({name:e,source:this.source,url:this.url})}return null}_getMaxConcurrency(){return iZ?this.maxMobileConcurrency:this.maxConcurrency}}const fZ={maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:!0,onDebug:()=>{}},bl=class bl{constructor(e){H(this,"props");H(this,"workerPools",new Map);this.props={...fZ},this.setProps(e),this.workerPools=new Map}static isSupported(){return iS.isSupported()}static getWorkerFarm(e={}){return bl._workerFarm=bl._workerFarm||new bl({}),bl._workerFarm.setProps(e),bl._workerFarm}destroy(){for(const e of this.workerPools.values())e.destroy();this.workerPools=new Map}setProps(e){this.props={...this.props,...e};for(const n of this.workerPools.values())n.setProps(this._getWorkerPoolProps())}getWorkerPool(e){const{name:n,source:r,url:s}=e;let o=this.workerPools.get(n);return o||(o=new uZ({name:n,source:r,url:s}),o.setProps(this._getWorkerPoolProps()),this.workerPools.set(n,o)),o}_getWorkerPoolProps(){return{maxConcurrency:this.props.maxConcurrency,maxMobileConcurrency:this.props.maxMobileConcurrency,reuseWorkers:this.props.reuseWorkers,onDebug:this.props.onDebug}}};H(bl,"_workerFarm");let Hx=bl;function dZ(t,e={}){const n=e[t.id]||{},r=Kc?`${t.id}-worker.js`:`${t.id}-worker-node.js`;let s=n.workerUrl;if(!s&&t.id==="compression"&&(s=e.workerUrl),e._workerType==="test"&&(Kc?s=`modules/${t.module}/dist/${r}`:s=`modules/${t.module}/src/workers/${t.id}-worker-node.ts`),!s){let o=t.version;o==="latest"&&(o=nZ);const l=o?`@${o}`:"";s=`https://unpkg.com/@loaders.gl/${t.module}${l}/dist/${r}`}return zl(s),s}function hZ(t,e=sZ){zl(t,"no worker provided");const n=t.version;return!(!e||!n)}function pZ(t,e){return!Hx.isSupported()||!Kc&&!(e!=null&&e._nodeWorkers)?!1:t.worker&&(e==null?void 0:e.worker)}async function mZ(t,e,n,r,s){const o=t.id,l=dZ(t,n),f=Hx.getWorkerFarm(n).getWorkerPool({name:o,url:l});n=JSON.parse(JSON.stringify(n)),r=JSON.parse(JSON.stringify(r||{}));const h=await f.startJob("process-on-worker",gZ.bind(null,s));return h.postMessage("process",{input:e,options:n,context:r}),await(await h.result).result}async function gZ(t,e,n,r){switch(n){case"done":e.done(r);break;case"error":e.error(new Error(r.error));break;case"process":const{id:s,input:o,options:l}=r;try{const c=await t(o,l);e.postMessage("done",{id:s,result:c})}catch(c){const f=c instanceof Error?c.message:"unknown error";e.postMessage("error",{id:s,error:f})}break;default:console.warn(`parse-with-worker unknown message ${n}`)}}function bZ(t,e,n){if(n=n||t.byteLength,t.byteLength<n||e.byteLength<n)return!1;const r=new Uint8Array(t),s=new Uint8Array(e);for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0}function xZ(...t){return yZ(t)}function yZ(t){const e=t.map(o=>o instanceof ArrayBuffer?new Uint8Array(o):o),n=e.reduce((o,l)=>o+l.byteLength,0),r=new Uint8Array(n);let s=0;for(const o of e)r.set(o,s),s+=o.byteLength;return r.buffer}async function vZ(t){const e=[];for await(const n of t)e.push(n);return xZ(...e)}function g2(){let t;if(typeof window<"u"&&window.performance)t=window.performance.now();else if(typeof process<"u"&&process.hrtime){const e=process.hrtime();t=e[0]*1e3+e[1]/1e6}else t=Date.now();return t}class b2{constructor(e,n){this.sampleSize=1,this.time=0,this.count=0,this.samples=0,this.lastTiming=0,this.lastSampleTime=0,this.lastSampleCount=0,this._count=0,this._time=0,this._samples=0,this._startTime=0,this._timerPending=!1,this.name=e,this.type=n,this.reset()}reset(){return this.time=0,this.count=0,this.samples=0,this.lastTiming=0,this.lastSampleTime=0,this.lastSampleCount=0,this._count=0,this._time=0,this._samples=0,this._startTime=0,this._timerPending=!1,this}setSampleSize(e){return this.sampleSize=e,this}incrementCount(){return this.addCount(1),this}decrementCount(){return this.subtractCount(1),this}addCount(e){return this._count+=e,this._samples++,this._checkSampling(),this}subtractCount(e){return this._count-=e,this._samples++,this._checkSampling(),this}addTime(e){return this._time+=e,this.lastTiming=e,this._samples++,this._checkSampling(),this}timeStart(){return this._startTime=g2(),this._timerPending=!0,this}timeEnd(){return this._timerPending?(this.addTime(g2()-this._startTime),this._timerPending=!1,this._checkSampling(),this):this}getSampleAverageCount(){return this.sampleSize>0?this.lastSampleCount/this.sampleSize:0}getSampleAverageTime(){return this.sampleSize>0?this.lastSampleTime/this.sampleSize:0}getSampleHz(){return this.lastSampleTime>0?this.sampleSize/(this.lastSampleTime/1e3):0}getAverageCount(){return this.samples>0?this.count/this.samples:0}getAverageTime(){return this.samples>0?this.time/this.samples:0}getHz(){return this.time>0?this.samples/(this.time/1e3):0}_checkSampling(){this._samples===this.sampleSize&&(this.lastSampleTime=this._time,this.lastSampleCount=this._count,this.count+=this._count,this.time+=this._time,this.samples+=this._samples,this._time=0,this._count=0,this._samples=0)}}class iv{constructor(e){this.stats={},this.id=e.id,this.stats={},this._initializeStats(e.stats),Object.seal(this)}get(e,n="count"){return this._getOrCreate({name:e,type:n})}get size(){return Object.keys(this.stats).length}reset(){for(const e of Object.values(this.stats))e.reset();return this}forEach(e){for(const n of Object.values(this.stats))e(n)}getTable(){const e={};return this.forEach(n=>{e[n.name]={time:n.time||0,count:n.count||0,average:n.getAverageTime()||0,hz:n.getHz()||0}}),e}_initializeStats(e=[]){e.forEach(n=>this._getOrCreate(n))}_getOrCreate(e){const{name:n,type:r}=e;let s=this.stats[n];return s||(e instanceof b2?s=e:s=new b2(n,r),this.stats[n]=s),s}}let _Z="";const x2={};function wZ(t){for(const e in x2)if(t.startsWith(e)){const n=x2[e];t=t.replace(e,n)}return!t.startsWith("http://")&&!t.startsWith("https://")&&(t=`${_Z}${t}`),t}function NZ(t){return t&&typeof t=="object"&&t.isBuffer}function pV(t){if(NZ(t))return t;if(t instanceof ArrayBuffer)return t;if(ArrayBuffer.isView(t))return t.byteOffset===0&&t.byteLength===t.buffer.byteLength?t.buffer:t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength);if(typeof t=="string"){const e=t;return new TextEncoder().encode(e).buffer}if(t&&typeof t=="object"&&t._toArrayBuffer)return t._toArrayBuffer();throw new Error("toArrayBuffer")}function mV(t){const e=t?t.lastIndexOf("/"):-1;return e>=0?t.substr(e+1):""}function SZ(t){const e=t?t.lastIndexOf("/"):-1;return e>=0?t.substr(0,e):""}const EZ=t=>typeof t=="boolean",Ip=t=>typeof t=="function",Sm=t=>t!==null&&typeof t=="object",y2=t=>Sm(t)&&t.constructor==={}.constructor,TZ=t=>!!t&&typeof t[Symbol.iterator]=="function",AZ=t=>t&&typeof t[Symbol.asyncIterator]=="function",yu=t=>typeof Response<"u"&&t instanceof Response||t&&t.arrayBuffer&&t.text&&t.json,vu=t=>typeof Blob<"u"&&t instanceof Blob,CZ=t=>t&&typeof t=="object"&&t.isBuffer,RZ=t=>typeof ReadableStream<"u"&&t instanceof ReadableStream||Sm(t)&&Ip(t.tee)&&Ip(t.cancel)&&Ip(t.getReader),kZ=t=>Sm(t)&&Ip(t.read)&&Ip(t.pipe)&&EZ(t.readable),gV=t=>RZ(t)||kZ(t);class PZ extends Error{constructor(n,r){super(n);H(this,"reason");H(this,"url");H(this,"response");this.reason=r.reason,this.url=r.url,this.response=r.response}}const DZ=/^data:([-\w.]+\/[-\w.+]+)(;|,)/,MZ=/^([-\w.]+\/[-\w.+]+)/;function v2(t,e){return t.toLowerCase()===e.toLowerCase()}function jZ(t){const e=MZ.exec(t);return e?e[1]:t}function _2(t){const e=DZ.exec(t);return e?e[1]:""}const bV=/\?.*/;function IZ(t){const e=t.match(bV);return e&&e[0]}function KE(t){return t.replace(bV,"")}function OZ(t){if(t.length<50)return t;const e=t.slice(t.length-15);return`${t.substr(0,32)}...${e}`}function ov(t){return yu(t)?t.url:vu(t)?t.name||"":typeof t=="string"?t:""}function ZE(t){if(yu(t)){const e=t,n=e.headers.get("content-type")||"",r=KE(e.url);return jZ(n)||_2(r)}return vu(t)?t.type||"":typeof t=="string"?_2(t):""}function UZ(t){return yu(t)?t.headers["content-length"]||-1:vu(t)?t.size:typeof t=="string"?t.length:t instanceof ArrayBuffer||ArrayBuffer.isView(t)?t.byteLength:-1}async function xV(t){if(yu(t))return t;const e={},n=UZ(t);n>=0&&(e["content-length"]=String(n));const r=ov(t),s=ZE(t);s&&(e["content-type"]=s);const o=await BZ(t);o&&(e["x-first-bytes"]=o),typeof t=="string"&&(t=new TextEncoder().encode(t));const l=new Response(t,{headers:e});return Object.defineProperty(l,"url",{value:r}),l}async function VZ(t){if(!t.ok)throw await FZ(t)}async function FZ(t){const e=OZ(t.url);let n=`Failed to fetch resource (${t.status}) ${t.statusText}: ${e}`;n=n.length>100?`${n.slice(0,100)}...`:n;const r={reason:t.statusText,url:t.url,response:t};try{const s=t.headers.get("Content-Type");r.reason=!t.bodyUsed&&(s!=null&&s.includes("application/json"))?await t.json():await t.text()}catch{}return new PZ(n,r)}async function BZ(t){if(typeof t=="string")return`data:,${t.slice(0,5)}`;if(t instanceof Blob){const n=t.slice(0,5);return await new Promise(r=>{const s=new FileReader;s.onload=o=>{var l;return r((l=o==null?void 0:o.target)==null?void 0:l.result)},s.readAsDataURL(n)})}if(t instanceof ArrayBuffer){const n=t.slice(0,5);return`data:base64,${LZ(n)}`}return null}function LZ(t){let e="";const n=new Uint8Array(t);for(let r=0;r<n.byteLength;r++)e+=String.fromCharCode(n[r]);return btoa(e)}function zZ(t){return!$Z(t)&&!HZ(t)}function $Z(t){return t.startsWith("http:")||t.startsWith("https:")}function HZ(t){return t.startsWith("data:")}async function w2(t,e){var n,r;if(typeof t=="string"){const s=wZ(t);return zZ(s)&&(n=globalThis.loaders)!=null&&n.fetchNode?(r=globalThis.loaders)==null?void 0:r.fetchNode(s,e):await fetch(s,e)}return await xV(t)}const N2=new Nm({id:"loaders.gl"});class WZ{log(){return()=>{}}info(){return()=>{}}warn(){return()=>{}}error(){return()=>{}}}class qZ{constructor(){H(this,"console");this.console=console}log(...e){return this.console.log.bind(this.console,...e)}info(...e){return this.console.info.bind(this.console,...e)}warn(...e){return this.console.warn.bind(this.console,...e)}error(...e){return this.console.error.bind(this.console,...e)}}const yV={fetch:null,mimeType:void 0,nothrow:!1,log:new qZ,useLocalLibraries:!1,CDN:"https://unpkg.com/@loaders.gl",worker:!0,maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:XE,_nodeWorkers:!1,_workerType:"",limit:0,_limitMB:0,batchSize:"auto",batchDebounceMs:0,metadata:!1,transforms:[]},XZ={throws:"nothrow",dataType:"(no longer used)",uri:"baseUri",method:"fetch.method",headers:"fetch.headers",body:"fetch.body",mode:"fetch.mode",credentials:"fetch.credentials",cache:"fetch.cache",redirect:"fetch.redirect",referrer:"fetch.referrer",referrerPolicy:"fetch.referrerPolicy",integrity:"fetch.integrity",keepalive:"fetch.keepalive",signal:"fetch.signal"};function vV(){globalThis.loaders=globalThis.loaders||{};const{loaders:t}=globalThis;return t._state||(t._state={}),t._state}function _V(){const t=vV();return t.globalOptions=t.globalOptions||{...yV},t.globalOptions}function YZ(t,e,n,r){return n=n||[],n=Array.isArray(n)?n:[n],KZ(t,n),GZ(e,t,r)}function KZ(t,e){S2(t,null,yV,XZ,e);for(const n of e){const r=t&&t[n.id]||{},s=n.options&&n.options[n.id]||{},o=n.deprecatedOptions&&n.deprecatedOptions[n.id]||{};S2(r,n.id,s,o,e)}}function S2(t,e,n,r,s){const o=e||"Top level",l=e?`${e}.`:"";for(const c in t){const f=!e&&Sm(t[c]),h=c==="baseUri"&&!e,p=c==="workerUrl"&&e;if(!(c in n)&&!h&&!p){if(c in r)N2.warn(`${o} loader option '${l}${c}' no longer supported, use '${r[c]}'`)();else if(!f){const m=ZZ(c,s);N2.warn(`${o} loader option '${l}${c}' not recognized. ${m}`)()}}}}function ZZ(t,e){const n=t.toLowerCase();let r="";for(const s of e)for(const o in s.options){if(t===o)return`Did you mean '${s.id}.${o}'?`;const l=o.toLowerCase();(n.startsWith(l)||l.startsWith(n))&&(r=r||`Did you mean '${s.id}.${o}'?`)}return r}function GZ(t,e,n){const s={...t.options||{}};return QZ(s,n),s.log===null&&(s.log=new WZ),E2(s,_V()),E2(s,e),s}function E2(t,e){for(const n in e)if(n in e){const r=e[n];y2(r)&&y2(t[n])?t[n]={...t[n],...e[n]}:t[n]=e[n]}}function QZ(t,e){e&&!("baseUri"in t)&&(t.baseUri=e)}function GE(t){return t?(Array.isArray(t)&&(t=t[0]),Array.isArray(t==null?void 0:t.extensions)):!1}function QE(t){zx(t,"null loader"),zx(GE(t),"invalid loader");let e;return Array.isArray(t)&&(e=t[1],t=t[0],t={...t,options:{...t.options,...e}}),(t!=null&&t.parseTextSync||t!=null&&t.parseText)&&(t.text=!0),t.text||(t.binary=!0),t}const wV=()=>{const t=vV();return t.loaderRegistry=t.loaderRegistry||[],t.loaderRegistry};function JZ(t){const e=wV();t=Array.isArray(t)?t:[t];for(const n of t){const r=QE(n);e.find(s=>r===s)||e.unshift(r)}}function eG(){return wV()}const tG=/\.([^.]+)$/;async function nG(t,e=[],n,r){if(!NV(t))return null;let s=T2(t,e,{...n,nothrow:!0},r);if(s)return s;if(vu(t)&&(t=await t.slice(0,10).arrayBuffer(),s=T2(t,e,n,r)),!s&&!(n!=null&&n.nothrow))throw new Error(SV(t));return s}function T2(t,e=[],n,r){if(!NV(t))return null;if(e&&!Array.isArray(e))return QE(e);let s=[];e&&(s=s.concat(e)),n!=null&&n.ignoreRegisteredLoaders||s.push(...eG()),sG(s);const o=rG(t,s,n,r);if(!o&&!(n!=null&&n.nothrow))throw new Error(SV(t));return o}function rG(t,e,n,r){const s=ov(t),o=ZE(t),l=KE(s)||(r==null?void 0:r.url);let c=null,f="";return n!=null&&n.mimeType&&(c=_1(e,n==null?void 0:n.mimeType),f=`match forced by supplied MIME type ${n==null?void 0:n.mimeType}`),c=c||iG(e,l),f=f||(c?`matched url ${l}`:""),c=c||_1(e,o),f=f||(c?`matched MIME type ${o}`:""),c=c||aG(e,t),f=f||(c?`matched initial data ${EV(t)}`:""),n!=null&&n.fallbackMimeType&&(c=c||_1(e,n==null?void 0:n.fallbackMimeType),f=f||(c?`matched fallback MIME type ${o}`:"")),f&&eZ.log(1,`selectLoader selected ${c==null?void 0:c.name}: ${f}.`),c}function NV(t){return!(t instanceof Response&&t.status===204)}function SV(t){const e=ov(t),n=ZE(t);let r="No valid loader found (";r+=e?`${mV(e)}, `:"no url provided, ",r+=`MIME type: ${n?`"${n}"`:"not provided"}, `;const s=t?EV(t):"";return r+=s?` first bytes: "${s}"`:"first bytes: not available",r+=")",r}function sG(t){for(const e of t)QE(e)}function iG(t,e){const n=e&&tG.exec(e),r=n&&n[1];return r?oG(t,r):null}function oG(t,e){e=e.toLowerCase();for(const n of t)for(const r of n.extensions)if(r.toLowerCase()===e)return n;return null}function _1(t,e){var n;for(const r of t)if((n=r.mimeTypes)!=null&&n.some(s=>v2(e,s))||v2(e,`application/x.${r.id}`))return r;return null}function aG(t,e){if(!e)return null;for(const n of t)if(typeof e=="string"){if(lG(e,n))return n}else if(ArrayBuffer.isView(e)){if(A2(e.buffer,e.byteOffset,n))return n}else if(e instanceof ArrayBuffer&&A2(e,0,n))return n;return null}function lG(t,e){return e.testText?e.testText(t):(Array.isArray(e.tests)?e.tests:[e.tests]).some(r=>t.startsWith(r))}function A2(t,e,n){return(Array.isArray(n.tests)?n.tests:[n.tests]).some(s=>cG(t,e,n,s))}function cG(t,e,n,r){if(r instanceof ArrayBuffer)return bZ(r,t,r.byteLength);switch(typeof r){case"function":return r(t);case"string":const s=oS(t,e,r.length);return r===s;default:return!1}}function EV(t,e=5){return typeof t=="string"?t.slice(0,e):ArrayBuffer.isView(t)?oS(t.buffer,t.byteOffset,e):t instanceof ArrayBuffer?oS(t,0,e):""}function oS(t,e,n){if(t.byteLength<e+n)return"";const r=new DataView(t);let s="";for(let o=0;o<n;o++)s+=String.fromCharCode(r.getUint8(e+o));return s}const uG=256*1024;function*fG(t,e){const n=(e==null?void 0:e.chunkSize)||uG;let r=0;const s=new TextEncoder;for(;r<t.length;){const o=Math.min(t.length-r,n),l=t.slice(r,r+o);r+=o,yield s.encode(l)}}const dG=256*1024;function*hG(t,e={}){const{chunkSize:n=dG}=e;let r=0;for(;r<t.byteLength;){const s=Math.min(t.byteLength-r,n),o=new ArrayBuffer(s),l=new Uint8Array(t,r,s);new Uint8Array(o).set(l),r+=s,yield o}}const pG=1024*1024;async function*mG(t,e){const n=(e==null?void 0:e.chunkSize)||pG;let r=0;for(;r<t.size;){const s=r+n,o=await t.slice(r,s).arrayBuffer();r=s,yield o}}function C2(t,e){return XE?gG(t,e):bG(t)}async function*gG(t,e){const n=t.getReader();let r;try{for(;;){const s=r||n.read();e!=null&&e._streamReadAhead&&(r=n.read());const{done:o,value:l}=await s;if(o)return;yield pV(l)}}catch{n.releaseLock()}}async function*bG(t,e){for await(const n of t)yield pV(n)}function xG(t,e){if(typeof t=="string")return fG(t,e);if(t instanceof ArrayBuffer)return hG(t,e);if(vu(t))return mG(t,e);if(gV(t))return C2(t,e);if(yu(t))return C2(t.body,e);throw new Error("makeIterator")}const TV="Cannot convert supplied data type";function yG(t,e,n){if(e.text&&typeof t=="string")return t;if(CZ(t)&&(t=t.buffer),t instanceof ArrayBuffer){const r=t;return e.text&&!e.binary?new TextDecoder("utf8").decode(r):r}if(ArrayBuffer.isView(t)){if(e.text&&!e.binary)return new TextDecoder("utf8").decode(t);let r=t.buffer;const s=t.byteLength||t.length;return(t.byteOffset!==0||s!==r.byteLength)&&(r=r.slice(t.byteOffset,t.byteOffset+s)),r}throw new Error(TV)}async function vG(t,e,n){const r=t instanceof ArrayBuffer||ArrayBuffer.isView(t);if(typeof t=="string"||r)return yG(t,e);if(vu(t)&&(t=await xV(t)),yu(t)){const s=t;return await VZ(s),e.binary?await s.arrayBuffer():await s.text()}if(gV(t)&&(t=xG(t,n)),TZ(t)||AZ(t))return vZ(t);throw new Error(TV)}function AV(t,e){const n=_V(),r=t||n;return typeof r.fetch=="function"?r.fetch:Sm(r.fetch)?s=>w2(s,r.fetch):e!=null&&e.fetch?e==null?void 0:e.fetch:w2}function _G(t,e,n){if(n)return n;const r={fetch:AV(e,t),...t};if(r.url){const s=KE(r.url);r.baseUrl=s,r.queryString=IZ(r.url),r.filename=mV(s),r.baseUrl=SZ(s)}return Array.isArray(r.loaders)||(r.loaders=null),r}function wG(t,e){if(t&&!Array.isArray(t))return t;let n;if(t&&(n=Array.isArray(t)?t:[t]),e&&e.loaders){const r=Array.isArray(e.loaders)?e.loaders:[e.loaders];n=n?[...n,...r]:r}return n&&n.length?n:void 0}async function Wx(t,e,n,r){e&&!Array.isArray(e)&&!GE(e)&&(r=void 0,n=e,e=void 0),t=await t,n=n||{};const s=ov(t),l=wG(e,r),c=await nG(t,l,n);return c?(n=YZ(n,c,l,s),r=_G({url:s,_parse:Wx,loaders:l},n,r||null),await NG(c,t,n,r)):null}async function NG(t,e,n,r){if(hZ(t),n=tZ(t.options,n),yu(e)){const o=e,{ok:l,redirected:c,status:f,statusText:h,type:p,url:m}=o,b=Object.fromEntries(o.headers.entries());r.response={headers:b,ok:l,redirected:c,status:f,statusText:h,type:p,url:m}}e=await vG(e,t,n);const s=t;if(s.parseTextSync&&typeof e=="string")return s.parseTextSync(e,n,r);if(pZ(t,n))return await mZ(t,e,n,r,Wx);if(s.parseText&&typeof e=="string")return await s.parseText(e,n,r);if(s.parse)return await s.parse(e,n,r);throw zl(!s.parseSync),new Error(`${t.id} loader - no parser found and worker is disabled`)}async function aS(t,e,n,r){let s,o;!Array.isArray(e)&&!GE(e)?(s=[],o=e):(s=e,o=n);const l=AV(o);let c=t;return typeof t=="string"&&(c=await l(t)),vu(t)&&(c=await l(t)),Array.isArray(s)?await Wx(c,s,o):await Wx(c,s,o)}const SG="4.3.3";var yI;const EG=(yI=globalThis.loaders)==null?void 0:yI.parseImageNode,lS=typeof Image<"u",cS=typeof ImageBitmap<"u",TG=!!EG,uS=XE?!0:TG;function AG(t){switch(t){case"auto":return cS||lS||uS;case"imagebitmap":return cS;case"image":return lS;case"data":return uS;default:throw new Error(`@loaders.gl/images: image ${t} not supported in this environment`)}}function CG(){if(cS)return"imagebitmap";if(lS)return"image";if(uS)return"data";throw new Error("Install '@loaders.gl/polyfills' to parse images under Node.js")}function RG(t){const e=PG(t);if(!e)throw new Error("Not an image");return e}function kG(t){switch(RG(t)){case"data":return t;case"image":case"imagebitmap":const e=document.createElement("canvas"),n=e.getContext("2d");if(!n)throw new Error("getImageData");return e.width=t.width,e.height=t.height,n.drawImage(t,0,0),n.getImageData(0,0,t.width,t.height);default:throw new Error("getImageData")}}function PG(t){return typeof ImageBitmap<"u"&&t instanceof ImageBitmap?"imagebitmap":typeof Image<"u"&&t instanceof Image?"image":t&&typeof t=="object"&&t.data&&t.width&&t.height?"data":null}const DG=/^data:image\/svg\+xml/,MG=/\.svg((\?|#).*)?$/;function JE(t){return t&&(DG.test(t)||MG.test(t))}function jG(t,e){if(JE(e)){let r=new TextDecoder().decode(t);try{typeof unescape=="function"&&typeof encodeURIComponent=="function"&&(r=unescape(encodeURIComponent(r)))}catch(o){throw new Error(o.message)}return`data:image/svg+xml;base64,${btoa(r)}`}return CV(t,e)}function CV(t,e){if(JE(e))throw new Error("SVG cannot be parsed directly to imagebitmap");return new Blob([new Uint8Array(t)])}async function RV(t,e,n){const r=jG(t,n),s=self.URL||self.webkitURL,o=typeof r!="string"&&s.createObjectURL(r);try{return await IG(o||r,e)}finally{o&&s.revokeObjectURL(o)}}async function IG(t,e){const n=new Image;return n.src=t,e.image&&e.image.decode&&n.decode?(await n.decode(),n):await new Promise((r,s)=>{try{n.onload=()=>r(n),n.onerror=o=>{const l=o instanceof Error?o.message:"error";s(new Error(l))}}catch(o){s(o)}})}const OG={};let R2=!0;async function UG(t,e,n){let r;JE(n)?r=await RV(t,e,n):r=CV(t,n);const s=e&&e.imagebitmap;return await VG(r,s)}async function VG(t,e=null){if((FG(e)||!R2)&&(e=null),e)try{return await createImageBitmap(t,e)}catch(n){console.warn(n),R2=!1}return await createImageBitmap(t)}function FG(t){for(const e in t||OG)return!1;return!0}function BG(t){return!HG(t,"ftyp",4)||(t[8]&96)===0?null:LG(t)}function LG(t){switch(zG(t,8,12).replace("\0"," ").trim()){case"avif":case"avis":return{extension:"avif",mimeType:"image/avif"};default:return null}}function zG(t,e,n){return String.fromCharCode(...t.slice(e,n))}function $G(t){return[...t].map(e=>e.charCodeAt(0))}function HG(t,e,n=0){const r=$G(e);for(let s=0;s<r.length;++s)if(r[s]!==t[s+n])return!1;return!0}const Io=!1,Op=!0;function kV(t){const e=Em(t);return qG(e)||KG(e)||XG(e)||YG(e)||WG(e)}function WG(t){const e=new Uint8Array(t instanceof DataView?t.buffer:t),n=BG(e);return n?{mimeType:n.mimeType,width:0,height:0}:null}function qG(t){const e=Em(t);return e.byteLength>=24&&e.getUint32(0,Io)===2303741511?{mimeType:"image/png",width:e.getUint32(16,Io),height:e.getUint32(20,Io)}:null}function XG(t){const e=Em(t);return e.byteLength>=10&&e.getUint32(0,Io)===1195984440?{mimeType:"image/gif",width:e.getUint16(6,Op),height:e.getUint16(8,Op)}:null}function YG(t){const e=Em(t);return e.byteLength>=14&&e.getUint16(0,Io)===16973&&e.getUint32(2,Op)===e.byteLength?{mimeType:"image/bmp",width:e.getUint32(18,Op),height:e.getUint32(22,Op)}:null}function KG(t){const e=Em(t);if(!(e.byteLength>=3&&e.getUint16(0,Io)===65496&&e.getUint8(2)===255))return null;const{tableMarkers:r,sofMarkers:s}=ZG();let o=2;for(;o+9<e.byteLength;){const l=e.getUint16(o,Io);if(s.has(l))return{mimeType:"image/jpeg",height:e.getUint16(o+5,Io),width:e.getUint16(o+7,Io)};if(!r.has(l))return null;o+=2,o+=e.getUint16(o,Io)}return null}function ZG(){const t=new Set([65499,65476,65484,65501,65534]);for(let n=65504;n<65520;++n)t.add(n);return{tableMarkers:t,sofMarkers:new Set([65472,65473,65474,65475,65477,65478,65479,65481,65482,65483,65485,65486,65487,65502])}}function Em(t){if(t instanceof DataView)return t;if(ArrayBuffer.isView(t))return new DataView(t.buffer);if(t instanceof ArrayBuffer)return new DataView(t);throw new Error("toDataView")}async function GG(t,e){var s;const{mimeType:n}=kV(t)||{},r=(s=globalThis.loaders)==null?void 0:s.parseImageNode;return zx(r),await r(t,n)}async function QG(t,e,n){e=e||{};const s=(e.image||{}).type||"auto",{url:o}=n||{},l=JG(s);let c;switch(l){case"imagebitmap":c=await UG(t,e,o);break;case"image":c=await RV(t,e,o);break;case"data":c=await GG(t);break;default:zx(!1)}return s==="data"&&(c=kG(c)),c}function JG(t){switch(t){case"auto":case"data":return CG();default:return AG(t),t}}const eQ=["png","jpg","jpeg","gif","webp","bmp","ico","svg","avif"],tQ=["image/png","image/jpeg","image/gif","image/webp","image/avif","image/bmp","image/vnd.microsoft.icon","image/svg+xml"],nQ={image:{type:"auto",decode:!0}},rQ={dataType:null,batchType:null,id:"image",module:"images",name:"Images",version:SG,mimeTypes:tQ,extensions:eQ,parse:QG,tests:[t=>!!kV(new DataView(t))],options:nQ},Hn=new Nm({id:"deck"}),al={attributeUpdateStart:-1,attributeManagerUpdateStart:-1,attributeUpdateMessages:[]},w1=1,dp=2,N1=3,S1=4,sQ=2,iQ=t=>({"layer.changeFlag":(e,n,r)=>{t.log(N1,`${e.id} ${n}: `,r[n])()},"layer.initialize":e=>{t.log(w1,`Initializing ${e}`)()},"layer.update":(e,n)=>{if(n){const r=e.getChangeFlags();t.log(dp,`Updating ${e} because: ${Object.keys(r).filter(s=>r[s]).join(", ")}`)()}else t.log(S1,`${e} does not need update`)()},"layer.matched":(e,n)=>{n&&t.log(S1,`Matched ${e}, state transfered`)()},"layer.finalize":e=>{t.log(w1,`Finalizing ${e}`)()},"compositeLayer.renderLayers":(e,n,r)=>{n?t.log(dp,`Composite layer rendered new subLayers ${e}`,r)():t.log(S1,`Composite layer reused subLayers ${e}`,r)()},"layerManager.setLayers":(e,n,r)=>{n&&t.log(dp,`Updating ${r.length} deck layers`)()},"layerManager.activateViewport":(e,n)=>{t.log(N1,"Viewport changed",n)()},"attributeManager.invalidate":(e,n,r)=>{t.log(w1,r?`invalidated attributes ${r} (${n}) for ${e.id}`:`invalidated all attributes for ${e.id}`)()},"attributeManager.updateStart":e=>{al.attributeUpdateMessages.length=0,al.attributeManagerUpdateStart=Date.now()},"attributeManager.updateEnd":(e,n)=>{const r=Math.round(Date.now()-al.attributeManagerUpdateStart);t.groupCollapsed(dp,`Updated attributes for ${n} instances in ${e.id} in ${r}ms`)();for(const s of al.attributeUpdateMessages)t.log(N1,s)();t.groupEnd(dp)()},"attribute.updateStart":e=>{al.attributeUpdateStart=Date.now()},"attribute.allocate":(e,n)=>{const r=`${e.id} allocated ${n}`;al.attributeUpdateMessages.push(r)},"attribute.updateEnd":(e,n)=>{const r=Math.round(Date.now()-al.attributeUpdateStart),s=`${e.id} updated ${n} in ${r}ms`;al.attributeUpdateMessages.push(s)},"deckRenderer.renderLayers":(e,n,r)=>{const{pass:s,redrawReason:o,stats:l}=r;for(const c of n){const{totalCount:f,visibleCount:h,compositeCount:p,pickableCount:m}=c,_=f-p-h;t.log(sQ,`RENDER #${e.renderCount}   ${h} (of ${f} layers) to ${s} because ${o}   (${_} hidden, ${p} composite ${m} pickable)`)(),l&&l.get("Redraw Layers").add(h)}}});let qx={};qx=iQ(Hn);function oQ(t){qx=t}function Rs(t,e,n,r){Hn.level>0&&qx[t]&&qx[t].call(null,e,n,r)}function aQ(t){const e=t[0],n=t[t.length-1];return e==="{"&&n==="}"||e==="["&&n==="]"}const lQ={dataType:null,batchType:null,id:"JSON",name:"JSON",module:"",version:"",options:{},extensions:["json","geojson"],mimeTypes:["application/json","application/geo+json"],testText:aQ,parseTextSync:JSON.parse};function cQ(){const t="9.1.12",e=globalThis.deck&&globalThis.deck.VERSION;if(e&&e!==t)throw new Error(`deck.gl - multiple versions detected: ${e} vs ${t}`);return e||(Hn.log(1,`deck.gl ${t}`)(),globalThis.deck={...globalThis.deck,VERSION:t,version:t,log:Hn,_registerLoggers:oQ},JZ([lQ,[rQ,{imagebitmap:{premultiplyAlpha:"none"}}]])),t}const uQ=cQ();function eT(t,e){if(!t)throw new Error(e||"shadertools: assertion failed.")}const E1={number:{type:"number",validate(t,e){return Number.isFinite(t)&&typeof e=="object"&&(e.max===void 0||t<=e.max)&&(e.min===void 0||t>=e.min)}},array:{type:"array",validate(t,e){return Array.isArray(t)||ArrayBuffer.isView(t)}}};function fQ(t){const e={};for(const[n,r]of Object.entries(t))e[n]=dQ(r);return e}function dQ(t){let e=k2(t);if(e!=="object")return{value:t,...E1[e],type:e};if(typeof t=="object")return t?t.type!==void 0?{...t,...E1[t.type],type:t.type}:t.value===void 0?{type:"object",value:t}:(e=k2(t.value),{...t,...E1[e],type:e}):{type:"object",value:null};throw new Error("props")}function k2(t){return Array.isArray(t)||ArrayBuffer.isView(t)?"array":typeof t}const hQ=`#ifdef MODULE_LOGDEPTH
  logdepth_adjustPosition(gl_Position);
#endif
`,pQ=`#ifdef MODULE_MATERIAL
  fragColor = material_filterColor(fragColor);
#endif

#ifdef MODULE_LIGHTING
  fragColor = lighting_filterColor(fragColor);
#endif

#ifdef MODULE_FOG
  fragColor = fog_filterColor(fragColor);
#endif

#ifdef MODULE_PICKING
  fragColor = picking_filterHighlightColor(fragColor);
  fragColor = picking_filterPickingColor(fragColor);
#endif

#ifdef MODULE_LOGDEPTH
  logdepth_setFragDepth();
#endif
`,mQ={vertex:hQ,fragment:pQ},P2=/void\s+main\s*\([^)]*\)\s*\{\n?/,D2=/}\n?[^{}]*$/,T1=[],bx="__LUMA_INJECT_DECLARATIONS__";function gQ(t){const e={vertex:{},fragment:{}};for(const n in t){let r=t[n];const s=bQ(n);typeof r=="string"&&(r={order:0,injection:r}),e[s][n]=r}return e}function bQ(t){const e=t.slice(0,2);switch(e){case"vs":return"vertex";case"fs":return"fragment";default:throw new Error(e)}}function Xx(t,e,n,r=!1){const s=e==="vertex";for(const o in n){const l=n[o];l.sort((f,h)=>f.order-h.order),T1.length=l.length;for(let f=0,h=l.length;f<h;++f)T1[f]=l[f].injection;const c=`${T1.join(`
`)}
`;switch(o){case"vs:#decl":s&&(t=t.replace(bx,c));break;case"vs:#main-start":s&&(t=t.replace(P2,f=>f+c));break;case"vs:#main-end":s&&(t=t.replace(D2,f=>c+f));break;case"fs:#decl":s||(t=t.replace(bx,c));break;case"fs:#main-start":s||(t=t.replace(P2,f=>f+c));break;case"fs:#main-end":s||(t=t.replace(D2,f=>c+f));break;default:t=t.replace(o,f=>f+c)}}return t=t.replace(bx,""),r&&(t=t.replace(/\}\s*$/,o=>o+mQ[e])),t}function Yx(t){t.map(e=>xQ(e))}function xQ(t){if(t.instance)return;Yx(t.dependencies||[]);const{propTypes:e={},deprecations:n=[],inject:r={}}=t,s={normalizedInjections:gQ(r),parsedDeprecations:yQ(n)};e&&(s.propValidators=fQ(e)),t.instance=s;let o={};e&&(o=Object.entries(e).reduce((l,[c,f])=>{const h=f==null?void 0:f.value;return h&&(l[c]=h),l},{})),t.defaultUniforms={...t.defaultUniforms,...o}}function PV(t,e,n){var r;(r=t.deprecations)==null||r.forEach(s=>{var o;(o=s.regex)!=null&&o.test(e)&&(s.deprecated?n.deprecated(s.old,s.new)():n.removed(s.old,s.new)())})}function yQ(t){return t.forEach(e=>{switch(e.type){case"function":e.regex=new RegExp(`\\b${e.old}\\(`);break;default:e.regex=new RegExp(`${e.type} ${e.old};`)}}),t}function tT(t){Yx(t);const e={},n={};DV({modules:t,level:0,moduleMap:e,moduleDepth:n});const r=Object.keys(n).sort((s,o)=>n[o]-n[s]).map(s=>e[s]);return Yx(r),r}function DV(t){const{modules:e,level:n,moduleMap:r,moduleDepth:s}=t;if(n>=5)throw new Error("Possible loop in shader dependency graph");for(const o of e)r[o.name]=o,(s[o.name]===void 0||s[o.name]<n)&&(s[o.name]=n);for(const o of e)o.dependencies&&DV({modules:o.dependencies,level:n+1,moduleMap:r,moduleDepth:s})}function vQ(t){switch(t==null?void 0:t.gpu.toLowerCase()){case"apple":return`#define APPLE_GPU
// Apple optimizes away the calculation necessary for emulated fp64
#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1
#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1
// Intel GPU doesn't have full 32 bits precision in same cases, causes overflow
#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1
`;case"nvidia":return`#define NVIDIA_GPU
// Nvidia optimizes away the calculation necessary for emulated fp64
#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1
`;case"intel":return`#define INTEL_GPU
// Intel optimizes away the calculation necessary for emulated fp64
#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1
// Intel's built-in 'tan' function doesn't have acceptable precision
#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1
// Intel GPU doesn't have full 32 bits precision in same cases, causes overflow
#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1
`;case"amd":return`#define AMD_GPU
`;default:return`#define DEFAULT_GPU
// Prevent driver from optimizing away the calculation necessary for emulated fp64
#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1
// Headless Chrome's software shader 'tan' function doesn't have acceptable precision
#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1
// If the GPU doesn't have full 32 bits precision, will causes overflow
#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1
`}}function _Q(t,e){var r;if(Number(((r=t.match(/^#version[ \t]+(\d+)/m))==null?void 0:r[1])||100)!==300)throw new Error("luma.gl v9 only supports GLSL 3.00 shader sources");switch(e){case"vertex":return t=M2(t,wQ),t;case"fragment":return t=M2(t,NQ),t;default:throw new Error(e)}}const MV=[[/^(#version[ \t]+(100|300[ \t]+es))?[ \t]*\n/,`#version 300 es
`],[/\btexture(2D|2DProj|Cube)Lod(EXT)?\(/g,"textureLod("],[/\btexture(2D|2DProj|Cube)(EXT)?\(/g,"texture("]],wQ=[...MV,[fS("attribute"),"in $1"],[fS("varying"),"out $1"]],NQ=[...MV,[fS("varying"),"in $1"]];function M2(t,e){for(const[n,r]of e)t=t.replace(n,r);return t}function fS(t){return new RegExp(`\\b${t}[ \\t]+(\\w+[ \\t]+\\w+(\\[\\w+\\])?;)`,"g")}function jV(t,e){let n="";for(const r in t){const s=t[r];if(n+=`void ${s.signature} {
`,s.header&&(n+=`  ${s.header}`),e[r]){const o=e[r];o.sort((l,c)=>l.order-c.order);for(const l of o)n+=`  ${l.injection}
`}s.footer&&(n+=`  ${s.footer}`),n+=`}
`}return n}function IV(t){const e={vertex:{},fragment:{}};for(const n of t){let r,s;typeof n!="string"?(r=n,s=r.hook):(r={},s=n),s=s.trim();const[o,l]=s.split(":"),c=s.replace(/\(.+/,""),f=Object.assign(r,{signature:l});switch(o){case"vs":e.vertex[c]=f;break;case"fs":e.fragment[c]=f;break;default:throw new Error(o)}}return e}function SQ(t,e){return{name:EQ(t,e),language:"glsl",version:TQ(t)}}function EQ(t,e="unnamed"){const r=/#define[^\S\r\n]*SHADER_NAME[^\S\r\n]*([A-Za-z0-9_-]+)\s*/.exec(t);return r?r[1]:e}function TQ(t){let e=100;const n=t.match(/[^\s]+/g);if(n&&n.length>=2&&n[0]==="#version"){const r=parseInt(n[1],10);Number.isFinite(r)&&(e=r)}if(e!==100&&e!==300)throw new Error(`Invalid GLSL version ${e}`);return e}const OV=`

${bx}
`,AQ=`precision highp float;
`;function CQ(t){const e=tT(t.modules||[]);return{source:kQ(t.platformInfo,{...t,source:t.source,stage:"vertex",modules:e}),getUniforms:UV(e)}}function RQ(t){const{vs:e,fs:n}=t,r=tT(t.modules||[]);return{vs:j2(t.platformInfo,{...t,source:e,stage:"vertex",modules:r}),fs:j2(t.platformInfo,{...t,source:n,stage:"fragment",modules:r}),getUniforms:UV(r)}}function kQ(t,e){var T;const{source:n,stage:r,modules:s,hookFunctions:o=[],inject:l={},log:c}=e;eT(typeof n=="string","shader source must be a string");const f=n;let h="";const p=IV(o),m={},b={},_={};for(const C in l){const D=typeof l[C]=="string"?{injection:l[C],order:0}:l[C],M=/^(v|f)s:(#)?([\w-]+)$/.exec(C);if(M){const P=M[2],U=M[3];P?U==="decl"?b[C]=[D]:_[C]=[D]:m[C]=[D]}else _[C]=[D]}const E=s;for(const C of E){c&&PV(C,f,c);const D=VV(C,"wgsl");h+=D;const M=((T=C.injections)==null?void 0:T[r])||{};for(const P in M){const U=/^(v|f)s:#([\w-]+)$/.exec(P);if(U){const O=U[2]==="decl"?b:_;O[P]=O[P]||[],O[P].push(M[P])}else m[P]=m[P]||[],m[P].push(M[P])}}return h+=OV,h=Xx(h,r,b),h+=jV(p[r],m),h+=f,h=Xx(h,r,_),h}function j2(t,e){var Y;const{id:n,source:r,stage:s,language:o="glsl",modules:l,defines:c={},hookFunctions:f=[],inject:h={},prologue:p=!0,log:m}=e;eT(typeof r=="string","shader source must be a string");const b=o==="glsl"?SQ(r).version:-1,_=t.shaderLanguageVersion,E=b===100?"#version 100":"#version 300 es",C=r.split(`
`).slice(1).join(`
`),D={};l.forEach(ne=>{Object.assign(D,ne.defines)}),Object.assign(D,c);let M="";switch(o){case"wgsl":break;case"glsl":M=p?`${E}

// ----- PROLOGUE -------------------------
${PQ({id:n,source:r,stage:s})}
${`#define SHADER_TYPE_${s.toUpperCase()}`}

${vQ(t)}
${s==="fragment"?AQ:""}

// ----- APPLICATION DEFINES -------------------------

${DQ(D)}

`:`${E}
`;break}const P=IV(f),U={},L={},O={};for(const ne in h){const G=typeof h[ne]=="string"?{injection:h[ne],order:0}:h[ne],K=/^(v|f)s:(#)?([\w-]+)$/.exec(ne);if(K){const Q=K[2],de=K[3];Q?de==="decl"?L[ne]=[G]:O[ne]=[G]:U[ne]=[G]}else O[ne]=[G]}for(const ne of l){m&&PV(ne,C,m);const G=VV(ne,s);M+=G;const K=((Y=ne.instance)==null?void 0:Y.normalizedInjections[s])||{};for(const Q in K){const de=/^(v|f)s:#([\w-]+)$/.exec(Q);if(de){const le=de[2]==="decl"?L:O;le[Q]=le[Q]||[],le[Q].push(K[Q])}else U[Q]=U[Q]||[],U[Q].push(K[Q])}}return M+="// ----- MAIN SHADER SOURCE -------------------------",M+=OV,M=Xx(M,s,L),M+=jV(P[s],U),M+=C,M=Xx(M,s,O),o==="glsl"&&b!==_&&(M=_Q(M,s)),M.trim()}function UV(t){return function(n){var s;const r={};for(const o of t){const l=(s=o.getUniforms)==null?void 0:s.call(o,n,r);Object.assign(r,l)}return r}}function PQ(t){const{id:e,source:n,stage:r}=t;return e&&n.indexOf("SHADER_NAME")===-1?`
#define SHADER_NAME ${e}_${r}`:""}function DQ(t={}){let e="";for(const n in t){const r=t[n];(r||Number.isFinite(r))&&(e+=`#define ${n.toUpperCase()} ${t[n]}
`)}return e}function VV(t,e){let n;switch(e){case"vertex":n=t.vs||"";break;case"fragment":n=t.fs||"";break;case"wgsl":n=t.source||"";break;default:eT(!1)}if(!t.name)throw new Error("Shader module must have a name");const r=t.name.toUpperCase().replace(/[^0-9a-z]/gi,"_");let s=`// ----- MODULE ${t.name} ---------------

`;return e!=="wgsl"&&(s+=`#define MODULE_${r}
`),s+=`${n}
`,s}const MQ=/^\s*\#\s*ifdef\s*([a-zA-Z_]+)\s*$/,jQ=/^\s*\#\s*endif\s*$/;function IQ(t,e){var l;const n=t.split(`
`),r=[];let s=!0,o=null;for(const c of n){const f=c.match(MQ),h=c.match(jQ);f?(o=f[1],s=!!((l=e==null?void 0:e.defines)!=null&&l[o])):h?s=!0:s&&r.push(c)}return r.join(`
`)}const Vc=class Vc{constructor(){H(this,"_hookFunctions",[]);H(this,"_defaultModules",[])}static getDefaultShaderAssembler(){return Vc.defaultShaderAssembler=Vc.defaultShaderAssembler||new Vc,Vc.defaultShaderAssembler}addDefaultModule(e){this._defaultModules.find(n=>n.name===(typeof e=="string"?e:e.name))||this._defaultModules.push(e)}removeDefaultModule(e){const n=typeof e=="string"?e:e.name;this._defaultModules=this._defaultModules.filter(r=>r.name!==n)}addShaderHook(e,n){n&&(e=Object.assign(n,{hook:e})),this._hookFunctions.push(e)}assembleWGSLShader(e){const n=this._getModuleList(e.modules),r=this._hookFunctions,{source:s,getUniforms:o}=CQ({...e,source:e.source,modules:n,hookFunctions:r});return{source:e.platformInfo.shaderLanguage==="wgsl"?IQ(s):s,getUniforms:o,modules:n}}assembleGLSLShaderPair(e){const n=this._getModuleList(e.modules),r=this._hookFunctions;return{...RQ({...e,vs:e.vs,fs:e.fs,modules:n,hookFunctions:r}),modules:n}}_getModuleList(e=[]){const n=new Array(this._defaultModules.length+e.length),r={};let s=0;for(let o=0,l=this._defaultModules.length;o<l;++o){const c=this._defaultModules[o],f=c.name;n[s++]=c,r[f]=!0}for(let o=0,l=e.length;o<l;++o){const c=e[o],f=c.name;r[f]||(n[s++]=c,r[f]=!0)}return n.length=s,Yx(n),n}};H(Vc,"defaultShaderAssembler");let Kx=Vc;const OQ=`out vec4 transform_output;
void main() {
  transform_output = vec4(0);
}`,UQ=`#version 300 es
${OQ}`;function VQ(t){const{input:e,inputChannels:n,output:r}={};if(!e)return UQ;if(!n)throw new Error("inputChannels");const s=FQ(n),o=BQ(e,n);return`#version 300 es
in ${s} ${e};
out vec4 ${r};
void main() {
  ${r} = ${o};
}`}function FQ(t){switch(t){case 1:return"float";case 2:return"vec2";case 3:return"vec3";case 4:return"vec4";default:throw new Error(`invalid channels: ${t}`)}}function BQ(t,e){switch(e){case 1:return`vec4(${t}, 0.0, 0.0, 1.0)`;case 2:return`vec4(${t}, 0.0, 1.0)`;case 3:return`vec4(${t}, 1.0)`;case 4:return t;default:throw new Error(`invalid channels: ${e}`)}}class LQ{constructor(){H(this,"stats",new Map)}getStats(e){return this.get(e)}get(e){return this.stats.has(e)||this.stats.set(e,new iv({id:e})),this.stats.get(e)}}const FV=new LQ,ot=new Nm({id:"luma.gl"}),A1={};function av(t="id"){A1[t]=A1[t]||1;const e=A1[t]++;return`${t}-${e}`}var xN;let Vn=(xN=class{constructor(e,n,r){H(this,"id");H(this,"props");H(this,"userData",{});H(this,"_device");H(this,"destroyed",!1);H(this,"allocatedBytes",0);H(this,"_attachedResources",new Set);if(!e)throw new Error("no device");this._device=e,this.props=zQ(n,r);const s=this.props.id!=="undefined"?this.props.id:av(this[Symbol.toStringTag]);this.props.id=s,this.id=s,this.userData=this.props.userData||{},this.addStats()}toString(){return`${this[Symbol.toStringTag]||this.constructor.name}:"${this.id}"`}destroy(){this.destroyResource()}delete(){return this.destroy(),this}getProps(){return this.props}attachResource(e){this._attachedResources.add(e)}detachResource(e){this._attachedResources.delete(e)}destroyAttachedResource(e){this._attachedResources.delete(e)&&e.destroy()}destroyAttachedResources(){for(const e of Object.values(this._attachedResources))e.destroy();this._attachedResources=new Set}destroyResource(){this.destroyAttachedResources(),this.removeStats(),this.destroyed=!0}removeStats(){const e=this._device.statsManager.getStats("Resource Counts"),n=this[Symbol.toStringTag];e.get(`${n}s Active`).decrementCount()}trackAllocatedMemory(e,n=this[Symbol.toStringTag]){const r=this._device.statsManager.getStats("Resource Counts");r.get("GPU Memory").addCount(e),r.get(`${n} Memory`).addCount(e),this.allocatedBytes=e}trackDeallocatedMemory(e=this[Symbol.toStringTag]){const n=this._device.statsManager.getStats("Resource Counts");n.get("GPU Memory").subtractCount(this.allocatedBytes),n.get(`${e} Memory`).subtractCount(this.allocatedBytes),this.allocatedBytes=0}addStats(){const e=this._device.statsManager.getStats("Resource Counts"),n=this[Symbol.toStringTag];e.get("Resources Created").incrementCount(),e.get(`${n}s Created`).incrementCount(),e.get(`${n}s Active`).incrementCount()}},H(xN,"defaultProps",{id:"undefined",handle:void 0,userData:void 0}),xN);function zQ(t,e){const n={...e};for(const r in t)t[r]!==void 0&&(n[r]=t[r]);return n}const es=class es extends Vn{constructor(n,r){const s={...r};(r.usage||0)&es.INDEX&&!r.indexType&&(r.data instanceof Uint32Array?s.indexType="uint32":r.data instanceof Uint16Array&&(s.indexType="uint16")),delete s.data;super(n,s,es.defaultProps);H(this,"usage");H(this,"indexType");H(this,"updateTimestamp");H(this,"debugData",new ArrayBuffer(0));this.usage=s.usage||0,this.indexType=s.indexType,this.updateTimestamp=n.incrementTimestamp()}get[Symbol.toStringTag](){return"Buffer"}clone(n){return this.device.createBuffer({...this.props,...n})}readSyncWebGL(n,r){throw new Error("not implemented")}_setDebugData(n,r,s){const o=ArrayBuffer.isView(n)?n.buffer:n,l=Math.min(n?n.byteLength:s,es.DEBUG_DATA_MAX_LENGTH);o===null?this.debugData=new ArrayBuffer(l):r===0&&s===o.byteLength?this.debugData=o.slice(0,l):this.debugData=o.slice(r,r+l)}};H(es,"defaultProps",{...Vn.defaultProps,usage:0,byteLength:0,byteOffset:0,data:null,indexType:"uint16",mappedAtCreation:!1}),H(es,"MAP_READ",1),H(es,"MAP_WRITE",2),H(es,"COPY_SRC",4),H(es,"COPY_DST",8),H(es,"INDEX",16),H(es,"VERTEX",32),H(es,"UNIFORM",64),H(es,"STORAGE",128),H(es,"INDIRECT",256),H(es,"QUERY_RESOLVE",512),H(es,"DEBUG_DATA_MAX_LENGTH",32);let nr=es;function BV(t){const e=I2[t],n=$Q(e),r=t.includes("norm"),s=!r&&!t.startsWith("float"),o=t.startsWith("s");return{dataType:I2[t],byteLength:n,integer:s,signed:o,normalized:r}}function $Q(t){return HQ[t]}const I2={uint8:"uint8",sint8:"sint8",unorm8:"uint8",snorm8:"sint8",uint16:"uint16",sint16:"sint16",unorm16:"uint16",snorm16:"sint16",float16:"float16",float32:"float32",uint32:"uint32",sint32:"sint32"},HQ={uint8:1,sint8:1,uint16:2,sint16:2,float16:2,float32:4,uint32:4,sint32:4},ls="texture-compression-bc",Un="texture-compression-astc",So="texture-compression-etc2",WQ="texture-compression-etc1-webgl",Hb="texture-compression-pvrtc-webgl",C1="texture-compression-atc-webgl",Wb="float32-renderable-webgl",R1="float16-renderable-webgl",qQ="rgb9e5ufloat-renderable-webgl",k1="snorm8-renderable-webgl",hp="norm16-renderable-webgl",P1="snorm16-renderable-webgl",qb="float32-filterable",O2="float16-filterable-webgl";function LV(t){const e=XQ[t];if(!e)throw new Error(`Unsupported texture format ${t}`);return e}const XQ={r8unorm:{},r8snorm:{render:k1},r8uint:{},r8sint:{},rg8unorm:{},rg8snorm:{render:k1},rg8uint:{},rg8sint:{},r16uint:{},r16sint:{},r16float:{render:R1,filter:"float16-filterable-webgl"},"r16unorm-webgl":{f:hp},"r16snorm-webgl":{f:P1},"rgba4unorm-webgl":{channels:"rgba",bitsPerChannel:[4,4,4,4],packed:!0},"rgb565unorm-webgl":{channels:"rgb",bitsPerChannel:[5,6,5,0],packed:!0},"rgb5a1unorm-webgl":{channels:"rgba",bitsPerChannel:[5,5,5,1],packed:!0},"rgb8unorm-webgl":{},"rgb8snorm-webgl":{},rgba8unorm:{},"rgba8unorm-srgb":{},rgba8snorm:{render:k1},rgba8uint:{},rgba8sint:{},bgra8unorm:{},"bgra8unorm-srgb":{},rg16uint:{},rg16sint:{},rg16float:{render:R1,filter:O2},"rg16unorm-webgl":{render:hp},"rg16snorm-webgl":{render:P1},r32uint:{},r32sint:{},r32float:{render:Wb,filter:qb},rgb9e5ufloat:{channels:"rgb",packed:!0,render:qQ},rg11b10ufloat:{channels:"rgb",bitsPerChannel:[11,11,10,0],packed:!0,p:1,render:Wb},rgb10a2unorm:{channels:"rgba",bitsPerChannel:[10,10,10,2],packed:!0,p:1},"rgb10a2uint-webgl":{channels:"rgba",bitsPerChannel:[10,10,10,2],packed:!0,p:1,wgpu:!1},"rgb16unorm-webgl":{f:hp},"rgb16snorm-webgl":{f:hp},rg32uint:{},rg32sint:{},rg32float:{render:!1,filter:qb},rgba16uint:{},rgba16sint:{},rgba16float:{render:R1,filter:O2},"rgba16unorm-webgl":{render:hp},"rgba16snorm-webgl":{render:P1},"rgb32float-webgl":{render:Wb,filter:qb},rgba32uint:{},rgba32sint:{},rgba32float:{render:Wb,filter:qb},stencil8:{attachment:"stencil",bitsPerChannel:[8,0,0,0],dataType:"uint8"},depth16unorm:{attachment:"depth",bitsPerChannel:[16,0,0,0],dataType:"uint16"},depth24plus:{attachment:"depth",bitsPerChannel:[24,0,0,0],dataType:"uint32"},depth32float:{attachment:"depth",bitsPerChannel:[32,0,0,0],dataType:"float32"},"depth24plus-stencil8":{attachment:"depth-stencil",bitsPerChannel:[24,8,0,0],packed:!0},"depth32float-stencil8":{attachment:"depth-stencil",bitsPerChannel:[32,8,0,0],packed:!0},"bc1-rgb-unorm-webgl":{f:ls},"bc1-rgb-unorm-srgb-webgl":{f:ls},"bc1-rgba-unorm":{f:ls},"bc1-rgba-unorm-srgb":{f:ls},"bc2-rgba-unorm":{f:ls},"bc2-rgba-unorm-srgb":{f:ls},"bc3-rgba-unorm":{f:ls},"bc3-rgba-unorm-srgb":{f:ls},"bc4-r-unorm":{f:ls},"bc4-r-snorm":{f:ls},"bc5-rg-unorm":{f:ls},"bc5-rg-snorm":{f:ls},"bc6h-rgb-ufloat":{f:ls},"bc6h-rgb-float":{f:ls},"bc7-rgba-unorm":{f:ls},"bc7-rgba-unorm-srgb":{f:ls},"etc2-rgb8unorm":{f:So},"etc2-rgb8unorm-srgb":{f:So},"etc2-rgb8a1unorm":{f:So},"etc2-rgb8a1unorm-srgb":{f:So},"etc2-rgba8unorm":{f:So},"etc2-rgba8unorm-srgb":{f:So},"eac-r11unorm":{f:So},"eac-r11snorm":{f:So},"eac-rg11unorm":{f:So},"eac-rg11snorm":{f:So},"astc-4x4-unorm":{f:Un},"astc-4x4-unorm-srgb":{f:Un},"astc-5x4-unorm":{f:Un},"astc-5x4-unorm-srgb":{f:Un},"astc-5x5-unorm":{f:Un},"astc-5x5-unorm-srgb":{f:Un},"astc-6x5-unorm":{f:Un},"astc-6x5-unorm-srgb":{f:Un},"astc-6x6-unorm":{f:Un},"astc-6x6-unorm-srgb":{f:Un},"astc-8x5-unorm":{f:Un},"astc-8x5-unorm-srgb":{f:Un},"astc-8x6-unorm":{f:Un},"astc-8x6-unorm-srgb":{f:Un},"astc-8x8-unorm":{f:Un},"astc-8x8-unorm-srgb":{f:Un},"astc-10x5-unorm":{f:Un},"astc-10x5-unorm-srgb":{f:Un},"astc-10x6-unorm":{f:Un},"astc-10x6-unorm-srgb":{f:Un},"astc-10x8-unorm":{f:Un},"astc-10x8-unorm-srgb":{f:Un},"astc-10x10-unorm":{f:Un},"astc-10x10-unorm-srgb":{f:Un},"astc-12x10-unorm":{f:Un},"astc-12x10-unorm-srgb":{f:Un},"astc-12x12-unorm":{f:Un},"astc-12x12-unorm-srgb":{f:Un},"pvrtc-rgb4unorm-webgl":{f:Hb},"pvrtc-rgba4unorm-webgl":{f:Hb},"pvrtc-rbg2unorm-webgl":{f:Hb},"pvrtc-rgba2unorm-webgl":{f:Hb},"etc1-rbg-unorm-webgl":{f:WQ},"atc-rgb-unorm-webgl":{f:C1},"atc-rgba-unorm-webgl":{f:C1},"atc-rgbai-unorm-webgl":{f:C1}},YQ=["bc1","bc2","bc3","bc4","bc5","bc6","bc7","etc1","etc2","eac","atc","astc","pvrtc"],KQ=/^(r|rg|rgb|rgba|bgra)([0-9]*)([a-z]*)(-srgb)?(-webgl)?$/;function zV(t){return YQ.some(e=>t.startsWith(e))}function nT(t){let e=ZQ(t);if(zV(t)){e.channels="rgb",e.components=3,e.bytesPerPixel=1,e.srgb=!1,e.compressed=!0;const r=GQ(t);r&&(e.blockWidth=r.blockWidth,e.blockHeight=r.blockHeight)}const n=KQ.exec(t);if(n){const[,r,s,o,l,c]=n,f=`${o}${s}`,h=BV(f),p=h.byteLength*8,m=r.length,b=[p,m>=2?p:0,m>=3?p:0,m>=4?p:0];e={format:t,attachment:e.attachment,dataType:h.dataType,components:m,channels:r,integer:h.integer,signed:h.signed,normalized:h.normalized,bitsPerChannel:b,bytesPerPixel:h.byteLength*r.length,packed:e.packed,srgb:e.srgb},c==="-webgl"&&(e.webgl=!0),l==="-srgb"&&(e.srgb=!0)}return t.endsWith("-webgl")&&(e.webgl=!0),t.endsWith("-srgb")&&(e.srgb=!0),e}function ZQ(t){var o;const e=LV(t),n=e.bytesPerPixel||1,r=e.bitsPerChannel||[8,8,8,8];return delete e.bitsPerChannel,delete e.bytesPerPixel,delete e.f,delete e.render,delete e.filter,delete e.blend,delete e.store,{...e,format:t,attachment:e.attachment||"color",channels:e.channels||"r",components:e.components||((o=e.channels)==null?void 0:o.length)||1,bytesPerPixel:n,bitsPerChannel:r,dataType:e.dataType||"uint8",srgb:e.srgb??!1,packed:e.packed??!1,webgl:e.webgl??!1,integer:e.integer??!1,signed:e.signed??!1,normalized:e.normalized??!1,compressed:e.compressed??!1}}function GQ(t){const n=/.*-(\d+)x(\d+)-.*/.exec(t);if(n){const[,r,s]=n;return{blockWidth:Number(r),blockHeight:Number(s)}}return null}function QQ(t){const e=LV(t),n={format:t,create:e.f??!0,render:e.render??!0,filter:e.filter??!0,blend:e.blend??!0,store:e.store??!0},r=nT(t),s=t.startsWith("depth")||t.startsWith("stencil"),o=r==null?void 0:r.signed,l=r==null?void 0:r.integer,c=r==null?void 0:r.webgl;return n.render&&(n.render=!o),n.filter&&(n.filter=!s&&!o&&!l&&!c),n}class JQ{}class eJ{constructor(e=[],n){H(this,"features");H(this,"disabledFeatures");this.features=new Set(e),this.disabledFeatures=n||{}}*[Symbol.iterator](){yield*this.features}has(e){var n;return!((n=this.disabledFeatures)!=null&&n[e])&&this.features.has(e)}}const Sy=class Sy{constructor(e){H(this,"id");H(this,"props");H(this,"userData",{});H(this,"statsManager",FV);H(this,"timestamp",0);H(this,"_reused",!1);H(this,"_lumaData",{});this.props={...Sy.defaultProps,...e},this.id=this.props.id||av(this[Symbol.toStringTag].toLowerCase())}get[Symbol.toStringTag](){return"Device"}getTextureFormatCapabilities(e){const n=QQ(e),r=l=>(typeof l=="string"?this.features.has(l):l)??!0,s=r(n.create),o={format:e,create:s,render:s&&r(n.render),filter:s&&r(n.filter),blend:s&&r(n.blend),store:s&&r(n.store)};return this._getDeviceSpecificTextureFormatCapabilities(o)}isTextureFormatSupported(e,n){return this.getTextureFormatCapabilities(e).create}isTextureFormatFilterable(e){return this.getTextureFormatCapabilities(e).filter}isTextureFormatRenderable(e){return this.getTextureFormatCapabilities(e).render}isTextureFormatCompressed(e){return zV(e)}loseDevice(){return!1}reportError(e){this.props.onError(e)}getDefaultCanvasContext(){if(!this.canvasContext)throw new Error("Device has no default CanvasContext. See props.createCanvasContext");return this.canvasContext}createCommandEncoder(e={}){throw new Error("not implemented")}incrementTimestamp(){return this.timestamp++}onError(e){this.props.onError(e)}getCanvasContext(){return this.getDefaultCanvasContext()}readPixelsToArrayWebGL(e,n){throw new Error("not implemented")}readPixelsToBufferWebGL(e,n){throw new Error("not implemented")}setParametersWebGL(e){throw new Error("not implemented")}getParametersWebGL(e){throw new Error("not implemented")}withParametersWebGL(e,n){throw new Error("not implemented")}clearWebGL(e){throw new Error("not implemented")}resetWebGL(){throw new Error("not implemented")}static _getCanvasContextProps(e){return e.createCanvasContext===!0?{}:e.createCanvasContext}_normalizeBufferProps(e){(e instanceof ArrayBuffer||ArrayBuffer.isView(e))&&(e={data:e});const n={...e};return(e.usage||0)&nr.INDEX&&!e.indexType&&(e.data instanceof Uint32Array?n.indexType="uint32":e.data instanceof Uint16Array?n.indexType="uint16":ot.warn("indices buffer content must be of integer type")()),n}};H(Sy,"defaultProps",{id:null,powerPreference:"high-performance",failIfMajorPerformanceCaveat:!1,createCanvasContext:void 0,onError:e=>ot.error(e.message)(),_reuseDevices:!1,_requestMaxLimits:!0,_factoryDestroyPolicy:"unused",_initializeFeatures:!0,_disabledFeatures:{"compilation-status-async-webgl":!0},_resourceDefaults:{},webgl:{},debug:ot.get("debug")||void 0,debugShaders:ot.get("debug-shaders")||void 0,debugFramebuffers:!!ot.get("debug-framebuffers"),debugWebGL:!!ot.get("debug-webgl"),debugSpectorJS:void 0,debugSpectorJSUrl:void 0,_handle:void 0});let Ul=Sy;const tJ=xu()&&typeof document<"u",nJ=()=>tJ&&document.readyState==="complete",rJ="set luma.log.level=1 (or higher) to trace rendering",U2="No matching device found. Ensure `@luma.gl/webgl` and/or `@luma.gl/webgpu` modules are imported.",xl=class xl{constructor(){H(this,"stats",FV);H(this,"log",ot);H(this,"VERSION","9.1.9");H(this,"spector");H(this,"preregisteredAdapters",new Map);if(globalThis.luma){if(globalThis.luma.VERSION!==this.VERSION)throw ot.error(`Found luma.gl ${globalThis.luma.VERSION} while initialzing ${this.VERSION}`)(),ot.error("'yarn why @luma.gl/core' can help identify the source of the conflict")(),new Error("luma.gl - multiple versions detected: see console log");ot.error("This version of luma.gl has already been initialized")()}ot.log(1,`${this.VERSION} - ${rJ}`)(),globalThis.luma=this}registerAdapters(e){for(const n of e)this.preregisteredAdapters.set(n.type,n)}getSupportedAdapters(e=[]){const n=this.getAdapterMap(e);return Array.from(n).map(([,r])=>r).filter(r=>{var s;return(s=r.isSupported)==null?void 0:s.call(r)}).map(r=>r.type)}getBestAvailableAdapter(e=[]){var r,s,o,l;const n=this.getAdapterMap(e);return(s=(r=n.get("webgpu"))==null?void 0:r.isSupported)!=null&&s.call(r)?"webgpu":(l=(o=n.get("webgl"))==null?void 0:o.isSupported)!=null&&l.call(o)?"webgl":null}setDefaultDeviceProps(e){Object.assign(xl.defaultProps,e)}async createDevice(e={}){var c;e={...xl.defaultProps,...e},e.waitForPageLoad&&await xl.pageLoaded;const n=this.getAdapterMap(e.adapters);let r=e.type||"";r==="best-available"&&(r=this.getBestAvailableAdapter(e.adapters)||r);const o=(this.getAdapterMap(e.adapters)||n).get(r),l=await((c=o==null?void 0:o.create)==null?void 0:c.call(o,e));if(l)return l;throw new Error(U2)}async attachDevice(e){var l;const n=this.getAdapterMap(e.adapters);let r="";e.handle instanceof WebGL2RenderingContext&&(r="webgl"),e.createCanvasContext&&await xl.pageLoaded,e.handle===null&&(r="unknown");const s=n.get(r),o=await((l=s==null?void 0:s.attach)==null?void 0:l.call(s,null));if(o)return o;throw new Error(U2)}enforceWebGL2(e=!0,n=[]){var o;const s=this.getAdapterMap(n).get("webgl");s||ot.warn("enforceWebGL2: webgl adapter not found")(),(o=s==null?void 0:s.enforceWebGL2)==null||o.call(s,e)}getAdapterMap(e=[]){const n=new Map(this.preregisteredAdapters);for(const r of e)n.set(r.type,r);return n}registerDevices(e){ot.warn("luma.registerDevices() is deprecated, use luma.registerAdapters() instead");for(const n of e){const r=n.adapter;r&&this.preregisteredAdapters.set(r.type,r)}}};H(xl,"defaultProps",{...Ul.defaultProps,type:"best-available",adapters:void 0,waitForPageLoad:!0}),H(xl,"pageLoaded",sJ().then(()=>{ot.probe(2,"DOM is loaded")()}));let dS=xl;const hS=new dS;function sJ(){return nJ()||typeof window>"u"?Promise.resolve():new Promise(t=>{window.addEventListener("load",()=>t())})}class iJ{}const Ey=class Ey{constructor(e){H(this,"id");H(this,"props");H(this,"canvas");H(this,"htmlCanvas");H(this,"offscreenCanvas");H(this,"type");H(this,"width",1);H(this,"height",1);H(this,"resizeObserver");H(this,"_canvasSizeInfo",{clientWidth:0,clientHeight:0,devicePixelRatio:1});if(this.props={...Ey.defaultProps,...e},e=this.props,!xu()){this.id="node-canvas-context",this.type="node",this.width=this.props.width,this.height=this.props.height,this.canvas=null;return}if(e.canvas)typeof e.canvas=="string"?this.canvas=aJ(e.canvas):this.canvas=e.canvas;else{const n=lJ(e),r=oJ((e==null?void 0:e.container)||null);r.insertBefore(n,r.firstChild),this.canvas=n,e!=null&&e.visible||(this.canvas.style.visibility="hidden")}this.canvas instanceof HTMLCanvasElement?(this.id=this.canvas.id,this.type="html-canvas",this.htmlCanvas=this.canvas):(this.id="offscreen-canvas",this.type="offscreen-canvas",this.offscreenCanvas=this.canvas),this.canvas instanceof HTMLCanvasElement&&e.autoResize&&(this.resizeObserver=new ResizeObserver(n=>{for(const r of n)r.target===this.canvas&&this.update()}),this.resizeObserver.observe(this.canvas))}toString(){return`${this[Symbol.toStringTag]}(${this.id})`}getDevicePixelRatio(e){return typeof OffscreenCanvas<"u"&&this.canvas instanceof OffscreenCanvas||(e=e===void 0?this.props.useDevicePixels:e,!e||e<=0)?1:e===!0?typeof window<"u"&&window.devicePixelRatio||1:e}getPixelSize(){switch(this.type){case"node":return[this.width,this.height];case"offscreen-canvas":return[this.canvas.width,this.canvas.height];case"html-canvas":const e=this.getDevicePixelRatio(),n=this.canvas;return n.parentElement?[n.clientWidth*e,n.clientHeight*e]:[this.canvas.width,this.canvas.height];default:throw new Error(this.type)}}getAspect(){const[e,n]=this.getPixelSize();return e/n}cssToDeviceRatio(){var e;try{const[n]=this.getDrawingBufferSize(),r=this._canvasSizeInfo.clientWidth||((e=this.htmlCanvas)==null?void 0:e.clientWidth);return r?n/r:1}catch{return 1}}cssToDevicePixels(e,n=!0){const r=this.cssToDeviceRatio(),[s,o]=this.getDrawingBufferSize();return cJ(e,r,s,o,n)}setDevicePixelRatio(e,n={}){if(!this.htmlCanvas)return;let r="width"in n?n.width:this.htmlCanvas.clientWidth,s="height"in n?n.height:this.htmlCanvas.clientHeight;(!r||!s)&&(ot.log(1,"Canvas clientWidth/clientHeight is 0")(),e=1,r=this.htmlCanvas.width||1,s=this.htmlCanvas.height||1);const o=this._canvasSizeInfo;if(o.clientWidth!==r||o.clientHeight!==s||o.devicePixelRatio!==e){let l=e;const c=Math.floor(r*l),f=Math.floor(s*l);if(this.htmlCanvas.width=c,this.htmlCanvas.height=f,this.device.gl){const[p,m]=this.getDrawingBufferSize();(p!==c||m!==f)&&(l=Math.min(p/r,m/s),this.htmlCanvas.width=Math.floor(r*l),this.htmlCanvas.height=Math.floor(s*l),ot.warn("Device pixel ratio clamped")()),this._canvasSizeInfo.clientWidth=r,this._canvasSizeInfo.clientHeight=s,this._canvasSizeInfo.devicePixelRatio=e}}}getDrawingBufferSize(){const e=this.device.gl;return e?[e.drawingBufferWidth,e.drawingBufferHeight]:this.getPixelSize()}_setAutoCreatedCanvasId(e){var n;((n=this.htmlCanvas)==null?void 0:n.id)==="lumagl-auto-created-canvas"&&(this.htmlCanvas.id=e)}};H(Ey,"defaultProps",{canvas:null,width:800,height:600,useDevicePixels:!0,autoResize:!0,container:null,visible:!0,alphaMode:"opaque",colorSpace:"srgb"});let pS=Ey;function oJ(t){if(typeof t=="string"){const e=document.getElementById(t);if(!e)throw new Error(`${t} is not an HTML element`);return e}else if(t)return t;return document.body}function aJ(t){const e=document.getElementById(t);if(!(e instanceof HTMLCanvasElement))throw new Error("Object is not a canvas element");return e}function lJ(t){const{width:e,height:n}=t,r=document.createElement("canvas");return r.id=av("lumagl-auto-created-canvas"),r.width=e||1,r.height=n||1,r.style.width=Number.isFinite(e)?`${e}px`:"100%",r.style.height=Number.isFinite(n)?`${n}px`:"100%",r}function cJ(t,e,n,r,s){const o=t,l=V2(o[0],e,n);let c=F2(o[1],e,r,s),f=V2(o[0]+1,e,n);const h=f===n-1?f:f-1;f=F2(o[1]+1,e,r,s);let p;return s?(f=f===0?f:f+1,p=c,c=f):p=f===r-1?f:f-1,{x:l,y:c,width:Math.max(h-l+1,1),height:Math.max(p-c+1,1)}}function V2(t,e,n){return Math.min(Math.round(t*e),n-1)}function F2(t,e,n,r){return r?Math.max(0,n-1-Math.round(t*e)):Math.min(Math.round(t*e),n-1)}const ts=class ts extends Vn{constructor(n,r){r=ts.normalizeProps(n,r);super(n,r,ts.defaultProps);H(this,"dimension");H(this,"format");H(this,"width");H(this,"height");H(this,"depth");H(this,"mipLevels");H(this,"updateTimestamp");if(this.dimension=this.props.dimension,this.format=this.props.format,this.width=this.props.width,this.height=this.props.height,this.depth=this.props.depth,this.props.width===void 0||this.props.height===void 0){const s=ts.getTextureDataSize(this.props.data);this.width=(s==null?void 0:s.width)||1,this.height=(s==null?void 0:s.height)||1}this.props.mipmaps&&this.props.mipLevels===void 0&&(this.props.mipLevels="pyramid"),this.mipLevels=this.props.mipLevels==="pyramid"?ts.getMipLevelCount(this.width,this.height):this.props.mipLevels||1,this.updateTimestamp=n.incrementTimestamp()}get[Symbol.toStringTag](){return"Texture"}toString(){return`Texture(${this.id},${this.format},${this.width}x${this.height})`}clone(n){return this.device.createTexture({...this.props,...n})}static isExternalImage(n){return typeof ImageData<"u"&&n instanceof ImageData||typeof ImageBitmap<"u"&&n instanceof ImageBitmap||typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLVideoElement<"u"&&n instanceof HTMLVideoElement||typeof VideoFrame<"u"&&n instanceof VideoFrame||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas}static getExternalImageSize(n){if(typeof ImageData<"u"&&n instanceof ImageData||typeof ImageBitmap<"u"&&n instanceof ImageBitmap||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height};if(typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement)return{width:n.naturalWidth,height:n.naturalHeight};if(typeof HTMLVideoElement<"u"&&n instanceof HTMLVideoElement)return{width:n.videoWidth,height:n.videoHeight};if(typeof VideoFrame<"u"&&n instanceof VideoFrame)return{width:n.displayWidth,height:n.displayHeight};throw new Error("Unknown image type")}static isTextureLevelData(n){const r=n==null?void 0:n.data;return ArrayBuffer.isView(r)}static getTextureDataSize(n){if(!n||ArrayBuffer.isView(n))return null;if(Array.isArray(n))return ts.getTextureDataSize(n[0]);if(ts.isExternalImage(n))return ts.getExternalImageSize(n);if(n&&typeof n=="object"&&n.constructor===Object){const s=Object.values(n)[0];return{width:s.width,height:s.height}}throw new Error("texture size deduction failed")}static normalizeTextureData(n,r){let s;return ArrayBuffer.isView(n)?s=[{data:n,width:r.width,height:r.height}]:Array.isArray(n)?s=n:s=[n],s}static getMipLevelCount(n,r){return Math.floor(Math.log2(Math.max(n,r)))+1}static getCubeFaceDepth(n){switch(n){case"+X":return 0;case"-X":return 1;case"+Y":return 2;case"-Y":return 3;case"+Z":return 4;case"-Z":return 5;default:throw new Error(n)}}static normalizeProps(n,r){var f,h;const s={...r},o=((h=(f=n==null?void 0:n.props)==null?void 0:f._resourceDefaults)==null?void 0:h.texture)||{};Object.assign(s,o);const{width:l,height:c}=s;return typeof l=="number"&&(s.width=Math.max(1,Math.ceil(l))),typeof c=="number"&&(s.height=Math.max(1,Math.ceil(c))),s}};H(ts,"COPY_SRC",1),H(ts,"COPY_DST",2),H(ts,"TEXTURE",4),H(ts,"STORAGE",8),H(ts,"RENDER_ATTACHMENT",16),H(ts,"CubeFaces",["+X","-X","+Y","-Y","+Z","-Z"]),H(ts,"defaultProps",{...Vn.defaultProps,data:null,dimension:"2d",format:"rgba8unorm",width:void 0,height:void 0,depth:1,mipmaps:!1,compressed:!1,usage:0,mipLevels:void 0,samples:void 0,sampler:{},view:void 0,flipY:void 0}),H(ts,"defaultCopyExternalImageOptions",{image:void 0,sourceX:0,sourceY:0,width:void 0,height:void 0,depth:1,mipLevel:0,x:0,y:0,z:0,aspect:"all",colorSpace:"srgb",premultipliedAlpha:!1,flipY:!1});let hr=ts;const Ty=class Ty extends Vn{get[Symbol.toStringTag](){return"TextureView"}constructor(e,n){super(e,n,Ty.defaultProps)}};H(Ty,"defaultProps",{...Vn.defaultProps,format:void 0,dimension:void 0,aspect:"all",baseMipLevel:0,mipLevelCount:void 0,baseArrayLayer:0,arrayLayerCount:void 0});let Zx=Ty;function uJ(t,e,n){let r="";const s=e.split(/\r?\n/),o=t.slice().sort((l,c)=>l.lineNum-c.lineNum);switch((n==null?void 0:n.showSourceCode)||"no"){case"all":let l=0;for(let c=1;c<=s.length;c++)for(r+=$V(s[c-1],c,n);o.length>l&&o[l].lineNum===c;){const f=o[l++];r+=B2(f,s,f.lineNum,{...n,inlineSource:!1})}return r;case"issues":case"no":for(const c of t)r+=B2(c,s,c.lineNum,{inlineSource:(n==null?void 0:n.showSourceCode)!=="no"});return r}}function B2(t,e,n,r){if(r!=null&&r.inlineSource){const o=fJ(e,n),l=t.linePos>0?`${" ".repeat(t.linePos+5)}^^^
`:"";return`
${o}${l}${t.type.toUpperCase()}: ${t.message}

`}const s=t.type==="error"?"red":"#8B4000";return r!=null&&r.html?`<div class='luma-compiler-log-error' style="color:${s};"><b> ${t.type.toUpperCase()}: ${t.message}</b></div>`:`${t.type.toUpperCase()}: ${t.message}`}function fJ(t,e,n){let r="";for(let s=e-2;s<=e;s++){const o=t[s-1];o!==void 0&&(r+=$V(o,e,n))}return r}function $V(t,e,n){const r=n!=null&&n.html?hJ(t):t;return`${dJ(String(e),4)}: ${r}${n!=null&&n.html?"<br/>":`
`}`}function dJ(t,e){let n="";for(let r=t.length;r<e;++r)n+=" ";return n+t}function hJ(t){return t.replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;").replaceAll('"',"&quot;").replaceAll("'","&#039;")}const Ay=class Ay extends Vn{constructor(n,r){r={...r,debugShaders:r.debugShaders||n.props.debugShaders||"errors"};super(n,{id:pJ(r),...r},Ay.defaultProps);H(this,"stage");H(this,"source");H(this,"compilationStatus","pending");this.stage=this.props.stage,this.source=this.props.source}get[Symbol.toStringTag](){return"Shader"}getCompilationInfoSync(){return null}getTranslatedSource(){return null}async debugShader(){const n=this.props.debugShaders;switch(n){case"never":return;case"errors":if(this.compilationStatus==="success")return;break}const r=await this.getCompilationInfo();n==="warnings"&&(r==null?void 0:r.length)===0||this._displayShaderLog(r)}_displayShaderLog(n){var h;if(typeof document>"u"||!(document!=null&&document.createElement))return;const r=HV(this.source),s=`${this.stage} ${r}`;let o=uJ(n,this.source,{showSourceCode:"all",html:!0});const l=this.getTranslatedSource();l&&(o+=`<br /><br /><h1>Translated Source</h1><br /><br /><code style="user-select:text;"><pre>${l}</pre></code>`);const c=document.createElement("Button");c.innerHTML=`
<h1>Shader Compilation Error in ${s}</h1><br /><br />
<code style="user-select:text;"><pre>
${o}
</pre></code>`,c.style.top="10px",c.style.left="10px",c.style.position="absolute",c.style.zIndex="9999",c.style.width="100%",c.style.textAlign="left",document.body.appendChild(c),(h=document.getElementsByClassName("luma-compiler-log-error")[0])==null||h.scrollIntoView(),c.onclick=()=>{const p=`data:text/plain,${encodeURIComponent(this.source)}`;navigator.clipboard.writeText(p)}}};H(Ay,"defaultProps",{...Vn.defaultProps,language:"auto",stage:void 0,source:"",sourceMap:null,entryPoint:"main",debugShaders:void 0});let Gx=Ay;function pJ(t){return HV(t.source)||t.id||av(`unnamed ${t.stage}-shader`)}function HV(t,e="unnamed"){const r=/#define[\s*]SHADER_NAME[\s*]([A-Za-z0-9_-]+)[\s*]/.exec(t);return r?r[1]:e}const Wp=class Wp extends Vn{get[Symbol.toStringTag](){return"Sampler"}constructor(e,n){n=Wp.normalizeProps(e,n),super(e,n,Wp.defaultProps)}static normalizeProps(e,n){var o,l;const r=((l=(o=e==null?void 0:e.props)==null?void 0:o._resourceDefaults)==null?void 0:l.sampler)||{};return{...n,...r}}};H(Wp,"defaultProps",{...Vn.defaultProps,type:"color-sampler",addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge",addressModeW:"clamp-to-edge",magFilter:"nearest",minFilter:"nearest",mipmapFilter:"none",lodMinClamp:0,lodMaxClamp:32,compare:"less-equal",maxAnisotropy:1});let Qx=Wp;const Cy=class Cy extends Vn{constructor(n,r={}){super(n,r,Cy.defaultProps);H(this,"width");H(this,"height");this.width=this.props.width,this.height=this.props.height}get[Symbol.toStringTag](){return"Framebuffer"}clone(n){const r=this.colorAttachments.map(o=>o.texture.clone(n)),s=this.depthStencilAttachment&&this.depthStencilAttachment.texture.clone(n);return this.device.createFramebuffer({...this.props,colorAttachments:r,depthStencilAttachment:s})}resize(n){let r=!n;if(n){const[s,o]=Array.isArray(n)?n:[n.width,n.height];r=r||o!==this.height||s!==this.width,this.width=s,this.height=o}r&&(ot.log(2,`Resizing framebuffer ${this.id} to ${this.width}x${this.height}`)(),this.resizeAttachments(this.width,this.height))}autoCreateAttachmentTextures(){if(this.props.colorAttachments.length===0&&!this.props.depthStencilAttachment)throw new Error("Framebuffer has noattachments");this.colorAttachments=this.props.colorAttachments.map((r,s)=>{if(typeof r=="string"){const o=this.createColorTexture(r,s);return this.attachResource(o),o.view}return r instanceof hr?r.view:r});const n=this.props.depthStencilAttachment;if(n)if(typeof n=="string"){const r=this.createDepthStencilTexture(n);this.attachResource(r),this.depthStencilAttachment=r.view}else n instanceof hr?this.depthStencilAttachment=n.view:this.depthStencilAttachment=n}createColorTexture(n,r){return this.device.createTexture({id:`${this.id}-color-attachment-${r}`,usage:hr.RENDER_ATTACHMENT,format:n,width:this.width,height:this.height,sampler:{magFilter:"linear",minFilter:"linear"}})}createDepthStencilTexture(n){return this.device.createTexture({id:`${this.id}-depth-stencil-attachment`,usage:hr.RENDER_ATTACHMENT,format:n,width:this.width,height:this.height,mipmaps:!1})}resizeAttachments(n,r){for(let s=0;s<this.colorAttachments.length;++s)if(this.colorAttachments[s]){const o=this.colorAttachments[s].texture.clone({width:n,height:r});this.destroyAttachedResource(this.colorAttachments[s]),this.colorAttachments[s]=o.view,this.attachResource(o.view)}if(this.depthStencilAttachment){const s=this.depthStencilAttachment.texture.clone({width:n,height:r});this.destroyAttachedResource(this.depthStencilAttachment),this.depthStencilAttachment=s.view,this.attachResource(s)}this.updateAttachments()}};H(Cy,"defaultProps",{...Vn.defaultProps,width:1,height:1,colorAttachments:[],depthStencilAttachment:null});let Jx=Cy;const Ry=class Ry extends Vn{constructor(n,r){super(n,r,Ry.defaultProps);H(this,"shaderLayout");H(this,"bufferLayout");H(this,"linkStatus","pending");H(this,"hash","");this.shaderLayout=this.props.shaderLayout,this.bufferLayout=this.props.bufferLayout||[]}get[Symbol.toStringTag](){return"RenderPipeline"}setUniformsWebGL(n){throw new Error("Use uniform blocks")}};H(Ry,"defaultProps",{...Vn.defaultProps,vs:null,vertexEntryPoint:"vertexMain",vsConstants:{},fs:null,fragmentEntryPoint:"fragmentMain",fsConstants:{},shaderLayout:null,bufferLayout:[],topology:"triangle-list",parameters:{},bindings:{},uniforms:{}});let bd=Ry;const Xi=class Xi extends Vn{get[Symbol.toStringTag](){return"RenderPass"}constructor(e,n){n=Xi.normalizeProps(e,n),super(e,n,Xi.defaultProps)}static normalizeProps(e,n){var o;return{...(o=e.props._resourceDefaults)==null?void 0:o.renderPass,...n}}};H(Xi,"defaultClearColor",[0,0,0,1]),H(Xi,"defaultClearDepth",1),H(Xi,"defaultClearStencil",0),H(Xi,"defaultProps",{...Vn.defaultProps,framebuffer:null,parameters:void 0,clearColor:Xi.defaultClearColor,clearColors:void 0,clearDepth:Xi.defaultClearDepth,clearStencil:Xi.defaultClearStencil,depthReadOnly:!1,stencilReadOnly:!1,discard:!1,occlusionQuerySet:void 0,timestampQuerySet:void 0,beginTimestampIndex:void 0,endTimestampIndex:void 0});let mS=Xi;const ky=class ky extends Vn{constructor(n,r){super(n,r,ky.defaultProps);H(this,"hash","");H(this,"shaderLayout");this.shaderLayout=r.shaderLayout}get[Symbol.toStringTag](){return"ComputePipeline"}};H(ky,"defaultProps",{...Vn.defaultProps,shader:void 0,entryPoint:void 0,constants:{},shaderLayout:void 0});let ey=ky;const Py=class Py extends Vn{get[Symbol.toStringTag](){return"CommandEncoder"}constructor(e,n){super(e,n,Py.defaultProps)}};H(Py,"defaultProps",{...Vn.defaultProps,measureExecutionTime:void 0});let gS=Py;const Dy=class Dy extends Vn{get[Symbol.toStringTag](){return"CommandBuffer"}constructor(e,n){super(e,n,Dy.defaultProps)}};H(Dy,"defaultProps",{...Vn.defaultProps});let bS=Dy;function mJ(t){const[e,n]=bJ[t],r=e==="i32"||e==="u32",s=e!=="u32",o=xJ[e]*n,l=gJ(e,n);return{dataType:e,components:n,defaultVertexFormat:l,byteLength:o,integer:r,signed:s}}function gJ(t,e){let n;switch(t){case"f32":n="float32";break;case"i32":n="sint32";break;case"u32":n="uint32";break;case"f16":return e<=2?"float16x2":"float16x4"}return e===1?n:`${n}x${e}`}const bJ={f32:["f32",1],"vec2<f32>":["f32",2],"vec3<f32>":["f32",3],"vec4<f32>":["f32",4],f16:["f16",1],"vec2<f16>":["f16",2],"vec3<f16>":["f16",3],"vec4<f16>":["f16",4],i32:["i32",1],"vec2<i32>":["i32",2],"vec3<i32>":["i32",3],"vec4<i32>":["i32",4],u32:["u32",1],"vec2<u32>":["u32",2],"vec3<u32>":["u32",3],"vec4<u32>":["u32",4]},xJ={f32:4,f16:2,i32:4,u32:4};function WV(t){let e;t.endsWith("-webgl")&&(t.replace("-webgl",""),e=!0);const[n,r]=t.split("x"),s=n,o=r?parseInt(r):1,l=BV(s),c={type:s,components:o,byteLength:l.byteLength*o,integer:l.integer,signed:l.signed,normalized:l.normalized};return e&&(c.webglOnly=!0),c}function qV(t,e){const n={};for(const r of t.attributes){const s=vJ(t,e,r.name);s&&(n[r.name]=s)}return n}function yJ(t,e,n=16){const r=qV(t,e),s=new Array(n).fill(null);for(const o of Object.values(r))s[o.location]=o;return s}function vJ(t,e,n){const r=_J(t,n),s=wJ(e,n);if(!r)return null;const o=mJ(r.type),l=(s==null?void 0:s.vertexFormat)||o.defaultVertexFormat,c=WV(l);return{attributeName:(s==null?void 0:s.attributeName)||r.name,bufferName:(s==null?void 0:s.bufferName)||r.name,location:r.location,shaderType:r.type,shaderDataType:o.dataType,shaderComponents:o.components,vertexFormat:l,bufferDataType:c.type,bufferComponents:c.components,normalized:c.normalized,integer:o.integer,stepMode:(s==null?void 0:s.stepMode)||r.stepMode||"vertex",byteOffset:(s==null?void 0:s.byteOffset)||0,byteStride:(s==null?void 0:s.byteStride)||0}}function _J(t,e){const n=t.attributes.find(r=>r.name===e);return n||ot.warn(`shader layout attribute "${e}" not present in shader`),n||null}function wJ(t,e){NJ(t);let n=SJ(t,e);return n||(n=EJ(t,e),n)?n:(ot.warn(`layout for attribute "${e}" not present in buffer layout`),null)}function NJ(t){for(const e of t)(e.attributes&&e.format||!e.attributes&&!e.format)&&ot.warn(`BufferLayout ${name} must have either 'attributes' or 'format' field`)}function SJ(t,e){for(const n of t)if(n.format&&n.name===e)return{attributeName:n.name,bufferName:e,stepMode:n.stepMode,vertexFormat:n.format,byteOffset:0,byteStride:n.byteStride||0};return null}function EJ(t,e){var n;for(const r of t){let s=r.byteStride;if(typeof r.byteStride!="number")for(const l of r.attributes||[]){const c=WV(l.format);s+=c.byteLength}const o=(n=r.attributes)==null?void 0:n.find(l=>l.attribute===e);if(o)return{attributeName:o.attribute,bufferName:r.name,stepMode:r.stepMode,vertexFormat:o.format,byteOffset:o.byteOffset,byteStride:s}}return null}const My=class My extends Vn{constructor(n,r){super(n,r,My.defaultProps);H(this,"maxVertexAttributes");H(this,"attributeInfos");H(this,"indexBuffer",null);H(this,"attributes");this.maxVertexAttributes=n.limits.maxVertexAttributes,this.attributes=new Array(this.maxVertexAttributes).fill(null);const{shaderLayout:s,bufferLayout:o}=r.renderPipeline||{};if(!s||!o)throw new Error("VertexArray");this.attributeInfos=yJ(s,o,this.maxVertexAttributes)}get[Symbol.toStringTag](){return"VertexArray"}setConstantWebGL(n,r){this.device.reportError(new Error("constant attributes not supported"))}};H(My,"defaultProps",{...Vn.defaultProps,renderPipeline:null});let xS=My;const jy=class jy extends Vn{get[Symbol.toStringTag](){return"TransformFeedback"}constructor(e,n){super(e,n,jy.defaultProps)}};H(jy,"defaultProps",{...Vn.defaultProps,layout:void 0,buffers:{}});let yS=jy;const Iy=class Iy extends Vn{get[Symbol.toStringTag](){return"QuerySet"}constructor(e,n){super(e,n,Iy.defaultProps)}};H(Iy,"defaultProps",{...Vn.defaultProps,type:void 0,count:void 0});let vS=Iy;const TJ={f32:{type:"f32",components:1},i32:{type:"i32",components:1},u32:{type:"u32",components:1},"vec2<f32>":{type:"f32",components:2},"vec3<f32>":{type:"f32",components:3},"vec4<f32>":{type:"f32",components:4},"vec2<i32>":{type:"i32",components:2},"vec3<i32>":{type:"i32",components:3},"vec4<i32>":{type:"i32",components:4},"vec2<u32>":{type:"u32",components:2},"vec3<u32>":{type:"u32",components:3},"vec4<u32>":{type:"u32",components:4},"mat2x2<f32>":{type:"f32",components:4},"mat2x3<f32>":{type:"f32",components:6},"mat2x4<f32>":{type:"f32",components:8},"mat3x2<f32>":{type:"f32",components:6},"mat3x3<f32>":{type:"f32",components:9},"mat3x4<f32>":{type:"f32",components:12},"mat4x2<f32>":{type:"f32",components:8},"mat4x3<f32>":{type:"f32",components:12},"mat4x4<f32>":{type:"f32",components:16}};function AJ(t){return TJ[t]}function CJ(t,e){switch(e){case 1:return t;case 2:return t+t%2;default:return t+(4-t%4)%4}}let Xb;function XV(t){return(!Xb||Xb.byteLength<t)&&(Xb=new ArrayBuffer(t)),Xb}function RJ(t,e){const n=XV(t.BYTES_PER_ELEMENT*e);return new t(n,0,e)}function kJ(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function ty(t){return Array.isArray(t)?t.length===0||typeof t[0]=="number":kJ(t)}const L2=1024;class PJ{constructor(e){H(this,"layout",{});H(this,"byteLength");let n=0;for(const[s,o]of Object.entries(e)){const l=AJ(o),{type:c,components:f}=l;n=CJ(n,f);const h=n;n+=f,this.layout[s]={type:c,size:f,offset:h}}n+=(4-n%4)%4;const r=n*4;this.byteLength=Math.max(r,L2)}getData(e){const n=Math.max(this.byteLength,L2),r=XV(n),s={i32:new Int32Array(r),u32:new Uint32Array(r),f32:new Float32Array(r),f16:new Uint16Array(r)};for(const[o,l]of Object.entries(e)){const c=this.layout[o];if(!c){ot.warn(`Supplied uniform value ${o} not present in uniform block layout`)();continue}const{type:f,size:h,offset:p}=c,m=s[f];if(h===1){if(typeof l!="number"&&typeof l!="boolean"){ot.warn(`Supplied value for single component uniform ${o} is not a number: ${l}`)();continue}m[p]=Number(l)}else{if(!ty(l)){ot.warn(`Supplied value for multi component / array uniform ${o} is not a numeric array: ${l}`)();continue}m.set(l,p)}}return new Uint8Array(r)}has(e){return!!this.layout[e]}get(e){return this.layout[e]}}function DJ(t,e,n=16){if(t!==e)return!1;const r=t,s=e;if(!ty(r))return!1;if(ty(s)&&r.length===s.length){for(let o=0;o<r.length;++o)if(s[o]!==r[o])return!1}return!0}function MJ(t){return ty(t)?t.slice():t}class jJ{constructor(e){H(this,"name");H(this,"uniforms",{});H(this,"modifiedUniforms",{});H(this,"modified",!0);H(this,"bindingLayout",{});H(this,"needsRedraw","initialized");var n;if(this.name=(e==null?void 0:e.name)||"unnamed",e!=null&&e.name&&(e!=null&&e.shaderLayout)){const r=(n=e==null?void 0:e.shaderLayout.bindings)==null?void 0:n.find(o=>o.type==="uniform"&&o.name===(e==null?void 0:e.name));if(!r)throw new Error(e==null?void 0:e.name);const s=r;for(const o of s.uniforms||[])this.bindingLayout[o.name]=o}}setUniforms(e){for(const[n,r]of Object.entries(e))this._setUniform(n,r),this.needsRedraw||this.setNeedsRedraw(`${this.name}.${n}=${r}`)}setNeedsRedraw(e){this.needsRedraw=this.needsRedraw||e}getAllUniforms(){return this.modifiedUniforms={},this.needsRedraw=!1,this.uniforms||{}}_setUniform(e,n){DJ(this.uniforms[e],n)||(this.uniforms[e]=MJ(n),this.modifiedUniforms[e]=!0,this.modified=!0)}}class IJ{constructor(e){H(this,"uniformBlocks",new Map);H(this,"uniformBufferLayouts",new Map);H(this,"uniformBuffers",new Map);for(const[n,r]of Object.entries(e)){const s=n,o=new PJ(r.uniformTypes||{});this.uniformBufferLayouts.set(s,o);const l=new jJ({name:n});l.setUniforms(r.defaultUniforms||{}),this.uniformBlocks.set(s,l)}}destroy(){for(const e of this.uniformBuffers.values())e.destroy()}setUniforms(e){var n;for(const[r,s]of Object.entries(e))(n=this.uniformBlocks.get(r))==null||n.setUniforms(s);this.updateUniformBuffers()}getUniformBufferByteLength(e){var n;return((n=this.uniformBufferLayouts.get(e))==null?void 0:n.byteLength)||0}getUniformBufferData(e){var r,s;const n=((r=this.uniformBlocks.get(e))==null?void 0:r.getAllUniforms())||{};return(s=this.uniformBufferLayouts.get(e))==null?void 0:s.getData(n)}createUniformBuffer(e,n,r){r&&this.setUniforms(r);const s=this.getUniformBufferByteLength(n),o=e.createBuffer({usage:nr.UNIFORM|nr.COPY_DST,byteLength:s}),l=this.getUniformBufferData(n);return o.write(l),o}getManagedUniformBuffer(e,n){if(!this.uniformBuffers.get(n)){const r=this.getUniformBufferByteLength(n),s=e.createBuffer({usage:nr.UNIFORM|nr.COPY_DST,byteLength:r});this.uniformBuffers.set(n,s)}return this.uniformBuffers.get(n)}updateUniformBuffers(){let e=!1;for(const n of this.uniformBlocks.keys()){const r=this.updateUniformBuffer(n);e||(e=r)}return e&&ot.log(3,`UniformStore.updateUniformBuffers(): ${e}`)(),e}updateUniformBuffer(e){var o;const n=this.uniformBlocks.get(e);let r=this.uniformBuffers.get(e),s=!1;if(r&&(n!=null&&n.needsRedraw)){s||(s=n.needsRedraw);const l=this.getUniformBufferData(e);r=this.uniformBuffers.get(e),r==null||r.write(l);const c=(o=this.uniformBlocks.get(e))==null?void 0:o.getAllUniforms();ot.log(4,`Writing to uniform buffer ${String(e)}`,l,c)()}return s}}function YV(t){const e=ArrayBuffer.isView(t)?t.constructor:t;switch(e){case Float32Array:return"float32";case Uint16Array:return"uint16";case Uint32Array:return"uint32";case Uint8Array:case Uint8ClampedArray:return"uint8";case Int8Array:return"sint8";case Int16Array:return"sint16";case Int32Array:return"sint32";default:throw new Error(e.constructor.name)}}function KV(t){switch(t){case"float32":return Float32Array;case"uint32":return Uint32Array;case"sint32":return Int32Array;case"uint16":case"unorm16":return Uint16Array;case"sint16":case"snorm16":return Int16Array;case"uint8":case"unorm8":return Uint8Array;case"sint8":case"snorm8":return Int8Array;default:throw new Error(t)}}function OJ(t,e,n){if(!e||e>4)throw new Error(`size ${e}`);const r=e;let s=YV(t);if(s==="uint8"&&n&&r===1)return"unorm8-webgl";if(s==="uint8"&&n&&r===3)return"unorm8x3-webgl";if(s==="uint8"||s==="sint8"){if(r===1||r===3)throw new Error(`size: ${e}`);return n&&(s=s.replace("int","norm")),`${s}x${r}`}if(s==="uint16"||s==="sint16"){if(r===1||r===3)throw new Error(`size: ${e}`);return n&&(s=s.replace("int","norm")),`${s}x${r}`}return r===1?s:`${s}x${r}`}class D1{constructor(e){H(this,"bufferLayouts");this.bufferLayouts=e}getBufferLayout(e){return this.bufferLayouts.find(n=>n.name===e)||null}getAttributeNamesForBuffer(e){var n;return e.attributes?(n=e.attributes)==null?void 0:n.map(r=>r.attribute):[e.name]}mergeBufferLayouts(e,n){const r=[...e];for(const s of n){const o=r.findIndex(l=>l.name===s.name);o<0?r.push(s):r[o]=s}return r}getBufferIndex(e){const n=this.bufferLayouts.findIndex(r=>r.name===e);return n===-1&&ot.warn(`BufferLayout: Missing buffer for "${e}".`)(),n}}function UJ(t,e){const n=Object.fromEntries(t.attributes.map(s=>[s.name,s.location])),r=e.slice();return r.sort((s,o)=>{const l=s.attributes?s.attributes.map(p=>p.attribute):[s.name],c=o.attributes?o.attributes.map(p=>p.attribute):[o.name],f=Math.min(...l.map(p=>n[p])),h=Math.min(...c.map(p=>n[p]));return f-h}),r}class Ri{constructor(e,n){this.name=e,this.attributes=n,this.size=0}get isArray(){return!1}get isStruct(){return!1}get isTemplate(){return!1}get isPointer(){return!1}getTypeName(){return this.name}}class z2{constructor(e,n,r){this.name=e,this.type=n,this.attributes=r,this.offset=0,this.size=0}get isArray(){return this.type.isArray}get isStruct(){return this.type.isStruct}get isTemplate(){return this.type.isTemplate}get align(){return this.type.isStruct?this.type.align:0}get members(){return this.type.isStruct?this.type.members:null}get format(){return this.type.isArray||this.type.isTemplate?this.type.format:null}get count(){return this.type.isArray?this.type.count:0}get stride(){return this.type.isArray?this.type.stride:this.size}}class Dl extends Ri{constructor(e,n){super(e,n),this.members=[],this.align=0,this.startLine=-1,this.endLine=-1,this.inUse=!1}get isStruct(){return!0}}class Vl extends Ri{constructor(e,n){super(e,n),this.count=0,this.stride=0}get isArray(){return!0}getTypeName(){return`array<${this.format.getTypeName()}, ${this.count}>`}}class _S extends Ri{constructor(e,n,r){super(e,r),this.format=n}get isPointer(){return!0}getTypeName(){return`&${this.format.getTypeName()}`}}class du extends Ri{constructor(e,n,r,s){super(e,r),this.format=n,this.access=s}get isTemplate(){return!0}getTypeName(){let e=this.name;if(this.format!==null){if(e==="vec2"||e==="vec3"||e==="vec4"||e==="mat2x2"||e==="mat2x3"||e==="mat2x4"||e==="mat3x2"||e==="mat3x3"||e==="mat3x4"||e==="mat4x2"||e==="mat4x3"||e==="mat4x4"){if(this.format.name==="f32")return e+="f",e;if(this.format.name==="i32")return e+="i",e;if(this.format.name==="u32")return e+="u",e;if(this.format.name==="bool")return e+="b",e;if(this.format.name==="f16")return e+="h",e}e+=`<${this.format.name}>`}else if(e==="vec2"||e==="vec3"||e==="vec4")return e;return e}}var gl;(t=>{t[t.Uniform=0]="Uniform",t[t.Storage=1]="Storage",t[t.Texture=2]="Texture",t[t.Sampler=3]="Sampler",t[t.StorageTexture=4]="StorageTexture"})(gl||(gl={}));class Yb{constructor(e,n,r,s,o,l,c){this.name=e,this.type=n,this.group=r,this.binding=s,this.attributes=o,this.resourceType=l,this.access=c}get isArray(){return this.type.isArray}get isStruct(){return this.type.isStruct}get isTemplate(){return this.type.isTemplate}get size(){return this.type.size}get align(){return this.type.isStruct?this.type.align:0}get members(){return this.type.isStruct?this.type.members:null}get format(){return this.type.isArray||this.type.isTemplate?this.type.format:null}get count(){return this.type.isArray?this.type.count:0}get stride(){return this.type.isArray?this.type.stride:this.size}}class VJ{constructor(e,n){this.name=e,this.type=n}}class FJ{constructor(e,n,r,s){this.name=e,this.type=n,this.locationType=r,this.location=s,this.interpolation=null}}class $2{constructor(e,n,r,s){this.name=e,this.type=n,this.locationType=r,this.location=s}}class BJ{constructor(e,n,r,s){this.name=e,this.type=n,this.attributes=r,this.id=s}}class LJ{constructor(e,n,r){this.name=e,this.type=n,this.attributes=r}}class zJ{constructor(e,n=null,r){this.stage=null,this.inputs=[],this.outputs=[],this.arguments=[],this.returnType=null,this.resources=[],this.overrides=[],this.startLine=-1,this.endLine=-1,this.inUse=!1,this.calls=new Set,this.name=e,this.stage=n,this.attributes=r}}class $J{constructor(){this.vertex=[],this.fragment=[],this.compute=[]}}const ZV=new Float32Array(1),HJ=new Int32Array(ZV.buffer),cs=new Uint16Array(1);function WJ(t){ZV[0]=t;const e=HJ[0],n=e>>31&1;let r=e>>23&255,s=8388607&e;if(r===255)return cs[0]=n<<15|31744|(s!==0?512:0),cs[0];if(r===0){if(s===0)return cs[0]=n<<15,cs[0];s|=8388608;let o=113;for(;!(8388608&s);)s<<=1,o--;return r=127-o,s&=8388607,r>0?(s=(s>>126-r)+(s>>127-r&1),cs[0]=n<<15|r<<10|s>>13,cs[0]):(cs[0]=n<<15,cs[0])}return r=r-127+15,r>=31?(cs[0]=n<<15|31744,cs[0]):r<=0?r<-10?(cs[0]=n<<15,cs[0]):(s=(8388608|s)>>1-r,cs[0]=n<<15|s>>13,cs[0]):(s>>=13,cs[0]=n<<15|r<<10|s,cs[0])}const rT=new Uint32Array(1),GV=new Float32Array(rT.buffer,0,1);function H2(t){const e=112+(t>>6&31)<<23|(63&t)<<17;return rT[0]=e,GV[0]}function qJ(t,e,n,r,s,o,l,c,f){const h=r*(l>>=s)*(o>>=s)+n*l+e*c;switch(f){case"r8unorm":return[En(t,h,"8unorm",1)[0]];case"r8snorm":return[En(t,h,"8snorm",1)[0]];case"r8uint":return[En(t,h,"8uint",1)[0]];case"r8sint":return[En(t,h,"8sint",1)[0]];case"rg8unorm":{const p=En(t,h,"8unorm",2);return[p[0],p[1]]}case"rg8snorm":{const p=En(t,h,"8snorm",2);return[p[0],p[1]]}case"rg8uint":{const p=En(t,h,"8uint",2);return[p[0],p[1]]}case"rg8sint":{const p=En(t,h,"8sint",2);return[p[0],p[1]]}case"rgba8unorm-srgb":case"rgba8unorm":{const p=En(t,h,"8unorm",4);return[p[0],p[1],p[2],p[3]]}case"rgba8snorm":{const p=En(t,h,"8snorm",4);return[p[0],p[1],p[2],p[3]]}case"rgba8uint":{const p=En(t,h,"8uint",4);return[p[0],p[1],p[2],p[3]]}case"rgba8sint":{const p=En(t,h,"8sint",4);return[p[0],p[1],p[2],p[3]]}case"bgra8unorm-srgb":case"bgra8unorm":{const p=En(t,h,"8unorm",4);return[p[2],p[1],p[0],p[3]]}case"r16uint":return[En(t,h,"16uint",1)[0]];case"r16sint":return[En(t,h,"16sint",1)[0]];case"r16float":return[En(t,h,"16float",1)[0]];case"rg16uint":{const p=En(t,h,"16uint",2);return[p[0],p[1]]}case"rg16sint":{const p=En(t,h,"16sint",2);return[p[0],p[1]]}case"rg16float":{const p=En(t,h,"16float",2);return[p[0],p[1]]}case"rgba16uint":{const p=En(t,h,"16uint",4);return[p[0],p[1],p[2],p[3]]}case"rgba16sint":{const p=En(t,h,"16sint",4);return[p[0],p[1],p[2],p[3]]}case"rgba16float":{const p=En(t,h,"16float",4);return[p[0],p[1],p[2],p[3]]}case"r32uint":return[En(t,h,"32uint",1)[0]];case"r32sint":return[En(t,h,"32sint",1)[0]];case"depth16unorm":case"depth24plus":case"depth24plus-stencil8":case"depth32float":case"depth32float-stencil8":case"r32float":return[En(t,h,"32float",1)[0]];case"rg32uint":{const p=En(t,h,"32uint",2);return[p[0],p[1]]}case"rg32sint":{const p=En(t,h,"32sint",2);return[p[0],p[1]]}case"rg32float":{const p=En(t,h,"32float",2);return[p[0],p[1]]}case"rgba32uint":{const p=En(t,h,"32uint",4);return[p[0],p[1],p[2],p[3]]}case"rgba32sint":{const p=En(t,h,"32sint",4);return[p[0],p[1],p[2],p[3]]}case"rgba32float":{const p=En(t,h,"32float",4);return[p[0],p[1],p[2],p[3]]}case"rg11b10ufloat":{const p=new Uint32Array(t.buffer,h,1)[0],m=(4192256&p)>>11,b=(4290772992&p)>>22;return[H2(2047&p),H2(m),function(_){const E=112+(_>>5&31)<<23|(31&_)<<18;return rT[0]=E,GV[0]}(b),1]}}return null}function En(t,e,n,r){const s=[0,0,0,0];for(let h=0;h<r;++h)switch(n){case"8unorm":s[h]=t[e]/255,e++;break;case"8snorm":s[h]=t[e]/255*2-1,e++;break;case"8uint":s[h]=t[e],e++;break;case"8sint":s[h]=t[e]-127,e++;break;case"16uint":s[h]=t[e]|t[e+1]<<8,e+=2;break;case"16sint":s[h]=(t[e]|t[e+1]<<8)-32768,e+=2;break;case"16float":s[h]=(o=t[e]|t[e+1]<<8,l=void 0,c=void 0,f=void 0,l=(32768&o)>>15,f=1023&o,(c=(31744&o)>>10)==0?(l?-1:1)*Math.pow(2,-14)*(f/Math.pow(2,10)):c==31?f?NaN:1/0*(l?-1:1):(l?-1:1)*Math.pow(2,c-15)*(1+f/Math.pow(2,10))),e+=2;break;case"32uint":case"32sint":s[h]=t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24,e+=4;break;case"32float":s[h]=new Float32Array(t.buffer,e,1)[0],e+=4}var o,l,c,f;return s}function kn(t,e,n,r,s){for(let o=0;o<r;++o)switch(n){case"8unorm":t[e]=255*s[o],e++;break;case"8snorm":t[e]=.5*(s[o]+1)*255,e++;break;case"8uint":t[e]=s[o],e++;break;case"8sint":t[e]=s[o]+127,e++;break;case"16uint":new Uint16Array(t.buffer,e,1)[0]=s[o],e+=2;break;case"16sint":new Int16Array(t.buffer,e,1)[0]=s[o],e+=2;break;case"16float":{const l=WJ(s[o]);new Uint16Array(t.buffer,e,1)[0]=l,e+=2;break}case"32uint":new Uint32Array(t.buffer,e,1)[0]=s[o],e+=4;break;case"32sint":new Int32Array(t.buffer,e,1)[0]=s[o],e+=4;break;case"32float":new Float32Array(t.buffer,e,1)[0]=s[o],e+=4}return s}const M1={r8unorm:{bytesPerBlock:1,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r8snorm:{bytesPerBlock:1,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r8uint:{bytesPerBlock:1,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r8sint:{bytesPerBlock:1,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},rg8unorm:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg8snorm:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg8uint:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg8sint:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rgba8unorm:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},"rgba8unorm-srgb":{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba8snorm:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba8uint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba8sint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},bgra8unorm:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},"bgra8unorm-srgb":{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},r16uint:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r16sint:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r16float:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},rg16uint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg16sint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg16float:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rgba16uint:{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba16sint:{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba16float:{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},r32uint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r32sint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r32float:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},rg32uint:{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg32sint:{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg32float:{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rgba32uint:{bytesPerBlock:16,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba32sint:{bytesPerBlock:16,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba32float:{bytesPerBlock:16,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgb10a2uint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgb10a2unorm:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rg11b10ufloat:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},stencil8:{bytesPerBlock:1,blockWidth:1,blockHeight:1,isCompressed:!1,isDepthStencil:!0,hasDepth:!1,hasStencil:!0,channels:1},depth16unorm:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,isDepthStencil:!0,hasDepth:!0,hasStencil:!1,channels:1},depth24plus:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,isDepthStencil:!0,hasDepth:!0,hasStencil:!1,depthOnlyFormat:"depth32float",channels:1},"depth24plus-stencil8":{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,isDepthStencil:!0,hasDepth:!0,hasStencil:!0,depthOnlyFormat:"depth32float",channels:1},depth32float:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,isDepthStencil:!0,hasDepth:!0,hasStencil:!1,channels:1},"depth32float-stencil8":{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,isDepthStencil:!0,hasDepth:!0,hasStencil:!0,stencilOnlyFormat:"depth32float",channels:1},rgb9e5ufloat:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},"bc1-rgba-unorm":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc1-rgba-unorm-srgb":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc2-rgba-unorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc2-rgba-unorm-srgb":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc3-rgba-unorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc3-rgba-unorm-srgb":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc4-r-unorm":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:1},"bc4-r-snorm":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:1},"bc5-rg-unorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:2},"bc5-rg-snorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:2},"bc6h-rgb-ufloat":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc6h-rgb-float":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc7-rgba-unorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc7-rgba-unorm-srgb":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"etc2-rgb8unorm":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"etc2-rgb8unorm-srgb":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"etc2-rgb8a1unorm":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"etc2-rgb8a1unorm-srgb":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"etc2-rgba8unorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"etc2-rgba8unorm-srgb":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"eac-r11unorm":{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!0,channels:1},"eac-r11snorm":{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!0,channels:1},"eac-rg11unorm":{bytesPerBlock:16,blockWidth:1,blockHeight:1,isCompressed:!0,channels:2},"eac-rg11snorm":{bytesPerBlock:16,blockWidth:1,blockHeight:1,isCompressed:!0,channels:2},"astc-4x4-unorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"astc-4x4-unorm-srgb":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"astc-5x4-unorm":{bytesPerBlock:16,blockWidth:5,blockHeight:4,isCompressed:!0,channels:4},"astc-5x4-unorm-srgb":{bytesPerBlock:16,blockWidth:5,blockHeight:4,isCompressed:!0,channels:4},"astc-5x5-unorm":{bytesPerBlock:16,blockWidth:5,blockHeight:5,isCompressed:!0,channels:4},"astc-5x5-unorm-srgb":{bytesPerBlock:16,blockWidth:5,blockHeight:5,isCompressed:!0,channels:4},"astc-6x5-unorm":{bytesPerBlock:16,blockWidth:6,blockHeight:5,isCompressed:!0,channels:4},"astc-6x5-unorm-srgb":{bytesPerBlock:16,blockWidth:6,blockHeight:5,isCompressed:!0,channels:4},"astc-6x6-unorm":{bytesPerBlock:16,blockWidth:6,blockHeight:6,isCompressed:!0,channels:4},"astc-6x6-unorm-srgb":{bytesPerBlock:16,blockWidth:6,blockHeight:6,isCompressed:!0,channels:4},"astc-8x5-unorm":{bytesPerBlock:16,blockWidth:8,blockHeight:5,isCompressed:!0,channels:4},"astc-8x5-unorm-srgb":{bytesPerBlock:16,blockWidth:8,blockHeight:5,isCompressed:!0,channels:4},"astc-8x6-unorm":{bytesPerBlock:16,blockWidth:8,blockHeight:6,isCompressed:!0,channels:4},"astc-8x6-unorm-srgb":{bytesPerBlock:16,blockWidth:8,blockHeight:6,isCompressed:!0,channels:4},"astc-8x8-unorm":{bytesPerBlock:16,blockWidth:8,blockHeight:8,isCompressed:!0,channels:4},"astc-8x8-unorm-srgb":{bytesPerBlock:16,blockWidth:8,blockHeight:8,isCompressed:!0,channels:4},"astc-10x5-unorm":{bytesPerBlock:16,blockWidth:10,blockHeight:5,isCompressed:!0,channels:4},"astc-10x5-unorm-srgb":{bytesPerBlock:16,blockWidth:10,blockHeight:5,isCompressed:!0,channels:4},"astc-10x6-unorm":{bytesPerBlock:16,blockWidth:10,blockHeight:6,isCompressed:!0,channels:4},"astc-10x6-unorm-srgb":{bytesPerBlock:16,blockWidth:10,blockHeight:6,isCompressed:!0,channels:4},"astc-10x8-unorm":{bytesPerBlock:16,blockWidth:10,blockHeight:8,isCompressed:!0,channels:4},"astc-10x8-unorm-srgb":{bytesPerBlock:16,blockWidth:10,blockHeight:8,isCompressed:!0,channels:4},"astc-10x10-unorm":{bytesPerBlock:16,blockWidth:10,blockHeight:10,isCompressed:!0,channels:4},"astc-10x10-unorm-srgb":{bytesPerBlock:16,blockWidth:10,blockHeight:10,isCompressed:!0,channels:4},"astc-12x10-unorm":{bytesPerBlock:16,blockWidth:12,blockHeight:10,isCompressed:!0,channels:4},"astc-12x10-unorm-srgb":{bytesPerBlock:16,blockWidth:12,blockHeight:10,isCompressed:!0,channels:4},"astc-12x12-unorm":{bytesPerBlock:16,blockWidth:12,blockHeight:12,isCompressed:!0,channels:4},"astc-12x12-unorm-srgb":{bytesPerBlock:16,blockWidth:12,blockHeight:12,isCompressed:!0,channels:4}};class Ii{constructor(){this.id=Ii._id++,this.line=0}get isAstNode(){return!0}get astNodeType(){return""}search(e){e(this)}searchBlock(e,n){if(e){n(ny.instance);for(const r of e)r instanceof Array?this.searchBlock(r,n):r.search(n);n(ry.instance)}}constEvaluate(e,n){throw new Error("Cannot evaluate node")}constEvaluateString(e){return this.constEvaluate(e).toString()}}Ii._id=0;class ny extends Ii{}ny.instance=new ny;class ry extends Ii{}ry.instance=new ry;const QV=new Set(["all","all","any","select","arrayLength","abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","clamp","cos","cosh","countLeadingZeros","countOneBits","countTrailingZeros","cross","degrees","determinant","distance","dot","dot4U8Packed","dot4I8Packed","exp","exp2","extractBits","faceForward","firstLeadingBit","firstTrailingBit","floor","fma","fract","frexp","insertBits","inverseSqrt","ldexp","length","log","log2","max","min","mix","modf","normalize","pow","quantizeToF16","radians","reflect","refract","reverseBits","round","saturate","sign","sin","sinh","smoothStep","sqrt","step","tan","tanh","transpose","trunc","dpdx","dpdxCoarse","dpdxFine","dpdy","dpdyCoarse","dpdyFine","fwidth","fwidthCoarse","fwidthFine","textureDimensions","textureGather","textureGatherCompare","textureLoad","textureNumLayers","textureNumLevels","textureNumSamples","textureSample","textureSampleBias","textureSampleCompare","textureSampleCompareLevel","textureSampleGrad","textureSampleLevel","textureSampleBaseClampToEdge","textureStore","atomicLoad","atomicStore","atomicAdd","atomicSub","atomicMax","atomicMin","atomicAnd","atomicOr","atomicXor","atomicExchange","atomicCompareExchangeWeak","pack4x8snorm","pack4x8unorm","pack4xI8","pack4xU8","pack4x8Clamp","pack4xU8Clamp","pack2x16snorm","pack2x16unorm","pack2x16float","unpack4x8snorm","unpack4x8unorm","unpack4xI8","unpack4xU8","unpack2x16snorm","unpack2x16unorm","unpack2x16float","storageBarrier","textureBarrier","workgroupBarrier","workgroupUniformLoad","subgroupAdd","subgroupExclusiveAdd","subgroupInclusiveAdd","subgroupAll","subgroupAnd","subgroupAny","subgroupBallot","subgroupBroadcast","subgroupBroadcastFirst","subgroupElect","subgroupMax","subgroupMin","subgroupMul","subgroupExclusiveMul","subgroupInclusiveMul","subgroupOr","subgroupShuffle","subgroupShuffleDown","subgroupShuffleUp","subgroupShuffleXor","subgroupXor","quadBroadcast","quadSwapDiagonal","quadSwapX","quadSwapY"]);class rr extends Ii{constructor(){super()}}class nm extends rr{constructor(e,n,r,s,o,l){super(),this.calls=new Set,this.name=e,this.args=n,this.returnType=r,this.body=s,this.startLine=o,this.endLine=l}get astNodeType(){return"function"}search(e){if(this.attributes)for(const n of this.attributes)e(n);e(this);for(const n of this.args)e(n);this.searchBlock(this.body,e)}}class XJ extends rr{constructor(e){super(),this.expression=e}get astNodeType(){return"staticAssert"}search(e){this.expression.search(e)}}class JV extends rr{constructor(e,n){super(),this.condition=e,this.body=n}get astNodeType(){return"while"}search(e){this.condition.search(e),this.searchBlock(this.body,e)}}class wS extends rr{constructor(e,n){super(),this.body=e,this.loopId=n}get astNodeType(){return"continuing"}search(e){this.searchBlock(this.body,e)}}class eF extends rr{constructor(e,n,r,s){super(),this.init=e,this.condition=n,this.increment=r,this.body=s}get astNodeType(){return"for"}search(e){var n,r,s;(n=this.init)===null||n===void 0||n.search(e),(r=this.condition)===null||r===void 0||r.search(e),(s=this.increment)===null||s===void 0||s.search(e),this.searchBlock(this.body,e)}}class Sa extends rr{constructor(e,n,r,s,o){super(),this.attributes=null,this.name=e,this.type=n,this.storage=r,this.access=s,this.value=o}get astNodeType(){return"var"}search(e){var n;e(this),(n=this.value)===null||n===void 0||n.search(e)}}class sT extends rr{constructor(e,n,r){super(),this.attributes=null,this.name=e,this.type=n,this.value=r}get astNodeType(){return"override"}search(e){var n;(n=this.value)===null||n===void 0||n.search(e)}}class Up extends rr{constructor(e,n,r,s,o){super(),this.attributes=null,this.name=e,this.type=n,this.storage=r,this.access=s,this.value=o}get astNodeType(){return"let"}search(e){var n;e(this),(n=this.value)===null||n===void 0||n.search(e)}}class xx extends rr{constructor(e,n,r,s,o){super(),this.attributes=null,this.name=e,this.type=n,this.storage=r,this.access=s,this.value=o}get astNodeType(){return"const"}constEvaluate(e,n){return this.value.constEvaluate(e,n)}search(e){var n;e(this),(n=this.value)===null||n===void 0||n.search(e)}}var $f,Ap,De,Ae;(t=>{t.increment="++",t.decrement="--"})($f||($f={})),(t=>{t.parse=function(e){const n=e;if(n=="parse")throw new Error("Invalid value for IncrementOperator");return t[n]}})($f||($f={}));class tF extends rr{constructor(e,n){super(),this.operator=e,this.variable=n}get astNodeType(){return"increment"}search(e){this.variable.search(e)}}(t=>{t.assign="=",t.addAssign="+=",t.subtractAssin="-=",t.multiplyAssign="*=",t.divideAssign="/=",t.moduloAssign="%=",t.andAssign="&=",t.orAssign="|=",t.xorAssign="^=",t.shiftLeftAssign="<<=",t.shiftRightAssign=">>="})(Ap||(Ap={})),(t=>{t.parse=function(e){const n=e;if(n=="parse")throw new Error("Invalid value for AssignOperator");return n}})(Ap||(Ap={}));class nF extends rr{constructor(e,n,r){super(),this.operator=e,this.variable=n,this.value=r}get astNodeType(){return"assign"}search(e){this.variable.search(e),this.value.search(e)}}class iT extends rr{constructor(e,n){super(),this.name=e,this.args=n}get astNodeType(){return"call"}isBuiltin(){return QV.has(this.name)}search(e){for(const n of this.args)n.search(e);e(this)}}class rF extends rr{constructor(e,n){super(),this.body=e,this.continuing=n}get astNodeType(){return"loop"}}class sF extends rr{constructor(e,n){super(),this.condition=e,this.cases=n}get astNodeType(){return"switch"}search(e){e(this);for(const n of this.cases)n.search(e)}}class iF extends rr{constructor(e,n,r,s){super(),this.condition=e,this.body=n,this.elseif=r,this.else=s}get astNodeType(){return"if"}search(e){this.condition.search(e),this.searchBlock(this.body,e),this.searchBlock(this.elseif,e),this.searchBlock(this.else,e)}}class oF extends rr{constructor(e){super(),this.value=e}get astNodeType(){return"return"}search(e){var n;(n=this.value)===null||n===void 0||n.search(e)}}class YJ extends rr{constructor(e){super(),this.name=e}get astNodeType(){return"enable"}}class KJ extends rr{constructor(e){super(),this.extensions=e}get astNodeType(){return"requires"}}class aF extends rr{constructor(e,n){super(),this.severity=e,this.rule=n}get astNodeType(){return"diagnostic"}}class oT extends rr{constructor(e,n){super(),this.name=e,this.type=n}get astNodeType(){return"alias"}}class ZJ extends rr{constructor(){super()}get astNodeType(){return"discard"}}class lF extends rr{constructor(){super(),this.condition=null,this.loopId=-1}get astNodeType(){return"break"}}class cF extends rr{constructor(){super(),this.loopId=-1}get astNodeType(){return"continue"}}let Ge=class yx extends rr{constructor(e){super(),this.attributes=null,this.name=e}get astNodeType(){return"type"}get isStruct(){return!1}get isArray(){return!1}static maxFormatType(e){let n=e[0];if(n.name==="f32")return n;for(let r=1;r<e.length;++r){const s=yx._priority.get(n.name);yx._priority.get(e[r].name)<s&&(n=e[r])}return n.name==="x32"?yx.i32:n}getTypeName(){return this.name}};Ge.x32=new Ge("x32"),Ge.f32=new Ge("f32"),Ge.i32=new Ge("i32"),Ge.u32=new Ge("u32"),Ge.f16=new Ge("f16"),Ge.bool=new Ge("bool"),Ge.void=new Ge("void"),Ge._priority=new Map([["f32",0],["f16",1],["u32",2],["i32",3],["x32",3]]);class W2 extends Ge{constructor(e){super(e)}}class xa extends Ge{constructor(e,n,r,s){super(e),this.members=n,this.startLine=r,this.endLine=s}get astNodeType(){return"struct"}get isStruct(){return!0}getMemberIndex(e){for(let n=0;n<this.members.length;n++)if(this.members[n].name==e)return n;return-1}search(e){for(const n of this.members)e(n)}}class ke extends Ge{constructor(e,n,r){super(e),this.format=n,this.access=r}get astNodeType(){return"template"}getTypeName(){let e=this.name;if(this.format!==null){if(e==="vec2"||e==="vec3"||e==="vec4"||e==="mat2x2"||e==="mat2x3"||e==="mat2x4"||e==="mat3x2"||e==="mat3x3"||e==="mat3x4"||e==="mat4x2"||e==="mat4x3"||e==="mat4x4"){if(this.format.name==="f32")return e+="f",e;if(this.format.name==="i32")return e+="i",e;if(this.format.name==="u32")return e+="u",e;if(this.format.name==="bool")return e+="b",e;if(this.format.name==="f16")return e+="h",e}e+=`<${this.format.name}>`}else if(e==="vec2"||e==="vec3"||e==="vec4")return e;return e}}ke.vec2f=new ke("vec2",Ge.f32,null),ke.vec3f=new ke("vec3",Ge.f32,null),ke.vec4f=new ke("vec4",Ge.f32,null),ke.vec2i=new ke("vec2",Ge.i32,null),ke.vec3i=new ke("vec3",Ge.i32,null),ke.vec4i=new ke("vec4",Ge.i32,null),ke.vec2u=new ke("vec2",Ge.u32,null),ke.vec3u=new ke("vec3",Ge.u32,null),ke.vec4u=new ke("vec4",Ge.u32,null),ke.vec2h=new ke("vec2",Ge.f16,null),ke.vec3h=new ke("vec3",Ge.f16,null),ke.vec4h=new ke("vec4",Ge.f16,null),ke.vec2b=new ke("vec2",Ge.bool,null),ke.vec3b=new ke("vec3",Ge.bool,null),ke.vec4b=new ke("vec4",Ge.bool,null),ke.mat2x2f=new ke("mat2x2",Ge.f32,null),ke.mat2x3f=new ke("mat2x3",Ge.f32,null),ke.mat2x4f=new ke("mat2x4",Ge.f32,null),ke.mat3x2f=new ke("mat3x2",Ge.f32,null),ke.mat3x3f=new ke("mat3x3",Ge.f32,null),ke.mat3x4f=new ke("mat3x4",Ge.f32,null),ke.mat4x2f=new ke("mat4x2",Ge.f32,null),ke.mat4x3f=new ke("mat4x3",Ge.f32,null),ke.mat4x4f=new ke("mat4x4",Ge.f32,null),ke.mat2x2h=new ke("mat2x2",Ge.f16,null),ke.mat2x3h=new ke("mat2x3",Ge.f16,null),ke.mat2x4h=new ke("mat2x4",Ge.f16,null),ke.mat3x2h=new ke("mat3x2",Ge.f16,null),ke.mat3x3h=new ke("mat3x3",Ge.f16,null),ke.mat3x4h=new ke("mat3x4",Ge.f16,null),ke.mat4x2h=new ke("mat4x2",Ge.f16,null),ke.mat4x3h=new ke("mat4x3",Ge.f16,null),ke.mat4x4h=new ke("mat4x4",Ge.f16,null),ke.mat2x2i=new ke("mat2x2",Ge.i32,null),ke.mat2x3i=new ke("mat2x3",Ge.i32,null),ke.mat2x4i=new ke("mat2x4",Ge.i32,null),ke.mat3x2i=new ke("mat3x2",Ge.i32,null),ke.mat3x3i=new ke("mat3x3",Ge.i32,null),ke.mat3x4i=new ke("mat3x4",Ge.i32,null),ke.mat4x2i=new ke("mat4x2",Ge.i32,null),ke.mat4x3i=new ke("mat4x3",Ge.i32,null),ke.mat4x4i=new ke("mat4x4",Ge.i32,null),ke.mat2x2u=new ke("mat2x2",Ge.u32,null),ke.mat2x3u=new ke("mat2x3",Ge.u32,null),ke.mat2x4u=new ke("mat2x4",Ge.u32,null),ke.mat3x2u=new ke("mat3x2",Ge.u32,null),ke.mat3x3u=new ke("mat3x3",Ge.u32,null),ke.mat3x4u=new ke("mat3x4",Ge.u32,null),ke.mat4x2u=new ke("mat4x2",Ge.u32,null),ke.mat4x3u=new ke("mat4x3",Ge.u32,null),ke.mat4x4u=new ke("mat4x4",Ge.u32,null);class vx extends Ge{constructor(e,n,r,s){super(e),this.storage=n,this.type=r,this.access=s}get astNodeType(){return"pointer"}}class Vp extends Ge{constructor(e,n,r,s){super(e),this.attributes=n,this.format=r,this.count=s}get astNodeType(){return"array"}get isArray(){return!0}}class Cp extends Ge{constructor(e,n,r){super(e),this.format=n,this.access=r}get astNodeType(){return"sampler"}}class io extends Ii{constructor(){super(),this.postfix=null}}class hu extends io{constructor(e){super(),this.value=e}get astNodeType(){return"stringExpr"}toString(){return this.value}constEvaluateString(){return this.value}}class Ao extends io{constructor(e,n){super(),this.type=e,this.args=n}get astNodeType(){return"createExpr"}search(e){if(e(this),this.args)for(const n of this.args)n.search(e)}constEvaluate(e,n){return n&&(n[0]=this.type),e.evalExpression(this,e.context)}}class aT extends io{constructor(e,n){super(),this.cachedReturnValue=null,this.name=e,this.args=n}get astNodeType(){return"callExpr"}setCachedReturnValue(e){this.cachedReturnValue=e}get isBuiltin(){return QV.has(this.name)}constEvaluate(e,n){return e.evalExpression(this,e.context)}search(e){for(const n of this.args)n.search(e);e(this)}}class li extends io{constructor(e){super(),this.name=e}get astNodeType(){return"varExpr"}search(e){e(this),this.postfix&&this.postfix.search(e)}constEvaluate(e,n){return e.evalExpression(this,e.context)}}class uF extends io{constructor(e,n){super(),this.name=e,this.initializer=n}get astNodeType(){return"constExpr"}constEvaluate(e,n){if(this.initializer){const r=e.evalExpression(this.initializer,e.context);return r!==null&&this.postfix?r.getSubData(e,this.postfix,e.context):r}return null}search(e){this.initializer.search(e)}}class Vr extends io{constructor(e,n){super(),this.value=e,this.type=n}get astNodeType(){return"literalExpr"}constEvaluate(e,n){return n!==void 0&&(n[0]=this.type),this.value}get isScalar(){return this.value instanceof Te}get isVector(){return this.value instanceof ae||this.value instanceof It}get scalarValue(){return this.value instanceof Te?this.value.value:(console.error("Value is not scalar."),0)}get vectorValue(){return this.value instanceof ae||this.value instanceof It?this.value.data:(console.error("Value is not a vector or matrix."),new Float32Array(0))}}class fF extends io{constructor(e,n){super(),this.type=e,this.value=n}get astNodeType(){return"bitcastExpr"}search(e){this.value.search(e)}}class xd extends io{constructor(e){super(),this.index=e}search(e){this.index.search(e)}}class dF extends io{constructor(){super()}}class Pr extends dF{constructor(e,n){super(),this.operator=e,this.right=n}get astNodeType(){return"unaryOp"}constEvaluate(e,n){return e.evalExpression(this,e.context)}search(e){this.right.search(e)}}class Wi extends dF{constructor(e,n,r){super(),this.operator=e,this.left=n,this.right=r}get astNodeType(){return"binaryOp"}_getPromotedType(e,n){return e.name===n.name?e:e.name==="f32"||n.name==="f32"?Ge.f32:e.name==="u32"||n.name==="u32"?Ge.u32:Ge.i32}constEvaluate(e,n){return e.evalExpression(this,e.context)}search(e){this.left.search(e),this.right.search(e)}}class hF extends Ii{constructor(e){super(),this.body=e}search(e){e(this),this.searchBlock(this.body,e)}}class _x extends io{constructor(){super()}get astNodeType(){return"default"}}class pF extends hF{constructor(e,n){super(n),this.selectors=e}get astNodeType(){return"case"}search(e){this.searchBlock(this.body,e)}}class mF extends hF{constructor(e){super(e)}get astNodeType(){return"default"}search(e){this.searchBlock(this.body,e)}}class q2 extends Ii{constructor(e,n,r){super(),this.name=e,this.type=n,this.attributes=r}get astNodeType(){return"argument"}}class GJ extends Ii{constructor(e,n){super(),this.condition=e,this.body=n}get astNodeType(){return"elseif"}search(e){this.condition.search(e),this.searchBlock(this.body,e)}}class X2 extends Ii{constructor(e,n,r){super(),this.name=e,this.type=n,this.attributes=r}get astNodeType(){return"member"}}class gF extends Ii{constructor(e,n){super(),this.name=e,this.value=n}get astNodeType(){return"attribute"}}class ji{constructor(e,n){this.parent=null,this.typeInfo=e,this.parent=n,this.id=ji._id++}clone(){throw`Clone: Not implemented for ${this.constructor.name}`}setDataValue(e,n,r,s){console.error(`SetDataValue: Not implemented for ${this.constructor.name}`)}getSubData(e,n,r){return console.error(`GetDataValue: Not implemented for ${this.constructor.name}`),null}toString(){return`<${this.typeInfo.getTypeName()}>`}}ji._id=0;class NS extends ji{constructor(){super(new Ri("void",null),null)}toString(){return"void"}}NS.void=new NS;class kf extends ji{constructor(e){super(new _S("pointer",e.typeInfo,null),null),this.reference=e}clone(){return this}setDataValue(e,n,r,s){this.reference.setDataValue(e,n,r,s)}getSubData(e,n,r){return n?this.reference.getSubData(e,n,r):this}toString(){return`&${this.reference.toString()}`}}class Te extends ji{constructor(e,n,r=null){super(n,r),e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array?this.data=e:this.typeInfo.name==="x32"?e-Math.floor(e)!=0?this.data=new Float32Array([e]):this.data=e>=0?new Uint32Array([e]):new Int32Array([e]):this.typeInfo.name==="i32"||this.typeInfo.name==="bool"?this.data=new Int32Array([e]):this.typeInfo.name==="u32"?this.data=new Uint32Array([e]):this.typeInfo.name==="f32"||this.typeInfo.name==="f16"?this.data=new Float32Array([e]):console.error("ScalarData2: Invalid type",n)}clone(){if(this.data instanceof Float32Array)return new Te(new Float32Array(this.data),this.typeInfo,null);if(this.data instanceof Int32Array)return new Te(new Int32Array(this.data),this.typeInfo,null);if(this.data instanceof Uint32Array)return new Te(new Uint32Array(this.data),this.typeInfo,null);throw"ScalarData: Invalid data type"}get value(){return this.data[0]}set value(e){this.data[0]=e}setDataValue(e,n,r,s){if(r)return void console.error("SetDataValue: Scalar data does not support postfix",r);if(!(n instanceof Te))return void console.error("SetDataValue: Invalid value",n);let o=n.data[0];this.typeInfo.name==="i32"||this.typeInfo.name==="u32"?o=Math.floor(o):this.typeInfo.name==="bool"&&(o=o?1:0),this.data[0]=o}getSubData(e,n,r){return n?(console.error("getSubData: Scalar data does not support postfix",n),null):this}toString(){return`${this.value}`}}function QJ(t,e,n){const r=e.length;return r===2?n==="f32"?new ae(new Float32Array(e),t.getTypeInfo("vec2f")):n==="i32"||n==="bool"?new ae(new Int32Array(e),t.getTypeInfo("vec2i")):n==="u32"?new ae(new Uint32Array(e),t.getTypeInfo("vec2u")):n==="f16"?new ae(new Float32Array(e),t.getTypeInfo("vec2h")):(console.error(`getSubData: Unknown format ${n}`),null):r===3?n==="f32"?new ae(new Float32Array(e),t.getTypeInfo("vec3f")):n==="i32"||n==="bool"?new ae(new Int32Array(e),t.getTypeInfo("vec3i")):n==="u32"?new ae(new Uint32Array(e),t.getTypeInfo("vec3u")):n==="f16"?new ae(new Float32Array(e),t.getTypeInfo("vec3h")):(console.error(`getSubData: Unknown format ${n}`),null):r===4?n==="f32"?new ae(new Float32Array(e),t.getTypeInfo("vec4f")):n==="i32"||n==="bool"?new ae(new Int32Array(e),t.getTypeInfo("vec4i")):n==="u32"?new ae(new Uint32Array(e),t.getTypeInfo("vec4u")):n==="f16"?new ae(new Float32Array(e),t.getTypeInfo("vec4h")):(console.error(`getSubData: Unknown format ${n}`),null):(console.error(`getSubData: Invalid vector size ${e.length}`),null)}class ae extends ji{constructor(e,n,r=null){if(super(n,r),e instanceof Float32Array||e instanceof Uint32Array||e instanceof Int32Array)this.data=e;else{const s=this.typeInfo.name;s==="vec2f"||s==="vec3f"||s==="vec4f"?this.data=new Float32Array(e):s==="vec2i"||s==="vec3i"||s==="vec4i"?this.data=new Int32Array(e):s==="vec2u"||s==="vec3u"||s==="vec4u"?this.data=new Uint32Array(e):s==="vec2h"||s==="vec3h"||s==="vec4h"?this.data=new Float32Array(e):s==="vec2b"||s==="vec3b"||s==="vec4b"?this.data=new Int32Array(e):s==="vec2"||s==="vec3"||s==="vec4"?this.data=new Float32Array(e):console.error(`VectorData: Invalid type ${s}`)}}clone(){if(this.data instanceof Float32Array)return new ae(new Float32Array(this.data),this.typeInfo,null);if(this.data instanceof Int32Array)return new ae(new Int32Array(this.data),this.typeInfo,null);if(this.data instanceof Uint32Array)return new ae(new Uint32Array(this.data),this.typeInfo,null);throw"VectorData: Invalid data type"}setDataValue(e,n,r,s){r instanceof hu?console.error("TODO: Set vector postfix"):n instanceof ae?this.data=n.data:console.error("SetDataValue: Invalid value",n)}getSubData(e,n,r){if(n===null)return this;let s=e.getTypeInfo("f32");if(this.typeInfo instanceof du)s=this.typeInfo.format||s;else{const l=this.typeInfo.name;l==="vec2f"||l==="vec3f"||l==="vec4f"?s=e.getTypeInfo("f32"):l==="vec2i"||l==="vec3i"||l==="vec4i"?s=e.getTypeInfo("i32"):l==="vec2b"||l==="vec3b"||l==="vec4b"?s=e.getTypeInfo("bool"):l==="vec2u"||l==="vec3u"||l==="vec4u"?s=e.getTypeInfo("u32"):l==="vec2h"||l==="vec3h"||l==="vec4h"?s=e.getTypeInfo("f16"):console.error(`GetSubData: Unknown type ${l}`)}let o=this;for(;n!==null&&o!==null;){if(n instanceof xd){const l=n.index;let c=-1;if(l instanceof Vr){if(!(l.value instanceof Te))return console.error(`GetSubData: Invalid array index ${l.value}`),null;c=l.value.value}else{const f=e.evalExpression(l,r);if(!(f instanceof Te))return console.error("GetSubData: Unknown index type",l),null;c=f.value}if(c<0||c>=o.data.length)return console.error("GetSubData: Index out of range",c),null;if(o.data instanceof Float32Array){const f=new Float32Array(o.data.buffer,o.data.byteOffset+4*c,1);return new Te(f,s)}if(o.data instanceof Int32Array){const f=new Int32Array(o.data.buffer,o.data.byteOffset+4*c,1);return new Te(f,s)}if(o.data instanceof Uint32Array){const f=new Uint32Array(o.data.buffer,o.data.byteOffset+4*c,1);return new Te(f,s)}throw"GetSubData: Invalid data type"}if(!(n instanceof hu))return console.error("GetSubData: Unknown postfix",n),null;{const l=n.value.toLowerCase();if(l.length===1){let f=0;if(l==="x"||l==="r")f=0;else if(l==="y"||l==="g")f=1;else if(l==="z"||l==="b")f=2;else{if(l!=="w"&&l!=="a")return console.error(`GetSubData: Unknown member ${l}`),null;f=3}if(this.data instanceof Float32Array){let h=new Float32Array(this.data.buffer,this.data.byteOffset+4*f,1);return new Te(h,s,this)}if(this.data instanceof Int32Array){let h=new Int32Array(this.data.buffer,this.data.byteOffset+4*f,1);return new Te(h,s,this)}if(this.data instanceof Uint32Array){let h=new Uint32Array(this.data.buffer,this.data.byteOffset+4*f,1);return new Te(h,s,this)}}const c=[];for(const f of l)f==="x"||f==="r"?c.push(this.data[0]):f==="y"||f==="g"?c.push(this.data[1]):f==="z"||f==="b"?c.push(this.data[2]):f==="w"||f==="a"?c.push(this.data[3]):console.error(`GetDataValue: Unknown member ${f}`);o=QJ(e,c,s.name)}n=n.postfix}return o}toString(){let e=`${this.data[0]}`;for(let n=1;n<this.data.length;++n)e+=`, ${this.data[n]}`;return e}}class It extends ji{constructor(e,n,r=null){super(n,r),e instanceof Float32Array?this.data=e:this.data=new Float32Array(e)}clone(){return new It(new Float32Array(this.data),this.typeInfo,null)}setDataValue(e,n,r,s){r instanceof hu?console.error("TODO: Set matrix postfix"):n instanceof It?this.data=n.data:console.error("SetDataValue: Invalid value",n)}getSubData(e,n,r){if(n===null)return this;const s=this.typeInfo.name;if(e.getTypeInfo("f32"),this.typeInfo instanceof du)this.typeInfo.format;else if(s.endsWith("f"))e.getTypeInfo("f32");else if(s.endsWith("i"))e.getTypeInfo("i32");else if(s.endsWith("u"))e.getTypeInfo("u32");else{if(!s.endsWith("h"))return console.error(`GetDataValue: Unknown type ${s}`),null;e.getTypeInfo("f16")}if(n instanceof xd){const o=n.index;let l=-1;if(o instanceof Vr){if(!(o.value instanceof Te))return console.error(`GetDataValue: Invalid array index ${o.value}`),null;l=o.value.value}else{const h=e.evalExpression(o,r);if(!(h instanceof Te))return console.error("GetDataValue: Unknown index type",o),null;l=h.value}if(l<0||l>=this.data.length)return console.error("GetDataValue: Index out of range",l),null;const c=s.endsWith("h")?"h":"f";let f;if(s==="mat2x2"||s==="mat2x2f"||s==="mat2x2h"||s==="mat3x2"||s==="mat3x2f"||s==="mat3x2h"||s==="mat4x2"||s==="mat4x2f"||s==="mat4x2h")f=new ae(new Float32Array(this.data.buffer,this.data.byteOffset+2*l*4,2),e.getTypeInfo(`vec2${c}`));else if(s==="mat2x3"||s==="mat2x3f"||s==="mat2x3h"||s==="mat3x3"||s==="mat3x3f"||s==="mat3x3h"||s==="mat4x3"||s==="mat4x3f"||s==="mat4x3h")f=new ae(new Float32Array(this.data.buffer,this.data.byteOffset+3*l*4,3),e.getTypeInfo(`vec3${c}`));else{if(s!=="mat2x4"&&s!=="mat2x4f"&&s!=="mat2x4h"&&s!=="mat3x4"&&s!=="mat3x4f"&&s!=="mat3x4h"&&s!=="mat4x4"&&s!=="mat4x4f"&&s!=="mat4x4h")return console.error(`GetDataValue: Unknown type ${s}`),null;f=new ae(new Float32Array(this.data.buffer,this.data.byteOffset+4*l*4,4),e.getTypeInfo(`vec4${c}`))}return n.postfix?f.getSubData(e,n.postfix,r):f}return console.error("GetDataValue: Invalid postfix",n),null}toString(){let e=`${this.data[0]}`;for(let n=1;n<this.data.length;++n)e+=`, ${this.data[n]}`;return e}}class pr extends ji{constructor(e,n,r=0,s=null){super(n,s),this.buffer=e instanceof ArrayBuffer?e:e.buffer,this.offset=r}clone(){const e=new Uint8Array(new Uint8Array(this.buffer,this.offset,this.typeInfo.size));return new pr(e.buffer,this.typeInfo,0,null)}setDataValue(e,n,r,s){if(n===null)return void console.log("setDataValue: NULL data.");let o=this.offset,l=this.typeInfo;for(;r;){if(r instanceof xd)if(l instanceof Vl){const c=r.index;if(c instanceof Vr){if(!(c.value instanceof Te))return void console.error(`SetDataValue: Invalid index type ${c.value}`);o+=c.value.value*l.stride}else{const f=e.evalExpression(c,s);if(!(f instanceof Te))return void console.error("SetDataValue: Unknown index type",c);o+=f.value*l.stride}l=l.format}else console.error(`SetDataValue: Type ${l.getTypeName()} is not an array`);else{if(!(r instanceof hu))return void console.error("SetDataValue: Unknown postfix type",r);{const c=r.value;if(l instanceof Dl){let f=!1;for(const h of l.members)if(h.name===c){o+=h.offset,l=h.type,f=!0;break}if(!f)return void console.error(`SetDataValue: Member ${c} not found`)}else if(l instanceof Ri){const f=l.getTypeName();let h=0;if(c==="x"||c==="r")h=0;else if(c==="y"||c==="g")h=1;else if(c==="z"||c==="b")h=2;else{if(c!=="w"&&c!=="a")return void console.error(`SetDataValue: Unknown member ${c}`);h=3}if(!(n instanceof Te))return void console.error("SetDataValue: Invalid value",n);const p=n.value;return f==="vec2f"?void(new Float32Array(this.buffer,o,2)[h]=p):f==="vec3f"?void(new Float32Array(this.buffer,o,3)[h]=p):f==="vec4f"?void(new Float32Array(this.buffer,o,4)[h]=p):f==="vec2i"?void(new Int32Array(this.buffer,o,2)[h]=p):f==="vec3i"?void(new Int32Array(this.buffer,o,3)[h]=p):f==="vec4i"?void(new Int32Array(this.buffer,o,4)[h]=p):f==="vec2u"?void(new Uint32Array(this.buffer,o,2)[h]=p):f==="vec3u"?void(new Uint32Array(this.buffer,o,3)[h]=p):f==="vec4u"?void(new Uint32Array(this.buffer,o,4)[h]=p):void console.error(`SetDataValue: Type ${f} is not a struct`)}}}r=r.postfix}this.setData(e,n,l,o,s)}setData(e,n,r,s,o){const l=r.getTypeName();if(l!=="f32"&&l!=="f16")if(l!=="i32"&&l!=="atomic<i32>"&&l!=="x32")if(l!=="u32"&&l!=="atomic<u32>")if(l!=="bool")if(l!=="vec2f"&&l!=="vec2h")if(l!=="vec3f"&&l!=="vec3h")if(l!=="vec4f"&&l!=="vec4h")if(l!=="vec2i")if(l!=="vec3i")if(l!=="vec4i")if(l!=="vec2u")if(l!=="vec3u")if(l!=="vec4u")if(l!=="vec2b")if(l!=="vec3b")if(l!=="vec4b")if(l!=="mat2x2f"&&l!=="mat2x2h")if(l!=="mat2x3f"&&l!=="mat2x3h")if(l!=="mat2x4f"&&l!=="mat2x4h")if(l!=="mat3x2f"&&l!=="mat3x2h")if(l!=="mat3x3f"&&l!=="mat3x3h")if(l!=="mat3x4f"&&l!=="mat3x4h")if(l!=="mat4x2f"&&l!=="mat4x2h")if(l!=="mat4x3f"&&l!=="mat4x3h")if(l!=="mat4x4f"&&l!=="mat4x4h")if(n instanceof pr){if(r===n.typeInfo)return void new Uint8Array(this.buffer,s,n.buffer.byteLength).set(new Uint8Array(n.buffer));console.error("SetDataValue: Type mismatch",l,n.typeInfo.getTypeName())}else console.error(`SetData: Unknown type ${l}`);else{const c=new Float32Array(this.buffer,s,16);n instanceof It?(c[0]=n.data[0],c[1]=n.data[1],c[2]=n.data[2],c[3]=n.data[3],c[4]=n.data[4],c[5]=n.data[5],c[6]=n.data[6],c[7]=n.data[7],c[8]=n.data[8],c[9]=n.data[9],c[10]=n.data[10],c[11]=n.data[11],c[12]=n.data[12],c[13]=n.data[13],c[14]=n.data[14],c[15]=n.data[15]):(c[0]=n[0],c[1]=n[1],c[2]=n[2],c[3]=n[3],c[4]=n[4],c[5]=n[5],c[6]=n[6],c[7]=n[7],c[8]=n[8],c[9]=n[9],c[10]=n[10],c[11]=n[11],c[12]=n[12],c[13]=n[13],c[14]=n[14],c[15]=n[15])}else{const c=new Float32Array(this.buffer,s,12);n instanceof It?(c[0]=n.data[0],c[1]=n.data[1],c[2]=n.data[2],c[3]=n.data[3],c[4]=n.data[4],c[5]=n.data[5],c[6]=n.data[6],c[7]=n.data[7],c[8]=n.data[8],c[9]=n.data[9],c[10]=n.data[10],c[11]=n.data[11]):(c[0]=n[0],c[1]=n[1],c[2]=n[2],c[3]=n[3],c[4]=n[4],c[5]=n[5],c[6]=n[6],c[7]=n[7],c[8]=n[8],c[9]=n[9],c[10]=n[10],c[11]=n[11])}else{const c=new Float32Array(this.buffer,s,8);n instanceof It?(c[0]=n.data[0],c[1]=n.data[1],c[2]=n.data[2],c[3]=n.data[3],c[4]=n.data[4],c[5]=n.data[5],c[6]=n.data[6],c[7]=n.data[7]):(c[0]=n[0],c[1]=n[1],c[2]=n[2],c[3]=n[3],c[4]=n[4],c[5]=n[5],c[6]=n[6],c[7]=n[7])}else{const c=new Float32Array(this.buffer,s,12);n instanceof It?(c[0]=n.data[0],c[1]=n.data[1],c[2]=n.data[2],c[3]=n.data[3],c[4]=n.data[4],c[5]=n.data[5],c[6]=n.data[6],c[7]=n.data[7],c[8]=n.data[8],c[9]=n.data[9],c[10]=n.data[10],c[11]=n.data[11]):(c[0]=n[0],c[1]=n[1],c[2]=n[2],c[3]=n[3],c[4]=n[4],c[5]=n[5],c[6]=n[6],c[7]=n[7],c[8]=n[8],c[9]=n[9],c[10]=n[10],c[11]=n[11])}else{const c=new Float32Array(this.buffer,s,9);n instanceof It?(c[0]=n.data[0],c[1]=n.data[1],c[2]=n.data[2],c[3]=n.data[3],c[4]=n.data[4],c[5]=n.data[5],c[6]=n.data[6],c[7]=n.data[7],c[8]=n.data[8]):(c[0]=n[0],c[1]=n[1],c[2]=n[2],c[3]=n[3],c[4]=n[4],c[5]=n[5],c[6]=n[6],c[7]=n[7],c[8]=n[8])}else{const c=new Float32Array(this.buffer,s,6);n instanceof It?(c[0]=n.data[0],c[1]=n.data[1],c[2]=n.data[2],c[3]=n.data[3],c[4]=n.data[4],c[5]=n.data[5]):(c[0]=n[0],c[1]=n[1],c[2]=n[2],c[3]=n[3],c[4]=n[4],c[5]=n[5])}else{const c=new Float32Array(this.buffer,s,8);n instanceof It?(c[0]=n.data[0],c[1]=n.data[1],c[2]=n.data[2],c[3]=n.data[3],c[4]=n.data[4],c[5]=n.data[5],c[6]=n.data[6],c[7]=n.data[7]):(c[0]=n[0],c[1]=n[1],c[2]=n[2],c[3]=n[3],c[4]=n[4],c[5]=n[5],c[6]=n[6],c[7]=n[7])}else{const c=new Float32Array(this.buffer,s,6);n instanceof It?(c[0]=n.data[0],c[1]=n.data[1],c[2]=n.data[2],c[3]=n.data[3],c[4]=n.data[4],c[5]=n.data[5]):(c[0]=n[0],c[1]=n[1],c[2]=n[2],c[3]=n[3],c[4]=n[4],c[5]=n[5])}else{const c=new Float32Array(this.buffer,s,4);n instanceof It?(c[0]=n.data[0],c[1]=n.data[1],c[2]=n.data[2],c[3]=n.data[3]):(c[0]=n[0],c[1]=n[1],c[2]=n[2],c[3]=n[3])}else{const c=new Uint32Array(this.buffer,s,4);n instanceof ae?(c[0]=n.data[0],c[1]=n.data[1],c[2]=n.data[2],c[3]=n.data[3]):(c[0]=n[0],c[1]=n[1],c[2]=n[2],c[3]=n[3])}else{const c=new Uint32Array(this.buffer,s,3);n instanceof ae?(c[0]=n.data[0],c[1]=n.data[1],c[2]=n.data[2]):(c[0]=n[0],c[1]=n[1],c[2]=n[2])}else{const c=new Uint32Array(this.buffer,s,2);n instanceof ae?(c[0]=n.data[0],c[1]=n.data[1]):(c[0]=n[0],c[1]=n[1])}else{const c=new Uint32Array(this.buffer,s,4);n instanceof ae?(c[0]=n.data[0],c[1]=n.data[1],c[2]=n.data[2],c[3]=n.data[3]):(c[0]=n[0],c[1]=n[1],c[2]=n[2],c[3]=n[3])}else{const c=new Uint32Array(this.buffer,s,3);n instanceof ae?(c[0]=n.data[0],c[1]=n.data[1],c[2]=n.data[2]):(c[0]=n[0],c[1]=n[1],c[2]=n[2])}else{const c=new Uint32Array(this.buffer,s,2);n instanceof ae?(c[0]=n.data[0],c[1]=n.data[1]):(c[0]=n[0],c[1]=n[1])}else{const c=new Int32Array(this.buffer,s,4);n instanceof ae?(c[0]=n.data[0],c[1]=n.data[1],c[2]=n.data[2],c[3]=n.data[3]):(c[0]=n[0],c[1]=n[1],c[2]=n[2],c[3]=n[3])}else{const c=new Int32Array(this.buffer,s,3);n instanceof ae?(c[0]=n.data[0],c[1]=n.data[1],c[2]=n.data[2]):(c[0]=n[0],c[1]=n[1],c[2]=n[2])}else{const c=new Int32Array(this.buffer,s,2);n instanceof ae?(c[0]=n.data[0],c[1]=n.data[1]):(c[0]=n[0],c[1]=n[1])}else{const c=new Float32Array(this.buffer,s,4);n instanceof ae?(c[0]=n.data[0],c[1]=n.data[1],c[2]=n.data[2],c[3]=n.data[3]):(c[0]=n[0],c[1]=n[1],c[2]=n[2],c[3]=n[3])}else{const c=new Float32Array(this.buffer,s,3);n instanceof ae?(c[0]=n.data[0],c[1]=n.data[1],c[2]=n.data[2]):(c[0]=n[0],c[1]=n[1],c[2]=n[2])}else{const c=new Float32Array(this.buffer,s,2);n instanceof ae?(c[0]=n.data[0],c[1]=n.data[1]):(c[0]=n[0],c[1]=n[1])}else n instanceof Te&&(new Int32Array(this.buffer,s,1)[0]=n.value);else n instanceof Te&&(new Uint32Array(this.buffer,s,1)[0]=n.value);else n instanceof Te&&(new Int32Array(this.buffer,s,1)[0]=n.value);else n instanceof Te&&(new Float32Array(this.buffer,s,1)[0]=n.value)}getSubData(e,n,r){var s,o,l;if(n===null)return this;let c=this.offset,f=this.typeInfo;for(;n;){if(n instanceof xd){const p=n.index,m=p instanceof io?e.evalExpression(p,r):p;let b=0;if(m instanceof Te?b=m.value:typeof m=="number"?b=m:console.error("GetDataValue: Invalid index type",p),f instanceof Vl)c+=b*f.stride,f=f.format;else{const _=f.getTypeName();_==="mat4x4"||_==="mat4x4f"||_==="mat4x4h"?(c+=16*b,f=e.getTypeInfo("vec4f")):console.error(`getDataValue: Type ${f.getTypeName()} is not an array`)}}else{if(!(n instanceof hu))return console.error("GetDataValue: Unknown postfix type",n),null;{const p=n.value;if(f instanceof Dl){let m=!1;for(const b of f.members)if(b.name===p){c+=b.offset,f=b.type,m=!0;break}if(!m)return console.error(`GetDataValue: Member ${p} not found`),null}else if(f instanceof Ri){const m=f.getTypeName();if(m==="vec2f"||m==="vec3f"||m==="vec4f"||m==="vec2i"||m==="vec3i"||m==="vec4i"||m==="vec2u"||m==="vec3u"||m==="vec4u"||m==="vec2b"||m==="vec3b"||m==="vec4b"||m==="vec2h"||m==="vec3h"||m==="vec4h"||m==="vec2"||m==="vec3"||m==="vec4"){if(p.length>0&&p.length<5){let b="f";const _=[];for(let E=0;E<p.length;++E){const T=p[E].toLowerCase();let C=0;if(T==="x"||T==="r")C=0;else if(T==="y"||T==="g")C=1;else if(T==="z"||T==="b")C=2;else{if(T!=="w"&&T!=="a")return console.error(`Unknown member ${p}`),null;C=3}if(p.length===1){if(m.endsWith("f"))return this.buffer.byteLength<c+4*C+4?(console.log("Insufficient buffer data"),null):new Te(new Float32Array(this.buffer,c+4*C,1),e.getTypeInfo("f32"),this);if(m.endsWith("h"))return new Te(new Float32Array(this.buffer,c+4*C,1),e.getTypeInfo("f16"),this);if(m.endsWith("i"))return new Te(new Int32Array(this.buffer,c+4*C,1),e.getTypeInfo("i32"),this);if(m.endsWith("b"))return new Te(new Int32Array(this.buffer,c+4*C,1),e.getTypeInfo("bool"),this);if(m.endsWith("u"))return new Te(new Uint32Array(this.buffer,c+4*C,1),e.getTypeInfo("i32"),this)}if(m==="vec2f")_.push(new Float32Array(this.buffer,c,2)[C]);else if(m==="vec3f"){if(c+12>=this.buffer.byteLength)return console.log("Insufficient buffer data"),null;const D=new Float32Array(this.buffer,c,3);_.push(D[C])}else if(m==="vec4f")_.push(new Float32Array(this.buffer,c,4)[C]);else if(m==="vec2i")b="i",_.push(new Int32Array(this.buffer,c,2)[C]);else if(m==="vec3i")b="i",_.push(new Int32Array(this.buffer,c,3)[C]);else if(m==="vec4i")b="i",_.push(new Int32Array(this.buffer,c,4)[C]);else if(m==="vec2u"){b="u";const D=new Uint32Array(this.buffer,c,2);_.push(D[C])}else m==="vec3u"?(b="u",_.push(new Uint32Array(this.buffer,c,3)[C])):m==="vec4u"&&(b="u",_.push(new Uint32Array(this.buffer,c,4)[C]))}return _.length===2?f=e.getTypeInfo(`vec2${b}`):_.length===3?f=e.getTypeInfo(`vec3${b}`):_.length===4?f=e.getTypeInfo(`vec4${b}`):console.error(`GetDataValue: Invalid vector length ${_.length}`),new ae(_,f,null)}return console.error(`GetDataValue: Unknown member ${p}`),null}return console.error(`GetDataValue: Type ${m} is not a struct`),null}}}n=n.postfix}const h=f.getTypeName();return h==="f32"?new Te(new Float32Array(this.buffer,c,1),f,this):h==="i32"?new Te(new Int32Array(this.buffer,c,1),f,this):h==="u32"?new Te(new Uint32Array(this.buffer,c,1),f,this):h==="vec2f"?new ae(new Float32Array(this.buffer,c,2),f,this):h==="vec3f"?new ae(new Float32Array(this.buffer,c,3),f,this):h==="vec4f"?new ae(new Float32Array(this.buffer,c,4),f,this):h==="vec2i"?new ae(new Int32Array(this.buffer,c,2),f,this):h==="vec3i"?new ae(new Int32Array(this.buffer,c,3),f,this):h==="vec4i"?new ae(new Int32Array(this.buffer,c,4),f,this):h==="vec2u"?new ae(new Uint32Array(this.buffer,c,2),f,this):h==="vec3u"?new ae(new Uint32Array(this.buffer,c,3),f,this):h==="vec4u"?new ae(new Uint32Array(this.buffer,c,4),f,this):f instanceof du&&f.name==="atomic"?((s=f.format)===null||s===void 0?void 0:s.name)==="u32"?new Te(new Uint32Array(this.buffer,c,1)[0],f.format,this):((o=f.format)===null||o===void 0?void 0:o.name)==="i32"?new Te(new Int32Array(this.buffer,c,1)[0],f.format,this):(console.error(`GetDataValue: Invalid atomic format ${(l=f.format)===null||l===void 0?void 0:l.name}`),null):new pr(this.buffer,f,c,this)}toString(){let e="";if(this.typeInfo instanceof Vl)if(this.typeInfo.format.name==="f32"){const n=new Float32Array(this.buffer,this.offset);e=`[${n[0]}`;for(let r=1;r<n.length;++r)e+=`, ${n[r]}`}else if(this.typeInfo.format.name==="i32"){const n=new Int32Array(this.buffer,this.offset);e=`[${n[0]}`;for(let r=1;r<n.length;++r)e+=`, ${n[r]}`}else if(this.typeInfo.format.name==="u32"){const n=new Uint32Array(this.buffer,this.offset);e=`[${n[0]}`;for(let r=1;r<n.length;++r)e+=`, ${n[r]}`}else if(this.typeInfo.format.name==="vec2f"){const n=new Float32Array(this.buffer,this.offset);e=`[${n[0]}, ${n[1]}]`;for(let r=1;r<n.length/2;++r)e+=`, [${n[2*r]}, ${n[2*r+1]}]`}else if(this.typeInfo.format.name==="vec3f"){const n=new Float32Array(this.buffer,this.offset);e=`[${n[0]}, ${n[1]}, ${n[2]}]`;for(let r=4;r<n.length;r+=4)e+=`, [${n[r]}, ${n[r+1]}, ${n[r+2]}]`}else if(this.typeInfo.format.name==="vec4f"){const n=new Float32Array(this.buffer,this.offset);e=`[${n[0]}, ${n[1]}, ${n[2]}, ${n[3]}]`;for(let r=4;r<n.length;r+=4)e+=`, [${n[r]}, ${n[r+1]}, ${n[r+2]}, ${n[r+3]}]`}else e="[...]";else this.typeInfo instanceof Dl?e+="{...}":e="[...]";return e}}class ya extends ji{constructor(e,n,r,s){super(n,null),this.data=e,this.descriptor=r,this.view=s}clone(){return new ya(this.data,this.typeInfo,this.descriptor,this.view)}get width(){var e,n;const r=this.descriptor.size;return r instanceof Array&&r.length>0?(e=r[0])!==null&&e!==void 0?e:0:r instanceof Object&&(n=r.width)!==null&&n!==void 0?n:0}get height(){var e,n;const r=this.descriptor.size;return r instanceof Array&&r.length>1?(e=r[1])!==null&&e!==void 0?e:0:r instanceof Object&&(n=r.height)!==null&&n!==void 0?n:0}get depthOrArrayLayers(){var e,n;const r=this.descriptor.size;return r instanceof Array&&r.length>2?(e=r[2])!==null&&e!==void 0?e:0:r instanceof Object&&(n=r.depthOrArrayLayers)!==null&&n!==void 0?n:0}get format(){var e;return this.descriptor&&(e=this.descriptor.format)!==null&&e!==void 0?e:"rgba8unorm"}get sampleCount(){var e;return this.descriptor&&(e=this.descriptor.sampleCount)!==null&&e!==void 0?e:1}get mipLevelCount(){var e;return this.descriptor&&(e=this.descriptor.mipLevelCount)!==null&&e!==void 0?e:1}get dimension(){var e;return this.descriptor&&(e=this.descriptor.dimension)!==null&&e!==void 0?e:"2d"}getMipLevelSize(e){if(e>=this.mipLevelCount)return[0,0,0];const n=[this.width,this.height,this.depthOrArrayLayers];for(let r=0;r<n.length;++r)n[r]=Math.max(1,n[r]>>e);return n}get texelByteSize(){const e=this.format,n=M1[e];return n?n.isDepthStencil?4:n.bytesPerBlock:0}get bytesPerRow(){return this.width*this.texelByteSize}get isDepthStencil(){const e=this.format,n=M1[e];return!!n&&n.isDepthStencil}getGpuSize(){const e=this.format,n=M1[e],r=this.width;if(!e||r<=0||!n)return-1;const s=this.height,o=this.depthOrArrayLayers,l=this.dimension;return r/n.blockWidth*(l==="1d"?1:s/n.blockHeight)*n.bytesPerBlock*o}getPixel(e,n,r=0,s=0){const o=this.texelByteSize,l=this.bytesPerRow,c=this.height,f=this.data[s];return qJ(new Uint8Array(f),e,n,r,s,c,l,o,this.format)}setPixel(e,n,r,s,o){const l=this.texelByteSize,c=this.bytesPerRow,f=this.height,h=this.data[s];(function(p,m,b,_,E,T,C,D,M,P){const U=_*(C>>=E)*(T>>=E)+b*C+m*D;switch(M){case"r8unorm":return void kn(p,U,"8unorm",1,P);case"r8snorm":return void kn(p,U,"8snorm",1,P);case"r8uint":return void kn(p,U,"8uint",1,P);case"r8sint":return void kn(p,U,"8sint",1,P);case"rg8unorm":return void kn(p,U,"8unorm",2,P);case"rg8snorm":return void kn(p,U,"8snorm",2,P);case"rg8uint":return void kn(p,U,"8uint",2,P);case"rg8sint":return void kn(p,U,"8sint",2,P);case"rgba8unorm-srgb":case"rgba8unorm":case"bgra8unorm-srgb":case"bgra8unorm":return void kn(p,U,"8unorm",4,P);case"rgba8snorm":return void kn(p,U,"8snorm",4,P);case"rgba8uint":return void kn(p,U,"8uint",4,P);case"rgba8sint":return void kn(p,U,"8sint",4,P);case"r16uint":return void kn(p,U,"16uint",1,P);case"r16sint":return void kn(p,U,"16sint",1,P);case"r16float":return void kn(p,U,"16float",1,P);case"rg16uint":return void kn(p,U,"16uint",2,P);case"rg16sint":return void kn(p,U,"16sint",2,P);case"rg16float":return void kn(p,U,"16float",2,P);case"rgba16uint":return void kn(p,U,"16uint",4,P);case"rgba16sint":return void kn(p,U,"16sint",4,P);case"rgba16float":return void kn(p,U,"16float",4,P);case"r32uint":return void kn(p,U,"32uint",1,P);case"r32sint":return void kn(p,U,"32sint",1,P);case"depth16unorm":case"depth24plus":case"depth24plus-stencil8":case"depth32float":case"depth32float-stencil8":case"r32float":return void kn(p,U,"32float",1,P);case"rg32uint":return void kn(p,U,"32uint",2,P);case"rg32sint":return void kn(p,U,"32sint",2,P);case"rg32float":return void kn(p,U,"32float",2,P);case"rgba32uint":return void kn(p,U,"32uint",4,P);case"rgba32sint":return void kn(p,U,"32sint",4,P);case"rgba32float":return void kn(p,U,"32float",4,P);case"rg11b10ufloat":console.error("TODO: rg11b10ufloat not supported for writing")}})(new Uint8Array(h),e,n,r,s,f,c,l,this.format,o)}}(t=>{t[t.token=0]="token",t[t.keyword=1]="keyword",t[t.reserved=2]="reserved"})(Ae||(Ae={}));class Ce{constructor(e,n,r){this.name=e,this.type=n,this.rule=r}toString(){return this.name}}class ee{}De=ee,ee.none=new Ce("",Ae.reserved,""),ee.eof=new Ce("EOF",Ae.token,""),ee.reserved={asm:new Ce("asm",Ae.reserved,"asm"),bf16:new Ce("bf16",Ae.reserved,"bf16"),do:new Ce("do",Ae.reserved,"do"),enum:new Ce("enum",Ae.reserved,"enum"),f16:new Ce("f16",Ae.reserved,"f16"),f64:new Ce("f64",Ae.reserved,"f64"),handle:new Ce("handle",Ae.reserved,"handle"),i8:new Ce("i8",Ae.reserved,"i8"),i16:new Ce("i16",Ae.reserved,"i16"),i64:new Ce("i64",Ae.reserved,"i64"),mat:new Ce("mat",Ae.reserved,"mat"),premerge:new Ce("premerge",Ae.reserved,"premerge"),regardless:new Ce("regardless",Ae.reserved,"regardless"),typedef:new Ce("typedef",Ae.reserved,"typedef"),u8:new Ce("u8",Ae.reserved,"u8"),u16:new Ce("u16",Ae.reserved,"u16"),u64:new Ce("u64",Ae.reserved,"u64"),unless:new Ce("unless",Ae.reserved,"unless"),using:new Ce("using",Ae.reserved,"using"),vec:new Ce("vec",Ae.reserved,"vec"),void:new Ce("void",Ae.reserved,"void")},ee.keywords={array:new Ce("array",Ae.keyword,"array"),atomic:new Ce("atomic",Ae.keyword,"atomic"),bool:new Ce("bool",Ae.keyword,"bool"),f32:new Ce("f32",Ae.keyword,"f32"),i32:new Ce("i32",Ae.keyword,"i32"),mat2x2:new Ce("mat2x2",Ae.keyword,"mat2x2"),mat2x3:new Ce("mat2x3",Ae.keyword,"mat2x3"),mat2x4:new Ce("mat2x4",Ae.keyword,"mat2x4"),mat3x2:new Ce("mat3x2",Ae.keyword,"mat3x2"),mat3x3:new Ce("mat3x3",Ae.keyword,"mat3x3"),mat3x4:new Ce("mat3x4",Ae.keyword,"mat3x4"),mat4x2:new Ce("mat4x2",Ae.keyword,"mat4x2"),mat4x3:new Ce("mat4x3",Ae.keyword,"mat4x3"),mat4x4:new Ce("mat4x4",Ae.keyword,"mat4x4"),ptr:new Ce("ptr",Ae.keyword,"ptr"),sampler:new Ce("sampler",Ae.keyword,"sampler"),sampler_comparison:new Ce("sampler_comparison",Ae.keyword,"sampler_comparison"),struct:new Ce("struct",Ae.keyword,"struct"),texture_1d:new Ce("texture_1d",Ae.keyword,"texture_1d"),texture_2d:new Ce("texture_2d",Ae.keyword,"texture_2d"),texture_2d_array:new Ce("texture_2d_array",Ae.keyword,"texture_2d_array"),texture_3d:new Ce("texture_3d",Ae.keyword,"texture_3d"),texture_cube:new Ce("texture_cube",Ae.keyword,"texture_cube"),texture_cube_array:new Ce("texture_cube_array",Ae.keyword,"texture_cube_array"),texture_multisampled_2d:new Ce("texture_multisampled_2d",Ae.keyword,"texture_multisampled_2d"),texture_storage_1d:new Ce("texture_storage_1d",Ae.keyword,"texture_storage_1d"),texture_storage_2d:new Ce("texture_storage_2d",Ae.keyword,"texture_storage_2d"),texture_storage_2d_array:new Ce("texture_storage_2d_array",Ae.keyword,"texture_storage_2d_array"),texture_storage_3d:new Ce("texture_storage_3d",Ae.keyword,"texture_storage_3d"),texture_depth_2d:new Ce("texture_depth_2d",Ae.keyword,"texture_depth_2d"),texture_depth_2d_array:new Ce("texture_depth_2d_array",Ae.keyword,"texture_depth_2d_array"),texture_depth_cube:new Ce("texture_depth_cube",Ae.keyword,"texture_depth_cube"),texture_depth_cube_array:new Ce("texture_depth_cube_array",Ae.keyword,"texture_depth_cube_array"),texture_depth_multisampled_2d:new Ce("texture_depth_multisampled_2d",Ae.keyword,"texture_depth_multisampled_2d"),texture_external:new Ce("texture_external",Ae.keyword,"texture_external"),u32:new Ce("u32",Ae.keyword,"u32"),vec2:new Ce("vec2",Ae.keyword,"vec2"),vec3:new Ce("vec3",Ae.keyword,"vec3"),vec4:new Ce("vec4",Ae.keyword,"vec4"),bitcast:new Ce("bitcast",Ae.keyword,"bitcast"),block:new Ce("block",Ae.keyword,"block"),break:new Ce("break",Ae.keyword,"break"),case:new Ce("case",Ae.keyword,"case"),continue:new Ce("continue",Ae.keyword,"continue"),continuing:new Ce("continuing",Ae.keyword,"continuing"),default:new Ce("default",Ae.keyword,"default"),diagnostic:new Ce("diagnostic",Ae.keyword,"diagnostic"),discard:new Ce("discard",Ae.keyword,"discard"),else:new Ce("else",Ae.keyword,"else"),enable:new Ce("enable",Ae.keyword,"enable"),fallthrough:new Ce("fallthrough",Ae.keyword,"fallthrough"),false:new Ce("false",Ae.keyword,"false"),fn:new Ce("fn",Ae.keyword,"fn"),for:new Ce("for",Ae.keyword,"for"),function:new Ce("function",Ae.keyword,"function"),if:new Ce("if",Ae.keyword,"if"),let:new Ce("let",Ae.keyword,"let"),const:new Ce("const",Ae.keyword,"const"),loop:new Ce("loop",Ae.keyword,"loop"),while:new Ce("while",Ae.keyword,"while"),private:new Ce("private",Ae.keyword,"private"),read:new Ce("read",Ae.keyword,"read"),read_write:new Ce("read_write",Ae.keyword,"read_write"),return:new Ce("return",Ae.keyword,"return"),requires:new Ce("requires",Ae.keyword,"requires"),storage:new Ce("storage",Ae.keyword,"storage"),switch:new Ce("switch",Ae.keyword,"switch"),true:new Ce("true",Ae.keyword,"true"),alias:new Ce("alias",Ae.keyword,"alias"),type:new Ce("type",Ae.keyword,"type"),uniform:new Ce("uniform",Ae.keyword,"uniform"),var:new Ce("var",Ae.keyword,"var"),override:new Ce("override",Ae.keyword,"override"),workgroup:new Ce("workgroup",Ae.keyword,"workgroup"),write:new Ce("write",Ae.keyword,"write"),r8unorm:new Ce("r8unorm",Ae.keyword,"r8unorm"),r8snorm:new Ce("r8snorm",Ae.keyword,"r8snorm"),r8uint:new Ce("r8uint",Ae.keyword,"r8uint"),r8sint:new Ce("r8sint",Ae.keyword,"r8sint"),r16uint:new Ce("r16uint",Ae.keyword,"r16uint"),r16sint:new Ce("r16sint",Ae.keyword,"r16sint"),r16float:new Ce("r16float",Ae.keyword,"r16float"),rg8unorm:new Ce("rg8unorm",Ae.keyword,"rg8unorm"),rg8snorm:new Ce("rg8snorm",Ae.keyword,"rg8snorm"),rg8uint:new Ce("rg8uint",Ae.keyword,"rg8uint"),rg8sint:new Ce("rg8sint",Ae.keyword,"rg8sint"),r32uint:new Ce("r32uint",Ae.keyword,"r32uint"),r32sint:new Ce("r32sint",Ae.keyword,"r32sint"),r32float:new Ce("r32float",Ae.keyword,"r32float"),rg16uint:new Ce("rg16uint",Ae.keyword,"rg16uint"),rg16sint:new Ce("rg16sint",Ae.keyword,"rg16sint"),rg16float:new Ce("rg16float",Ae.keyword,"rg16float"),rgba8unorm:new Ce("rgba8unorm",Ae.keyword,"rgba8unorm"),rgba8unorm_srgb:new Ce("rgba8unorm_srgb",Ae.keyword,"rgba8unorm_srgb"),rgba8snorm:new Ce("rgba8snorm",Ae.keyword,"rgba8snorm"),rgba8uint:new Ce("rgba8uint",Ae.keyword,"rgba8uint"),rgba8sint:new Ce("rgba8sint",Ae.keyword,"rgba8sint"),bgra8unorm:new Ce("bgra8unorm",Ae.keyword,"bgra8unorm"),bgra8unorm_srgb:new Ce("bgra8unorm_srgb",Ae.keyword,"bgra8unorm_srgb"),rgb10a2unorm:new Ce("rgb10a2unorm",Ae.keyword,"rgb10a2unorm"),rg11b10float:new Ce("rg11b10float",Ae.keyword,"rg11b10float"),rg32uint:new Ce("rg32uint",Ae.keyword,"rg32uint"),rg32sint:new Ce("rg32sint",Ae.keyword,"rg32sint"),rg32float:new Ce("rg32float",Ae.keyword,"rg32float"),rgba16uint:new Ce("rgba16uint",Ae.keyword,"rgba16uint"),rgba16sint:new Ce("rgba16sint",Ae.keyword,"rgba16sint"),rgba16float:new Ce("rgba16float",Ae.keyword,"rgba16float"),rgba32uint:new Ce("rgba32uint",Ae.keyword,"rgba32uint"),rgba32sint:new Ce("rgba32sint",Ae.keyword,"rgba32sint"),rgba32float:new Ce("rgba32float",Ae.keyword,"rgba32float"),static_assert:new Ce("static_assert",Ae.keyword,"static_assert")},ee.tokens={decimal_float_literal:new Ce("decimal_float_literal",Ae.token,/((-?[0-9]*\.[0-9]+|-?[0-9]+\.[0-9]*)((e|E)(\+|-)?[0-9]+)?[fh]?)|(-?[0-9]+(e|E)(\+|-)?[0-9]+[fh]?)|(-?[0-9]+[fh])/),hex_float_literal:new Ce("hex_float_literal",Ae.token,/-?0x((([0-9a-fA-F]*\.[0-9a-fA-F]+|[0-9a-fA-F]+\.[0-9a-fA-F]*)((p|P)(\+|-)?[0-9]+[fh]?)?)|([0-9a-fA-F]+(p|P)(\+|-)?[0-9]+[fh]?))/),int_literal:new Ce("int_literal",Ae.token,/-?0x[0-9a-fA-F]+|0i?|-?[1-9][0-9]*i?/),uint_literal:new Ce("uint_literal",Ae.token,/0x[0-9a-fA-F]+u|0u|[1-9][0-9]*u/),name:new Ce("name",Ae.token,/([_\p{XID_Start}][\p{XID_Continue}]+)|([\p{XID_Start}])/u),ident:new Ce("ident",Ae.token,/[_a-zA-Z][0-9a-zA-Z_]*/),and:new Ce("and",Ae.token,"&"),and_and:new Ce("and_and",Ae.token,"&&"),arrow:new Ce("arrow ",Ae.token,"->"),attr:new Ce("attr",Ae.token,"@"),forward_slash:new Ce("forward_slash",Ae.token,"/"),bang:new Ce("bang",Ae.token,"!"),bracket_left:new Ce("bracket_left",Ae.token,"["),bracket_right:new Ce("bracket_right",Ae.token,"]"),brace_left:new Ce("brace_left",Ae.token,"{"),brace_right:new Ce("brace_right",Ae.token,"}"),colon:new Ce("colon",Ae.token,":"),comma:new Ce("comma",Ae.token,","),equal:new Ce("equal",Ae.token,"="),equal_equal:new Ce("equal_equal",Ae.token,"=="),not_equal:new Ce("not_equal",Ae.token,"!="),greater_than:new Ce("greater_than",Ae.token,">"),greater_than_equal:new Ce("greater_than_equal",Ae.token,">="),shift_right:new Ce("shift_right",Ae.token,">>"),less_than:new Ce("less_than",Ae.token,"<"),less_than_equal:new Ce("less_than_equal",Ae.token,"<="),shift_left:new Ce("shift_left",Ae.token,"<<"),modulo:new Ce("modulo",Ae.token,"%"),minus:new Ce("minus",Ae.token,"-"),minus_minus:new Ce("minus_minus",Ae.token,"--"),period:new Ce("period",Ae.token,"."),plus:new Ce("plus",Ae.token,"+"),plus_plus:new Ce("plus_plus",Ae.token,"++"),or:new Ce("or",Ae.token,"|"),or_or:new Ce("or_or",Ae.token,"||"),paren_left:new Ce("paren_left",Ae.token,"("),paren_right:new Ce("paren_right",Ae.token,")"),semicolon:new Ce("semicolon",Ae.token,";"),star:new Ce("star",Ae.token,"*"),tilde:new Ce("tilde",Ae.token,"~"),underscore:new Ce("underscore",Ae.token,"_"),xor:new Ce("xor",Ae.token,"^"),plus_equal:new Ce("plus_equal",Ae.token,"+="),minus_equal:new Ce("minus_equal",Ae.token,"-="),times_equal:new Ce("times_equal",Ae.token,"*="),division_equal:new Ce("division_equal",Ae.token,"/="),modulo_equal:new Ce("modulo_equal",Ae.token,"%="),and_equal:new Ce("and_equal",Ae.token,"&="),or_equal:new Ce("or_equal",Ae.token,"|="),xor_equal:new Ce("xor_equal",Ae.token,"^="),shift_right_equal:new Ce("shift_right_equal",Ae.token,">>="),shift_left_equal:new Ce("shift_left_equal",Ae.token,"<<=")},ee.simpleTokens={"@":De.tokens.attr,"{":De.tokens.brace_left,"}":De.tokens.brace_right,":":De.tokens.colon,",":De.tokens.comma,"(":De.tokens.paren_left,")":De.tokens.paren_right,";":De.tokens.semicolon},ee.literalTokens={"&":De.tokens.and,"&&":De.tokens.and_and,"->":De.tokens.arrow,"/":De.tokens.forward_slash,"!":De.tokens.bang,"[":De.tokens.bracket_left,"]":De.tokens.bracket_right,"=":De.tokens.equal,"==":De.tokens.equal_equal,"!=":De.tokens.not_equal,">":De.tokens.greater_than,">=":De.tokens.greater_than_equal,">>":De.tokens.shift_right,"<":De.tokens.less_than,"<=":De.tokens.less_than_equal,"<<":De.tokens.shift_left,"%":De.tokens.modulo,"-":De.tokens.minus,"--":De.tokens.minus_minus,".":De.tokens.period,"+":De.tokens.plus,"++":De.tokens.plus_plus,"|":De.tokens.or,"||":De.tokens.or_or,"*":De.tokens.star,"~":De.tokens.tilde,_:De.tokens.underscore,"^":De.tokens.xor,"+=":De.tokens.plus_equal,"-=":De.tokens.minus_equal,"*=":De.tokens.times_equal,"/=":De.tokens.division_equal,"%=":De.tokens.modulo_equal,"&=":De.tokens.and_equal,"|=":De.tokens.or_equal,"^=":De.tokens.xor_equal,">>=":De.tokens.shift_right_equal,"<<=":De.tokens.shift_left_equal},ee.regexTokens={decimal_float_literal:De.tokens.decimal_float_literal,hex_float_literal:De.tokens.hex_float_literal,int_literal:De.tokens.int_literal,uint_literal:De.tokens.uint_literal,ident:De.tokens.ident},ee.storage_class=[De.keywords.function,De.keywords.private,De.keywords.workgroup,De.keywords.uniform,De.keywords.storage],ee.access_mode=[De.keywords.read,De.keywords.write,De.keywords.read_write],ee.sampler_type=[De.keywords.sampler,De.keywords.sampler_comparison],ee.sampled_texture_type=[De.keywords.texture_1d,De.keywords.texture_2d,De.keywords.texture_2d_array,De.keywords.texture_3d,De.keywords.texture_cube,De.keywords.texture_cube_array],ee.multisampled_texture_type=[De.keywords.texture_multisampled_2d],ee.storage_texture_type=[De.keywords.texture_storage_1d,De.keywords.texture_storage_2d,De.keywords.texture_storage_2d_array,De.keywords.texture_storage_3d],ee.depth_texture_type=[De.keywords.texture_depth_2d,De.keywords.texture_depth_2d_array,De.keywords.texture_depth_cube,De.keywords.texture_depth_cube_array,De.keywords.texture_depth_multisampled_2d],ee.texture_external_type=[De.keywords.texture_external],ee.any_texture_type=[...De.sampled_texture_type,...De.multisampled_texture_type,...De.storage_texture_type,...De.depth_texture_type,...De.texture_external_type],ee.texel_format=[De.keywords.r8unorm,De.keywords.r8snorm,De.keywords.r8uint,De.keywords.r8sint,De.keywords.r16uint,De.keywords.r16sint,De.keywords.r16float,De.keywords.rg8unorm,De.keywords.rg8snorm,De.keywords.rg8uint,De.keywords.rg8sint,De.keywords.r32uint,De.keywords.r32sint,De.keywords.r32float,De.keywords.rg16uint,De.keywords.rg16sint,De.keywords.rg16float,De.keywords.rgba8unorm,De.keywords.rgba8unorm_srgb,De.keywords.rgba8snorm,De.keywords.rgba8uint,De.keywords.rgba8sint,De.keywords.bgra8unorm,De.keywords.bgra8unorm_srgb,De.keywords.rgb10a2unorm,De.keywords.rg11b10float,De.keywords.rg32uint,De.keywords.rg32sint,De.keywords.rg32float,De.keywords.rgba16uint,De.keywords.rgba16sint,De.keywords.rgba16float,De.keywords.rgba32uint,De.keywords.rgba32sint,De.keywords.rgba32float],ee.const_literal=[De.tokens.int_literal,De.tokens.uint_literal,De.tokens.decimal_float_literal,De.tokens.hex_float_literal,De.keywords.true,De.keywords.false],ee.literal_or_ident=[De.tokens.ident,De.tokens.int_literal,De.tokens.uint_literal,De.tokens.decimal_float_literal,De.tokens.hex_float_literal,De.tokens.name],ee.element_count_expression=[De.tokens.int_literal,De.tokens.uint_literal,De.tokens.ident],ee.template_types=[De.keywords.vec2,De.keywords.vec3,De.keywords.vec4,De.keywords.mat2x2,De.keywords.mat2x3,De.keywords.mat2x4,De.keywords.mat3x2,De.keywords.mat3x3,De.keywords.mat3x4,De.keywords.mat4x2,De.keywords.mat4x3,De.keywords.mat4x4,De.keywords.atomic,De.keywords.bitcast,...De.any_texture_type],ee.attribute_name=[De.tokens.ident,De.keywords.block,De.keywords.diagnostic],ee.assignment_operators=[De.tokens.equal,De.tokens.plus_equal,De.tokens.minus_equal,De.tokens.times_equal,De.tokens.division_equal,De.tokens.modulo_equal,De.tokens.and_equal,De.tokens.or_equal,De.tokens.xor_equal,De.tokens.shift_right_equal,De.tokens.shift_left_equal],ee.increment_operators=[De.tokens.plus_plus,De.tokens.minus_minus];class Y2{constructor(e,n,r,s,o){this.type=e,this.lexeme=n,this.line=r,this.start=s,this.end=o}toString(){return this.lexeme}isTemplateType(){return ee.template_types.indexOf(this.type)!=-1}isArrayType(){return this.type==ee.keywords.array}isArrayOrTemplateType(){return this.isArrayType()||this.isTemplateType()}}class JJ{constructor(e){this._tokens=[],this._start=0,this._current=0,this._line=1,this._source=e??""}scanTokens(){for(;!this._isAtEnd();)if(this._start=this._current,!this.scanToken())throw`Invalid syntax at line ${this._line}`;return this._tokens.push(new Y2(ee.eof,"",this._line,this._current,this._current)),this._tokens}scanToken(){let e=this._advance();if(e==`
`)return this._line++,!0;if(this._isWhitespace(e))return!0;if(e=="/"){if(this._peekAhead()=="/"){for(;e!=`
`;){if(this._isAtEnd())return!0;e=this._advance()}return this._line++,!0}if(this._peekAhead()=="*"){this._advance();let l=1;for(;l>0;){if(this._isAtEnd())return!0;if(e=this._advance(),e==`
`)this._line++;else if(e=="*"){if(this._peekAhead()=="/"&&(this._advance(),l--,l==0))return!0}else e=="/"&&this._peekAhead()=="*"&&(this._advance(),l++)}return!0}}const n=ee.simpleTokens[e];if(n)return this._addToken(n),!0;let r=ee.none;const s=this._isAlpha(e),o=e==="_";if(this._isAlphaNumeric(e)){let l=this._peekAhead();for(;this._isAlphaNumeric(l);)e+=this._advance(),l=this._peekAhead()}if(s){const l=ee.keywords[e];if(l)return this._addToken(l),!0}if(s||o)return this._addToken(ee.tokens.ident),!0;for(;;){let l=this._findType(e);const c=this._peekAhead();if(e=="-"&&this._tokens.length>0){if(c=="=")return this._current++,e+=c,this._addToken(ee.tokens.minus_equal),!0;if(c=="-")return this._current++,e+=c,this._addToken(ee.tokens.minus_minus),!0;const f=this._tokens.length-1;if((ee.literal_or_ident.indexOf(this._tokens[f].type)!=-1||this._tokens[f].type==ee.tokens.paren_right)&&c!=">")return this._addToken(l),!0}if(e==">"&&(c==">"||c=="=")){let f=!1,h=this._tokens.length-1;for(let p=0;p<5&&h>=0&&ee.assignment_operators.indexOf(this._tokens[h].type)===-1;++p,--h)if(this._tokens[h].type===ee.tokens.less_than){h>0&&this._tokens[h-1].isArrayOrTemplateType()&&(f=!0);break}if(f)return this._addToken(l),!0}if(l===ee.none){let f=e,h=0;const p=2;for(let m=0;m<p;++m)if(f+=this._peekAhead(m),l=this._findType(f),l!==ee.none){h=m;break}if(l===ee.none)return r!==ee.none&&(this._current--,this._addToken(r),!0);e=f,this._current+=h+1}if(r=l,this._isAtEnd())break;e+=this._advance()}return r!==ee.none&&(this._addToken(r),!0)}_findType(e){for(const r in ee.regexTokens){const s=ee.regexTokens[r];if(this._match(e,s.rule))return s}return ee.literalTokens[e]||ee.none}_match(e,n){const r=n.exec(e);return r&&r.index==0&&r[0]==e}_isAtEnd(){return this._current>=this._source.length}_isAlpha(e){return!this._isNumeric(e)&&!this._isWhitespace(e)&&e!=="_"&&e!=="."&&e!=="("&&e!==")"&&e!=="["&&e!=="]"&&e!=="{"&&e!=="}"&&e!==","&&e!==";"&&e!==":"&&e!=="="&&e!=="!"&&e!=="<"&&e!==">"&&e!=="+"&&e!=="-"&&e!=="*"&&e!=="/"&&e!=="%"&&e!=="&"&&e!=="|"&&e!=="^"&&e!=="~"&&e!=="@"&&e!=="#"&&e!=="?"&&e!=="'"&&e!=="`"&&e!=='"'&&e!=="\\"&&e!==`
`&&e!=="\r"&&e!=="	"&&e!=="\0"}_isNumeric(e){return e>="0"&&e<="9"}_isAlphaNumeric(e){return this._isAlpha(e)||this._isNumeric(e)||e==="_"}_isWhitespace(e){return e==" "||e=="	"||e=="\r"}_advance(e=0){let n=this._source[this._current];return e=e||0,e++,this._current+=e,n}_peekAhead(e=0){return e=e||0,this._current+e>=this._source.length?"\0":this._source[this._current+e]}_addToken(e){const n=this._source.substring(this._start,this._current);this._tokens.push(new Y2(e,n,this._line,this._start,this._current))}}function pt(t){return Array.isArray(t)||(t==null?void 0:t.buffer)instanceof ArrayBuffer}const sy=new Float32Array(1),eee=new Uint32Array(sy.buffer),tee=new Uint32Array(sy.buffer),iy=new Int32Array(1),nee=new Float32Array(iy.buffer),ree=new Uint32Array(iy.buffer),oy=new Uint32Array(1),see=new Float32Array(oy.buffer),iee=new Int32Array(oy.buffer);function K2(t,e,n){if(e===n)return t;if(e==="f32"){if(n==="i32"||n==="x32")return sy[0]=t,eee[0];if(n==="u32")return sy[0]=t,tee[0]}else if(e==="i32"||e==="x32"){if(n==="f32")return iy[0]=t,nee[0];if(n==="u32")return iy[0]=t,ree[0]}else if(e==="u32"){if(n==="f32")return oy[0]=t,see[0];if(n==="i32"||n==="x32")return oy[0]=t,iee[0]}return console.error(`Unsupported cast from ${e} to ${n}`),t}class oee{constructor(e){this.resources=null,this.inUse=!1,this.info=null,this.node=e}}class Kb{constructor(e,n){this.align=e,this.size=n}}class Uo{constructor(){this.uniforms=[],this.storage=[],this.textures=[],this.samplers=[],this.aliases=[],this.overrides=[],this.structs=[],this.entry=new $J,this.functions=[],this._types=new Map,this._functions=new Map}_isStorageTexture(e){return e.name=="texture_storage_1d"||e.name=="texture_storage_2d"||e.name=="texture_storage_2d_array"||e.name=="texture_storage_3d"}updateAST(e){for(const n of e)n instanceof nm&&this._functions.set(n.name,new oee(n));for(const n of e)if(n instanceof xa){const r=this.getTypeInfo(n,null);r instanceof Dl&&this.structs.push(r)}for(const n of e)if(n instanceof oT)this.aliases.push(this._getAliasInfo(n));else if(n instanceof sT){const r=n,s=this._getAttributeNum(r.attributes,"id",0),o=r.type!=null?this.getTypeInfo(r.type,r.attributes):null;this.overrides.push(new BJ(r.name,o,r.attributes,s))}else if(this._isUniformVar(n)){const r=n,s=this._getAttributeNum(r.attributes,"group",0),o=this._getAttributeNum(r.attributes,"binding",0),l=this.getTypeInfo(r.type,r.attributes),c=new Yb(r.name,l,s,o,r.attributes,gl.Uniform,r.access);c.access||(c.access="read"),this.uniforms.push(c)}else if(this._isStorageVar(n)){const r=n,s=this._getAttributeNum(r.attributes,"group",0),o=this._getAttributeNum(r.attributes,"binding",0),l=this.getTypeInfo(r.type,r.attributes),c=this._isStorageTexture(l),f=new Yb(r.name,l,s,o,r.attributes,c?gl.StorageTexture:gl.Storage,r.access);f.access||(f.access="read"),this.storage.push(f)}else if(this._isTextureVar(n)){const r=n,s=this._getAttributeNum(r.attributes,"group",0),o=this._getAttributeNum(r.attributes,"binding",0),l=this.getTypeInfo(r.type,r.attributes),c=this._isStorageTexture(l),f=new Yb(r.name,l,s,o,r.attributes,c?gl.StorageTexture:gl.Texture,r.access);f.access||(f.access="read"),c?this.storage.push(f):this.textures.push(f)}else if(this._isSamplerVar(n)){const r=n,s=this._getAttributeNum(r.attributes,"group",0),o=this._getAttributeNum(r.attributes,"binding",0),l=this.getTypeInfo(r.type,r.attributes),c=new Yb(r.name,l,s,o,r.attributes,gl.Sampler,r.access);this.samplers.push(c)}for(const n of e)if(n instanceof nm){const r=this._getAttribute(n,"vertex"),s=this._getAttribute(n,"fragment"),o=this._getAttribute(n,"compute"),l=r||s||o,c=new zJ(n.name,l==null?void 0:l.name,n.attributes);c.attributes=n.attributes,c.startLine=n.startLine,c.endLine=n.endLine,this.functions.push(c),this._functions.get(n.name).info=c,l&&(this._functions.get(n.name).inUse=!0,c.inUse=!0,c.resources=this._findResources(n,!!l),c.inputs=this._getInputs(n.args),c.outputs=this._getOutputs(n.returnType),this.entry[l.name].push(c)),c.arguments=n.args.map(f=>new LJ(f.name,this.getTypeInfo(f.type,f.attributes),f.attributes)),c.returnType=n.returnType?this.getTypeInfo(n.returnType,n.attributes):null}for(const n of this._functions.values())n.info&&(n.info.inUse=n.inUse,this._addCalls(n.node,n.info.calls));for(const n of this._functions.values())n.node.search(r=>{var s,o,l;if(r instanceof gF){if(r.value)if(pt(r.value))for(const c of r.value)for(const f of this.overrides)c===f.name&&((s=n.info)===null||s===void 0||s.overrides.push(f));else for(const c of this.overrides)r.value===c.name&&((o=n.info)===null||o===void 0||o.overrides.push(c))}else if(r instanceof li)for(const c of this.overrides)r.name===c.name&&((l=n.info)===null||l===void 0||l.overrides.push(c))});for(const n of this.uniforms)this._markStructsInUse(n.type);for(const n of this.storage)this._markStructsInUse(n.type)}getStructInfo(e){for(const n of this.structs)if(n.name==e)return n;return null}getOverrideInfo(e){for(const n of this.overrides)if(n.name==e)return n;return null}_markStructsInUse(e){if(e)if(e.isStruct){if(e.inUse=!0,e.members)for(const n of e.members)this._markStructsInUse(n.type)}else if(e.isArray)this._markStructsInUse(e.format);else if(e.isTemplate)e.format&&this._markStructsInUse(e.format);else{const n=this._getAlias(e.name);n&&this._markStructsInUse(n)}}_addCalls(e,n){var r;for(const s of e.calls){const o=(r=this._functions.get(s.name))===null||r===void 0?void 0:r.info;o&&n.add(o)}}findResource(e,n,r){if(r){for(const s of this.entry.compute)if(s.name===r){for(const o of s.resources)if(o.group==e&&o.binding==n)return o}for(const s of this.entry.vertex)if(s.name===r){for(const o of s.resources)if(o.group==e&&o.binding==n)return o}for(const s of this.entry.fragment)if(s.name===r){for(const o of s.resources)if(o.group==e&&o.binding==n)return o}}for(const s of this.uniforms)if(s.group==e&&s.binding==n)return s;for(const s of this.storage)if(s.group==e&&s.binding==n)return s;for(const s of this.textures)if(s.group==e&&s.binding==n)return s;for(const s of this.samplers)if(s.group==e&&s.binding==n)return s;return null}_findResource(e){for(const n of this.uniforms)if(n.name==e)return n;for(const n of this.storage)if(n.name==e)return n;for(const n of this.textures)if(n.name==e)return n;for(const n of this.samplers)if(n.name==e)return n;return null}_markStructsFromAST(e){const n=this.getTypeInfo(e,null);this._markStructsInUse(n)}_findResources(e,n){const r=[],s=this,o=[];return e.search(l=>{if(l instanceof ny)o.push({});else if(l instanceof ry)o.pop();else if(l instanceof Sa){const c=l;n&&c.type!==null&&this._markStructsFromAST(c.type),o.length>0&&(o[o.length-1][c.name]=c)}else if(l instanceof Ao){const c=l;n&&c.type!==null&&this._markStructsFromAST(c.type)}else if(l instanceof Up){const c=l;n&&c.type!==null&&this._markStructsFromAST(c.type),o.length>0&&(o[o.length-1][c.name]=c)}else if(l instanceof li){const c=l;if(o.length>0&&o[o.length-1][c.name])return;const f=s._findResource(c.name);f&&r.push(f)}else if(l instanceof aT){const c=l,f=s._functions.get(c.name);f&&(n&&(f.inUse=!0),e.calls.add(f.node),f.resources===null&&(f.resources=s._findResources(f.node,n)),r.push(...f.resources))}else if(l instanceof iT){const c=l,f=s._functions.get(c.name);f&&(n&&(f.inUse=!0),e.calls.add(f.node),f.resources===null&&(f.resources=s._findResources(f.node,n)),r.push(...f.resources))}}),[...new Map(r.map(l=>[l.name,l])).values()]}getBindGroups(){const e=[];function n(r,s){r>=e.length&&(e.length=r+1),e[r]===void 0&&(e[r]=[]),s>=e[r].length&&(e[r].length=s+1)}for(const r of this.uniforms)n(r.group,r.binding),e[r.group][r.binding]=r;for(const r of this.storage)n(r.group,r.binding),e[r.group][r.binding]=r;for(const r of this.textures)n(r.group,r.binding),e[r.group][r.binding]=r;for(const r of this.samplers)n(r.group,r.binding),e[r.group][r.binding]=r;return e}_getOutputs(e,n=void 0){if(n===void 0&&(n=[]),e instanceof xa)this._getStructOutputs(e,n);else{const r=this._getOutputInfo(e);r!==null&&n.push(r)}return n}_getStructOutputs(e,n){for(const r of e.members)if(r.type instanceof xa)this._getStructOutputs(r.type,n);else{const s=this._getAttribute(r,"location")||this._getAttribute(r,"builtin");if(s!==null){const o=this.getTypeInfo(r.type,r.type.attributes),l=this._parseInt(s.value),c=new $2(r.name,o,s.name,l);n.push(c)}}}_getOutputInfo(e){const n=this._getAttribute(e,"location")||this._getAttribute(e,"builtin");if(n!==null){const r=this.getTypeInfo(e,e.attributes),s=this._parseInt(n.value);return new $2("",r,n.name,s)}return null}_getInputs(e,n=void 0){n===void 0&&(n=[]);for(const r of e)if(r.type instanceof xa)this._getStructInputs(r.type,n);else{const s=this._getInputInfo(r);s!==null&&n.push(s)}return n}_getStructInputs(e,n){for(const r of e.members)if(r.type instanceof xa)this._getStructInputs(r.type,n);else{const s=this._getInputInfo(r);s!==null&&n.push(s)}}_getInputInfo(e){const n=this._getAttribute(e,"location")||this._getAttribute(e,"builtin");if(n!==null){const r=this._getAttribute(e,"interpolation"),s=this.getTypeInfo(e.type,e.attributes),o=this._parseInt(n.value),l=new FJ(e.name,s,n.name,o);return r!==null&&(l.interpolation=this._parseString(r.value)),l}return null}_parseString(e){return e instanceof Array&&(e=e[0]),e}_parseInt(e){e instanceof Array&&(e=e[0]);const n=parseInt(e);return isNaN(n)?e:n}_getAlias(e){for(const n of this.aliases)if(n.name==e)return n.type;return null}_getAliasInfo(e){return new VJ(e.name,this.getTypeInfo(e.type,null))}getTypeInfoByName(e){for(const n of this.structs)if(n.name==e)return n;for(const n of this.aliases)if(n.name==e)return n.type;return null}getTypeInfo(e,n=null){if(this._types.has(e))return this._types.get(e);if(e instanceof vx){const s=e.type?this.getTypeInfo(e.type,e.attributes):null,o=new _S(e.name,s,n);return this._types.set(e,o),this._updateTypeInfo(o),o}if(e instanceof Vp){const s=e,o=s.format?this.getTypeInfo(s.format,s.attributes):null,l=new Vl(s.name,n);return l.format=o,l.count=s.count,this._types.set(e,l),this._updateTypeInfo(l),l}if(e instanceof xa){const s=e,o=new Dl(s.name,n);o.startLine=s.startLine,o.endLine=s.endLine;for(const l of s.members){const c=this.getTypeInfo(l.type,l.attributes);o.members.push(new z2(l.name,c,l.attributes))}return this._types.set(e,o),this._updateTypeInfo(o),o}if(e instanceof Cp){const s=e,o=s.format instanceof Ge,l=s.format?o?this.getTypeInfo(s.format,null):new Ri(s.format,null):null,c=new du(s.name,l,n,s.access);return this._types.set(e,c),this._updateTypeInfo(c),c}if(e instanceof ke){const s=e,o=s.format?this.getTypeInfo(s.format,null):null,l=new du(s.name,o,n,s.access);return this._types.set(e,l),this._updateTypeInfo(l),l}const r=new Ri(e.name,n);return this._types.set(e,r),this._updateTypeInfo(r),r}_updateTypeInfo(e){var n,r,s;const o=this._getTypeSize(e);if(e.size=(n=o==null?void 0:o.size)!==null&&n!==void 0?n:0,e instanceof Vl&&e.format){const l=this._getTypeSize(e.format);e.stride=Math.max((r=l==null?void 0:l.size)!==null&&r!==void 0?r:0,(s=l==null?void 0:l.align)!==null&&s!==void 0?s:0),this._updateTypeInfo(e.format)}e instanceof _S&&this._updateTypeInfo(e.format),e instanceof Dl&&this._updateStructInfo(e)}_updateStructInfo(e){var n;let r=0,s=0,o=0,l=0;for(let c=0,f=e.members.length;c<f;++c){const h=e.members[c],p=this._getTypeSize(h);if(!p)continue;(n=this._getAlias(h.type.name))!==null&&n!==void 0||h.type;const m=p.align,b=p.size;r=this._roundUp(m,r+s),s=b,o=r,l=Math.max(l,m),h.offset=r,h.size=b,this._updateTypeInfo(h.type)}e.size=this._roundUp(l,o+s),e.align=l}_getTypeSize(e){var n,r;if(e==null)return null;const s=this._getAttributeNum(e.attributes,"size",0),o=this._getAttributeNum(e.attributes,"align",0);if(e instanceof z2&&(e=e.type),e instanceof Ri){const l=this._getAlias(e.name);l!==null&&(e=l)}{const l=Uo._typeInfo[e.name];if(l!==void 0){const c=((n=e.format)===null||n===void 0?void 0:n.name)==="f16"?2:1;return new Kb(Math.max(o,l.align/c),Math.max(s,l.size/c))}}{const l=Uo._typeInfo[e.name.substring(0,e.name.length-1)];if(l){const c=e.name[e.name.length-1]==="h"?2:1;return new Kb(Math.max(o,l.align/c),Math.max(s,l.size/c))}}if(e instanceof Vl){let l=e,c=8,f=8;const h=this._getTypeSize(l.format);return h!==null&&(f=h.size,c=h.align),f=l.count*this._getAttributeNum((r=e==null?void 0:e.attributes)!==null&&r!==void 0?r:null,"stride",this._roundUp(c,f)),s&&(f=s),new Kb(Math.max(o,c),Math.max(s,f))}if(e instanceof Dl){let l=0,c=0,f=0,h=0,p=0;for(const m of e.members){const b=this._getTypeSize(m.type);b!==null&&(l=Math.max(b.align,l),f=this._roundUp(b.align,f+h),h=b.size,p=f)}return c=this._roundUp(l,p+h),new Kb(Math.max(o,l),Math.max(s,c))}return null}_isUniformVar(e){return e instanceof Sa&&e.storage=="uniform"}_isStorageVar(e){return e instanceof Sa&&e.storage=="storage"}_isTextureVar(e){return e instanceof Sa&&e.type!==null&&Uo._textureTypes.indexOf(e.type.name)!=-1}_isSamplerVar(e){return e instanceof Sa&&e.type!==null&&Uo._samplerTypes.indexOf(e.type.name)!=-1}_getAttribute(e,n){const r=e;if(!r||!r.attributes)return null;const s=r.attributes;for(let o of s)if(o.name==n)return o;return null}_getAttributeNum(e,n,r){if(e===null)return r;for(let s of e)if(s.name==n){let o=s!==null&&s.value!==null?s.value:r;return o instanceof Array&&(o=o[0]),typeof o=="number"?o:typeof o=="string"?parseInt(o):r}return r}_roundUp(e,n){return Math.ceil(n/e)*e}}Uo._typeInfo={f16:{align:2,size:2},i32:{align:4,size:4},u32:{align:4,size:4},f32:{align:4,size:4},atomic:{align:4,size:4},vec2:{align:8,size:8},vec3:{align:16,size:12},vec4:{align:16,size:16},mat2x2:{align:8,size:16},mat3x2:{align:8,size:24},mat4x2:{align:8,size:32},mat2x3:{align:16,size:32},mat3x3:{align:16,size:48},mat4x3:{align:16,size:64},mat2x4:{align:16,size:32},mat3x4:{align:16,size:48},mat4x4:{align:16,size:64}},Uo._textureTypes=ee.any_texture_type.map(t=>t.name),Uo._samplerTypes=ee.sampler_type.map(t=>t.name);let lT=0;class cT{constructor(e,n,r){this.id=lT++,this.name=e,this.value=n,this.node=r}clone(){return new cT(this.name,this.value,this.node)}}class uT{constructor(e){this.id=lT++,this.name=e.name,this.node=e}clone(){return new uT(this.node)}}class fT{constructor(e){this.parent=null,this.variables=new Map,this.functions=new Map,this.currentFunctionName="",this.id=lT++,e&&(this.parent=e,this.currentFunctionName=e.currentFunctionName)}getVariable(e){var n;return this.variables.has(e)?(n=this.variables.get(e))!==null&&n!==void 0?n:null:this.parent?this.parent.getVariable(e):null}getFunction(e){var n;return this.functions.has(e)?(n=this.functions.get(e))!==null&&n!==void 0?n:null:this.parent?this.parent.getFunction(e):null}createVariable(e,n,r){this.variables.set(e,new cT(e,n,r??null))}setVariable(e,n,r){const s=this.getVariable(e);s!==null?s.value=n:this.createVariable(e,n,r)}getVariableValue(e){var n;const r=this.getVariable(e);return(n=r==null?void 0:r.value)!==null&&n!==void 0?n:null}clone(){return new fT(this)}}class aee{evalExpression(e,n){return null}getTypeInfo(e){return null}getVariableName(e,n){return""}}class lee{constructor(e){this.exec=e}getTypeInfo(e){return this.exec.getTypeInfo(e)}All(e,n){const r=this.exec.evalExpression(e.args[0],n);let s=!0;if(r instanceof ae)return r.data.forEach(o=>{o||(s=!1)}),new Te(s?1:0,this.getTypeInfo("bool"));throw new Error(`All() expects a vector argument. Line ${e.line}`)}Any(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof ae){const s=r.data.some(o=>o);return new Te(s?1:0,this.getTypeInfo("bool"))}throw new Error(`Any() expects a vector argument. Line ${e.line}`)}Select(e,n){const r=this.exec.evalExpression(e.args[2],n);if(!(r instanceof Te))throw new Error(`Select() expects a bool condition. Line ${e.line}`);return r.value?this.exec.evalExpression(e.args[1],n):this.exec.evalExpression(e.args[0],n)}ArrayLength(e,n){let r=e.args[0];r instanceof Pr&&(r=r.right);const s=this.exec.evalExpression(r,n);if(s instanceof pr&&s.typeInfo.size===0){const o=s.typeInfo,l=s.buffer.byteLength/o.stride;return new Te(l,this.getTypeInfo("u32"))}return new Te(s.typeInfo.size,this.getTypeInfo("u32"))}Abs(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof ae)return new ae(r.data.map(o=>Math.abs(o)),r.typeInfo);const s=r;return new Te(Math.abs(s.value),s.typeInfo)}Acos(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof ae)return new ae(r.data.map(o=>Math.acos(o)),r.typeInfo);const s=r;return new Te(Math.acos(s.value),r.typeInfo)}Acosh(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof ae)return new ae(r.data.map(o=>Math.acosh(o)),r.typeInfo);const s=r;return new Te(Math.acosh(s.value),r.typeInfo)}Asin(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof ae)return new ae(r.data.map(o=>Math.asin(o)),r.typeInfo);const s=r;return new Te(Math.asin(s.value),r.typeInfo)}Asinh(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof ae)return new ae(r.data.map(o=>Math.asinh(o)),r.typeInfo);const s=r;return new Te(Math.asinh(s.value),r.typeInfo)}Atan(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof ae)return new ae(r.data.map(o=>Math.atan(o)),r.typeInfo);const s=r;return new Te(Math.atan(s.value),r.typeInfo)}Atanh(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof ae)return new ae(r.data.map(o=>Math.atanh(o)),r.typeInfo);const s=r;return new Te(Math.atanh(s.value),r.typeInfo)}Atan2(e,n){const r=this.exec.evalExpression(e.args[0],n),s=this.exec.evalExpression(e.args[1],n);if(r instanceof ae&&s instanceof ae)return new ae(r.data.map((c,f)=>Math.atan2(c,s.data[f])),r.typeInfo);const o=r,l=s;return new Te(Math.atan2(o.value,l.value),r.typeInfo)}Ceil(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof ae)return new ae(r.data.map(o=>Math.ceil(o)),r.typeInfo);const s=r;return new Te(Math.ceil(s.value),r.typeInfo)}_clamp(e,n,r){return Math.min(Math.max(e,n),r)}Clamp(e,n){const r=this.exec.evalExpression(e.args[0],n),s=this.exec.evalExpression(e.args[1],n),o=this.exec.evalExpression(e.args[2],n);if(r instanceof ae&&s instanceof ae&&o instanceof ae)return new ae(r.data.map((h,p)=>this._clamp(h,s.data[p],o.data[p])),r.typeInfo);const l=r,c=s,f=o;return new Te(this._clamp(l.value,c.value,f.value),r.typeInfo)}Cos(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof ae)return new ae(r.data.map(o=>Math.cos(o)),r.typeInfo);const s=r;return new Te(Math.cos(s.value),r.typeInfo)}Cosh(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof ae)return new ae(r.data.map(o=>Math.cosh(o)),r.typeInfo);const s=r;return new Te(Math.cos(s.value),r.typeInfo)}CountLeadingZeros(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof ae)return new ae(r.data.map(o=>Math.clz32(o)),r.typeInfo);const s=r;return new Te(Math.clz32(s.value),r.typeInfo)}_countOneBits(e){let n=0;for(;e!==0;)1&e&&n++,e>>=1;return n}CountOneBits(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof ae)return new ae(r.data.map(o=>this._countOneBits(o)),r.typeInfo);const s=r;return new Te(this._countOneBits(s.value),r.typeInfo)}_countTrailingZeros(e){if(e===0)return 32;let n=0;for(;!(1&e);)e>>=1,n++;return n}CountTrailingZeros(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof ae)return new ae(r.data.map(o=>this._countTrailingZeros(o)),r.typeInfo);const s=r;return new Te(this._countTrailingZeros(s.value),r.typeInfo)}Cross(e,n){const r=this.exec.evalExpression(e.args[0],n),s=this.exec.evalExpression(e.args[1],n);if(r instanceof ae&&s instanceof ae){if(r.data.length!==3||s.data.length!==3)return console.error(`Cross() expects 3D vectors. Line ${e.line}`),null;const o=r.data,l=s.data;return new ae([o[1]*l[2]-l[1]*o[2],o[2]*l[0]-l[2]*o[0],o[0]*l[1]-l[0]*o[1]],r.typeInfo)}return console.error(`Cross() expects vector arguments. Line ${e.line}`),null}Degrees(e,n){const r=this.exec.evalExpression(e.args[0],n),s=180/Math.PI;return r instanceof ae?new ae(r.data.map(o=>o*s),r.typeInfo):new Te(r.value*s,this.getTypeInfo("f32"))}Determinant(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof It){const s=r.data,o=r.typeInfo.getTypeName(),l=o.endsWith("h")?this.getTypeInfo("f16"):this.getTypeInfo("f32");if(o==="mat2x2"||o==="mat2x2f"||o==="mat2x2h")return new Te(s[0]*s[3]-s[1]*s[2],l);if(o==="mat2x3"||o==="mat2x3f"||o==="mat2x3h")return new Te(s[0]*(s[4]*s[8]-s[5]*s[7])-s[1]*(s[3]*s[8]-s[5]*s[6])+s[2]*(s[3]*s[7]-s[4]*s[6]),l);if(o==="mat2x4"||o==="mat2x4f"||o==="mat2x4h")console.error(`TODO: Determinant for ${o}`);else if(o==="mat3x2"||o==="mat3x2f"||o==="mat3x2h")console.error(`TODO: Determinant for ${o}`);else{if(o==="mat3x3"||o==="mat3x3f"||o==="mat3x3h")return new Te(s[0]*(s[4]*s[8]-s[5]*s[7])-s[1]*(s[3]*s[8]-s[5]*s[6])+s[2]*(s[3]*s[7]-s[4]*s[6]),l);o==="mat3x4"||o==="mat3x4f"||o==="mat3x4h"||o==="mat4x2"||o==="mat4x2f"||o==="mat4x2h"||o==="mat4x3"||o==="mat4x3f"||o==="mat4x3h"?console.error(`TODO: Determinant for ${o}`):o!=="mat4x4"&&o!=="mat4x4f"&&o!=="mat4x4h"||console.error(`TODO: Determinant for ${o}`)}}return console.error(`Determinant expects a matrix argument. Line ${e.line}`),null}Distance(e,n){const r=this.exec.evalExpression(e.args[0],n),s=this.exec.evalExpression(e.args[1],n);if(r instanceof ae&&s instanceof ae){let c=0;for(let f=0;f<r.data.length;++f)c+=(r.data[f]-s.data[f])*(r.data[f]-s.data[f]);return new Te(Math.sqrt(c),this.getTypeInfo("f32"))}const o=r,l=s;return new Te(Math.abs(o.value-l.value),r.typeInfo)}_dot(e,n){let r=0;for(let s=0;s<e.length;++s)r+=n[s]*e[s];return r}Dot(e,n){const r=this.exec.evalExpression(e.args[0],n),s=this.exec.evalExpression(e.args[1],n);return r instanceof ae&&s instanceof ae?new Te(this._dot(r.data,s.data),this.getTypeInfo("f32")):(console.error(`Dot() expects vector arguments. Line ${e.line}`),null)}Dot4U8Packed(e,n){return console.error(`TODO: dot4U8Packed. Line ${e.line}`),null}Dot4I8Packed(e,n){return console.error(`TODO: dot4I8Packed. Line ${e.line}`),null}Exp(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof ae)return new ae(r.data.map(o=>Math.exp(o)),r.typeInfo);const s=r;return new Te(Math.exp(s.value),r.typeInfo)}Exp2(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof ae)return new ae(r.data.map(o=>Math.pow(2,o)),r.typeInfo);const s=r;return new Te(Math.pow(2,s.value),r.typeInfo)}ExtractBits(e,n){const r=this.exec.evalExpression(e.args[0],n),s=this.exec.evalExpression(e.args[1],n),o=this.exec.evalExpression(e.args[2],n);if(s.typeInfo.name!=="u32"&&s.typeInfo.name!=="x32")return console.error(`ExtractBits() expects an i32 offset argument. Line ${e.line}`),null;if(o.typeInfo.name!=="u32"&&o.typeInfo.name!=="x32")return console.error(`ExtractBits() expects an i32 count argument. Line ${e.line}`),null;const l=s.value,c=o.value;if(r instanceof ae)return new ae(r.data.map(h=>h>>l&(1<<c)-1),r.typeInfo);if(r.typeInfo.name!=="i32"&&r.typeInfo.name!=="x32")return console.error(`ExtractBits() expects an i32 argument. Line ${e.line}`),null;const f=r.value;return new Te(f>>l&(1<<c)-1,this.getTypeInfo("i32"))}FaceForward(e,n){const r=this.exec.evalExpression(e.args[0],n),s=this.exec.evalExpression(e.args[1],n),o=this.exec.evalExpression(e.args[2],n);if(r instanceof ae&&s instanceof ae&&o instanceof ae){const l=this._dot(s.data,o.data);return new ae(l<0?Array.from(r.data):r.data.map(c=>-c),r.typeInfo)}return console.error(`FaceForward() expects vector arguments. Line ${e.line}`),null}_firstLeadingBit(e){return e===0?-1:31-Math.clz32(e)}FirstLeadingBit(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof ae)return new ae(r.data.map(o=>this._firstLeadingBit(o)),r.typeInfo);const s=r;return new Te(this._firstLeadingBit(s.value),r.typeInfo)}_firstTrailingBit(e){return e===0?-1:Math.log2(e&-e)}FirstTrailingBit(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof ae)return new ae(r.data.map(o=>this._firstTrailingBit(o)),r.typeInfo);const s=r;return new Te(this._firstTrailingBit(s.value),r.typeInfo)}Floor(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof ae)return new ae(r.data.map(o=>Math.floor(o)),r.typeInfo);const s=r;return new Te(Math.floor(s.value),r.typeInfo)}Fma(e,n){const r=this.exec.evalExpression(e.args[0],n),s=this.exec.evalExpression(e.args[1],n),o=this.exec.evalExpression(e.args[2],n);if(r instanceof ae&&s instanceof ae&&o instanceof ae)return r.data.length!==s.data.length||r.data.length!==o.data.length?(console.error(`Fma() expects vectors of the same length. Line ${e.line}`),null):new ae(r.data.map((h,p)=>h*s.data[p]+o.data[p]),r.typeInfo);const l=r,c=s,f=o;return new Te(l.value*c.value+f.value,l.typeInfo)}Fract(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof ae)return new ae(r.data.map(o=>o-Math.floor(o)),r.typeInfo);const s=r;return new Te(s.value-Math.floor(s.value),r.typeInfo)}Frexp(e,n){return console.error(`TODO: frexp. Line ${e.line}`),null}InsertBits(e,n){const r=this.exec.evalExpression(e.args[0],n),s=this.exec.evalExpression(e.args[1],n),o=this.exec.evalExpression(e.args[2],n),l=this.exec.evalExpression(e.args[3],n);if(o.typeInfo.name!=="u32"&&o.typeInfo.name!=="x32")return console.error(`InsertBits() expects an i32 offset argument. Line ${e.line}`),null;const c=o.value,f=(1<<l.value)-1<<c,h=~f;if(r instanceof ae&&s instanceof ae)return new ae(r.data.map((b,_)=>b&h|s.data[_]<<c&f),r.typeInfo);const p=r.value,m=s.value;return new Te(p&h|m<<c&f,r.typeInfo)}InverseSqrt(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof ae)return new ae(r.data.map(o=>1/Math.sqrt(o)),r.typeInfo);const s=r;return new Te(1/Math.sqrt(s.value),r.typeInfo)}Ldexp(e,n){return console.error(`TODO: ldexp. Line ${e.line}`),null}Length(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof ae){let o=0;return r.data.forEach(l=>{o+=l*l}),new Te(Math.sqrt(o),this.getTypeInfo("f32"))}const s=r;return new Te(Math.abs(s.value),r.typeInfo)}Log(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof ae)return new ae(r.data.map(o=>Math.log(o)),r.typeInfo);const s=r;return new Te(Math.log(s.value),r.typeInfo)}Log2(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof ae)return new ae(r.data.map(o=>Math.log2(o)),r.typeInfo);const s=r;return new Te(Math.log2(s.value),r.typeInfo)}Max(e,n){const r=this.exec.evalExpression(e.args[0],n),s=this.exec.evalExpression(e.args[1],n);if(r instanceof ae&&s instanceof ae)return new ae(r.data.map((c,f)=>Math.max(c,s.data[f])),r.typeInfo);const o=r,l=s;return new Te(Math.max(o.value,l.value),r.typeInfo)}Min(e,n){const r=this.exec.evalExpression(e.args[0],n),s=this.exec.evalExpression(e.args[1],n);if(r instanceof ae&&s instanceof ae)return new ae(r.data.map((c,f)=>Math.min(c,s.data[f])),r.typeInfo);const o=r,l=s;return new Te(Math.min(o.value,l.value),r.typeInfo)}Mix(e,n){const r=this.exec.evalExpression(e.args[0],n),s=this.exec.evalExpression(e.args[1],n),o=this.exec.evalExpression(e.args[2],n);if(r instanceof ae&&s instanceof ae&&o instanceof ae)return new ae(r.data.map((f,h)=>r.data[h]*(1-o.data[h])+s.data[h]*o.data[h]),r.typeInfo);const l=s,c=o;return new Te(r.value*(1-c.value)+l.value*c.value,r.typeInfo)}Modf(e,n){const r=this.exec.evalExpression(e.args[0],n),s=this.exec.evalExpression(e.args[1],n);if(r instanceof ae&&s instanceof ae)return new ae(r.data.map((l,c)=>l%s.data[c]),r.typeInfo);const o=s;return new Te(r.value%o.value,r.typeInfo)}Normalize(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof ae){const s=this.Length(e,n).value;return new ae(r.data.map(o=>o/s),r.typeInfo)}return console.error(`Normalize() expects a vector argument. Line ${e.line}`),null}Pow(e,n){const r=this.exec.evalExpression(e.args[0],n),s=this.exec.evalExpression(e.args[1],n);if(r instanceof ae&&s instanceof ae)return new ae(r.data.map((c,f)=>Math.pow(c,s.data[f])),r.typeInfo);const o=r,l=s;return new Te(Math.pow(o.value,l.value),r.typeInfo)}QuantizeToF16(e,n){const r=this.exec.evalExpression(e.args[0],n);return r instanceof ae?new ae(r.data.map(s=>s),r.typeInfo):new Te(r.value,r.typeInfo)}Radians(e,n){const r=this.exec.evalExpression(e.args[0],n);return r instanceof ae?new ae(r.data.map(s=>s*Math.PI/180),r.typeInfo):new Te(r.value*Math.PI/180,this.getTypeInfo("f32"))}Reflect(e,n){let r=this.exec.evalExpression(e.args[0],n),s=this.exec.evalExpression(e.args[1],n);if(r instanceof ae&&s instanceof ae){const o=this._dot(r.data,s.data);return new ae(r.data.map((l,c)=>l-2*o*s.data[c]),r.typeInfo)}return console.error(`Reflect() expects vector arguments. Line ${e.line}`),null}Refract(e,n){let r=this.exec.evalExpression(e.args[0],n),s=this.exec.evalExpression(e.args[1],n),o=this.exec.evalExpression(e.args[2],n);if(r instanceof ae&&s instanceof ae&&o instanceof Te){const l=this._dot(s.data,r.data);return new ae(r.data.map((c,f)=>{const h=1-o.value*o.value*(1-l*l);if(h<0)return 0;const p=Math.sqrt(h);return o.value*c-(o.value*l+p)*s.data[f]}),r.typeInfo)}return console.error(`Refract() expects vector arguments and a scalar argument. Line ${e.line}`),null}ReverseBits(e,n){return console.error(`TODO: reverseBits. Line ${e.line}`),null}Round(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof ae)return new ae(r.data.map(o=>Math.round(o)),r.typeInfo);const s=r;return new Te(Math.round(s.value),r.typeInfo)}Saturate(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof ae)return new ae(r.data.map(o=>Math.min(Math.max(o,0),1)),r.typeInfo);const s=r;return new Te(Math.min(Math.max(s.value,0),1),r.typeInfo)}Sign(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof ae)return new ae(r.data.map(o=>Math.sign(o)),r.typeInfo);const s=r;return new Te(Math.sign(s.value),r.typeInfo)}Sin(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof ae)return new ae(r.data.map(o=>Math.sin(o)),r.typeInfo);const s=r;return new Te(Math.sin(s.value),r.typeInfo)}Sinh(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof ae)return new ae(r.data.map(o=>Math.sinh(o)),r.typeInfo);const s=r;return new Te(Math.sinh(s.value),r.typeInfo)}_smoothstep(e,n,r){const s=Math.min(Math.max((r-e)/(n-e),0),1);return s*s*(3-2*s)}SmoothStep(e,n){const r=this.exec.evalExpression(e.args[0],n),s=this.exec.evalExpression(e.args[1],n),o=this.exec.evalExpression(e.args[2],n);if(o instanceof ae&&r instanceof ae&&s instanceof ae)return new ae(o.data.map((h,p)=>this._smoothstep(r.data[p],s.data[p],h)),o.typeInfo);const l=r,c=s,f=o;return new Te(this._smoothstep(l.value,c.value,f.value),o.typeInfo)}Sqrt(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof ae)return new ae(r.data.map(o=>Math.sqrt(o)),r.typeInfo);const s=r;return new Te(Math.sqrt(s.value),r.typeInfo)}Step(e,n){const r=this.exec.evalExpression(e.args[0],n),s=this.exec.evalExpression(e.args[1],n);if(s instanceof ae&&r instanceof ae)return new ae(s.data.map((l,c)=>l<r.data[c]?0:1),s.typeInfo);const o=r;return new Te(s.value<o.value?0:1,o.typeInfo)}Tan(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof ae)return new ae(r.data.map(o=>Math.tan(o)),r.typeInfo);const s=r;return new Te(Math.tan(s.value),r.typeInfo)}Tanh(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof ae)return new ae(r.data.map(o=>Math.tanh(o)),r.typeInfo);const s=r;return new Te(Math.tanh(s.value),r.typeInfo)}_getTransposeType(e){const n=e.getTypeName();return n==="mat2x2f"||n==="mat2x2h"?e:n==="mat2x3f"?this.getTypeInfo("mat3x2f"):n==="mat2x3h"?this.getTypeInfo("mat3x2h"):n==="mat2x4f"?this.getTypeInfo("mat4x2f"):n==="mat2x4h"?this.getTypeInfo("mat4x2h"):n==="mat3x2f"?this.getTypeInfo("mat2x3f"):n==="mat3x2h"?this.getTypeInfo("mat2x3h"):n==="mat3x3f"||n==="mat3x3h"?e:n==="mat3x4f"?this.getTypeInfo("mat4x3f"):n==="mat3x4h"?this.getTypeInfo("mat4x3h"):n==="mat4x2f"?this.getTypeInfo("mat2x4f"):n==="mat4x2h"?this.getTypeInfo("mat2x4h"):n==="mat4x3f"?this.getTypeInfo("mat3x4f"):n==="mat4x3h"?this.getTypeInfo("mat3x4h"):(n==="mat4x4f"||n==="mat4x4h"||console.error(`Invalid matrix type ${n}`),e)}Transpose(e,n){const r=this.exec.evalExpression(e.args[0],n);if(!(r instanceof It))return console.error(`Transpose() expects a matrix argument. Line ${e.line}`),null;const s=this._getTransposeType(r.typeInfo);if(r.typeInfo.name==="mat2x2"||r.typeInfo.name==="mat2x2f"||r.typeInfo.name==="mat2x2h"){const o=r.data;return new It([o[0],o[2],o[1],o[3]],s)}if(r.typeInfo.name==="mat2x3"||r.typeInfo.name==="mat2x3f"||r.typeInfo.name==="mat2x3h"){const o=r.data;return new It([o[0],o[3],o[6],o[1],o[4],o[7]],s)}if(r.typeInfo.name==="mat2x4"||r.typeInfo.name==="mat2x4f"||r.typeInfo.name==="mat2x4h"){const o=r.data;return new It([o[0],o[4],o[8],o[12],o[1],o[5],o[9],o[13]],s)}if(r.typeInfo.name==="mat3x2"||r.typeInfo.name==="mat3x2f"||r.typeInfo.name==="mat3x2h"){const o=r.data;return new It([o[0],o[3],o[1],o[4],o[2],o[5]],s)}if(r.typeInfo.name==="mat3x3"||r.typeInfo.name==="mat3x3f"||r.typeInfo.name==="mat3x3h"){const o=r.data;return new It([o[0],o[3],o[6],o[1],o[4],o[7],o[2],o[5],o[8]],s)}if(r.typeInfo.name==="mat3x4"||r.typeInfo.name==="mat3x4f"||r.typeInfo.name==="mat3x4h"){const o=r.data;return new It([o[0],o[4],o[8],o[12],o[1],o[5],o[9],o[13],o[2],o[6],o[10],o[14]],s)}if(r.typeInfo.name==="mat4x2"||r.typeInfo.name==="mat4x2f"||r.typeInfo.name==="mat4x2h"){const o=r.data;return new It([o[0],o[4],o[1],o[5],o[2],o[6]],s)}if(r.typeInfo.name==="mat4x3"||r.typeInfo.name==="mat4x3f"||r.typeInfo.name==="mat4x3h"){const o=r.data;return new It([o[0],o[4],o[8],o[1],o[5],o[9],o[2],o[6],o[10]],s)}if(r.typeInfo.name==="mat4x4"||r.typeInfo.name==="mat4x4f"||r.typeInfo.name==="mat4x4h"){const o=r.data;return new It([o[0],o[4],o[8],o[12],o[1],o[5],o[9],o[13],o[2],o[6],o[10],o[14],o[3],o[7],o[11],o[15]],s)}return console.error(`Invalid matrix type ${r.typeInfo.name}`),null}Trunc(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof ae)return new ae(r.data.map(o=>Math.trunc(o)),r.typeInfo);const s=r;return new Te(Math.trunc(s.value),r.typeInfo)}Dpdx(e,n){return console.error(`TODO: dpdx. Line ${e.line}`),null}DpdxCoarse(e,n){return console.error(`TODO: dpdxCoarse. Line ${e.line}`),null}DpdxFine(e,n){return console.error("TODO: dpdxFine"),null}Dpdy(e,n){return console.error("TODO: dpdy"),null}DpdyCoarse(e,n){return console.error("TODO: dpdyCoarse"),null}DpdyFine(e,n){return console.error("TODO: dpdyFine"),null}Fwidth(e,n){return console.error("TODO: fwidth"),null}FwidthCoarse(e,n){return console.error("TODO: fwidthCoarse"),null}FwidthFine(e,n){return console.error("TODO: fwidthFine"),null}TextureDimensions(e,n){const r=e.args[0],s=e.args.length>1?this.exec.evalExpression(e.args[1],n).value:0;if(r instanceof li){const o=r.name,l=n.getVariableValue(o);if(l instanceof ya){if(s<0||s>=l.mipLevelCount)return console.error(`Invalid mip level for textureDimensions. Line ${e.line}`),null;const c=l.getMipLevelSize(s),f=l.dimension;return f==="1d"?new Te(c[0],this.getTypeInfo("u32")):f==="3d"?new ae(c,this.getTypeInfo("vec3u")):f==="2d"?new ae(c.slice(0,2),this.getTypeInfo("vec2u")):(console.error(`Invalid texture dimension ${f} not found. Line ${e.line}`),null)}return console.error(`Texture ${o} not found. Line ${e.line}`),null}return console.error(`Invalid texture argument for textureDimensions. Line ${e.line}`),null}TextureGather(e,n){return console.error("TODO: textureGather"),null}TextureGatherCompare(e,n){return console.error("TODO: textureGatherCompare"),null}TextureLoad(e,n){const r=e.args[0],s=this.exec.evalExpression(e.args[1],n),o=e.args.length>2?this.exec.evalExpression(e.args[2],n).value:0;if(!(s instanceof ae)||s.data.length!==2)return console.error(`Invalid UV argument for textureLoad. Line ${e.line}`),null;if(r instanceof li){const l=r.name,c=n.getVariableValue(l);if(c instanceof ya){const f=Math.floor(s.data[0]),h=Math.floor(s.data[1]);if(f<0||f>=c.width||h<0||h>=c.height)return console.error(`Texture ${l} out of bounds. Line ${e.line}`),null;const p=c.getPixel(f,h,0,o);return p===null?(console.error(`Invalid texture format for textureLoad. Line ${e.line}`),null):new ae(p,this.getTypeInfo("vec4f"))}return console.error(`Texture ${l} not found. Line ${e.line}`),null}return console.error(`Invalid texture argument for textureLoad. Line ${e.line}`),null}TextureNumLayers(e,n){const r=e.args[0];if(r instanceof li){const s=r.name,o=n.getVariableValue(s);return o instanceof ya?new Te(o.depthOrArrayLayers,this.getTypeInfo("u32")):(console.error(`Texture ${s} not found. Line ${e.line}`),null)}return console.error(`Invalid texture argument for textureNumLayers. Line ${e.line}`),null}TextureNumLevels(e,n){const r=e.args[0];if(r instanceof li){const s=r.name,o=n.getVariableValue(s);return o instanceof ya?new Te(o.mipLevelCount,this.getTypeInfo("u32")):(console.error(`Texture ${s} not found. Line ${e.line}`),null)}return console.error(`Invalid texture argument for textureNumLevels. Line ${e.line}`),null}TextureNumSamples(e,n){const r=e.args[0];if(r instanceof li){const s=r.name,o=n.getVariableValue(s);return o instanceof ya?new Te(o.sampleCount,this.getTypeInfo("u32")):(console.error(`Texture ${s} not found. Line ${e.line}`),null)}return console.error(`Invalid texture argument for textureNumSamples. Line ${e.line}`),null}TextureSample(e,n){return console.error("TODO: textureSample"),null}TextureSampleBias(e,n){return console.error("TODO: textureSampleBias"),null}TextureSampleCompare(e,n){return console.error("TODO: textureSampleCompare"),null}TextureSampleCompareLevel(e,n){return console.error("TODO: textureSampleCompareLevel"),null}TextureSampleGrad(e,n){return console.error("TODO: textureSampleGrad"),null}TextureSampleLevel(e,n){return console.error("TODO: textureSampleLevel"),null}TextureSampleBaseClampToEdge(e,n){return console.error("TODO: textureSampleBaseClampToEdge"),null}TextureStore(e,n){const r=e.args[0],s=this.exec.evalExpression(e.args[1],n),o=e.args.length===4?this.exec.evalExpression(e.args[2],n).value:0,l=e.args.length===4?this.exec.evalExpression(e.args[3],n).data:this.exec.evalExpression(e.args[2],n).data;if(l.length!==4)return console.error(`Invalid value argument for textureStore. Line ${e.line}`),null;if(!(s instanceof ae)||s.data.length!==2)return console.error(`Invalid UV argument for textureStore. Line ${e.line}`),null;if(r instanceof li){const c=r.name,f=n.getVariableValue(c);if(f instanceof ya){const h=f.getMipLevelSize(0),p=Math.floor(s.data[0]),m=Math.floor(s.data[1]);return p<0||p>=h[0]||m<0||m>=h[1]?(console.error(`Texture ${c} out of bounds. Line ${e.line}`),null):(f.setPixel(p,m,0,o,Array.from(l)),null)}return console.error(`Texture ${c} not found. Line ${e.line}`),null}return console.error(`Invalid texture argument for textureStore. Line ${e.line}`),null}AtomicLoad(e,n){let r=e.args[0];r instanceof Pr&&(r=r.right);const s=this.exec.getVariableName(r,n);return n.getVariable(s).value.getSubData(this.exec,r.postfix,n)}AtomicStore(e,n){let r=e.args[0];r instanceof Pr&&(r=r.right);const s=this.exec.getVariableName(r,n),o=n.getVariable(s);let l=e.args[1];const c=this.exec.evalExpression(l,n),f=o.value.getSubData(this.exec,r.postfix,n);return f instanceof Te&&c instanceof Te&&(f.value=c.value),o.value instanceof pr&&o.value.setDataValue(this.exec,f,r.postfix,n),null}AtomicAdd(e,n){let r=e.args[0];r instanceof Pr&&(r=r.right);const s=this.exec.getVariableName(r,n),o=n.getVariable(s);let l=e.args[1];const c=this.exec.evalExpression(l,n),f=o.value.getSubData(this.exec,r.postfix,n),h=new Te(f.value,f.typeInfo);return f instanceof Te&&c instanceof Te&&(f.value+=c.value),o.value instanceof pr&&o.value.setDataValue(this.exec,f,r.postfix,n),h}AtomicSub(e,n){let r=e.args[0];r instanceof Pr&&(r=r.right);const s=this.exec.getVariableName(r,n),o=n.getVariable(s);let l=e.args[1];const c=this.exec.evalExpression(l,n),f=o.value.getSubData(this.exec,r.postfix,n),h=new Te(f.value,f.typeInfo);return f instanceof Te&&c instanceof Te&&(f.value-=c.value),o.value instanceof pr&&o.value.setDataValue(this.exec,f,r.postfix,n),h}AtomicMax(e,n){let r=e.args[0];r instanceof Pr&&(r=r.right);const s=this.exec.getVariableName(r,n),o=n.getVariable(s);let l=e.args[1];const c=this.exec.evalExpression(l,n),f=o.value.getSubData(this.exec,r.postfix,n),h=new Te(f.value,f.typeInfo);return f instanceof Te&&c instanceof Te&&(f.value=Math.max(f.value,c.value)),o.value instanceof pr&&o.value.setDataValue(this.exec,f,r.postfix,n),h}AtomicMin(e,n){let r=e.args[0];r instanceof Pr&&(r=r.right);const s=this.exec.getVariableName(r,n),o=n.getVariable(s);let l=e.args[1];const c=this.exec.evalExpression(l,n),f=o.value.getSubData(this.exec,r.postfix,n),h=new Te(f.value,f.typeInfo);return f instanceof Te&&c instanceof Te&&(f.value=Math.min(f.value,c.value)),o.value instanceof pr&&o.value.setDataValue(this.exec,f,r.postfix,n),h}AtomicAnd(e,n){let r=e.args[0];r instanceof Pr&&(r=r.right);const s=this.exec.getVariableName(r,n),o=n.getVariable(s);let l=e.args[1];const c=this.exec.evalExpression(l,n),f=o.value.getSubData(this.exec,r.postfix,n),h=new Te(f.value,f.typeInfo);return f instanceof Te&&c instanceof Te&&(f.value=f.value&c.value),o.value instanceof pr&&o.value.setDataValue(this.exec,f,r.postfix,n),h}AtomicOr(e,n){let r=e.args[0];r instanceof Pr&&(r=r.right);const s=this.exec.getVariableName(r,n),o=n.getVariable(s);let l=e.args[1];const c=this.exec.evalExpression(l,n),f=o.value.getSubData(this.exec,r.postfix,n),h=new Te(f.value,f.typeInfo);return f instanceof Te&&c instanceof Te&&(f.value=f.value|c.value),o.value instanceof pr&&o.value.setDataValue(this.exec,f,r.postfix,n),h}AtomicXor(e,n){let r=e.args[0];r instanceof Pr&&(r=r.right);const s=this.exec.getVariableName(r,n),o=n.getVariable(s);let l=e.args[1];const c=this.exec.evalExpression(l,n),f=o.value.getSubData(this.exec,r.postfix,n),h=new Te(f.value,f.typeInfo);return f instanceof Te&&c instanceof Te&&(f.value=f.value^c.value),o.value instanceof pr&&o.value.setDataValue(this.exec,f,r.postfix,n),h}AtomicExchange(e,n){let r=e.args[0];r instanceof Pr&&(r=r.right);const s=this.exec.getVariableName(r,n),o=n.getVariable(s);let l=e.args[1];const c=this.exec.evalExpression(l,n),f=o.value.getSubData(this.exec,r.postfix,n),h=new Te(f.value,f.typeInfo);return f instanceof Te&&c instanceof Te&&(f.value=c.value),o.value instanceof pr&&o.value.setDataValue(this.exec,f,r.postfix,n),h}AtomicCompareExchangeWeak(e,n){return console.error("TODO: atomicCompareExchangeWeak"),null}Pack4x8snorm(e,n){return console.error("TODO: pack4x8snorm"),null}Pack4x8unorm(e,n){return console.error("TODO: pack4x8unorm"),null}Pack4xI8(e,n){return console.error("TODO: pack4xI8"),null}Pack4xU8(e,n){return console.error("TODO: pack4xU8"),null}Pack4x8Clamp(e,n){return console.error("TODO: pack4x8Clamp"),null}Pack4xU8Clamp(e,n){return console.error("TODO: pack4xU8Clamp"),null}Pack2x16snorm(e,n){return console.error("TODO: pack2x16snorm"),null}Pack2x16unorm(e,n){return console.error("TODO: pack2x16unorm"),null}Pack2x16float(e,n){return console.error("TODO: pack2x16float"),null}Unpack4x8snorm(e,n){return console.error("TODO: unpack4x8snorm"),null}Unpack4x8unorm(e,n){return console.error("TODO: unpack4x8unorm"),null}Unpack4xI8(e,n){return console.error("TODO: unpack4xI8"),null}Unpack4xU8(e,n){return console.error("TODO: unpack4xU8"),null}Unpack2x16snorm(e,n){return console.error("TODO: unpack2x16snorm"),null}Unpack2x16unorm(e,n){return console.error("TODO: unpack2x16unorm"),null}Unpack2x16float(e,n){return console.error("TODO: unpack2x16float"),null}StorageBarrier(e,n){return null}TextureBarrier(e,n){return null}WorkgroupBarrier(e,n){return null}WorkgroupUniformLoad(e,n){return null}SubgroupAdd(e,n){return console.error("TODO: subgroupAdd"),null}SubgroupExclusiveAdd(e,n){return console.error("TODO: subgroupExclusiveAdd"),null}SubgroupInclusiveAdd(e,n){return console.error("TODO: subgroupInclusiveAdd"),null}SubgroupAll(e,n){return console.error("TODO: subgroupAll"),null}SubgroupAnd(e,n){return console.error("TODO: subgroupAnd"),null}SubgroupAny(e,n){return console.error("TODO: subgroupAny"),null}SubgroupBallot(e,n){return console.error("TODO: subgroupBallot"),null}SubgroupBroadcast(e,n){return console.error("TODO: subgroupBroadcast"),null}SubgroupBroadcastFirst(e,n){return console.error("TODO: subgroupBroadcastFirst"),null}SubgroupElect(e,n){return console.error("TODO: subgroupElect"),null}SubgroupMax(e,n){return console.error("TODO: subgroupMax"),null}SubgroupMin(e,n){return console.error("TODO: subgroupMin"),null}SubgroupMul(e,n){return console.error("TODO: subgroupMul"),null}SubgroupExclusiveMul(e,n){return console.error("TODO: subgroupExclusiveMul"),null}SubgroupInclusiveMul(e,n){return console.error("TODO: subgroupInclusiveMul"),null}SubgroupOr(e,n){return console.error("TODO: subgroupOr"),null}SubgroupShuffle(e,n){return console.error("TODO: subgroupShuffle"),null}SubgroupShuffleDown(e,n){return console.error("TODO: subgroupShuffleDown"),null}SubgroupShuffleUp(e,n){return console.error("TODO: subgroupShuffleUp"),null}SubgroupShuffleXor(e,n){return console.error("TODO: subgroupShuffleXor"),null}SubgroupXor(e,n){return console.error("TODO: subgroupXor"),null}QuadBroadcast(e,n){return console.error("TODO: quadBroadcast"),null}QuadSwapDiagonal(e,n){return console.error("TODO: quadSwapDiagonal"),null}QuadSwapX(e,n){return console.error("TODO: quadSwapX"),null}QuadSwapY(e,n){return console.error("TODO: quadSwapY"),null}}const j1={vec2:2,vec2f:2,vec2i:2,vec2u:2,vec2b:2,vec2h:2,vec3:3,vec3f:3,vec3i:3,vec3u:3,vec3b:3,vec3h:3,vec4:4,vec4f:4,vec4i:4,vec4u:4,vec4b:4,vec4h:4},Es={mat2x2:[2,2,4],mat2x2f:[2,2,4],mat2x2h:[2,2,4],mat2x3:[2,3,6],mat2x3f:[2,3,6],mat2x3h:[2,3,6],mat2x4:[2,4,8],mat2x4f:[2,4,8],mat2x4h:[2,4,8],mat3x2:[3,2,6],mat3x2f:[3,2,6],mat3x2h:[3,2,6],mat3x3:[3,3,9],mat3x3f:[3,3,9],mat3x3h:[3,3,9],mat3x4:[3,4,12],mat3x4f:[3,4,12],mat3x4h:[3,4,12],mat4x2:[4,2,8],mat4x2f:[4,2,8],mat4x2h:[4,2,8],mat4x3:[4,3,12],mat4x3f:[4,3,12],mat4x3h:[4,3,12],mat4x4:[4,4,16],mat4x4f:[4,4,16],mat4x4h:[4,4,16]};class fs extends aee{constructor(e,n){var r;super(),this.ast=e??[],this.reflection=new Uo,this.reflection.updateAST(this.ast),this.context=(r=n==null?void 0:n.clone())!==null&&r!==void 0?r:new fT,this.builtins=new lee(this),this.typeInfo={bool:this.getTypeInfo(Ge.bool),i32:this.getTypeInfo(Ge.i32),u32:this.getTypeInfo(Ge.u32),f32:this.getTypeInfo(Ge.f32),f16:this.getTypeInfo(Ge.f16),vec2f:this.getTypeInfo(ke.vec2f),vec2u:this.getTypeInfo(ke.vec2u),vec2i:this.getTypeInfo(ke.vec2i),vec2h:this.getTypeInfo(ke.vec2h),vec3f:this.getTypeInfo(ke.vec3f),vec3u:this.getTypeInfo(ke.vec3u),vec3i:this.getTypeInfo(ke.vec3i),vec3h:this.getTypeInfo(ke.vec3h),vec4f:this.getTypeInfo(ke.vec4f),vec4u:this.getTypeInfo(ke.vec4u),vec4i:this.getTypeInfo(ke.vec4i),vec4h:this.getTypeInfo(ke.vec4h),mat2x2f:this.getTypeInfo(ke.mat2x2f),mat2x3f:this.getTypeInfo(ke.mat2x3f),mat2x4f:this.getTypeInfo(ke.mat2x4f),mat3x2f:this.getTypeInfo(ke.mat3x2f),mat3x3f:this.getTypeInfo(ke.mat3x3f),mat3x4f:this.getTypeInfo(ke.mat3x4f),mat4x2f:this.getTypeInfo(ke.mat4x2f),mat4x3f:this.getTypeInfo(ke.mat4x3f),mat4x4f:this.getTypeInfo(ke.mat4x4f)}}getVariableValue(e){var n,r;const s=(r=(n=this.context.getVariable(e))===null||n===void 0?void 0:n.value)!==null&&r!==void 0?r:null;if(s===null)return null;if(s instanceof Te)return s.value;if(s instanceof ae||s instanceof It)return Array.from(s.data);if(s instanceof pr&&s.typeInfo instanceof Vl){if(s.typeInfo.format.name==="u32")return Array.from(new Uint32Array(s.buffer,s.offset,s.typeInfo.count));if(s.typeInfo.format.name==="i32")return Array.from(new Int32Array(s.buffer,s.offset,s.typeInfo.count));if(s.typeInfo.format.name==="f32")return Array.from(new Float32Array(s.buffer,s.offset,s.typeInfo.count))}return console.error(`Unsupported return variable type ${s.typeInfo.name}`),null}execute(e){(e=e??{}).constants&&this._setOverrides(e.constants,this.context),this._execStatements(this.ast,this.context)}dispatchWorkgroups(e,n,r,s){const o=this.context.clone();(s=s??{}).constants&&this._setOverrides(s.constants,o),this._execStatements(this.ast,o);const l=o.getFunction(e);if(!l)return void console.error(`Function ${e} not found`);if(typeof n=="number")n=[n,1,1];else{if(n.length===0)return void console.error("Invalid dispatch count");n.length===1?n=[n[0],1,1]:n.length===2?n=[n[0],n[1],1]:n.length>3&&(n=[n[0],n[1],n[2]])}const c=n[0],f=n[1],h=n[2],p=this.getTypeInfo("vec3u");o.setVariable("@num_workgroups",new ae(n,p));for(const m in r)for(const b in r[m]){const _=r[m][b];o.variables.forEach(E=>{var T;const C=E.node;if(C!=null&&C.attributes){let D=null,M=null;for(const P of C.attributes)P.name==="binding"?D=P.value:P.name==="group"&&(M=P.value);if(b==D&&m==M)if(_.texture!==void 0&&_.descriptor!==void 0){const P=new ya(_.texture,this.getTypeInfo(C.type),_.descriptor,(T=_.texture.view)!==null&&T!==void 0?T:null);E.value=P}else _.uniform!==void 0?E.value=new pr(_.uniform,this.getTypeInfo(C.type)):E.value=new pr(_,this.getTypeInfo(C.type))}})}for(let m=0;m<h;++m)for(let b=0;b<f;++b)for(let _=0;_<c;++_)o.setVariable("@workgroup_id",new ae([_,b,m],this.getTypeInfo("vec3u"))),this._dispatchWorkgroup(l,[_,b,m],o)}execStatement(e,n){if(e instanceof oF)return this.evalExpression(e.value,n);if(e instanceof lF){if(e.condition){const r=this.evalExpression(e.condition,n);if(!(r instanceof Te))throw new Error("Invalid break-if condition");if(!r.value)return null}return fs._breakObj}if(e instanceof cF)return fs._continueObj;if(e instanceof Up)this._let(e,n);else if(e instanceof Sa)this._var(e,n);else if(e instanceof xx)this._const(e,n);else if(e instanceof nm)this._function(e,n);else{if(e instanceof iF)return this._if(e,n);if(e instanceof sF)return this._switch(e,n);if(e instanceof eF)return this._for(e,n);if(e instanceof JV)return this._while(e,n);if(e instanceof rF)return this._loop(e,n);if(e instanceof wS){const r=n.clone();return r.currentFunctionName=n.currentFunctionName,this._execStatements(e.body,r)}if(e instanceof nF)this._assign(e,n);else if(e instanceof tF)this._increment(e,n);else{if(e instanceof xa)return null;if(e instanceof sT){const r=e.name;n.getVariable(r)===null&&n.setVariable(r,new Te(0,this.getTypeInfo("u32")))}else if(e instanceof iT)this._call(e,n);else{if(e instanceof aF||e instanceof oT)return null;console.error("Invalid statement type.",e,`Line ${e.line}`)}}}return null}evalExpression(e,n){return e instanceof Wi?this._evalBinaryOp(e,n):e instanceof Vr?this._evalLiteral(e,n):e instanceof li?this._evalVariable(e,n):e instanceof aT?this._evalCall(e,n):e instanceof Ao?this._evalCreate(e,n):e instanceof uF?this._evalConst(e,n):e instanceof fF?this._evalBitcast(e,n):e instanceof Pr?this._evalUnaryOp(e,n):(console.error("Invalid expression type",e,`Line ${e.line}`),null)}getTypeInfo(e){var n;if(e instanceof Ge){const s=this.reflection.getTypeInfo(e);if(s!==null)return s}let r=(n=this.typeInfo[e])!==null&&n!==void 0?n:null;return r!==null||(r=this.reflection.getTypeInfoByName(e)),r}_setOverrides(e,n){for(const r in e){const s=e[r],o=this.reflection.getOverrideInfo(r);o!==null?(o.type===null&&(o.type=this.getTypeInfo("u32")),o.type.name==="u32"||o.type.name==="i32"||o.type.name==="f32"||o.type.name==="f16"?n.setVariable(r,new Te(s,o.type)):o.type.name==="bool"?n.setVariable(r,new Te(s?1:0,o.type)):o.type.name==="vec2"||o.type.name==="vec3"||o.type.name==="vec4"||o.type.name==="vec2f"||o.type.name==="vec3f"||o.type.name==="vec4f"||o.type.name==="vec2i"||o.type.name==="vec3i"||o.type.name==="vec4i"||o.type.name==="vec2u"||o.type.name==="vec3u"||o.type.name==="vec4u"||o.type.name==="vec2h"||o.type.name==="vec3h"||o.type.name==="vec4h"?n.setVariable(r,new ae(s,o.type)):console.error(`Invalid constant type for ${r}`)):console.error(`Override ${r} does not exist in the shader.`)}}_dispatchWorkgroup(e,n,r){const s=[1,1,1];for(const p of e.node.attributes)if(p.name==="workgroup_size"){if(p.value.length>0){const m=r.getVariableValue(p.value[0]);s[0]=m instanceof Te?m.value:parseInt(p.value[0])}if(p.value.length>1){const m=r.getVariableValue(p.value[1]);s[1]=m instanceof Te?m.value:parseInt(p.value[1])}if(p.value.length>2){const m=r.getVariableValue(p.value[2]);s[2]=m instanceof Te?m.value:parseInt(p.value[2])}}const o=this.getTypeInfo("vec3u"),l=this.getTypeInfo("u32");r.setVariable("@workgroup_size",new ae(s,o));const c=s[0],f=s[1],h=s[2];for(let p=0,m=0;p<h;++p)for(let b=0;b<f;++b)for(let _=0;_<c;++_,++m){const E=[_,b,p],T=[_+n[0]*s[0],b+n[1]*s[1],p+n[2]*s[2]];r.setVariable("@local_invocation_id",new ae(E,o)),r.setVariable("@global_invocation_id",new ae(T,o)),r.setVariable("@local_invocation_index",new Te(m,l)),this._dispatchExec(e,r)}}_dispatchExec(e,n){for(const r of e.node.args)for(const s of r.attributes)if(s.name==="builtin"){const o=`@${s.value}`,l=n.getVariable(o);l!==void 0&&n.variables.set(r.name,l)}this._execStatements(e.node.body,n)}getVariableName(e,n){for(;e instanceof Pr;)e=e.right;return e instanceof li?e.name:(console.error("Unknown variable type",e,"Line",e.line),null)}_execStatements(e,n){for(const r of e){if(r instanceof Array){const o=n.clone(),l=this._execStatements(r,o);if(l)return l;continue}const s=this.execStatement(r,n);if(s)return s}return null}_call(e,n){const r=n.clone();r.currentFunctionName=e.name;const s=n.getFunction(e.name);if(s){for(let o=0;o<s.node.args.length;++o){const l=s.node.args[o],c=this.evalExpression(e.args[o],r);r.setVariable(l.name,c,l)}this._execStatements(s.node.body,r)}else e.isBuiltin?this._callBuiltinFunction(e,r):this.getTypeInfo(e.name)&&this._evalCreate(e,n)}_increment(e,n){const r=this.getVariableName(e.variable,n),s=n.getVariable(r);s?e.operator==="++"?s.value instanceof Te?s.value.value++:console.error(`Variable ${r} is not a scalar. Line ${e.line}`):e.operator==="--"?s.value instanceof Te?s.value.value--:console.error(`Variable ${r} is not a scalar. Line ${e.line}`):console.error(`Unknown increment operator ${e.operator}. Line ${e.line}`):console.error(`Variable ${r} not found. Line ${e.line}`)}_getVariableData(e,n){if(e instanceof li){const r=this.getVariableName(e,n),s=n.getVariable(r);return s===null?(console.error(`Variable ${r} not found. Line ${e.line}`),null):s.value.getSubData(this,e.postfix,n)}if(e instanceof Pr){if(e.operator==="*"){const r=this._getVariableData(e.right,n);return r instanceof kf?r.reference.getSubData(this,e.postfix,n):(console.error(`Variable ${e.right} is not a pointer. Line ${e.line}`),null)}if(e.operator==="&"){const r=this._getVariableData(e.right,n);return new kf(r)}}return null}_assign(e,n){let r=null,s="<var>",o=null;if(e.variable instanceof Pr){const f=this._getVariableData(e.variable,n),h=this.evalExpression(e.value,n),p=e.operator;if(p==="="){if(f instanceof Te||f instanceof ae||f instanceof It){if(h instanceof Te||h instanceof ae||h instanceof It&&f.data.length===h.data.length)return void f.data.set(h.data);console.error(`Invalid assignment. Line ${e.line}`)}else if(f instanceof pr&&h instanceof pr&&f.buffer.byteLength-f.offset>=h.buffer.byteLength-h.offset)return void(f.buffer.byteLength%4==0?new Uint32Array(f.buffer,f.offset,f.typeInfo.size/4).set(new Uint32Array(h.buffer,h.offset,h.typeInfo.size/4)):new Uint8Array(f.buffer,f.offset,f.typeInfo.size).set(new Uint8Array(h.buffer,h.offset,h.typeInfo.size)));return console.error(`Invalid assignment. Line ${e.line}`),null}if(p==="+=")return f instanceof Te||f instanceof ae||f instanceof It?h instanceof Te||h instanceof ae||h instanceof It?void f.data.set(h.data.map((m,b)=>f.data[b]+m)):void console.error(`Invalid assignment . Line ${e.line}`):void console.error(`Invalid assignment. Line ${e.line}`);if(p==="-=")return(f instanceof Te||f instanceof ae||f instanceof It)&&(h instanceof Te||h instanceof ae||h instanceof It)?void f.data.set(h.data.map((m,b)=>f.data[b]-m)):void console.error(`Invalid assignment. Line ${e.line}`)}if(e.variable instanceof Pr){if(e.variable.operator==="*"){s=this.getVariableName(e.variable.right,n);const f=n.getVariable(s);if(!(f&&f.value instanceof kf))return void console.error(`Variable ${s} is not a pointer. Line ${e.line}`);r=f.value.reference;let h=e.variable.postfix;if(!h){let p=e.variable.right;for(;p instanceof Pr;){if(p.postfix){h=p.postfix;break}p=p.right}}h&&(r=r.getSubData(this,h,n))}}else{o=e.variable.postfix,s=this.getVariableName(e.variable,n);const f=n.getVariable(s);if(f===null)return void console.error(`Variable ${s} not found. Line ${e.line}`);r=f.value}if(r instanceof kf&&(r=r.reference),r===null)return void console.error(`Variable ${s} not found. Line ${e.line}`);const l=this.evalExpression(e.value,n),c=e.operator;if(c==="=")if(r instanceof pr)r.setDataValue(this,l,o,n);else if(o){if(!(r instanceof ae||r instanceof It))return void console.error(`Variable ${s} is not a vector or matrix. Line ${e.line}`);if(o instanceof xd){const f=this.evalExpression(o.index,n).value;if(r instanceof ae){if(!(l instanceof Te))return void console.error(`Invalid assignment to ${s}. Line ${e.line}`);r.data[f]=l.value}else{if(!(r instanceof It))return void console.error(`Invalid assignment to ${s}. Line ${e.line}`);{const h=this.evalExpression(o.index,n).value;if(h<0)return void console.error(`Invalid assignment to ${s}. Line ${e.line}`);if(!(l instanceof ae))return void console.error(`Invalid assignment to ${s}. Line ${e.line}`);{const p=r.typeInfo.getTypeName();if(p==="mat2x2"||p==="mat2x2f"||p==="mat2x2h"){if(!(h<2&&l.data.length===2))return void console.error(`Invalid assignment to ${s}. Line ${e.line}`);r.data[2*h]=l.data[0],r.data[2*h+1]=l.data[1]}else if(p==="mat2x3"||p==="mat2x3f"||p==="mat2x3h"){if(!(h<2&&l.data.length===3))return void console.error(`Invalid assignment to ${s}. Line ${e.line}`);r.data[3*h]=l.data[0],r.data[3*h+1]=l.data[1],r.data[3*h+2]=l.data[2]}else if(p==="mat2x4"||p==="mat2x4f"||p==="mat2x4h"){if(!(h<2&&l.data.length===4))return void console.error(`Invalid assignment to ${s}. Line ${e.line}`);r.data[4*h]=l.data[0],r.data[4*h+1]=l.data[1],r.data[4*h+2]=l.data[2],r.data[4*h+3]=l.data[3]}else if(p==="mat3x2"||p==="mat3x2f"||p==="mat3x2h"){if(!(h<3&&l.data.length===2))return void console.error(`Invalid assignment to ${s}. Line ${e.line}`);r.data[2*h]=l.data[0],r.data[2*h+1]=l.data[1]}else if(p==="mat3x3"||p==="mat3x3f"||p==="mat3x3h"){if(!(h<3&&l.data.length===3))return void console.error(`Invalid assignment to ${s}. Line ${e.line}`);r.data[3*h]=l.data[0],r.data[3*h+1]=l.data[1],r.data[3*h+2]=l.data[2]}else if(p==="mat3x4"||p==="mat3x4f"||p==="mat3x4h"){if(!(h<3&&l.data.length===4))return void console.error(`Invalid assignment to ${s}. Line ${e.line}`);r.data[4*h]=l.data[0],r.data[4*h+1]=l.data[1],r.data[4*h+2]=l.data[2],r.data[4*h+3]=l.data[3]}else if(p==="mat4x2"||p==="mat4x2f"||p==="mat4x2h"){if(!(h<4&&l.data.length===2))return void console.error(`Invalid assignment to ${s}. Line ${e.line}`);r.data[2*h]=l.data[0],r.data[2*h+1]=l.data[1]}else if(p==="mat4x3"||p==="mat4x3f"||p==="mat4x3h"){if(!(h<4&&l.data.length===3))return void console.error(`Invalid assignment to ${s}. Line ${e.line}`);r.data[3*h]=l.data[0],r.data[3*h+1]=l.data[1],r.data[3*h+2]=l.data[2]}else{if(p!=="mat4x4"&&p!=="mat4x4f"&&p!=="mat4x4h")return void console.error(`Invalid assignment to ${s}. Line ${e.line}`);if(!(h<4&&l.data.length===4))return void console.error(`Invalid assignment to ${s}. Line ${e.line}`);r.data[4*h]=l.data[0],r.data[4*h+1]=l.data[1],r.data[4*h+2]=l.data[2],r.data[4*h+3]=l.data[3]}}}}}else if(o instanceof hu){const f=o.value;if(!(r instanceof ae))return void console.error(`Invalid assignment to ${f}. Variable ${s} is not a vector. Line ${e.line}`);if(l instanceof Te){if(f.length>1)return void console.error(`Invalid assignment to ${f} for variable ${s}. Line ${e.line}`);if(f==="x")r.data[0]=l.value;else if(f==="y"){if(r.data.length<2)return void console.error(`Invalid assignment to ${f} for variable ${s}. Line ${e.line}`);r.data[1]=l.value}else if(f==="z"){if(r.data.length<3)return void console.error(`Invalid assignment to ${f} for variable ${s}. Line ${e.line}`);r.data[2]=l.value}else if(f==="w"){if(r.data.length<4)return void console.error(`Invalid assignment to ${f} for variable ${s}. Line ${e.line}`);r.data[3]=l.value}}else{if(!(l instanceof ae))return void console.error(`Invalid assignment to ${s}. Line ${e.line}`);if(f.length!==l.data.length)return void console.error(`Invalid assignment to ${f} for variable ${s}. Line ${e.line}`);for(let h=0;h<f.length;++h){const p=f[h];if(p==="x"||p==="r")r.data[0]=l.data[h];else if(p==="y"||p==="g"){if(l.data.length<2)return void console.error(`Invalid assignment to ${p} for variable ${s}. Line ${e.line}`);r.data[1]=l.data[h]}else if(p==="z"||p==="b"){if(l.data.length<3)return void console.error(`Invalid assignment to ${p} for variable ${s}. Line ${e.line}`);r.data[2]=l.data[h]}else{if(p!=="w"&&p!=="a")return void console.error(`Invalid assignment to ${p} for variable ${s}. Line ${e.line}`);if(l.data.length<4)return void console.error(`Invalid assignment to ${p} for variable ${s}. Line ${e.line}`);r.data[3]=l.data[h]}}}}}else r instanceof Te&&l instanceof Te?r.value=l.value:r instanceof ae&&l instanceof ae||r instanceof It&&l instanceof It?r.data.set(l.data):console.error(`Invalid assignment to ${s}. Line ${e.line}`);else{const f=r.getSubData(this,o,n);if(f instanceof ae&&l instanceof Te){const h=f.data,p=l.value;if(c==="+=")for(let m=0;m<h.length;++m)h[m]+=p;else if(c==="-=")for(let m=0;m<h.length;++m)h[m]-=p;else if(c==="*=")for(let m=0;m<h.length;++m)h[m]*=p;else if(c==="/=")for(let m=0;m<h.length;++m)h[m]/=p;else if(c==="%=")for(let m=0;m<h.length;++m)h[m]%=p;else if(c==="&=")for(let m=0;m<h.length;++m)h[m]&=p;else if(c==="|=")for(let m=0;m<h.length;++m)h[m]|=p;else if(c==="^=")for(let m=0;m<h.length;++m)h[m]^=p;else if(c==="<<=")for(let m=0;m<h.length;++m)h[m]<<=p;else if(c===">>=")for(let m=0;m<h.length;++m)h[m]>>=p;else console.error(`Invalid operator ${c}. Line ${e.line}`)}else if(f instanceof ae&&l instanceof ae){const h=f.data,p=l.data;if(h.length!==p.length)return void console.error(`Vector length mismatch. Line ${e.line}`);if(c==="+=")for(let m=0;m<h.length;++m)h[m]+=p[m];else if(c==="-=")for(let m=0;m<h.length;++m)h[m]-=p[m];else if(c==="*=")for(let m=0;m<h.length;++m)h[m]*=p[m];else if(c==="/=")for(let m=0;m<h.length;++m)h[m]/=p[m];else if(c==="%=")for(let m=0;m<h.length;++m)h[m]%=p[m];else if(c==="&=")for(let m=0;m<h.length;++m)h[m]&=p[m];else if(c==="|=")for(let m=0;m<h.length;++m)h[m]|=p[m];else if(c==="^=")for(let m=0;m<h.length;++m)h[m]^=p[m];else if(c==="<<=")for(let m=0;m<h.length;++m)h[m]<<=p[m];else if(c===">>=")for(let m=0;m<h.length;++m)h[m]>>=p[m];else console.error(`Invalid operator ${c}. Line ${e.line}`)}else{if(!(f instanceof Te&&l instanceof Te))return void console.error(`Invalid type for ${e.operator} operator. Line ${e.line}`);c==="+="?f.value+=l.value:c==="-="?f.value-=l.value:c==="*="?f.value*=l.value:c==="/="?f.value/=l.value:c==="%="?f.value%=l.value:c==="&="?f.value&=l.value:c==="|="?f.value|=l.value:c==="^="?f.value^=l.value:c==="<<="?f.value<<=l.value:c===">>="?f.value>>=l.value:console.error(`Invalid operator ${c}. Line ${e.line}`)}r instanceof pr&&r.setDataValue(this,f,o,n)}}_function(e,n){const r=new uT(e);n.functions.set(e.name,r)}_const(e,n){let r=null;e.value!==null&&(r=this.evalExpression(e.value,n)),n.createVariable(e.name,r,e)}_let(e,n){let r=null;if(e.value!==null){if(r=this.evalExpression(e.value,n),r===null)return void console.error(`Invalid value for variable ${e.name}. Line ${e.line}`);e.value instanceof Pr||(r=r.clone())}else{const s=e.type.name;if(s==="f32"||s==="i32"||s==="u32"||s==="bool"||s==="f16"||s==="vec2"||s==="vec3"||s==="vec4"||s==="vec2f"||s==="vec3f"||s==="vec4f"||s==="vec2i"||s==="vec3i"||s==="vec4i"||s==="vec2u"||s==="vec3u"||s==="vec4u"||s==="vec2h"||s==="vec3h"||s==="vec4h"||s==="vec2b"||s==="vec3b"||s==="vec4b"||s==="mat2x2"||s==="mat2x3"||s==="mat2x4"||s==="mat3x2"||s==="mat3x3"||s==="mat3x4"||s==="mat4x2"||s==="mat4x3"||s==="mat4x4"||s==="mat2x2f"||s==="mat2x3f"||s==="mat2x4f"||s==="mat3x2f"||s==="mat3x3f"||s==="mat3x4f"||s==="mat4x2f"||s==="mat4x3f"||s==="mat4x4f"||s==="mat2x2h"||s==="mat2x3h"||s==="mat2x4h"||s==="mat3x2h"||s==="mat3x3h"||s==="mat3x4h"||s==="mat4x2h"||s==="mat4x3h"||s==="mat4x4h"||s==="array"){const o=new Ao(e.type,[]);r=this._evalCreate(o,n)}}n.createVariable(e.name,r,e)}_var(e,n){let r=null;if(e.value!==null){if(r=this.evalExpression(e.value,n),r===null)return void console.error(`Invalid value for variable ${e.name}. Line ${e.line}`);e.value instanceof Pr||(r=r.clone())}else{if(e.type===null)return void console.error(`Variable ${e.name} has no type. Line ${e.line}`);const s=e.type.name;if(s==="f32"||s==="i32"||s==="u32"||s==="bool"||s==="f16"||s==="vec2"||s==="vec3"||s==="vec4"||s==="vec2f"||s==="vec3f"||s==="vec4f"||s==="vec2i"||s==="vec3i"||s==="vec4i"||s==="vec2u"||s==="vec3u"||s==="vec4u"||s==="vec2h"||s==="vec3h"||s==="vec4h"||s==="vec2b"||s==="vec3b"||s==="vec4b"||s==="mat2x2"||s==="mat2x3"||s==="mat2x4"||s==="mat3x2"||s==="mat3x3"||s==="mat3x4"||s==="mat4x2"||s==="mat4x3"||s==="mat4x4"||s==="mat2x2f"||s==="mat2x3f"||s==="mat2x4f"||s==="mat3x2f"||s==="mat3x3f"||s==="mat3x4f"||s==="mat4x2f"||s==="mat4x3f"||s==="mat4x4f"||s==="mat2x2h"||s==="mat2x3h"||s==="mat2x4h"||s==="mat3x2h"||s==="mat3x3h"||s==="mat3x4h"||s==="mat4x2h"||s==="mat4x3h"||s==="mat4x4h"||e.type instanceof Vp||e.type instanceof xa||e.type instanceof ke){const o=new Ao(e.type,[]);r=this._evalCreate(o,n)}}n.createVariable(e.name,r,e)}_switch(e,n){n=n.clone();const r=this.evalExpression(e.condition,n);if(!(r instanceof Te))return console.error(`Invalid if condition. Line ${e.line}`),null;let s=null;for(const o of e.cases)if(o instanceof pF)for(const l of o.selectors){if(l instanceof _x){s=o;continue}const c=this.evalExpression(l,n);if(!(c instanceof Te))return console.error(`Invalid case selector. Line ${e.line}`),null;if(c.value===r.value)return this._execStatements(o.body,n)}else o instanceof mF&&(s=o);return s?this._execStatements(s.body,n):null}_if(e,n){n=n.clone();const r=this.evalExpression(e.condition,n);if(!(r instanceof Te))return console.error(`Invalid if condition. Line ${e.line}`),null;if(r.value)return this._execStatements(e.body,n);for(const s of e.elseif){const o=this.evalExpression(s.condition,n);if(!(o instanceof Te))return console.error(`Invalid if condition. Line ${e.line}`),null;if(o.value)return this._execStatements(s.body,n)}return e.else?this._execStatements(e.else,n):null}_getScalarValue(e){return e instanceof Te?e.value:(console.error("Expected scalar value.",e),0)}_for(e,n){for(n=n.clone(),this.execStatement(e.init,n);this._getScalarValue(this.evalExpression(e.condition,n));){const r=this._execStatements(e.body,n);if(r===fs._breakObj)break;if(r!==null&&r!==fs._continueObj)return r;this.execStatement(e.increment,n)}return null}_loop(e,n){for(n=n.clone();;){const r=this._execStatements(e.body,n);if(r===fs._breakObj)break;if(r===fs._continueObj){if(e.continuing&&this._execStatements(e.continuing.body,n)===fs._breakObj)break}else if(r!==null)return r}return null}_while(e,n){for(n=n.clone();this._getScalarValue(this.evalExpression(e.condition,n));){const r=this._execStatements(e.body,n);if(r===fs._breakObj)break;if(r!==fs._continueObj&&r!==null)return r}return null}_evalBitcast(e,n){const r=this.evalExpression(e.value,n),s=e.type;if(r instanceof Te){const o=K2(r.value,r.typeInfo.name,s.name);return new Te(o,this.getTypeInfo(s))}if(r instanceof ae){const o=r.typeInfo.getTypeName();let l="";if(o.endsWith("f"))l="f32";else if(o.endsWith("i"))l="i32";else if(o.endsWith("u"))l="u32";else if(o.endsWith("b"))l="bool";else{if(!o.endsWith("h"))return console.error(`Unknown vector type ${o}. Line ${e.line}`),null;l="f16"}const c=s.getTypeName();let f="";if(c.endsWith("f"))f="f32";else if(c.endsWith("i"))f="i32";else if(c.endsWith("u"))f="u32";else if(c.endsWith("b"))f="bool";else{if(!c.endsWith("h"))return console.error(`Unknown vector type ${f}. Line ${e.line}`),null;f="f16"}const h=function(p,m,b){if(m===b)return p;const _=new Array(p.length);for(let E=0;E<p.length;E++)_[E]=K2(p[E],m,b);return _}(Array.from(r.data),l,f);return new ae(h,this.getTypeInfo(s))}return console.error(`TODO: bitcast for ${r.typeInfo.name}. Line ${e.line}`),null}_evalConst(e,n){return n.getVariableValue(e.name).clone().getSubData(this,e.postfix,n)}_evalCreate(e,n){var r;if(e instanceof Ao){if(e.type===null)return NS.void;switch(e.type.getTypeName()){case"bool":case"i32":case"u32":case"f32":case"f16":return this._callConstructorValue(e,n);case"vec2":case"vec3":case"vec4":case"vec2f":case"vec3f":case"vec4f":case"vec2h":case"vec3h":case"vec4h":case"vec2i":case"vec3i":case"vec4i":case"vec2u":case"vec3u":case"vec4u":case"vec2b":case"vec3b":case"vec4b":return this._callConstructorVec(e,n);case"mat2x2":case"mat2x2f":case"mat2x2h":case"mat2x3":case"mat2x3f":case"mat2x3h":case"mat2x4":case"mat2x4f":case"mat2x4h":case"mat3x2":case"mat3x2f":case"mat3x2h":case"mat3x3":case"mat3x3f":case"mat3x3h":case"mat3x4":case"mat3x4f":case"mat3x4h":case"mat4x2":case"mat4x2f":case"mat4x2h":case"mat4x3":case"mat4x3f":case"mat4x3h":case"mat4x4":case"mat4x4f":case"mat4x4h":return this._callConstructorMatrix(e,n)}}const s=e instanceof Ao?e.type.name:e.name,o=e instanceof Ao?this.getTypeInfo(e.type):this.getTypeInfo(e.name);if(o===null)return console.error(`Unknown type ${s}. Line ${e.line}`),null;if(o.size===0)return null;const l=new pr(new ArrayBuffer(o.size),o,0);if(o instanceof Dl){if(e.args)for(let c=0;c<e.args.length;++c){const f=o.members[c],h=e.args[c],p=this.evalExpression(h,n);l.setData(this,p,f.type,f.offset,n)}}else if(o instanceof Vl){let c=0;if(e.args)for(let f=0;f<e.args.length;++f){const h=e.args[f],p=this.evalExpression(h,n);o.format===null&&(((r=p.typeInfo)===null||r===void 0?void 0:r.name)==="x32"?o.format=this.getTypeInfo("i32"):o.format=p.typeInfo),l.setData(this,p,o.format,c,n),c+=o.stride}}else console.error(`Unknown type "${s}". Line ${e.line}`);return e instanceof Ao?l.getSubData(this,e.postfix,n):l}_evalLiteral(e,n){const r=this.getTypeInfo(e.type),s=r.name;return s==="x32"||s==="u32"||s==="f32"||s==="f16"||s==="i32"||s==="bool"?new Te(e.scalarValue,r):s==="vec2"||s==="vec3"||s==="vec4"||s==="vec2f"||s==="vec3f"||s==="vec4f"||s==="vec2h"||s==="vec3h"||s==="vec4h"||s==="vec2i"||s==="vec3i"||s==="vec4i"||s==="vec2u"||s==="vec3u"||s==="vec4u"?this._callConstructorVec(e,n):s==="mat2x2"||s==="mat2x3"||s==="mat2x4"||s==="mat3x2"||s==="mat3x3"||s==="mat3x4"||s==="mat4x2"||s==="mat4x3"||s==="mat4x4"||s==="mat2x2f"||s==="mat2x3f"||s==="mat2x4f"||s==="mat3x2f"||s==="mat3x3f"||s==="mat3x4f"||s==="mat4x2f"||s==="mat4x3f"||s==="mat4x4f"||s==="mat2x2h"||s==="mat2x3h"||s==="mat2x4h"||s==="mat3x2h"||s==="mat3x3h"||s==="mat3x4h"||s==="mat4x2h"||s==="mat4x3h"||s==="mat4x4h"?this._callConstructorMatrix(e,n):e.value}_evalVariable(e,n){const r=n.getVariableValue(e.name);return r===null?r:r.getSubData(this,e.postfix,n)}_maxFormatTypeInfo(e){let n=e[0];if(n.name==="f32")return n;for(let r=1;r<e.length;++r){const s=fs._priority.get(n.name);fs._priority.get(e[r].name)<s&&(n=e[r])}return n.name==="x32"?this.getTypeInfo("i32"):n}_evalUnaryOp(e,n){const r=this.evalExpression(e.right,n);if(e.operator==="&")return new kf(r);if(e.operator==="*")return r instanceof kf?r.reference.getSubData(this,e.postfix,n):(console.error(`Invalid dereference. Line ${e.line}`),null);const s=r instanceof Te?r.value:r instanceof ae?Array.from(r.data):null;switch(e.operator){case"+":{if(pt(s)){const c=s.map((f,h)=>+f);return new ae(c,r.typeInfo)}const o=s,l=this._maxFormatTypeInfo([r.typeInfo,r.typeInfo]);return new Te(+o,l)}case"-":{if(pt(s)){const c=s.map((f,h)=>-f);return new ae(c,r.typeInfo)}const o=s,l=this._maxFormatTypeInfo([r.typeInfo,r.typeInfo]);return new Te(-o,l)}case"!":{if(pt(s)){const c=s.map((f,h)=>f?0:1);return new ae(c,r.typeInfo)}const o=s,l=this._maxFormatTypeInfo([r.typeInfo,r.typeInfo]);return new Te(o?0:1,l)}case"~":{if(pt(s)){const c=s.map((f,h)=>~f);return new ae(c,r.typeInfo)}const o=s,l=this._maxFormatTypeInfo([r.typeInfo,r.typeInfo]);return new Te(~o,l)}}return console.error(`Invalid unary operator ${e.operator}. Line ${e.line}`),null}_evalBinaryOp(e,n){const r=this.evalExpression(e.left,n),s=this.evalExpression(e.right,n),o=r instanceof Te?r.value:r instanceof ae||r instanceof It?Array.from(r.data):null,l=s instanceof Te?s.value:s instanceof ae||s instanceof It?Array.from(s.data):null;switch(e.operator){case"+":{if(pt(o)&&pt(l)){const p=o,m=l;if(p.length!==m.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const b=p.map((_,E)=>_+m[E]);return new ae(b,r.typeInfo)}if(pt(o)){const p=l,m=o.map((b,_)=>b+p);return new ae(m,r.typeInfo)}if(pt(l)){const p=o,m=l.map((b,_)=>p+b);return new ae(m,s.typeInfo)}const c=o,f=l,h=this._maxFormatTypeInfo([r.typeInfo,s.typeInfo]);return new Te(c+f,h)}case"-":{if(pt(o)&&pt(l)){const p=o,m=l;if(p.length!==m.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const b=p.map((_,E)=>_-m[E]);return new ae(b,r.typeInfo)}if(pt(o)){const p=l,m=o.map((b,_)=>b-p);return new ae(m,r.typeInfo)}if(pt(l)){const p=o,m=l.map((b,_)=>p-b);return new ae(m,s.typeInfo)}const c=o,f=l,h=this._maxFormatTypeInfo([r.typeInfo,s.typeInfo]);return new Te(c-f,h)}case"*":{if(pt(o)&&pt(l)){const p=o,m=l;if(r instanceof It&&s instanceof It){const b=function(C,D,M,P){if(Es[D.name]===void 0||Es[P.name]===void 0)return null;const U=Es[D.name][0],L=Es[D.name][1],O=Es[P.name][0];if(U!==Es[P.name][1])return null;const Y=new Array(O*L);for(let ne=0;ne<L;ne++)for(let G=0;G<O;G++){let K=0;for(let Q=0;Q<U;Q++)K+=C[Q*L+ne]*M[G*U+Q];Y[ne*O+G]=K}return Y}(p,r.typeInfo,m,s.typeInfo);if(b===null)return console.error(`Matrix multiplication failed. Line ${e.line}.`),null;const _=Es[s.typeInfo.name][0],E=Es[r.typeInfo.name][1],T=this.getTypeInfo(`mat${_}x${E}f`);return new It(b,T)}if(r instanceof It&&s instanceof ae){const b=function(_,E,T,C){if(Es[E.name]===void 0||j1[C.name]===void 0)return null;const D=Es[E.name][0],M=Es[E.name][1];if(D!==T.length)return null;const P=new Array(M);for(let U=0;U<M;U++){let L=0;for(let O=0;O<D;O++)L+=_[O*M+U]*T[O];P[U]=L}return P}(p,r.typeInfo,m,s.typeInfo);return b===null?(console.error(`Matrix vector multiplication failed. Line ${e.line}.`),null):new ae(b,s.typeInfo)}if(r instanceof ae&&s instanceof It){const b=function(_,E,T,C){if(j1[E.name]===void 0||Es[C.name]===void 0)return null;const D=Es[C.name][0],M=Es[C.name][1];if(M!==_.length)return null;const P=[];for(let U=0;U<D;U++){let L=0;for(let O=0;O<M;O++)L+=_[O]*T[O*D+U];P[U]=L}return P}(p,r.typeInfo,m,s.typeInfo);return b===null?(console.error(`Matrix vector multiplication failed. Line ${e.line}.`),null):new ae(b,r.typeInfo)}{if(p.length!==m.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const b=p.map((_,E)=>_*m[E]);return new ae(b,r.typeInfo)}}if(pt(o)){const p=l,m=o.map((b,_)=>b*p);return r instanceof It?new It(m,r.typeInfo):new ae(m,r.typeInfo)}if(pt(l)){const p=o,m=l.map((b,_)=>p*b);return s instanceof It?new It(m,s.typeInfo):new ae(m,s.typeInfo)}const c=o,f=l,h=this._maxFormatTypeInfo([r.typeInfo,s.typeInfo]);return new Te(c*f,h)}case"%":{if(pt(o)&&pt(l)){const p=o,m=l;if(p.length!==m.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const b=p.map((_,E)=>_%m[E]);return new ae(b,r.typeInfo)}if(pt(o)){const p=l,m=o.map((b,_)=>b%p);return new ae(m,r.typeInfo)}if(pt(l)){const p=o,m=l.map((b,_)=>p%b);return new ae(m,s.typeInfo)}const c=o,f=l,h=this._maxFormatTypeInfo([r.typeInfo,s.typeInfo]);return new Te(c%f,h)}case"/":{if(pt(o)&&pt(l)){const p=o,m=l;if(p.length!==m.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const b=p.map((_,E)=>_/m[E]);return new ae(b,r.typeInfo)}if(pt(o)){const p=l,m=o.map((b,_)=>b/p);return new ae(m,r.typeInfo)}if(pt(l)){const p=o,m=l.map((b,_)=>p/b);return new ae(m,s.typeInfo)}const c=o,f=l,h=this._maxFormatTypeInfo([r.typeInfo,s.typeInfo]);return new Te(c/f,h)}case"&":{if(pt(o)&&pt(l)){const p=o,m=l;if(p.length!==m.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const b=p.map((_,E)=>_&m[E]);return new ae(b,r.typeInfo)}if(pt(o)){const p=l,m=o.map((b,_)=>b&p);return new ae(m,r.typeInfo)}if(pt(l)){const p=o,m=l.map((b,_)=>p&b);return new ae(m,s.typeInfo)}const c=o,f=l,h=this._maxFormatTypeInfo([r.typeInfo,s.typeInfo]);return new Te(c&f,h)}case"|":{if(pt(o)&&pt(l)){const p=o,m=l;if(p.length!==m.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const b=p.map((_,E)=>_|m[E]);return new ae(b,r.typeInfo)}if(pt(o)){const p=l,m=o.map((b,_)=>b|p);return new ae(m,r.typeInfo)}if(pt(l)){const p=o,m=l.map((b,_)=>p|b);return new ae(m,s.typeInfo)}const c=o,f=l,h=this._maxFormatTypeInfo([r.typeInfo,s.typeInfo]);return new Te(c|f,h)}case"^":{if(pt(o)&&pt(l)){const p=o,m=l;if(p.length!==m.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const b=p.map((_,E)=>_^m[E]);return new ae(b,r.typeInfo)}if(pt(o)){const p=l,m=o.map((b,_)=>b^p);return new ae(m,r.typeInfo)}if(pt(l)){const p=o,m=l.map((b,_)=>p^b);return new ae(m,s.typeInfo)}const c=o,f=l,h=this._maxFormatTypeInfo([r.typeInfo,s.typeInfo]);return new Te(c^f,h)}case"<<":{if(pt(o)&&pt(l)){const p=o,m=l;if(p.length!==m.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const b=p.map((_,E)=>_<<m[E]);return new ae(b,r.typeInfo)}if(pt(o)){const p=l,m=o.map((b,_)=>b<<p);return new ae(m,r.typeInfo)}if(pt(l)){const p=o,m=l.map((b,_)=>p<<b);return new ae(m,s.typeInfo)}const c=o,f=l,h=this._maxFormatTypeInfo([r.typeInfo,s.typeInfo]);return new Te(c<<f,h)}case">>":{if(pt(o)&&pt(l)){const p=o,m=l;if(p.length!==m.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const b=p.map((_,E)=>_>>m[E]);return new ae(b,r.typeInfo)}if(pt(o)){const p=l,m=o.map((b,_)=>b>>p);return new ae(m,r.typeInfo)}if(pt(l)){const p=o,m=l.map((b,_)=>p>>b);return new ae(m,s.typeInfo)}const c=o,f=l,h=this._maxFormatTypeInfo([r.typeInfo,s.typeInfo]);return new Te(c>>f,h)}case">":if(pt(o)&&pt(l)){const c=o,f=l;if(c.length!==f.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const h=c.map((p,m)=>p>f[m]?1:0);return new ae(h,r.typeInfo)}if(pt(o)){const c=l,f=o.map((h,p)=>h>c?1:0);return new ae(f,r.typeInfo)}if(pt(l)){const c=o,f=l.map((h,p)=>c>h?1:0);return new ae(f,s.typeInfo)}return new Te(o>l?1:0,this.getTypeInfo("bool"));case"<":if(pt(o)&&pt(l)){const c=o,f=l;if(c.length!==f.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const h=c.map((p,m)=>p<f[m]?1:0);return new ae(h,r.typeInfo)}if(pt(o)){const c=l,f=o.map((h,p)=>h<c?1:0);return new ae(f,r.typeInfo)}if(pt(l)){const c=o,f=l.map((h,p)=>c<h?1:0);return new ae(f,s.typeInfo)}return new Te(o<l?1:0,this.getTypeInfo("bool"));case"==":if(pt(o)&&pt(l)){const c=o,f=l;if(c.length!==f.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const h=c.map((p,m)=>p===f[m]?1:0);return new ae(h,r.typeInfo)}if(pt(o)){const c=l,f=o.map((h,p)=>h==c?1:0);return new ae(f,r.typeInfo)}if(pt(l)){const c=o,f=l.map((h,p)=>c==h?1:0);return new ae(f,s.typeInfo)}return new Te(o===l?1:0,this.getTypeInfo("bool"));case"!=":if(pt(o)&&pt(l)){const c=o,f=l;if(c.length!==f.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const h=c.map((p,m)=>p!==f[m]?1:0);return new ae(h,r.typeInfo)}if(pt(o)){const c=l,f=o.map((h,p)=>h!==c?1:0);return new ae(f,r.typeInfo)}if(pt(l)){const c=o,f=l.map((h,p)=>c!==h?1:0);return new ae(f,s.typeInfo)}return new Te(o!==l?1:0,this.getTypeInfo("bool"));case">=":if(pt(o)&&pt(l)){const c=o,f=l;if(c.length!==f.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const h=c.map((p,m)=>p>=f[m]?1:0);return new ae(h,r.typeInfo)}if(pt(o)){const c=l,f=o.map((h,p)=>h>=c?1:0);return new ae(f,r.typeInfo)}if(pt(l)){const c=o,f=l.map((h,p)=>c>=h?1:0);return new ae(f,s.typeInfo)}return new Te(o>=l?1:0,this.getTypeInfo("bool"));case"<=":if(pt(o)&&pt(l)){const c=o,f=l;if(c.length!==f.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const h=c.map((p,m)=>p<=f[m]?1:0);return new ae(h,r.typeInfo)}if(pt(o)){const c=l,f=o.map((h,p)=>h<=c?1:0);return new ae(f,r.typeInfo)}if(pt(l)){const c=o,f=l.map((h,p)=>c<=h?1:0);return new ae(f,s.typeInfo)}return new Te(o<=l?1:0,this.getTypeInfo("bool"));case"&&":if(pt(o)&&pt(l)){const c=o,f=l;if(c.length!==f.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const h=c.map((p,m)=>p&&f[m]?1:0);return new ae(h,r.typeInfo)}if(pt(o)){const c=l,f=o.map((h,p)=>h&&c?1:0);return new ae(f,r.typeInfo)}if(pt(l)){const c=o,f=l.map((h,p)=>c&&h?1:0);return new ae(f,s.typeInfo)}return new Te(o&&l?1:0,this.getTypeInfo("bool"));case"||":if(pt(o)&&pt(l)){const c=o,f=l;if(c.length!==f.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const h=c.map((p,m)=>p||f[m]?1:0);return new ae(h,r.typeInfo)}if(pt(o)){const c=l,f=o.map((h,p)=>h||c?1:0);return new ae(f,r.typeInfo)}if(pt(l)){const c=o,f=l.map((h,p)=>c||h?1:0);return new ae(f,s.typeInfo)}return new Te(o||l?1:0,this.getTypeInfo("bool"))}return console.error(`Unknown operator ${e.operator}. Line ${e.line}`),null}_evalCall(e,n){if(e.cachedReturnValue!==null)return e.cachedReturnValue;const r=n.clone();r.currentFunctionName=e.name;const s=n.getFunction(e.name);if(!s)return e.isBuiltin?this._callBuiltinFunction(e,r):this.getTypeInfo(e.name)?this._evalCreate(e,n):(console.error(`Unknown function "${e.name}". Line ${e.line}`),null);for(let o=0;o<s.node.args.length;++o){const l=s.node.args[o],c=this.evalExpression(e.args[o],r);r.createVariable(l.name,c,l)}return this._execStatements(s.node.body,r)}_callBuiltinFunction(e,n){switch(e.name){case"all":return this.builtins.All(e,n);case"any":return this.builtins.Any(e,n);case"select":return this.builtins.Select(e,n);case"arrayLength":return this.builtins.ArrayLength(e,n);case"abs":return this.builtins.Abs(e,n);case"acos":return this.builtins.Acos(e,n);case"acosh":return this.builtins.Acosh(e,n);case"asin":return this.builtins.Asin(e,n);case"asinh":return this.builtins.Asinh(e,n);case"atan":return this.builtins.Atan(e,n);case"atanh":return this.builtins.Atanh(e,n);case"atan2":return this.builtins.Atan2(e,n);case"ceil":return this.builtins.Ceil(e,n);case"clamp":return this.builtins.Clamp(e,n);case"cos":return this.builtins.Cos(e,n);case"cosh":return this.builtins.Cosh(e,n);case"countLeadingZeros":return this.builtins.CountLeadingZeros(e,n);case"countOneBits":return this.builtins.CountOneBits(e,n);case"countTrailingZeros":return this.builtins.CountTrailingZeros(e,n);case"cross":return this.builtins.Cross(e,n);case"degrees":return this.builtins.Degrees(e,n);case"determinant":return this.builtins.Determinant(e,n);case"distance":return this.builtins.Distance(e,n);case"dot":return this.builtins.Dot(e,n);case"dot4U8Packed":return this.builtins.Dot4U8Packed(e,n);case"dot4I8Packed":return this.builtins.Dot4I8Packed(e,n);case"exp":return this.builtins.Exp(e,n);case"exp2":return this.builtins.Exp2(e,n);case"extractBits":return this.builtins.ExtractBits(e,n);case"faceForward":return this.builtins.FaceForward(e,n);case"firstLeadingBit":return this.builtins.FirstLeadingBit(e,n);case"firstTrailingBit":return this.builtins.FirstTrailingBit(e,n);case"floor":return this.builtins.Floor(e,n);case"fma":return this.builtins.Fma(e,n);case"fract":return this.builtins.Fract(e,n);case"frexp":return this.builtins.Frexp(e,n);case"insertBits":return this.builtins.InsertBits(e,n);case"inverseSqrt":return this.builtins.InverseSqrt(e,n);case"ldexp":return this.builtins.Ldexp(e,n);case"length":return this.builtins.Length(e,n);case"log":return this.builtins.Log(e,n);case"log2":return this.builtins.Log2(e,n);case"max":return this.builtins.Max(e,n);case"min":return this.builtins.Min(e,n);case"mix":return this.builtins.Mix(e,n);case"modf":return this.builtins.Modf(e,n);case"normalize":return this.builtins.Normalize(e,n);case"pow":return this.builtins.Pow(e,n);case"quantizeToF16":return this.builtins.QuantizeToF16(e,n);case"radians":return this.builtins.Radians(e,n);case"reflect":return this.builtins.Reflect(e,n);case"refract":return this.builtins.Refract(e,n);case"reverseBits":return this.builtins.ReverseBits(e,n);case"round":return this.builtins.Round(e,n);case"saturate":return this.builtins.Saturate(e,n);case"sign":return this.builtins.Sign(e,n);case"sin":return this.builtins.Sin(e,n);case"sinh":return this.builtins.Sinh(e,n);case"smoothStep":return this.builtins.SmoothStep(e,n);case"sqrt":return this.builtins.Sqrt(e,n);case"step":return this.builtins.Step(e,n);case"tan":return this.builtins.Tan(e,n);case"tanh":return this.builtins.Tanh(e,n);case"transpose":return this.builtins.Transpose(e,n);case"trunc":return this.builtins.Trunc(e,n);case"dpdx":return this.builtins.Dpdx(e,n);case"dpdxCoarse":return this.builtins.DpdxCoarse(e,n);case"dpdxFine":return this.builtins.DpdxFine(e,n);case"dpdy":return this.builtins.Dpdy(e,n);case"dpdyCoarse":return this.builtins.DpdyCoarse(e,n);case"dpdyFine":return this.builtins.DpdyFine(e,n);case"fwidth":return this.builtins.Fwidth(e,n);case"fwidthCoarse":return this.builtins.FwidthCoarse(e,n);case"fwidthFine":return this.builtins.FwidthFine(e,n);case"textureDimensions":return this.builtins.TextureDimensions(e,n);case"textureGather":return this.builtins.TextureGather(e,n);case"textureGatherCompare":return this.builtins.TextureGatherCompare(e,n);case"textureLoad":return this.builtins.TextureLoad(e,n);case"textureNumLayers":return this.builtins.TextureNumLayers(e,n);case"textureNumLevels":return this.builtins.TextureNumLevels(e,n);case"textureNumSamples":return this.builtins.TextureNumSamples(e,n);case"textureSample":return this.builtins.TextureSample(e,n);case"textureSampleBias":return this.builtins.TextureSampleBias(e,n);case"textureSampleCompare":return this.builtins.TextureSampleCompare(e,n);case"textureSampleCompareLevel":return this.builtins.TextureSampleCompareLevel(e,n);case"textureSampleGrad":return this.builtins.TextureSampleGrad(e,n);case"textureSampleLevel":return this.builtins.TextureSampleLevel(e,n);case"textureSampleBaseClampToEdge":return this.builtins.TextureSampleBaseClampToEdge(e,n);case"textureStore":return this.builtins.TextureStore(e,n);case"atomicLoad":return this.builtins.AtomicLoad(e,n);case"atomicStore":return this.builtins.AtomicStore(e,n);case"atomicAdd":return this.builtins.AtomicAdd(e,n);case"atomicSub":return this.builtins.AtomicSub(e,n);case"atomicMax":return this.builtins.AtomicMax(e,n);case"atomicMin":return this.builtins.AtomicMin(e,n);case"atomicAnd":return this.builtins.AtomicAnd(e,n);case"atomicOr":return this.builtins.AtomicOr(e,n);case"atomicXor":return this.builtins.AtomicXor(e,n);case"atomicExchange":return this.builtins.AtomicExchange(e,n);case"atomicCompareExchangeWeak":return this.builtins.AtomicCompareExchangeWeak(e,n);case"pack4x8snorm":return this.builtins.Pack4x8snorm(e,n);case"pack4x8unorm":return this.builtins.Pack4x8unorm(e,n);case"pack4xI8":return this.builtins.Pack4xI8(e,n);case"pack4xU8":return this.builtins.Pack4xU8(e,n);case"pack4x8Clamp":return this.builtins.Pack4x8Clamp(e,n);case"pack4xU8Clamp":return this.builtins.Pack4xU8Clamp(e,n);case"pack2x16snorm":return this.builtins.Pack2x16snorm(e,n);case"pack2x16unorm":return this.builtins.Pack2x16unorm(e,n);case"pack2x16float":return this.builtins.Pack2x16float(e,n);case"unpack4x8snorm":return this.builtins.Unpack4x8snorm(e,n);case"unpack4x8unorm":return this.builtins.Unpack4x8unorm(e,n);case"unpack4xI8":return this.builtins.Unpack4xI8(e,n);case"unpack4xU8":return this.builtins.Unpack4xU8(e,n);case"unpack2x16snorm":return this.builtins.Unpack2x16snorm(e,n);case"unpack2x16unorm":return this.builtins.Unpack2x16unorm(e,n);case"unpack2x16float":return this.builtins.Unpack2x16float(e,n);case"storageBarrier":return this.builtins.StorageBarrier(e,n);case"textureBarrier":return this.builtins.TextureBarrier(e,n);case"workgroupBarrier":return this.builtins.WorkgroupBarrier(e,n);case"workgroupUniformLoad":return this.builtins.WorkgroupUniformLoad(e,n);case"subgroupAdd":return this.builtins.SubgroupAdd(e,n);case"subgroupExclusiveAdd":return this.builtins.SubgroupExclusiveAdd(e,n);case"subgroupInclusiveAdd":return this.builtins.SubgroupInclusiveAdd(e,n);case"subgroupAll":return this.builtins.SubgroupAll(e,n);case"subgroupAnd":return this.builtins.SubgroupAnd(e,n);case"subgroupAny":return this.builtins.SubgroupAny(e,n);case"subgroupBallot":return this.builtins.SubgroupBallot(e,n);case"subgroupBroadcast":return this.builtins.SubgroupBroadcast(e,n);case"subgroupBroadcastFirst":return this.builtins.SubgroupBroadcastFirst(e,n);case"subgroupElect":return this.builtins.SubgroupElect(e,n);case"subgroupMax":return this.builtins.SubgroupMax(e,n);case"subgroupMin":return this.builtins.SubgroupMin(e,n);case"subgroupMul":return this.builtins.SubgroupMul(e,n);case"subgroupExclusiveMul":return this.builtins.SubgroupExclusiveMul(e,n);case"subgroupInclusiveMul":return this.builtins.SubgroupInclusiveMul(e,n);case"subgroupOr":return this.builtins.SubgroupOr(e,n);case"subgroupShuffle":return this.builtins.SubgroupShuffle(e,n);case"subgroupShuffleDown":return this.builtins.SubgroupShuffleDown(e,n);case"subgroupShuffleUp":return this.builtins.SubgroupShuffleUp(e,n);case"subgroupShuffleXor":return this.builtins.SubgroupShuffleXor(e,n);case"subgroupXor":return this.builtins.SubgroupXor(e,n);case"quadBroadcast":return this.builtins.QuadBroadcast(e,n);case"quadSwapDiagonal":return this.builtins.QuadSwapDiagonal(e,n);case"quadSwapX":return this.builtins.QuadSwapX(e,n);case"quadSwapY":return this.builtins.QuadSwapY(e,n)}const r=n.getFunction(e.name);if(r){const s=n.clone();for(let o=0;o<r.node.args.length;++o){const l=r.node.args[o],c=this.evalExpression(e.args[o],s);s.setVariable(l.name,c,l)}return this._execStatements(r.node.body,s)}return null}_callConstructorValue(e,n){if(!e.args||e.args.length===0)return new Te(0,this.getTypeInfo(e.type));const r=this.evalExpression(e.args[0],n);return r.typeInfo=this.getTypeInfo(e.type),r.getSubData(this,e.postfix,n).clone()}_callConstructorVec(e,n){const r=this.getTypeInfo(e.type),s=e.type.getTypeName(),o=j1[s];if(o===void 0)return console.error(`Invalid vec constructor ${s}. Line ${e.line}`),null;const l=[];if(e instanceof Vr)if(e.isVector){const c=e.vectorValue;for(const f of c)l.push(f)}else l.push(e.scalarValue);else if(e.args)for(const c of e.args){const f=this.evalExpression(c,n);if(f instanceof ae){const h=f.data;for(let p=0;p<h.length;++p){let m=h[p];l.push(m)}}else if(f instanceof Te){let h=f.value;l.push(h)}}if(e.type instanceof ke&&e.type.format===null&&(e.type.format=ke.f32),l.length===0){const c=new Array(o).fill(0);return new ae(c,r).getSubData(this,e.postfix,n)}if(l.length===1)for(;l.length<o;)l.push(l[0]);return l.length<o?(console.error(`Invalid vec constructor. Line ${e.line}`),null):new ae(l.length>o?l.slice(0,o):l,r).getSubData(this,e.postfix,n)}_callConstructorMatrix(e,n){const r=this.getTypeInfo(e.type),s=e.type.getTypeName(),o=Es[s];if(o===void 0)return console.error(`Invalid matrix constructor ${s}. Line ${e.line}`),null;const l=[];if(e instanceof Vr)if(e.isVector){const c=e.vectorValue;for(const f of c)l.push(f)}else l.push(e.scalarValue);else if(e.args)for(const c of e.args){const f=this.evalExpression(c,n);f instanceof ae?l.push(...f.data):f instanceof Te?l.push(f.value):f instanceof It&&l.push(...f.data)}if(r instanceof du&&r.format===null&&(r.format=this.getTypeInfo("f32")),l.length===0){const c=new Array(o[2]).fill(0);return new It(c,r).getSubData(this,e.postfix,n)}return l.length!==o[2]?(console.error(`Invalid matrix constructor. Line ${e.line}`),null):new It(l,r).getSubData(this,e.postfix,n)}}fs._breakObj=new ji(new Ri("BREAK",null),null),fs._continueObj=new ji(new Ri("CONTINUE",null),null),fs._priority=new Map([["f32",0],["f16",1],["u32",2],["i32",3],["x32",3]]);class cee{constructor(){this.constants=new Map,this.aliases=new Map,this.structs=new Map}}class uee{constructor(){this._tokens=[],this._current=0,this._currentLine=1,this._deferArrayCountEval=[],this._currentLoop=[],this._context=new cee,this._exec=new fs,this._forwardTypeCount=0}parse(e){this._initialize(e),this._deferArrayCountEval.length=0;const n=[];for(;!this._isAtEnd();){const r=this._global_decl_or_directive();if(!r)break;n.push(r)}if(this._deferArrayCountEval.length>0){for(const r of this._deferArrayCountEval){const s=r.arrayType,o=r.countNode;if(o instanceof li){const l=o.name,c=this._context.constants.get(l);if(c)try{const f=c.constEvaluate(this._exec);s.count=f}catch{}}}this._deferArrayCountEval.length=0}if(this._forwardTypeCount>0)for(const r of n)r.search(s=>{s instanceof X2||s instanceof vx?s.type=this._forwardType(s.type):s instanceof Vp?s.format=this._forwardType(s.format):s instanceof Sa||s instanceof Up||s instanceof xx?s.type=this._forwardType(s.type):s instanceof nm?s.returnType=this._forwardType(s.returnType):s instanceof q2&&(s.type=this._forwardType(s.type))});return n}_forwardType(e){if(e instanceof W2){const n=this._getType(e.name);if(n)return n}else e instanceof vx?e.type=this._forwardType(e.type):e instanceof Vp&&(e.format=this._forwardType(e.format));return e}_initialize(e){if(e)if(typeof e=="string"){const n=new JJ(e);this._tokens=n.scanTokens()}else this._tokens=e;else this._tokens=[];this._current=0}_updateNode(e,n){return e.line=n??this._currentLine,e}_error(e,n){return{token:e,message:n,toString:()=>`${n}`}}_isAtEnd(){return this._current>=this._tokens.length||this._peek().type==ee.eof}_match(e){if(e instanceof Ce)return!!this._check(e)&&(this._advance(),!0);for(let n=0,r=e.length;n<r;++n){const s=e[n];if(this._check(s))return this._advance(),!0}return!1}_consume(e,n){if(this._check(e))return this._advance();throw this._error(this._peek(),`${n}. Line:${this._currentLine}`)}_check(e){if(this._isAtEnd())return!1;const n=this._peek();if(e instanceof Array){const r=n.type;let s=!1;for(const o of e){if(r===o)return!0;o===ee.tokens.name&&(s=!0)}if(s){const o=ee.tokens.name.rule.exec(n.lexeme);if(o&&o.index==0&&o[0]==n.lexeme)return!0}return!1}if(n.type===e)return!0;if(e===ee.tokens.name){const r=ee.tokens.name.rule.exec(n.lexeme);return r&&r.index==0&&r[0]==n.lexeme}return!1}_advance(){var e,n;return this._currentLine=(n=(e=this._peek())===null||e===void 0?void 0:e.line)!==null&&n!==void 0?n:-1,this._isAtEnd()||this._current++,this._previous()}_peek(){return this._tokens[this._current]}_previous(){return this._tokens[this._current-1]}_global_decl_or_directive(){for(;this._match(ee.tokens.semicolon)&&!this._isAtEnd(););if(this._match(ee.keywords.alias)){const n=this._type_alias();return this._consume(ee.tokens.semicolon,"Expected ';'"),this._exec.reflection.updateAST([n]),n}if(this._match(ee.keywords.diagnostic)){const n=this._diagnostic();return this._consume(ee.tokens.semicolon,"Expected ';'"),this._exec.reflection.updateAST([n]),n}if(this._match(ee.keywords.requires)){const n=this._requires_directive();return this._consume(ee.tokens.semicolon,"Expected ';'"),this._exec.reflection.updateAST([n]),n}if(this._match(ee.keywords.enable)){const n=this._enable_directive();return this._consume(ee.tokens.semicolon,"Expected ';'"),this._exec.reflection.updateAST([n]),n}const e=this._attribute();if(this._check(ee.keywords.var)){const n=this._global_variable_decl();return n!=null&&(n.attributes=e),this._consume(ee.tokens.semicolon,"Expected ';'."),this._exec.reflection.updateAST([n]),n}if(this._check(ee.keywords.override)){const n=this._override_variable_decl();return n!=null&&(n.attributes=e),this._consume(ee.tokens.semicolon,"Expected ';'."),this._exec.reflection.updateAST([n]),n}if(this._check(ee.keywords.let)){const n=this._global_let_decl();return n!=null&&(n.attributes=e),this._consume(ee.tokens.semicolon,"Expected ';'."),this._exec.reflection.updateAST([n]),n}if(this._check(ee.keywords.const)){const n=this._global_const_decl();return n!=null&&(n.attributes=e),this._consume(ee.tokens.semicolon,"Expected ';'."),this._exec.reflection.updateAST([n]),n}if(this._check(ee.keywords.struct)){const n=this._struct_decl();return n!=null&&(n.attributes=e),this._exec.reflection.updateAST([n]),n}if(this._check(ee.keywords.fn)){const n=this._function_decl();return n!=null&&(n.attributes=e),this._exec.reflection.updateAST([n]),n}return null}_function_decl(){if(!this._match(ee.keywords.fn))return null;const e=this._currentLine,n=this._consume(ee.tokens.ident,"Expected function name.").toString();this._consume(ee.tokens.paren_left,"Expected '(' for function arguments.");const r=[];if(!this._check(ee.tokens.paren_right))do{if(this._check(ee.tokens.paren_right))break;const c=this._attribute(),f=this._consume(ee.tokens.name,"Expected argument name.").toString();this._consume(ee.tokens.colon,"Expected ':' for argument type.");const h=this._attribute(),p=this._type_decl();p!=null&&(p.attributes=h,r.push(this._updateNode(new q2(f,p,c))))}while(this._match(ee.tokens.comma));this._consume(ee.tokens.paren_right,"Expected ')' after function arguments.");let s=null;if(this._match(ee.tokens.arrow)){const c=this._attribute();s=this._type_decl(),s!=null&&(s.attributes=c)}const o=this._compound_statement(),l=this._currentLine;return this._updateNode(new nm(n,r,s,o,e,l),e)}_compound_statement(){const e=[];for(this._consume(ee.tokens.brace_left,"Expected '{' for block.");!this._check(ee.tokens.brace_right);){const n=this._statement();n!==null&&e.push(n)}return this._consume(ee.tokens.brace_right,"Expected '}' for block."),e}_statement(){for(;this._match(ee.tokens.semicolon)&&!this._isAtEnd(););if(this._check(ee.tokens.attr)&&this._attribute(),this._check(ee.keywords.if))return this._if_statement();if(this._check(ee.keywords.switch))return this._switch_statement();if(this._check(ee.keywords.loop))return this._loop_statement();if(this._check(ee.keywords.for))return this._for_statement();if(this._check(ee.keywords.while))return this._while_statement();if(this._check(ee.keywords.continuing))return this._continuing_statement();if(this._check(ee.keywords.static_assert))return this._static_assert_statement();if(this._check(ee.tokens.brace_left))return this._compound_statement();let e=null;if(this._check(ee.keywords.return))e=this._return_statement();else if(this._check([ee.keywords.var,ee.keywords.let,ee.keywords.const]))e=this._variable_statement();else if(this._match(ee.keywords.discard))e=this._updateNode(new ZJ);else if(this._match(ee.keywords.break)){const n=this._updateNode(new lF);if(this._currentLoop.length>0){const r=this._currentLoop[this._currentLoop.length-1];n.loopId=r.id}e=n,this._check(ee.keywords.if)&&(this._advance(),n.condition=this._optional_paren_expression())}else if(this._match(ee.keywords.continue)){const n=this._updateNode(new cF);if(!(this._currentLoop.length>0))throw this._error(this._peek(),`Continue statement must be inside a loop. Line: ${n.line}`);{const r=this._currentLoop[this._currentLoop.length-1];n.loopId=r.id}e=n}else e=this._increment_decrement_statement()||this._func_call_statement()||this._assignment_statement();return e!=null&&this._consume(ee.tokens.semicolon,"Expected ';' after statement."),e}_static_assert_statement(){if(!this._match(ee.keywords.static_assert))return null;const e=this._currentLine,n=this._optional_paren_expression();return this._updateNode(new XJ(n),e)}_while_statement(){if(!this._match(ee.keywords.while))return null;const e=this._updateNode(new JV(null,null));return this._currentLoop.push(e),e.condition=this._optional_paren_expression(),this._check(ee.tokens.attr)&&this._attribute(),e.body=this._compound_statement(),this._currentLoop.pop(),e}_continuing_statement(){const e=this._currentLoop.length>0?this._currentLoop[this._currentLoop.length-1].id:-1;if(!this._match(ee.keywords.continuing))return null;const n=this._currentLine,r=this._compound_statement();return this._updateNode(new wS(r,e),n)}_for_statement(){if(!this._match(ee.keywords.for))return null;this._consume(ee.tokens.paren_left,"Expected '('.");const e=this._updateNode(new eF(null,null,null,null));return this._currentLoop.push(e),e.init=this._check(ee.tokens.semicolon)?null:this._for_init(),this._consume(ee.tokens.semicolon,"Expected ';'."),e.condition=this._check(ee.tokens.semicolon)?null:this._short_circuit_or_expression(),this._consume(ee.tokens.semicolon,"Expected ';'."),e.increment=this._check(ee.tokens.paren_right)?null:this._for_increment(),this._consume(ee.tokens.paren_right,"Expected ')'."),this._check(ee.tokens.attr)&&this._attribute(),e.body=this._compound_statement(),this._currentLoop.pop(),e}_for_init(){return this._variable_statement()||this._func_call_statement()||this._assignment_statement()}_for_increment(){return this._func_call_statement()||this._increment_decrement_statement()||this._assignment_statement()}_variable_statement(){if(this._check(ee.keywords.var)){const e=this._variable_decl();if(e===null)throw this._error(this._peek(),"Variable declaration expected.");let n=null;return this._match(ee.tokens.equal)&&(n=this._short_circuit_or_expression()),this._updateNode(new Sa(e.name,e.type,e.storage,e.access,n),e.line)}if(this._match(ee.keywords.let)){const e=this._currentLine,n=this._consume(ee.tokens.name,"Expected name for let.").toString();let r=null;if(this._match(ee.tokens.colon)){const o=this._attribute();r=this._type_decl(),r!=null&&(r.attributes=o)}this._consume(ee.tokens.equal,"Expected '=' for let.");const s=this._short_circuit_or_expression();return this._updateNode(new Up(n,r,null,null,s),e)}if(this._match(ee.keywords.const)){const e=this._currentLine,n=this._consume(ee.tokens.name,"Expected name for const.").toString();let r=null;if(this._match(ee.tokens.colon)){const o=this._attribute();r=this._type_decl(),r!=null&&(r.attributes=o)}this._consume(ee.tokens.equal,"Expected '=' for const.");const s=this._short_circuit_or_expression();return r===null&&s instanceof Vr&&(r=s.type),this._updateNode(new xx(n,r,null,null,s),e)}return null}_increment_decrement_statement(){const e=this._current,n=this._unary_expression();if(n==null)return null;if(!this._check(ee.increment_operators))return this._current=e,null;const r=this._consume(ee.increment_operators,"Expected increment operator");return this._updateNode(new tF(r.type===ee.tokens.plus_plus?$f.increment:$f.decrement,n))}_assignment_statement(){let e=null;const n=this._currentLine;if(this._check(ee.tokens.brace_right))return null;let r=this._match(ee.tokens.underscore);if(r||(e=this._unary_expression()),!r&&e==null)return null;const s=this._consume(ee.assignment_operators,"Expected assignment operator."),o=this._short_circuit_or_expression();return this._updateNode(new nF(Ap.parse(s.lexeme),e,o),n)}_func_call_statement(){if(!this._check(ee.tokens.ident))return null;const e=this._currentLine,n=this._current,r=this._consume(ee.tokens.ident,"Expected function name."),s=this._argument_expression_list();return s===null?(this._current=n,null):this._updateNode(new iT(r.lexeme,s),e)}_loop_statement(){if(!this._match(ee.keywords.loop))return null;this._check(ee.tokens.attr)&&this._attribute(),this._consume(ee.tokens.brace_left,"Expected '{' for loop.");const e=this._updateNode(new rF([],null));this._currentLoop.push(e);let n=this._statement();for(;n!==null;){if(Array.isArray(n))for(let r of n)e.body.push(r);else e.body.push(n);if(n instanceof wS){e.continuing=n;break}n=this._statement()}return this._currentLoop.pop(),this._consume(ee.tokens.brace_right,"Expected '}' for loop."),e}_switch_statement(){if(!this._match(ee.keywords.switch))return null;const e=this._updateNode(new sF(null,[]));if(this._currentLoop.push(e),e.condition=this._optional_paren_expression(),this._check(ee.tokens.attr)&&this._attribute(),this._consume(ee.tokens.brace_left,"Expected '{' for switch."),e.cases=this._switch_body(),e.cases==null||e.cases.length==0)throw this._error(this._previous(),"Expected 'case' or 'default'.");return this._consume(ee.tokens.brace_right,"Expected '}' for switch."),this._currentLoop.pop(),e}_switch_body(){const e=[];let n=!1;for(;this._check([ee.keywords.default,ee.keywords.case]);){if(this._match(ee.keywords.case)){const r=this._case_selectors();for(const o of r)if(o instanceof _x){if(n)throw this._error(this._previous(),"Multiple default cases in switch statement.");n=!0;break}this._match(ee.tokens.colon),this._check(ee.tokens.attr)&&this._attribute(),this._consume(ee.tokens.brace_left,"Exected '{' for switch case.");const s=this._case_body();this._consume(ee.tokens.brace_right,"Exected '}' for switch case."),e.push(this._updateNode(new pF(r,s)))}if(this._match(ee.keywords.default)){if(n)throw this._error(this._previous(),"Multiple default cases in switch statement.");this._match(ee.tokens.colon),this._check(ee.tokens.attr)&&this._attribute(),this._consume(ee.tokens.brace_left,"Exected '{' for switch default.");const r=this._case_body();this._consume(ee.tokens.brace_right,"Exected '}' for switch default."),e.push(this._updateNode(new mF(r)))}}return e}_case_selectors(){const e=[];for(this._match(ee.keywords.default)?e.push(this._updateNode(new _x)):e.push(this._shift_expression());this._match(ee.tokens.comma);)this._match(ee.keywords.default)?e.push(this._updateNode(new _x)):e.push(this._shift_expression());return e}_case_body(){if(this._match(ee.keywords.fallthrough))return this._consume(ee.tokens.semicolon,"Expected ';'"),[];let e=this._statement();if(e==null)return[];e instanceof Array||(e=[e]);const n=this._case_body();return n.length==0?e:[...e,n[0]]}_if_statement(){if(!this._match(ee.keywords.if))return null;const e=this._currentLine,n=this._optional_paren_expression();this._check(ee.tokens.attr)&&this._attribute();const r=this._compound_statement();let s=[];this._match_elseif()&&(this._check(ee.tokens.attr)&&this._attribute(),s=this._elseif_statement(s));let o=null;return this._match(ee.keywords.else)&&(this._check(ee.tokens.attr)&&this._attribute(),o=this._compound_statement()),this._updateNode(new iF(n,r,s,o),e)}_match_elseif(){return this._tokens[this._current].type===ee.keywords.else&&this._tokens[this._current+1].type===ee.keywords.if&&(this._advance(),this._advance(),!0)}_elseif_statement(e=[]){const n=this._optional_paren_expression(),r=this._compound_statement();return e.push(this._updateNode(new GJ(n,r))),this._match_elseif()&&(this._check(ee.tokens.attr)&&this._attribute(),this._elseif_statement(e)),e}_return_statement(){if(!this._match(ee.keywords.return))return null;const e=this._short_circuit_or_expression();return this._updateNode(new oF(e))}_short_circuit_or_expression(){let e=this._short_circuit_and_expr();for(;this._match(ee.tokens.or_or);)e=this._updateNode(new Wi(this._previous().toString(),e,this._short_circuit_and_expr()));return e}_short_circuit_and_expr(){let e=this._inclusive_or_expression();for(;this._match(ee.tokens.and_and);)e=this._updateNode(new Wi(this._previous().toString(),e,this._inclusive_or_expression()));return e}_inclusive_or_expression(){let e=this._exclusive_or_expression();for(;this._match(ee.tokens.or);)e=this._updateNode(new Wi(this._previous().toString(),e,this._exclusive_or_expression()));return e}_exclusive_or_expression(){let e=this._and_expression();for(;this._match(ee.tokens.xor);)e=this._updateNode(new Wi(this._previous().toString(),e,this._and_expression()));return e}_and_expression(){let e=this._equality_expression();for(;this._match(ee.tokens.and);)e=this._updateNode(new Wi(this._previous().toString(),e,this._equality_expression()));return e}_equality_expression(){const e=this._relational_expression();return this._match([ee.tokens.equal_equal,ee.tokens.not_equal])?this._updateNode(new Wi(this._previous().toString(),e,this._relational_expression())):e}_relational_expression(){let e=this._shift_expression();for(;this._match([ee.tokens.less_than,ee.tokens.greater_than,ee.tokens.less_than_equal,ee.tokens.greater_than_equal]);)e=this._updateNode(new Wi(this._previous().toString(),e,this._shift_expression()));return e}_shift_expression(){let e=this._additive_expression();for(;this._match([ee.tokens.shift_left,ee.tokens.shift_right]);)e=this._updateNode(new Wi(this._previous().toString(),e,this._additive_expression()));return e}_additive_expression(){let e=this._multiplicative_expression();for(;this._match([ee.tokens.plus,ee.tokens.minus]);)e=this._updateNode(new Wi(this._previous().toString(),e,this._multiplicative_expression()));return e}_multiplicative_expression(){let e=this._unary_expression();for(;this._match([ee.tokens.star,ee.tokens.forward_slash,ee.tokens.modulo]);)e=this._updateNode(new Wi(this._previous().toString(),e,this._unary_expression()));return e}_unary_expression(){return this._match([ee.tokens.minus,ee.tokens.bang,ee.tokens.tilde,ee.tokens.star,ee.tokens.and])?this._updateNode(new Pr(this._previous().toString(),this._unary_expression())):this._singular_expression()}_singular_expression(){const e=this._primary_expression(),n=this._postfix_expression();return n&&(e.postfix=n),e}_postfix_expression(){if(this._match(ee.tokens.bracket_left)){const e=this._short_circuit_or_expression();this._consume(ee.tokens.bracket_right,"Expected ']'.");const n=this._updateNode(new xd(e)),r=this._postfix_expression();return r&&(n.postfix=r),n}if(this._match(ee.tokens.period)){const e=this._consume(ee.tokens.name,"Expected member name."),n=this._postfix_expression(),r=this._updateNode(new hu(e.lexeme));return n&&(r.postfix=n),r}return null}_getStruct(e){return this._context.aliases.has(e)?this._context.aliases.get(e).type:this._context.structs.has(e)?this._context.structs.get(e):null}_getType(e){const n=this._getStruct(e);if(n!==null)return n;switch(e){case"void":return Ge.void;case"bool":return Ge.bool;case"i32":return Ge.i32;case"u32":return Ge.u32;case"f32":return Ge.f32;case"f16":return Ge.f16;case"vec2f":return ke.vec2f;case"vec3f":return ke.vec3f;case"vec4f":return ke.vec4f;case"vec2i":return ke.vec2i;case"vec3i":return ke.vec3i;case"vec4i":return ke.vec4i;case"vec2u":return ke.vec2u;case"vec3u":return ke.vec3u;case"vec4u":return ke.vec4u;case"vec2h":return ke.vec2h;case"vec3h":return ke.vec3h;case"vec4h":return ke.vec4h;case"mat2x2f":return ke.mat2x2f;case"mat2x3f":return ke.mat2x3f;case"mat2x4f":return ke.mat2x4f;case"mat3x2f":return ke.mat3x2f;case"mat3x3f":return ke.mat3x3f;case"mat3x4f":return ke.mat3x4f;case"mat4x2f":return ke.mat4x2f;case"mat4x3f":return ke.mat4x3f;case"mat4x4f":return ke.mat4x4f;case"mat2x2h":return ke.mat2x2h;case"mat2x3h":return ke.mat2x3h;case"mat2x4h":return ke.mat2x4h;case"mat3x2h":return ke.mat3x2h;case"mat3x3h":return ke.mat3x3h;case"mat3x4h":return ke.mat3x4h;case"mat4x2h":return ke.mat4x2h;case"mat4x3h":return ke.mat4x3h;case"mat4x4h":return ke.mat4x4h;case"mat2x2i":return ke.mat2x2i;case"mat2x3i":return ke.mat2x3i;case"mat2x4i":return ke.mat2x4i;case"mat3x2i":return ke.mat3x2i;case"mat3x3i":return ke.mat3x3i;case"mat3x4i":return ke.mat3x4i;case"mat4x2i":return ke.mat4x2i;case"mat4x3i":return ke.mat4x3i;case"mat4x4i":return ke.mat4x4i;case"mat2x2u":return ke.mat2x2u;case"mat2x3u":return ke.mat2x3u;case"mat2x4u":return ke.mat2x4u;case"mat3x2u":return ke.mat3x2u;case"mat3x3u":return ke.mat3x3u;case"mat3x4u":return ke.mat3x4u;case"mat4x2u":return ke.mat4x2u;case"mat4x3u":return ke.mat4x3u;case"mat4x4u":return ke.mat4x4u}return null}_validateTypeRange(e,n){if(n.name==="i32"){if(e<-2147483648||e>2147483647)throw this._error(this._previous(),`Value out of range for i32: ${e}. Line: ${this._currentLine}.`)}else if(n.name==="u32"&&(e<0||e>4294967295))throw this._error(this._previous(),`Value out of range for u32: ${e}. Line: ${this._currentLine}.`)}_primary_expression(){if(this._match(ee.tokens.ident)){const r=this._previous().toString();if(this._check(ee.tokens.paren_left)){const s=this._argument_expression_list(),o=this._getType(r);return o!==null?this._updateNode(new Ao(o,s)):this._updateNode(new aT(r,s))}if(this._context.constants.has(r)){const s=this._context.constants.get(r);return this._updateNode(new uF(r,s.value))}return this._updateNode(new li(r))}if(this._match(ee.tokens.int_literal)){const r=this._previous().toString();let s=r.endsWith("i")||r.endsWith("i")?Ge.i32:r.endsWith("u")||r.endsWith("U")?Ge.u32:Ge.x32;const o=parseInt(r);return this._validateTypeRange(o,s),this._updateNode(new Vr(new Te(o,this._exec.getTypeInfo(s)),s))}if(this._match(ee.tokens.uint_literal)){const r=parseInt(this._previous().toString());return this._validateTypeRange(r,Ge.u32),this._updateNode(new Vr(new Te(r,this._exec.getTypeInfo(Ge.u32)),Ge.u32))}if(this._match([ee.tokens.decimal_float_literal,ee.tokens.hex_float_literal])){let r=this._previous().toString(),s=r.endsWith("h");s&&(r=r.substring(0,r.length-1));const o=parseFloat(r);this._validateTypeRange(o,s?Ge.f16:Ge.f32);const l=s?Ge.f16:Ge.f32;return this._updateNode(new Vr(new Te(o,this._exec.getTypeInfo(l)),l))}if(this._match([ee.keywords.true,ee.keywords.false])){let r=this._previous().toString()===ee.keywords.true.rule;return this._updateNode(new Vr(new Te(r?1:0,this._exec.getTypeInfo(Ge.bool)),Ge.bool))}if(this._check(ee.tokens.paren_left))return this._paren_expression();if(this._match(ee.keywords.bitcast)){this._consume(ee.tokens.less_than,"Expected '<'.");const r=this._type_decl();this._consume(ee.tokens.greater_than,"Expected '>'.");const s=this._paren_expression();return this._updateNode(new fF(r,s))}const e=this._type_decl(),n=this._argument_expression_list();return this._updateNode(new Ao(e,n))}_argument_expression_list(){if(!this._match(ee.tokens.paren_left))return null;const e=[];do{if(this._check(ee.tokens.paren_right))break;const n=this._short_circuit_or_expression();e.push(n)}while(this._match(ee.tokens.comma));return this._consume(ee.tokens.paren_right,"Expected ')' for agument list"),e}_optional_paren_expression(){this._match(ee.tokens.paren_left);const e=this._short_circuit_or_expression();return this._match(ee.tokens.paren_right),e}_paren_expression(){this._consume(ee.tokens.paren_left,"Expected '('.");const e=this._short_circuit_or_expression();return this._consume(ee.tokens.paren_right,"Expected ')'."),e}_struct_decl(){if(!this._match(ee.keywords.struct))return null;const e=this._currentLine,n=this._consume(ee.tokens.ident,"Expected name for struct.").toString();this._consume(ee.tokens.brace_left,"Expected '{' for struct body.");const r=[];for(;!this._check(ee.tokens.brace_right);){const l=this._attribute(),c=this._consume(ee.tokens.name,"Expected variable name.").toString();this._consume(ee.tokens.colon,"Expected ':' for struct member type.");const f=this._attribute(),h=this._type_decl();h!=null&&(h.attributes=f),this._check(ee.tokens.brace_right)?this._match(ee.tokens.comma):this._consume(ee.tokens.comma,"Expected ',' for struct member."),r.push(this._updateNode(new X2(c,h,l)))}this._consume(ee.tokens.brace_right,"Expected '}' after struct body.");const s=this._currentLine,o=this._updateNode(new xa(n,r,e,s),e);return this._context.structs.set(n,o),o}_global_variable_decl(){const e=this._variable_decl();if(!e)return null;if(this._match(ee.tokens.equal)){const n=this._const_expression();e.value=n}if(e.type!==null&&e.value instanceof Vr){if(e.value.type.name!=="x32"&&e.type.getTypeName()!==e.value.type.getTypeName())throw this._error(this._peek(),`Invalid cast from ${e.value.type.name} to ${e.type.name}. Line:${this._currentLine}`);e.value.isScalar&&this._validateTypeRange(e.value.scalarValue,e.type),e.value.type=e.type}else e.type===null&&e.value instanceof Vr&&(e.type=e.value.type.name==="x32"?Ge.i32:e.value.type,e.value.isScalar&&this._validateTypeRange(e.value.scalarValue,e.type));return e}_override_variable_decl(){const e=this._override_decl();return e&&this._match(ee.tokens.equal)&&(e.value=this._const_expression()),e}_global_const_decl(){var e;if(!this._match(ee.keywords.const))return null;const n=this._consume(ee.tokens.name,"Expected variable name"),r=this._currentLine;let s=null;if(this._match(ee.tokens.colon)){const f=this._attribute();s=this._type_decl(),s!=null&&(s.attributes=f)}let o=null;this._consume(ee.tokens.equal,"const declarations require an assignment");const l=this._short_circuit_or_expression();try{let f=[Ge.f32],h=l.constEvaluate(this._exec,f);h instanceof Te&&this._validateTypeRange(h.value,f[0]),f[0]instanceof ke&&f[0].format===null&&h.typeInfo instanceof du&&h.typeInfo.format!==null&&(h.typeInfo.format.name==="f16"?f[0].format=Ge.f16:h.typeInfo.format.name==="f32"?f[0].format=Ge.f32:h.typeInfo.format.name==="i32"?f[0].format=Ge.i32:h.typeInfo.format.name==="u32"?f[0].format=Ge.u32:h.typeInfo.format.name==="bool"?f[0].format=Ge.bool:console.error(`TODO: impelement template format type ${h.typeInfo.format.name}`)),o=this._updateNode(new Vr(h,f[0])),this._exec.context.setVariable(n.toString(),h)}catch{o=l}if(s!==null&&o instanceof Vr){if(o.type.name!=="x32"&&s.getTypeName()!==o.type.getTypeName())throw this._error(this._peek(),`Invalid cast from ${o.type.name} to ${s.name}. Line:${this._currentLine}`);o.type=s,o.isScalar&&this._validateTypeRange(o.scalarValue,o.type)}else s===null&&o instanceof Vr&&(s=(e=o==null?void 0:o.type)!==null&&e!==void 0?e:Ge.f32,s===Ge.x32&&(s=Ge.i32));const c=this._updateNode(new xx(n.toString(),s,"","",o),r);return this._context.constants.set(c.name,c),c}_global_let_decl(){if(!this._match(ee.keywords.let))return null;const e=this._currentLine,n=this._consume(ee.tokens.name,"Expected variable name");let r=null;if(this._match(ee.tokens.colon)){const o=this._attribute();r=this._type_decl(),r!=null&&(r.attributes=o)}let s=null;if(this._match(ee.tokens.equal)&&(s=this._const_expression()),r!==null&&s instanceof Vr){if(s.type.name!=="x32"&&r.getTypeName()!==s.type.getTypeName())throw this._error(this._peek(),`Invalid cast from ${s.type.name} to ${r.name}. Line:${this._currentLine}`);s.type=r}else r===null&&s instanceof Vr&&(r=s.type.name==="x32"?Ge.i32:s.type);return s instanceof Vr&&s.isScalar&&this._validateTypeRange(s.scalarValue,r),this._updateNode(new Up(n.toString(),r,"","",s),e)}_const_expression(){return this._short_circuit_or_expression()}_variable_decl(){if(!this._match(ee.keywords.var))return null;const e=this._currentLine;let n="",r="";this._match(ee.tokens.less_than)&&(n=this._consume(ee.storage_class,"Expected storage_class.").toString(),this._match(ee.tokens.comma)&&(r=this._consume(ee.access_mode,"Expected access_mode.").toString()),this._consume(ee.tokens.greater_than,"Expected '>'."));const s=this._consume(ee.tokens.name,"Expected variable name");let o=null;if(this._match(ee.tokens.colon)){const l=this._attribute();o=this._type_decl(),o!=null&&(o.attributes=l)}return this._updateNode(new Sa(s.toString(),o,n,r,null),e)}_override_decl(){if(!this._match(ee.keywords.override))return null;const e=this._consume(ee.tokens.name,"Expected variable name");let n=null;if(this._match(ee.tokens.colon)){const r=this._attribute();n=this._type_decl(),n!=null&&(n.attributes=r)}return this._updateNode(new sT(e.toString(),n,null))}_diagnostic(){this._consume(ee.tokens.paren_left,"Expected '('");const e=this._consume(ee.tokens.ident,"Expected severity control name.");this._consume(ee.tokens.comma,"Expected ','");let n=this._consume(ee.tokens.ident,"Expected diagnostic rule name.").toString();return this._match(ee.tokens.period)&&(n+=`.${this._consume(ee.tokens.ident,"Expected diagnostic message.").toString()}`),this._consume(ee.tokens.paren_right,"Expected ')'"),this._updateNode(new aF(e.toString(),n))}_enable_directive(){const e=this._consume(ee.tokens.ident,"identity expected.");return this._updateNode(new YJ(e.toString()))}_requires_directive(){const e=[this._consume(ee.tokens.ident,"identity expected.").toString()];for(;this._match(ee.tokens.comma);){const n=this._consume(ee.tokens.ident,"identity expected.");e.push(n.toString())}return this._updateNode(new KJ(e))}_type_alias(){const e=this._consume(ee.tokens.ident,"identity expected.");this._consume(ee.tokens.equal,"Expected '=' for type alias.");let n=this._type_decl();if(n===null)throw this._error(this._peek(),"Expected Type for Alias.");this._context.aliases.has(n.name)&&(n=this._context.aliases.get(n.name).type);const r=this._updateNode(new oT(e.toString(),n));return this._context.aliases.set(r.name,r),r}_type_decl(){if(this._check([ee.tokens.ident,...ee.texel_format,ee.keywords.bool,ee.keywords.f32,ee.keywords.i32,ee.keywords.u32])){const r=this._advance().toString();if(this._context.structs.has(r))return this._context.structs.get(r);if(this._context.aliases.has(r))return this._context.aliases.get(r).type;if(!this._getType(r)){const s=this._updateNode(new W2(r));return this._forwardTypeCount++,s}return this._updateNode(new Ge(r))}let e=this._texture_sampler_types();if(e)return e;if(this._check(ee.template_types)){let r=this._advance().toString(),s=null,o=null;return this._match(ee.tokens.less_than)&&(s=this._type_decl(),o=null,this._match(ee.tokens.comma)&&(o=this._consume(ee.access_mode,"Expected access_mode for pointer").toString()),this._consume(ee.tokens.greater_than,"Expected '>' for type.")),this._updateNode(new ke(r,s,o))}if(this._match(ee.keywords.ptr)){let r=this._previous().toString();this._consume(ee.tokens.less_than,"Expected '<' for pointer.");const s=this._consume(ee.storage_class,"Expected storage_class for pointer");this._consume(ee.tokens.comma,"Expected ',' for pointer.");const o=this._type_decl();let l=null;return this._match(ee.tokens.comma)&&(l=this._consume(ee.access_mode,"Expected access_mode for pointer").toString()),this._consume(ee.tokens.greater_than,"Expected '>' for pointer."),this._updateNode(new vx(r,s.toString(),o,l))}const n=this._attribute();if(this._match(ee.keywords.array)){let r=null,s=-1;const o=this._previous();let l=null;if(this._match(ee.tokens.less_than)){r=this._type_decl(),this._context.aliases.has(r.name)&&(r=this._context.aliases.get(r.name).type);let f="";if(this._match(ee.tokens.comma)){l=this._shift_expression();try{f=l.constEvaluate(this._exec).toString(),l=null}catch{f="1"}}this._consume(ee.tokens.greater_than,"Expected '>' for array."),s=f?parseInt(f):0}const c=this._updateNode(new Vp(o.toString(),n,r,s));return l&&this._deferArrayCountEval.push({arrayType:c,countNode:l}),c}return null}_texture_sampler_types(){if(this._match(ee.sampler_type))return this._updateNode(new Cp(this._previous().toString(),null,null));if(this._match(ee.depth_texture_type))return this._updateNode(new Cp(this._previous().toString(),null,null));if(this._match(ee.sampled_texture_type)||this._match(ee.multisampled_texture_type)){const e=this._previous();this._consume(ee.tokens.less_than,"Expected '<' for sampler type.");const n=this._type_decl();return this._consume(ee.tokens.greater_than,"Expected '>' for sampler type."),this._updateNode(new Cp(e.toString(),n,null))}if(this._match(ee.storage_texture_type)){const e=this._previous();this._consume(ee.tokens.less_than,"Expected '<' for sampler type.");const n=this._consume(ee.texel_format,"Invalid texel format.").toString();this._consume(ee.tokens.comma,"Expected ',' after texel format.");const r=this._consume(ee.access_mode,"Expected access mode for storage texture type.").toString();return this._consume(ee.tokens.greater_than,"Expected '>' for sampler type."),this._updateNode(new Cp(e.toString(),n,r))}return null}_attribute(){let e=[];for(;this._match(ee.tokens.attr);){const n=this._consume(ee.attribute_name,"Expected attribute name"),r=this._updateNode(new gF(n.toString(),null));if(this._match(ee.tokens.paren_left)){if(r.value=this._consume(ee.literal_or_ident,"Expected attribute value").toString(),this._check(ee.tokens.comma)){this._advance();do{const s=this._consume(ee.literal_or_ident,"Expected attribute value").toString();r.value instanceof Array||(r.value=[r.value]),r.value.push(s)}while(this._match(ee.tokens.comma))}this._consume(ee.tokens.paren_right,"Expected ')'")}e.push(r)}return e.length==0?null:e}}class fee extends Uo{constructor(e){super(),e&&this.update(e)}update(e){const n=new uee().parse(e);this.updateAST(n)}}function dee(t){var o;const e={attributes:[],bindings:[]};let n;try{n=hee(t)}catch(l){return ot.error(l.message)(),e}for(const l of n.uniforms){const c=[];for(const f of((o=l.type)==null?void 0:o.members)||[])c.push({name:f.name,type:Z2(f.type)});e.bindings.push({type:"uniform",name:l.name,group:l.group,location:l.binding,members:c})}for(const l of n.textures)e.bindings.push({type:"texture",name:l.name,group:l.group,location:l.binding});for(const l of n.samplers)e.bindings.push({type:"sampler",name:l.name,group:l.group,location:l.binding});const r=n.entry.vertex[0],s=(r==null?void 0:r.inputs.length)||0;for(let l=0;l<s;l++){const c=r.inputs[l];if(c.locationType==="location"){const f=Z2(c.type);e.attributes.push({name:c.name,location:Number(c.location),type:f})}}return e}function Z2(t){return t.format?`${t.name}<${t.format.name}>`:t.name}function hee(t){try{return new fee(t)}catch(e){if(e instanceof Error)throw e;let n="WGSL parse error";throw typeof e=="object"&&(e!=null&&e.message)&&(n+=`: ${e.message} `),typeof e=="object"&&(e!=null&&e.token)&&(n+=e.token.line||""),new Error(n,{cause:e})}}const pee={EPSILON:1e-12,debug:!1,precision:4,printTypes:!1,printDegrees:!1,printRowMajor:!0,_cartographicRadians:!1};globalThis.mathgl=globalThis.mathgl||{config:{...pee}};const ki=globalThis.mathgl.config;function mee(t,{precision:e=ki.precision}={}){return t=gee(t),`${parseFloat(t.toPrecision(e))}`}function yd(t){return Array.isArray(t)||ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Ml(t,e,n){return xee(t,r=>Math.max(e,Math.min(n,r)))}function ay(t,e,n){return yd(t)?t.map((r,s)=>ay(r,e[s],n)):n*e+(1-n)*t}function rm(t,e,n){const r=ki.EPSILON;try{if(t===e)return!0;if(yd(t)&&yd(e)){if(t.length!==e.length)return!1;for(let s=0;s<t.length;++s)if(!rm(t[s],e[s]))return!1;return!0}return t&&t.equals?t.equals(e):e&&e.equals?e.equals(t):typeof t=="number"&&typeof e=="number"?Math.abs(t-e)<=ki.EPSILON*Math.max(1,Math.abs(t),Math.abs(e)):!1}finally{ki.EPSILON=r}}function gee(t){return Math.round(t/ki.EPSILON)*ki.EPSILON}function bee(t){return t.clone?t.clone():new Array(t.length)}function xee(t,e,n){if(yd(t)){const r=t;n=n||bee(r);for(let s=0;s<n.length&&s<r.length;++s){const o=typeof t=="number"?t:t[s];n[s]=e(o,s,n)}return n}return e(t)}class bF extends Array{clone(){return new this.constructor().copy(this)}fromArray(e,n=0){for(let r=0;r<this.ELEMENTS;++r)this[r]=e[r+n];return this.check()}toArray(e=[],n=0){for(let r=0;r<this.ELEMENTS;++r)e[n+r]=this[r];return e}toObject(e){return e}from(e){return Array.isArray(e)?this.copy(e):this.fromObject(e)}to(e){return e===this?this:yd(e)?this.toArray(e):this.toObject(e)}toTarget(e){return e?this.to(e):this}toFloat32Array(){return new Float32Array(this)}toString(){return this.formatString(ki)}formatString(e){let n="";for(let r=0;r<this.ELEMENTS;++r)n+=(r>0?", ":"")+mee(this[r],e);return`${e.printTypes?this.constructor.name:""}[${n}]`}equals(e){if(!e||this.length!==e.length)return!1;for(let n=0;n<this.ELEMENTS;++n)if(!rm(this[n],e[n]))return!1;return!0}exactEquals(e){if(!e||this.length!==e.length)return!1;for(let n=0;n<this.ELEMENTS;++n)if(this[n]!==e[n])return!1;return!0}negate(){for(let e=0;e<this.ELEMENTS;++e)this[e]=-this[e];return this.check()}lerp(e,n,r){if(r===void 0)return this.lerp(this,e,n);for(let s=0;s<this.ELEMENTS;++s){const o=e[s],l=typeof n=="number"?n:n[s];this[s]=o+r*(l-o)}return this.check()}min(e){for(let n=0;n<this.ELEMENTS;++n)this[n]=Math.min(e[n],this[n]);return this.check()}max(e){for(let n=0;n<this.ELEMENTS;++n)this[n]=Math.max(e[n],this[n]);return this.check()}clamp(e,n){for(let r=0;r<this.ELEMENTS;++r)this[r]=Math.min(Math.max(this[r],e[r]),n[r]);return this.check()}add(...e){for(const n of e)for(let r=0;r<this.ELEMENTS;++r)this[r]+=n[r];return this.check()}subtract(...e){for(const n of e)for(let r=0;r<this.ELEMENTS;++r)this[r]-=n[r];return this.check()}scale(e){if(typeof e=="number")for(let n=0;n<this.ELEMENTS;++n)this[n]*=e;else for(let n=0;n<this.ELEMENTS&&n<e.length;++n)this[n]*=e[n];return this.check()}multiplyByScalar(e){for(let n=0;n<this.ELEMENTS;++n)this[n]*=e;return this.check()}check(){if(ki.debug&&!this.validate())throw new Error(`math.gl: ${this.constructor.name} some fields set to invalid numbers'`);return this}validate(){let e=this.length===this.ELEMENTS;for(let n=0;n<this.ELEMENTS;++n)e=e&&Number.isFinite(this[n]);return e}sub(e){return this.subtract(e)}setScalar(e){for(let n=0;n<this.ELEMENTS;++n)this[n]=e;return this.check()}addScalar(e){for(let n=0;n<this.ELEMENTS;++n)this[n]+=e;return this.check()}subScalar(e){return this.addScalar(-e)}multiplyScalar(e){for(let n=0;n<this.ELEMENTS;++n)this[n]*=e;return this.check()}divideScalar(e){return this.multiplyByScalar(1/e)}clampScalar(e,n){for(let r=0;r<this.ELEMENTS;++r)this[r]=Math.min(Math.max(this[r],e),n);return this.check()}get elements(){return this}}function yee(t,e){if(t.length!==e)return!1;for(let n=0;n<t.length;++n)if(!Number.isFinite(t[n]))return!1;return!0}function oi(t){if(!Number.isFinite(t))throw new Error(`Invalid number ${JSON.stringify(t)}`);return t}function I1(t,e,n=""){if(ki.debug&&!yee(t,e))throw new Error(`math.gl: ${n} some fields set to invalid numbers'`);return t}function G2(t,e){if(!t)throw new Error(`math.gl assertion ${e}`)}class vee extends bF{get x(){return this[0]}set x(e){this[0]=oi(e)}get y(){return this[1]}set y(e){this[1]=oi(e)}len(){return Math.sqrt(this.lengthSquared())}magnitude(){return this.len()}lengthSquared(){let e=0;for(let n=0;n<this.ELEMENTS;++n)e+=this[n]*this[n];return e}magnitudeSquared(){return this.lengthSquared()}distance(e){return Math.sqrt(this.distanceSquared(e))}distanceSquared(e){let n=0;for(let r=0;r<this.ELEMENTS;++r){const s=this[r]-e[r];n+=s*s}return oi(n)}dot(e){let n=0;for(let r=0;r<this.ELEMENTS;++r)n+=this[r]*e[r];return oi(n)}normalize(){const e=this.magnitude();if(e!==0)for(let n=0;n<this.ELEMENTS;++n)this[n]/=e;return this.check()}multiply(...e){for(const n of e)for(let r=0;r<this.ELEMENTS;++r)this[r]*=n[r];return this.check()}divide(...e){for(const n of e)for(let r=0;r<this.ELEMENTS;++r)this[r]/=n[r];return this.check()}lengthSq(){return this.lengthSquared()}distanceTo(e){return this.distance(e)}distanceToSquared(e){return this.distanceSquared(e)}getComponent(e){return G2(e>=0&&e<this.ELEMENTS,"index is out of range"),oi(this[e])}setComponent(e,n){return G2(e>=0&&e<this.ELEMENTS,"index is out of range"),this[e]=n,this.check()}addVectors(e,n){return this.copy(e).add(n)}subVectors(e,n){return this.copy(e).subtract(n)}multiplyVectors(e,n){return this.copy(e).multiply(n)}addScaledVector(e,n){return this.add(new this.constructor(e).multiplyScalar(n))}}const wx=1e-6;let vd=typeof Float32Array<"u"?Float32Array:Array;function _ee(){const t=new vd(2);return vd!=Float32Array&&(t[0]=0,t[1]=0),t}function Q2(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function wee(t,e){return t[0]=-e[0],t[1]=-e[1],t}function xF(t,e,n,r){const s=e[0],o=e[1];return t[0]=s+r*(n[0]-s),t[1]=o+r*(n[1]-o),t}function Nee(t,e,n){const r=e[0],s=e[1];return t[0]=n[0]*r+n[4]*s+n[12],t[1]=n[1]*r+n[5]*s+n[13],t}(function(){const t=_ee();return function(e,n,r,s,o,l){let c,f;for(n||(n=2),r||(r=0),s?f=Math.min(s*n+r,e.length):f=e.length,c=r;c<f;c+=n)t[0]=e[c],t[1]=e[c+1],o(t,t,l),e[c]=t[0],e[c+1]=t[1];return e}})();function See(t,e,n){const r=e[0],s=e[1],o=n[3]*r+n[7]*s||1;return t[0]=(n[0]*r+n[4]*s)/o,t[1]=(n[1]*r+n[5]*s)/o,t}function yF(t,e,n){const r=e[0],s=e[1],o=e[2],l=n[3]*r+n[7]*s+n[11]*o||1;return t[0]=(n[0]*r+n[4]*s+n[8]*o)/l,t[1]=(n[1]*r+n[5]*s+n[9]*o)/l,t[2]=(n[2]*r+n[6]*s+n[10]*o)/l,t}function Eee(t,e,n){const r=e[0],s=e[1];return t[0]=n[0]*r+n[2]*s,t[1]=n[1]*r+n[3]*s,t[2]=e[2],t}function Tee(){const t=new vd(3);return vd!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function Aee(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function Cee(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function Ree(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function kee(t,e,n){const r=e[0],s=e[1],o=e[2],l=n[0],c=n[1],f=n[2];return t[0]=s*f-o*c,t[1]=o*l-r*f,t[2]=r*c-s*l,t}function vF(t,e,n){const r=e[0],s=e[1],o=e[2];let l=n[3]*r+n[7]*s+n[11]*o+n[15];return l=l||1,t[0]=(n[0]*r+n[4]*s+n[8]*o+n[12])/l,t[1]=(n[1]*r+n[5]*s+n[9]*o+n[13])/l,t[2]=(n[2]*r+n[6]*s+n[10]*o+n[14])/l,t}function Pee(t,e,n){const r=e[0],s=e[1],o=e[2];return t[0]=r*n[0]+s*n[3]+o*n[6],t[1]=r*n[1]+s*n[4]+o*n[7],t[2]=r*n[2]+s*n[5]+o*n[8],t}function Dee(t,e,n){const r=n[0],s=n[1],o=n[2],l=n[3],c=e[0],f=e[1],h=e[2];let p=s*h-o*f,m=o*c-r*h,b=r*f-s*c,_=s*b-o*m,E=o*p-r*b,T=r*m-s*p;const C=l*2;return p*=C,m*=C,b*=C,_*=2,E*=2,T*=2,t[0]=c+p+_,t[1]=f+m+E,t[2]=h+b+T,t}function Mee(t,e,n,r){const s=[],o=[];return s[0]=e[0]-n[0],s[1]=e[1]-n[1],s[2]=e[2]-n[2],o[0]=s[0],o[1]=s[1]*Math.cos(r)-s[2]*Math.sin(r),o[2]=s[1]*Math.sin(r)+s[2]*Math.cos(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function jee(t,e,n,r){const s=[],o=[];return s[0]=e[0]-n[0],s[1]=e[1]-n[1],s[2]=e[2]-n[2],o[0]=s[2]*Math.sin(r)+s[0]*Math.cos(r),o[1]=s[1],o[2]=s[2]*Math.cos(r)-s[0]*Math.sin(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function Iee(t,e,n,r){const s=[],o=[];return s[0]=e[0]-n[0],s[1]=e[1]-n[1],s[2]=e[2]-n[2],o[0]=s[0]*Math.cos(r)-s[1]*Math.sin(r),o[1]=s[0]*Math.sin(r)+s[1]*Math.cos(r),o[2]=s[2],t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function Oee(t,e){const n=t[0],r=t[1],s=t[2],o=e[0],l=e[1],c=e[2],f=Math.sqrt((n*n+r*r+s*s)*(o*o+l*l+c*c)),h=f&&Ree(t,e)/f;return Math.acos(Math.min(Math.max(h,-1),1))}const Uee=Aee;(function(){const t=Tee();return function(e,n,r,s,o,l){let c,f;for(n||(n=3),r||(r=0),s?f=Math.min(s*n+r,e.length):f=e.length,c=r;c<f;c+=n)t[0]=e[c],t[1]=e[c+1],t[2]=e[c+2],o(t,t,l),e[c]=t[0],e[c+1]=t[1],e[c+2]=t[2];return e}})();const O1=[0,0,0];let Zb;class Bo extends vee{static get ZERO(){return Zb||(Zb=new Bo(0,0,0),Object.freeze(Zb)),Zb}constructor(e=0,n=0,r=0){super(-0,-0,-0),arguments.length===1&&yd(e)?this.copy(e):(ki.debug&&(oi(e),oi(n),oi(r)),this[0]=e,this[1]=n,this[2]=r)}set(e,n,r){return this[0]=e,this[1]=n,this[2]=r,this.check()}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this.check()}fromObject(e){return ki.debug&&(oi(e.x),oi(e.y),oi(e.z)),this[0]=e.x,this[1]=e.y,this[2]=e.z,this.check()}toObject(e){return e.x=this[0],e.y=this[1],e.z=this[2],e}get ELEMENTS(){return 3}get z(){return this[2]}set z(e){this[2]=oi(e)}angle(e){return Oee(this,e)}cross(e){return kee(this,this,e),this.check()}rotateX({radians:e,origin:n=O1}){return Mee(this,this,n,e),this.check()}rotateY({radians:e,origin:n=O1}){return jee(this,this,n,e),this.check()}rotateZ({radians:e,origin:n=O1}){return Iee(this,this,n,e),this.check()}transform(e){return this.transformAsPoint(e)}transformAsPoint(e){return vF(this,this,e),this.check()}transformAsVector(e){return yF(this,this,e),this.check()}transformByMatrix3(e){return Pee(this,this,e),this.check()}transformByMatrix2(e){return Eee(this,this,e),this.check()}transformByQuaternion(e){return Dee(this,this,e),this.check()}}let Vee=class extends bF{toString(){let e="[";if(ki.printRowMajor){e+="row-major:";for(let n=0;n<this.RANK;++n)for(let r=0;r<this.RANK;++r)e+=` ${this[r*this.RANK+n]}`}else{e+="column-major:";for(let n=0;n<this.ELEMENTS;++n)e+=` ${this[n]}`}return e+="]",e}getElementIndex(e,n){return n*this.RANK+e}getElement(e,n){return this[n*this.RANK+e]}setElement(e,n,r){return this[n*this.RANK+e]=oi(r),this}getColumn(e,n=new Array(this.RANK).fill(-0)){const r=e*this.RANK;for(let s=0;s<this.RANK;++s)n[s]=this[r+s];return n}setColumn(e,n){const r=e*this.RANK;for(let s=0;s<this.RANK;++s)this[r+s]=n[s];return this}};function Fee(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Bee(t,e){if(t===e){const n=e[1],r=e[2],s=e[3],o=e[6],l=e[7],c=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=o,t[11]=e[14],t[12]=s,t[13]=l,t[14]=c}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function SS(t,e){const n=e[0],r=e[1],s=e[2],o=e[3],l=e[4],c=e[5],f=e[6],h=e[7],p=e[8],m=e[9],b=e[10],_=e[11],E=e[12],T=e[13],C=e[14],D=e[15],M=n*c-r*l,P=n*f-s*l,U=n*h-o*l,L=r*f-s*c,O=r*h-o*c,Y=s*h-o*f,ne=p*T-m*E,G=p*C-b*E,K=p*D-_*E,Q=m*C-b*T,de=m*D-_*T,pe=b*D-_*C;let le=M*pe-P*de+U*Q+L*K-O*G+Y*ne;return le?(le=1/le,t[0]=(c*pe-f*de+h*Q)*le,t[1]=(s*de-r*pe-o*Q)*le,t[2]=(T*Y-C*O+D*L)*le,t[3]=(b*O-m*Y-_*L)*le,t[4]=(f*K-l*pe-h*G)*le,t[5]=(n*pe-s*K+o*G)*le,t[6]=(C*U-E*Y-D*P)*le,t[7]=(p*Y-b*U+_*P)*le,t[8]=(l*de-c*K+h*ne)*le,t[9]=(r*K-n*de-o*ne)*le,t[10]=(E*O-T*U+D*M)*le,t[11]=(m*U-p*O-_*M)*le,t[12]=(c*G-l*Q-f*ne)*le,t[13]=(n*Q-r*G+s*ne)*le,t[14]=(T*P-E*L-C*M)*le,t[15]=(p*L-m*P+b*M)*le,t):null}function Lee(t){const e=t[0],n=t[1],r=t[2],s=t[3],o=t[4],l=t[5],c=t[6],f=t[7],h=t[8],p=t[9],m=t[10],b=t[11],_=t[12],E=t[13],T=t[14],C=t[15],D=e*l-n*o,M=e*c-r*o,P=n*c-r*l,U=h*E-p*_,L=h*T-m*_,O=p*T-m*E,Y=e*O-n*L+r*U,ne=o*O-l*L+c*U,G=h*P-p*M+m*D,K=_*P-E*M+T*D;return f*Y-s*ne+C*G-b*K}function Zc(t,e,n){const r=e[0],s=e[1],o=e[2],l=e[3],c=e[4],f=e[5],h=e[6],p=e[7],m=e[8],b=e[9],_=e[10],E=e[11],T=e[12],C=e[13],D=e[14],M=e[15];let P=n[0],U=n[1],L=n[2],O=n[3];return t[0]=P*r+U*c+L*m+O*T,t[1]=P*s+U*f+L*b+O*C,t[2]=P*o+U*h+L*_+O*D,t[3]=P*l+U*p+L*E+O*M,P=n[4],U=n[5],L=n[6],O=n[7],t[4]=P*r+U*c+L*m+O*T,t[5]=P*s+U*f+L*b+O*C,t[6]=P*o+U*h+L*_+O*D,t[7]=P*l+U*p+L*E+O*M,P=n[8],U=n[9],L=n[10],O=n[11],t[8]=P*r+U*c+L*m+O*T,t[9]=P*s+U*f+L*b+O*C,t[10]=P*o+U*h+L*_+O*D,t[11]=P*l+U*p+L*E+O*M,P=n[12],U=n[13],L=n[14],O=n[15],t[12]=P*r+U*c+L*m+O*T,t[13]=P*s+U*f+L*b+O*C,t[14]=P*o+U*h+L*_+O*D,t[15]=P*l+U*p+L*E+O*M,t}function ly(t,e,n){const r=n[0],s=n[1],o=n[2];let l,c,f,h,p,m,b,_,E,T,C,D;return e===t?(t[12]=e[0]*r+e[4]*s+e[8]*o+e[12],t[13]=e[1]*r+e[5]*s+e[9]*o+e[13],t[14]=e[2]*r+e[6]*s+e[10]*o+e[14],t[15]=e[3]*r+e[7]*s+e[11]*o+e[15]):(l=e[0],c=e[1],f=e[2],h=e[3],p=e[4],m=e[5],b=e[6],_=e[7],E=e[8],T=e[9],C=e[10],D=e[11],t[0]=l,t[1]=c,t[2]=f,t[3]=h,t[4]=p,t[5]=m,t[6]=b,t[7]=_,t[8]=E,t[9]=T,t[10]=C,t[11]=D,t[12]=l*r+p*s+E*o+e[12],t[13]=c*r+m*s+T*o+e[13],t[14]=f*r+b*s+C*o+e[14],t[15]=h*r+_*s+D*o+e[15]),t}function dT(t,e,n){const r=n[0],s=n[1],o=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*s,t[5]=e[5]*s,t[6]=e[6]*s,t[7]=e[7]*s,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function zee(t,e,n,r){let s=r[0],o=r[1],l=r[2],c=Math.sqrt(s*s+o*o+l*l),f,h,p,m,b,_,E,T,C,D,M,P,U,L,O,Y,ne,G,K,Q,de,pe,le,ye;return c<wx?null:(c=1/c,s*=c,o*=c,l*=c,h=Math.sin(n),f=Math.cos(n),p=1-f,m=e[0],b=e[1],_=e[2],E=e[3],T=e[4],C=e[5],D=e[6],M=e[7],P=e[8],U=e[9],L=e[10],O=e[11],Y=s*s*p+f,ne=o*s*p+l*h,G=l*s*p-o*h,K=s*o*p-l*h,Q=o*o*p+f,de=l*o*p+s*h,pe=s*l*p+o*h,le=o*l*p-s*h,ye=l*l*p+f,t[0]=m*Y+T*ne+P*G,t[1]=b*Y+C*ne+U*G,t[2]=_*Y+D*ne+L*G,t[3]=E*Y+M*ne+O*G,t[4]=m*K+T*Q+P*de,t[5]=b*K+C*Q+U*de,t[6]=_*K+D*Q+L*de,t[7]=E*K+M*Q+O*de,t[8]=m*pe+T*le+P*ye,t[9]=b*pe+C*le+U*ye,t[10]=_*pe+D*le+L*ye,t[11]=E*pe+M*le+O*ye,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function _F(t,e,n){const r=Math.sin(n),s=Math.cos(n),o=e[4],l=e[5],c=e[6],f=e[7],h=e[8],p=e[9],m=e[10],b=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*s+h*r,t[5]=l*s+p*r,t[6]=c*s+m*r,t[7]=f*s+b*r,t[8]=h*s-o*r,t[9]=p*s-l*r,t[10]=m*s-c*r,t[11]=b*s-f*r,t}function $ee(t,e,n){const r=Math.sin(n),s=Math.cos(n),o=e[0],l=e[1],c=e[2],f=e[3],h=e[8],p=e[9],m=e[10],b=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*s-h*r,t[1]=l*s-p*r,t[2]=c*s-m*r,t[3]=f*s-b*r,t[8]=o*r+h*s,t[9]=l*r+p*s,t[10]=c*r+m*s,t[11]=f*r+b*s,t}function wF(t,e,n){const r=Math.sin(n),s=Math.cos(n),o=e[0],l=e[1],c=e[2],f=e[3],h=e[4],p=e[5],m=e[6],b=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*s+h*r,t[1]=l*s+p*r,t[2]=c*s+m*r,t[3]=f*s+b*r,t[4]=h*s-o*r,t[5]=p*s-l*r,t[6]=m*s-c*r,t[7]=b*s-f*r,t}function Hee(t,e){const n=e[0],r=e[1],s=e[2],o=e[3],l=n+n,c=r+r,f=s+s,h=n*l,p=r*l,m=r*c,b=s*l,_=s*c,E=s*f,T=o*l,C=o*c,D=o*f;return t[0]=1-m-E,t[1]=p+D,t[2]=b-C,t[3]=0,t[4]=p-D,t[5]=1-h-E,t[6]=_+T,t[7]=0,t[8]=b+C,t[9]=_-T,t[10]=1-h-m,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Wee(t,e,n,r,s,o,l){const c=1/(n-e),f=1/(s-r),h=1/(o-l);return t[0]=o*2*c,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o*2*f,t[6]=0,t[7]=0,t[8]=(n+e)*c,t[9]=(s+r)*f,t[10]=(l+o)*h,t[11]=-1,t[12]=0,t[13]=0,t[14]=l*o*2*h,t[15]=0,t}function qee(t,e,n,r,s){const o=1/Math.tan(e/2);if(t[0]=o/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,s!=null&&s!==1/0){const l=1/(r-s);t[10]=(s+r)*l,t[14]=2*s*r*l}else t[10]=-1,t[14]=-2*r;return t}const Xee=qee;function Yee(t,e,n,r,s,o,l){const c=1/(e-n),f=1/(r-s),h=1/(o-l);return t[0]=-2*c,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*f,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*h,t[11]=0,t[12]=(e+n)*c,t[13]=(s+r)*f,t[14]=(l+o)*h,t[15]=1,t}const Kee=Yee;function Zee(t,e,n,r){let s,o,l,c,f,h,p,m,b,_;const E=e[0],T=e[1],C=e[2],D=r[0],M=r[1],P=r[2],U=n[0],L=n[1],O=n[2];return Math.abs(E-U)<wx&&Math.abs(T-L)<wx&&Math.abs(C-O)<wx?Fee(t):(m=E-U,b=T-L,_=C-O,s=1/Math.sqrt(m*m+b*b+_*_),m*=s,b*=s,_*=s,o=M*_-P*b,l=P*m-D*_,c=D*b-M*m,s=Math.sqrt(o*o+l*l+c*c),s?(s=1/s,o*=s,l*=s,c*=s):(o=0,l=0,c=0),f=b*c-_*l,h=_*o-m*c,p=m*l-b*o,s=Math.sqrt(f*f+h*h+p*p),s?(s=1/s,f*=s,h*=s,p*=s):(f=0,h=0,p=0),t[0]=o,t[1]=f,t[2]=m,t[3]=0,t[4]=l,t[5]=h,t[6]=b,t[7]=0,t[8]=c,t[9]=p,t[10]=_,t[11]=0,t[12]=-(o*E+l*T+c*C),t[13]=-(f*E+h*T+p*C),t[14]=-(m*E+b*T+_*C),t[15]=1,t)}function Gee(){const t=new vd(4);return vd!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function Qee(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t}function Tm(t,e,n){const r=e[0],s=e[1],o=e[2],l=e[3];return t[0]=n[0]*r+n[4]*s+n[8]*o+n[12]*l,t[1]=n[1]*r+n[5]*s+n[9]*o+n[13]*l,t[2]=n[2]*r+n[6]*s+n[10]*o+n[14]*l,t[3]=n[3]*r+n[7]*s+n[11]*o+n[15]*l,t}(function(){const t=Gee();return function(e,n,r,s,o,l){let c,f;for(n||(n=4),r||(r=0),s?f=Math.min(s*n+r,e.length):f=e.length,c=r;c<f;c+=n)t[0]=e[c],t[1]=e[c+1],t[2]=e[c+2],t[3]=e[c+3],o(t,t,l),e[c]=t[0],e[c+1]=t[1],e[c+2]=t[2],e[c+3]=t[3];return e}})();var ES;(function(t){t[t.COL0ROW0=0]="COL0ROW0",t[t.COL0ROW1=1]="COL0ROW1",t[t.COL0ROW2=2]="COL0ROW2",t[t.COL0ROW3=3]="COL0ROW3",t[t.COL1ROW0=4]="COL1ROW0",t[t.COL1ROW1=5]="COL1ROW1",t[t.COL1ROW2=6]="COL1ROW2",t[t.COL1ROW3=7]="COL1ROW3",t[t.COL2ROW0=8]="COL2ROW0",t[t.COL2ROW1=9]="COL2ROW1",t[t.COL2ROW2=10]="COL2ROW2",t[t.COL2ROW3=11]="COL2ROW3",t[t.COL3ROW0=12]="COL3ROW0",t[t.COL3ROW1=13]="COL3ROW1",t[t.COL3ROW2=14]="COL3ROW2",t[t.COL3ROW3=15]="COL3ROW3"})(ES||(ES={}));const Jee=45*Math.PI/180,ete=1,U1=.1,V1=500,tte=Object.freeze([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);class Lo extends Vee{static get IDENTITY(){return rte()}static get ZERO(){return nte()}get ELEMENTS(){return 16}get RANK(){return 4}get INDICES(){return ES}constructor(e){super(-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0),arguments.length===1&&Array.isArray(e)?this.copy(e):this.identity()}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this[4]=e[4],this[5]=e[5],this[6]=e[6],this[7]=e[7],this[8]=e[8],this[9]=e[9],this[10]=e[10],this[11]=e[11],this[12]=e[12],this[13]=e[13],this[14]=e[14],this[15]=e[15],this.check()}set(e,n,r,s,o,l,c,f,h,p,m,b,_,E,T,C){return this[0]=e,this[1]=n,this[2]=r,this[3]=s,this[4]=o,this[5]=l,this[6]=c,this[7]=f,this[8]=h,this[9]=p,this[10]=m,this[11]=b,this[12]=_,this[13]=E,this[14]=T,this[15]=C,this.check()}setRowMajor(e,n,r,s,o,l,c,f,h,p,m,b,_,E,T,C){return this[0]=e,this[1]=o,this[2]=h,this[3]=_,this[4]=n,this[5]=l,this[6]=p,this[7]=E,this[8]=r,this[9]=c,this[10]=m,this[11]=T,this[12]=s,this[13]=f,this[14]=b,this[15]=C,this.check()}toRowMajor(e){return e[0]=this[0],e[1]=this[4],e[2]=this[8],e[3]=this[12],e[4]=this[1],e[5]=this[5],e[6]=this[9],e[7]=this[13],e[8]=this[2],e[9]=this[6],e[10]=this[10],e[11]=this[14],e[12]=this[3],e[13]=this[7],e[14]=this[11],e[15]=this[15],e}identity(){return this.copy(tte)}fromObject(e){return this.check()}fromQuaternion(e){return Hee(this,e),this.check()}frustum(e){const{left:n,right:r,bottom:s,top:o,near:l=U1,far:c=V1}=e;return c===1/0?ste(this,n,r,s,o,l):Wee(this,n,r,s,o,l,c),this.check()}lookAt(e){const{eye:n,center:r=[0,0,0],up:s=[0,1,0]}=e;return Zee(this,n,r,s),this.check()}ortho(e){const{left:n,right:r,bottom:s,top:o,near:l=U1,far:c=V1}=e;return Kee(this,n,r,s,o,l,c),this.check()}orthographic(e){const{fovy:n=Jee,aspect:r=ete,focalDistance:s=1,near:o=U1,far:l=V1}=e;J2(n);const c=n/2,f=s*Math.tan(c),h=f*r;return this.ortho({left:-h,right:h,bottom:-f,top:f,near:o,far:l})}perspective(e){const{fovy:n=45*Math.PI/180,aspect:r=1,near:s=.1,far:o=500}=e;return J2(n),Xee(this,n,r,s,o),this.check()}determinant(){return Lee(this)}getScale(e=[-0,-0,-0]){return e[0]=Math.sqrt(this[0]*this[0]+this[1]*this[1]+this[2]*this[2]),e[1]=Math.sqrt(this[4]*this[4]+this[5]*this[5]+this[6]*this[6]),e[2]=Math.sqrt(this[8]*this[8]+this[9]*this[9]+this[10]*this[10]),e}getTranslation(e=[-0,-0,-0]){return e[0]=this[12],e[1]=this[13],e[2]=this[14],e}getRotation(e,n){e=e||[-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0],n=n||[-0,-0,-0];const r=this.getScale(n),s=1/r[0],o=1/r[1],l=1/r[2];return e[0]=this[0]*s,e[1]=this[1]*o,e[2]=this[2]*l,e[3]=0,e[4]=this[4]*s,e[5]=this[5]*o,e[6]=this[6]*l,e[7]=0,e[8]=this[8]*s,e[9]=this[9]*o,e[10]=this[10]*l,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}getRotationMatrix3(e,n){e=e||[-0,-0,-0,-0,-0,-0,-0,-0,-0],n=n||[-0,-0,-0];const r=this.getScale(n),s=1/r[0],o=1/r[1],l=1/r[2];return e[0]=this[0]*s,e[1]=this[1]*o,e[2]=this[2]*l,e[3]=this[4]*s,e[4]=this[5]*o,e[5]=this[6]*l,e[6]=this[8]*s,e[7]=this[9]*o,e[8]=this[10]*l,e}transpose(){return Bee(this,this),this.check()}invert(){return SS(this,this),this.check()}multiplyLeft(e){return Zc(this,e,this),this.check()}multiplyRight(e){return Zc(this,this,e),this.check()}rotateX(e){return _F(this,this,e),this.check()}rotateY(e){return $ee(this,this,e),this.check()}rotateZ(e){return wF(this,this,e),this.check()}rotateXYZ(e){return this.rotateX(e[0]).rotateY(e[1]).rotateZ(e[2])}rotateAxis(e,n){return zee(this,this,e,n),this.check()}scale(e){return dT(this,this,Array.isArray(e)?e:[e,e,e]),this.check()}translate(e){return ly(this,this,e),this.check()}transform(e,n){return e.length===4?(n=Tm(n||[-0,-0,-0,-0],e,this),I1(n,4),n):this.transformAsPoint(e,n)}transformAsPoint(e,n){const{length:r}=e;let s;switch(r){case 2:s=Nee(n||[-0,-0],e,this);break;case 3:s=vF(n||[-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return I1(s,e.length),s}transformAsVector(e,n){let r;switch(e.length){case 2:r=See(n||[-0,-0],e,this);break;case 3:r=yF(n||[-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return I1(r,e.length),r}transformPoint(e,n){return this.transformAsPoint(e,n)}transformVector(e,n){return this.transformAsPoint(e,n)}transformDirection(e,n){return this.transformAsVector(e,n)}makeRotationX(e){return this.identity().rotateX(e)}makeTranslation(e,n,r){return this.identity().translate([e,n,r])}}let Gb,Qb;function nte(){return Gb||(Gb=new Lo([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Object.freeze(Gb)),Gb}function rte(){return Qb||(Qb=new Lo,Object.freeze(Qb)),Qb}function J2(t){if(t>Math.PI*2)throw Error("expected radians")}function ste(t,e,n,r,s,o){const l=2*o/(n-e),c=2*o/(s-r),f=(n+e)/(n-e),h=(s+r)/(s-r),p=-1,m=-1,b=-2*o;return t[0]=l,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=f,t[9]=h,t[10]=p,t[11]=m,t[12]=0,t[13]=0,t[14]=b,t[15]=0,t}function NF(t,e=[],n=0){const r=Math.fround(t),s=t-r;return e[n]=r,e[n+1]=s,e}function ite(t){return t-Math.fround(t)}function ote(t){const e=new Float32Array(32);for(let n=0;n<4;++n)for(let r=0;r<4;++r){const s=n*4+r;NF(t[r*4+n],e,s*2)}return e}const ate=`#ifdef LUMA_FP32_TAN_PRECISION_WORKAROUND

// All these functions are for substituting tan() function from Intel GPU only
const float TWO_PI = 6.2831854820251465;
const float PI_2 = 1.5707963705062866;
const float PI_16 = 0.1963495463132858;

const float SIN_TABLE_0 = 0.19509032368659973;
const float SIN_TABLE_1 = 0.3826834261417389;
const float SIN_TABLE_2 = 0.5555702447891235;
const float SIN_TABLE_3 = 0.7071067690849304;

const float COS_TABLE_0 = 0.9807852506637573;
const float COS_TABLE_1 = 0.9238795042037964;
const float COS_TABLE_2 = 0.8314695954322815;
const float COS_TABLE_3 = 0.7071067690849304;

const float INVERSE_FACTORIAL_3 = 1.666666716337204e-01; // 1/3!
const float INVERSE_FACTORIAL_5 = 8.333333767950535e-03; // 1/5!
const float INVERSE_FACTORIAL_7 = 1.9841270113829523e-04; // 1/7!
const float INVERSE_FACTORIAL_9 = 2.75573188446287533e-06; // 1/9!

float sin_taylor_fp32(float a) {
  float r, s, t, x;

  if (a == 0.0) {
    return 0.0;
  }

  x = -a * a;
  s = a;
  r = a;

  r = r * x;
  t = r * INVERSE_FACTORIAL_3;
  s = s + t;

  r = r * x;
  t = r * INVERSE_FACTORIAL_5;
  s = s + t;

  r = r * x;
  t = r * INVERSE_FACTORIAL_7;
  s = s + t;

  r = r * x;
  t = r * INVERSE_FACTORIAL_9;
  s = s + t;

  return s;
}

void sincos_taylor_fp32(float a, out float sin_t, out float cos_t) {
  if (a == 0.0) {
    sin_t = 0.0;
    cos_t = 1.0;
  }
  sin_t = sin_taylor_fp32(a);
  cos_t = sqrt(1.0 - sin_t * sin_t);
}

float tan_taylor_fp32(float a) {
    float sin_a;
    float cos_a;

    if (a == 0.0) {
        return 0.0;
    }

    // 2pi range reduction
    float z = floor(a / TWO_PI);
    float r = a - TWO_PI * z;

    float t;
    float q = floor(r / PI_2 + 0.5);
    int j = int(q);

    if (j < -2 || j > 2) {
        return 1.0 / 0.0;
    }

    t = r - PI_2 * q;

    q = floor(t / PI_16 + 0.5);
    int k = int(q);
    int abs_k = int(abs(float(k)));

    if (abs_k > 4) {
        return 1.0 / 0.0;
    } else {
        t = t - PI_16 * q;
    }

    float u = 0.0;
    float v = 0.0;

    float sin_t, cos_t;
    float s, c;
    sincos_taylor_fp32(t, sin_t, cos_t);

    if (k == 0) {
        s = sin_t;
        c = cos_t;
    } else {
        if (abs(float(abs_k) - 1.0) < 0.5) {
            u = COS_TABLE_0;
            v = SIN_TABLE_0;
        } else if (abs(float(abs_k) - 2.0) < 0.5) {
            u = COS_TABLE_1;
            v = SIN_TABLE_1;
        } else if (abs(float(abs_k) - 3.0) < 0.5) {
            u = COS_TABLE_2;
            v = SIN_TABLE_2;
        } else if (abs(float(abs_k) - 4.0) < 0.5) {
            u = COS_TABLE_3;
            v = SIN_TABLE_3;
        }
        if (k > 0) {
            s = u * sin_t + v * cos_t;
            c = u * cos_t - v * sin_t;
        } else {
            s = u * sin_t - v * cos_t;
            c = u * cos_t + v * sin_t;
        }
    }

    if (j == 0) {
        sin_a = s;
        cos_a = c;
    } else if (j == 1) {
        sin_a = c;
        cos_a = -s;
    } else if (j == -1) {
        sin_a = -c;
        cos_a = s;
    } else {
        sin_a = -s;
        cos_a = -c;
    }
    return sin_a / cos_a;
}
#endif

float tan_fp32(float a) {
#ifdef LUMA_FP32_TAN_PRECISION_WORKAROUND
  return tan_taylor_fp32(a);
#else
  return tan(a);
#endif
}
`,lte={name:"fp32",vs:ate},cte=`
uniform fp64arithmeticUniforms {
  uniform float ONE;
} fp64;

/*
About LUMA_FP64_CODE_ELIMINATION_WORKAROUND

The purpose of this workaround is to prevent shader compilers from
optimizing away necessary arithmetic operations by swapping their sequences
or transform the equation to some 'equivalent' form.

The method is to multiply an artifical variable, ONE, which will be known to
the compiler to be 1 only at runtime. The whole expression is then represented
as a polynomial with respective to ONE. In the coefficients of all terms, only one a
and one b should appear

err = (a + b) * ONE^6 - a * ONE^5 - (a + b) * ONE^4 + a * ONE^3 - b - (a + b) * ONE^2 + a * ONE
*/

// Divide float number to high and low floats to extend fraction bits
vec2 split(float a) {
  const float SPLIT = 4097.0;
  float t = a * SPLIT;
#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)
  float a_hi = t * fp64.ONE - (t - a);
  float a_lo = a * fp64.ONE - a_hi;
#else
  float a_hi = t - (t - a);
  float a_lo = a - a_hi;
#endif
  return vec2(a_hi, a_lo);
}

// Divide float number again when high float uses too many fraction bits
vec2 split2(vec2 a) {
  vec2 b = split(a.x);
  b.y += a.y;
  return b;
}

// Special sum operation when a > b
vec2 quickTwoSum(float a, float b) {
#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)
  float sum = (a + b) * fp64.ONE;
  float err = b - (sum - a) * fp64.ONE;
#else
  float sum = a + b;
  float err = b - (sum - a);
#endif
  return vec2(sum, err);
}

// General sum operation
vec2 twoSum(float a, float b) {
  float s = (a + b);
#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)
  float v = (s * fp64.ONE - a) * fp64.ONE;
  float err = (a - (s - v) * fp64.ONE) * fp64.ONE * fp64.ONE * fp64.ONE + (b - v);
#else
  float v = s - a;
  float err = (a - (s - v)) + (b - v);
#endif
  return vec2(s, err);
}

vec2 twoSub(float a, float b) {
  float s = (a - b);
#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)
  float v = (s * fp64.ONE - a) * fp64.ONE;
  float err = (a - (s - v) * fp64.ONE) * fp64.ONE * fp64.ONE * fp64.ONE - (b + v);
#else
  float v = s - a;
  float err = (a - (s - v)) - (b + v);
#endif
  return vec2(s, err);
}

vec2 twoSqr(float a) {
  float prod = a * a;
  vec2 a_fp64 = split(a);
#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)
  float err = ((a_fp64.x * a_fp64.x - prod) * fp64.ONE + 2.0 * a_fp64.x *
    a_fp64.y * fp64.ONE * fp64.ONE) + a_fp64.y * a_fp64.y * fp64.ONE * fp64.ONE * fp64.ONE;
#else
  float err = ((a_fp64.x * a_fp64.x - prod) + 2.0 * a_fp64.x * a_fp64.y) + a_fp64.y * a_fp64.y;
#endif
  return vec2(prod, err);
}

vec2 twoProd(float a, float b) {
  float prod = a * b;
  vec2 a_fp64 = split(a);
  vec2 b_fp64 = split(b);
  float err = ((a_fp64.x * b_fp64.x - prod) + a_fp64.x * b_fp64.y +
    a_fp64.y * b_fp64.x) + a_fp64.y * b_fp64.y;
  return vec2(prod, err);
}

vec2 sum_fp64(vec2 a, vec2 b) {
  vec2 s, t;
  s = twoSum(a.x, b.x);
  t = twoSum(a.y, b.y);
  s.y += t.x;
  s = quickTwoSum(s.x, s.y);
  s.y += t.y;
  s = quickTwoSum(s.x, s.y);
  return s;
}

vec2 sub_fp64(vec2 a, vec2 b) {
  vec2 s, t;
  s = twoSub(a.x, b.x);
  t = twoSub(a.y, b.y);
  s.y += t.x;
  s = quickTwoSum(s.x, s.y);
  s.y += t.y;
  s = quickTwoSum(s.x, s.y);
  return s;
}

vec2 mul_fp64(vec2 a, vec2 b) {
  vec2 prod = twoProd(a.x, b.x);
  // y component is for the error
  prod.y += a.x * b.y;
#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)
  prod = split2(prod);
#endif
  prod = quickTwoSum(prod.x, prod.y);
  prod.y += a.y * b.x;
#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)
  prod = split2(prod);
#endif
  prod = quickTwoSum(prod.x, prod.y);
  return prod;
}

vec2 div_fp64(vec2 a, vec2 b) {
  float xn = 1.0 / b.x;
#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)
  vec2 yn = mul_fp64(a, vec2(xn, 0));
#else
  vec2 yn = a * xn;
#endif
  float diff = (sub_fp64(a, mul_fp64(b, yn))).x;
  vec2 prod = twoProd(xn, diff);
  return sum_fp64(yn, prod);
}

vec2 sqrt_fp64(vec2 a) {
  if (a.x == 0.0 && a.y == 0.0) return vec2(0.0, 0.0);
  if (a.x < 0.0) return vec2(0.0 / 0.0, 0.0 / 0.0);

  float x = 1.0 / sqrt(a.x);
  float yn = a.x * x;
#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)
  vec2 yn_sqr = twoSqr(yn) * fp64.ONE;
#else
  vec2 yn_sqr = twoSqr(yn);
#endif
  float diff = sub_fp64(a, yn_sqr).x;
  vec2 prod = twoProd(x * 0.5, diff);
#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)
  return sum_fp64(split(yn), prod);
#else
  return sum_fp64(vec2(yn, 0.0), prod);
#endif
}
`,ute={ONE:1},fte={name:"fp64arithmetic",vs:cte,defaultUniforms:ute,uniformTypes:{ONE:"f32"},fp64ify:NF,fp64LowPart:ite,fp64ifyMatrix4:ote},dte=[0,1,1,1],hte=`uniform pickingUniforms {
  float isActive;
  float isAttribute;
  float isHighlightActive;
  float useFloatColors;
  vec3 highlightedObjectColor;
  vec4 highlightColor;
} picking;

out vec4 picking_vRGBcolor_Avalid;

// Normalize unsigned byte color to 0-1 range
vec3 picking_normalizeColor(vec3 color) {
  return picking.useFloatColors > 0.5 ? color : color / 255.0;
}

// Normalize unsigned byte color to 0-1 range
vec4 picking_normalizeColor(vec4 color) {
  return picking.useFloatColors > 0.5 ? color : color / 255.0;
}

bool picking_isColorZero(vec3 color) {
  return dot(color, vec3(1.0)) < 0.00001;
}

bool picking_isColorValid(vec3 color) {
  return dot(color, vec3(1.0)) > 0.00001;
}

// Check if this vertex is highlighted 
bool isVertexHighlighted(vec3 vertexColor) {
  vec3 highlightedObjectColor = picking_normalizeColor(picking.highlightedObjectColor);
  return
    bool(picking.isHighlightActive) && picking_isColorZero(abs(vertexColor - highlightedObjectColor));
}

// Set the current picking color
void picking_setPickingColor(vec3 pickingColor) {
  pickingColor = picking_normalizeColor(pickingColor);

  if (bool(picking.isActive)) {
    // Use alpha as the validity flag. If pickingColor is [0, 0, 0] fragment is non-pickable
    picking_vRGBcolor_Avalid.a = float(picking_isColorValid(pickingColor));

    if (!bool(picking.isAttribute)) {
      // Stores the picking color so that the fragment shader can render it during picking
      picking_vRGBcolor_Avalid.rgb = pickingColor;
    }
  } else {
    // Do the comparison with selected item color in vertex shader as it should mean fewer compares
    picking_vRGBcolor_Avalid.a = float(isVertexHighlighted(pickingColor));
  }
}

void picking_setPickingAttribute(float value) {
  if (bool(picking.isAttribute)) {
    picking_vRGBcolor_Avalid.r = value;
  }
}

void picking_setPickingAttribute(vec2 value) {
  if (bool(picking.isAttribute)) {
    picking_vRGBcolor_Avalid.rg = value;
  }
}

void picking_setPickingAttribute(vec3 value) {
  if (bool(picking.isAttribute)) {
    picking_vRGBcolor_Avalid.rgb = value;
  }
}
`,pte=`uniform pickingUniforms {
  float isActive;
  float isAttribute;
  float isHighlightActive;
  float useFloatColors;
  vec3 highlightedObjectColor;
  vec4 highlightColor;
} picking;

in vec4 picking_vRGBcolor_Avalid;

/*
 * Returns highlight color if this item is selected.
 */
vec4 picking_filterHighlightColor(vec4 color) {
  // If we are still picking, we don't highlight
  if (picking.isActive > 0.5) {
    return color;
  }

  bool selected = bool(picking_vRGBcolor_Avalid.a);

  if (selected) {
    // Blend in highlight color based on its alpha value
    float highLightAlpha = picking.highlightColor.a;
    float blendedAlpha = highLightAlpha + color.a * (1.0 - highLightAlpha);
    float highLightRatio = highLightAlpha / blendedAlpha;

    vec3 blendedRGB = mix(color.rgb, picking.highlightColor.rgb, highLightRatio);
    return vec4(blendedRGB, blendedAlpha);
  } else {
    return color;
  }
}

/*
 * Returns picking color if picking enabled else unmodified argument.
 */
vec4 picking_filterPickingColor(vec4 color) {
  if (bool(picking.isActive)) {
    if (picking_vRGBcolor_Avalid.a == 0.0) {
      discard;
    }
    return picking_vRGBcolor_Avalid;
  }
  return color;
}

/*
 * Returns picking color if picking is enabled if not
 * highlight color if this item is selected, otherwise unmodified argument.
 */
vec4 picking_filterColor(vec4 color) {
  vec4 highlightColor = picking_filterHighlightColor(color);
  return picking_filterPickingColor(highlightColor);
}
`,eM={props:{},uniforms:{},name:"picking",uniformTypes:{isActive:"f32",isAttribute:"f32",isHighlightActive:"f32",useFloatColors:"f32",highlightedObjectColor:"vec3<f32>",highlightColor:"vec4<f32>"},defaultUniforms:{isActive:!1,isAttribute:!1,isHighlightActive:!1,useFloatColors:!0,highlightedObjectColor:[0,0,0],highlightColor:dte},vs:hte,fs:pte,getUniforms:mte};function mte(t={},e){const n={};if(t.highlightedObjectColor!==void 0)if(t.highlightedObjectColor===null)n.isHighlightActive=!1;else{n.isHighlightActive=!0;const r=t.highlightedObjectColor.slice(0,3);n.highlightedObjectColor=r}if(t.highlightColor){const r=Array.from(t.highlightColor,s=>s/255);Number.isFinite(r[3])||(r[3]=1),n.highlightColor=r}return t.isActive!==void 0&&(n.isActive=!!t.isActive,n.isAttribute=!!t.isAttribute),t.useFloatColors!==void 0&&(n.useFloatColors=!!t.useFloatColors),n}const tM=`uniform layerUniforms {
  uniform float opacity;
} layer;
`,gte={name:"layer",vs:tM,fs:tM,getUniforms:t=>({opacity:Math.pow(t.opacity,1/2.2)}),uniformTypes:{opacity:"f32"}},bte=`const SMOOTH_EDGE_RADIUS: f32 = 0.5;

struct VertexGeometry {
  position: vec4<f32>,
  worldPosition: vec3<f32>,
  worldPositionAlt: vec3<f32>,
  normal: vec3<f32>,
  uv: vec2<f32>,
  pickingColor: vec3<f32>,
};

var<private> geometry_: VertexGeometry = VertexGeometry(
  vec4<f32>(0.0, 0.0, 1.0, 0.0),
  vec3<f32>(0.0, 0.0, 0.0),
  vec3<f32>(0.0, 0.0, 0.0),
  vec3<f32>(0.0, 0.0, 0.0),
  vec2<f32>(0.0, 0.0),
  vec3<f32>(0.0, 0.0, 0.0)
);

struct FragmentGeometry {
  uv: vec2<f32>,
};

var<private> fragmentGeometry: FragmentGeometry;

fn smoothedge(edge: f32, x: f32) -> f32 {
  return smoothstep(edge - SMOOTH_EDGE_RADIUS, edge + SMOOTH_EDGE_RADIUS, x);
}
`,SF="#define SMOOTH_EDGE_RADIUS 0.5",xte=`${SF}

struct VertexGeometry {
  vec4 position;
  vec3 worldPosition;
  vec3 worldPositionAlt;
  vec3 normal;
  vec2 uv;
  vec3 pickingColor;
} geometry = VertexGeometry(
  vec4(0.0, 0.0, 1.0, 0.0),
  vec3(0.0),
  vec3(0.0),
  vec3(0.0),
  vec2(0.0),
  vec3(0.0)
);
`,yte=`${SF}

struct FragmentGeometry {
  vec2 uv;
} geometry;

float smoothedge(float edge, float x) {
  return smoothstep(edge - SMOOTH_EDGE_RADIUS, edge + SMOOTH_EDGE_RADIUS, x);
}
`,EF={name:"geometry",source:bte,vs:xte,fs:yte},vte=25;var Dr;(function(t){t[t.Start=1]="Start",t[t.Move=2]="Move",t[t.End=4]="End",t[t.Cancel=8]="Cancel"})(Dr||(Dr={}));var Fr;(function(t){t[t.None=0]="None",t[t.Left=1]="Left",t[t.Right=2]="Right",t[t.Up=4]="Up",t[t.Down=8]="Down",t[t.Horizontal=3]="Horizontal",t[t.Vertical=12]="Vertical",t[t.All=15]="All"})(Fr||(Fr={}));var Zt;(function(t){t[t.Possible=1]="Possible",t[t.Began=2]="Began",t[t.Changed=4]="Changed",t[t.Ended=8]="Ended",t[t.Recognized=8]="Recognized",t[t.Cancelled=16]="Cancelled",t[t.Failed=32]="Failed"})(Zt||(Zt={}));const _te="compute",wte="auto",TS="manipulation",Nx="none",AS="pan-x",CS="pan-y";function Nte(t){if(t.includes(Nx))return Nx;const e=t.includes(AS),n=t.includes(CS);return e&&n?Nx:e||n?e?AS:CS:t.includes(TS)?TS:wte}class Ste{constructor(e,n){this.actions="",this.manager=e,this.set(n)}set(e){e===_te&&(e=this.compute()),this.manager.element&&(this.manager.element.style.touchAction=e,this.actions=e)}update(){this.set(this.manager.options.touchAction)}compute(){let e=[];for(const n of this.manager.recognizers)n.options.enable&&(e=e.concat(n.getTouchAction()));return Nte(e.join(" "))}}function cy(t){return t.trim().split(/\s+/g)}function F1(t,e,n){if(t)for(const r of cy(e))t.addEventListener(r,n,!1)}function B1(t,e,n){if(t)for(const r of cy(e))t.removeEventListener(r,n,!1)}function nM(t){return(t.ownerDocument||t).defaultView}function Ete(t,e){let n=t;for(;n;){if(n===e)return!0;n=n.parentNode}return!1}function TF(t){const e=t.length;if(e===1)return{x:Math.round(t[0].clientX),y:Math.round(t[0].clientY)};let n=0,r=0,s=0;for(;s<e;)n+=t[s].clientX,r+=t[s].clientY,s++;return{x:Math.round(n/e),y:Math.round(r/e)}}function rM(t){const e=[];let n=0;for(;n<t.pointers.length;)e[n]={clientX:Math.round(t.pointers[n].clientX),clientY:Math.round(t.pointers[n].clientY)},n++;return{timeStamp:Date.now(),pointers:e,center:TF(e),deltaX:t.deltaX,deltaY:t.deltaY}}function AF(t,e){const n=e.x-t.x,r=e.y-t.y;return Math.sqrt(n*n+r*r)}function sM(t,e){const n=e.clientX-t.clientX,r=e.clientY-t.clientY;return Math.sqrt(n*n+r*r)}function Tte(t,e){const n=e.x-t.x,r=e.y-t.y;return Math.atan2(r,n)*180/Math.PI}function iM(t,e){const n=e.clientX-t.clientX,r=e.clientY-t.clientY;return Math.atan2(r,n)*180/Math.PI}function CF(t,e){return t===e?Fr.None:Math.abs(t)>=Math.abs(e)?t<0?Fr.Left:Fr.Right:e<0?Fr.Up:Fr.Down}function Ate(t,e){const n=e.center;let r=t.offsetDelta,s=t.prevDelta;const o=t.prevInput;return(e.eventType===Dr.Start||(o==null?void 0:o.eventType)===Dr.End)&&(s=t.prevDelta={x:(o==null?void 0:o.deltaX)||0,y:(o==null?void 0:o.deltaY)||0},r=t.offsetDelta={x:n.x,y:n.y}),{deltaX:s.x+(n.x-r.x),deltaY:s.y+(n.y-r.y)}}function RF(t,e,n){return{x:e/t||0,y:n/t||0}}function Cte(t,e){return sM(e[0],e[1])/sM(t[0],t[1])}function Rte(t,e){return iM(e[1],e[0])-iM(t[1],t[0])}function kte(t,e){const n=t.lastInterval||e,r=e.timeStamp-n.timeStamp;let s,o,l,c;if(e.eventType!==Dr.Cancel&&(r>vte||n.velocity===void 0)){const f=e.deltaX-n.deltaX,h=e.deltaY-n.deltaY,p=RF(r,f,h);o=p.x,l=p.y,s=Math.abs(p.x)>Math.abs(p.y)?p.x:p.y,c=CF(f,h),t.lastInterval=e}else s=n.velocity,o=n.velocityX,l=n.velocityY,c=n.direction;e.velocity=s,e.velocityX=o,e.velocityY=l,e.direction=c}function Pte(t,e){const{session:n}=t,{pointers:r}=e,{length:s}=r;n.firstInput||(n.firstInput=rM(e)),s>1&&!n.firstMultiple?n.firstMultiple=rM(e):s===1&&(n.firstMultiple=!1);const{firstInput:o,firstMultiple:l}=n,c=l?l.center:o.center,f=e.center=TF(r);e.timeStamp=Date.now(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=Tte(c,f),e.distance=AF(c,f);const{deltaX:h,deltaY:p}=Ate(n,e);e.deltaX=h,e.deltaY=p,e.offsetDirection=CF(e.deltaX,e.deltaY);const m=RF(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=m.x,e.overallVelocityY=m.y,e.overallVelocity=Math.abs(m.x)>Math.abs(m.y)?m.x:m.y,e.scale=l?Cte(l.pointers,r):1,e.rotation=l?Rte(l.pointers,r):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length;let b=t.element;return Ete(e.srcEvent.target,b)&&(b=e.srcEvent.target),e.target=b,kte(n,e),e}function Dte(t,e,n){const r=n.pointers.length,s=n.changedPointers.length,o=e&Dr.Start&&r-s===0,l=e&(Dr.End|Dr.Cancel)&&r-s===0;n.isFirst=!!o,n.isFinal=!!l,o&&(t.session={}),n.eventType=e;const c=Pte(t,n);t.emit("hammer.input",c),t.recognize(c),t.session.prevInput=c}let Mte=class{constructor(e){this.evEl="",this.evWin="",this.evTarget="",this.domHandler=n=>{this.manager.options.enable&&this.handler(n)},this.manager=e,this.element=e.element,this.target=e.options.inputTarget||e.element}callback(e,n){Dte(this.manager,e,n)}init(){F1(this.element,this.evEl,this.domHandler),F1(this.target,this.evTarget,this.domHandler),F1(nM(this.element),this.evWin,this.domHandler)}destroy(){B1(this.element,this.evEl,this.domHandler),B1(this.target,this.evTarget,this.domHandler),B1(nM(this.element),this.evWin,this.domHandler)}};const jte={pointerdown:Dr.Start,pointermove:Dr.Move,pointerup:Dr.End,pointercancel:Dr.Cancel,pointerout:Dr.Cancel},Ite="pointerdown",Ote="pointermove pointerup pointercancel";class Ute extends Mte{constructor(e){super(e),this.evEl=Ite,this.evWin=Ote,this.store=this.manager.session.pointerEvents=[],this.init()}handler(e){const{store:n}=this;let r=!1;const s=jte[e.type],o=e.pointerType,l=o==="touch";let c=n.findIndex(f=>f.pointerId===e.pointerId);s&Dr.Start&&(e.buttons||l)?c<0&&(n.push(e),c=n.length-1):s&(Dr.End|Dr.Cancel)&&(r=!0),!(c<0)&&(n[c]=e,this.callback(s,{pointers:n,changedPointers:[e],eventType:s,pointerType:o,srcEvent:e}),r&&n.splice(c,1))}}const Vte=["","webkit","Moz","MS","ms","o"];function Fte(t,e){const n=e[0].toUpperCase()+e.slice(1);for(const r of Vte){const s=r?r+n:e;if(s in t)return s}}const Bte=1,oM=2,aM={touchAction:"compute",enable:!0,inputTarget:null,cssProps:{userSelect:"none",userDrag:"none",touchCallout:"none",tapHighlightColor:"rgba(0,0,0,0)"}};class Lte{constructor(e,n){this.options={...aM,...n,cssProps:{...aM.cssProps,...n.cssProps},inputTarget:n.inputTarget||e},this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=new Ute(this),this.touchAction=new Ste(this,this.options.touchAction),this.toggleCssProps(!0)}set(e){return Object.assign(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this}stop(e){this.session.stopped=e?oM:Bte}recognize(e){const{session:n}=this;if(n.stopped)return;this.session.prevented&&e.srcEvent.preventDefault();let r;const{recognizers:s}=this;let{curRecognizer:o}=n;(!o||o&&o.state&Zt.Recognized)&&(o=n.curRecognizer=null);let l=0;for(;l<s.length;)r=s[l],n.stopped!==oM&&(!o||r===o||r.canRecognizeWith(o))?r.recognize(e):r.reset(),!o&&r.state&(Zt.Began|Zt.Changed|Zt.Ended)&&(o=n.curRecognizer=r),l++}get(e){const{recognizers:n}=this;for(let r=0;r<n.length;r++)if(n[r].options.event===e)return n[r];return null}add(e){if(Array.isArray(e)){for(const r of e)this.add(r);return this}const n=this.get(e.options.event);return n&&this.remove(n),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e}remove(e){if(Array.isArray(e)){for(const r of e)this.remove(r);return this}const n=typeof e=="string"?this.get(e):e;if(n){const{recognizers:r}=this,s=r.indexOf(n);s!==-1&&(r.splice(s,1),this.touchAction.update())}return this}on(e,n){if(!e||!n)return;const{handlers:r}=this;for(const s of cy(e))r[s]=r[s]||[],r[s].push(n)}off(e,n){if(!e)return;const{handlers:r}=this;for(const s of cy(e))n?r[s]&&r[s].splice(r[s].indexOf(n),1):delete r[s]}emit(e,n){const r=this.handlers[e]&&this.handlers[e].slice();if(!r||!r.length)return;const s=n;s.type=e,s.preventDefault=function(){n.srcEvent.preventDefault()};let o=0;for(;o<r.length;)r[o](s),o++}destroy(){this.toggleCssProps(!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}toggleCssProps(e){const{element:n}=this;if(n){for(const[r,s]of Object.entries(this.options.cssProps)){const o=Fte(n.style,r);e?(this.oldCssProps[o]=n.style[o],n.style[o]=s):n.style[o]=this.oldCssProps[o]||""}e||(this.oldCssProps={})}}}let zte=1;function $te(){return zte++}function lM(t){return t&Zt.Cancelled?"cancel":t&Zt.Ended?"end":t&Zt.Changed?"move":t&Zt.Began?"start":""}class kF{constructor(e){this.options=e,this.id=$te(),this.state=Zt.Possible,this.simultaneous={},this.requireFail=[]}set(e){return Object.assign(this.options,e),this.manager.touchAction.update(),this}recognizeWith(e){if(Array.isArray(e)){for(const s of e)this.recognizeWith(s);return this}let n;if(typeof e=="string"){if(n=this.manager.get(e),!n)throw new Error(`Cannot find recognizer ${e}`)}else n=e;const{simultaneous:r}=this;return r[n.id]||(r[n.id]=n,n.recognizeWith(this)),this}dropRecognizeWith(e){if(Array.isArray(e)){for(const r of e)this.dropRecognizeWith(r);return this}let n;return typeof e=="string"?n=this.manager.get(e):n=e,n&&delete this.simultaneous[n.id],this}requireFailure(e){if(Array.isArray(e)){for(const s of e)this.requireFailure(s);return this}let n;if(typeof e=="string"){if(n=this.manager.get(e),!n)throw new Error(`Cannot find recognizer ${e}`)}else n=e;const{requireFail:r}=this;return r.indexOf(n)===-1&&(r.push(n),n.requireFailure(this)),this}dropRequireFailure(e){if(Array.isArray(e)){for(const r of e)this.dropRequireFailure(r);return this}let n;if(typeof e=="string"?n=this.manager.get(e):n=e,n){const r=this.requireFail.indexOf(n);r>-1&&this.requireFail.splice(r,1)}return this}hasRequireFailures(){return!!this.requireFail.find(e=>e.options.enable)}canRecognizeWith(e){return!!this.simultaneous[e.id]}emit(e){if(!e)return;const{state:n}=this;n<Zt.Ended&&this.manager.emit(this.options.event+lM(n),e),this.manager.emit(this.options.event,e),e.additionalEvent&&this.manager.emit(e.additionalEvent,e),n>=Zt.Ended&&this.manager.emit(this.options.event+lM(n),e)}tryEmit(e){this.canEmit()?this.emit(e):this.state=Zt.Failed}canEmit(){let e=0;for(;e<this.requireFail.length;){if(!(this.requireFail[e].state&(Zt.Failed|Zt.Possible)))return!1;e++}return!0}recognize(e){const n={...e};if(!this.options.enable){this.reset(),this.state=Zt.Failed;return}this.state&(Zt.Recognized|Zt.Cancelled|Zt.Failed)&&(this.state=Zt.Possible),this.state=this.process(n),this.state&(Zt.Began|Zt.Changed|Zt.Ended|Zt.Cancelled)&&this.tryEmit(n)}getEventNames(){return[this.options.event]}reset(){}}class PF extends kF{attrTest(e){const n=this.options.pointers;return n===0||e.pointers.length===n}process(e){const{state:n}=this,{eventType:r}=e,s=n&(Zt.Began|Zt.Changed),o=this.attrTest(e);return s&&(r&Dr.Cancel||!o)?n|Zt.Cancelled:s||o?r&Dr.End?n|Zt.Ended:n&Zt.Began?n|Zt.Changed:Zt.Began:Zt.Failed}}class cM extends kF{constructor(e={}){super({enable:!0,event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10,...e}),this.pTime=null,this.pCenter=null,this._timer=null,this._input=null,this.count=0}getTouchAction(){return[TS]}process(e){const{options:n}=this,r=e.pointers.length===n.pointers,s=e.distance<n.threshold,o=e.deltaTime<n.time;if(this.reset(),e.eventType&Dr.Start&&this.count===0)return this.failTimeout();if(s&&o&&r){if(e.eventType!==Dr.End)return this.failTimeout();const l=this.pTime?e.timeStamp-this.pTime<n.interval:!0,c=!this.pCenter||AF(this.pCenter,e.center)<n.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,!c||!l?this.count=1:this.count+=1,this._input=e,this.count%n.taps===0)return this.hasRequireFailures()?(this._timer=setTimeout(()=>{this.state=Zt.Recognized,this.tryEmit(this._input)},n.interval),Zt.Began):Zt.Recognized}return Zt.Failed}failTimeout(){return this._timer=setTimeout(()=>{this.state=Zt.Failed},this.options.interval),Zt.Failed}reset(){clearTimeout(this._timer)}emit(e){this.state===Zt.Recognized&&(e.tapCount=this.count,this.manager.emit(this.options.event,e))}}const Hte=["","start","move","end","cancel","up","down","left","right"];class uM extends PF{constructor(e={}){super({enable:!0,pointers:1,event:"pan",threshold:10,direction:Fr.All,...e}),this.pX=null,this.pY=null}getTouchAction(){const{options:{direction:e}}=this,n=[];return e&Fr.Horizontal&&n.push(CS),e&Fr.Vertical&&n.push(AS),n}getEventNames(){return Hte.map(e=>this.options.event+e)}directionTest(e){const{options:n}=this;let r=!0,{distance:s}=e,{direction:o}=e;const l=e.deltaX,c=e.deltaY;return o&n.direction||(n.direction&Fr.Horizontal?(o=l===0?Fr.None:l<0?Fr.Left:Fr.Right,r=l!==this.pX,s=Math.abs(e.deltaX)):(o=c===0?Fr.None:c<0?Fr.Up:Fr.Down,r=c!==this.pY,s=Math.abs(e.deltaY))),e.direction=o,r&&s>n.threshold&&!!(o&n.direction)}attrTest(e){return super.attrTest(e)&&(!!(this.state&Zt.Began)||!(this.state&Zt.Began)&&this.directionTest(e))}emit(e){this.pX=e.deltaX,this.pY=e.deltaY;const n=Fr[e.direction].toLowerCase();n&&(e.additionalEvent=this.options.event+n),super.emit(e)}}const Wte=["","start","move","end","cancel","in","out"];class qte extends PF{constructor(e={}){super({enable:!0,event:"pinch",threshold:0,pointers:2,...e})}getTouchAction(){return[Nx]}getEventNames(){return Wte.map(e=>this.options.event+e)}attrTest(e){return super.attrTest(e)&&(Math.abs(e.scale-1)>this.options.threshold||!!(this.state&Zt.Began))}emit(e){if(e.scale!==1){const n=e.scale<1?"in":"out";e.additionalEvent=this.options.event+n}super.emit(e)}}class lv{constructor(e,n,r){this.element=e,this.callback=n,this.options=r}}const Xte=typeof navigator<"u"&&navigator.userAgent?navigator.userAgent.toLowerCase():"",Yte=Xte.indexOf("firefox")!==-1,fM=4.000244140625,Kte=40,Zte=.25;class Gte extends lv{constructor(e,n,r){super(e,n,{enable:!0,...r}),this.handleEvent=s=>{if(!this.options.enable)return;let o=s.deltaY;globalThis.WheelEvent&&(Yte&&s.deltaMode===globalThis.WheelEvent.DOM_DELTA_PIXEL&&(o/=globalThis.devicePixelRatio),s.deltaMode===globalThis.WheelEvent.DOM_DELTA_LINE&&(o*=Kte)),o!==0&&o%fM===0&&(o=Math.floor(o/fM)),s.shiftKey&&o&&(o=o*Zte),this.callback({type:"wheel",center:{x:s.clientX,y:s.clientY},delta:-o,srcEvent:s,pointerType:"mouse",target:s.target})},e.addEventListener("wheel",this.handleEvent,{passive:!1})}destroy(){this.element.removeEventListener("wheel",this.handleEvent)}enableEventType(e,n){e==="wheel"&&(this.options.enable=n)}}const dM=["mousedown","mousemove","mouseup","mouseover","mouseout","mouseleave"];class Qte extends lv{constructor(e,n,r){super(e,n,{enable:!0,...r}),this.handleEvent=o=>{this.handleOverEvent(o),this.handleOutEvent(o),this.handleEnterEvent(o),this.handleLeaveEvent(o),this.handleMoveEvent(o)},this.pressed=!1;const{enable:s}=this.options;this.enableMoveEvent=s,this.enableLeaveEvent=s,this.enableEnterEvent=s,this.enableOutEvent=s,this.enableOverEvent=s,dM.forEach(o=>e.addEventListener(o,this.handleEvent))}destroy(){dM.forEach(e=>this.element.removeEventListener(e,this.handleEvent))}enableEventType(e,n){switch(e){case"pointermove":this.enableMoveEvent=n;break;case"pointerover":this.enableOverEvent=n;break;case"pointerout":this.enableOutEvent=n;break;case"pointerenter":this.enableEnterEvent=n;break;case"pointerleave":this.enableLeaveEvent=n;break}}handleOverEvent(e){this.enableOverEvent&&e.type==="mouseover"&&this._emit("pointerover",e)}handleOutEvent(e){this.enableOutEvent&&e.type==="mouseout"&&this._emit("pointerout",e)}handleEnterEvent(e){this.enableEnterEvent&&e.type==="mouseenter"&&this._emit("pointerenter",e)}handleLeaveEvent(e){this.enableLeaveEvent&&e.type==="mouseleave"&&this._emit("pointerleave",e)}handleMoveEvent(e){if(this.enableMoveEvent)switch(e.type){case"mousedown":e.button>=0&&(this.pressed=!0);break;case"mousemove":e.buttons===0&&(this.pressed=!1),this.pressed||this._emit("pointermove",e);break;case"mouseup":this.pressed=!1;break}}_emit(e,n){this.callback({type:e,center:{x:n.clientX,y:n.clientY},srcEvent:n,pointerType:"mouse",target:n.target})}}const hM=["keydown","keyup"];class Jte extends lv{constructor(e,n,r){super(e,n,{enable:!0,tabIndex:0,...r}),this.handleEvent=s=>{const o=s.target||s.srcElement;o.tagName==="INPUT"&&o.type==="text"||o.tagName==="TEXTAREA"||(this.enableDownEvent&&s.type==="keydown"&&this.callback({type:"keydown",srcEvent:s,key:s.key,target:s.target}),this.enableUpEvent&&s.type==="keyup"&&this.callback({type:"keyup",srcEvent:s,key:s.key,target:s.target}))},this.enableDownEvent=this.options.enable,this.enableUpEvent=this.options.enable,e.tabIndex=this.options.tabIndex,e.style.outline="none",hM.forEach(s=>e.addEventListener(s,this.handleEvent))}destroy(){hM.forEach(e=>this.element.removeEventListener(e,this.handleEvent))}enableEventType(e,n){e==="keydown"&&(this.enableDownEvent=n),e==="keyup"&&(this.enableUpEvent=n)}}class ene extends lv{constructor(e,n,r){super(e,n,r),this.handleEvent=s=>{this.options.enable&&this.callback({type:"contextmenu",center:{x:s.clientX,y:s.clientY},srcEvent:s,pointerType:"mouse",target:s.target})},e.addEventListener("contextmenu",this.handleEvent)}destroy(){this.element.removeEventListener("contextmenu",this.handleEvent)}enableEventType(e,n){e==="contextmenu"&&(this.options.enable=n)}}const pM=1,RS=2,mM=4,tne={pointerdown:pM,pointermove:RS,pointerup:mM,mousedown:pM,mousemove:RS,mouseup:mM},nne=0,rne=1,sne=2,ine=1,one=2,ane=4;function lne(t){const e=tne[t.srcEvent.type];if(!e)return null;const{buttons:n,button:r}=t.srcEvent;let s=!1,o=!1,l=!1;return e===RS?(s=!!(n&ine),o=!!(n&ane),l=!!(n&one)):(s=r===nne,o=r===rne,l=r===sne),{leftButton:s,middleButton:o,rightButton:l}}function cne(t,e){const n=t.center;if(!n)return null;const r=e.getBoundingClientRect(),s=r.width/e.offsetWidth||1,o=r.height/e.offsetHeight||1,l={x:(n.x-r.left-e.clientLeft)/s,y:(n.y-r.top-e.clientTop)/o};return{center:n,offsetCenter:l}}const une={srcElement:"root",priority:0};class fne{constructor(e,n){this.handleEvent=r=>{if(this.isEmpty())return;const s=this._normalizeEvent(r);let o=r.srcEvent.target;for(;o&&o!==s.rootElement;){if(this._emit(s,o),s.handled)return;o=o.parentNode}this._emit(s,"root")},this.eventManager=e,this.recognizerName=n,this.handlers=[],this.handlersByElement=new Map,this._active=!1}isEmpty(){return!this._active}add(e,n,r,s=!1,o=!1){const{handlers:l,handlersByElement:c}=this,f={...une,...r};let h=c.get(f.srcElement);h||(h=[],c.set(f.srcElement,h));const p={type:e,handler:n,srcElement:f.srcElement,priority:f.priority};s&&(p.once=!0),o&&(p.passive=!0),l.push(p),this._active=this._active||!p.passive;let m=h.length-1;for(;m>=0&&!(h[m].priority>=p.priority);)m--;h.splice(m+1,0,p)}remove(e,n){const{handlers:r,handlersByElement:s}=this;for(let o=r.length-1;o>=0;o--){const l=r[o];if(l.type===e&&l.handler===n){r.splice(o,1);const c=s.get(l.srcElement);c.splice(c.indexOf(l),1),c.length===0&&s.delete(l.srcElement)}}this._active=r.some(o=>!o.passive)}_emit(e,n){const r=this.handlersByElement.get(n);if(r){let s=!1;const o=()=>{e.handled=!0},l=()=>{e.handled=!0,s=!0},c=[];for(let f=0;f<r.length;f++){const{type:h,handler:p,once:m}=r[f];if(p({...e,type:h,stopPropagation:o,stopImmediatePropagation:l}),m&&c.push(r[f]),s)break}for(let f=0;f<c.length;f++){const{type:h,handler:p}=c[f];this.remove(h,p)}}}_normalizeEvent(e){const n=this.eventManager.getElement();return{...e,...lne(e),...cne(e,n),preventDefault:()=>{e.srcEvent.preventDefault()},stopImmediatePropagation:null,stopPropagation:null,handled:!1,rootElement:n}}}function dne(t){if("recognizer"in t)return t;let e;const n=Array.isArray(t)?[...t]:[t];if(typeof n[0]=="function"){const r=n.shift(),s=n.shift()||{};e=new r(s)}else e=n.shift();return{recognizer:e,recognizeWith:typeof n[0]=="string"?[n[0]]:n[0],requireFailure:typeof n[1]=="string"?[n[1]]:n[1]}}class hne{constructor(e=null,n={}){if(this._onBasicInput=r=>{this.manager.emit(r.srcEvent.type,r)},this._onOtherEvent=r=>{this.manager.emit(r.type,r)},this.options={recognizers:[],events:{},touchAction:"compute",tabIndex:0,cssProps:{},...n},this.events=new Map,this.element=e,!!e){this.manager=new Lte(e,this.options);for(const r of this.options.recognizers){const{recognizer:s,recognizeWith:o,requireFailure:l}=dne(r);this.manager.add(s),o&&s.recognizeWith(o),l&&s.requireFailure(l)}this.manager.on("hammer.input",this._onBasicInput),this.wheelInput=new Gte(e,this._onOtherEvent,{enable:!1}),this.moveInput=new Qte(e,this._onOtherEvent,{enable:!1}),this.keyInput=new Jte(e,this._onOtherEvent,{enable:!1,tabIndex:n.tabIndex}),this.contextmenuInput=new ene(e,this._onOtherEvent,{enable:!1}),this.on(this.options.events)}}getElement(){return this.element}destroy(){this.element&&(this.wheelInput.destroy(),this.moveInput.destroy(),this.keyInput.destroy(),this.contextmenuInput.destroy(),this.manager.destroy())}on(e,n,r){this._addEventHandler(e,n,r,!1)}once(e,n,r){this._addEventHandler(e,n,r,!0)}watch(e,n,r){this._addEventHandler(e,n,r,!1,!0)}off(e,n){this._removeEventHandler(e,n)}_toggleRecognizer(e,n){var o,l,c,f;const{manager:r}=this;if(!r)return;const s=r.get(e);s&&(s.set({enable:n}),r.touchAction.update()),(o=this.wheelInput)==null||o.enableEventType(e,n),(l=this.moveInput)==null||l.enableEventType(e,n),(c=this.keyInput)==null||c.enableEventType(e,n),(f=this.contextmenuInput)==null||f.enableEventType(e,n)}_addEventHandler(e,n,r,s,o){if(typeof e!="string"){r=n;for(const[h,p]of Object.entries(e))this._addEventHandler(h,p,r,s,o);return}const{manager:l,events:c}=this;if(!l)return;let f=c.get(e);if(!f){const h=this._getRecognizerName(e)||e;f=new fne(this,h),c.set(e,f),l&&l.on(e,f.handleEvent)}f.add(e,n,r,s,o),f.isEmpty()||this._toggleRecognizer(f.recognizerName,!0)}_removeEventHandler(e,n){if(typeof e!="string"){for(const[o,l]of Object.entries(e))this._removeEventHandler(o,l);return}const{events:r}=this,s=r.get(e);if(s&&(s.remove(e,n),s.isEmpty())){const{recognizerName:o}=s;let l=!1;for(const c of r.values())if(c.recognizerName===o&&!c.isEmpty()){l=!0;break}l||this._toggleRecognizer(o,!1)}}_getRecognizerName(e){var n;return(n=this.manager.recognizers.find(r=>r.getEventNames().includes(e)))==null?void 0:n.options.event}}const Tn={DEFAULT:-1,LNGLAT:1,METER_OFFSETS:2,LNGLAT_OFFSETS:3,CARTESIAN:0};Object.defineProperty(Tn,"IDENTITY",{get:()=>(Hn.deprecated("COORDINATE_SYSTEM.IDENTITY","COORDINATE_SYSTEM.CARTESIAN")(),0)});const Ci={WEB_MERCATOR:1,GLOBE:2,WEB_MERCATOR_AUTO_OFFSET:4,IDENTITY:0},pu={common:0,meters:1,pixels:2},kS={click:"onClick",panstart:"onDragStart",panmove:"onDrag",panend:"onDragEnd"},gM={multipan:[uM,{threshold:10,direction:Fr.Vertical,pointers:2}],pinch:[qte,{},null,["multipan"]],pan:[uM,{threshold:1},["pinch"],["multipan"]],dblclick:[cM,{event:"dblclick",taps:2}],click:[cM,{event:"click"},null,["dblclick"]]};function pne(t,e){if(t===e)return!0;if(Array.isArray(t)){const n=t.length;if(!e||e.length!==n)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}return!1}function Am(t){let e={},n;return r=>{for(const s in r)if(!pne(r[s],e[s])){n=t(r),e=r;break}return n}}const bM=[0,0,0,0],mne=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0],DF=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],gne=[0,0,0],MF=[0,0,0],bne=Am(vne);function jF(t,e,n=MF){n.length<3&&(n=[n[0],n[1],0]);let r=n,s,o=!0;switch(e===Tn.LNGLAT_OFFSETS||e===Tn.METER_OFFSETS?s=n:s=t.isGeospatial?[Math.fround(t.longitude),Math.fround(t.latitude),0]:null,t.projectionMode){case Ci.WEB_MERCATOR:(e===Tn.LNGLAT||e===Tn.CARTESIAN)&&(s=[0,0,0],o=!1);break;case Ci.WEB_MERCATOR_AUTO_OFFSET:e===Tn.LNGLAT?r=s:e===Tn.CARTESIAN&&(r=[Math.fround(t.center[0]),Math.fround(t.center[1]),0],s=t.unprojectPosition(r),r[0]-=n[0],r[1]-=n[1],r[2]-=n[2]);break;case Ci.IDENTITY:r=t.position.map(Math.fround),r[2]=r[2]||0;break;case Ci.GLOBE:o=!1,s=null;break;default:o=!1}return{geospatialOrigin:s,shaderCoordinateOrigin:r,offsetMode:o}}function xne(t,e,n){const{viewMatrixUncentered:r,projectionMatrix:s}=t;let{viewMatrix:o,viewProjectionMatrix:l}=t,c=bM,f=bM,h=t.cameraPosition;const{geospatialOrigin:p,shaderCoordinateOrigin:m,offsetMode:b}=jF(t,e,n);return b&&(f=t.projectPosition(p||m),h=[h[0]-f[0],h[1]-f[1],h[2]-f[2]],f[3]=1,c=Tm([],f,l),o=r||o,l=Zc([],s,o),l=Zc([],l,mne)),{viewMatrix:o,viewProjectionMatrix:l,projectionCenter:c,originCommon:f,cameraPosCommon:h,shaderCoordinateOrigin:m,geospatialOrigin:p}}function yne({viewport:t,devicePixelRatio:e=1,modelMatrix:n=null,coordinateSystem:r=Tn.DEFAULT,coordinateOrigin:s=MF,autoWrapLongitude:o=!1}){r===Tn.DEFAULT&&(r=t.isGeospatial?Tn.LNGLAT:Tn.CARTESIAN);const l=bne({viewport:t,devicePixelRatio:e,coordinateSystem:r,coordinateOrigin:s});return l.wrapLongitude=o,l.modelMatrix=n||DF,l}function vne({viewport:t,devicePixelRatio:e,coordinateSystem:n,coordinateOrigin:r}){const{projectionCenter:s,viewProjectionMatrix:o,originCommon:l,cameraPosCommon:c,shaderCoordinateOrigin:f,geospatialOrigin:h}=xne(t,n,r),p=t.getDistanceScales(),m=[t.width*e,t.height*e],b=Tm([],[0,0,-t.focalDistance,1],t.projectionMatrix)[3]||1,_={coordinateSystem:n,projectionMode:t.projectionMode,coordinateOrigin:f,commonOrigin:l.slice(0,3),center:s,pseudoMeters:!!t._pseudoMeters,viewportSize:m,devicePixelRatio:e,focalDistance:b,commonUnitsPerMeter:p.unitsPerMeter,commonUnitsPerWorldUnit:p.unitsPerMeter,commonUnitsPerWorldUnit2:gne,scale:t.scale,wrapLongitude:!1,viewProjectionMatrix:o,modelMatrix:DF,cameraPosition:c};if(h){const E=t.getDistanceScales(h);switch(n){case Tn.METER_OFFSETS:_.commonUnitsPerWorldUnit=E.unitsPerMeter,_.commonUnitsPerWorldUnit2=E.unitsPerMeter2;break;case Tn.LNGLAT:case Tn.LNGLAT_OFFSETS:t._pseudoMeters||(_.commonUnitsPerMeter=E.unitsPerMeter),_.commonUnitsPerWorldUnit=E.unitsPerDegree,_.commonUnitsPerWorldUnit2=E.unitsPerDegree2;break;case Tn.CARTESIAN:_.commonUnitsPerWorldUnit=[1,1,E.unitsPerMeter[2]],_.commonUnitsPerWorldUnit2=[0,0,E.unitsPerMeter2[2]];break}}return _}const _ne=Object.keys(Tn).map(t=>`const COORDINATE_SYSTEM_${t}: i32 = ${Tn[t]};`).join(""),wne=Object.keys(Ci).map(t=>`const PROJECTION_MODE_${t}: i32 = ${Ci[t]};`).join(""),Nne=Object.keys(pu).map(t=>`const UNIT_${t.toUpperCase()}: i32 = ${pu[t]};`).join(""),Sne=`${_ne}
${wne}
${Nne}

const TILE_SIZE: f32 = 512.0;
const PI: f32 = 3.1415926536;
const WORLD_SCALE: f32 = TILE_SIZE / (PI * 2.0);
const ZERO_64_LOW: vec3<f32> = vec3<f32>(0.0, 0.0, 0.0);
const EARTH_RADIUS: f32 = 6370972.0; // meters
const GLOBE_RADIUS: f32 = 256.0;

// -----------------------------------------------------------------------------
// Uniform block (converted from GLSL uniform block)
// -----------------------------------------------------------------------------
struct ProjectUniforms {
  wrapLongitude: i32,
  coordinateSystem: i32,
  commonUnitsPerMeter: vec3<f32>,
  projectionMode: i32,
  scale: f32,
  commonUnitsPerWorldUnit: vec3<f32>,
  commonUnitsPerWorldUnit2: vec3<f32>,
  center: vec4<f32>,
  modelMatrix: mat4x4<f32>,
  viewProjectionMatrix: mat4x4<f32>,
  viewportSize: vec2<f32>,
  devicePixelRatio: f32,
  focalDistance: f32,
  cameraPosition: vec3<f32>,
  coordinateOrigin: vec3<f32>,
  commonOrigin: vec3<f32>,
  pseudoMeters: i32,
};

@group(0) @binding(0)
var<uniform> project: ProjectUniforms;

// -----------------------------------------------------------------------------
// Geometry data
// (In your GLSL code, "geometry" was assumed to be available globally. In WGSL,
// you might supply this via vertex attributes or a uniform. Here we define a
// uniform struct for demonstration.)
// -----------------------------------------------------------------------------

// Structure to carry additional geometry data used by deck.gl filters.
struct Geometry {
  worldPosition: vec3<f32>,
  worldPositionAlt: vec3<f32>,
  position: vec4<f32>,
  uv: vec2<f32>,
  pickingColor: vec3<f32>,
};

// @group(0) @binding(1)
var<private> geometry: Geometry;
`,Ene=`${Sne}

// -----------------------------------------------------------------------------
// Functions
// -----------------------------------------------------------------------------

// Returns an adjustment factor for commonUnitsPerMeter
fn _project_size_at_latitude(lat: f32) -> f32 {
  let y = clamp(lat, -89.9, 89.9);
  return 1.0 / cos(radians(y));
}

// Overloaded version: scales a value in meters at a given latitude.
fn _project_size_at_latitude_m(meters: f32, lat: f32) -> f32 {
  return meters * project.commonUnitsPerMeter.z * _project_size_at_latitude(lat);
}

// Computes a non-linear scale factor based on geometry.
// (Note: This function relies on "geometry" being provided.)
fn project_size() -> f32 {
  if (project.projectionMode == PROJECTION_MODE_WEB_MERCATOR &&
      project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT &&
      project.pseudoMeters == 0) {
    if (geometry.position.w == 0.0) {
      return _project_size_at_latitude(geometry.worldPosition.y);
    }
    let y: f32 = geometry.position.y / TILE_SIZE * 2.0 - 1.0;
    let y2 = y * y;
    let y4 = y2 * y2;
    let y6 = y4 * y2;
    return 1.0 + 4.9348 * y2 + 4.0587 * y4 + 1.5642 * y6;
  }
  return 1.0;
}

// Overloads to scale offsets (meters to world units)
fn project_size_float(meters: f32) -> f32 {
  return meters * project.commonUnitsPerMeter.z * project_size();
}

fn project_size_vec2(meters: vec2<f32>) -> vec2<f32> {
  return meters * project.commonUnitsPerMeter.xy * project_size();
}

fn project_size_vec3(meters: vec3<f32>) -> vec3<f32> {
  return meters * project.commonUnitsPerMeter * project_size();
}

fn project_size_vec4(meters: vec4<f32>) -> vec4<f32> {
  return vec4<f32>(meters.xyz * project.commonUnitsPerMeter, meters.w);
}

// Returns a rotation matrix aligning the z‑axis with the given up vector.
fn project_get_orientation_matrix(up: vec3<f32>) -> mat3x3<f32> {
  let uz = normalize(up);
  let ux = select(
    vec3<f32>(1.0, 0.0, 0.0),
    normalize(vec3<f32>(uz.y, -uz.x, 0.0)),
    abs(uz.z) == 1.0
  );
  let uy = cross(uz, ux);
  return mat3x3<f32>(ux, uy, uz);
}

// Since WGSL does not support "out" parameters, we return a struct.
struct RotationResult {
  needsRotation: bool,
  transform: mat3x3<f32>,
};

fn project_needs_rotation(commonPosition: vec3<f32>) -> RotationResult {
  if (project.projectionMode == PROJECTION_MODE_GLOBE) {
    return RotationResult(true, project_get_orientation_matrix(commonPosition));
  } else {
    return RotationResult(false, mat3x3<f32>());  // identity alternative if needed
  };
}

// Projects a normal vector from the current coordinate system to world space.
fn project_normal(vector: vec3<f32>) -> vec3<f32> {
  let normal_modelspace = project.modelMatrix * vec4<f32>(vector, 0.0);
  var n = normalize(normal_modelspace.xyz * project.commonUnitsPerMeter);
  let rotResult = project_needs_rotation(geometry.position.xyz);
  if (rotResult.needsRotation) {
    n = rotResult.transform * n;
  }
  return n;
}

// Applies a scale offset based on y-offset (dy)
fn project_offset_(offset: vec4<f32>) -> vec4<f32> {
  let dy: f32 = offset.y;
  let commonUnitsPerWorldUnit = project.commonUnitsPerWorldUnit + project.commonUnitsPerWorldUnit2 * dy;
  return vec4<f32>(offset.xyz * commonUnitsPerWorldUnit, offset.w);
}

// Projects lng/lat coordinates to a unit tile [0,1]
fn project_mercator_(lnglat: vec2<f32>) -> vec2<f32> {
  var x = lnglat.x;
  if (project.wrapLongitude != 0) {
    x = ((x + 180.0) % 360.0) - 180.0;
  }
  let y = clamp(lnglat.y, -89.9, 89.9);
  return vec2<f32>(
    radians(x) + PI,
    PI + log(tan(PI * 0.25 + radians(y) * 0.5))
  ) * WORLD_SCALE;
}

// Projects lng/lat/z coordinates for a globe projection.
fn project_globe_(lnglatz: vec3<f32>) -> vec3<f32> {
  let lambda = radians(lnglatz.x);
  let phi = radians(lnglatz.y);
  let cosPhi = cos(phi);
  let D = (lnglatz.z / EARTH_RADIUS + 1.0) * GLOBE_RADIUS;
  return vec3<f32>(
    sin(lambda) * cosPhi,
    -cos(lambda) * cosPhi,
    sin(phi)
  ) * D;
}

// Projects positions (with an optional 64-bit low part) from the input
// coordinate system to the common space.
fn project_position_vec4_f64(position: vec4<f32>, position64Low: vec3<f32>) -> vec4<f32> {
  var position_world = project.modelMatrix * position;

  // Work around for a Mac+NVIDIA bug:
  if (project.projectionMode == PROJECTION_MODE_WEB_MERCATOR) {
    if (project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT) {
      return vec4<f32>(
        project_mercator_(position_world.xy),
        _project_size_at_latitude_m(position_world.z, position_world.y),
        position_world.w
      );
    }
    if (project.coordinateSystem == COORDINATE_SYSTEM_CARTESIAN) {
      position_world = vec4f(position_world.xyz + project.coordinateOrigin, position_world.w);
    }
  }
  if (project.projectionMode == PROJECTION_MODE_GLOBE) {
    if (project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT) {
      return vec4<f32>(
        project_globe_(position_world.xyz),
        position_world.w
      );
    }
  }
  if (project.projectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET) {
    if (project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT) {
      if (abs(position_world.y - project.coordinateOrigin.y) > 0.25) {
        return vec4<f32>(
          project_mercator_(position_world.xy) - project.commonOrigin.xy,
          project_size_float(position_world.z),
          position_world.w
        );
      }
    }
  }
  if (project.projectionMode == PROJECTION_MODE_IDENTITY ||
      (project.projectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET &&
       (project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT ||
        project.coordinateSystem == COORDINATE_SYSTEM_CARTESIAN))) {
    position_world = vec4f(position_world.xyz - project.coordinateOrigin, position_world.w);
  }

  return project_offset_(position_world) +
         project_offset_(project.modelMatrix * vec4<f32>(position64Low, 0.0));
}

// Overloaded versions for different input types.
fn project_position_vec4_f32(position: vec4<f32>) -> vec4<f32> {
  return project_position_vec4_f64(position, ZERO_64_LOW);
}

fn project_position_vec3_f64(position: vec3<f32>, position64Low: vec3<f32>) -> vec3<f32> {
  let projected_position = project_position_vec4_f64(vec4<f32>(position, 1.0), position64Low);
  return projected_position.xyz;
}

fn project_position_vec3_f32(position: vec3<f32>) -> vec3<f32> {
  let projected_position = project_position_vec4_f64(vec4<f32>(position, 1.0), ZERO_64_LOW);
  return projected_position.xyz;
}

fn project_position_vec2_f32(position: vec2<f32>) -> vec2<f32> {
  let projected_position = project_position_vec4_f64(vec4<f32>(position, 0.0, 1.0), ZERO_64_LOW);
  return projected_position.xy;
}

// Transforms a common space position to clip space.
fn project_common_position_to_clipspace_with_projection(position: vec4<f32>, viewProjectionMatrix: mat4x4<f32>, center: vec4<f32>) -> vec4<f32> {
  return viewProjectionMatrix * position + center;
}

// Uses the project viewProjectionMatrix and center.
fn project_common_position_to_clipspace(position: vec4<f32>) -> vec4<f32> {
  return project_common_position_to_clipspace_with_projection(position, project.viewProjectionMatrix, project.center);
}

// Returns a clip space offset corresponding to a given number of screen pixels.
fn project_pixel_size_to_clipspace(pixels: vec2<f32>) -> vec2<f32> {
  let offset = pixels / project.viewportSize * project.devicePixelRatio * 2.0;
  return offset * project.focalDistance;
}

fn project_meter_size_to_pixel(meters: f32) -> f32 {
  return project_size_float(meters) * project.scale;
}

fn project_unit_size_to_pixel(size: f32, unit: i32) -> f32 {
  if (unit == UNIT_METERS) {
    return project_meter_size_to_pixel(size);
  } else if (unit == UNIT_COMMON) {
    return size * project.scale;
  }
  // UNIT_PIXELS: no scaling applied.
  return size;
}

fn project_pixel_size_float(pixels: f32) -> f32 {
  return pixels / project.scale;
}

fn project_pixel_size_vec2(pixels: vec2<f32>) -> vec2<f32> {
  return pixels / project.scale;
}
`,Tne=Object.keys(Tn).map(t=>`const int COORDINATE_SYSTEM_${t} = ${Tn[t]};`).join(""),Ane=Object.keys(Ci).map(t=>`const int PROJECTION_MODE_${t} = ${Ci[t]};`).join(""),Cne=Object.keys(pu).map(t=>`const int UNIT_${t.toUpperCase()} = ${pu[t]};`).join(""),Rne=`${Tne}
${Ane}
${Cne}
uniform projectUniforms {
bool wrapLongitude;
int coordinateSystem;
vec3 commonUnitsPerMeter;
int projectionMode;
float scale;
vec3 commonUnitsPerWorldUnit;
vec3 commonUnitsPerWorldUnit2;
vec4 center;
mat4 modelMatrix;
mat4 viewProjectionMatrix;
vec2 viewportSize;
float devicePixelRatio;
float focalDistance;
vec3 cameraPosition;
vec3 coordinateOrigin;
vec3 commonOrigin;
bool pseudoMeters;
} project;
const float TILE_SIZE = 512.0;
const float PI = 3.1415926536;
const float WORLD_SCALE = TILE_SIZE / (PI * 2.0);
const vec3 ZERO_64_LOW = vec3(0.0);
const float EARTH_RADIUS = 6370972.0;
const float GLOBE_RADIUS = 256.0;
float project_size_at_latitude(float lat) {
float y = clamp(lat, -89.9, 89.9);
return 1.0 / cos(radians(y));
}
float project_size() {
if (project.projectionMode == PROJECTION_MODE_WEB_MERCATOR &&
project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT &&
project.pseudoMeters == false) {
if (geometry.position.w == 0.0) {
return project_size_at_latitude(geometry.worldPosition.y);
}
float y = geometry.position.y / TILE_SIZE * 2.0 - 1.0;
float y2 = y * y;
float y4 = y2 * y2;
float y6 = y4 * y2;
return 1.0 + 4.9348 * y2 + 4.0587 * y4 + 1.5642 * y6;
}
return 1.0;
}
float project_size_at_latitude(float meters, float lat) {
return meters * project.commonUnitsPerMeter.z * project_size_at_latitude(lat);
}
float project_size(float meters) {
return meters * project.commonUnitsPerMeter.z * project_size();
}
vec2 project_size(vec2 meters) {
return meters * project.commonUnitsPerMeter.xy * project_size();
}
vec3 project_size(vec3 meters) {
return meters * project.commonUnitsPerMeter * project_size();
}
vec4 project_size(vec4 meters) {
return vec4(meters.xyz * project.commonUnitsPerMeter, meters.w);
}
mat3 project_get_orientation_matrix(vec3 up) {
vec3 uz = normalize(up);
vec3 ux = abs(uz.z) == 1.0 ? vec3(1.0, 0.0, 0.0) : normalize(vec3(uz.y, -uz.x, 0));
vec3 uy = cross(uz, ux);
return mat3(ux, uy, uz);
}
bool project_needs_rotation(vec3 commonPosition, out mat3 transform) {
if (project.projectionMode == PROJECTION_MODE_GLOBE) {
transform = project_get_orientation_matrix(commonPosition);
return true;
}
return false;
}
vec3 project_normal(vec3 vector) {
vec4 normal_modelspace = project.modelMatrix * vec4(vector, 0.0);
vec3 n = normalize(normal_modelspace.xyz * project.commonUnitsPerMeter);
mat3 rotation;
if (project_needs_rotation(geometry.position.xyz, rotation)) {
n = rotation * n;
}
return n;
}
vec4 project_offset_(vec4 offset) {
float dy = offset.y;
vec3 commonUnitsPerWorldUnit = project.commonUnitsPerWorldUnit + project.commonUnitsPerWorldUnit2 * dy;
return vec4(offset.xyz * commonUnitsPerWorldUnit, offset.w);
}
vec2 project_mercator_(vec2 lnglat) {
float x = lnglat.x;
if (project.wrapLongitude) {
x = mod(x + 180., 360.0) - 180.;
}
float y = clamp(lnglat.y, -89.9, 89.9);
return vec2(
radians(x) + PI,
PI + log(tan_fp32(PI * 0.25 + radians(y) * 0.5))
) * WORLD_SCALE;
}
vec3 project_globe_(vec3 lnglatz) {
float lambda = radians(lnglatz.x);
float phi = radians(lnglatz.y);
float cosPhi = cos(phi);
float D = (lnglatz.z / EARTH_RADIUS + 1.0) * GLOBE_RADIUS;
return vec3(
sin(lambda) * cosPhi,
-cos(lambda) * cosPhi,
sin(phi)
) * D;
}
vec4 project_position(vec4 position, vec3 position64Low) {
vec4 position_world = project.modelMatrix * position;
if (project.projectionMode == PROJECTION_MODE_WEB_MERCATOR) {
if (project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT) {
return vec4(
project_mercator_(position_world.xy),
project_size_at_latitude(position_world.z, position_world.y),
position_world.w
);
}
if (project.coordinateSystem == COORDINATE_SYSTEM_CARTESIAN) {
position_world.xyz += project.coordinateOrigin;
}
}
if (project.projectionMode == PROJECTION_MODE_GLOBE) {
if (project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT) {
return vec4(
project_globe_(position_world.xyz),
position_world.w
);
}
}
if (project.projectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET) {
if (project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT) {
if (abs(position_world.y - project.coordinateOrigin.y) > 0.25) {
return vec4(
project_mercator_(position_world.xy) - project.commonOrigin.xy,
project_size(position_world.z),
position_world.w
);
}
}
}
if (project.projectionMode == PROJECTION_MODE_IDENTITY ||
(project.projectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET &&
(project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT ||
project.coordinateSystem == COORDINATE_SYSTEM_CARTESIAN))) {
position_world.xyz -= project.coordinateOrigin;
}
return project_offset_(position_world) + project_offset_(project.modelMatrix * vec4(position64Low, 0.0));
}
vec4 project_position(vec4 position) {
return project_position(position, ZERO_64_LOW);
}
vec3 project_position(vec3 position, vec3 position64Low) {
vec4 projected_position = project_position(vec4(position, 1.0), position64Low);
return projected_position.xyz;
}
vec3 project_position(vec3 position) {
vec4 projected_position = project_position(vec4(position, 1.0), ZERO_64_LOW);
return projected_position.xyz;
}
vec2 project_position(vec2 position) {
vec4 projected_position = project_position(vec4(position, 0.0, 1.0), ZERO_64_LOW);
return projected_position.xy;
}
vec4 project_common_position_to_clipspace(vec4 position, mat4 viewProjectionMatrix, vec4 center) {
return viewProjectionMatrix * position + center;
}
vec4 project_common_position_to_clipspace(vec4 position) {
return project_common_position_to_clipspace(position, project.viewProjectionMatrix, project.center);
}
vec2 project_pixel_size_to_clipspace(vec2 pixels) {
vec2 offset = pixels / project.viewportSize * project.devicePixelRatio * 2.0;
return offset * project.focalDistance;
}
float project_size_to_pixel(float meters) {
return project_size(meters) * project.scale;
}
float project_size_to_pixel(float size, int unit) {
if (unit == UNIT_METERS) return project_size_to_pixel(size);
if (unit == UNIT_COMMON) return size * project.scale;
return size;
}
float project_pixel_size(float pixels) {
return pixels / project.scale;
}
vec2 project_pixel_size(vec2 pixels) {
return pixels / project.scale;
}
`,kne={};function Pne(t=kne){return"viewport"in t?yne(t):{}}const hT={name:"project",dependencies:[lte,EF],source:Ene,vs:Rne,getUniforms:Pne,uniformTypes:{wrapLongitude:"f32",coordinateSystem:"i32",commonUnitsPerMeter:"vec3<f32>",projectionMode:"i32",scale:"f32",commonUnitsPerWorldUnit:"vec3<f32>",commonUnitsPerWorldUnit2:"vec3<f32>",center:"vec4<f32>",modelMatrix:"mat4x4<f32>",viewProjectionMatrix:"mat4x4<f32>",viewportSize:"vec2<f32>",devicePixelRatio:"f32",focalDistance:"f32",cameraPosition:"vec3<f32>",coordinateOrigin:"vec3<f32>",commonOrigin:"vec3<f32>",pseudoMeters:"f32"}},Dne=`// Define a structure to hold both the clip-space position and the common position.
struct ProjectResult {
  clipPosition: vec4<f32>,
  commonPosition: vec4<f32>,
};

// This function mimics the GLSL version with the 'out' parameter by returning both values.
fn project_position_to_clipspace_and_commonspace(
    position: vec3<f32>,
    position64Low: vec3<f32>,
    offset: vec3<f32>
) -> ProjectResult {
  // Compute the projected position.
  let projectedPosition: vec3<f32> = project_position_vec3_f64(position, position64Low);

  // Start with the provided offset.
  var finalOffset: vec3<f32> = offset;

  // Get whether a rotation is needed and the rotation matrix.
  let rotationResult = project_needs_rotation(projectedPosition);

  // If rotation is needed, update the offset.
  if (rotationResult.needsRotation) {
    finalOffset = rotationResult.transform * offset;
  }

  // Compute the common position.
  let commonPosition: vec4<f32> = vec4<f32>(projectedPosition + finalOffset, 1.0);

  // Convert to clip-space.
  let clipPosition: vec4<f32> = project_common_position_to_clipspace(commonPosition);

  return ProjectResult(clipPosition, commonPosition);
}

// A convenience overload that returns only the clip-space position.
fn project_position_to_clipspace(
    position: vec3<f32>,
    position64Low: vec3<f32>,
    offset: vec3<f32>
) -> vec4<f32> {
  return project_position_to_clipspace_and_commonspace(position, position64Low, offset).clipPosition;
}
`,Mne=`vec4 project_position_to_clipspace(
  vec3 position, vec3 position64Low, vec3 offset, out vec4 commonPosition
) {
  vec3 projectedPosition = project_position(position, position64Low);
  mat3 rotation;
  if (project_needs_rotation(projectedPosition, rotation)) {
    // offset is specified as ENU
    // when in globe projection, rotate offset so that the ground alighs with the surface of the globe
    offset = rotation * offset;
  }
  commonPosition = vec4(projectedPosition + offset, 1.0);
  return project_common_position_to_clipspace(commonPosition);
}

vec4 project_position_to_clipspace(
  vec3 position, vec3 position64Low, vec3 offset
) {
  vec4 commonPosition;
  return project_position_to_clipspace(position, position64Low, offset, commonPosition);
}
`,IF={name:"project32",dependencies:[hT],source:Dne,vs:Mne};function jne(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function Qf(t,e){const n=Tm([],e,t);return Qee(n,n,1/n[3]),n}function xM(t,e){const n=t%e;return n<0?e+n:n}function PS(t,e,n){return t<e?e:t>n?n:t}function Ine(t){return Math.log(t)*Math.LOG2E}const pT=Math.log2||Ine;function Ca(t,e){if(!t)throw new Error(e||"@math.gl/web-mercator: assertion failed.")}const Qi=Math.PI,OF=Qi/4,Pi=Qi/180,DS=180/Qi,_d=512,uy=4003e4,Jb=85.051129,One=1.5;function Une(t){return pT(t)}function fy(t){const[e,n]=t;Ca(Number.isFinite(e)),Ca(Number.isFinite(n)&&n>=-90&&n<=90,"invalid latitude");const r=e*Pi,s=n*Pi,o=_d*(r+Qi)/(2*Qi),l=_d*(Qi+Math.log(Math.tan(OF+s*.5)))/(2*Qi);return[o,l]}function wd(t){const[e,n]=t,r=e/_d*(2*Qi)-Qi,s=2*(Math.atan(Math.exp(n/_d*(2*Qi)-Qi))-OF);return[r*DS,s*DS]}function Vne(t){const{latitude:e}=t;Ca(Number.isFinite(e));const n=Math.cos(e*Pi);return Une(uy*n)-9}function L1(t){const e=Math.cos(t*Pi);return _d/uy/e}function MS(t){const{latitude:e,longitude:n,highPrecision:r=!1}=t;Ca(Number.isFinite(e)&&Number.isFinite(n));const s=_d,o=Math.cos(e*Pi),l=s/360,c=l/o,f=s/uy/o,h={unitsPerMeter:[f,f,f],metersPerUnit:[1/f,1/f,1/f],unitsPerDegree:[l,c,f],degreesPerUnit:[1/l,1/c,1/f]};if(r){const p=Pi*Math.tan(e*Pi)/o,m=l*p/2,b=s/uy*p,_=b/c*f;h.unitsPerDegree2=[0,m,b],h.unitsPerMeter2=[_,0,_]}return h}function UF(t,e){const[n,r,s]=t,[o,l,c]=e,{unitsPerMeter:f,unitsPerMeter2:h}=MS({longitude:n,latitude:r,highPrecision:!0}),p=fy(t);p[0]+=o*(f[0]+h[0]*l),p[1]+=l*(f[1]+h[1]*l);const m=wd(p),b=(s||0)+(c||0);return Number.isFinite(s)||Number.isFinite(c)?[m[0],m[1],b]:m}function Fne(t){const{height:e,pitch:n,bearing:r,altitude:s,scale:o,center:l}=t,c=jne();ly(c,c,[0,0,-s]),_F(c,c,-n*Pi),wF(c,c,r*Pi);const f=o/e;return dT(c,c,[f,f,f]),l&&ly(c,c,Cee([],l)),c}function Bne(t){const{width:e,height:n,altitude:r,pitch:s=0,offset:o,center:l,scale:c,nearZMultiplier:f=1,farZMultiplier:h=1}=t;let{fovy:p=dy(One)}=t;r!==void 0&&(p=dy(r));const m=p*Pi,b=s*Pi,_=VF(p);let E=_;l&&(E+=l[2]*c/Math.cos(b)/n);const T=m*(.5+(o?o[1]:0)/n),C=Math.sin(T)*E/Math.sin(PS(Math.PI/2-b-T,.01,Math.PI-.01)),D=Math.sin(b)*C+E,M=E*10,P=Math.min(D*h,M);return{fov:m,aspect:e/n,focalDistance:_,near:f,far:P}}function dy(t){return 2*Math.atan(.5/t)*DS}function VF(t){return .5/Math.tan(.5*t*Pi)}function FF(t,e){const[n,r,s=0]=t;return Ca(Number.isFinite(n)&&Number.isFinite(r)&&Number.isFinite(s)),Qf(e,[n,r,s,1])}function mT(t,e,n=0){const[r,s,o]=t;if(Ca(Number.isFinite(r)&&Number.isFinite(s),"invalid pixel coordinate"),Number.isFinite(o))return Qf(e,[r,s,o,1]);const l=Qf(e,[r,s,0,1]),c=Qf(e,[r,s,1,1]),f=l[2],h=c[2],p=f===h?0:((n||0)-f)/(h-f);return xF([],l,c,p)}function Lne(t){const{width:e,height:n,bounds:r,minExtent:s=0,maxZoom:o=24,offset:l=[0,0]}=t,[[c,f],[h,p]]=r,m=zne(t.padding),b=fy([c,PS(p,-Jb,Jb)]),_=fy([h,PS(f,-Jb,Jb)]),E=[Math.max(Math.abs(_[0]-b[0]),s),Math.max(Math.abs(_[1]-b[1]),s)],T=[e-m.left-m.right-Math.abs(l[0])*2,n-m.top-m.bottom-Math.abs(l[1])*2];Ca(T[0]>0&&T[1]>0);const C=T[0]/E[0],D=T[1]/E[1],M=(m.right-m.left)/2/C,P=(m.top-m.bottom)/2/D,U=[(_[0]+b[0])/2+M,(_[1]+b[1])/2+P],L=wd(U),O=Math.min(o,pT(Math.abs(Math.min(C,D))));return Ca(Number.isFinite(O)),{longitude:L[0],latitude:L[1],zoom:O}}function zne(t=0){return typeof t=="number"?{top:t,bottom:t,left:t,right:t}:(Ca(Number.isFinite(t.top)&&Number.isFinite(t.bottom)&&Number.isFinite(t.left)&&Number.isFinite(t.right)),t)}const yM=Math.PI/180;function $ne(t,e=0){const{width:n,height:r,unproject:s}=t,o={targetZ:e},l=s([0,r],o),c=s([n,r],o);let f,h;const p=t.fovy?.5*t.fovy*yM:Math.atan(.5/t.altitude),m=(90-t.pitch)*yM;return p>m-.01?(f=vM(t,0,e),h=vM(t,n,e)):(f=s([0,0],o),h=s([n,0],o)),[l,c,h,f]}function vM(t,e,n){const{pixelUnprojectionMatrix:r}=t,s=Qf(r,[e,0,1,1]),o=Qf(r,[e,t.height,1,1]),c=(n*t.distanceScales.unitsPerMeter[2]-s[2])/(o[2]-s[2]),f=xF([],s,o,c),h=wd(f);return h.push(n),h}const _M=512;function Hne(t){const{width:e,height:n,pitch:r=0}=t;let{longitude:s,latitude:o,zoom:l,bearing:c=0}=t;(s<-180||s>180)&&(s=xM(s+180,360)-180),(c<-180||c>180)&&(c=xM(c+180,360)-180);const f=pT(n/_M);if(l<=f)l=f,o=0;else{const h=n/2/Math.pow(2,l),p=wd([0,h])[1];if(o<p)o=p;else{const m=wd([0,_M-h])[1];o>m&&(o=m)}}return{width:e,height:n,longitude:s,latitude:o,zoom:l,pitch:r,bearing:c}}const BF=`
uniform shadowUniforms {
  bool drawShadowMap;
  bool useShadowMap;
  vec4 color;
  highp int lightId;
  float lightCount;
  mat4 viewProjectionMatrix0;
  mat4 viewProjectionMatrix1;
  vec4 projectCenter0;
  vec4 projectCenter1;
} shadow;
`,Wne=`
const int max_lights = 2;

out vec3 shadow_vPosition[max_lights];

vec4 shadow_setVertexPosition(vec4 position_commonspace) {
  mat4 viewProjectionMatrices[max_lights];
  viewProjectionMatrices[0] = shadow.viewProjectionMatrix0;
  viewProjectionMatrices[1] = shadow.viewProjectionMatrix1;
  vec4 projectCenters[max_lights];
  projectCenters[0] = shadow.projectCenter0;
  projectCenters[1] = shadow.projectCenter1;

  if (shadow.drawShadowMap) {
    return project_common_position_to_clipspace(position_commonspace, viewProjectionMatrices[shadow.lightId], projectCenters[shadow.lightId]);
  }
  if (shadow.useShadowMap) {
    for (int i = 0; i < max_lights; i++) {
      if(i < int(shadow.lightCount)) {
        vec4 shadowMap_position = project_common_position_to_clipspace(position_commonspace, viewProjectionMatrices[i], projectCenters[i]);
        shadow_vPosition[i] = (shadowMap_position.xyz / shadowMap_position.w + 1.0) / 2.0;
      }
    }
  }
  return gl_Position;
}
`,qne=`
${BF}
${Wne}
`,Xne=`
const int max_lights = 2;
uniform sampler2D shadow_uShadowMap0;
uniform sampler2D shadow_uShadowMap1;

in vec3 shadow_vPosition[max_lights];

const vec4 bitPackShift = vec4(1.0, 255.0, 65025.0, 16581375.0);
const vec4 bitUnpackShift = 1.0 / bitPackShift;
const vec4 bitMask = vec4(1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0,  0.0);

float shadow_getShadowWeight(vec3 position, sampler2D shadowMap) {
  vec4 rgbaDepth = texture(shadowMap, position.xy);

  float z = dot(rgbaDepth, bitUnpackShift);
  return smoothstep(0.001, 0.01, position.z - z);
}

vec4 shadow_filterShadowColor(vec4 color) {
  if (shadow.drawShadowMap) {
    vec4 rgbaDepth = fract(gl_FragCoord.z * bitPackShift);
    rgbaDepth -= rgbaDepth.gbaa * bitMask;
    return rgbaDepth;
  }
  if (shadow.useShadowMap) {
    float shadowAlpha = 0.0;
    shadowAlpha += shadow_getShadowWeight(shadow_vPosition[0], shadow_uShadowMap0);
    if(shadow.lightCount > 1.0) {
      shadowAlpha += shadow_getShadowWeight(shadow_vPosition[1], shadow_uShadowMap1);
    }
    shadowAlpha *= shadow.color.a / shadow.lightCount;
    float blendedAlpha = shadowAlpha + color.a * (1.0 - shadowAlpha);

    return vec4(
      mix(color.rgb, shadow.color.rgb, shadowAlpha / blendedAlpha),
      blendedAlpha
    );
  }
  return color;
}
`,Yne=`
${BF}
${Xne}
`,Kne=Am(ere),Zne=Am(tre),Gne=[0,0,0,1],Qne=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0];function Jne(t,e){const[n,r,s]=t,o=mT([n,r,s],e);return Number.isFinite(s)?o:[o[0],o[1],0]}function ere({viewport:t,center:e}){return new Lo(t.viewProjectionMatrix).invert().transform(e)}function tre({viewport:t,shadowMatrices:e}){const n=[],r=t.pixelUnprojectionMatrix,s=t.isGeospatial?void 0:1,o=[[0,0,s],[t.width,0,s],[0,t.height,s],[t.width,t.height,s],[0,0,-1],[t.width,0,-1],[0,t.height,-1],[t.width,t.height,-1]].map(l=>Jne(l,r));for(const l of e){const c=l.clone().translate(new Bo(t.center).negate()),f=o.map(p=>c.transform(p)),h=new Lo().ortho({left:Math.min(...f.map(p=>p[0])),right:Math.max(...f.map(p=>p[0])),bottom:Math.min(...f.map(p=>p[1])),top:Math.max(...f.map(p=>p[1])),near:Math.min(...f.map(p=>-p[2])),far:Math.max(...f.map(p=>-p[2]))});n.push(h.multiplyRight(l))}return n}function nre(t){const{shadowEnabled:e=!0,project:n}=t;if(!e||!n||!t.shadowMatrices||!t.shadowMatrices.length)return{drawShadowMap:!1,useShadowMap:!1,shadow_uShadowMap0:t.dummyShadowMap,shadow_uShadowMap1:t.dummyShadowMap};const r=hT.getUniforms(n),s=Kne({viewport:n.viewport,center:r.center}),o=[],l=Zne({shadowMatrices:t.shadowMatrices,viewport:n.viewport}).slice();for(let f=0;f<t.shadowMatrices.length;f++){const h=l[f],p=h.clone().translate(new Bo(n.viewport.center).negate());r.coordinateSystem===Tn.LNGLAT&&r.projectionMode===Ci.WEB_MERCATOR?(l[f]=p,o[f]=s):(l[f]=h.clone().multiplyRight(Qne),o[f]=p.transform(s))}const c={drawShadowMap:!!t.drawToShadowMap,useShadowMap:t.shadowMaps?t.shadowMaps.length>0:!1,color:t.shadowColor||Gne,lightId:t.shadowLightId||0,lightCount:t.shadowMatrices.length,shadow_uShadowMap0:t.dummyShadowMap,shadow_uShadowMap1:t.dummyShadowMap};for(let f=0;f<l.length;f++)c[`viewProjectionMatrix${f}`]=l[f],c[`projectCenter${f}`]=o[f];for(let f=0;f<2;f++)c[`shadow_uShadowMap${f}`]=t.shadowMaps&&t.shadowMaps[f]||t.dummyShadowMap;return c}const wM={name:"shadow",dependencies:[hT],vs:qne,fs:Yne,inject:{"vs:DECKGL_FILTER_GL_POSITION":`
    position = shadow_setVertexPosition(geometry.position);
    `,"fs:DECKGL_FILTER_COLOR":`
    color = shadow_filterShadowColor(color);
    `},getUniforms:nre,uniformTypes:{drawShadowMap:"f32",useShadowMap:"f32",color:"vec4<f32>",lightId:"i32",lightCount:"f32",viewProjectionMatrix0:"mat4x4<f32>",viewProjectionMatrix1:"mat4x4<f32>",projectCenter0:"vec4<f32>",projectCenter1:"vec4<f32>"}},LF={...eM,defaultUniforms:{...eM.defaultUniforms,useFloatColors:!1},inject:{"vs:DECKGL_FILTER_GL_POSITION":`
    // for picking depth values
    picking_setPickingAttribute(position.z / position.w);
  `,"vs:DECKGL_FILTER_COLOR":`
  picking_setPickingColor(geometry.pickingColor);
  `,"fs:DECKGL_FILTER_COLOR":{order:99,injection:`
  // use highlight color if this fragment belongs to the selected object.
  color = picking_filterHighlightColor(color);

  // use picking color if rendering to picking FBO.
  color = picking_filterPickingColor(color);
    `}}},rre=[EF],sre=["vs:DECKGL_FILTER_SIZE(inout vec3 size, VertexGeometry geometry)","vs:DECKGL_FILTER_GL_POSITION(inout vec4 position, VertexGeometry geometry)","vs:DECKGL_FILTER_COLOR(inout vec4 color, VertexGeometry geometry)","fs:DECKGL_FILTER_COLOR(inout vec4 color, FragmentGeometry geometry)"],ire=[];function ore(t){const e=Kx.getDefaultShaderAssembler();for(const r of rre)e.addDefaultModule(r);const n=t==="glsl"?sre:ire;for(const r of n)e.addShaderHook(r);return e}const are=[255,255,255],lre=1;let cre=0;class ure{constructor(e={}){this.type="ambient";const{color:n=are}=e,{intensity:r=lre}=e;this.id=e.id||`ambient-${cre++}`,this.color=n,this.intensity=r}}const fre=[255,255,255],dre=1,hre=[0,0,-1];let pre=0;class NM{constructor(e={}){this.type="directional";const{color:n=fre}=e,{intensity:r=dre}=e,{direction:s=hre}=e,{_shadow:o=!1}=e;this.id=e.id||`directional-${pre++}`,this.color=n,this.intensity=r,this.type="directional",this.direction=new Bo(s).normalize().toArray(),this.shadow=o}getProjectedLight(e){return this}}class mre{constructor(e,n={id:"pass"}){const{id:r}=n;this.id=r,this.device=e,this.props={...n}}setProps(e){Object.assign(this.props,e)}render(e){}cleanup(){}}class gT extends mre{constructor(){super(...arguments),this._lastRenderIndex=-1}render(e){const[n,r]=this.device.canvasContext.getDrawingBufferSize(),s=e.clearCanvas??!0,o=e.clearColor??(s?[0,0,0,0]:!1),l=s?1:!1,c=s?0:!1,f=e.colorMask??15,h={viewport:[0,0,n,r]};e.colorMask&&(h.colorMask=f),e.scissorRect&&(h.scissorRect=e.scissorRect);const p=this.device.beginRenderPass({framebuffer:e.target,parameters:h,clearColor:o,clearDepth:l,clearStencil:c});try{return this._drawLayers(p,e)}finally{p.end(),this.device.submit()}}_drawLayers(e,n){const{target:r,shaderModuleProps:s,viewports:o,views:l,onViewportActive:c,clearStack:f=!0}=n;n.pass=n.pass||"unknown",f&&(this._lastRenderIndex=-1);const h=[];for(const p of o){const m=l&&l[p.id];c==null||c(p);const b=this._getDrawLayerParams(p,n),_=p.subViewports||[p];for(const E of _){const T=this._drawLayersInViewport(e,{target:r,shaderModuleProps:s,viewport:E,view:m,pass:n.pass,layers:n.layers},b);h.push(T)}}return h}_getDrawLayerParams(e,{layers:n,pass:r,isPicking:s=!1,layerFilter:o,cullRect:l,effects:c,shaderModuleProps:f},h=!1){var E;const p=[],m=zF(this._lastRenderIndex+1),b={layer:n[0],viewport:e,isPicking:s,renderPass:r,cullRect:l},_={};for(let T=0;T<n.length;T++){const C=n[T],D=this._shouldDrawLayer(C,b,o,_),M={shouldDrawLayer:D};D&&!h&&(M.shouldDrawLayer=!0,M.layerRenderIndex=m(C,D),M.shaderModuleProps=this._getShaderModuleProps(C,c,r,f),M.layerParameters={...(E=C.context.deck)==null?void 0:E.props.parameters,...this.getLayerParameters(C,T,e)}),p[T]=M}return p}_drawLayersInViewport(e,{layers:n,shaderModuleProps:r,pass:s,target:o,viewport:l,view:c},f){const h=gre(this.device,{shaderModuleProps:r,target:o,viewport:l});if(c&&c.props.clear){const m=c.props.clear===!0?{color:!0,depth:!0}:c.props.clear;this.device.beginRenderPass({framebuffer:o,parameters:{viewport:h,scissorRect:h},clearColor:m.color?[0,0,0,0]:!1,clearDepth:m.depth?1:!1}).end()}const p={totalCount:n.length,visibleCount:0,compositeCount:0,pickableCount:0};e.setParameters({viewport:h});for(let m=0;m<n.length;m++){const b=n[m],_=f[m],{shouldDrawLayer:E}=_;if(E&&b.props.pickable&&p.pickableCount++,b.isComposite&&p.compositeCount++,b.isDrawable&&_.shouldDrawLayer){const{layerRenderIndex:T,shaderModuleProps:C,layerParameters:D}=_;p.visibleCount++,this._lastRenderIndex=Math.max(this._lastRenderIndex,T),C.project&&(C.project.viewport=l),b.context.renderPass=e;try{b._drawLayer({renderPass:e,shaderModuleProps:C,uniforms:{layerIndex:T},parameters:D})}catch(M){b.raiseError(M,`drawing ${b} to ${s}`)}}}return p}shouldDrawLayer(e){return!0}getShaderModuleProps(e,n,r){return null}getLayerParameters(e,n,r){return e.props.parameters}_shouldDrawLayer(e,n,r,s){if(!(e.props.visible&&this.shouldDrawLayer(e)))return!1;n.layer=e;let l=e.parent;for(;l;){if(!l.props.visible||!l.filterSubLayer(n))return!1;n.layer=l,l=l.parent}if(r){const c=n.layer.id;if(c in s||(s[c]=r(n)),!s[c])return!1}return e.activateViewport(n.viewport),!0}_getShaderModuleProps(e,n,r,s){var f,h;const o=this.device.canvasContext.cssToDeviceRatio(),l=((f=e.internalState)==null?void 0:f.propsInTransition)||e.props,c={layer:l,picking:{isActive:!1},project:{viewport:e.context.viewport,devicePixelRatio:o,modelMatrix:l.modelMatrix,coordinateSystem:l.coordinateSystem,coordinateOrigin:l.coordinateOrigin,autoWrapLongitude:e.wrapLongitude}};if(n)for(const p of n)SM(c,(h=p.getShaderModuleProps)==null?void 0:h.call(p,e,c));return SM(c,this.getShaderModuleProps(e,n,c),s)}}function zF(t=0,e={}){const n={},r=(s,o)=>{const l=s.props._offset,c=s.id,f=s.parent&&s.parent.id;let h;if(f&&!(f in e)&&r(s.parent,!1),f in n){const p=n[f]=n[f]||zF(e[f],e);h=p(s,o),n[c]=p}else Number.isFinite(l)?(h=l+(e[f]||0),n[c]=null):h=t;return o&&h>=t&&(t=h+1),e[c]=h,h};return r}function gre(t,{shaderModuleProps:e,target:n,viewport:r}){var f;const s=((f=e==null?void 0:e.project)==null?void 0:f.devicePixelRatio)??t.canvasContext.cssToDeviceRatio(),[,o]=t.canvasContext.getDrawingBufferSize(),l=n?n.height:o,c=r;return[c.x*s,l-(c.y+c.height)*s,c.width*s,c.height*s]}function SM(t,...e){for(const n of e)if(n)for(const r in n)t[r]?Object.assign(t[r],n[r]):t[r]=n[r];return t}class bre extends gT{constructor(e,n){super(e,n);const r=e.createTexture({format:"rgba8unorm",width:1,height:1,sampler:{minFilter:"linear",magFilter:"linear",addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"},mipmaps:!0}),s=e.createTexture({format:"depth16unorm",width:1,height:1,mipmaps:!1});this.fbo=e.createFramebuffer({id:"shadowmap",width:1,height:1,colorAttachments:[r],depthStencilAttachment:s})}delete(){this.fbo&&(this.fbo.destroy(),this.fbo=null)}getShadowMap(){return this.fbo.colorAttachments[0].texture}render(e){const n=this.fbo,r=this.device.canvasContext.cssToDeviceRatio(),s=e.viewports[0],o=s.width*r,l=s.height*r,c=[1,1,1,1];(o!==n.width||l!==n.height)&&n.resize({width:o,height:l}),super.render({...e,clearColor:c,target:n,pass:"shadow"})}getLayerParameters(e,n,r){return{...e.props.parameters,blend:!1,depthWriteEnabled:!0,depthCompare:"less-equal"}}shouldDrawLayer(e){return e.props.shadowEnabled!==!1}getShaderModuleProps(e,n,r){return{shadow:{project:r.project,drawToShadowMap:!0}}}}const xre={color:[255,255,255],intensity:1},EM=[{color:[255,255,255],intensity:1,direction:[-1,3,-1]},{color:[255,255,255],intensity:.9,direction:[1,-8,-2.5]}],yre=[0,0,0,200/255];class $F{constructor(e={}){this.id="lighting-effect",this.shadowColor=yre,this.shadow=!1,this.directionalLights=[],this.pointLights=[],this.shadowPasses=[],this.dummyShadowMap=null,this.setProps(e)}setup(e){this.context=e;const{device:n,deck:r}=e;this.shadow&&!this.dummyShadowMap&&(this._createShadowPasses(n),r._addDefaultShaderModule(wM),this.dummyShadowMap=n.createTexture({width:1,height:1}))}setProps(e){this.ambientLight=void 0,this.directionalLights=[],this.pointLights=[];for(const n in e){const r=e[n];switch(r.type){case"ambient":this.ambientLight=r;break;case"directional":this.directionalLights.push(r);break;case"point":this.pointLights.push(r);break}}this._applyDefaultLights(),this.shadow=this.directionalLights.some(n=>n.shadow),this.context&&this.setup(this.context),this.props=e}preRender({layers:e,layerFilter:n,viewports:r,onViewportActive:s,views:o}){if(this.shadow){this.shadowMatrices=this._calculateMatrices();for(let l=0;l<this.shadowPasses.length;l++)this.shadowPasses[l].render({layers:e,layerFilter:n,viewports:r,onViewportActive:s,views:o,shaderModuleProps:{shadow:{shadowLightId:l,dummyShadowMap:this.dummyShadowMap,shadowMatrices:this.shadowMatrices}}})}}getShaderModuleProps(e,n){const r=this.shadow?{project:n.project,shadowMaps:this.shadowPasses.map(l=>l.getShadowMap()),dummyShadowMap:this.dummyShadowMap,shadowColor:this.shadowColor,shadowMatrices:this.shadowMatrices}:{},s={enabled:!0,ambientLight:this.ambientLight,directionalLights:this.directionalLights.map(l=>l.getProjectedLight({layer:e})),pointLights:this.pointLights.map(l=>l.getProjectedLight({layer:e}))},o=e.props.material;return{shadow:r,lighting:s,phongMaterial:o,gouraudMaterial:o}}cleanup(e){for(const n of this.shadowPasses)n.delete();this.shadowPasses.length=0,this.dummyShadowMap&&(this.dummyShadowMap.destroy(),this.dummyShadowMap=null,e.deck._removeDefaultShaderModule(wM))}_calculateMatrices(){const e=[];for(const n of this.directionalLights){const r=new Lo().lookAt({eye:new Bo(n.direction).negate()});e.push(r)}return e}_createShadowPasses(e){for(let n=0;n<this.directionalLights.length;n++){const r=new bre(e);this.shadowPasses[n]=r}}_applyDefaultLights(){const{ambientLight:e,pointLights:n,directionalLights:r}=this;!e&&n.length===0&&r.length===0&&(this.ambientLight=new ure(xre),this.directionalLights.push(new NM(EM[0]),new NM(EM[1])))}}class vre{constructor(e={}){this._pool=[],this.opts={overAlloc:2,poolSize:100},this.setOptions(e)}setOptions(e){Object.assign(this.opts,e)}allocate(e,n,{size:r=1,type:s,padding:o=0,copy:l=!1,initialize:c=!1,maxCount:f}){const h=s||e&&e.constructor||Float32Array,p=n*r+o;if(ArrayBuffer.isView(e)){if(p<=e.length)return e;if(p*e.BYTES_PER_ELEMENT<=e.buffer.byteLength)return new h(e.buffer,0,p)}let m=1/0;f&&(m=f*r+o);const b=this._allocate(h,p,c,m);return e&&l?b.set(e):c||b.fill(0,0,4),this._release(e),b}release(e){this._release(e)}_allocate(e,n,r,s){let o=Math.max(Math.ceil(n*this.opts.overAlloc),1);o>s&&(o=s);const l=this._pool,c=e.BYTES_PER_ELEMENT*o,f=l.findIndex(h=>h.byteLength>=c);if(f>=0){const h=new e(l.splice(f,1)[0],0,o);return r&&h.fill(0),h}return new e(o)}_release(e){if(!ArrayBuffer.isView(e))return;const n=this._pool,{buffer:r}=e,{byteLength:s}=r,o=n.findIndex(l=>l.byteLength>=s);o<0?n.push(r):(o>0||n.length<this.opts.poolSize)&&n.splice(o,0,r),n.length>this.opts.poolSize&&n.shift()}}const sm=new vre;function Rp(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function _re(t){return[t[12],t[13],t[14]]}function wre(t){return{left:Pf(t[3]+t[0],t[7]+t[4],t[11]+t[8],t[15]+t[12]),right:Pf(t[3]-t[0],t[7]-t[4],t[11]-t[8],t[15]-t[12]),bottom:Pf(t[3]+t[1],t[7]+t[5],t[11]+t[9],t[15]+t[13]),top:Pf(t[3]-t[1],t[7]-t[5],t[11]-t[9],t[15]-t[13]),near:Pf(t[3]+t[2],t[7]+t[6],t[11]+t[10],t[15]+t[14]),far:Pf(t[3]-t[2],t[7]-t[6],t[11]-t[10],t[15]-t[14])}}const TM=new Bo;function Pf(t,e,n,r){TM.set(t,e,n);const s=TM.len();return{distance:r/s,normal:new Bo(-t/s,-e/s,-n/s)}}function Nre(t){return t-Math.fround(t)}let pp;function z1(t,e){const{size:n=1,startIndex:r=0}=e,s=e.endIndex!==void 0?e.endIndex:t.length,o=(s-r)/n;pp=sm.allocate(pp,o,{type:Float32Array,size:n*2});let l=r,c=0;for(;l<s;){for(let f=0;f<n;f++){const h=t[l++];pp[c+f]=h,pp[c+f+n]=Nre(h)}c+=n*2}return pp.subarray(0,o*n*2)}function Sre(t){let e=null,n=!1;for(const r of t)r&&(e?(n||(e=[[e[0][0],e[0][1]],[e[1][0],e[1][1]]],n=!0),e[0][0]=Math.min(e[0][0],r[0][0]),e[0][1]=Math.min(e[0][1],r[0][1]),e[1][0]=Math.max(e[1][0],r[1][0]),e[1][1]=Math.max(e[1][1],r[1][1])):e=r);return e}const Ere=Math.PI/180,Tre=Rp(),AM=[0,0,0],Are={unitsPerMeter:[1,1,1],metersPerUnit:[1,1,1]};function Cre({width:t,height:e,orthographic:n,fovyRadians:r,focalDistance:s,padding:o,near:l,far:c}){const f=t/e,h=n?new Lo().orthographic({fovy:r,aspect:f,focalDistance:s,near:l,far:c}):new Lo().perspective({fovy:r,aspect:f,near:l,far:c});if(o){const{left:p=0,right:m=0,top:b=0,bottom:_=0}=o,E=Ml((p+t-m)/2,0,t)-t/2,T=Ml((b+e-_)/2,0,e)-e/2;h[8]-=E*2/t,h[9]+=T*2/e}return h}class Cm{constructor(e={}){this._frustumPlanes={},this.id=e.id||this.constructor.displayName||"viewport",this.x=e.x||0,this.y=e.y||0,this.width=e.width||1,this.height=e.height||1,this.zoom=e.zoom||0,this.padding=e.padding,this.distanceScales=e.distanceScales||Are,this.focalDistance=e.focalDistance||1,this.position=e.position||AM,this.modelMatrix=e.modelMatrix||null;const{longitude:n,latitude:r}=e;this.isGeospatial=Number.isFinite(r)&&Number.isFinite(n),this._initProps(e),this._initMatrices(e),this.equals=this.equals.bind(this),this.project=this.project.bind(this),this.unproject=this.unproject.bind(this),this.projectPosition=this.projectPosition.bind(this),this.unprojectPosition=this.unprojectPosition.bind(this),this.projectFlat=this.projectFlat.bind(this),this.unprojectFlat=this.unprojectFlat.bind(this)}get subViewports(){return null}get metersPerPixel(){return this.distanceScales.metersPerUnit[2]/this.scale}get projectionMode(){return this.isGeospatial?this.zoom<12?Ci.WEB_MERCATOR:Ci.WEB_MERCATOR_AUTO_OFFSET:Ci.IDENTITY}equals(e){return e instanceof Cm?this===e?!0:e.width===this.width&&e.height===this.height&&e.scale===this.scale&&rm(e.projectionMatrix,this.projectionMatrix)&&rm(e.viewMatrix,this.viewMatrix):!1}project(e,{topLeft:n=!0}={}){const r=this.projectPosition(e),s=FF(r,this.pixelProjectionMatrix),[o,l]=s,c=n?l:this.height-l;return e.length===2?[o,c]:[o,c,s[2]]}unproject(e,{topLeft:n=!0,targetZ:r}={}){const[s,o,l]=e,c=n?o:this.height-o,f=r&&r*this.distanceScales.unitsPerMeter[2],h=mT([s,c,l],this.pixelUnprojectionMatrix,f),[p,m,b]=this.unprojectPosition(h);return Number.isFinite(l)?[p,m,b]:Number.isFinite(r)?[p,m,r]:[p,m]}projectPosition(e){const[n,r]=this.projectFlat(e),s=(e[2]||0)*this.distanceScales.unitsPerMeter[2];return[n,r,s]}unprojectPosition(e){const[n,r]=this.unprojectFlat(e),s=(e[2]||0)*this.distanceScales.metersPerUnit[2];return[n,r,s]}projectFlat(e){if(this.isGeospatial){const n=fy(e);return n[1]=Ml(n[1],-318,830),n}return e}unprojectFlat(e){return this.isGeospatial?wd(e):e}getBounds(e={}){const n={targetZ:e.z||0},r=this.unproject([0,0],n),s=this.unproject([this.width,0],n),o=this.unproject([0,this.height],n),l=this.unproject([this.width,this.height],n);return[Math.min(r[0],s[0],o[0],l[0]),Math.min(r[1],s[1],o[1],l[1]),Math.max(r[0],s[0],o[0],l[0]),Math.max(r[1],s[1],o[1],l[1])]}getDistanceScales(e){return e&&this.isGeospatial?MS({longitude:e[0],latitude:e[1],highPrecision:!0}):this.distanceScales}containsPixel({x:e,y:n,width:r=1,height:s=1}){return e<this.x+this.width&&this.x<e+r&&n<this.y+this.height&&this.y<n+s}getFrustumPlanes(){return this._frustumPlanes.near?this._frustumPlanes:(Object.assign(this._frustumPlanes,wre(this.viewProjectionMatrix)),this._frustumPlanes)}panByPosition(e,n){return null}_initProps(e){const n=e.longitude,r=e.latitude;this.isGeospatial&&(Number.isFinite(e.zoom)||(this.zoom=Vne({latitude:r})+Math.log2(this.focalDistance)),this.distanceScales=e.distanceScales||MS({latitude:r,longitude:n}));const s=Math.pow(2,this.zoom);this.scale=s;const{position:o,modelMatrix:l}=e;let c=AM;if(o&&(c=l?new Lo(l).transformAsVector(o,[]):o),this.isGeospatial){const f=this.projectPosition([n,r,0]);this.center=new Bo(c).scale(this.distanceScales.unitsPerMeter).add(f)}else this.center=this.projectPosition(c)}_initMatrices(e){const{viewMatrix:n=Tre,projectionMatrix:r=null,orthographic:s=!1,fovyRadians:o,fovy:l=75,near:c=.1,far:f=1e3,padding:h=null,focalDistance:p=1}=e;this.viewMatrixUncentered=n,this.viewMatrix=new Lo().multiplyRight(n).translate(new Bo(this.center).negate()),this.projectionMatrix=r||Cre({width:this.width,height:this.height,orthographic:s,fovyRadians:o||l*Ere,focalDistance:p,padding:h,near:c,far:f});const m=Rp();Zc(m,m,this.projectionMatrix),Zc(m,m,this.viewMatrix),this.viewProjectionMatrix=m,this.viewMatrixInverse=SS([],this.viewMatrix)||this.viewMatrix,this.cameraPosition=_re(this.viewMatrixInverse);const b=Rp(),_=Rp();dT(b,b,[this.width/2,-this.height/2,1]),ly(b,b,[1,-1,0]),Zc(_,b,this.viewProjectionMatrix),this.pixelProjectionMatrix=_,this.pixelUnprojectionMatrix=SS(Rp(),this.pixelProjectionMatrix),this.pixelUnprojectionMatrix||Hn.warn("Pixel project matrix not invertible")()}}Cm.displayName="Viewport";class Nd extends Cm{constructor(e={}){const{latitude:n=0,longitude:r=0,zoom:s=0,pitch:o=0,bearing:l=0,nearZMultiplier:c=.1,farZMultiplier:f=1.01,nearZ:h,farZ:p,orthographic:m=!1,projectionMatrix:b,repeat:_=!1,worldOffset:E=0,position:T,padding:C,legacyMeterSizes:D=!1}=e;let{width:M,height:P,altitude:U=1.5}=e;const L=Math.pow(2,s);M=M||1,P=P||1;let O,Y=null;if(b)U=b[5]/2,O=dy(U);else{e.fovy?(O=e.fovy,U=VF(O)):O=dy(U);let G;if(C){const{top:K=0,bottom:Q=0}=C;G=[0,Ml((K+P-Q)/2,0,P)-P/2]}Y=Bne({width:M,height:P,scale:L,center:T&&[0,0,T[2]*L1(n)],offset:G,pitch:o,fovy:O,nearZMultiplier:c,farZMultiplier:f}),Number.isFinite(h)&&(Y.near=h),Number.isFinite(p)&&(Y.far=p)}let ne=Fne({height:P,pitch:o,bearing:l,scale:L,altitude:U});E&&(ne=new Lo().translate([512*E,0,0]).multiplyLeft(ne)),super({...e,width:M,height:P,viewMatrix:ne,longitude:r,latitude:n,zoom:s,...Y,fovy:O,focalDistance:U}),this.latitude=n,this.longitude=r,this.zoom=s,this.pitch=o,this.bearing=l,this.altitude=U,this.fovy=O,this.orthographic=m,this._subViewports=_?[]:null,this._pseudoMeters=D,Object.freeze(this)}get subViewports(){if(this._subViewports&&!this._subViewports.length){const e=this.getBounds(),n=Math.floor((e[0]+180)/360),r=Math.ceil((e[2]-180)/360);for(let s=n;s<=r;s++){const o=s?new Nd({...this,worldOffset:s}):this;this._subViewports.push(o)}}return this._subViewports}projectPosition(e){if(this._pseudoMeters)return super.projectPosition(e);const[n,r]=this.projectFlat(e),s=(e[2]||0)*L1(e[1]);return[n,r,s]}unprojectPosition(e){if(this._pseudoMeters)return super.unprojectPosition(e);const[n,r]=this.unprojectFlat(e),s=(e[2]||0)/L1(r);return[n,r,s]}addMetersToLngLat(e,n){return UF(e,n)}panByPosition(e,n){const r=mT(n,this.pixelUnprojectionMatrix),s=this.projectFlat(e),o=Q2([],s,wee([],r)),l=Q2([],this.center,o),[c,f]=this.unprojectFlat(l);return{longitude:c,latitude:f}}getBounds(e={}){const n=$ne(this,e.z||0);return[Math.min(n[0][0],n[1][0],n[2][0],n[3][0]),Math.min(n[0][1],n[1][1],n[2][1],n[3][1]),Math.max(n[0][0],n[1][0],n[2][0],n[3][0]),Math.max(n[0][1],n[1][1],n[2][1],n[3][1])]}fitBounds(e,n={}){const{width:r,height:s}=this,{longitude:o,latitude:l,zoom:c}=Lne({width:r,height:s,bounds:e,...n});return new Nd({width:r,height:s,longitude:o,latitude:l,zoom:c})}}Nd.displayName="WebMercatorViewport";const CM=[0,0,0];function $1(t,e,n=!1){const r=e.projectPosition(t);if(n&&e instanceof Nd){const[s,o,l=0]=t,c=e.getDistanceScales([s,o]);r[2]=l*c.unitsPerMeter[2]}return r}function Rre(t){const{viewport:e,modelMatrix:n,coordinateOrigin:r}=t;let{coordinateSystem:s,fromCoordinateSystem:o,fromCoordinateOrigin:l}=t;return s===Tn.DEFAULT&&(s=e.isGeospatial?Tn.LNGLAT:Tn.CARTESIAN),o===void 0&&(o=s),l===void 0&&(l=r),{viewport:e,coordinateSystem:s,coordinateOrigin:r,modelMatrix:n,fromCoordinateSystem:o,fromCoordinateOrigin:l}}function HF(t,{viewport:e,modelMatrix:n,coordinateSystem:r,coordinateOrigin:s,offsetMode:o}){let[l,c,f=0]=t;switch(n&&([l,c,f]=Tm([],[l,c,f,1],n)),r){case Tn.LNGLAT:return $1([l,c,f],e,o);case Tn.LNGLAT_OFFSETS:return $1([l+s[0],c+s[1],f+(s[2]||0)],e,o);case Tn.METER_OFFSETS:return $1(UF(s,[l,c,f]),e,o);case Tn.CARTESIAN:default:return e.isGeospatial?[l+s[0],c+s[1],f+s[2]]:e.projectPosition([l,c,f])}}function kre(t,e){const{viewport:n,coordinateSystem:r,coordinateOrigin:s,modelMatrix:o,fromCoordinateSystem:l,fromCoordinateOrigin:c}=Rre(e),{autoOffset:f=!0}=e,{geospatialOrigin:h=CM,shaderCoordinateOrigin:p=CM,offsetMode:m=!1}=f?jF(n,r,s):{},b=HF(t,{viewport:n,modelMatrix:o,coordinateSystem:l,coordinateOrigin:c,offsetMode:m});if(m){const _=n.projectPosition(h||p);Uee(b,b,_)}return b}let Pre=1,Dre=1;class WF{constructor(){H(this,"time",0);H(this,"channels",new Map);H(this,"animations",new Map);H(this,"playing",!1);H(this,"lastEngineTime",-1)}addChannel(e){const{delay:n=0,duration:r=Number.POSITIVE_INFINITY,rate:s=1,repeat:o=1}=e,l=Pre++,c={time:0,delay:n,duration:r,rate:s,repeat:o};return this._setChannelTime(c,this.time),this.channels.set(l,c),l}removeChannel(e){this.channels.delete(e);for(const[n,r]of this.animations)r.channel===e&&this.detachAnimation(n)}isFinished(e){const n=this.channels.get(e);return n===void 0?!1:this.time>=n.delay+n.duration*n.repeat}getTime(e){if(e===void 0)return this.time;const n=this.channels.get(e);return n===void 0?-1:n.time}setTime(e){this.time=Math.max(0,e);const n=this.channels.values();for(const s of n)this._setChannelTime(s,this.time);const r=this.animations.values();for(const s of r){const{animation:o,channel:l}=s;o.setTime(this.getTime(l))}}play(){this.playing=!0}pause(){this.playing=!1,this.lastEngineTime=-1}reset(){this.setTime(0)}attachAnimation(e,n){const r=Dre++;return this.animations.set(r,{animation:e,channel:n}),e.setTime(this.getTime(n)),r}detachAnimation(e){this.animations.delete(e)}update(e){this.playing&&(this.lastEngineTime===-1&&(this.lastEngineTime=e),this.setTime(this.time+(e-this.lastEngineTime)),this.lastEngineTime=e)}_setChannelTime(e,n){const r=n-e.delay,s=e.duration*e.repeat;r>=s?e.time=e.duration*e.rate:(e.time=Math.max(0,r)%e.duration,e.time*=e.rate)}}function Mre(t){return typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame(t):setTimeout(t,1e3/60)}function jre(t){return typeof window<"u"&&window.cancelAnimationFrame?window.cancelAnimationFrame(t):clearTimeout(t)}let Ire=0;const Ore={device:null,onAddHTML:()=>"",onInitialize:async()=>null,onRender:()=>{},onFinalize:()=>{},onError:t=>console.error(t),stats:hS.stats.get(`animation-loop-${Ire++}`),useDevicePixels:!0,autoResizeViewport:!1,autoResizeDrawingBuffer:!1};class Ure{constructor(e){H(this,"device",null);H(this,"canvas",null);H(this,"props");H(this,"animationProps",null);H(this,"timeline",null);H(this,"stats");H(this,"cpuTime");H(this,"gpuTime");H(this,"frameRate");H(this,"display");H(this,"needsRedraw","initialized");H(this,"_initialized",!1);H(this,"_running",!1);H(this,"_animationFrameId",null);H(this,"_nextFramePromise",null);H(this,"_resolveNextFrame",null);H(this,"_cpuStartTime",0);H(this,"_error",null);if(this.props={...Ore,...e},e=this.props,!e.device)throw new Error("No device provided");const{useDevicePixels:n=!0}=this.props;this.stats=e.stats||new iv({id:"animation-loop-stats"}),this.cpuTime=this.stats.get("CPU Time"),this.gpuTime=this.stats.get("GPU Time"),this.frameRate=this.stats.get("Frame Rate"),this.setProps({autoResizeViewport:e.autoResizeViewport,autoResizeDrawingBuffer:e.autoResizeDrawingBuffer,useDevicePixels:n}),this.start=this.start.bind(this),this.stop=this.stop.bind(this),this._onMousemove=this._onMousemove.bind(this),this._onMouseleave=this._onMouseleave.bind(this)}destroy(){this.stop(),this._setDisplay(null)}delete(){this.destroy()}setError(e){var r,s;if(this.props.onError(e),this._error=Error(),((s=(r=this.device)==null?void 0:r.canvasContext)==null?void 0:s.canvas)instanceof HTMLCanvasElement){const o=document.createElement("h1");o.innerHTML=e.message,o.style.position="absolute",o.style.top="20%",o.style.left="10px",o.style.color="black",o.style.backgroundColor="red",document.body.appendChild(o)}}setNeedsRedraw(e){return this.needsRedraw=this.needsRedraw||e,this}setProps(e){return"autoResizeViewport"in e&&(this.props.autoResizeViewport=e.autoResizeViewport||!1),"autoResizeDrawingBuffer"in e&&(this.props.autoResizeDrawingBuffer=e.autoResizeDrawingBuffer||!1),"useDevicePixels"in e&&(this.props.useDevicePixels=e.useDevicePixels||!1),this}async start(){if(this._running)return this;this._running=!0;try{let e;return this._initialized||(this._initialized=!0,await this._initDevice(),this._initialize(),await this.props.onInitialize(this._getAnimationProps())),this._running?(e!==!1&&(this._cancelAnimationFrame(),this._requestAnimationFrame()),this):null}catch(e){const n=e instanceof Error?e:new Error("Unknown error");throw this.props.onError(n),n}}stop(){return this._running&&(this.animationProps&&!this._error&&this.props.onFinalize(this.animationProps),this._cancelAnimationFrame(),this._nextFramePromise=null,this._resolveNextFrame=null,this._running=!1),this}redraw(){var e;return(e=this.device)!=null&&e.isLost||this._error?this:(this._beginFrameTimers(),this._setupFrame(),this._updateAnimationProps(),this._renderFrame(this._getAnimationProps()),this._clearNeedsRedraw(),this._resolveNextFrame&&(this._resolveNextFrame(this),this._nextFramePromise=null,this._resolveNextFrame=null),this._endFrameTimers(),this)}attachTimeline(e){return this.timeline=e,this.timeline}detachTimeline(){this.timeline=null}waitForRender(){return this.setNeedsRedraw("waitForRender"),this._nextFramePromise||(this._nextFramePromise=new Promise(e=>{this._resolveNextFrame=e})),this._nextFramePromise}async toDataURL(){if(this.setNeedsRedraw("toDataURL"),await this.waitForRender(),this.canvas instanceof HTMLCanvasElement)return this.canvas.toDataURL();throw new Error("OffscreenCanvas")}_initialize(){this._startEventHandling(),this._initializeAnimationProps(),this._updateAnimationProps(),this._resizeCanvasDrawingBuffer(),this._resizeViewport()}_setDisplay(e){this.display&&(this.display.destroy(),this.display.animationLoop=null),e&&(e.animationLoop=this),this.display=e}_requestAnimationFrame(){this._running&&(this._animationFrameId=Mre(this._animationFrame.bind(this)))}_cancelAnimationFrame(){this._animationFrameId!==null&&(jre(this._animationFrameId),this._animationFrameId=null)}_animationFrame(){this._running&&(this.redraw(),this._requestAnimationFrame())}_renderFrame(e){var n;if(this.display){this.display._renderFrame(e);return}this.props.onRender(this._getAnimationProps()),(n=this.device)==null||n.submit()}_clearNeedsRedraw(){this.needsRedraw=!1}_setupFrame(){this._resizeCanvasDrawingBuffer(),this._resizeViewport()}_initializeAnimationProps(){var n,r;const e=(r=(n=this.device)==null?void 0:n.canvasContext)==null?void 0:r.canvas;if(!this.device||!e)throw new Error("loop");this.animationProps={animationLoop:this,device:this.device,canvas:e,timeline:this.timeline,useDevicePixels:this.props.useDevicePixels,needsRedraw:!1,width:1,height:1,aspect:1,time:0,startTime:Date.now(),engineTime:0,tick:0,tock:0,_mousePosition:null}}_getAnimationProps(){if(!this.animationProps)throw new Error("animationProps");return this.animationProps}_updateAnimationProps(){if(!this.animationProps)return;const{width:e,height:n,aspect:r}=this._getSizeAndAspect();(e!==this.animationProps.width||n!==this.animationProps.height)&&this.setNeedsRedraw("drawing buffer resized"),r!==this.animationProps.aspect&&this.setNeedsRedraw("drawing buffer aspect changed"),this.animationProps.width=e,this.animationProps.height=n,this.animationProps.aspect=r,this.animationProps.needsRedraw=this.needsRedraw,this.animationProps.engineTime=Date.now()-this.animationProps.startTime,this.timeline&&this.timeline.update(this.animationProps.engineTime),this.animationProps.tick=Math.floor(this.animationProps.time/1e3*60),this.animationProps.tock++,this.animationProps.time=this.timeline?this.timeline.getTime():this.animationProps.engineTime}async _initDevice(){var e;if(this.device=await this.props.device,!this.device)throw new Error("No device provided");this.canvas=((e=this.device.canvasContext)==null?void 0:e.canvas)||null}_createInfoDiv(){if(this.canvas&&this.props.onAddHTML){const e=document.createElement("div");document.body.appendChild(e),e.style.position="relative";const n=document.createElement("div");n.style.position="absolute",n.style.left="10px",n.style.bottom="10px",n.style.width="300px",n.style.background="white",this.canvas instanceof HTMLCanvasElement&&e.appendChild(this.canvas),e.appendChild(n);const r=this.props.onAddHTML(n);r&&(n.innerHTML=r)}}_getSizeAndAspect(){var o,l,c,f;if(!this.device)return{width:1,height:1,aspect:1};const[e,n]=((l=(o=this.device)==null?void 0:o.canvasContext)==null?void 0:l.getPixelSize())||[1,1];let r=1;const s=(f=(c=this.device)==null?void 0:c.canvasContext)==null?void 0:f.canvas;return s&&s.clientHeight?r=s.clientWidth/s.clientHeight:e>0&&n>0&&(r=e/n),{width:e,height:n,aspect:r}}_resizeViewport(){this.props.autoResizeViewport&&this.device.gl&&this.device.gl.viewport(0,0,this.device.gl.drawingBufferWidth,this.device.gl.drawingBufferHeight)}_resizeCanvasDrawingBuffer(){var e,n;this.props.autoResizeDrawingBuffer&&((n=(e=this.device)==null?void 0:e.canvasContext)==null||n.resize({useDevicePixels:this.props.useDevicePixels}))}_beginFrameTimers(){this.frameRate.timeEnd(),this.frameRate.timeStart(),this.cpuTime.timeStart()}_endFrameTimers(){this.cpuTime.timeEnd()}_startEventHandling(){this.canvas&&(this.canvas.addEventListener("mousemove",this._onMousemove.bind(this)),this.canvas.addEventListener("mouseleave",this._onMouseleave.bind(this)))}_onMousemove(e){e instanceof MouseEvent&&(this._getAnimationProps()._mousePosition=[e.offsetX,e.offsetY])}_onMouseleave(e){this._getAnimationProps()._mousePosition=null}}const H1={};function cv(t="id"){H1[t]=H1[t]||1;const e=H1[t]++;return`${t}-${e}`}class RM{constructor(e){H(this,"id");H(this,"userData",{});H(this,"topology");H(this,"bufferLayout",[]);H(this,"vertexCount");H(this,"indices");H(this,"attributes");if(this.id=e.id||cv("geometry"),this.topology=e.topology,this.indices=e.indices||null,this.attributes=e.attributes,this.vertexCount=e.vertexCount,this.bufferLayout=e.bufferLayout||[],this.indices&&!(this.indices.usage&nr.INDEX))throw new Error("Index buffer must have INDEX usage")}destroy(){var e;(e=this.indices)==null||e.destroy();for(const n of Object.values(this.attributes))n.destroy()}getVertexCount(){return this.vertexCount}getAttributes(){return this.attributes}getIndexes(){return this.indices||null}_calculateVertexCount(e){return e.byteLength/12}}function Vre(t,e){if(e instanceof RM)return e;const n=Fre(t,e),{attributes:r,bufferLayout:s}=Bre(t,e);return new RM({topology:e.topology||"triangle-list",bufferLayout:s,vertexCount:e.vertexCount,indices:n,attributes:r})}function Fre(t,e){if(!e.indices)return;const n=e.indices.value;return t.createBuffer({usage:nr.INDEX,data:n})}function Bre(t,e){const n=[],r={};for(const[o,l]of Object.entries(e.attributes)){let c=o;switch(o){case"POSITION":c="positions";break;case"NORMAL":c="normals";break;case"TEXCOORD_0":c="texCoords";break;case"COLOR_0":c="colors";break}if(l){r[c]=t.createBuffer({data:l.value,id:`${o}-buffer`});const{value:f,size:h,normalized:p}=l;n.push({name:c,format:OJ(f,h,p)})}}const s=e._calculateVertexCount(e.attributes,e.indices);return{attributes:r,bufferLayout:n,vertexCount:s}}const Oy=class Oy{constructor(e){H(this,"device");H(this,"destroyPolicy");H(this,"_hashCounter",0);H(this,"_hashes",{});H(this,"_renderPipelineCache",{});H(this,"_computePipelineCache",{});this.device=e,this.destroyPolicy=e.props._factoryDestroyPolicy}static getDefaultPipelineFactory(e){return e._lumaData.defaultPipelineFactory=e._lumaData.defaultPipelineFactory||new Oy(e),e._lumaData.defaultPipelineFactory}createRenderPipeline(e){const n={...bd.defaultProps,...e},r=this._hashRenderPipeline(n);if(!this._renderPipelineCache[r]){const s=this.device.createRenderPipeline({...n,id:n.id?`${n.id}-cached`:void 0});s.hash=r,this._renderPipelineCache[r]={pipeline:s,useCount:0}}return this._renderPipelineCache[r].useCount++,this._renderPipelineCache[r].pipeline}createComputePipeline(e){const n={...ey.defaultProps,...e},r=this._hashComputePipeline(n);if(!this._computePipelineCache[r]){const s=this.device.createComputePipeline({...n,id:n.id?`${n.id}-cached`:void 0});s.hash=r,this._computePipelineCache[r]={pipeline:s,useCount:0}}return this._computePipelineCache[r].useCount++,this._computePipelineCache[r].pipeline}release(e){const n=e.hash,r=e instanceof ey?this._computePipelineCache:this._renderPipelineCache;r[n].useCount--,r[n].useCount===0&&this.destroyPolicy==="unused"&&(r[n].pipeline.destroy(),delete r[n])}_hashComputePipeline(e){return`${this._getHash(e.shader.source)}`}_hashRenderPipeline(e){const n=e.vs?this._getHash(e.vs.source):0,r=e.fs?this._getHash(e.fs.source):0,s="-",o=this._getHash(JSON.stringify(e.bufferLayout));switch(this.device.type){case"webgl":return`${n}/${r}V${s}BL${o}`;default:const l=this._getHash(JSON.stringify(e.parameters));return`${n}/${r}V${s}T${e.topology}P${l}BL${o}`}}_getHash(e){return this._hashes[e]===void 0&&(this._hashes[e]=this._hashCounter++),this._hashes[e]}};H(Oy,"defaultProps",{...bd.defaultProps});let jS=Oy;const Uy=class Uy{constructor(e){H(this,"device");H(this,"destroyPolicy");H(this,"_cache",{});this.device=e,this.destroyPolicy=e.props._factoryDestroyPolicy}static getDefaultShaderFactory(e){var n;return(n=e._lumaData).defaultShaderFactory||(n.defaultShaderFactory=new Uy(e)),e._lumaData.defaultShaderFactory}createShader(e){const n=this._hashShader(e);let r=this._cache[n];if(!r){const s=this.device.createShader({...e,id:e.id?`${e.id}-cached`:void 0});this._cache[n]=r={shader:s,useCount:0}}return r.useCount++,r.shader}release(e){const n=this._hashShader(e),r=this._cache[n];r&&(r.useCount--,r.useCount===0&&this.destroyPolicy==="unused"&&(delete this._cache[n],r.shader.destroy()))}_hashShader(e){return`${e.stage}:${e.source}`}};H(Uy,"defaultProps",{...Gx.defaultProps});let IS=Uy;function Lre(t,e){var s;const n={},r="Values";if(t.attributes.length===0&&!((s=t.varyings)!=null&&s.length))return{"No attributes or varyings":{[r]:"N/A"}};for(const o of t.attributes)if(o){const l=`${o.location} ${o.name}: ${o.type}`;n[`in ${l}`]={[r]:o.stepMode||"vertex"}}for(const o of t.varyings||[]){const l=`${o.location} ${o.name}`;n[`out ${l}`]={[r]:JSON.stringify(o)}}return n}let Hr=null,Mc=null;function zre(t,{id:e,minimap:n,opaque:r,top:s="0",left:o="0",rgbaScale:l=1}){Hr||(Hr=document.createElement("canvas"),Hr.id=e,Hr.title=e,Hr.style.zIndex="100",Hr.style.position="absolute",Hr.style.top=s,Hr.style.left=o,Hr.style.border="blue 5px solid",Hr.style.transform="scaleY(-1)",document.body.appendChild(Hr),Mc=Hr.getContext("2d")),(Hr.width!==t.width||Hr.height!==t.height)&&(Hr.width=t.width/2,Hr.height=t.height/2,Hr.style.width="400px",Hr.style.height="400px");const c=t.device.readPixelsToArrayWebGL(t),f=Mc==null?void 0:Mc.createImageData(t.width,t.height);if(f){for(let p=0;p<c.length;p+=4)f.data[0+p+0]=c[p+0]*l,f.data[0+p+1]=c[p+1]*l,f.data[0+p+2]=c[p+2]*l,f.data[0+p+3]=r?255:c[p+3]*l;Mc==null||Mc.putImageData(f,0,0)}}function OS(t,e,n){if(t===e)return!0;if(!n||!t||!e)return!1;if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(!OS(t[r],e[r],n-1))return!1;return!0}if(Array.isArray(e))return!1;if(typeof t=="object"&&typeof e=="object"){const r=Object.keys(t),s=Object.keys(e);if(r.length!==s.length)return!1;for(const o of r)if(!e.hasOwnProperty(o)||!OS(t[o],e[o],n-1))return!1;return!0}return!1}function $re(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Hre(t){return Array.isArray(t)?t.length===0||typeof t[0]=="number":!1}function qF(t){return $re(t)||Hre(t)}function Wre(t){return qF(t)||typeof t=="number"||typeof t=="boolean"}function XF(t){const e={bindings:{},uniforms:{}};return Object.keys(t).forEach(n=>{const r=t[n];Wre(r)?e.uniforms[n]=r:e.bindings[n]=r}),e}class qre{constructor(e,n){H(this,"options",{disableWarnings:!1});H(this,"modules");H(this,"moduleUniforms");H(this,"moduleBindings");Object.assign(this.options,n);const r=tT(Object.values(e).filter(s=>s.dependencies));for(const s of r)e[s.name]=s;ot.log(1,"Creating ShaderInputs with modules",Object.keys(e))(),this.modules=e,this.moduleUniforms={},this.moduleBindings={};for(const[s,o]of Object.entries(e))this._addModule(o),o.name&&s!==o.name&&!this.options.disableWarnings&&ot.warn(`Module name: ${s} vs ${o.name}`)()}destroy(){}setProps(e){var n;for(const r of Object.keys(e)){const s=r,o=e[s]||{},l=this.modules[s];if(!l){this.options.disableWarnings||ot.warn(`Module ${r} not found`)();continue}const c=this.moduleUniforms[s],f=this.moduleBindings[s],h=((n=l.getUniforms)==null?void 0:n.call(l,o,c))||o,{uniforms:p,bindings:m}=XF(h);this.moduleUniforms[s]={...c,...p},this.moduleBindings[s]={...f,...m}}}getModules(){return Object.values(this.modules)}getUniformValues(){return this.moduleUniforms}getBindingValues(){const e={};for(const n of Object.values(this.moduleBindings))Object.assign(e,n);return e}getDebugTable(){var n;const e={};for(const[r,s]of Object.entries(this.moduleUniforms))for(const[o,l]of Object.entries(s))e[`${r}.${o}`]={type:(n=this.modules[r].uniformTypes)==null?void 0:n[o],value:String(l)};return e}_addModule(e){const n=e.name;this.moduleUniforms[n]=e.defaultUniforms||{},this.moduleBindings[n]={}}}let Xre="";async function Yre(t,e){const n=new Image;return n.crossOrigin="anonymous",n.src=t.startsWith("http")?t:Xre+t,await n.decode(),e?await createImageBitmap(n,e):await createImageBitmap(n)}class W1{constructor(e,n){H(this,"device");H(this,"id");H(this,"texture");H(this,"sampler");H(this,"view");H(this,"ready");H(this,"isReady",!1);H(this,"destroyed",!1);H(this,"resolveReady",()=>{});H(this,"rejectReady",()=>{});this.device=e,this.id=n.id||cv("async-texture"),typeof(n==null?void 0:n.data)=="string"&&n.dimension==="2d"&&(n={...n,data:Yre(n.data)}),this.ready=new Promise((r,s)=>{this.resolveReady=()=>{this.isReady=!0,r()},this.rejectReady=s}),this.initAsync(n)}get[Symbol.toStringTag](){return"AsyncTexture"}toString(){return`AsyncTexture:"${this.id}"(${this.isReady?"ready":"loading"})`}async initAsync(e){const n=e.data;let r;try{r=await YF(n)}catch(o){this.rejectReady(o)}if(this.destroyed)return;const s={...e,data:r};this.texture=this.device.createTexture(s),this.sampler=this.texture.sampler,this.view=this.texture.view,this.isReady=!0,this.resolveReady()}destroy(){this.texture&&(this.texture.destroy(),this.texture=null),this.destroyed=!0}resize(e){if(!this.isReady)throw new Error("Cannot resize texture before it is ready");if(e.width===this.texture.width&&e.height===this.texture.height)return!1;if(this.texture){const n=this.texture;this.texture=n.clone(e),n.destroy()}return!0}}async function YF(t){if(t=await t,Array.isArray(t))return await Promise.all(t.map(YF));if(t&&typeof t=="object"&&t.constructor===Object){const e=t,n=await Promise.all(Object.values(e)),r=Object.keys(e),s={};for(let o=0;o<r.length;o++)s[r[o]]=n[o];return s}return t}const jc=2,Kre=1e4,Vy=class Vy{constructor(e,n){H(this,"device");H(this,"id");H(this,"source");H(this,"vs");H(this,"fs");H(this,"pipelineFactory");H(this,"shaderFactory");H(this,"userData",{});H(this,"parameters");H(this,"topology");H(this,"bufferLayout");H(this,"isInstanced");H(this,"instanceCount",0);H(this,"vertexCount");H(this,"indexBuffer",null);H(this,"bufferAttributes",{});H(this,"constantAttributes",{});H(this,"bindings",{});H(this,"uniforms",{});H(this,"vertexArray");H(this,"transformFeedback",null);H(this,"pipeline");H(this,"shaderInputs");H(this,"_uniformStore");H(this,"_attributeInfos",{});H(this,"_gpuGeometry",null);H(this,"_getModuleUniforms");H(this,"props");H(this,"_pipelineNeedsUpdate","newly created");H(this,"_needsRedraw","initializing");H(this,"_destroyed",!1);H(this,"_lastDrawTimestamp",-1);H(this,"_lastLogTime",0);H(this,"_logOpen",!1);H(this,"_drawCount",0);var f,h,p,m;this.props={...Vy.defaultProps,...n},n=this.props,this.id=n.id||cv("model"),this.device=e,Object.assign(this.userData,n.userData);const r=Object.fromEntries(((f=this.props.modules)==null?void 0:f.map(b=>[b.name,b]))||[]),s=n.shaderInputs||new qre(r,{disableWarnings:this.props.disableWarnings});this.setShaderInputs(s);const o=Gre(e),l=(((h=this.props.modules)==null?void 0:h.length)>0?this.props.modules:(p=this.shaderInputs)==null?void 0:p.getModules())||[];if(this.device.type==="webgpu"&&this.props.source){const{source:b,getUniforms:_}=this.props.shaderAssembler.assembleWGSLShader({platformInfo:o,...this.props,modules:l});this.source=b,this._getModuleUniforms=_,(m=this.props).shaderLayout||(m.shaderLayout=dee(this.source))}else{const{vs:b,fs:_,getUniforms:E}=this.props.shaderAssembler.assembleGLSLShaderPair({platformInfo:o,...this.props,modules:l});this.vs=b,this.fs=_,this._getModuleUniforms=E}this.vertexCount=this.props.vertexCount,this.instanceCount=this.props.instanceCount,this.topology=this.props.topology,this.bufferLayout=this.props.bufferLayout,this.parameters=this.props.parameters,n.geometry&&this.setGeometry(n.geometry),this.pipelineFactory=n.pipelineFactory||jS.getDefaultPipelineFactory(this.device),this.shaderFactory=n.shaderFactory||IS.getDefaultShaderFactory(this.device),this.pipeline=this._updatePipeline(),this.vertexArray=e.createVertexArray({renderPipeline:this.pipeline}),this._gpuGeometry&&this._setGeometryAttributes(this._gpuGeometry),"isInstanced"in n&&(this.isInstanced=n.isInstanced),n.instanceCount&&this.setInstanceCount(n.instanceCount),n.vertexCount&&this.setVertexCount(n.vertexCount),n.indexBuffer&&this.setIndexBuffer(n.indexBuffer),n.attributes&&this.setAttributes(n.attributes),n.constantAttributes&&this.setConstantAttributes(n.constantAttributes),n.bindings&&this.setBindings(n.bindings),n.uniforms&&this.setUniformsWebGL(n.uniforms),n.moduleSettings&&this.updateModuleSettingsWebGL(n.moduleSettings),n.transformFeedback&&(this.transformFeedback=n.transformFeedback),Object.seal(this)}get[Symbol.toStringTag](){return"Model"}toString(){return`Model(${this.id})`}destroy(){var e;this._destroyed||(this.pipelineFactory.release(this.pipeline),this.shaderFactory.release(this.pipeline.vs),this.pipeline.fs&&this.shaderFactory.release(this.pipeline.fs),this._uniformStore.destroy(),(e=this._gpuGeometry)==null||e.destroy(),this._destroyed=!0)}needsRedraw(){this._getBindingsUpdateTimestamp()>this._lastDrawTimestamp&&this.setNeedsRedraw("contents of bound textures or buffers updated");const e=this._needsRedraw;return this._needsRedraw=!1,e}setNeedsRedraw(e){this._needsRedraw||(this._needsRedraw=e)}predraw(){this.updateShaderInputs(),this.pipeline=this._updatePipeline()}draw(e){const n=this._areBindingsLoading();if(n)return ot.info(jc,`>>> DRAWING ABORTED ${this.id}: ${n} not loaded`)(),!1;try{e.pushDebugGroup(`${this}.predraw(${e})`),this.predraw()}finally{e.popDebugGroup()}let r;try{e.pushDebugGroup(`${this}.draw(${e})`),this._logDrawCallStart(),this.pipeline=this._updatePipeline();const s=this._getBindings();this.pipeline.setBindings(s,{disableWarnings:this.props.disableWarnings}),US(this.uniforms)||this.pipeline.setUniformsWebGL(this.uniforms);const{indexBuffer:o}=this.vertexArray,l=o?o.byteLength/(o.indexType==="uint32"?4:2):void 0;r=this.pipeline.draw({renderPass:e,vertexArray:this.vertexArray,isInstanced:this.isInstanced,vertexCount:this.vertexCount,instanceCount:this.instanceCount,indexCount:l,transformFeedback:this.transformFeedback||void 0,parameters:this.parameters,topology:this.topology})}finally{e.popDebugGroup(),this._logDrawCallEnd()}return this._logFramebuffer(e),r?(this._lastDrawTimestamp=this.device.timestamp,this._needsRedraw=!1):this._needsRedraw="waiting for resource initialization",r}setGeometry(e){var r;(r=this._gpuGeometry)==null||r.destroy();const n=e&&Vre(this.device,e);if(n){this.setTopology(n.topology||"triangle-list");const s=new D1(this.bufferLayout);this.bufferLayout=s.mergeBufferLayouts(n.bufferLayout,this.bufferLayout),this.vertexArray&&this._setGeometryAttributes(n)}this._gpuGeometry=n}setTopology(e){e!==this.topology&&(this.topology=e,this._setPipelineNeedsUpdate("topology"))}setBufferLayout(e){const n=new D1(this.bufferLayout);this.bufferLayout=this._gpuGeometry?n.mergeBufferLayouts(e,this._gpuGeometry.bufferLayout):e,this._setPipelineNeedsUpdate("bufferLayout"),this.pipeline=this._updatePipeline(),this.vertexArray=this.device.createVertexArray({renderPipeline:this.pipeline}),this._gpuGeometry&&this._setGeometryAttributes(this._gpuGeometry)}setParameters(e){OS(e,this.parameters,2)||(this.parameters=e,this._setPipelineNeedsUpdate("parameters"))}setInstanceCount(e){this.instanceCount=e,this.isInstanced===void 0&&e>0&&(this.isInstanced=!0),this.setNeedsRedraw("instanceCount")}setVertexCount(e){this.vertexCount=e,this.setNeedsRedraw("vertexCount")}setShaderInputs(e){this.shaderInputs=e,this._uniformStore=new IJ(this.shaderInputs.modules);for(const[n,r]of Object.entries(this.shaderInputs.modules))if(Zre(r)){const s=this._uniformStore.getManagedUniformBuffer(this.device,n);this.bindings[`${n}Uniforms`]=s}this.setNeedsRedraw("shaderInputs")}updateShaderInputs(){this._uniformStore.setUniforms(this.shaderInputs.getUniformValues()),this.setBindings(this.shaderInputs.getBindingValues()),this.setNeedsRedraw("shaderInputs")}setBindings(e){Object.assign(this.bindings,e),this.setNeedsRedraw("bindings")}setTransformFeedback(e){this.transformFeedback=e,this.setNeedsRedraw("transformFeedback")}setIndexBuffer(e){this.vertexArray.setIndexBuffer(e),this.setNeedsRedraw("indexBuffer")}setAttributes(e,n){const r=(n==null?void 0:n.disableWarnings)??this.props.disableWarnings;e.indices&&ot.warn(`Model:${this.id} setAttributes() - indexBuffer should be set using setIndexBuffer()`)(),this.bufferLayout=UJ(this.pipeline.shaderLayout,this.bufferLayout);const s=new D1(this.bufferLayout);for(const[o,l]of Object.entries(e)){const c=s.getBufferLayout(o);if(!c){r||ot.warn(`Model(${this.id}): Missing layout for buffer "${o}".`)();continue}const f=s.getAttributeNamesForBuffer(c);let h=!1;for(const p of f){const m=this._attributeInfos[p];if(m){const b=this.device.type==="webgpu"?s.getBufferIndex(m.bufferName):m.location;this.vertexArray.setBuffer(b,l),h=!0}}!h&&!r&&ot.warn(`Model(${this.id}): Ignoring buffer "${l.id}" for unknown attribute "${o}"`)()}this.setNeedsRedraw("attributes")}setConstantAttributes(e,n){for(const[r,s]of Object.entries(e)){const o=this._attributeInfos[r];o?this.vertexArray.setConstantWebGL(o.location,s):((n==null?void 0:n.disableWarnings)??this.props.disableWarnings)||ot.warn(`Model "${this.id}: Ignoring constant supplied for unknown attribute "${r}"`)()}this.setNeedsRedraw("constants")}setUniforms(e){this.setUniformsWebGL(e)}setUniformsWebGL(e){US(e)||(this.pipeline.setUniformsWebGL(e),Object.assign(this.uniforms,e)),this.setNeedsRedraw("uniforms")}updateModuleSettingsWebGL(e){const{bindings:n,uniforms:r}=XF(this._getModuleUniforms(e));Object.assign(this.bindings,n),Object.assign(this.uniforms,r),this.setNeedsRedraw("moduleSettings")}_areBindingsLoading(){for(const e of Object.values(this.bindings))if(e instanceof W1&&!e.isReady)return e.id;return!1}_getBindings(){const e={};for(const[n,r]of Object.entries(this.bindings))r instanceof W1?r.isReady&&(e[n]=r.texture):e[n]=r;return e}_getBindingsUpdateTimestamp(){let e=0;for(const n of Object.values(this.bindings))n instanceof Zx?e=Math.max(e,n.texture.updateTimestamp):n instanceof nr||n instanceof hr?e=Math.max(e,n.updateTimestamp):n instanceof W1?e=n.texture?Math.max(e,n.texture.updateTimestamp):1/0:n instanceof Qx||(e=Math.max(e,n.buffer.updateTimestamp));return e}_setGeometryAttributes(e){const n={...e.attributes};for(const[r]of Object.entries(n))!this.pipeline.shaderLayout.attributes.find(s=>s.name===r)&&r!=="positions"&&delete n[r];this.vertexCount=e.vertexCount,this.setIndexBuffer(e.indices||null),this.setAttributes(e.attributes,{disableWarnings:!0}),this.setAttributes(n,{disableWarnings:this.props.disableWarnings}),this.setNeedsRedraw("geometry attributes")}_setPipelineNeedsUpdate(e){this._pipelineNeedsUpdate||(this._pipelineNeedsUpdate=e),this.setNeedsRedraw(e)}_updatePipeline(){if(this._pipelineNeedsUpdate){let e=null,n=null;this.pipeline&&(ot.log(1,`Model ${this.id}: Recreating pipeline because "${this._pipelineNeedsUpdate}".`)(),e=this.pipeline.vs,n=this.pipeline.fs),this._pipelineNeedsUpdate=!1;const r=this.shaderFactory.createShader({id:`${this.id}-vertex`,stage:"vertex",source:this.source||this.vs,debugShaders:this.props.debugShaders});let s=null;this.source?s=r:this.fs&&(s=this.shaderFactory.createShader({id:`${this.id}-fragment`,stage:"fragment",source:this.source||this.fs,debugShaders:this.props.debugShaders})),this.pipeline=this.pipelineFactory.createRenderPipeline({...this.props,bufferLayout:this.bufferLayout,topology:this.topology,parameters:this.parameters,bindings:this._getBindings(),vs:r,fs:s}),this._attributeInfos=qV(this.pipeline.shaderLayout,this.bufferLayout),e&&this.shaderFactory.release(e),n&&this.shaderFactory.release(n)}return this.pipeline}_logDrawCallStart(){const e=ot.level>3?0:Kre;ot.level<2||Date.now()-this._lastLogTime<e||(this._lastLogTime=Date.now(),this._logOpen=!0,ot.group(jc,`>>> DRAWING MODEL ${this.id}`,{collapsed:ot.level<=2})())}_logDrawCallEnd(){if(this._logOpen){const e=Lre(this.pipeline.shaderLayout,this.id);ot.table(jc,e)();const n=this.shaderInputs.getDebugTable();for(const[s,o]of Object.entries(this.uniforms))n[s]={value:o};ot.table(jc,n)();const r=this._getAttributeDebugTable();ot.table(jc,this._attributeInfos)(),ot.table(jc,r)(),ot.groupEnd(jc)(),this._logOpen=!1}}_logFramebuffer(e){const n=this.device.props.debugFramebuffers;if(this._drawCount++,!n)return;const r=e.props.framebuffer;r&&zre(r,{id:r.id,minimap:!0})}_getAttributeDebugTable(){const e={};for(const[n,r]of Object.entries(this._attributeInfos)){const s=this.vertexArray.attributes[r.location];e[r.location]={name:n,type:r.shaderType,values:s?this._getBufferOrConstantValues(s,r.bufferDataType):"null"}}if(this.vertexArray.indexBuffer){const{indexBuffer:n}=this.vertexArray,r=n.indexType==="uint32"?new Uint32Array(n.debugData):new Uint16Array(n.debugData);e.indices={name:"indices",type:n.indexType,values:r.toString()}}return e}_getBufferOrConstantValues(e,n){const r=KV(n);return(e instanceof nr?new r(e.debugData):e).toString()}};H(Vy,"defaultProps",{...bd.defaultProps,source:void 0,vs:null,fs:null,id:"unnamed",handle:void 0,userData:{},defines:{},modules:[],moduleSettings:void 0,geometry:null,indexBuffer:null,attributes:{},constantAttributes:{},varyings:[],isInstanced:void 0,instanceCount:0,vertexCount:0,shaderInputs:void 0,pipelineFactory:void 0,shaderFactory:void 0,transformFeedback:void 0,shaderAssembler:Kx.getDefaultShaderAssembler(),debugShaders:void 0,disableWarnings:void 0});let Sd=Vy;function Zre(t){return!!(t.uniformTypes&&!US(t.uniformTypes))}function Gre(t){return{type:t.type,shaderLanguage:t.info.shadingLanguage,shaderLanguageVersion:t.info.shadingLanguageVersion,gpu:t.info.gpu,features:t.features}}function US(t){for(const e in t)return!1;return!0}const qp=class qp{constructor(e,n=qp.defaultProps){H(this,"device");H(this,"model");H(this,"transformFeedback");if(!qp.isSupported(e))throw new Error("BufferTransform not yet implemented on WebGPU");this.device=e,this.model=new Sd(this.device,{id:n.id||"buffer-transform-model",fs:n.fs||VQ(),topology:n.topology||"point-list",varyings:n.outputs||n.varyings,...n}),this.transformFeedback=this.device.createTransformFeedback({layout:this.model.pipeline.shaderLayout,buffers:n.feedbackBuffers}),this.model.setTransformFeedback(this.transformFeedback),Object.seal(this)}static isSupported(e){var n;return((n=e==null?void 0:e.info)==null?void 0:n.type)==="webgl"}destroy(){this.model&&this.model.destroy()}delete(){this.destroy()}run(e){e!=null&&e.inputBuffers&&this.model.setAttributes(e.inputBuffers),e!=null&&e.outputBuffers&&this.transformFeedback.setBuffers(e.outputBuffers);const n=this.device.beginRenderPass(e);this.model.draw(n),n.end()}getBuffer(e){return this.transformFeedback.getBuffer(e)}readAsync(e){const n=this.getBuffer(e);if(!n)throw new Error("BufferTransform#getBuffer");if(n instanceof nr)return n.readAsync();const{buffer:r,byteOffset:s=0,byteLength:o=r.byteLength}=n;return r.readAsync(s,o)}};H(qp,"defaultProps",{...Sd.defaultProps,outputs:void 0,feedbackBuffers:void 0});let im=qp;class Qre{constructor(e){H(this,"id");H(this,"topology");H(this,"vertexCount");H(this,"indices");H(this,"attributes");H(this,"userData",{});const{attributes:n={},indices:r=null,vertexCount:s=null}=e;this.id=e.id||cv("geometry"),this.topology=e.topology,r&&(this.indices=ArrayBuffer.isView(r)?{value:r,size:1}:r),this.attributes={};for(const[o,l]of Object.entries(n)){const c=ArrayBuffer.isView(l)?{value:l}:l;if(!ArrayBuffer.isView(c.value))throw new Error(`${this._print(o)}: must be typed array or object with value as typed array`);if((o==="POSITION"||o==="positions")&&!c.size&&(c.size=3),o==="indices"){if(this.indices)throw new Error("Multiple indices detected");this.indices=c}else this.attributes[o]=c}this.indices&&this.indices.isIndexed!==void 0&&(this.indices=Object.assign({},this.indices),delete this.indices.isIndexed),this.vertexCount=s||this._calculateVertexCount(this.attributes,this.indices)}getVertexCount(){return this.vertexCount}getAttributes(){return this.indices?{indices:this.indices,...this.attributes}:this.attributes}_print(e){return`Geometry ${this.id} attribute ${e}`}_setAttributes(e,n){return this}_calculateVertexCount(e,n){if(n)return n.value.length;let r=1/0;for(const s of Object.values(e)){const{value:o,size:l,constant:c}=s;!c&&o&&l!==void 0&&l>=1&&(r=Math.min(r,o.length/l))}return r}}const Jre={blendColorOperation:"add",blendColorSrcFactor:"one",blendColorDstFactor:"zero",blendAlphaOperation:"add",blendAlphaSrcFactor:"constant-alpha",blendAlphaDstFactor:"zero"};class KF extends gT{constructor(){super(...arguments),this._colorEncoderState=null}render(e){return"pickingFBO"in e?this._drawPickingBuffer(e):super.render(e)}_drawPickingBuffer({layers:e,layerFilter:n,views:r,viewports:s,onViewportActive:o,pickingFBO:l,deviceRect:{x:c,y:f,width:h,height:p},cullRect:m,effects:b,pass:_="picking",pickZ:E,shaderModuleProps:T}){this.pickZ=E;const C=this._resetColorEncoder(E),D=[c,f,h,p],M=super.render({target:l,layers:e,layerFilter:n,views:r,viewports:s,onViewportActive:o,cullRect:m,effects:b==null?void 0:b.filter(U=>U.useInPicking),pass:_,isPicking:!0,shaderModuleProps:T,clearColor:[0,0,0,0],colorMask:15,scissorRect:D});return this._colorEncoderState=null,{decodePickingColor:C&&tse.bind(null,C),stats:M}}shouldDrawLayer(e){const{pickable:n,operation:r}=e.props;return n&&r.includes("draw")||r.includes("terrain")||r.includes("mask")}getShaderModuleProps(e,n,r){return{picking:{isActive:1,isAttribute:this.pickZ},lighting:{enabled:!1}}}getLayerParameters(e,n,r){const s={...e.props.parameters},{pickable:o,operation:l}=e.props;return!this._colorEncoderState||l.includes("terrain")?s.blend=!1:o&&l.includes("draw")&&(Object.assign(s,Jre),s.blend=!0,s.blendColor=ese(this._colorEncoderState,e,r)),s}_resetColorEncoder(e){return this._colorEncoderState=e?null:{byLayer:new Map,byAlpha:[]},this._colorEncoderState}}function ese(t,e,n){const{byLayer:r,byAlpha:s}=t;let o,l=r.get(e);return l?(l.viewports.push(n),o=l.a):(o=r.size+1,o<=255?(l={a:o,layer:e,viewports:[n]},r.set(e,l),s[o]=l):(Hn.warn("Too many pickable layers, only picking the first 255")(),o=0)),[0,0,0,o/255]}function tse(t,e){const n=t.byAlpha[e[3]];return n&&{pickedLayer:n.layer,pickedViewports:n.viewports,pickedObjectIndex:n.layer.decodePickingColor(e)}}const Ff={NO_STATE:"Awaiting state",MATCHED:"Matched. State transferred from previous layer",INITIALIZED:"Initialized",AWAITING_GC:"Discarded. Awaiting garbage collection",AWAITING_FINALIZATION:"No longer matched. Awaiting garbage collection",FINALIZED:"Finalized! Awaiting garbage collection"},hy=Symbol.for("component"),Gc=Symbol.for("propTypes"),q1=Symbol.for("deprecatedProps"),Jf=Symbol.for("asyncPropDefaults"),mu=Symbol.for("asyncPropOriginal"),jl=Symbol.for("asyncPropResolved");function ZF(t,e=()=>!0){return Array.isArray(t)?GF(t,e,[]):e(t)?[t]:[]}function GF(t,e,n){let r=-1;for(;++r<t.length;){const s=t[r];Array.isArray(s)?GF(s,e,n):e(s)&&n.push(s)}return n}function nse({target:t,source:e,start:n=0,count:r=1}){const s=e.length,o=r*s;let l=0;for(let c=n;l<s;l++)t[c++]=e[l];for(;l<o;)l<o-l?(t.copyWithin(n+l,n,n+l),l*=2):(t.copyWithin(n+l,n,n+o-l),l=o);return t}class rse{constructor(e,n,r){this._loadCount=0,this._subscribers=new Set,this.id=e,this.context=r,this.setData(n)}subscribe(e){this._subscribers.add(e)}unsubscribe(e){this._subscribers.delete(e)}inUse(){return this._subscribers.size>0}delete(){}getData(){return this.isLoaded?this._error?Promise.reject(this._error):this._content:this._loader.then(()=>this.getData())}setData(e,n){if(e===this._data&&!n)return;this._data=e;const r=++this._loadCount;let s=e;typeof e=="string"&&(s=aS(e)),s instanceof Promise?(this.isLoaded=!1,this._loader=s.then(o=>{this._loadCount===r&&(this.isLoaded=!0,this._error=void 0,this._content=o)}).catch(o=>{this._loadCount===r&&(this.isLoaded=!0,this._error=o||!0)})):(this.isLoaded=!0,this._error=void 0,this._content=e);for(const o of this._subscribers)o.onChange(this.getData())}}class sse{constructor(e){var n;this.protocol=e.protocol||"resource://",this._context={device:e.device,gl:(n=e.device)==null?void 0:n.gl,resourceManager:this},this._resources={},this._consumers={},this._pruneRequest=null}contains(e){return e.startsWith(this.protocol)?!0:e in this._resources}add({resourceId:e,data:n,forceUpdate:r=!1,persistent:s=!0}){let o=this._resources[e];o?o.setData(n,r):(o=new rse(e,n,this._context),this._resources[e]=o),o.persistent=s}remove(e){const n=this._resources[e];n&&(n.delete(),delete this._resources[e])}unsubscribe({consumerId:e}){const n=this._consumers[e];if(n){for(const r in n){const s=n[r],o=this._resources[s.resourceId];o&&o.unsubscribe(s)}delete this._consumers[e],this.prune()}}subscribe({resourceId:e,onChange:n,consumerId:r,requestId:s="default"}){const{_resources:o,protocol:l}=this;e.startsWith(l)&&(e=e.replace(l,""),o[e]||this.add({resourceId:e,data:null,persistent:!1}));const c=o[e];if(this._track(r,s,c,n),c)return c.getData()}prune(){this._pruneRequest||(this._pruneRequest=setTimeout(()=>this._prune(),0))}finalize(){for(const e in this._resources)this._resources[e].delete()}_track(e,n,r,s){const o=this._consumers,l=o[e]=o[e]||{};let c=l[n];const f=c&&c.resourceId&&this._resources[c.resourceId];f&&(f.unsubscribe(c),this.prune()),r&&(c?(c.onChange=s,c.resourceId=r.id):c={onChange:s,resourceId:r.id},l[n]=c,r.subscribe(c))}_prune(){this._pruneRequest=null;for(const e of Object.keys(this._resources)){const n=this._resources[e];!n.persistent&&!n.inUse()&&(n.delete(),delete this._resources[e])}}}const ise="layerManager.setLayers",ose="layerManager.activateViewport";class ase{constructor(e,n){var c;this._lastRenderedLayers=[],this._needsRedraw=!1,this._needsUpdate=!1,this._nextLayers=null,this._debug=!1,this._defaultShaderModulesChanged=!1,this.activateViewport=f=>{Rs(ose,this,f),f&&(this.context.viewport=f)};const{deck:r,stats:s,viewport:o,timeline:l}=n||{};this.layers=[],this.resourceManager=new sse({device:e,protocol:"deck://"}),this.context={mousePosition:null,userData:{},layerManager:this,device:e,gl:e==null?void 0:e.gl,deck:r,shaderAssembler:ore(((c=e==null?void 0:e.info)==null?void 0:c.shadingLanguage)||"glsl"),defaultShaderModules:[gte],renderPass:void 0,stats:s||new iv({id:"deck.gl"}),viewport:o||new Cm({id:"DEFAULT-INITIAL-VIEWPORT"}),timeline:l||new WF,resourceManager:this.resourceManager,onError:void 0},Object.seal(this)}finalize(){this.resourceManager.finalize();for(const e of this.layers)this._finalizeLayer(e)}needsRedraw(e={clearRedrawFlags:!1}){let n=this._needsRedraw;e.clearRedrawFlags&&(this._needsRedraw=!1);for(const r of this.layers){const s=r.getNeedsRedraw(e);n=n||s}return n}needsUpdate(){return this._nextLayers&&this._nextLayers!==this._lastRenderedLayers?"layers changed":this._defaultShaderModulesChanged?"shader modules changed":this._needsUpdate}setNeedsRedraw(e){this._needsRedraw=this._needsRedraw||e}setNeedsUpdate(e){this._needsUpdate=this._needsUpdate||e}getLayers({layerIds:e}={}){return e?this.layers.filter(n=>e.find(r=>n.id.indexOf(r)===0)):this.layers}setProps(e){"debug"in e&&(this._debug=e.debug),"userData"in e&&(this.context.userData=e.userData),"layers"in e&&(this._nextLayers=e.layers),"onError"in e&&(this.context.onError=e.onError)}setLayers(e,n){Rs(ise,this,n,e),this._lastRenderedLayers=e;const r=ZF(e,Boolean);for(const s of r)s.context=this.context;this._updateLayers(this.layers,r)}updateLayers(){const e=this.needsUpdate();e&&(this.setNeedsRedraw(`updating layers: ${e}`),this.setLayers(this._nextLayers||this._lastRenderedLayers,e)),this._nextLayers=null}addDefaultShaderModule(e){const{defaultShaderModules:n}=this.context;n.find(r=>r.name===e.name)||(n.push(e),this._defaultShaderModulesChanged=!0)}removeDefaultShaderModule(e){const{defaultShaderModules:n}=this.context,r=n.findIndex(s=>s.name===e.name);r>=0&&(n.splice(r,1),this._defaultShaderModulesChanged=!0)}_handleError(e,n,r){r.raiseError(n,`${e} of ${r}`)}_updateLayers(e,n){const r={};for(const l of e)r[l.id]?Hn.warn(`Multiple old layers with same id ${l.id}`)():r[l.id]=l;if(this._defaultShaderModulesChanged){for(const l of e)l.setNeedsUpdate(),l.setChangeFlags({extensionsChanged:!0});this._defaultShaderModulesChanged=!1}const s=[];this._updateSublayersRecursively(n,r,s),this._finalizeOldLayers(r);let o=!1;for(const l of s)if(l.hasUniformTransition()){o=`Uniform transition in ${l}`;break}this._needsUpdate=o,this.layers=s}_updateSublayersRecursively(e,n,r){for(const s of e){s.context=this.context;const o=n[s.id];o===null&&Hn.warn(`Multiple new layers with same id ${s.id}`)(),n[s.id]=null;let l=null;try{this._debug&&o!==s&&s.validateProps(),o?(this._transferLayerState(o,s),this._updateLayer(s)):this._initializeLayer(s),r.push(s),l=s.isComposite?s.getSubLayers():null}catch(c){this._handleError("matching",c,s)}l&&this._updateSublayersRecursively(l,n,r)}}_finalizeOldLayers(e){for(const n in e){const r=e[n];r&&this._finalizeLayer(r)}}_initializeLayer(e){try{e._initialize(),e.lifecycle=Ff.INITIALIZED}catch(n){this._handleError("initialization",n,e)}}_transferLayerState(e,n){n._transferState(e),n.lifecycle=Ff.MATCHED,n!==e&&(e.lifecycle=Ff.AWAITING_GC)}_updateLayer(e){try{e._update()}catch(n){this._handleError("update",n,e)}}_finalizeLayer(e){this._needsRedraw=this._needsRedraw||`finalized ${e}`,e.lifecycle=Ff.AWAITING_FINALIZATION;try{e._finalize(),e.lifecycle=Ff.FINALIZED}catch(n){this._handleError("finalization",n,e)}}}function Ji(t,e,n){if(t===e)return!0;if(!n||!t||!e)return!1;if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(!Ji(t[r],e[r],n-1))return!1;return!0}if(Array.isArray(e))return!1;if(typeof t=="object"&&typeof e=="object"){const r=Object.keys(t),s=Object.keys(e);if(r.length!==s.length)return!1;for(const o of r)if(!e.hasOwnProperty(o)||!Ji(t[o],e[o],n-1))return!1;return!0}return!1}class lse{constructor(e){this.views=[],this.width=100,this.height=100,this.viewState={},this.controllers={},this.timeline=e.timeline,this._viewports=[],this._viewportMap={},this._isUpdating=!1,this._needsRedraw="First render",this._needsUpdate="Initialize",this._eventManager=e.eventManager,this._eventCallbacks={onViewStateChange:e.onViewStateChange,onInteractionStateChange:e.onInteractionStateChange},Object.seal(this),this.setProps(e)}finalize(){for(const e in this.controllers){const n=this.controllers[e];n&&n.finalize()}this.controllers={}}needsRedraw(e={clearRedrawFlags:!1}){const n=this._needsRedraw;return e.clearRedrawFlags&&(this._needsRedraw=!1),n}setNeedsUpdate(e){this._needsUpdate=this._needsUpdate||e,this._needsRedraw=this._needsRedraw||e}updateViewStates(){for(const e in this.controllers){const n=this.controllers[e];n&&n.updateTransition()}}getViewports(e){return e?this._viewports.filter(n=>n.containsPixel(e)):this._viewports}getViews(){const e={};return this.views.forEach(n=>{e[n.id]=n}),e}getView(e){return this.views.find(n=>n.id===e)}getViewState(e){const n=typeof e=="string"?this.getView(e):e,r=n&&this.viewState[n.getViewStateId()]||this.viewState;return n?n.filterViewState(r):r}getViewport(e){return this._viewportMap[e]}unproject(e,n){const r=this.getViewports(),s={x:e[0],y:e[1]};for(let o=r.length-1;o>=0;--o){const l=r[o];if(l.containsPixel(s)){const c=e.slice();return c[0]-=l.x,c[1]-=l.y,l.unproject(c,n)}}return null}setProps(e){e.views&&this._setViews(e.views),e.viewState&&this._setViewState(e.viewState),("width"in e||"height"in e)&&this._setSize(e.width,e.height),this._isUpdating||this._update()}_update(){this._isUpdating=!0,this._needsUpdate&&(this._needsUpdate=!1,this._rebuildViewports()),this._needsUpdate&&(this._needsUpdate=!1,this._rebuildViewports()),this._isUpdating=!1}_setSize(e,n){(e!==this.width||n!==this.height)&&(this.width=e,this.height=n,this.setNeedsUpdate("Size changed"))}_setViews(e){e=ZF(e,Boolean),this._diffViews(e,this.views)&&this.setNeedsUpdate("views changed"),this.views=e}_setViewState(e){e?(!Ji(e,this.viewState,3)&&this.setNeedsUpdate("viewState changed"),this.viewState=e):Hn.warn("missing `viewState` or `initialViewState`")()}_createController(e,n){const r=n.type;return new r({timeline:this.timeline,eventManager:this._eventManager,onViewStateChange:this._eventCallbacks.onViewStateChange,onStateChange:this._eventCallbacks.onInteractionStateChange,makeViewport:o=>{var l;return(l=this.getView(e.id))==null?void 0:l.makeViewport({viewState:o,width:this.width,height:this.height})}})}_updateController(e,n,r,s){const o=e.controller;if(o&&r){const l={...n,...o,id:e.id,x:r.x,y:r.y,width:r.width,height:r.height};return(!s||s.constructor!==o.type)&&(s=this._createController(e,l)),s&&s.setProps(l),s}return null}_rebuildViewports(){const{views:e}=this,n=this.controllers;this._viewports=[],this.controllers={};let r=!1;for(let s=e.length;s--;){const o=e[s],l=this.getViewState(o),c=o.makeViewport({viewState:l,width:this.width,height:this.height});let f=n[o.id];const h=!!o.controller;h&&!f&&(r=!0),(r||!h)&&f&&(f.finalize(),f=null),this.controllers[o.id]=this._updateController(o,l,c,f),c&&this._viewports.unshift(c)}for(const s in n){const o=n[s];o&&!this.controllers[s]&&o.finalize()}this._buildViewportMap()}_buildViewportMap(){this._viewportMap={},this._viewports.forEach(e=>{e.id&&(this._viewportMap[e.id]=this._viewportMap[e.id]||e)})}_diffViews(e,n){return e.length!==n.length?!0:e.some((r,s)=>!e[s].equals(n[s]))}}const cse=/([0-9]+\.?[0-9]*)(%|px)/;function ll(t){switch(typeof t){case"number":return{position:t,relative:!1};case"string":const e=cse.exec(t);if(e&&e.length>=3){const n=e[2]==="%",r=parseFloat(e[1]);return{position:n?r/100:r,relative:n}}default:throw new Error(`Could not parse position string ${t}`)}}function cl(t,e){return t.relative?Math.round(t.position*e):t.position}class Ed{constructor(e){const{id:n,x:r=0,y:s=0,width:o="100%",height:l="100%",padding:c=null}=e;this.id=n||this.constructor.displayName||"view",this.props={...e,id:this.id},this._x=ll(r),this._y=ll(s),this._width=ll(o),this._height=ll(l),this._padding=c&&{left:ll(c.left||0),right:ll(c.right||0),top:ll(c.top||0),bottom:ll(c.bottom||0)},this.equals=this.equals.bind(this),Object.seal(this)}equals(e){return this===e?!0:this.constructor===e.constructor&&Ji(this.props,e.props,2)}makeViewport({width:e,height:n,viewState:r}){r=this.filterViewState(r);const s=this.getDimensions({width:e,height:n});if(!s.height||!s.width)return null;const o=this.getViewportType(r);return new o({...r,...this.props,...s})}getViewStateId(){const{viewState:e}=this.props;return typeof e=="string"?e:(e==null?void 0:e.id)||this.id}filterViewState(e){if(this.props.viewState&&typeof this.props.viewState=="object"){if(!this.props.viewState.id)return this.props.viewState;const n={...e};for(const r in this.props.viewState)r!=="id"&&(n[r]=this.props.viewState[r]);return n}return e}getDimensions({width:e,height:n}){const r={x:cl(this._x,e),y:cl(this._y,n),width:cl(this._width,e),height:cl(this._height,n)};return this._padding&&(r.padding={left:cl(this._padding.left,e),top:cl(this._padding.top,n),right:cl(this._padding.right,e),bottom:cl(this._padding.bottom,n)}),r}get controller(){const e=this.props.controller;return e?e===!0?{type:this.ControllerType}:typeof e=="function"?{type:e}:{type:this.ControllerType,...e}:null}}class uv{constructor(e){this._inProgress=!1,this._handle=null,this.time=0,this.settings={duration:0},this._timeline=e}get inProgress(){return this._inProgress}start(e){var n,r;this.cancel(),this.settings=e,this._inProgress=!0,(r=(n=this.settings).onStart)==null||r.call(n,this)}end(){var e,n;this._inProgress&&(this._timeline.removeChannel(this._handle),this._handle=null,this._inProgress=!1,(n=(e=this.settings).onEnd)==null||n.call(e,this))}cancel(){var e,n;this._inProgress&&((n=(e=this.settings).onInterrupt)==null||n.call(e,this),this._timeline.removeChannel(this._handle),this._handle=null,this._inProgress=!1)}update(){var e,n;if(!this._inProgress)return!1;if(this._handle===null){const{_timeline:r,settings:s}=this;this._handle=r.addChannel({delay:r.getTime(),duration:s.duration})}return this.time=this._timeline.getTime(this._handle),this._onUpdate(),(n=(e=this.settings).onUpdate)==null||n.call(e,this),this._timeline.isFinished(this._handle)&&this.end(),!0}_onUpdate(){}}const kM=()=>{},VS={BREAK:1,SNAP_TO_END:2,IGNORE:3},use=t=>t,fse=VS.BREAK;class dse{constructor(e){this._onTransitionUpdate=n=>{const{time:r,settings:{interpolator:s,startProps:o,endProps:l,duration:c,easing:f}}=n,h=f(r/c),p=s.interpolateProps(o,l,h);this.propsInTransition=this.getControllerState({...this.props,...p}).getViewportProps(),this.onViewStateChange({viewState:this.propsInTransition,oldViewState:this.props})},this.getControllerState=e.getControllerState,this.propsInTransition=null,this.transition=new uv(e.timeline),this.onViewStateChange=e.onViewStateChange||kM,this.onStateChange=e.onStateChange||kM}finalize(){this.transition.cancel()}getViewportInTransition(){return this.propsInTransition}processViewStateChange(e){let n=!1;const r=this.props;if(this.props=e,!r||this._shouldIgnoreViewportChange(r,e))return!1;if(this._isTransitionEnabled(e)){let s=r;if(this.transition.inProgress){const{interruption:o,endProps:l}=this.transition.settings;s={...r,...o===VS.SNAP_TO_END?l:this.propsInTransition||r}}this._triggerTransition(s,e),n=!0}else this.transition.cancel();return n}updateTransition(){this.transition.update()}_isTransitionEnabled(e){const{transitionDuration:n,transitionInterpolator:r}=e;return(n>0||n==="auto")&&!!r}_isUpdateDueToCurrentTransition(e){return this.transition.inProgress&&this.propsInTransition?this.transition.settings.interpolator.arePropsEqual(e,this.propsInTransition):!1}_shouldIgnoreViewportChange(e,n){return this.transition.inProgress?this.transition.settings.interruption===VS.IGNORE||this._isUpdateDueToCurrentTransition(n):this._isTransitionEnabled(n)?n.transitionInterpolator.arePropsEqual(e,n):!0}_triggerTransition(e,n){const r=this.getControllerState(e),s=this.getControllerState(n).shortestPathFrom(r),o=n.transitionInterpolator,l=o.getDuration?o.getDuration(e,n):n.transitionDuration;if(l===0)return;const c=o.initializeProps(e,s);this.propsInTransition={};const f={duration:l,easing:n.transitionEasing||use,interpolator:o,interruption:n.transitionInterruption||fse,startProps:c.start,endProps:c.end,onStart:n.onTransitionStart,onUpdate:this._onTransitionUpdate,onInterrupt:this._onTransitionEnd(n.onTransitionInterrupt),onEnd:this._onTransitionEnd(n.onTransitionEnd)};this.transition.start(f),this.onStateChange({inTransition:!0}),this.updateTransition()}_onTransitionEnd(e){return n=>{this.propsInTransition=null,this.onStateChange({inTransition:!1,isZooming:!1,isPanning:!1,isRotating:!1}),e==null||e(n)}}}function ds(t,e){if(!t)throw new Error(e||"deck.gl: assertion failed.")}class hse{constructor(e){const{compare:n,extract:r,required:s}=e;this._propsToCompare=n,this._propsToExtract=r||n,this._requiredProps=s}arePropsEqual(e,n){for(const r of this._propsToCompare)if(!(r in e)||!(r in n)||!rm(e[r],n[r]))return!1;return!0}initializeProps(e,n){const r={},s={};for(const o of this._propsToExtract)(o in e||o in n)&&(r[o]=e[o],s[o]=n[o]);return this._checkRequiredProps(r),this._checkRequiredProps(s),{start:r,end:s}}getDuration(e,n){return n.transitionDuration}_checkRequiredProps(e){this._requiredProps&&this._requiredProps.forEach(n=>{const r=e[n];ds(Number.isFinite(r)||Array.isArray(r),`${n} is required for transition`)})}}const pse=["longitude","latitude","zoom","bearing","pitch"],mse=["longitude","latitude","zoom"];class QF extends hse{constructor(e={}){const n=Array.isArray(e)?e:e.transitionProps,r=Array.isArray(e)?{}:e;r.transitionProps=Array.isArray(n)?{compare:n,required:n}:n||{compare:pse,required:mse},super(r.transitionProps),this.opts=r}initializeProps(e,n){const r=super.initializeProps(e,n),{makeViewport:s,around:o}=this.opts;if(s&&o){const l=s(e),c=s(n),f=l.unproject(o);r.start.around=o,Object.assign(r.end,{around:c.project(f),aroundPosition:f,width:n.width,height:n.height})}return r}interpolateProps(e,n,r){const s={};for(const o of this._propsToExtract)s[o]=ay(e[o]||0,n[o]||0,r);if(n.aroundPosition&&this.opts.makeViewport){const o=this.opts.makeViewport({...n,...s});Object.assign(s,o.panByPosition(n.aroundPosition,ay(e.around,n.around,r)))}return s}}const ul={transitionDuration:0},gse=300,ex=t=>1-(1-t)*(1-t),Df={WHEEL:["wheel"],PAN:["panstart","panmove","panend"],PINCH:["pinchstart","pinchmove","pinchend"],MULTI_PAN:["multipanstart","multipanmove","multipanend"],DOUBLE_CLICK:["dblclick"],KEYBOARD:["keydown"]},Ic={};class bse{constructor(e){this.state={},this._events={},this._interactionState={isDragging:!1},this._customEvents=[],this._eventStartBlocked=null,this._panMove=!1,this.invertPan=!1,this.dragMode="rotate",this.inertia=0,this.scrollZoom=!0,this.dragPan=!0,this.dragRotate=!0,this.doubleClickZoom=!0,this.touchZoom=!0,this.touchRotate=!1,this.keyboard=!0,this.transitionManager=new dse({...e,getControllerState:n=>new this.ControllerState(n),onViewStateChange:this._onTransition.bind(this),onStateChange:this._setInteractionState.bind(this)}),this.handleEvent=this.handleEvent.bind(this),this.eventManager=e.eventManager,this.onViewStateChange=e.onViewStateChange||(()=>{}),this.onStateChange=e.onStateChange||(()=>{}),this.makeViewport=e.makeViewport}set events(e){this.toggleEvents(this._customEvents,!1),this.toggleEvents(e,!0),this._customEvents=e,this.props&&this.setProps(this.props)}finalize(){var e;for(const n in this._events)this._events[n]&&((e=this.eventManager)==null||e.off(n,this.handleEvent));this.transitionManager.finalize()}handleEvent(e){this._controllerState=void 0;const n=this._eventStartBlocked;switch(e.type){case"panstart":return n?!1:this._onPanStart(e);case"panmove":return this._onPan(e);case"panend":return this._onPanEnd(e);case"pinchstart":return n?!1:this._onPinchStart(e);case"pinchmove":return this._onPinch(e);case"pinchend":return this._onPinchEnd(e);case"multipanstart":return n?!1:this._onMultiPanStart(e);case"multipanmove":return this._onMultiPan(e);case"multipanend":return this._onMultiPanEnd(e);case"dblclick":return this._onDoubleClick(e);case"wheel":return this._onWheel(e);case"keydown":return this._onKeyDown(e);default:return!1}}get controllerState(){return this._controllerState=this._controllerState||new this.ControllerState({makeViewport:this.makeViewport,...this.props,...this.state}),this._controllerState}getCenter(e){const{x:n,y:r}=this.props,{offsetCenter:s}=e;return[s.x-n,s.y-r]}isPointInBounds(e,n){const{width:r,height:s}=this.props;if(n&&n.handled)return!1;const o=e[0]>=0&&e[0]<=r&&e[1]>=0&&e[1]<=s;return o&&n&&n.stopPropagation(),o}isFunctionKeyPressed(e){const{srcEvent:n}=e;return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}isDragging(){return this._interactionState.isDragging||!1}blockEvents(e){const n=setTimeout(()=>{this._eventStartBlocked===n&&(this._eventStartBlocked=null)},e);this._eventStartBlocked=n}setProps(e){e.dragMode&&(this.dragMode=e.dragMode),this.props=e,"transitionInterpolator"in e||(e.transitionInterpolator=this._getTransitionProps().transitionInterpolator),this.transitionManager.processViewStateChange(e);const{inertia:n}=e;this.inertia=Number.isFinite(n)?n:n===!0?gse:0;const{scrollZoom:r=!0,dragPan:s=!0,dragRotate:o=!0,doubleClickZoom:l=!0,touchZoom:c=!0,touchRotate:f=!1,keyboard:h=!0}=e,p=!!this.onViewStateChange;this.toggleEvents(Df.WHEEL,p&&r),this.toggleEvents(Df.PAN,p),this.toggleEvents(Df.PINCH,p&&(c||f)),this.toggleEvents(Df.MULTI_PAN,p&&f),this.toggleEvents(Df.DOUBLE_CLICK,p&&l),this.toggleEvents(Df.KEYBOARD,p&&h),this.scrollZoom=r,this.dragPan=s,this.dragRotate=o,this.doubleClickZoom=l,this.touchZoom=c,this.touchRotate=f,this.keyboard=h}updateTransition(){this.transitionManager.updateTransition()}toggleEvents(e,n){this.eventManager&&e.forEach(r=>{this._events[r]!==n&&(this._events[r]=n,n?this.eventManager.on(r,this.handleEvent):this.eventManager.off(r,this.handleEvent))})}updateViewport(e,n=null,r={}){const s={...e.getViewportProps(),...n},o=this.controllerState!==e;if(this.state=e.getState(),this._setInteractionState(r),o){const l=this.controllerState&&this.controllerState.getViewportProps();this.onViewStateChange&&this.onViewStateChange({viewState:s,interactionState:this._interactionState,oldViewState:l,viewId:this.props.id})}}_onTransition(e){this.onViewStateChange({...e,interactionState:this._interactionState,viewId:this.props.id})}_setInteractionState(e){Object.assign(this._interactionState,e),this.onStateChange(this._interactionState)}_onPanStart(e){const n=this.getCenter(e);if(!this.isPointInBounds(n,e))return!1;let r=this.isFunctionKeyPressed(e)||e.rightButton||!1;(this.invertPan||this.dragMode==="pan")&&(r=!r);const s=this.controllerState[r?"panStart":"rotateStart"]({pos:n});return this._panMove=r,this.updateViewport(s,ul,{isDragging:!0}),!0}_onPan(e){return this.isDragging()?this._panMove?this._onPanMove(e):this._onPanRotate(e):!1}_onPanEnd(e){return this.isDragging()?this._panMove?this._onPanMoveEnd(e):this._onPanRotateEnd(e):!1}_onPanMove(e){if(!this.dragPan)return!1;const n=this.getCenter(e),r=this.controllerState.pan({pos:n});return this.updateViewport(r,ul,{isDragging:!0,isPanning:!0}),!0}_onPanMoveEnd(e){const{inertia:n}=this;if(this.dragPan&&n&&e.velocity){const r=this.getCenter(e),s=[r[0]+e.velocityX*n/2,r[1]+e.velocityY*n/2],o=this.controllerState.pan({pos:s}).panEnd();this.updateViewport(o,{...this._getTransitionProps(),transitionDuration:n,transitionEasing:ex},{isDragging:!1,isPanning:!0})}else{const r=this.controllerState.panEnd();this.updateViewport(r,null,{isDragging:!1,isPanning:!1})}return!0}_onPanRotate(e){if(!this.dragRotate)return!1;const n=this.getCenter(e),r=this.controllerState.rotate({pos:n});return this.updateViewport(r,ul,{isDragging:!0,isRotating:!0}),!0}_onPanRotateEnd(e){const{inertia:n}=this;if(this.dragRotate&&n&&e.velocity){const r=this.getCenter(e),s=[r[0]+e.velocityX*n/2,r[1]+e.velocityY*n/2],o=this.controllerState.rotate({pos:s}).rotateEnd();this.updateViewport(o,{...this._getTransitionProps(),transitionDuration:n,transitionEasing:ex},{isDragging:!1,isRotating:!0})}else{const r=this.controllerState.rotateEnd();this.updateViewport(r,null,{isDragging:!1,isRotating:!1})}return!0}_onWheel(e){if(!this.scrollZoom)return!1;const n=this.getCenter(e);if(!this.isPointInBounds(n,e))return!1;e.srcEvent.preventDefault();const{speed:r=.01,smooth:s=!1}=this.scrollZoom===!0?{}:this.scrollZoom,{delta:o}=e;let l=2/(1+Math.exp(-Math.abs(o*r)));o<0&&l!==0&&(l=1/l);const c=this.controllerState.zoom({pos:n,scale:l});return this.updateViewport(c,{...this._getTransitionProps({around:n}),transitionDuration:s?250:1},{isZooming:!0,isPanning:!0}),!0}_onMultiPanStart(e){const n=this.getCenter(e);if(!this.isPointInBounds(n,e))return!1;const r=this.controllerState.rotateStart({pos:n});return this.updateViewport(r,ul,{isDragging:!0}),!0}_onMultiPan(e){if(!this.touchRotate||!this.isDragging())return!1;const n=this.getCenter(e);n[0]-=e.deltaX;const r=this.controllerState.rotate({pos:n});return this.updateViewport(r,ul,{isDragging:!0,isRotating:!0}),!0}_onMultiPanEnd(e){if(!this.isDragging())return!1;const{inertia:n}=this;if(this.touchRotate&&n&&e.velocityY){const r=this.getCenter(e),s=[r[0],r[1]+=e.velocityY*n/2],o=this.controllerState.rotate({pos:s});this.updateViewport(o,{...this._getTransitionProps(),transitionDuration:n,transitionEasing:ex},{isDragging:!1,isRotating:!0}),this.blockEvents(n)}else{const r=this.controllerState.rotateEnd();this.updateViewport(r,null,{isDragging:!1,isRotating:!1})}return!0}_onPinchStart(e){const n=this.getCenter(e);if(!this.isPointInBounds(n,e))return!1;const r=this.controllerState.zoomStart({pos:n}).rotateStart({pos:n});return Ic._startPinchRotation=e.rotation,Ic._lastPinchEvent=e,this.updateViewport(r,ul,{isDragging:!0}),!0}_onPinch(e){if(!this.touchZoom&&!this.touchRotate||!this.isDragging())return!1;let n=this.controllerState;if(this.touchZoom){const{scale:r}=e,s=this.getCenter(e);n=n.zoom({pos:s,scale:r})}if(this.touchRotate){const{rotation:r}=e;n=n.rotate({deltaAngleX:Ic._startPinchRotation-r})}return this.updateViewport(n,ul,{isDragging:!0,isPanning:this.touchZoom,isZooming:this.touchZoom,isRotating:this.touchRotate}),Ic._lastPinchEvent=e,!0}_onPinchEnd(e){if(!this.isDragging())return!1;const{inertia:n}=this,{_lastPinchEvent:r}=Ic;if(this.touchZoom&&n&&r&&e.scale!==r.scale){const s=this.getCenter(e);let o=this.controllerState.rotateEnd();const l=Math.log2(e.scale),c=(l-Math.log2(r.scale))/(e.deltaTime-r.deltaTime),f=Math.pow(2,l+c*n/2);o=o.zoom({pos:s,scale:f}).zoomEnd(),this.updateViewport(o,{...this._getTransitionProps({around:s}),transitionDuration:n,transitionEasing:ex},{isDragging:!1,isPanning:this.touchZoom,isZooming:this.touchZoom,isRotating:!1}),this.blockEvents(n)}else{const s=this.controllerState.zoomEnd().rotateEnd();this.updateViewport(s,null,{isDragging:!1,isPanning:!1,isZooming:!1,isRotating:!1})}return Ic._startPinchRotation=null,Ic._lastPinchEvent=null,!0}_onDoubleClick(e){if(!this.doubleClickZoom)return!1;const n=this.getCenter(e);if(!this.isPointInBounds(n,e))return!1;const r=this.isFunctionKeyPressed(e),s=this.controllerState.zoom({pos:n,scale:r?.5:2});return this.updateViewport(s,this._getTransitionProps({around:n}),{isZooming:!0,isPanning:!0}),this.blockEvents(100),!0}_onKeyDown(e){if(!this.keyboard)return!1;const n=this.isFunctionKeyPressed(e),{zoomSpeed:r,moveSpeed:s,rotateSpeedX:o,rotateSpeedY:l}=this.keyboard===!0?{}:this.keyboard,{controllerState:c}=this;let f;const h={};switch(e.srcEvent.code){case"Minus":f=n?c.zoomOut(r).zoomOut(r):c.zoomOut(r),h.isZooming=!0;break;case"Equal":f=n?c.zoomIn(r).zoomIn(r):c.zoomIn(r),h.isZooming=!0;break;case"ArrowLeft":n?(f=c.rotateLeft(o),h.isRotating=!0):(f=c.moveLeft(s),h.isPanning=!0);break;case"ArrowRight":n?(f=c.rotateRight(o),h.isRotating=!0):(f=c.moveRight(s),h.isPanning=!0);break;case"ArrowUp":n?(f=c.rotateUp(l),h.isRotating=!0):(f=c.moveUp(s),h.isPanning=!0);break;case"ArrowDown":n?(f=c.rotateDown(l),h.isRotating=!0):(f=c.moveDown(s),h.isPanning=!0);break;default:return!1}return this.updateViewport(f,this._getTransitionProps(),h),!0}_getTransitionProps(e){const{transition:n}=this;return!n||!n.transitionInterpolator?ul:e?{...n,transitionInterpolator:new QF({...e,...n.transitionInterpolator.opts,makeViewport:this.controllerState.makeViewport})}:n}}class xse{constructor(e,n){this._viewportProps=this.applyConstraints(e),this._state=n}getViewportProps(){return this._viewportProps}getState(){return this._state}}const PM=5,yse=1.2;class vse extends xse{constructor(e){const{width:n,height:r,latitude:s,longitude:o,zoom:l,bearing:c=0,pitch:f=0,altitude:h=1.5,position:p=[0,0,0],maxZoom:m=20,minZoom:b=0,maxPitch:_=60,minPitch:E=0,startPanLngLat:T,startZoomLngLat:C,startRotatePos:D,startBearing:M,startPitch:P,startZoom:U,normalize:L=!0}=e;ds(Number.isFinite(o)),ds(Number.isFinite(s)),ds(Number.isFinite(l)),super({width:n,height:r,latitude:s,longitude:o,zoom:l,bearing:c,pitch:f,altitude:h,maxZoom:m,minZoom:b,maxPitch:_,minPitch:E,normalize:L,position:p},{startPanLngLat:T,startZoomLngLat:C,startRotatePos:D,startBearing:M,startPitch:P,startZoom:U}),this.makeViewport=e.makeViewport}panStart({pos:e}){return this._getUpdatedState({startPanLngLat:this._unproject(e)})}pan({pos:e,startPos:n}){const r=this.getState().startPanLngLat||this._unproject(n);if(!r)return this;const o=this.makeViewport(this.getViewportProps()).panByPosition(r,e);return this._getUpdatedState(o)}panEnd(){return this._getUpdatedState({startPanLngLat:null})}rotateStart({pos:e}){return this._getUpdatedState({startRotatePos:e,startBearing:this.getViewportProps().bearing,startPitch:this.getViewportProps().pitch})}rotate({pos:e,deltaAngleX:n=0,deltaAngleY:r=0}){const{startRotatePos:s,startBearing:o,startPitch:l}=this.getState();if(!s||o===void 0||l===void 0)return this;let c;return e?c=this._getNewRotation(e,s,l,o):c={bearing:o+n,pitch:l+r},this._getUpdatedState(c)}rotateEnd(){return this._getUpdatedState({startBearing:null,startPitch:null})}zoomStart({pos:e}){return this._getUpdatedState({startZoomLngLat:this._unproject(e),startZoom:this.getViewportProps().zoom})}zoom({pos:e,startPos:n,scale:r}){let{startZoom:s,startZoomLngLat:o}=this.getState();if(o||(s=this.getViewportProps().zoom,o=this._unproject(n)||this._unproject(e)),!o)return this;const{maxZoom:l,minZoom:c}=this.getViewportProps();let f=s+Math.log2(r);f=Ml(f,c,l);const h=this.makeViewport({...this.getViewportProps(),zoom:f});return this._getUpdatedState({zoom:f,...h.panByPosition(o,e)})}zoomEnd(){return this._getUpdatedState({startZoomLngLat:null,startZoom:null})}zoomIn(e=2){return this._zoomFromCenter(e)}zoomOut(e=2){return this._zoomFromCenter(1/e)}moveLeft(e=100){return this._panFromCenter([e,0])}moveRight(e=100){return this._panFromCenter([-e,0])}moveUp(e=100){return this._panFromCenter([0,e])}moveDown(e=100){return this._panFromCenter([0,-e])}rotateLeft(e=15){return this._getUpdatedState({bearing:this.getViewportProps().bearing-e})}rotateRight(e=15){return this._getUpdatedState({bearing:this.getViewportProps().bearing+e})}rotateUp(e=10){return this._getUpdatedState({pitch:this.getViewportProps().pitch+e})}rotateDown(e=10){return this._getUpdatedState({pitch:this.getViewportProps().pitch-e})}shortestPathFrom(e){const n=e.getViewportProps(),r={...this.getViewportProps()},{bearing:s,longitude:o}=r;return Math.abs(s-n.bearing)>180&&(r.bearing=s<0?s+360:s-360),Math.abs(o-n.longitude)>180&&(r.longitude=o<0?o+360:o-360),r}applyConstraints(e){const{maxZoom:n,minZoom:r,zoom:s}=e;e.zoom=Ml(s,r,n);const{maxPitch:o,minPitch:l,pitch:c}=e;e.pitch=Ml(c,l,o);const{normalize:f=!0}=e;return f&&Object.assign(e,Hne(e)),e}_zoomFromCenter(e){const{width:n,height:r}=this.getViewportProps();return this.zoom({pos:[n/2,r/2],scale:e})}_panFromCenter(e){const{width:n,height:r}=this.getViewportProps();return this.pan({startPos:[n/2,r/2],pos:[n/2+e[0],r/2+e[1]]})}_getUpdatedState(e){return new this.constructor({makeViewport:this.makeViewport,...this.getViewportProps(),...this.getState(),...e})}_unproject(e){const n=this.makeViewport(this.getViewportProps());return e&&n.unproject(e)}_getNewRotation(e,n,r,s){const o=e[0]-n[0],l=e[1]-n[1],c=e[1],f=n[1],{width:h,height:p}=this.getViewportProps(),m=o/h;let b=0;l>0?Math.abs(p-f)>PM&&(b=l/(f-p)*yse):l<0&&f>PM&&(b=1-c/f),b=Ml(b,-1,1);const{minPitch:_,maxPitch:E}=this.getViewportProps(),T=s+180*m;let C=r;return b>0?C=r+b*(E-r):b<0&&(C=r-b*(_-r)),{pitch:C,bearing:T}}}class _se extends bse{constructor(){super(...arguments),this.ControllerState=vse,this.transition={transitionDuration:300,transitionInterpolator:new QF({transitionProps:{compare:["longitude","latitude","zoom","bearing","pitch","position"],required:["longitude","latitude","zoom"]}})},this.dragMode="pan"}setProps(e){e.position=e.position||[0,0,0];const n=this.props;super.setProps(e),(!n||n.height!==e.height)&&this.updateViewport(new this.ControllerState({makeViewport:this.makeViewport,...e,...this.state}))}}class JF extends Ed{constructor(e={}){super(e)}getViewportType(){return Nd}get ControllerType(){return _se}}JF.displayName="MapView";const wse=new $F;function Nse(t,e){const n=t.order??1/0,r=e.order??1/0;return n-r}class Sse{constructor(e){this._resolvedEffects=[],this._defaultEffects=[],this.effects=[],this._context=e,this._needsRedraw="Initial render",this._setEffects([])}addDefaultEffect(e){const n=this._defaultEffects;if(!n.find(r=>r.id===e.id)){const r=n.findIndex(s=>Nse(s,e)>0);r<0?n.push(e):n.splice(r,0,e),e.setup(this._context),this._setEffects(this.effects)}}setProps(e){"effects"in e&&(Ji(e.effects,this.effects,1)||this._setEffects(e.effects))}needsRedraw(e={clearRedrawFlags:!1}){const n=this._needsRedraw;return e.clearRedrawFlags&&(this._needsRedraw=!1),n}getEffects(){return this._resolvedEffects}_setEffects(e){const n={};for(const s of this.effects)n[s.id]=s;const r=[];for(const s of e){const o=n[s.id];let l=s;o&&o!==s?o.setProps?(o.setProps(s.props),l=o):o.cleanup(this._context):o||s.setup(this._context),r.push(l),delete n[s.id]}for(const s in n)n[s].cleanup(this._context);this.effects=r,this._resolvedEffects=r.concat(this._defaultEffects),e.some(s=>s instanceof $F)||this._resolvedEffects.push(wse),this._needsRedraw="effects changed"}finalize(){for(const e of this._resolvedEffects)e.cleanup(this._context);this.effects.length=0,this._resolvedEffects.length=0,this._defaultEffects.length=0}}class Ese extends gT{shouldDrawLayer(e){const{operation:n}=e.props;return n.includes("draw")||n.includes("terrain")}}const Tse="deckRenderer.renderLayers";class Ase{constructor(e){this.device=e,this.layerFilter=null,this.drawPickingColors=!1,this.drawLayersPass=new Ese(e),this.pickLayersPass=new KF(e),this.renderCount=0,this._needsRedraw="Initial render",this.renderBuffers=[],this.lastPostProcessEffect=null}setProps(e){this.layerFilter!==e.layerFilter&&(this.layerFilter=e.layerFilter,this._needsRedraw="layerFilter changed"),this.drawPickingColors!==e.drawPickingColors&&(this.drawPickingColors=e.drawPickingColors,this._needsRedraw="drawPickingColors changed")}renderLayers(e){if(!e.viewports.length)return;const n=this.drawPickingColors?this.pickLayersPass:this.drawLayersPass,r={layerFilter:this.layerFilter,isPicking:this.drawPickingColors,...e};r.effects&&this._preRender(r.effects,r);const s=this.lastPostProcessEffect?this.renderBuffers[0]:r.target;this.lastPostProcessEffect&&(r.clearColor=[0,0,0,0],r.clearCanvas=!0);const o=n.render({...r,target:s});r.effects&&this._postRender(r.effects,r),this.renderCount++,Rs(Tse,this,o,e)}needsRedraw(e={clearRedrawFlags:!1}){const n=this._needsRedraw;return e.clearRedrawFlags&&(this._needsRedraw=!1),n}finalize(){const{renderBuffers:e}=this;for(const n of e)n.delete();e.length=0}_preRender(e,n){this.lastPostProcessEffect=null,n.preRenderStats=n.preRenderStats||{};for(const r of e)n.preRenderStats[r.id]=r.preRender(n),r.postRender&&(this.lastPostProcessEffect=r.id);this.lastPostProcessEffect&&this._resizeRenderBuffers()}_resizeRenderBuffers(){const{renderBuffers:e}=this,n=this.device.canvasContext.getDrawingBufferSize();e.length===0&&[0,1].map(r=>{const s=this.device.createTexture({sampler:{minFilter:"linear",magFilter:"linear"}});e.push(this.device.createFramebuffer({id:`deck-renderbuffer-${r}`,colorAttachments:[s]}))});for(const r of e)r.resize(n)}_postRender(e,n){const{renderBuffers:r}=this,s={...n,inputBuffer:r[0],swapBuffer:r[1]};for(const o of e)if(o.postRender){s.target=o.id===this.lastPostProcessEffect?n.target:void 0;const l=o.postRender(s);s.inputBuffer=l,s.swapBuffer=l===r[0]?r[1]:r[0]}}}const Cse={pickedColor:null,pickedObjectIndex:-1};function Rse({pickedColors:t,decodePickingColor:e,deviceX:n,deviceY:r,deviceRadius:s,deviceRect:o}){const{x:l,y:c,width:f,height:h}=o;let p=s*s,m=-1,b=0;for(let _=0;_<h;_++){const E=_+c-r,T=E*E;if(T>p)b+=4*f;else for(let C=0;C<f;C++){if(t[b+3]-1>=0){const M=C+l-n,P=M*M+T;P<=p&&(p=P,m=b)}b+=4}}if(m>=0){const _=t.slice(m,m+4),E=e(_);if(E){const T=Math.floor(m/4/f),C=m/4-T*f;return{...E,pickedColor:_,pickedX:l+C,pickedY:c+T}}Hn.error("Picked non-existent layer. Is picking buffer corrupt?")()}return Cse}function kse({pickedColors:t,decodePickingColor:e}){const n=new Map;if(t){for(let r=0;r<t.length;r+=4)if(t[r+3]-1>=0){const o=t.slice(r,r+4),l=o.join(",");if(!n.has(l)){const c=e(o);c?n.set(l,{...c,color:o}):Hn.error("Picked non-existent layer. Is picking buffer corrupt?")()}}}return Array.from(n.values())}function e6({pickInfo:t,viewports:e,pixelRatio:n,x:r,y:s,z:o}){let l=e[0];e.length>1&&(l=Dse((t==null?void 0:t.pickedViewports)||e,{x:r,y:s}));let c;if(l){const f=[r-l.x,s-l.y];o!==void 0&&(f[2]=o),c=l.unproject(f)}return{color:null,layer:null,viewport:l,index:-1,picked:!1,x:r,y:s,pixel:[r,s],coordinate:c,devicePixel:t&&"pickedX"in t?[t.pickedX,t.pickedY]:void 0,pixelRatio:n}}function Pse(t){const{pickInfo:e,lastPickedInfo:n,mode:r,layers:s}=t,{pickedColor:o,pickedLayer:l,pickedObjectIndex:c}=e,f=l?[l]:[];if(r==="hover"){const m=n.index,b=n.layerId,_=l?l.props.id:null;if(_!==b||c!==m){if(_!==b){const E=s.find(T=>T.props.id===b);E&&f.unshift(E)}n.layerId=_,n.index=c,n.info=null}}const h=e6(t),p=new Map;return p.set(null,h),f.forEach(m=>{let b={...h};m===l&&(b.color=o,b.index=c,b.picked=!0),b=t6({layer:m,info:b,mode:r});const _=b.layer;m===l&&r==="hover"&&(n.info=b),p.set(_.id,b),r==="hover"&&_.updateAutoHighlight(b)}),p}function t6({layer:t,info:e,mode:n}){for(;t&&e;){const r=e.layer||null;e.sourceLayer=r,e.layer=t,e=t.getPickingInfo({info:e,mode:n,sourceLayer:r}),t=t.parent}return e}function Dse(t,e){for(let n=t.length-1;n>=0;n--){const r=t[n];if(r.containsPixel(e))return r}return t[0]}class Mse{constructor(e){this._pickable=!0,this.device=e,this.pickLayersPass=new KF(e),this.lastPickedInfo={index:-1,layerId:null,info:null}}setProps(e){"layerFilter"in e&&(this.layerFilter=e.layerFilter),"_pickable"in e&&(this._pickable=e._pickable)}finalize(){this.pickingFBO&&this.pickingFBO.destroy(),this.depthFBO&&this.depthFBO.destroy()}pickObject(e){return this._pickClosestObject(e)}pickObjects(e){return this._pickVisibleObjects(e)}getLastPickedObject({x:e,y:n,layers:r,viewports:s},o=this.lastPickedInfo.info){const l=o&&o.layer&&o.layer.id,c=o&&o.viewport&&o.viewport.id,f=l?r.find(b=>b.id===l):null,h=c&&s.find(b=>b.id===c)||s[0],p=h&&h.unproject([e-h.x,n-h.y]);return{...o,...{x:e,y:n,viewport:h,coordinate:p,layer:f}}}_resizeBuffer(){var n,r;if(!this.pickingFBO&&(this.pickingFBO=this.device.createFramebuffer({colorAttachments:["rgba8unorm"],depthStencilAttachment:"depth16unorm"}),this.device.isTextureFormatRenderable("rgba32float"))){const s=this.device.createFramebuffer({colorAttachments:["rgba32float"],depthStencilAttachment:"depth16unorm"});this.depthFBO=s}const{canvas:e}=this.device.getDefaultCanvasContext();(n=this.pickingFBO)==null||n.resize({width:e.width,height:e.height}),(r=this.depthFBO)==null||r.resize({width:e.width,height:e.height})}_getPickable(e){if(this._pickable===!1)return null;const n=e.filter(r=>this.pickLayersPass.shouldDrawLayer(r)&&!r.isComposite);return n.length?n:null}_pickClosestObject({layers:e,views:n,viewports:r,x:s,y:o,radius:l=0,depth:c=1,mode:f="query",unproject3D:h,onViewportActive:p,effects:m}){const b=this.device.canvasContext.cssToDeviceRatio(),_=this._getPickable(e);if(!_||r.length===0)return{result:[],emptyInfo:e6({viewports:r,x:s,y:o,pixelRatio:b})};this._resizeBuffer();const E=this.device.canvasContext.cssToDevicePixels([s,o],!0),T=[E.x+Math.floor(E.width/2),E.y+Math.floor(E.height/2)],C=Math.round(l*b),{width:D,height:M}=this.pickingFBO,P=this._getPickingRect({deviceX:T[0],deviceY:T[1],deviceRadius:C,deviceWidth:D,deviceHeight:M}),U={x:s-l,y:o-l,width:l*2+1,height:l*2+1};let L;const O=[],Y=new Set;for(let ne=0;ne<c;ne++){let G;if(P){const Q=this._drawAndSample({layers:_,views:n,viewports:r,onViewportActive:p,deviceRect:P,cullRect:U,effects:m,pass:`picking:${f}`});G=Rse({...Q,deviceX:T[0],deviceY:T[1],deviceRadius:C,deviceRect:P})}else G={pickedColor:null,pickedObjectIndex:-1};let K;if(G.pickedLayer&&h&&this.depthFBO){const{pickedColors:Q}=this._drawAndSample({layers:[G.pickedLayer],views:n,viewports:r,onViewportActive:p,deviceRect:{x:G.pickedX,y:G.pickedY,width:1,height:1},cullRect:U,effects:m,pass:`picking:${f}:z`},!0);Q[3]&&(K=Q[0])}G.pickedLayer&&ne+1<c&&(Y.add(G.pickedLayer),G.pickedLayer.disablePickingIndex(G.pickedObjectIndex)),L=Pse({pickInfo:G,lastPickedInfo:this.lastPickedInfo,mode:f,layers:_,viewports:r,x:s,y:o,z:K,pixelRatio:b});for(const Q of L.values())Q.layer&&O.push(Q);if(!G.pickedColor)break}for(const ne of Y)ne.restorePickingColors();return{result:O,emptyInfo:L.get(null)}}_pickVisibleObjects({layers:e,views:n,viewports:r,x:s,y:o,width:l=1,height:c=1,mode:f="query",maxObjects:h=null,onViewportActive:p,effects:m}){const b=this._getPickable(e);if(!b||r.length===0)return[];this._resizeBuffer();const _=this.device.canvasContext.cssToDeviceRatio(),E=this.device.canvasContext.cssToDevicePixels([s,o],!0),T=E.x,C=E.y+E.height,D=this.device.canvasContext.cssToDevicePixels([s+l,o+c],!0),M=D.x+D.width,P=D.y,U={x:T,y:P,width:M-T,height:C-P},L=this._drawAndSample({layers:b,views:n,viewports:r,onViewportActive:p,deviceRect:U,cullRect:{x:s,y:o,width:l,height:c},effects:m,pass:`picking:${f}`}),O=kse(L),Y=new Map,ne=[],G=Number.isFinite(h);for(let K=0;K<O.length&&!(G&&ne.length>=h);K++){const Q=O[K];let de={color:Q.pickedColor,layer:null,index:Q.pickedObjectIndex,picked:!0,x:s,y:o,pixelRatio:_};de=t6({layer:Q.pickedLayer,info:de,mode:f});const pe=de.layer.id;Y.has(pe)||Y.set(pe,new Set);const le=Y.get(pe),ye=de.object??de.index;le.has(ye)||(le.add(ye),ne.push(de))}return ne}_drawAndSample({layers:e,views:n,viewports:r,onViewportActive:s,deviceRect:o,cullRect:l,effects:c,pass:f},h=!1){const p=h?this.depthFBO:this.pickingFBO,m={layers:e,layerFilter:this.layerFilter,views:n,viewports:r,onViewportActive:s,pickingFBO:p,deviceRect:o,cullRect:l,effects:c,pass:f,pickZ:h,preRenderStats:{},isPicking:!0};for(const M of c)M.useInPicking&&(m.preRenderStats[M.id]=M.preRender(m));const{decodePickingColor:b}=this.pickLayersPass.render(m),{x:_,y:E,width:T,height:C}=o,D=new(h?Float32Array:Uint8Array)(T*C*4);return this.device.readPixelsToArrayWebGL(p,{sourceX:_,sourceY:E,sourceWidth:T,sourceHeight:C,target:D}),{pickedColors:D,decodePickingColor:b}}_getPickingRect({deviceX:e,deviceY:n,deviceRadius:r,deviceWidth:s,deviceHeight:o}){const l=Math.max(0,e-r),c=Math.max(0,n-r),f=Math.min(s,e+r+1)-l,h=Math.min(o,n+r+1)-c;return f<=0||h<=0?null:{x:l,y:c,width:f,height:h}}}const jse={"top-left":{top:0,left:0},"top-right":{top:0,right:0},"bottom-left":{bottom:0,left:0},"bottom-right":{bottom:0,right:0},fill:{top:0,left:0,bottom:0,right:0}},Ise="top-left",DM="__root";class Ose{constructor({deck:e,parentElement:n}){this.defaultWidgets=[],this.widgets=[],this.resolvedWidgets=[],this.containers={},this.lastViewports={},this.deck=e,this.parentElement=n}getWidgets(){return this.resolvedWidgets}setProps(e){e.widgets&&!Ji(e.widgets,this.widgets,1)&&this._setWidgets(e.widgets)}finalize(){for(const e of this.getWidgets())this._remove(e);this.defaultWidgets.length=0,this.resolvedWidgets.length=0;for(const e in this.containers)this.containers[e].remove()}addDefault(e){this.defaultWidgets.find(n=>n.id===e.id)||(this._add(e),this.defaultWidgets.push(e),this._setWidgets(this.widgets))}_setWidgets(e){const n={};for(const r of this.resolvedWidgets)n[r.id]=r;this.resolvedWidgets.length=0;for(const r of this.defaultWidgets)n[r.id]=null,this.resolvedWidgets.push(r);for(let r of e){const s=n[r.id];s?s.viewId!==r.viewId||s.placement!==r.placement?(this._remove(s),this._add(r)):r!==s&&(s.setProps(r.props),r=s):this._add(r),n[r.id]=null,this.resolvedWidgets.push(r)}for(const r in n){const s=n[r];s&&this._remove(s)}this.widgets=e}_add(e){const{viewId:n=null,placement:r=Ise}=e,s=e.onAdd({deck:this.deck,viewId:n});s&&this._getContainer(n,r).append(s),e._element=s}_remove(e){var n;(n=e.onRemove)==null||n.call(e),e._element&&e._element.remove(),e._element=void 0}_getContainer(e,n){var l;const r=e||DM;let s=this.containers[r];s||(s=document.createElement("div"),s.style.pointerEvents="none",s.style.position="absolute",s.style.overflow="hidden",(l=this.parentElement)==null||l.append(s),this.containers[r]=s);let o=s.querySelector(`.${n}`);return o||(o=document.createElement("div"),o.className=n,o.style.position="absolute",o.style.zIndex="2",Object.assign(o.style,jse[n]),s.append(o)),o}_updateContainers(){const e=this.deck.width,n=this.deck.height;for(const r in this.containers){const s=this.lastViewports[r]||null,o=r===DM||s,l=this.containers[r];o?(l.style.display="block",l.style.left=`${s?s.x:0}px`,l.style.top=`${s?s.y:0}px`,l.style.width=`${s?s.width:e}px`,l.style.height=`${s?s.height:n}px`):l.style.display="none"}}onRedraw({viewports:e,layers:n}){var s,o;const r=e.reduce((l,c)=>(l[c.id]=c,l),{});for(const l of this.getWidgets()){const{viewId:c}=l;if(c){const f=r[c];f&&(l.onViewportChange&&l.onViewportChange(f),(s=l.onRedraw)==null||s.call(l,{viewports:[f],layers:n}))}else{if(l.onViewportChange)for(const f of e)l.onViewportChange(f);(o=l.onRedraw)==null||o.call(l,{viewports:e,layers:n})}}this.lastViewports=r,this._updateContainers()}onHover(e,n){var r,s;for(const o of this.getWidgets()){const{viewId:l}=o;(!l||l===((r=e.viewport)==null?void 0:r.id))&&((s=o.onHover)==null||s.call(o,e,n))}}onEvent(e,n){var s,o;const r=kS[n.type];if(r)for(const l of this.getWidgets()){const{viewId:c}=l;(!c||c===((s=e.viewport)==null?void 0:s.id))&&((o=l[r])==null||o.call(l,e,n))}}}const Use={zIndex:"1",position:"absolute",pointerEvents:"none",color:"#a0a7b4",backgroundColor:"#29323c",padding:"10px",top:"0",left:"0",display:"none"};class Vse{constructor(){this.id="default-tooltip",this.placement="fill",this.props={},this.isVisible=!1}onAdd({deck:e}){const n=document.createElement("div");return n.className="deck-tooltip",Object.assign(n.style,Use),this.deck=e,this.element=n,n}onRemove(){this.deck=void 0,this.element=void 0}setProps(){}onViewportChange(e){var n;this.isVisible&&e.id===((n=this.lastViewport)==null?void 0:n.id)&&e!==this.lastViewport&&this.setTooltip(null)}onHover(e){const{deck:n}=this,r=n&&n.props.getTooltip;if(!r)return;const s=r(e);this.lastViewport=e.viewport,this.setTooltip(s,e.x,e.y)}setTooltip(e,n,r){const s=this.element;if(s){if(typeof e=="string")s.innerText=e;else if(e)e.text&&(s.innerText=e.text),e.html&&(s.innerHTML=e.html),e.className&&(s.className=e.className);else{this.isVisible=!1,s.style.display="none";return}this.isVisible=!0,s.style.display="block",s.style.transform=`translate(${n}px, ${r}px)`,e&&typeof e=="object"&&"style"in e&&Object.assign(s.style,e.style)}}}var Hf;(function(t){t[t.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT",t[t.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT",t[t.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT",t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",t[t.ZERO=0]="ZERO",t[t.ONE=1]="ONE",t[t.SRC_COLOR=768]="SRC_COLOR",t[t.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",t[t.SRC_ALPHA=770]="SRC_ALPHA",t[t.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",t[t.DST_ALPHA=772]="DST_ALPHA",t[t.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",t[t.DST_COLOR=774]="DST_COLOR",t[t.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",t[t.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",t[t.CONSTANT_COLOR=32769]="CONSTANT_COLOR",t[t.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",t[t.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",t[t.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA",t[t.FUNC_ADD=32774]="FUNC_ADD",t[t.FUNC_SUBTRACT=32778]="FUNC_SUBTRACT",t[t.FUNC_REVERSE_SUBTRACT=32779]="FUNC_REVERSE_SUBTRACT",t[t.BLEND_EQUATION=32777]="BLEND_EQUATION",t[t.BLEND_EQUATION_RGB=32777]="BLEND_EQUATION_RGB",t[t.BLEND_EQUATION_ALPHA=34877]="BLEND_EQUATION_ALPHA",t[t.BLEND_DST_RGB=32968]="BLEND_DST_RGB",t[t.BLEND_SRC_RGB=32969]="BLEND_SRC_RGB",t[t.BLEND_DST_ALPHA=32970]="BLEND_DST_ALPHA",t[t.BLEND_SRC_ALPHA=32971]="BLEND_SRC_ALPHA",t[t.BLEND_COLOR=32773]="BLEND_COLOR",t[t.ARRAY_BUFFER_BINDING=34964]="ARRAY_BUFFER_BINDING",t[t.ELEMENT_ARRAY_BUFFER_BINDING=34965]="ELEMENT_ARRAY_BUFFER_BINDING",t[t.LINE_WIDTH=2849]="LINE_WIDTH",t[t.ALIASED_POINT_SIZE_RANGE=33901]="ALIASED_POINT_SIZE_RANGE",t[t.ALIASED_LINE_WIDTH_RANGE=33902]="ALIASED_LINE_WIDTH_RANGE",t[t.CULL_FACE_MODE=2885]="CULL_FACE_MODE",t[t.FRONT_FACE=2886]="FRONT_FACE",t[t.DEPTH_RANGE=2928]="DEPTH_RANGE",t[t.DEPTH_WRITEMASK=2930]="DEPTH_WRITEMASK",t[t.DEPTH_CLEAR_VALUE=2931]="DEPTH_CLEAR_VALUE",t[t.DEPTH_FUNC=2932]="DEPTH_FUNC",t[t.STENCIL_CLEAR_VALUE=2961]="STENCIL_CLEAR_VALUE",t[t.STENCIL_FUNC=2962]="STENCIL_FUNC",t[t.STENCIL_FAIL=2964]="STENCIL_FAIL",t[t.STENCIL_PASS_DEPTH_FAIL=2965]="STENCIL_PASS_DEPTH_FAIL",t[t.STENCIL_PASS_DEPTH_PASS=2966]="STENCIL_PASS_DEPTH_PASS",t[t.STENCIL_REF=2967]="STENCIL_REF",t[t.STENCIL_VALUE_MASK=2963]="STENCIL_VALUE_MASK",t[t.STENCIL_WRITEMASK=2968]="STENCIL_WRITEMASK",t[t.STENCIL_BACK_FUNC=34816]="STENCIL_BACK_FUNC",t[t.STENCIL_BACK_FAIL=34817]="STENCIL_BACK_FAIL",t[t.STENCIL_BACK_PASS_DEPTH_FAIL=34818]="STENCIL_BACK_PASS_DEPTH_FAIL",t[t.STENCIL_BACK_PASS_DEPTH_PASS=34819]="STENCIL_BACK_PASS_DEPTH_PASS",t[t.STENCIL_BACK_REF=36003]="STENCIL_BACK_REF",t[t.STENCIL_BACK_VALUE_MASK=36004]="STENCIL_BACK_VALUE_MASK",t[t.STENCIL_BACK_WRITEMASK=36005]="STENCIL_BACK_WRITEMASK",t[t.VIEWPORT=2978]="VIEWPORT",t[t.SCISSOR_BOX=3088]="SCISSOR_BOX",t[t.COLOR_CLEAR_VALUE=3106]="COLOR_CLEAR_VALUE",t[t.COLOR_WRITEMASK=3107]="COLOR_WRITEMASK",t[t.UNPACK_ALIGNMENT=3317]="UNPACK_ALIGNMENT",t[t.PACK_ALIGNMENT=3333]="PACK_ALIGNMENT",t[t.MAX_TEXTURE_SIZE=3379]="MAX_TEXTURE_SIZE",t[t.MAX_VIEWPORT_DIMS=3386]="MAX_VIEWPORT_DIMS",t[t.SUBPIXEL_BITS=3408]="SUBPIXEL_BITS",t[t.RED_BITS=3410]="RED_BITS",t[t.GREEN_BITS=3411]="GREEN_BITS",t[t.BLUE_BITS=3412]="BLUE_BITS",t[t.ALPHA_BITS=3413]="ALPHA_BITS",t[t.DEPTH_BITS=3414]="DEPTH_BITS",t[t.STENCIL_BITS=3415]="STENCIL_BITS",t[t.POLYGON_OFFSET_UNITS=10752]="POLYGON_OFFSET_UNITS",t[t.POLYGON_OFFSET_FACTOR=32824]="POLYGON_OFFSET_FACTOR",t[t.TEXTURE_BINDING_2D=32873]="TEXTURE_BINDING_2D",t[t.SAMPLE_BUFFERS=32936]="SAMPLE_BUFFERS",t[t.SAMPLES=32937]="SAMPLES",t[t.SAMPLE_COVERAGE_VALUE=32938]="SAMPLE_COVERAGE_VALUE",t[t.SAMPLE_COVERAGE_INVERT=32939]="SAMPLE_COVERAGE_INVERT",t[t.COMPRESSED_TEXTURE_FORMATS=34467]="COMPRESSED_TEXTURE_FORMATS",t[t.VENDOR=7936]="VENDOR",t[t.RENDERER=7937]="RENDERER",t[t.VERSION=7938]="VERSION",t[t.IMPLEMENTATION_COLOR_READ_TYPE=35738]="IMPLEMENTATION_COLOR_READ_TYPE",t[t.IMPLEMENTATION_COLOR_READ_FORMAT=35739]="IMPLEMENTATION_COLOR_READ_FORMAT",t[t.BROWSER_DEFAULT_WEBGL=37444]="BROWSER_DEFAULT_WEBGL",t[t.STATIC_DRAW=35044]="STATIC_DRAW",t[t.STREAM_DRAW=35040]="STREAM_DRAW",t[t.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.BUFFER_SIZE=34660]="BUFFER_SIZE",t[t.BUFFER_USAGE=34661]="BUFFER_USAGE",t[t.CURRENT_VERTEX_ATTRIB=34342]="CURRENT_VERTEX_ATTRIB",t[t.VERTEX_ATTRIB_ARRAY_ENABLED=34338]="VERTEX_ATTRIB_ARRAY_ENABLED",t[t.VERTEX_ATTRIB_ARRAY_SIZE=34339]="VERTEX_ATTRIB_ARRAY_SIZE",t[t.VERTEX_ATTRIB_ARRAY_STRIDE=34340]="VERTEX_ATTRIB_ARRAY_STRIDE",t[t.VERTEX_ATTRIB_ARRAY_TYPE=34341]="VERTEX_ATTRIB_ARRAY_TYPE",t[t.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922]="VERTEX_ATTRIB_ARRAY_NORMALIZED",t[t.VERTEX_ATTRIB_ARRAY_POINTER=34373]="VERTEX_ATTRIB_ARRAY_POINTER",t[t.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975]="VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",t[t.CULL_FACE=2884]="CULL_FACE",t[t.FRONT=1028]="FRONT",t[t.BACK=1029]="BACK",t[t.FRONT_AND_BACK=1032]="FRONT_AND_BACK",t[t.BLEND=3042]="BLEND",t[t.DEPTH_TEST=2929]="DEPTH_TEST",t[t.DITHER=3024]="DITHER",t[t.POLYGON_OFFSET_FILL=32823]="POLYGON_OFFSET_FILL",t[t.SAMPLE_ALPHA_TO_COVERAGE=32926]="SAMPLE_ALPHA_TO_COVERAGE",t[t.SAMPLE_COVERAGE=32928]="SAMPLE_COVERAGE",t[t.SCISSOR_TEST=3089]="SCISSOR_TEST",t[t.STENCIL_TEST=2960]="STENCIL_TEST",t[t.NO_ERROR=0]="NO_ERROR",t[t.INVALID_ENUM=1280]="INVALID_ENUM",t[t.INVALID_VALUE=1281]="INVALID_VALUE",t[t.INVALID_OPERATION=1282]="INVALID_OPERATION",t[t.OUT_OF_MEMORY=1285]="OUT_OF_MEMORY",t[t.CONTEXT_LOST_WEBGL=37442]="CONTEXT_LOST_WEBGL",t[t.CW=2304]="CW",t[t.CCW=2305]="CCW",t[t.DONT_CARE=4352]="DONT_CARE",t[t.FASTEST=4353]="FASTEST",t[t.NICEST=4354]="NICEST",t[t.GENERATE_MIPMAP_HINT=33170]="GENERATE_MIPMAP_HINT",t[t.BYTE=5120]="BYTE",t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.SHORT=5122]="SHORT",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.INT=5124]="INT",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.FLOAT=5126]="FLOAT",t[t.DOUBLE=5130]="DOUBLE",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.ALPHA=6406]="ALPHA",t[t.RGB=6407]="RGB",t[t.RGBA=6408]="RGBA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",t[t.VERTEX_SHADER=35633]="VERTEX_SHADER",t[t.COMPILE_STATUS=35713]="COMPILE_STATUS",t[t.DELETE_STATUS=35712]="DELETE_STATUS",t[t.LINK_STATUS=35714]="LINK_STATUS",t[t.VALIDATE_STATUS=35715]="VALIDATE_STATUS",t[t.ATTACHED_SHADERS=35717]="ATTACHED_SHADERS",t[t.ACTIVE_ATTRIBUTES=35721]="ACTIVE_ATTRIBUTES",t[t.ACTIVE_UNIFORMS=35718]="ACTIVE_UNIFORMS",t[t.MAX_VERTEX_ATTRIBS=34921]="MAX_VERTEX_ATTRIBS",t[t.MAX_VERTEX_UNIFORM_VECTORS=36347]="MAX_VERTEX_UNIFORM_VECTORS",t[t.MAX_VARYING_VECTORS=36348]="MAX_VARYING_VECTORS",t[t.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661]="MAX_COMBINED_TEXTURE_IMAGE_UNITS",t[t.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660]="MAX_VERTEX_TEXTURE_IMAGE_UNITS",t[t.MAX_TEXTURE_IMAGE_UNITS=34930]="MAX_TEXTURE_IMAGE_UNITS",t[t.MAX_FRAGMENT_UNIFORM_VECTORS=36349]="MAX_FRAGMENT_UNIFORM_VECTORS",t[t.SHADER_TYPE=35663]="SHADER_TYPE",t[t.SHADING_LANGUAGE_VERSION=35724]="SHADING_LANGUAGE_VERSION",t[t.CURRENT_PROGRAM=35725]="CURRENT_PROGRAM",t[t.NEVER=512]="NEVER",t[t.LESS=513]="LESS",t[t.EQUAL=514]="EQUAL",t[t.LEQUAL=515]="LEQUAL",t[t.GREATER=516]="GREATER",t[t.NOTEQUAL=517]="NOTEQUAL",t[t.GEQUAL=518]="GEQUAL",t[t.ALWAYS=519]="ALWAYS",t[t.KEEP=7680]="KEEP",t[t.REPLACE=7681]="REPLACE",t[t.INCR=7682]="INCR",t[t.DECR=7683]="DECR",t[t.INVERT=5386]="INVERT",t[t.INCR_WRAP=34055]="INCR_WRAP",t[t.DECR_WRAP=34056]="DECR_WRAP",t[t.NEAREST=9728]="NEAREST",t[t.LINEAR=9729]="LINEAR",t[t.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",t[t.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",t[t.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",t[t.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR",t[t.TEXTURE_MAG_FILTER=10240]="TEXTURE_MAG_FILTER",t[t.TEXTURE_MIN_FILTER=10241]="TEXTURE_MIN_FILTER",t[t.TEXTURE_WRAP_S=10242]="TEXTURE_WRAP_S",t[t.TEXTURE_WRAP_T=10243]="TEXTURE_WRAP_T",t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE=5890]="TEXTURE",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_BINDING_CUBE_MAP=34068]="TEXTURE_BINDING_CUBE_MAP",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t[t.MAX_CUBE_MAP_TEXTURE_SIZE=34076]="MAX_CUBE_MAP_TEXTURE_SIZE",t[t.TEXTURE0=33984]="TEXTURE0",t[t.ACTIVE_TEXTURE=34016]="ACTIVE_TEXTURE",t[t.REPEAT=10497]="REPEAT",t[t.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t[t.TEXTURE_WIDTH=4096]="TEXTURE_WIDTH",t[t.TEXTURE_HEIGHT=4097]="TEXTURE_HEIGHT",t[t.FLOAT_VEC2=35664]="FLOAT_VEC2",t[t.FLOAT_VEC3=35665]="FLOAT_VEC3",t[t.FLOAT_VEC4=35666]="FLOAT_VEC4",t[t.INT_VEC2=35667]="INT_VEC2",t[t.INT_VEC3=35668]="INT_VEC3",t[t.INT_VEC4=35669]="INT_VEC4",t[t.BOOL=35670]="BOOL",t[t.BOOL_VEC2=35671]="BOOL_VEC2",t[t.BOOL_VEC3=35672]="BOOL_VEC3",t[t.BOOL_VEC4=35673]="BOOL_VEC4",t[t.FLOAT_MAT2=35674]="FLOAT_MAT2",t[t.FLOAT_MAT3=35675]="FLOAT_MAT3",t[t.FLOAT_MAT4=35676]="FLOAT_MAT4",t[t.SAMPLER_2D=35678]="SAMPLER_2D",t[t.SAMPLER_CUBE=35680]="SAMPLER_CUBE",t[t.LOW_FLOAT=36336]="LOW_FLOAT",t[t.MEDIUM_FLOAT=36337]="MEDIUM_FLOAT",t[t.HIGH_FLOAT=36338]="HIGH_FLOAT",t[t.LOW_INT=36339]="LOW_INT",t[t.MEDIUM_INT=36340]="MEDIUM_INT",t[t.HIGH_INT=36341]="HIGH_INT",t[t.FRAMEBUFFER=36160]="FRAMEBUFFER",t[t.RENDERBUFFER=36161]="RENDERBUFFER",t[t.RGBA4=32854]="RGBA4",t[t.RGB5_A1=32855]="RGB5_A1",t[t.RGB565=36194]="RGB565",t[t.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",t[t.STENCIL_INDEX=6401]="STENCIL_INDEX",t[t.STENCIL_INDEX8=36168]="STENCIL_INDEX8",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t[t.RENDERBUFFER_WIDTH=36162]="RENDERBUFFER_WIDTH",t[t.RENDERBUFFER_HEIGHT=36163]="RENDERBUFFER_HEIGHT",t[t.RENDERBUFFER_INTERNAL_FORMAT=36164]="RENDERBUFFER_INTERNAL_FORMAT",t[t.RENDERBUFFER_RED_SIZE=36176]="RENDERBUFFER_RED_SIZE",t[t.RENDERBUFFER_GREEN_SIZE=36177]="RENDERBUFFER_GREEN_SIZE",t[t.RENDERBUFFER_BLUE_SIZE=36178]="RENDERBUFFER_BLUE_SIZE",t[t.RENDERBUFFER_ALPHA_SIZE=36179]="RENDERBUFFER_ALPHA_SIZE",t[t.RENDERBUFFER_DEPTH_SIZE=36180]="RENDERBUFFER_DEPTH_SIZE",t[t.RENDERBUFFER_STENCIL_SIZE=36181]="RENDERBUFFER_STENCIL_SIZE",t[t.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048]="FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",t[t.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049]="FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",t[t.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",t[t.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051]="FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",t[t.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",t[t.DEPTH_ATTACHMENT=36096]="DEPTH_ATTACHMENT",t[t.STENCIL_ATTACHMENT=36128]="STENCIL_ATTACHMENT",t[t.DEPTH_STENCIL_ATTACHMENT=33306]="DEPTH_STENCIL_ATTACHMENT",t[t.NONE=0]="NONE",t[t.FRAMEBUFFER_COMPLETE=36053]="FRAMEBUFFER_COMPLETE",t[t.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054]="FRAMEBUFFER_INCOMPLETE_ATTACHMENT",t[t.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055]="FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",t[t.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057]="FRAMEBUFFER_INCOMPLETE_DIMENSIONS",t[t.FRAMEBUFFER_UNSUPPORTED=36061]="FRAMEBUFFER_UNSUPPORTED",t[t.FRAMEBUFFER_BINDING=36006]="FRAMEBUFFER_BINDING",t[t.RENDERBUFFER_BINDING=36007]="RENDERBUFFER_BINDING",t[t.READ_FRAMEBUFFER=36008]="READ_FRAMEBUFFER",t[t.DRAW_FRAMEBUFFER=36009]="DRAW_FRAMEBUFFER",t[t.MAX_RENDERBUFFER_SIZE=34024]="MAX_RENDERBUFFER_SIZE",t[t.INVALID_FRAMEBUFFER_OPERATION=1286]="INVALID_FRAMEBUFFER_OPERATION",t[t.UNPACK_FLIP_Y_WEBGL=37440]="UNPACK_FLIP_Y_WEBGL",t[t.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441]="UNPACK_PREMULTIPLY_ALPHA_WEBGL",t[t.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443]="UNPACK_COLORSPACE_CONVERSION_WEBGL",t[t.READ_BUFFER=3074]="READ_BUFFER",t[t.UNPACK_ROW_LENGTH=3314]="UNPACK_ROW_LENGTH",t[t.UNPACK_SKIP_ROWS=3315]="UNPACK_SKIP_ROWS",t[t.UNPACK_SKIP_PIXELS=3316]="UNPACK_SKIP_PIXELS",t[t.PACK_ROW_LENGTH=3330]="PACK_ROW_LENGTH",t[t.PACK_SKIP_ROWS=3331]="PACK_SKIP_ROWS",t[t.PACK_SKIP_PIXELS=3332]="PACK_SKIP_PIXELS",t[t.TEXTURE_BINDING_3D=32874]="TEXTURE_BINDING_3D",t[t.UNPACK_SKIP_IMAGES=32877]="UNPACK_SKIP_IMAGES",t[t.UNPACK_IMAGE_HEIGHT=32878]="UNPACK_IMAGE_HEIGHT",t[t.MAX_3D_TEXTURE_SIZE=32883]="MAX_3D_TEXTURE_SIZE",t[t.MAX_ELEMENTS_VERTICES=33e3]="MAX_ELEMENTS_VERTICES",t[t.MAX_ELEMENTS_INDICES=33001]="MAX_ELEMENTS_INDICES",t[t.MAX_TEXTURE_LOD_BIAS=34045]="MAX_TEXTURE_LOD_BIAS",t[t.MAX_FRAGMENT_UNIFORM_COMPONENTS=35657]="MAX_FRAGMENT_UNIFORM_COMPONENTS",t[t.MAX_VERTEX_UNIFORM_COMPONENTS=35658]="MAX_VERTEX_UNIFORM_COMPONENTS",t[t.MAX_ARRAY_TEXTURE_LAYERS=35071]="MAX_ARRAY_TEXTURE_LAYERS",t[t.MIN_PROGRAM_TEXEL_OFFSET=35076]="MIN_PROGRAM_TEXEL_OFFSET",t[t.MAX_PROGRAM_TEXEL_OFFSET=35077]="MAX_PROGRAM_TEXEL_OFFSET",t[t.MAX_VARYING_COMPONENTS=35659]="MAX_VARYING_COMPONENTS",t[t.FRAGMENT_SHADER_DERIVATIVE_HINT=35723]="FRAGMENT_SHADER_DERIVATIVE_HINT",t[t.RASTERIZER_DISCARD=35977]="RASTERIZER_DISCARD",t[t.VERTEX_ARRAY_BINDING=34229]="VERTEX_ARRAY_BINDING",t[t.MAX_VERTEX_OUTPUT_COMPONENTS=37154]="MAX_VERTEX_OUTPUT_COMPONENTS",t[t.MAX_FRAGMENT_INPUT_COMPONENTS=37157]="MAX_FRAGMENT_INPUT_COMPONENTS",t[t.MAX_SERVER_WAIT_TIMEOUT=37137]="MAX_SERVER_WAIT_TIMEOUT",t[t.MAX_ELEMENT_INDEX=36203]="MAX_ELEMENT_INDEX",t[t.RED=6403]="RED",t[t.RGB8=32849]="RGB8",t[t.RGBA8=32856]="RGBA8",t[t.RGB10_A2=32857]="RGB10_A2",t[t.TEXTURE_3D=32879]="TEXTURE_3D",t[t.TEXTURE_WRAP_R=32882]="TEXTURE_WRAP_R",t[t.TEXTURE_MIN_LOD=33082]="TEXTURE_MIN_LOD",t[t.TEXTURE_MAX_LOD=33083]="TEXTURE_MAX_LOD",t[t.TEXTURE_BASE_LEVEL=33084]="TEXTURE_BASE_LEVEL",t[t.TEXTURE_MAX_LEVEL=33085]="TEXTURE_MAX_LEVEL",t[t.TEXTURE_COMPARE_MODE=34892]="TEXTURE_COMPARE_MODE",t[t.TEXTURE_COMPARE_FUNC=34893]="TEXTURE_COMPARE_FUNC",t[t.SRGB=35904]="SRGB",t[t.SRGB8=35905]="SRGB8",t[t.SRGB8_ALPHA8=35907]="SRGB8_ALPHA8",t[t.COMPARE_REF_TO_TEXTURE=34894]="COMPARE_REF_TO_TEXTURE",t[t.RGBA32F=34836]="RGBA32F",t[t.RGB32F=34837]="RGB32F",t[t.RGBA16F=34842]="RGBA16F",t[t.RGB16F=34843]="RGB16F",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_BINDING_2D_ARRAY=35869]="TEXTURE_BINDING_2D_ARRAY",t[t.R11F_G11F_B10F=35898]="R11F_G11F_B10F",t[t.RGB9_E5=35901]="RGB9_E5",t[t.RGBA32UI=36208]="RGBA32UI",t[t.RGB32UI=36209]="RGB32UI",t[t.RGBA16UI=36214]="RGBA16UI",t[t.RGB16UI=36215]="RGB16UI",t[t.RGBA8UI=36220]="RGBA8UI",t[t.RGB8UI=36221]="RGB8UI",t[t.RGBA32I=36226]="RGBA32I",t[t.RGB32I=36227]="RGB32I",t[t.RGBA16I=36232]="RGBA16I",t[t.RGB16I=36233]="RGB16I",t[t.RGBA8I=36238]="RGBA8I",t[t.RGB8I=36239]="RGB8I",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.R8=33321]="R8",t[t.RG8=33323]="RG8",t[t.R16F=33325]="R16F",t[t.R32F=33326]="R32F",t[t.RG16F=33327]="RG16F",t[t.RG32F=33328]="RG32F",t[t.R8I=33329]="R8I",t[t.R8UI=33330]="R8UI",t[t.R16I=33331]="R16I",t[t.R16UI=33332]="R16UI",t[t.R32I=33333]="R32I",t[t.R32UI=33334]="R32UI",t[t.RG8I=33335]="RG8I",t[t.RG8UI=33336]="RG8UI",t[t.RG16I=33337]="RG16I",t[t.RG16UI=33338]="RG16UI",t[t.RG32I=33339]="RG32I",t[t.RG32UI=33340]="RG32UI",t[t.R8_SNORM=36756]="R8_SNORM",t[t.RG8_SNORM=36757]="RG8_SNORM",t[t.RGB8_SNORM=36758]="RGB8_SNORM",t[t.RGBA8_SNORM=36759]="RGBA8_SNORM",t[t.RGB10_A2UI=36975]="RGB10_A2UI",t[t.TEXTURE_IMMUTABLE_FORMAT=37167]="TEXTURE_IMMUTABLE_FORMAT",t[t.TEXTURE_IMMUTABLE_LEVELS=33503]="TEXTURE_IMMUTABLE_LEVELS",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.HALF_FLOAT=5131]="HALF_FLOAT",t[t.RG=33319]="RG",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.INT_2_10_10_10_REV=36255]="INT_2_10_10_10_REV",t[t.CURRENT_QUERY=34917]="CURRENT_QUERY",t[t.QUERY_RESULT=34918]="QUERY_RESULT",t[t.QUERY_RESULT_AVAILABLE=34919]="QUERY_RESULT_AVAILABLE",t[t.ANY_SAMPLES_PASSED=35887]="ANY_SAMPLES_PASSED",t[t.ANY_SAMPLES_PASSED_CONSERVATIVE=36202]="ANY_SAMPLES_PASSED_CONSERVATIVE",t[t.MAX_DRAW_BUFFERS=34852]="MAX_DRAW_BUFFERS",t[t.DRAW_BUFFER0=34853]="DRAW_BUFFER0",t[t.DRAW_BUFFER1=34854]="DRAW_BUFFER1",t[t.DRAW_BUFFER2=34855]="DRAW_BUFFER2",t[t.DRAW_BUFFER3=34856]="DRAW_BUFFER3",t[t.DRAW_BUFFER4=34857]="DRAW_BUFFER4",t[t.DRAW_BUFFER5=34858]="DRAW_BUFFER5",t[t.DRAW_BUFFER6=34859]="DRAW_BUFFER6",t[t.DRAW_BUFFER7=34860]="DRAW_BUFFER7",t[t.DRAW_BUFFER8=34861]="DRAW_BUFFER8",t[t.DRAW_BUFFER9=34862]="DRAW_BUFFER9",t[t.DRAW_BUFFER10=34863]="DRAW_BUFFER10",t[t.DRAW_BUFFER11=34864]="DRAW_BUFFER11",t[t.DRAW_BUFFER12=34865]="DRAW_BUFFER12",t[t.DRAW_BUFFER13=34866]="DRAW_BUFFER13",t[t.DRAW_BUFFER14=34867]="DRAW_BUFFER14",t[t.DRAW_BUFFER15=34868]="DRAW_BUFFER15",t[t.MAX_COLOR_ATTACHMENTS=36063]="MAX_COLOR_ATTACHMENTS",t[t.COLOR_ATTACHMENT1=36065]="COLOR_ATTACHMENT1",t[t.COLOR_ATTACHMENT2=36066]="COLOR_ATTACHMENT2",t[t.COLOR_ATTACHMENT3=36067]="COLOR_ATTACHMENT3",t[t.COLOR_ATTACHMENT4=36068]="COLOR_ATTACHMENT4",t[t.COLOR_ATTACHMENT5=36069]="COLOR_ATTACHMENT5",t[t.COLOR_ATTACHMENT6=36070]="COLOR_ATTACHMENT6",t[t.COLOR_ATTACHMENT7=36071]="COLOR_ATTACHMENT7",t[t.COLOR_ATTACHMENT8=36072]="COLOR_ATTACHMENT8",t[t.COLOR_ATTACHMENT9=36073]="COLOR_ATTACHMENT9",t[t.COLOR_ATTACHMENT10=36074]="COLOR_ATTACHMENT10",t[t.COLOR_ATTACHMENT11=36075]="COLOR_ATTACHMENT11",t[t.COLOR_ATTACHMENT12=36076]="COLOR_ATTACHMENT12",t[t.COLOR_ATTACHMENT13=36077]="COLOR_ATTACHMENT13",t[t.COLOR_ATTACHMENT14=36078]="COLOR_ATTACHMENT14",t[t.COLOR_ATTACHMENT15=36079]="COLOR_ATTACHMENT15",t[t.SAMPLER_3D=35679]="SAMPLER_3D",t[t.SAMPLER_2D_SHADOW=35682]="SAMPLER_2D_SHADOW",t[t.SAMPLER_2D_ARRAY=36289]="SAMPLER_2D_ARRAY",t[t.SAMPLER_2D_ARRAY_SHADOW=36292]="SAMPLER_2D_ARRAY_SHADOW",t[t.SAMPLER_CUBE_SHADOW=36293]="SAMPLER_CUBE_SHADOW",t[t.INT_SAMPLER_2D=36298]="INT_SAMPLER_2D",t[t.INT_SAMPLER_3D=36299]="INT_SAMPLER_3D",t[t.INT_SAMPLER_CUBE=36300]="INT_SAMPLER_CUBE",t[t.INT_SAMPLER_2D_ARRAY=36303]="INT_SAMPLER_2D_ARRAY",t[t.UNSIGNED_INT_SAMPLER_2D=36306]="UNSIGNED_INT_SAMPLER_2D",t[t.UNSIGNED_INT_SAMPLER_3D=36307]="UNSIGNED_INT_SAMPLER_3D",t[t.UNSIGNED_INT_SAMPLER_CUBE=36308]="UNSIGNED_INT_SAMPLER_CUBE",t[t.UNSIGNED_INT_SAMPLER_2D_ARRAY=36311]="UNSIGNED_INT_SAMPLER_2D_ARRAY",t[t.MAX_SAMPLES=36183]="MAX_SAMPLES",t[t.SAMPLER_BINDING=35097]="SAMPLER_BINDING",t[t.PIXEL_PACK_BUFFER=35051]="PIXEL_PACK_BUFFER",t[t.PIXEL_UNPACK_BUFFER=35052]="PIXEL_UNPACK_BUFFER",t[t.PIXEL_PACK_BUFFER_BINDING=35053]="PIXEL_PACK_BUFFER_BINDING",t[t.PIXEL_UNPACK_BUFFER_BINDING=35055]="PIXEL_UNPACK_BUFFER_BINDING",t[t.COPY_READ_BUFFER=36662]="COPY_READ_BUFFER",t[t.COPY_WRITE_BUFFER=36663]="COPY_WRITE_BUFFER",t[t.COPY_READ_BUFFER_BINDING=36662]="COPY_READ_BUFFER_BINDING",t[t.COPY_WRITE_BUFFER_BINDING=36663]="COPY_WRITE_BUFFER_BINDING",t[t.FLOAT_MAT2x3=35685]="FLOAT_MAT2x3",t[t.FLOAT_MAT2x4=35686]="FLOAT_MAT2x4",t[t.FLOAT_MAT3x2=35687]="FLOAT_MAT3x2",t[t.FLOAT_MAT3x4=35688]="FLOAT_MAT3x4",t[t.FLOAT_MAT4x2=35689]="FLOAT_MAT4x2",t[t.FLOAT_MAT4x3=35690]="FLOAT_MAT4x3",t[t.UNSIGNED_INT_VEC2=36294]="UNSIGNED_INT_VEC2",t[t.UNSIGNED_INT_VEC3=36295]="UNSIGNED_INT_VEC3",t[t.UNSIGNED_INT_VEC4=36296]="UNSIGNED_INT_VEC4",t[t.UNSIGNED_NORMALIZED=35863]="UNSIGNED_NORMALIZED",t[t.SIGNED_NORMALIZED=36764]="SIGNED_NORMALIZED",t[t.VERTEX_ATTRIB_ARRAY_INTEGER=35069]="VERTEX_ATTRIB_ARRAY_INTEGER",t[t.VERTEX_ATTRIB_ARRAY_DIVISOR=35070]="VERTEX_ATTRIB_ARRAY_DIVISOR",t[t.TRANSFORM_FEEDBACK_BUFFER_MODE=35967]="TRANSFORM_FEEDBACK_BUFFER_MODE",t[t.MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS=35968]="MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS",t[t.TRANSFORM_FEEDBACK_VARYINGS=35971]="TRANSFORM_FEEDBACK_VARYINGS",t[t.TRANSFORM_FEEDBACK_BUFFER_START=35972]="TRANSFORM_FEEDBACK_BUFFER_START",t[t.TRANSFORM_FEEDBACK_BUFFER_SIZE=35973]="TRANSFORM_FEEDBACK_BUFFER_SIZE",t[t.TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN=35976]="TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN",t[t.MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS=35978]="MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS",t[t.MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS=35979]="MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS",t[t.INTERLEAVED_ATTRIBS=35980]="INTERLEAVED_ATTRIBS",t[t.SEPARATE_ATTRIBS=35981]="SEPARATE_ATTRIBS",t[t.TRANSFORM_FEEDBACK_BUFFER=35982]="TRANSFORM_FEEDBACK_BUFFER",t[t.TRANSFORM_FEEDBACK_BUFFER_BINDING=35983]="TRANSFORM_FEEDBACK_BUFFER_BINDING",t[t.TRANSFORM_FEEDBACK=36386]="TRANSFORM_FEEDBACK",t[t.TRANSFORM_FEEDBACK_PAUSED=36387]="TRANSFORM_FEEDBACK_PAUSED",t[t.TRANSFORM_FEEDBACK_ACTIVE=36388]="TRANSFORM_FEEDBACK_ACTIVE",t[t.TRANSFORM_FEEDBACK_BINDING=36389]="TRANSFORM_FEEDBACK_BINDING",t[t.FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING=33296]="FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING",t[t.FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE=33297]="FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE",t[t.FRAMEBUFFER_ATTACHMENT_RED_SIZE=33298]="FRAMEBUFFER_ATTACHMENT_RED_SIZE",t[t.FRAMEBUFFER_ATTACHMENT_GREEN_SIZE=33299]="FRAMEBUFFER_ATTACHMENT_GREEN_SIZE",t[t.FRAMEBUFFER_ATTACHMENT_BLUE_SIZE=33300]="FRAMEBUFFER_ATTACHMENT_BLUE_SIZE",t[t.FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE=33301]="FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE",t[t.FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE=33302]="FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE",t[t.FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE=33303]="FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE",t[t.FRAMEBUFFER_DEFAULT=33304]="FRAMEBUFFER_DEFAULT",t[t.DEPTH24_STENCIL8=35056]="DEPTH24_STENCIL8",t[t.DRAW_FRAMEBUFFER_BINDING=36006]="DRAW_FRAMEBUFFER_BINDING",t[t.READ_FRAMEBUFFER_BINDING=36010]="READ_FRAMEBUFFER_BINDING",t[t.RENDERBUFFER_SAMPLES=36011]="RENDERBUFFER_SAMPLES",t[t.FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER=36052]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER",t[t.FRAMEBUFFER_INCOMPLETE_MULTISAMPLE=36182]="FRAMEBUFFER_INCOMPLETE_MULTISAMPLE",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t[t.UNIFORM_BUFFER_BINDING=35368]="UNIFORM_BUFFER_BINDING",t[t.UNIFORM_BUFFER_START=35369]="UNIFORM_BUFFER_START",t[t.UNIFORM_BUFFER_SIZE=35370]="UNIFORM_BUFFER_SIZE",t[t.MAX_VERTEX_UNIFORM_BLOCKS=35371]="MAX_VERTEX_UNIFORM_BLOCKS",t[t.MAX_FRAGMENT_UNIFORM_BLOCKS=35373]="MAX_FRAGMENT_UNIFORM_BLOCKS",t[t.MAX_COMBINED_UNIFORM_BLOCKS=35374]="MAX_COMBINED_UNIFORM_BLOCKS",t[t.MAX_UNIFORM_BUFFER_BINDINGS=35375]="MAX_UNIFORM_BUFFER_BINDINGS",t[t.MAX_UNIFORM_BLOCK_SIZE=35376]="MAX_UNIFORM_BLOCK_SIZE",t[t.MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS=35377]="MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS",t[t.MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS=35379]="MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS",t[t.UNIFORM_BUFFER_OFFSET_ALIGNMENT=35380]="UNIFORM_BUFFER_OFFSET_ALIGNMENT",t[t.ACTIVE_UNIFORM_BLOCKS=35382]="ACTIVE_UNIFORM_BLOCKS",t[t.UNIFORM_TYPE=35383]="UNIFORM_TYPE",t[t.UNIFORM_SIZE=35384]="UNIFORM_SIZE",t[t.UNIFORM_BLOCK_INDEX=35386]="UNIFORM_BLOCK_INDEX",t[t.UNIFORM_OFFSET=35387]="UNIFORM_OFFSET",t[t.UNIFORM_ARRAY_STRIDE=35388]="UNIFORM_ARRAY_STRIDE",t[t.UNIFORM_MATRIX_STRIDE=35389]="UNIFORM_MATRIX_STRIDE",t[t.UNIFORM_IS_ROW_MAJOR=35390]="UNIFORM_IS_ROW_MAJOR",t[t.UNIFORM_BLOCK_BINDING=35391]="UNIFORM_BLOCK_BINDING",t[t.UNIFORM_BLOCK_DATA_SIZE=35392]="UNIFORM_BLOCK_DATA_SIZE",t[t.UNIFORM_BLOCK_ACTIVE_UNIFORMS=35394]="UNIFORM_BLOCK_ACTIVE_UNIFORMS",t[t.UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES=35395]="UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES",t[t.UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER=35396]="UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER",t[t.UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER=35398]="UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER",t[t.OBJECT_TYPE=37138]="OBJECT_TYPE",t[t.SYNC_CONDITION=37139]="SYNC_CONDITION",t[t.SYNC_STATUS=37140]="SYNC_STATUS",t[t.SYNC_FLAGS=37141]="SYNC_FLAGS",t[t.SYNC_FENCE=37142]="SYNC_FENCE",t[t.SYNC_GPU_COMMANDS_COMPLETE=37143]="SYNC_GPU_COMMANDS_COMPLETE",t[t.UNSIGNALED=37144]="UNSIGNALED",t[t.SIGNALED=37145]="SIGNALED",t[t.ALREADY_SIGNALED=37146]="ALREADY_SIGNALED",t[t.TIMEOUT_EXPIRED=37147]="TIMEOUT_EXPIRED",t[t.CONDITION_SATISFIED=37148]="CONDITION_SATISFIED",t[t.WAIT_FAILED=37149]="WAIT_FAILED",t[t.SYNC_FLUSH_COMMANDS_BIT=1]="SYNC_FLUSH_COMMANDS_BIT",t[t.COLOR=6144]="COLOR",t[t.DEPTH=6145]="DEPTH",t[t.STENCIL=6146]="STENCIL",t[t.MIN=32775]="MIN",t[t.MAX=32776]="MAX",t[t.DEPTH_COMPONENT24=33190]="DEPTH_COMPONENT24",t[t.STREAM_READ=35041]="STREAM_READ",t[t.STREAM_COPY=35042]="STREAM_COPY",t[t.STATIC_READ=35045]="STATIC_READ",t[t.STATIC_COPY=35046]="STATIC_COPY",t[t.DYNAMIC_READ=35049]="DYNAMIC_READ",t[t.DYNAMIC_COPY=35050]="DYNAMIC_COPY",t[t.DEPTH_COMPONENT32F=36012]="DEPTH_COMPONENT32F",t[t.DEPTH32F_STENCIL8=36013]="DEPTH32F_STENCIL8",t[t.INVALID_INDEX=4294967295]="INVALID_INDEX",t[t.TIMEOUT_IGNORED=-1]="TIMEOUT_IGNORED",t[t.MAX_CLIENT_WAIT_TIMEOUT_WEBGL=37447]="MAX_CLIENT_WAIT_TIMEOUT_WEBGL",t[t.UNMASKED_VENDOR_WEBGL=37445]="UNMASKED_VENDOR_WEBGL",t[t.UNMASKED_RENDERER_WEBGL=37446]="UNMASKED_RENDERER_WEBGL",t[t.MAX_TEXTURE_MAX_ANISOTROPY_EXT=34047]="MAX_TEXTURE_MAX_ANISOTROPY_EXT",t[t.TEXTURE_MAX_ANISOTROPY_EXT=34046]="TEXTURE_MAX_ANISOTROPY_EXT",t[t.R16_EXT=33322]="R16_EXT",t[t.RG16_EXT=33324]="RG16_EXT",t[t.RGB16_EXT=32852]="RGB16_EXT",t[t.RGBA16_EXT=32859]="RGBA16_EXT",t[t.R16_SNORM_EXT=36760]="R16_SNORM_EXT",t[t.RG16_SNORM_EXT=36761]="RG16_SNORM_EXT",t[t.RGB16_SNORM_EXT=36762]="RGB16_SNORM_EXT",t[t.RGBA16_SNORM_EXT=36763]="RGBA16_SNORM_EXT",t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_RED_RGTC1_EXT=36283]="COMPRESSED_RED_RGTC1_EXT",t[t.COMPRESSED_SIGNED_RED_RGTC1_EXT=36284]="COMPRESSED_SIGNED_RED_RGTC1_EXT",t[t.COMPRESSED_RED_GREEN_RGTC2_EXT=36285]="COMPRESSED_RED_GREEN_RGTC2_EXT",t[t.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT=36286]="COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT",t[t.COMPRESSED_RGBA_BPTC_UNORM_EXT=36492]="COMPRESSED_RGBA_BPTC_UNORM_EXT",t[t.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT=36493]="COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT",t[t.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT=36494]="COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT",t[t.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT=36495]="COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37493]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37494]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37495]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37496]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37497]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",t[t.COMPRESSED_RGBA_ASTC_5x4_KHR=37809]="COMPRESSED_RGBA_ASTC_5x4_KHR",t[t.COMPRESSED_RGBA_ASTC_5x5_KHR=37810]="COMPRESSED_RGBA_ASTC_5x5_KHR",t[t.COMPRESSED_RGBA_ASTC_6x5_KHR=37811]="COMPRESSED_RGBA_ASTC_6x5_KHR",t[t.COMPRESSED_RGBA_ASTC_6x6_KHR=37812]="COMPRESSED_RGBA_ASTC_6x6_KHR",t[t.COMPRESSED_RGBA_ASTC_8x5_KHR=37813]="COMPRESSED_RGBA_ASTC_8x5_KHR",t[t.COMPRESSED_RGBA_ASTC_8x6_KHR=37814]="COMPRESSED_RGBA_ASTC_8x6_KHR",t[t.COMPRESSED_RGBA_ASTC_8x8_KHR=37815]="COMPRESSED_RGBA_ASTC_8x8_KHR",t[t.COMPRESSED_RGBA_ASTC_10x5_KHR=37816]="COMPRESSED_RGBA_ASTC_10x5_KHR",t[t.COMPRESSED_RGBA_ASTC_10x6_KHR=37817]="COMPRESSED_RGBA_ASTC_10x6_KHR",t[t.COMPRESSED_RGBA_ASTC_10x8_KHR=37818]="COMPRESSED_RGBA_ASTC_10x8_KHR",t[t.COMPRESSED_RGBA_ASTC_10x10_KHR=37819]="COMPRESSED_RGBA_ASTC_10x10_KHR",t[t.COMPRESSED_RGBA_ASTC_12x10_KHR=37820]="COMPRESSED_RGBA_ASTC_12x10_KHR",t[t.COMPRESSED_RGBA_ASTC_12x12_KHR=37821]="COMPRESSED_RGBA_ASTC_12x12_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR=37840]="COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR=37841]="COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR=37842]="COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR=37843]="COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR=37844]="COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR=37845]="COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR=37846]="COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR=37847]="COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR=37848]="COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR=37849]="COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR=37850]="COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR=37851]="COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR=37852]="COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR=37853]="COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR",t[t.QUERY_COUNTER_BITS_EXT=34916]="QUERY_COUNTER_BITS_EXT",t[t.CURRENT_QUERY_EXT=34917]="CURRENT_QUERY_EXT",t[t.QUERY_RESULT_EXT=34918]="QUERY_RESULT_EXT",t[t.QUERY_RESULT_AVAILABLE_EXT=34919]="QUERY_RESULT_AVAILABLE_EXT",t[t.TIME_ELAPSED_EXT=35007]="TIME_ELAPSED_EXT",t[t.TIMESTAMP_EXT=36392]="TIMESTAMP_EXT",t[t.GPU_DISJOINT_EXT=36795]="GPU_DISJOINT_EXT",t[t.COMPLETION_STATUS_KHR=37297]="COMPLETION_STATUS_KHR",t[t.DEPTH_CLAMP_EXT=34383]="DEPTH_CLAMP_EXT",t[t.FIRST_VERTEX_CONVENTION_WEBGL=36429]="FIRST_VERTEX_CONVENTION_WEBGL",t[t.LAST_VERTEX_CONVENTION_WEBGL=36430]="LAST_VERTEX_CONVENTION_WEBGL",t[t.PROVOKING_VERTEX_WEBL=36431]="PROVOKING_VERTEX_WEBL",t[t.POLYGON_MODE_WEBGL=2880]="POLYGON_MODE_WEBGL",t[t.POLYGON_OFFSET_LINE_WEBGL=10754]="POLYGON_OFFSET_LINE_WEBGL",t[t.LINE_WEBGL=6913]="LINE_WEBGL",t[t.FILL_WEBGL=6914]="FILL_WEBGL",t[t.MAX_CLIP_DISTANCES_WEBGL=3378]="MAX_CLIP_DISTANCES_WEBGL",t[t.MAX_CULL_DISTANCES_WEBGL=33529]="MAX_CULL_DISTANCES_WEBGL",t[t.MAX_COMBINED_CLIP_AND_CULL_DISTANCES_WEBGL=33530]="MAX_COMBINED_CLIP_AND_CULL_DISTANCES_WEBGL",t[t.CLIP_DISTANCE0_WEBGL=12288]="CLIP_DISTANCE0_WEBGL",t[t.CLIP_DISTANCE1_WEBGL=12289]="CLIP_DISTANCE1_WEBGL",t[t.CLIP_DISTANCE2_WEBGL=12290]="CLIP_DISTANCE2_WEBGL",t[t.CLIP_DISTANCE3_WEBGL=12291]="CLIP_DISTANCE3_WEBGL",t[t.CLIP_DISTANCE4_WEBGL=12292]="CLIP_DISTANCE4_WEBGL",t[t.CLIP_DISTANCE5_WEBGL=12293]="CLIP_DISTANCE5_WEBGL",t[t.CLIP_DISTANCE6_WEBGL=12294]="CLIP_DISTANCE6_WEBGL",t[t.CLIP_DISTANCE7_WEBGL=12295]="CLIP_DISTANCE7_WEBGL",t[t.POLYGON_OFFSET_CLAMP_EXT=36379]="POLYGON_OFFSET_CLAMP_EXT",t[t.LOWER_LEFT_EXT=36001]="LOWER_LEFT_EXT",t[t.UPPER_LEFT_EXT=36002]="UPPER_LEFT_EXT",t[t.NEGATIVE_ONE_TO_ONE_EXT=37726]="NEGATIVE_ONE_TO_ONE_EXT",t[t.ZERO_TO_ONE_EXT=37727]="ZERO_TO_ONE_EXT",t[t.CLIP_ORIGIN_EXT=37724]="CLIP_ORIGIN_EXT",t[t.CLIP_DEPTH_MODE_EXT=37725]="CLIP_DEPTH_MODE_EXT",t[t.SRC1_COLOR_WEBGL=35065]="SRC1_COLOR_WEBGL",t[t.SRC1_ALPHA_WEBGL=34185]="SRC1_ALPHA_WEBGL",t[t.ONE_MINUS_SRC1_COLOR_WEBGL=35066]="ONE_MINUS_SRC1_COLOR_WEBGL",t[t.ONE_MINUS_SRC1_ALPHA_WEBGL=35067]="ONE_MINUS_SRC1_ALPHA_WEBGL",t[t.MAX_DUAL_SOURCE_DRAW_BUFFERS_WEBGL=35068]="MAX_DUAL_SOURCE_DRAW_BUFFERS_WEBGL",t[t.MIRROR_CLAMP_TO_EDGE_EXT=34627]="MIRROR_CLAMP_TO_EDGE_EXT"})(Hf||(Hf={}));const bT={3042:!1,32773:new Float32Array([0,0,0,0]),32777:32774,34877:32774,32969:1,32968:0,32971:1,32970:0,3106:new Float32Array([0,0,0,0]),3107:[!0,!0,!0,!0],2884:!1,2885:1029,2929:!1,2931:1,2932:513,2928:new Float32Array([0,1]),2930:!0,3024:!0,35725:null,36006:null,36007:null,34229:null,34964:null,2886:2305,33170:4352,2849:1,32823:!1,32824:0,10752:0,32926:!1,32928:!1,32938:1,32939:!1,3089:!1,3088:new Int32Array([0,0,1024,1024]),2960:!1,2961:0,2968:4294967295,36005:4294967295,2962:519,2967:0,2963:4294967295,34816:519,36003:0,36004:4294967295,2964:7680,2965:7680,2966:7680,34817:7680,34818:7680,34819:7680,2978:[0,0,1024,1024],36389:null,36662:null,36663:null,35053:null,35055:null,35723:4352,36010:null,35977:!1,3333:4,3317:4,37440:!1,37441:!1,37443:37444,3330:0,3332:0,3331:0,3314:0,32878:0,3316:0,3315:0,32877:0},Rr=(t,e,n)=>e?t.enable(n):t.disable(n),MM=(t,e,n)=>t.hint(n,e),ni=(t,e,n)=>t.pixelStorei(n,e),jM=(t,e,n)=>{const r=n===36006?36009:36008;return t.bindFramebuffer(r,e)},mp=(t,e,n)=>{const s={34964:34962,36662:36662,36663:36663,35053:35051,35055:35052}[n];t.bindBuffer(s,e)};function X1(t){return Array.isArray(t)||ArrayBuffer.isView(t)&&!(t instanceof DataView)}const Fse={3042:Rr,32773:(t,e)=>t.blendColor(...e),32777:"blendEquation",34877:"blendEquation",32969:"blendFunc",32968:"blendFunc",32971:"blendFunc",32970:"blendFunc",3106:(t,e)=>t.clearColor(...e),3107:(t,e)=>t.colorMask(...e),2884:Rr,2885:(t,e)=>t.cullFace(e),2929:Rr,2931:(t,e)=>t.clearDepth(e),2932:(t,e)=>t.depthFunc(e),2928:(t,e)=>t.depthRange(...e),2930:(t,e)=>t.depthMask(e),3024:Rr,35723:MM,35725:(t,e)=>t.useProgram(e),36007:(t,e)=>t.bindRenderbuffer(36161,e),36389:(t,e)=>{var n;return(n=t.bindTransformFeedback)==null?void 0:n.call(t,36386,e)},34229:(t,e)=>t.bindVertexArray(e),36006:jM,36010:jM,34964:mp,36662:mp,36663:mp,35053:mp,35055:mp,2886:(t,e)=>t.frontFace(e),33170:MM,2849:(t,e)=>t.lineWidth(e),32823:Rr,32824:"polygonOffset",10752:"polygonOffset",35977:Rr,32926:Rr,32928:Rr,32938:"sampleCoverage",32939:"sampleCoverage",3089:Rr,3088:(t,e)=>t.scissor(...e),2960:Rr,2961:(t,e)=>t.clearStencil(e),2968:(t,e)=>t.stencilMaskSeparate(1028,e),36005:(t,e)=>t.stencilMaskSeparate(1029,e),2962:"stencilFuncFront",2967:"stencilFuncFront",2963:"stencilFuncFront",34816:"stencilFuncBack",36003:"stencilFuncBack",36004:"stencilFuncBack",2964:"stencilOpFront",2965:"stencilOpFront",2966:"stencilOpFront",34817:"stencilOpBack",34818:"stencilOpBack",34819:"stencilOpBack",2978:(t,e)=>t.viewport(...e),34383:Rr,10754:Rr,12288:Rr,12289:Rr,12290:Rr,12291:Rr,12292:Rr,12293:Rr,12294:Rr,12295:Rr,3333:ni,3317:ni,37440:ni,37441:ni,37443:ni,3330:ni,3332:ni,3331:ni,3314:ni,32878:ni,3316:ni,3315:ni,32877:ni,framebuffer:(t,e)=>{const n=e&&"handle"in e?e.handle:e;return t.bindFramebuffer(36160,n)},blend:(t,e)=>e?t.enable(3042):t.disable(3042),blendColor:(t,e)=>t.blendColor(...e),blendEquation:(t,e)=>{const n=typeof e=="number"?[e,e]:e;t.blendEquationSeparate(...n)},blendFunc:(t,e)=>{const n=(e==null?void 0:e.length)===2?[...e,...e]:e;t.blendFuncSeparate(...n)},clearColor:(t,e)=>t.clearColor(...e),clearDepth:(t,e)=>t.clearDepth(e),clearStencil:(t,e)=>t.clearStencil(e),colorMask:(t,e)=>t.colorMask(...e),cull:(t,e)=>e?t.enable(2884):t.disable(2884),cullFace:(t,e)=>t.cullFace(e),depthTest:(t,e)=>e?t.enable(2929):t.disable(2929),depthFunc:(t,e)=>t.depthFunc(e),depthMask:(t,e)=>t.depthMask(e),depthRange:(t,e)=>t.depthRange(...e),dither:(t,e)=>e?t.enable(3024):t.disable(3024),derivativeHint:(t,e)=>{t.hint(35723,e)},frontFace:(t,e)=>t.frontFace(e),mipmapHint:(t,e)=>t.hint(33170,e),lineWidth:(t,e)=>t.lineWidth(e),polygonOffsetFill:(t,e)=>e?t.enable(32823):t.disable(32823),polygonOffset:(t,e)=>t.polygonOffset(...e),sampleCoverage:(t,e)=>t.sampleCoverage(e[0],e[1]||!1),scissorTest:(t,e)=>e?t.enable(3089):t.disable(3089),scissor:(t,e)=>t.scissor(...e),stencilTest:(t,e)=>e?t.enable(2960):t.disable(2960),stencilMask:(t,e)=>{e=X1(e)?e:[e,e];const[n,r]=e;t.stencilMaskSeparate(1028,n),t.stencilMaskSeparate(1029,r)},stencilFunc:(t,e)=>{e=X1(e)&&e.length===3?[...e,...e]:e;const[n,r,s,o,l,c]=e;t.stencilFuncSeparate(1028,n,r,s),t.stencilFuncSeparate(1029,o,l,c)},stencilOp:(t,e)=>{e=X1(e)&&e.length===3?[...e,...e]:e;const[n,r,s,o,l,c]=e;t.stencilOpSeparate(1028,n,r,s),t.stencilOpSeparate(1029,o,l,c)},viewport:(t,e)=>t.viewport(...e)};function fr(t,e,n){return e[t]!==void 0?e[t]:n[t]}const Bse={blendEquation:(t,e,n)=>t.blendEquationSeparate(fr(32777,e,n),fr(34877,e,n)),blendFunc:(t,e,n)=>t.blendFuncSeparate(fr(32969,e,n),fr(32968,e,n),fr(32971,e,n),fr(32970,e,n)),polygonOffset:(t,e,n)=>t.polygonOffset(fr(32824,e,n),fr(10752,e,n)),sampleCoverage:(t,e,n)=>t.sampleCoverage(fr(32938,e,n),fr(32939,e,n)),stencilFuncFront:(t,e,n)=>t.stencilFuncSeparate(1028,fr(2962,e,n),fr(2967,e,n),fr(2963,e,n)),stencilFuncBack:(t,e,n)=>t.stencilFuncSeparate(1029,fr(34816,e,n),fr(36003,e,n),fr(36004,e,n)),stencilOpFront:(t,e,n)=>t.stencilOpSeparate(1028,fr(2964,e,n),fr(2965,e,n),fr(2966,e,n)),stencilOpBack:(t,e,n)=>t.stencilOpSeparate(1029,fr(34817,e,n),fr(34818,e,n),fr(34819,e,n))},IM={enable:(t,e)=>t({[e]:!0}),disable:(t,e)=>t({[e]:!1}),pixelStorei:(t,e,n)=>t({[e]:n}),hint:(t,e,n)=>t({[e]:n}),useProgram:(t,e)=>t({35725:e}),bindRenderbuffer:(t,e,n)=>t({36007:n}),bindTransformFeedback:(t,e,n)=>t({36389:n}),bindVertexArray:(t,e)=>t({34229:e}),bindFramebuffer:(t,e,n)=>{switch(e){case 36160:return t({36006:n,36010:n});case 36009:return t({36006:n});case 36008:return t({36010:n});default:return null}},bindBuffer:(t,e,n)=>{const r={34962:[34964],36662:[36662],36663:[36663],35051:[35053],35052:[35055]}[e];return r?t({[r]:n}):{valueChanged:!0}},blendColor:(t,e,n,r,s)=>t({32773:new Float32Array([e,n,r,s])}),blendEquation:(t,e)=>t({32777:e,34877:e}),blendEquationSeparate:(t,e,n)=>t({32777:e,34877:n}),blendFunc:(t,e,n)=>t({32969:e,32968:n,32971:e,32970:n}),blendFuncSeparate:(t,e,n,r,s)=>t({32969:e,32968:n,32971:r,32970:s}),clearColor:(t,e,n,r,s)=>t({3106:new Float32Array([e,n,r,s])}),clearDepth:(t,e)=>t({2931:e}),clearStencil:(t,e)=>t({2961:e}),colorMask:(t,e,n,r,s)=>t({3107:[e,n,r,s]}),cullFace:(t,e)=>t({2885:e}),depthFunc:(t,e)=>t({2932:e}),depthRange:(t,e,n)=>t({2928:new Float32Array([e,n])}),depthMask:(t,e)=>t({2930:e}),frontFace:(t,e)=>t({2886:e}),lineWidth:(t,e)=>t({2849:e}),polygonOffset:(t,e,n)=>t({32824:e,10752:n}),sampleCoverage:(t,e,n)=>t({32938:e,32939:n}),scissor:(t,e,n,r,s)=>t({3088:new Int32Array([e,n,r,s])}),stencilMask:(t,e)=>t({2968:e,36005:e}),stencilMaskSeparate:(t,e,n)=>t({[e===1028?2968:36005]:n}),stencilFunc:(t,e,n,r)=>t({2962:e,2967:n,2963:r,34816:e,36003:n,36004:r}),stencilFuncSeparate:(t,e,n,r,s)=>t({[e===1028?2962:34816]:n,[e===1028?2967:36003]:r,[e===1028?2963:36004]:s}),stencilOp:(t,e,n,r)=>t({2964:e,2965:n,2966:r,34817:e,34818:n,34819:r}),stencilOpSeparate:(t,e,n,r,s)=>t({[e===1028?2964:34817]:n,[e===1028?2965:34818]:r,[e===1028?2966:34819]:s}),viewport:(t,e,n,r,s)=>t({2978:[e,n,r,s]})},Eo=(t,e)=>t.isEnabled(e),OM={3042:Eo,2884:Eo,2929:Eo,3024:Eo,32823:Eo,32926:Eo,32928:Eo,3089:Eo,2960:Eo,35977:Eo},Lse=new Set([34016,36388,36387,35983,35368,34965,35739,35738,3074,34853,34854,34855,34856,34857,34858,34859,34860,34861,34862,34863,34864,34865,34866,34867,34868,35097,32873,35869,32874,34068]);function Od(t,e){if($se(e))return;const n={};for(const s in e){const o=Number(s),l=Fse[s];l&&(typeof l=="string"?n[l]=!0:l(t,e[s],o))}const r=t.state&&t.state.cache;if(r)for(const s in n){const o=Bse[s];o(t,e,r)}}function n6(t,e=bT){if(typeof e=="number"){const s=e,o=OM[s];return o?o(t,s):t.getParameter(s)}const n=Array.isArray(e)?e:Object.keys(e),r={};for(const s of n){const o=OM[s];r[s]=o?o(t,Number(s)):t.getParameter(Number(s))}return r}function zse(t){Od(t,bT)}function $se(t){for(const e in t)return!1;return!0}function Hse(t,e){if(t===e)return!0;const n=Array.isArray(t)||ArrayBuffer.isView(t),r=Array.isArray(e)||ArrayBuffer.isView(e);if(n&&r&&t.length===e.length){for(let s=0;s<t.length;++s)if(t[s]!==e[s])return!1;return!0}return!1}class Qc{constructor(e,n){H(this,"gl");H(this,"program",null);H(this,"stateStack",[]);H(this,"enable",!0);H(this,"cache",null);H(this,"log");H(this,"initialized",!1);this.gl=e,this.log=(n==null?void 0:n.log)||(()=>{}),this._updateCache=this._updateCache.bind(this),Object.seal(this)}static get(e){return e.state}push(e={}){this.stateStack.push({})}pop(){const e=this.stateStack[this.stateStack.length-1];Od(this.gl,e),this.stateStack.pop()}trackState(e,n){if(this.cache=n.copyState?n6(e):Object.assign({},bT),this.initialized)throw new Error("WebGLStateTracker");this.initialized=!0,this.gl.state=this,qse(e);for(const r in IM){const s=IM[r];Wse(e,r,s)}UM(e,"getParameter"),UM(e,"isEnabled")}_updateCache(e){let n=!1,r;const s=this.stateStack.length>0?this.stateStack[this.stateStack.length-1]:null;for(const o in e){const l=e[o],c=this.cache[o];Hse(l,c)||(n=!0,r=c,s&&!(o in s)&&(s[o]=c),this.cache[o]=l)}return{valueChanged:n,oldValue:r}}}function UM(t,e){const n=t[e].bind(t);t[e]=function(s){if(s===void 0||Lse.has(s))return n(s);const o=Qc.get(t);return s in o.cache||(o.cache[s]=n(s)),o.enable?o.cache[s]:n(s)},Object.defineProperty(t[e],"name",{value:`${e}-from-cache`,configurable:!1})}function Wse(t,e,n){if(!t[e])return;const r=t[e].bind(t);t[e]=function(...o){const l=Qc.get(t),{valueChanged:c,oldValue:f}=n(l._updateCache,...o);return c&&r(...o),f},Object.defineProperty(t[e],"name",{value:`${e}-to-cache`,configurable:!1})}function qse(t){const e=t.useProgram.bind(t);t.useProgram=function(r){const s=Qc.get(t);s.program!==r&&(e(r),s.program=r)}}function Xse(t,e,n){let r="";const s={preserveDrawingBuffer:!0,...n};let o=null;if(o||(o=t.getContext("webgl2",s)),s.failIfMajorPerformanceCaveat&&(r||(r="Only software GPU is available. Set `failIfMajorPerformanceCaveat: false` to allow.")),!o&&!n.failIfMajorPerformanceCaveat&&(s.failIfMajorPerformanceCaveat=!1,o=t.getContext("webgl2",s),o.luma||(o.luma={}),o.luma.softwareRenderer=!0),o||(o=t.getContext("webgl",{}),o&&(o=null,r||(r="Your browser only supports WebGL1"))),!o)throw r||(r="Your browser does not support WebGL"),new Error(`Failed to create WebGL context: ${r}`);const{onContextLost:l,onContextRestored:c}=e;return t.addEventListener("webglcontextlost",f=>l(f),!1),t.addEventListener("webglcontextrestored",f=>c(f),!1),o.luma||(o.luma={}),o}function Td(t,e,n){return n[e]===void 0&&(n[e]=t.getExtension(e)||null),n[e]}function Yse(t,e){const n=t.getParameter(7936),r=t.getParameter(7937);Td(t,"WEBGL_debug_renderer_info",e);const s=e.WEBGL_debug_renderer_info,o=t.getParameter(s?s.UNMASKED_VENDOR_WEBGL:7936),l=t.getParameter(s?s.UNMASKED_RENDERER_WEBGL:7937),c=o||n,f=l||r,h=t.getParameter(7938),p=r6(c,f),m=Kse(c,f),b=Zse(c,f);return{type:"webgl",gpu:p,gpuType:b,gpuBackend:m,vendor:c,renderer:f,version:h,shadingLanguage:"glsl",shadingLanguageVersion:300}}function r6(t,e){return/NVIDIA/i.exec(t)||/NVIDIA/i.exec(e)?"nvidia":/INTEL/i.exec(t)||/INTEL/i.exec(e)?"intel":/Apple/i.exec(t)||/Apple/i.exec(e)?"apple":/AMD/i.exec(t)||/AMD/i.exec(e)||/ATI/i.exec(t)||/ATI/i.exec(e)?"amd":/SwiftShader/i.exec(t)||/SwiftShader/i.exec(e)?"software":"unknown"}function Kse(t,e){return/Metal/i.exec(t)||/Metal/i.exec(e)?"metal":/ANGLE/i.exec(t)||/ANGLE/i.exec(e)?"opengl":"unknown"}function Zse(t,e){if(/SwiftShader/i.exec(t)||/SwiftShader/i.exec(e))return"cpu";switch(r6(t,e)){case"intel":return"integrated";case"software":return"cpu";case"unknown":return"unknown";default:return"discrete"}}function s6(t){switch(t){case"uint8":return 5121;case"sint8":return 5120;case"unorm8":return 5121;case"snorm8":return 5120;case"uint16":return 5123;case"sint16":return 5122;case"unorm16":return 5123;case"snorm16":return 5122;case"uint32":return 5125;case"sint32":return 5124;case"float16":return 5131;case"float32":return 5126}throw new Error(String(t))}const kp="WEBGL_compressed_texture_s3tc",Pp="WEBGL_compressed_texture_s3tc_srgb",Wf="EXT_texture_compression_rgtc",qf="EXT_texture_compression_bptc",Gse="WEBGL_compressed_texture_etc",Qse="WEBGL_compressed_texture_astc",Jse="WEBGL_compressed_texture_etc1",eie="WEBGL_compressed_texture_pvrtc",tie="WEBGL_compressed_texture_atc",VM="EXT_texture_norm16",FM="EXT_render_snorm",nie="EXT_color_buffer_float",xT={"float32-renderable-webgl":["EXT_color_buffer_float"],"float16-renderable-webgl":["EXT_color_buffer_half_float"],"rgb9e5ufloat-renderable-webgl":["WEBGL_render_shared_exponent"],"snorm8-renderable-webgl":[FM],"norm16-renderable-webgl":[VM],"snorm16-renderable-webgl":[VM,FM],"float32-filterable":["OES_texture_float_linear"],"float16-filterable-webgl":["OES_texture_half_float_linear"],"texture-filterable-anisotropic-webgl":["EXT_texture_filter_anisotropic"],"texture-blend-float-webgl":["EXT_float_blend"],"texture-compression-bc":[kp,Pp,Wf,qf],"texture-compression-bc5-webgl":[Wf],"texture-compression-bc7-webgl":[qf],"texture-compression-etc2":[Gse],"texture-compression-astc":[Qse],"texture-compression-etc1-webgl":[Jse],"texture-compression-pvrtc-webgl":[eie],"texture-compression-atc-webgl":[tie]};function rie(t){return t in xT}function sie(t,e,n){return(xT[e]||[]).every(s=>Td(t,s,n))}const yT={r8unorm:{gl:33321,rb:!0},r8snorm:{gl:36756},r8uint:{gl:33330,rb:!0},r8sint:{gl:33329,rb:!0},rg8unorm:{gl:33323,rb:!0},rg8snorm:{gl:36757},rg8uint:{gl:33336,rb:!0},rg8sint:{gl:33335,rb:!0},r16uint:{gl:33332,rb:!0},r16sint:{gl:33331,rb:!0},r16float:{gl:33325,rb:!0},"r16unorm-webgl":{gl:33322,rb:!0},"r16snorm-webgl":{gl:36760},"rgba4unorm-webgl":{gl:32854,rb:!0},"rgb565unorm-webgl":{gl:36194,rb:!0},"rgb5a1unorm-webgl":{gl:32855,rb:!0},"rgb8unorm-webgl":{gl:32849},"rgb8snorm-webgl":{gl:36758},rgba8unorm:{gl:32856},"rgba8unorm-srgb":{gl:35907},rgba8snorm:{gl:36759},rgba8uint:{gl:36220},rgba8sint:{gl:36238},bgra8unorm:{},"bgra8unorm-srgb":{},rg16uint:{gl:33338},rg16sint:{gl:33337},rg16float:{gl:33327,rb:!0},"rg16unorm-webgl":{gl:33324},"rg16snorm-webgl":{gl:36761},r32uint:{gl:33334,rb:!0},r32sint:{gl:33333,rb:!0},r32float:{gl:33326},rgb9e5ufloat:{gl:35901},rg11b10ufloat:{gl:35898,rb:!0},rgb10a2unorm:{gl:32857,rb:!0},"rgb10a2uint-webgl":{gl:36975,rb:!0},"rgb16unorm-webgl":{gl:32852},"rgb16snorm-webgl":{gl:36762},rg32uint:{gl:33340,rb:!0},rg32sint:{gl:33339,rb:!0},rg32float:{gl:33328,rb:!0},rgba16uint:{gl:36214,rb:!0},rgba16sint:{gl:36232,rb:!0},rgba16float:{gl:34842},"rgba16unorm-webgl":{gl:32859,rb:!0},"rgba16snorm-webgl":{gl:36763},"rgb32float-webgl":{gl:34837,x:nie,dataFormat:6407,types:[5126]},rgba32uint:{gl:36208,rb:!0},rgba32sint:{gl:36226,rb:!0},rgba32float:{gl:34836,rb:!0},stencil8:{gl:36168,rb:!0},depth16unorm:{gl:33189,dataFormat:6402,types:[5123],rb:!0},depth24plus:{gl:33190,dataFormat:6402,types:[5125]},depth32float:{gl:36012,dataFormat:6402,types:[5126],rb:!0},"depth24plus-stencil8":{gl:35056,rb:!0,depthTexture:!0,dataFormat:34041,types:[34042]},"depth32float-stencil8":{gl:36013,dataFormat:34041,types:[36269],rb:!0},"bc1-rgb-unorm-webgl":{gl:33776,x:kp},"bc1-rgb-unorm-srgb-webgl":{gl:35916,x:Pp},"bc1-rgba-unorm":{gl:33777,x:kp},"bc1-rgba-unorm-srgb":{gl:35916,x:Pp},"bc2-rgba-unorm":{gl:33778,x:kp},"bc2-rgba-unorm-srgb":{gl:35918,x:Pp},"bc3-rgba-unorm":{gl:33779,x:kp},"bc3-rgba-unorm-srgb":{gl:35919,x:Pp},"bc4-r-unorm":{gl:36283,x:Wf},"bc4-r-snorm":{gl:36284,x:Wf},"bc5-rg-unorm":{gl:36285,x:Wf},"bc5-rg-snorm":{gl:36286,x:Wf},"bc6h-rgb-ufloat":{gl:36495,x:qf},"bc6h-rgb-float":{gl:36494,x:qf},"bc7-rgba-unorm":{gl:36492,x:qf},"bc7-rgba-unorm-srgb":{gl:36493,x:qf},"etc2-rgb8unorm":{gl:37492},"etc2-rgb8unorm-srgb":{gl:37494},"etc2-rgb8a1unorm":{gl:37496},"etc2-rgb8a1unorm-srgb":{gl:37497},"etc2-rgba8unorm":{gl:37493},"etc2-rgba8unorm-srgb":{gl:37495},"eac-r11unorm":{gl:37488},"eac-r11snorm":{gl:37489},"eac-rg11unorm":{gl:37490},"eac-rg11snorm":{gl:37491},"astc-4x4-unorm":{gl:37808},"astc-4x4-unorm-srgb":{gl:37840},"astc-5x4-unorm":{gl:37809},"astc-5x4-unorm-srgb":{gl:37841},"astc-5x5-unorm":{gl:37810},"astc-5x5-unorm-srgb":{gl:37842},"astc-6x5-unorm":{gl:37811},"astc-6x5-unorm-srgb":{gl:37843},"astc-6x6-unorm":{gl:37812},"astc-6x6-unorm-srgb":{gl:37844},"astc-8x5-unorm":{gl:37813},"astc-8x5-unorm-srgb":{gl:37845},"astc-8x6-unorm":{gl:37814},"astc-8x6-unorm-srgb":{gl:37846},"astc-8x8-unorm":{gl:37815},"astc-8x8-unorm-srgb":{gl:37847},"astc-10x5-unorm":{gl:37819},"astc-10x5-unorm-srgb":{gl:37851},"astc-10x6-unorm":{gl:37817},"astc-10x6-unorm-srgb":{gl:37849},"astc-10x8-unorm":{gl:37818},"astc-10x8-unorm-srgb":{gl:37850},"astc-10x10-unorm":{gl:37819},"astc-10x10-unorm-srgb":{gl:37851},"astc-12x10-unorm":{gl:37820},"astc-12x10-unorm-srgb":{gl:37852},"astc-12x12-unorm":{gl:37821},"astc-12x12-unorm-srgb":{gl:37853},"pvrtc-rgb4unorm-webgl":{gl:35840},"pvrtc-rgba4unorm-webgl":{gl:35842},"pvrtc-rbg2unorm-webgl":{gl:35841},"pvrtc-rgba2unorm-webgl":{gl:35843},"etc1-rbg-unorm-webgl":{gl:36196},"atc-rgb-unorm-webgl":{gl:35986},"atc-rgba-unorm-webgl":{gl:35986},"atc-rgbai-unorm-webgl":{gl:34798}};function iie(t,e,n){let r=e.create;const s=yT[e.format];return(s==null?void 0:s.gl)===void 0&&(r=!1),s!=null&&s.x&&(r=r&&!!Td(t,s.x,n)),{format:e.format,create:r&&e.create,render:r&&e.render,filter:r&&e.filter,blend:r&&e.blend,store:r&&e.store}}function i6(t){var s;const e=yT[t],n=lie(t),r=nT(t);return{internalFormat:n,format:(e==null?void 0:e.dataFormat)||aie(r.channels,r.integer,r.normalized,n),type:r.dataType?s6(r.dataType):((s=e==null?void 0:e.types)==null?void 0:s[0])||5121,compressed:r.compressed||!1}}function oie(t){switch(nT(t).attachment){case"depth":return 36096;case"stencil":return 36128;case"depth-stencil":return 33306;default:throw new Error(`Not a depth stencil format: ${t}`)}}function aie(t,e,n,r){if(r===6408||r===6407)return r;switch(t){case"r":return e&&!n?36244:6403;case"rg":return e&&!n?33320:33319;case"rgb":return e&&!n?36248:6407;case"rgba":return e&&!n?36249:6408;case"bgra":throw new Error("bgra pixels not supported by WebGL");default:return 6408}}function lie(t){const e=yT[t],n=e==null?void 0:e.gl;if(n===void 0)throw new Error(`Unsupported texture format ${t}`);return n}const BM={"depth-clip-control":"EXT_depth_clamp","timer-query-webgl":"EXT_disjoint_timer_query_webgl2","compilation-status-async-webgl":"KHR_parallel_shader_compile","polygon-mode-webgl":"WEBGL_polygon_mode","provoking-vertex-webgl":"WEBGL_provoking_vertex","shader-clip-cull-distance-webgl":"WEBGL_clip_cull_distance","shader-noperspective-interpolation-webgl":"NV_shader_noperspective_interpolation","shader-conservative-depth-webgl":"EXT_conservative_depth"};class cie extends eJ{constructor(n,r,s){super([],s);H(this,"gl");H(this,"extensions");H(this,"testedFeatures",new Set);this.gl=n,this.extensions=r,Td(n,"EXT_color_buffer_float",r)}*[Symbol.iterator](){const n=this.getFeatures();for(const r of n)this.has(r)&&(yield r);return[]}has(n){var r;return(r=this.disabledFeatures)!=null&&r[n]?!1:(this.testedFeatures.has(n)||(this.testedFeatures.add(n),rie(n)&&sie(this.gl,n,this.extensions)&&this.features.add(n),this.getWebGLFeature(n)&&this.features.add(n)),this.features.has(n))}initializeFeatures(){const n=this.getFeatures().filter(r=>r!=="polygon-mode-webgl");for(const r of n)this.has(r)}getFeatures(){return[...Object.keys(BM),...Object.keys(xT)]}getWebGLFeature(n){const r=BM[n];return typeof r=="string"?!!Td(this.gl,r,this.extensions):!!r}}class uie extends JQ{constructor(n){super();H(this,"gl");H(this,"limits",{});this.gl=n}get maxTextureDimension1D(){return 0}get maxTextureDimension2D(){return this.getParameter(3379)}get maxTextureDimension3D(){return this.getParameter(32883)}get maxTextureArrayLayers(){return this.getParameter(35071)}get maxBindGroups(){return 0}get maxDynamicUniformBuffersPerPipelineLayout(){return 0}get maxDynamicStorageBuffersPerPipelineLayout(){return 0}get maxSampledTexturesPerShaderStage(){return this.getParameter(35660)}get maxSamplersPerShaderStage(){return this.getParameter(35661)}get maxStorageBuffersPerShaderStage(){return 0}get maxStorageTexturesPerShaderStage(){return 0}get maxUniformBuffersPerShaderStage(){return this.getParameter(35375)}get maxUniformBufferBindingSize(){return this.getParameter(35376)}get maxStorageBufferBindingSize(){return 0}get minUniformBufferOffsetAlignment(){return this.getParameter(35380)}get minStorageBufferOffsetAlignment(){return 0}get maxVertexBuffers(){return 16}get maxVertexAttributes(){return this.getParameter(34921)}get maxVertexBufferArrayStride(){return 2048}get maxInterStageShaderComponents(){return this.getParameter(35659)}get maxComputeWorkgroupStorageSize(){return 0}get maxComputeInvocationsPerWorkgroup(){return 0}get maxComputeWorkgroupSizeX(){return 0}get maxComputeWorkgroupSizeY(){return 0}get maxComputeWorkgroupSizeZ(){return 0}get maxComputeWorkgroupsPerDimension(){return 0}getParameter(n){return this.limits[n]===void 0&&(this.limits[n]=this.gl.getParameter(n)),this.limits[n]||0}}class Fp extends Jx{constructor(n,r){super(n,r);H(this,"device");H(this,"gl");H(this,"handle");H(this,"colorAttachments",[]);H(this,"depthStencilAttachment",null);const s=r.handle===null;this.device=n,this.gl=n.gl,this.handle=this.props.handle||s?this.props.handle:this.gl.createFramebuffer(),s||(n.setSpectorMetadata(this.handle,{id:this.props.id,props:this.props}),this.autoCreateAttachmentTextures(),this.updateAttachments())}destroy(){super.destroy(),!this.destroyed&&this.handle!==null&&this.gl.deleteFramebuffer(this.handle)}updateAttachments(){const n=this.gl.bindFramebuffer(36160,this.handle);for(let r=0;r<this.colorAttachments.length;++r){const s=this.colorAttachments[r];if(s){const o=36064+r;this._attachTextureView(o,s)}}if(this.depthStencilAttachment){const r=oie(this.depthStencilAttachment.props.format);this._attachTextureView(r,this.depthStencilAttachment)}if(this.device.props.debug){const r=this.gl.checkFramebufferStatus(36160);if(r!==36053)throw new Error(`Framebuffer ${die(r)}`)}this.gl.bindFramebuffer(36160,n)}_attachTextureView(n,r){const{gl:s}=this.device,{texture:o}=r,l=r.props.baseMipLevel,c=r.props.baseArrayLayer;switch(s.bindTexture(o.glTarget,o.handle),o.glTarget){case 35866:case 32879:s.framebufferTextureLayer(36160,n,o.handle,l,c);break;case 34067:const f=fie(c);s.framebufferTexture2D(36160,n,f,o.handle,l);break;case 3553:s.framebufferTexture2D(36160,n,3553,o.handle,l);break;default:throw new Error("Illegal texture type")}s.bindTexture(o.glTarget,null)}}function fie(t){return t<34069?t+34069:t}function die(t){switch(t){case 36053:return"success";case 36054:return"Mismatched attachments";case 36055:return"No attachments";case 36057:return"Height/width mismatch";case 36061:return"Unsupported or split attachments";case 36182:return"Samples mismatch";default:return`${t}`}}class hie extends pS{constructor(n,r){super(r);H(this,"device");H(this,"format","rgba8unorm");H(this,"depthStencilFormat","depth24plus");H(this,"presentationSize");H(this,"_framebuffer",null);this.device=n,this.presentationSize=[-1,-1],this._setAutoCreatedCanvasId(`${this.device.id}-canvas`),this.update()}get[Symbol.toStringTag](){return"WebGLCanvasContext"}getCurrentFramebuffer(){return this.update(),this._framebuffer=this._framebuffer||new Fp(this.device,{handle:null}),this._framebuffer}update(){const n=this.getPixelSize();(n[0]!==this.presentationSize[0]||n[1]!==this.presentationSize[1])&&(this.presentationSize=n,this.resize())}resize(n){if(this.device.gl&&this.canvas){const r=this.getDevicePixelRatio(n==null?void 0:n.useDevicePixels);this.setDevicePixelRatio(r,n);return}}commit(){}}async function o6(t,e){const n=document.getElementsByTagName("head")[0];if(!n)throw new Error("loadScript");const r=document.createElement("script");return r.setAttribute("type","text/javascript"),r.setAttribute("src",t),new Promise((s,o)=>{r.onload=s,r.onerror=l=>o(new Error(`Unable to load script '${t}': ${l}`)),n.appendChild(r)})}const pie=1;let $n=null,LM=!1;const vT={debugSpectorJS:ot.get("debug-spectorjs"),debugSpectorJSUrl:"https://cdn.jsdelivr.net/npm/spectorjs@0.9.30/dist/spector.bundle.js",gl:void 0};async function mie(t){if(!globalThis.SPECTOR)try{await o6(t.debugSpectorJSUrl||vT.debugSpectorJSUrl)}catch(e){ot.warn(String(e))}}function gie(t){var e;if(t={...vT,...t},!t.debugSpectorJS)return null;if(!$n&&globalThis.SPECTOR&&!((e=globalThis.luma)!=null&&e.spector)){ot.probe(pie,"SPECTOR found and initialized. Start with `luma.spector.displayUI()`")();const{Spector:n}=globalThis.SPECTOR;$n=new n,globalThis.luma&&(globalThis.luma.spector=$n)}if(!$n)return null;if(LM||(LM=!0,$n.spyCanvases(),$n==null||$n.onCaptureStarted.add(n=>ot.info("Spector capture started:",n)()),$n==null||$n.onCapture.add(n=>{ot.info("Spector capture complete:",n)(),$n==null||$n.getResultUI(),$n==null||$n.resultView.display(),$n==null||$n.resultView.addCapture(n)})),t.gl){const n=t.gl,r=n.device;$n==null||$n.startCapture(t.gl,500),n.device=r,new Promise(s=>setTimeout(s,2e3)).then(s=>{ot.info("Spector capture stopped after 2 seconds")(),$n==null||$n.stopCapture()})}return $n}const bie="https://unpkg.com/webgl-debug@2.0.1/index.js";function a6(t){return t.luma=t.luma||{},t.luma}async function xie(){xu()&&!globalThis.WebGLDebugUtils&&(globalThis.global=globalThis.global||globalThis,globalThis.global.module={},await o6(bie))}function yie(t,e={}){return e.debugWebGL||e.traceWebGL?_ie(t,e):vie(t)}function vie(t){const e=a6(t);return e.realContext?e.realContext:t}function _ie(t,e){if(!globalThis.WebGLDebugUtils)return ot.warn("webgl-debug not loaded")(),t;const n=a6(t);if(n.debugContext)return n.debugContext;globalThis.WebGLDebugUtils.init({...Hf,...t});const r=globalThis.WebGLDebugUtils.makeDebugContext(t,wie.bind(null,e),Nie.bind(null,e));for(const l in Hf)!(l in r)&&typeof Hf[l]=="number"&&(r[l]=Hf[l]);class s{}Object.setPrototypeOf(r,Object.getPrototypeOf(t)),Object.setPrototypeOf(s,r);const o=Object.create(s);return n.realContext=t,n.debugContext=o,o.debug=!0,o}function zM(t,e){e=Array.from(e).map(r=>r===void 0?"undefined":r);let n=globalThis.WebGLDebugUtils.glFunctionArgsToString(t,e);return n=`${n.slice(0,100)}${n.length>100?"...":""}`,`gl.${t}(${n})`}function wie(t,e,n,r){r=Array.from(r).map(c=>c===void 0?"undefined":c);const s=globalThis.WebGLDebugUtils.glEnumToString(e),o=globalThis.WebGLDebugUtils.glFunctionArgsToString(n,r),l=`${s} in gl.${n}(${o})`;ot.error(l)();debugger}function Nie(t,e,n){let r="";ot.level>=1&&(r=zM(e,n),t.traceWebGL&&ot.log(1,r)());for(const s of n)if(s===void 0){r=r||zM(e,n);debugger}}const Y1={};function Sie(t="id"){Y1[t]=Y1[t]||1;const e=Y1[t]++;return`${t}-${e}`}class Bp extends nr{constructor(n,r={}){super(n,r);H(this,"device");H(this,"gl");H(this,"handle");H(this,"glTarget");H(this,"glUsage");H(this,"glIndexType",5123);H(this,"byteLength");H(this,"bytesUsed");this.device=n,this.gl=this.device.gl;const s=typeof r=="object"?r.handle:void 0;this.handle=s||this.gl.createBuffer(),n.setSpectorMetadata(this.handle,{...this.props,data:typeof this.props.data}),this.glTarget=Eie(this.props.usage),this.glUsage=Tie(this.props.usage),this.glIndexType=this.props.indexType==="uint32"?5125:5123,r.data?this._initWithData(r.data,r.byteOffset,r.byteLength):this._initWithByteLength(r.byteLength||0)}_initWithData(n,r=0,s=n.byteLength+r){const o=this.glTarget;this.gl.bindBuffer(o,this.handle),this.gl.bufferData(o,s,this.glUsage),this.gl.bufferSubData(o,r,n),this.gl.bindBuffer(o,null),this.bytesUsed=s,this.byteLength=s,this._setDebugData(n,r,s),this.trackAllocatedMemory(s)}_initWithByteLength(n){let r=n;n===0&&(r=new Float32Array(0));const s=this.glTarget;return this.gl.bindBuffer(s,this.handle),this.gl.bufferData(s,r,this.glUsage),this.gl.bindBuffer(s,null),this.bytesUsed=n,this.byteLength=n,this._setDebugData(null,0,n),this.trackAllocatedMemory(n),this}destroy(){!this.destroyed&&this.handle&&(this.removeStats(),this.trackDeallocatedMemory(),this.gl.deleteBuffer(this.handle),this.destroyed=!0,this.handle=null)}write(n,r=0){this.gl.bindBuffer(36663,this.handle),this.gl.bufferSubData(36663,r,n),this.gl.bindBuffer(36663,null),this._setDebugData(n,r,n.byteLength)}async readAsync(n=0,r){return this.readSyncWebGL(n,r)}readSyncWebGL(n=0,r){r=r??this.byteLength-n;const s=new Uint8Array(r),o=0;return this.gl.bindBuffer(36662,this.handle),this.gl.getBufferSubData(36662,n,s,o,r),this.gl.bindBuffer(36662,null),this._setDebugData(s,n,r),s}}function Eie(t){return t&nr.INDEX?34963:t&nr.VERTEX?34962:t&nr.UNIFORM?35345:34962}function Tie(t){return t&nr.INDEX||t&nr.VERTEX?35044:t&nr.UNIFORM?35048:35044}function Aie(t){const e=t.split(/\r?\n/),n=[];for(const r of e){if(r.length<=1)continue;const s=r.split(":");if(s.length===2){const[m,b]=s;n.push({message:b.trim(),type:$M(m),lineNum:0,linePos:0});continue}const[o,l,c,...f]=s;let h=parseInt(c,10);isNaN(h)&&(h=0);let p=parseInt(l,10);isNaN(p)&&(p=0),n.push({message:f.join(":").trim(),type:$M(o),lineNum:h,linePos:p})}return n}function $M(t){const e=["warning","error","info"],n=t.toLowerCase();return e.includes(n)?n:"info"}class Cie extends Gx{constructor(n,r){super(n,r);H(this,"device");H(this,"handle");switch(this.device=n,this.props.stage){case"vertex":this.handle=this.props.handle||this.device.gl.createShader(35633);break;case"fragment":this.handle=this.props.handle||this.device.gl.createShader(35632);break;default:throw new Error(this.props.stage)}this._compile(this.source)}destroy(){this.handle&&(this.removeStats(),this.device.gl.deleteShader(this.handle),this.destroyed=!0)}get asyncCompilationStatus(){return this._waitForCompilationComplete().then(()=>this.compilationStatus)}async getCompilationInfo(){return await this._waitForCompilationComplete(),this.getCompilationInfoSync()}getCompilationInfoSync(){const n=this.device.gl.getShaderInfoLog(this.handle);return n?Aie(n):[]}getTranslatedSource(){const r=this.device.getExtension("WEBGL_debug_shaders").WEBGL_debug_shaders;return(r==null?void 0:r.getTranslatedShaderSource(this.handle))||null}async _compile(n){n=n.startsWith("#version ")?n:`#version 300 es
${n}`;const{gl:r}=this.device;if(r.shaderSource(this.handle,n),r.compileShader(this.handle),!this.device.props.debug){this.compilationStatus="pending";return}if(!this.device.features.has("compilation-status-async-webgl")){if(this._getCompilationStatus(),this.debugShader(),this.compilationStatus==="error")throw new Error(`GLSL compilation errors in ${this.props.stage} shader ${this.props.id}`);return}ot.once(1,"Shader compilation is asynchronous")(),await this._waitForCompilationComplete(),ot.info(2,`Shader ${this.id} - async compilation complete: ${this.compilationStatus}`)(),this._getCompilationStatus(),this.debugShader()}async _waitForCompilationComplete(){const n=async o=>await new Promise(l=>setTimeout(l,o));if(!this.device.features.has("compilation-status-async-webgl")){await n(10);return}const{gl:s}=this.device;for(;;){if(s.getShaderParameter(this.handle,37297))return;await n(10)}}_getCompilationStatus(){this.compilationStatus=this.device.gl.getShaderParameter(this.handle,35713)?"success":"error"}}function Rie(t,e,n,r){if(Mie(e))return r(t);const s=t;s.pushState();try{return kie(t,e),Od(s.gl,n),r(t)}finally{s.popState()}}function kie(t,e){const n=t,{gl:r}=n;if(e.cullMode)switch(e.cullMode){case"none":r.disable(2884);break;case"front":r.enable(2884),r.cullFace(1028);break;case"back":r.enable(2884),r.cullFace(1029);break}if(e.frontFace&&r.frontFace(Jc("frontFace",e.frontFace,{ccw:2305,cw:2304})),e.unclippedDepth&&t.features.has("depth-clip-control")&&r.enable(34383),e.depthBias!==void 0&&(r.enable(32823),r.polygonOffset(e.depthBias,e.depthBiasSlopeScale||0)),e.provokingVertex&&t.features.has("provoking-vertex-webgl")){const o=n.getExtension("WEBGL_provoking_vertex").WEBGL_provoking_vertex,l=Jc("provokingVertex",e.provokingVertex,{first:36429,last:36430});o==null||o.provokingVertexWEBGL(l)}if((e.polygonMode||e.polygonOffsetLine)&&t.features.has("polygon-mode-webgl")){if(e.polygonMode){const o=n.getExtension("WEBGL_polygon_mode").WEBGL_polygon_mode,l=Jc("polygonMode",e.polygonMode,{fill:6914,line:6913});o==null||o.polygonModeWEBGL(1028,l),o==null||o.polygonModeWEBGL(1029,l)}e.polygonOffsetLine&&r.enable(10754)}if(t.features.has("shader-clip-cull-distance-webgl")&&(e.clipDistance0&&r.enable(12288),e.clipDistance1&&r.enable(12289),e.clipDistance2&&r.enable(12290),e.clipDistance3&&r.enable(12291),e.clipDistance4&&r.enable(12292),e.clipDistance5&&r.enable(12293),e.clipDistance6&&r.enable(12294),e.clipDistance7&&r.enable(12295)),e.depthWriteEnabled!==void 0&&r.depthMask(Die("depthWriteEnabled",e.depthWriteEnabled)),e.depthCompare&&(e.depthCompare!=="always"?r.enable(2929):r.disable(2929),r.depthFunc(FS("depthCompare",e.depthCompare))),e.stencilWriteMask){const s=e.stencilWriteMask;r.stencilMaskSeparate(1028,s),r.stencilMaskSeparate(1029,s)}if(e.stencilReadMask&&ot.warn("stencilReadMask not supported under WebGL"),e.stencilCompare){const s=e.stencilReadMask||4294967295,o=FS("depthCompare",e.stencilCompare);e.stencilCompare!=="always"?r.enable(2960):r.disable(2960),r.stencilFuncSeparate(1028,o,0,s),r.stencilFuncSeparate(1029,o,0,s)}if(e.stencilPassOperation&&e.stencilFailOperation&&e.stencilDepthFailOperation){const s=K1("stencilPassOperation",e.stencilPassOperation),o=K1("stencilFailOperation",e.stencilFailOperation),l=K1("stencilDepthFailOperation",e.stencilDepthFailOperation);r.stencilOpSeparate(1028,o,l,s),r.stencilOpSeparate(1029,o,l,s)}switch(e.blend){case!0:r.enable(3042);break;case!1:r.disable(3042);break}if(e.blendColorOperation||e.blendAlphaOperation){const s=HM("blendColorOperation",e.blendColorOperation||"add"),o=HM("blendAlphaOperation",e.blendAlphaOperation||"add");r.blendEquationSeparate(s,o);const l=tx("blendColorSrcFactor",e.blendColorSrcFactor||"one"),c=tx("blendColorDstFactor",e.blendColorDstFactor||"zero"),f=tx("blendAlphaSrcFactor",e.blendAlphaSrcFactor||"one"),h=tx("blendAlphaDstFactor",e.blendAlphaDstFactor||"zero");r.blendFuncSeparate(l,c,f,h)}}function FS(t,e){return Jc(t,e,{never:512,less:513,equal:514,"less-equal":515,greater:516,"not-equal":517,"greater-equal":518,always:519})}function K1(t,e){return Jc(t,e,{keep:7680,zero:0,replace:7681,invert:5386,"increment-clamp":7682,"decrement-clamp":7683,"increment-wrap":34055,"decrement-wrap":34056})}function HM(t,e){return Jc(t,e,{add:32774,subtract:32778,"reverse-subtract":32779,min:32775,max:32776})}function tx(t,e){return Jc(t,e,{one:1,zero:0,"src-color":768,"one-minus-src-color":769,"dst-color":774,"one-minus-dst-color":775,"src-alpha":770,"one-minus-src-alpha":771,"dst-alpha":772,"one-minus-dst-alpha":773,"src-alpha-saturated":776,"constant-color":32769,"one-minus-constant-color":32770,"constant-alpha":32771,"one-minus-constant-alpha":32772})}function Pie(t,e){return`Illegal parameter ${e} for ${t}`}function Jc(t,e,n){if(!(e in n))throw new Error(Pie(t,e));return n[e]}function Die(t,e){return e}function Mie(t){let e=!0;for(const n in t){e=!1;break}return e}function l6(t){const e={};return t.addressModeU&&(e[10242]=Z1(t.addressModeU)),t.addressModeV&&(e[10243]=Z1(t.addressModeV)),t.addressModeW&&(e[32882]=Z1(t.addressModeW)),t.magFilter&&(e[10240]=BS(t.magFilter)),(t.minFilter||t.mipmapFilter)&&(e[10241]=jie(t.minFilter||"linear",t.mipmapFilter)),t.lodMinClamp!==void 0&&(e[33082]=t.lodMinClamp),t.lodMaxClamp!==void 0&&(e[33083]=t.lodMaxClamp),t.type==="comparison-sampler"&&(e[34892]=34894),t.compare&&(e[34893]=FS("compare",t.compare)),t.maxAnisotropy&&(e[34046]=t.maxAnisotropy),e}function Z1(t){switch(t){case"clamp-to-edge":return 33071;case"repeat":return 10497;case"mirror-repeat":return 33648}}function BS(t){switch(t){case"nearest":return 9728;case"linear":return 9729}}function jie(t,e="none"){if(!e)return BS(t);switch(e){case"none":return BS(t);case"nearest":return t==="nearest"?9984:9986;case"linear":return t==="nearest"?9985:9987}}class LS extends Qx{constructor(n,r){super(n,r);H(this,"device");H(this,"handle");H(this,"parameters");this.device=n,this.parameters=l6(r),this.handle=this.handle||this.device.gl.createSampler(),this._setSamplerParameters(this.parameters)}destroy(){this.handle&&(this.device.gl.deleteSampler(this.handle),this.handle=void 0)}toString(){return`Sampler(${this.id},${JSON.stringify(this.props)})`}_setSamplerParameters(n){for(const[r,s]of Object.entries(n)){const o=Number(r);switch(o){case 33082:case 33083:this.device.gl.samplerParameterf(this.handle,o,s);break;default:this.device.gl.samplerParameteri(this.handle,o,s);break}}}}class Xf extends Zx{constructor(n,r){super(n,{...hr.defaultProps,...r});H(this,"device");H(this,"gl");H(this,"handle");H(this,"texture");this.device=n,this.gl=this.device.gl,this.handle=null,this.texture=r.texture}}const Iie="Failed to deduce GL constant from typed array";function Oie(t){switch(ArrayBuffer.isView(t)?t.constructor:t){case Float32Array:return 5126;case Uint16Array:return 5123;case Uint32Array:return 5125;case Uint8Array:return 5121;case Uint8ClampedArray:return 5121;case Int8Array:return 5120;case Int16Array:return 5122;case Int32Array:return 5124;default:throw new Error(Iie)}}function Uie(t,e){const{clamped:n=!0}=e||{};switch(t){case 5126:return Float32Array;case 5123:case 33635:case 32819:case 32820:return Uint16Array;case 5125:return Uint32Array;case 5121:return n?Uint8ClampedArray:Uint8Array;case 5120:return Int8Array;case 5122:return Int16Array;case 5124:return Int32Array;default:throw new Error("Failed to deduce typed array type from GL constant")}}function c6(t){switch(t){case 6406:case 33326:case 6403:case 36244:return 1;case 33339:case 33340:case 33328:case 33320:case 33319:return 2;case 6407:case 36248:case 34837:return 3;case 6408:case 36249:case 34836:return 4;default:return 0}}function Vie(t){switch(t){case 5121:return 1;case 33635:case 32819:case 32820:return 2;case 5126:return 4;default:return 0}}function py(t,e,n){if(Fie(e))return n(t);const{nocatch:r=!0}=e,s=Qc.get(t);s.push(),Od(t,e);let o;if(r)o=n(t),s.pop();else try{o=n(t)}finally{s.pop()}return o}function Fie(t){for(const e in t)return!1;return!0}function Bie(t,e,n){const{dimension:r,width:s,height:o,depth:l=0}=n,{glInternalFormat:c}=n,f=n.glTarget;switch(r){case"2d-array":case"3d":t.texStorage3D(f,e,c,s,o,l);break;default:t.texStorage2D(f,e,c,s,o)}}function WM(t,e,n,r){const{width:s,height:o}=r,{dimension:l,depth:c=0,mipLevel:f=0}=r,{x:h=0,y:p=0,z:m=0}=r,{glFormat:b,glType:_}=r,E=u6(r.glTarget,l,c),T=r.flipY?{37440:!0}:{};py(t,T,()=>{switch(l){case"2d-array":case"3d":t.bindTexture(E,e),t.texSubImage3D(E,f,h,p,m,s,o,c,b,_,n),t.bindTexture(E,null);break;case"2d":case"cube":t.bindTexture(E,e),t.texSubImage2D(E,f,h,p,s,o,b,_,n),t.bindTexture(E,null);break;default:throw new Error(l)}})}function qM(t,e,n){const{dimension:r,width:s,height:o,depth:l=0,mipLevel:c=0,byteOffset:f=0}=n,{x:h=0,y:p=0,z:m=0}=n,{glFormat:b,glType:_,compressed:E}=n,T=u6(n.glTarget,r,l);switch(r){case"2d-array":case"3d":E?t.compressedTexSubImage3D(T,c,h,p,m,s,o,l,b,e,f):t.texSubImage3D(T,c,h,p,m,s,o,l,b,_,e,f);break;case"2d":case"cube":E?t.compressedTexSubImage2D(T,c,h,p,s,o,b,e,f):t.texSubImage2D(T,c,h,p,s,o,b,_,e,f);break;default:throw new Error(r)}}function Lie(t){switch(t){case"1d":break;case"2d":return 3553;case"3d":return 32879;case"cube":return 34067;case"2d-array":return 35866}throw new Error(t)}function u6(t,e,n){return e==="cube"?34069+n:t}function zie(t,e){var D;const{sourceX:n=0,sourceY:r=0,sourceAttachment:s=0}=e||{};let{target:o=null,sourceWidth:l,sourceHeight:c,sourceDepth:f,sourceFormat:h,sourceType:p}=e||{};const{framebuffer:m,deleteFramebuffer:b}=f6(t),{gl:_,handle:E}=m;l||(l=m.width),c||(c=m.height);const T=(D=m.colorAttachments[s])==null?void 0:D.texture;if(!T)throw new Error(`Invalid framebuffer attachment ${s}`);f=(T==null?void 0:T.depth)||1,h||(h=(T==null?void 0:T.glFormat)||6408),p||(p=(T==null?void 0:T.glType)||5121),o=Wie(o,p,h,l,c),p=p||Oie(o);const C=_.bindFramebuffer(36160,E);return _.readBuffer(36064+s),_.readPixels(n,r,l,c,h,p,o),_.readBuffer(36064),_.bindFramebuffer(36160,C||null),b&&m.destroy(),o}function $ie(t,e){const{target:n,sourceX:r=0,sourceY:s=0,sourceFormat:o=6408,targetByteOffset:l=0}=e||{};let{sourceWidth:c,sourceHeight:f,sourceType:h}=e||{};const{framebuffer:p,deleteFramebuffer:m}=f6(t);c=c||p.width,f=f||p.height;const b=p;h=h||5121;let _=n;if(!_){const T=c6(o),C=Vie(h),D=l+c*f*T*C;_=b.device.createBuffer({byteLength:D})}const E=t.device.createCommandEncoder();return E.copyTextureToBuffer({sourceTexture:t,width:c,height:f,origin:[r,s],destinationBuffer:_,byteOffset:l}),E.destroy(),m&&p.destroy(),_}function f6(t){return t instanceof Jx?{framebuffer:t,deleteFramebuffer:!1}:{framebuffer:Hie(t),deleteFramebuffer:!0}}function Hie(t,e){const{device:n,width:r,height:s,id:o}=t;return n.createFramebuffer({...e,id:`framebuffer-for-${o}`,width:r,height:s,colorAttachments:[t]})}function Wie(t,e,n,r,s,o){if(t)return t;e||(e=5121);const l=Uie(e,{clamped:!1}),c=c6(n);return new l(r*s*c)}class Lp extends hr{constructor(n,r){super(n,r);H(this,"device");H(this,"gl");H(this,"handle");H(this,"sampler");H(this,"view");H(this,"mipmaps");H(this,"compressed");H(this,"glTarget");H(this,"glFormat");H(this,"glType");H(this,"glInternalFormat");H(this,"textureUnit",0);const s={...this.props};s.data=r.data,this.device=n,this.gl=this.device.gl,this.glTarget=Lie(this.props.dimension);const o=i6(this.props.format);this.glInternalFormat=o.internalFormat,this.glFormat=o.format,this.glType=o.type,this.compressed=o.compressed,this.mipmaps=!!this.props.mipmaps,this._initialize(s),Object.seal(this)}_initialize(n){this.handle=this.props.handle||this.gl.createTexture(),this.device.setSpectorMetadata(this.handle,{...this.props,data:n.data});let{width:r,height:s}=n;if(!r||!s){const o=hr.getTextureDataSize(n.data);r=(o==null?void 0:o.width)||1,s=(o==null?void 0:o.height)||1}if(this.width=r,this.height=s,this.depth=n.depth,this.setSampler(n.sampler),this.view=new Xf(this.device,{...this.props,texture:this}),this.bind(),Bie(this.gl,this.mipLevels,this),n.data)switch(n.dimension){case"1d":this.setTexture1DData(n.data);break;case"2d":this.setTexture2DData(n.data);break;case"3d":this.setTexture3DData(n.data);break;case"cube":this.setTextureCubeData(n.data);break;case"2d-array":this.setTextureArrayData(n.data);break;case"cube-array":this.setTextureCubeArrayData(n.data);break;default:throw new Error(n.dimension)}this.mipmaps&&this.generateMipmap()}destroy(){this.handle&&(this.gl.deleteTexture(this.handle),this.removeStats(),this.trackDeallocatedMemory("Texture"),this.destroyed=!0)}createView(n){return new Xf(this.device,{...n,texture:this})}setSampler(n={}){let r;n instanceof LS?(this.sampler=n,r=n.props):(this.sampler=new LS(this.device,n),r=n);const s=l6(r);this._setSamplerParameters(s)}generateMipmap(n){if(!(!(this.device.isTextureFormatRenderable(this.props.format)&&this.device.isTextureFormatFilterable(this.props.format))&&(ot.warn(`${this} is not renderable or filterable, may not be able to generate mipmaps`)(),!(n!=null&&n.force))))try{this.gl.bindTexture(this.glTarget,this.handle),this.gl.generateMipmap(this.glTarget)}catch(s){ot.warn(`Error generating mipmap for ${this}: ${s.message}`)()}finally{this.gl.bindTexture(this.glTarget,null)}}copyExternalImage(n){const r=hr.getExternalImageSize(n.image),s={...hr.defaultCopyExternalImageOptions,...r,...n},{image:o,depth:l,mipLevel:c,x:f,y:h,z:p,flipY:m}=s;let{width:b,height:_}=s;const{dimension:E,glTarget:T,glFormat:C,glInternalFormat:D,glType:M}=this;if(b=Math.min(b,this.width-f),_=Math.min(_,this.height-h),n.sourceX||n.sourceY)throw new Error("WebGL does not support sourceX/sourceY)");return WM(this.device.gl,this.handle,o,{dimension:E,mipLevel:c,x:f,y:h,z:p,width:b,height:_,depth:l,glFormat:C,glType:M,glTarget:T,flipY:m}),{width:s.width,height:s.height}}setTexture1DData(n){throw new Error("setTexture1DData not supported in WebGL.")}setTexture2DData(n,r=0){this.bind();const s=hr.normalizeTextureData(n,this);s.length>1&&this.props.mipmaps!==!1&&ot.warn(`Texture ${this.id} mipmap and multiple LODs.`)();for(let o=0;o<s.length;o++){const l=s[o];this._setMipLevel(r,o,l)}this.unbind()}setTexture3DData(n){if(this.props.dimension!=="3d")throw new Error(this.id);ArrayBuffer.isView(n)&&(this.bind(),qM(this.device.gl,n,this),this.unbind())}setTextureCubeData(n,r=0){if(this.props.dimension!=="cube")throw new Error(this.id);for(const s of hr.CubeFaces)this.setTextureCubeFaceData(n[s],s)}setTextureArrayData(n){throw this.props.dimension!=="2d-array"?new Error(this.id):new Error("setTextureArrayData not implemented.")}setTextureCubeArrayData(n){throw new Error("setTextureCubeArrayData not supported in WebGL2.")}setTextureCubeFaceData(n,r,s=0){Array.isArray(n)&&n.length>1&&this.props.mipmaps!==!1&&ot.warn(`${this.id} has mipmap and multiple LODs.`)();const o=hr.CubeFaces.indexOf(r);this.setTexture2DData(n,o)}update(){throw new Error("Texture.update() not implemented. Use ExternalTexture")}setImageDataForFace(n){const{face:r,width:s,height:o,pixels:l,data:c,format:f=6408,type:h=5121}=n,{gl:p}=this,m=l||c;this.bind(),m instanceof Promise?m.then(b=>this.setImageDataForFace(Object.assign({},n,{face:r,data:b,pixels:b}))):this.width||this.height?p.texImage2D(r,0,f,s,o,0,f,h,m):p.texImage2D(r,0,f,f,h,m)}_getImageDataMap(n){for(let r=0;r<hr.CubeFaces.length;++r){const s=hr.CubeFaces[r];n[s]&&(n[34069+r]=n[s],delete n[s])}return n}_setSamplerParameters(n){ot.log(1,`${this.id} sampler parameters`,this.device.getGLKeys(n))(),this.gl.bindTexture(this.glTarget,this.handle);for(const[r,s]of Object.entries(n)){const o=Number(r),l=s;switch(o){case 33082:case 33083:this.gl.texParameterf(this.glTarget,o,l);break;case 10241:this.gl.texParameteri(this.glTarget,o,l);break;case 10242:case 10243:this.gl.texParameteri(this.glTarget,o,l);break;case 34046:this.device.features.has("texture-filterable-anisotropic-webgl")&&this.gl.texParameteri(this.glTarget,o,l);break;default:this.gl.texParameteri(this.glTarget,o,l);break}}this.gl.bindTexture(this.glTarget,null)}_setMipLevel(n,r,s,o=this.glTarget){if(hr.isExternalImage(s)){WM(this.device.gl,this.handle,s,{...this,depth:n,mipLevel:r,glTarget:o,flipY:this.props.flipY});return}if(hr.isTextureLevelData(s)){qM(this.device.gl,s.data,{...this,depth:n,mipLevel:r,glTarget:o});return}throw new Error("Texture: invalid image data")}getActiveUnit(){return this.gl.getParameter(34016)-33984}bind(n){const{gl:r}=this;return n!==void 0&&(this.textureUnit=n,r.activeTexture(33984+n)),r.bindTexture(this.glTarget,this.handle),n}unbind(n){const{gl:r}=this;return n!==void 0&&(this.textureUnit=n,r.activeTexture(33984+n)),r.bindTexture(this.glTarget,null),n}}const qie=[1,2,4,8];class Xie extends mS{constructor(n,r){var l;super(n,r);H(this,"device");H(this,"glParameters");this.device=n;let s;if(!((l=r==null?void 0:r.parameters)!=null&&l.viewport))if(r!=null&&r.framebuffer){const{width:c,height:f}=r.framebuffer;s=[0,0,c,f]}else{const[c,f]=n.getCanvasContext().getDrawingBufferSize();s=[0,0,c,f]}this.device.pushState(),this.setParameters({viewport:s,...this.props.parameters});const o=this.props.framebuffer;if(o!=null&&o.handle)if(this.props.framebuffer){const c=this.props.framebuffer.colorAttachments.map((f,h)=>36064+h);this.device.gl.drawBuffers(c)}else this.device.gl.drawBuffers([1029]);this.clear()}end(){this.device.popState()}pushDebugGroup(n){}popDebugGroup(){}insertDebugMarker(n){}setParameters(n={}){const r={...this.glParameters};r.framebuffer=this.props.framebuffer||null,this.props.depthReadOnly&&(r.depthMask=!this.props.depthReadOnly),r.stencilMask=this.props.stencilReadOnly?0:1,r[35977]=this.props.discard,n.viewport&&(n.viewport.length>=6?(r.viewport=n.viewport.slice(0,4),r.depthRange=[n.viewport[4],n.viewport[5]]):r.viewport=n.viewport),n.scissorRect&&(r.scissorTest=!0,r.scissor=n.scissorRect),n.blendConstant&&(r.blendColor=n.blendConstant),n.stencilReference&&(console.warn("RenderPassParameters.stencilReference not yet implemented in WebGL"),n[2967]=n.stencilReference),n.colorMask&&(r.colorMask=qie.map(s=>!!(s&n.colorMask))),this.glParameters=r,Od(this.device.gl,r)}beginOcclusionQuery(n){const r=this.props.occlusionQuerySet;r==null||r.beginOcclusionQuery()}endOcclusionQuery(){const n=this.props.occlusionQuerySet;n==null||n.endOcclusionQuery()}clear(){const n={...this.glParameters};let r=0;this.props.clearColors&&this.props.clearColors.forEach((s,o)=>{s&&this.clearColorBuffer(o,s)}),this.props.clearColor!==!1&&this.props.clearColors===void 0&&(r|=16384,n.clearColor=this.props.clearColor),this.props.clearDepth!==!1&&(r|=256,n.clearDepth=this.props.clearDepth),this.props.clearStencil!==!1&&(r|=1024,n.clearStencil=this.props.clearStencil),r!==0&&py(this.device.gl,n,()=>{this.device.gl.clear(r)})}clearColorBuffer(n=0,r=[0,0,0,0]){py(this.device.gl,{framebuffer:this.props.framebuffer},()=>{switch(r.constructor){case Int8Array:case Int16Array:case Int32Array:this.device.gl.clearBufferiv(6144,n,r);break;case Uint8Array:case Uint8ClampedArray:case Uint16Array:case Uint32Array:this.device.gl.clearBufferuiv(6144,n,r);break;case Float32Array:this.device.gl.clearBufferfv(6144,n,r);break;default:throw new Error("clearColorBuffer: color must be typed array")}})}}function Yie(t){return Kie.includes(t)}const Kie=[35678,35680,35679,35682,36289,36292,36293,36298,36299,36300,36303,36306,36307,36308,36311],d6={5126:[5126,1,"float","f32","float32"],35664:[5126,2,"vec2","vec2<f32>","float32x2"],35665:[5126,3,"vec3","vec3<f32>","float32x3"],35666:[5126,4,"vec4","vec4<f32>","float32x4"],5124:[5124,1,"int","i32","sint32"],35667:[5124,2,"ivec2","vec2<i32>","sint32x2"],35668:[5124,3,"ivec3","vec3<i32>","sint32x3"],35669:[5124,4,"ivec4","vec4<i32>","sint32x4"],5125:[5125,1,"uint","u32","uint32"],36294:[5125,2,"uvec2","vec2<u32>","uint32x2"],36295:[5125,3,"uvec3","vec3<u32>","uint32x3"],36296:[5125,4,"uvec4","vec4<u32>","uint32x4"],35670:[5126,1,"bool","f32","float32"],35671:[5126,2,"bvec2","vec2<f32>","float32x2"],35672:[5126,3,"bvec3","vec3<f32>","float32x3"],35673:[5126,4,"bvec4","vec4<f32>","float32x4"],35674:[5126,8,"mat2","mat2x2<f32>"],35685:[5126,8,"mat2x3","mat2x3<f32>"],35686:[5126,8,"mat2x4","mat2x4<f32>"],35687:[5126,12,"mat3x2","mat3x2<f32>"],35675:[5126,12,"mat3","mat3x3<f32>"],35688:[5126,12,"mat3x4","mat3x4<f32>"],35689:[5126,16,"mat4x2","mat4x2<f32>"],35690:[5126,16,"mat4x3","mat4x3<f32>"],35676:[5126,16,"mat4","mat4x4<f32>"]};function h6(t){const e=d6[t];if(!e)throw new Error("uniform");const[n,r,,s]=e;return{format:s,components:r,glType:n}}function Zie(t){const e=d6[t];if(!e)throw new Error("attribute");const[,n,,r,s]=e;return{attributeType:r,vertexFormat:s,components:n}}function Gie(t,e){const n={attributes:[],bindings:[]};n.attributes=Qie(t,e);const r=toe(t,e);for(const c of r){const f=c.uniforms.map(h=>({name:h.name,format:h.format,byteOffset:h.byteOffset,byteStride:h.byteStride,arrayLength:h.arrayLength}));n.bindings.push({type:"uniform",name:c.name,group:0,location:c.location,visibility:(c.vertex?1:0)&(c.fragment?2:0),minBindingSize:c.byteLength,uniforms:f})}const s=eoe(t,e);let o=0;for(const c of s)if(Yie(c.type)){const{viewDimension:f,sampleType:h}=roe(c.type);n.bindings.push({type:"texture",name:c.name,group:0,location:o,viewDimension:f,sampleType:h}),c.textureUnit=o,o+=1}s.length&&(n.uniforms=s);const l=Jie(t,e);return l!=null&&l.length&&(n.varyings=l),n}function Qie(t,e){const n=[],r=t.getProgramParameter(e,35721);for(let s=0;s<r;s++){const o=t.getActiveAttrib(e,s);if(!o)throw new Error("activeInfo");const{name:l,type:c}=o,f=t.getAttribLocation(e,l);if(f>=0){const{attributeType:h}=Zie(c),p=/instance/i.test(l)?"instance":"vertex";n.push({name:l,location:f,stepMode:p,type:h})}}return n.sort((s,o)=>s.location-o.location),n}function Jie(t,e){const n=[],r=t.getProgramParameter(e,35971);for(let s=0;s<r;s++){const o=t.getTransformFeedbackVarying(e,s);if(!o)throw new Error("activeInfo");const{name:l,type:c,size:f}=o,{glType:h,components:p}=h6(c),m={location:s,name:l,type:h,size:f*p};n.push(m)}return n.sort((s,o)=>s.location-o.location),n}function eoe(t,e){const n=[],r=t.getProgramParameter(e,35718);for(let s=0;s<r;s++){const o=t.getActiveUniform(e,s);if(!o)throw new Error("activeInfo");const{name:l,size:c,type:f}=o,{name:h,isArray:p}=soe(l);let m=t.getUniformLocation(e,h);const b={location:m,name:h,size:c,type:f,isArray:p};if(n.push(b),b.size>1)for(let _=0;_<b.size;_++){const E=`${h}[${_}]`;m=t.getUniformLocation(e,E);const T={...b,name:E,location:m};n.push(T)}}return n}function toe(t,e){const n=(o,l)=>t.getActiveUniformBlockParameter(e,o,l),r=[],s=t.getProgramParameter(e,35382);for(let o=0;o<s;o++){const l={name:t.getActiveUniformBlockName(e,o)||"",location:n(o,35391),byteLength:n(o,35392),vertex:n(o,35396),fragment:n(o,35398),uniformCount:n(o,35394),uniforms:[]},c=n(o,35395)||[],f=t.getActiveUniforms(e,c,35383),h=t.getActiveUniforms(e,c,35384),p=t.getActiveUniforms(e,c,35387),m=t.getActiveUniforms(e,c,35388);for(let b=0;b<l.uniformCount;++b){const _=t.getActiveUniform(e,c[b]);if(!_)throw new Error("activeInfo");l.uniforms.push({name:_.name,format:h6(f[b]).format,type:f[b],arrayLength:h[b],byteOffset:p[b],byteStride:m[b]})}r.push(l)}return r.sort((o,l)=>o.location-l.location),r}const noe={35678:["2d","float"],35680:["cube","float"],35679:["3d","float"],35682:["3d","depth"],36289:["2d-array","float"],36292:["2d-array","depth"],36293:["cube","float"],36298:["2d","sint"],36299:["3d","sint"],36300:["cube","sint"],36303:["2d-array","uint"],36306:["2d","uint"],36307:["3d","uint"],36308:["cube","uint"],36311:["2d-array","uint"]};function roe(t){const e=noe[t];if(!e)throw new Error("sampler");const[n,r]=e;return{viewDimension:n,sampleType:r}}function soe(t){if(t[t.length-1]!=="]")return{name:t,length:1,isArray:!1};const n=/([^[]*)(\[[0-9]+\])?/.exec(t);if(!n||n.length<2)throw new Error(`Failed to parse GLSL uniform name ${t}`);return{name:n[1],length:n[2]?1:0,isArray:!!n[2]}}function ioe(t,e,n,r){const s=t;let o=r;o===!0&&(o=1),o===!1&&(o=0);const l=typeof o=="number"?[o]:o;switch(n){case 35678:case 35680:case 35679:case 35682:case 36289:case 36292:case 36293:case 36298:case 36299:case 36300:case 36303:case 36306:case 36307:case 36308:case 36311:if(typeof r!="number")throw new Error("samplers must be set to integers");return t.uniform1i(e,r);case 5126:return t.uniform1fv(e,l);case 35664:return t.uniform2fv(e,l);case 35665:return t.uniform3fv(e,l);case 35666:return t.uniform4fv(e,l);case 5124:return t.uniform1iv(e,l);case 35667:return t.uniform2iv(e,l);case 35668:return t.uniform3iv(e,l);case 35669:return t.uniform4iv(e,l);case 35670:return t.uniform1iv(e,l);case 35671:return t.uniform2iv(e,l);case 35672:return t.uniform3iv(e,l);case 35673:return t.uniform4iv(e,l);case 5125:return s.uniform1uiv(e,l,1);case 36294:return s.uniform2uiv(e,l,2);case 36295:return s.uniform3uiv(e,l,3);case 36296:return s.uniform4uiv(e,l,4);case 35674:return t.uniformMatrix2fv(e,!1,l);case 35675:return t.uniformMatrix3fv(e,!1,l);case 35676:return t.uniformMatrix4fv(e,!1,l);case 35685:return s.uniformMatrix2x3fv(e,!1,l);case 35686:return s.uniformMatrix2x4fv(e,!1,l);case 35687:return s.uniformMatrix3x2fv(e,!1,l);case 35688:return s.uniformMatrix3x4fv(e,!1,l);case 35689:return s.uniformMatrix4x2fv(e,!1,l);case 35690:return s.uniformMatrix4x3fv(e,!1,l)}throw new Error("Illegal uniform")}function ooe(t){return qF(t)!==null||typeof t=="number"||typeof t=="boolean"}function aoe(t){const e={bindings:{},uniforms:{}};return Object.keys(t).forEach(n=>{const r=t[n];ooe(r)?e.uniforms[n]=r:e.bindings[n]=r}),e}function loe(t){switch(t){case"point-list":return 0;case"line-list":return 1;case"line-strip":return 3;case"triangle-list":return 4;case"triangle-strip":return 5;default:throw new Error(t)}}function coe(t){switch(t){case"point-list":return 0;case"line-list":return 1;case"line-strip":return 1;case"triangle-list":return 4;case"triangle-strip":return 4;default:throw new Error(t)}}const XM=4;class uoe extends bd{constructor(n,r){super(n,r);H(this,"device");H(this,"handle");H(this,"vs");H(this,"fs");H(this,"introspectedLayout");H(this,"uniforms",{});H(this,"bindings",{});H(this,"varyings",null);H(this,"_uniformCount",0);H(this,"_uniformSetters",{});this.device=n,this.handle=this.props.handle||this.device.gl.createProgram(),this.device.setSpectorMetadata(this.handle,{id:this.props.id}),this.vs=r.vs,this.fs=r.fs;const{varyings:s,bufferMode:o=35981}=r;s&&s.length>0&&(this.varyings=s,this.device.gl.transformFeedbackVaryings(this.handle,s,o)),this._linkShaders(),ot.time(1,`RenderPipeline ${this.id} - shaderLayout introspection`)(),this.introspectedLayout=Gie(this.device.gl,this.handle),ot.timeEnd(1,`RenderPipeline ${this.id} - shaderLayout introspection`)(),this.shaderLayout=foe(this.introspectedLayout,r.shaderLayout)}destroy(){this.handle&&(this.device.gl.deleteProgram(this.handle),this.destroyed=!0)}setBindings(n,r){for(const[s,o]of Object.entries(n)){const l=this.shaderLayout.bindings.find(c=>c.name===s)||this.shaderLayout.bindings.find(c=>c.name===`${s}Uniforms`);if(!l){const c=this.shaderLayout.bindings.map(f=>`"${f.name}"`).join(", ");r!=null&&r.disableWarnings||ot.warn(`No binding "${s}" in render pipeline "${this.id}", expected one of ${c}`,o)();continue}switch(o||ot.warn(`Unsetting binding "${s}" in render pipeline "${this.id}"`)(),l.type){case"uniform":if(!(o instanceof Bp)&&!(o.buffer instanceof Bp))throw new Error("buffer value");break;case"texture":if(!(o instanceof Xf||o instanceof Lp||o instanceof Fp))throw new Error("texture value");break;case"sampler":ot.warn(`Ignoring sampler ${s}`)();break;default:throw new Error(l.type)}this.bindings[s]=o}}draw(n){var C;const{renderPass:r,parameters:s=this.props.parameters,topology:o=this.props.topology,vertexArray:l,vertexCount:c,instanceCount:f,isInstanced:h=!1,firstVertex:p=0,transformFeedback:m}=n,b=loe(o),_=!!l.indexBuffer,E=(C=l.indexBuffer)==null?void 0:C.glIndexType;if(this.linkStatus!=="success")return ot.info(2,`RenderPipeline:${this.id}.draw() aborted - waiting for shader linking`)(),!1;if(!this._areTexturesRenderable())return ot.info(2,`RenderPipeline:${this.id}.draw() aborted - textures not yet loaded`)(),!1;this.device.gl.useProgram(this.handle),l.bindBeforeRender(r),m&&m.begin(this.props.topology),this._applyBindings(),this._applyUniforms();const T=r;return Rie(this.device,s,T.glParameters,()=>{_&&h?this.device.gl.drawElementsInstanced(b,c||0,E,p,f||0):_?this.device.gl.drawElements(b,c||0,E,p):h?this.device.gl.drawArraysInstanced(b,p,c||0,f||0):this.device.gl.drawArrays(b,p,c||0),m&&m.end()}),l.unbindAfterRender(r),!0}setUniformsWebGL(n){const{bindings:r}=aoe(n);Object.keys(r).forEach(s=>{ot.warn(`Unsupported value "${JSON.stringify(r[s])}" used in setUniforms() for key ${s}. Use setBindings() instead?`)()}),Object.assign(this.uniforms,n)}async _linkShaders(){const{gl:n}=this.device;if(n.attachShader(this.handle,this.vs.handle),n.attachShader(this.handle,this.fs.handle),ot.time(XM,`linkProgram for ${this.id}`)(),n.linkProgram(this.handle),ot.timeEnd(XM,`linkProgram for ${this.id}`)(),ot.level,!this.device.features.has("compilation-status-async-webgl")){const s=this._getLinkStatus();this._reportLinkStatus(s);return}ot.once(1,"RenderPipeline linking is asynchronous")(),await this._waitForLinkComplete(),ot.info(2,`RenderPipeline ${this.id} - async linking complete: ${this.linkStatus}`)();const r=this._getLinkStatus();this._reportLinkStatus(r)}async _reportLinkStatus(n){var r;switch(n){case"success":return;default:switch(this.vs.compilationStatus){case"error":throw this.vs.debugShader(),new Error(`Error during compilation of shader ${this.vs.id}`);case"pending":this.vs.asyncCompilationStatus.then(()=>this.vs.debugShader());break}switch((r=this.fs)==null?void 0:r.compilationStatus){case"error":throw this.fs.debugShader(),new Error(`Error during compilation of shader ${this.fs.id}`);case"pending":this.fs.asyncCompilationStatus.then(()=>this.fs.debugShader());break}const s=this.device.gl.getProgramInfoLog(this.handle);throw new Error(`Error during ${n}: ${s}`)}}_getLinkStatus(){const{gl:n}=this.device;return n.getProgramParameter(this.handle,35714)?(n.validateProgram(this.handle),n.getProgramParameter(this.handle,35715)?(this.linkStatus="success","success"):(this.linkStatus="error","validation")):(this.linkStatus="error","linking")}async _waitForLinkComplete(){const n=async o=>await new Promise(l=>setTimeout(l,o));if(!this.device.features.has("compilation-status-async-webgl")){await n(10);return}const{gl:s}=this.device;for(;;){if(s.getProgramParameter(this.handle,37297))return;await n(10)}}_areTexturesRenderable(){let n=!0;for(const r of this.shaderLayout.bindings)!this.bindings[r.name]&&!this.bindings[r.name.replace(/Uniforms$/,"")]&&(ot.warn(`Binding ${r.name} not found in ${this.id}`)(),n=!1);return n}_applyBindings(){if(this.linkStatus!=="success")return;const{gl:n}=this.device;n.useProgram(this.handle);let r=0,s=0;for(const o of this.shaderLayout.bindings){const l=this.bindings[o.name]||this.bindings[o.name.replace(/Uniforms$/,"")];if(!l)throw new Error(`No value for binding ${o.name} in ${this.id}`);switch(o.type){case"uniform":const{name:c}=o,f=n.getUniformBlockIndex(this.handle,c);if(f===4294967295)throw new Error(`Invalid uniform block name ${c}`);n.uniformBlockBinding(this.handle,s,f),l instanceof Bp?n.bindBufferBase(35345,s,l.handle):n.bindBufferRange(35345,s,l.buffer.handle,l.offset||0,l.size||l.buffer.byteLength-l.offset),s+=1;break;case"texture":if(!(l instanceof Xf||l instanceof Lp||l instanceof Fp))throw new Error("texture");let h;if(l instanceof Xf)h=l.texture;else if(l instanceof Lp)h=l;else if(l instanceof Fp&&l.colorAttachments[0]instanceof Xf)ot.warn("Passing framebuffer in texture binding may be deprecated. Use fbo.colorAttachments[0] instead")(),h=l.colorAttachments[0].texture;else throw new Error("No texture");n.activeTexture(33984+r),n.bindTexture(h.glTarget,h.handle),r+=1;break;case"sampler":break;case"storage":case"read-only-storage":throw new Error(`binding type '${o.type}' not supported in WebGL`)}}}_applyUniforms(){for(const n of this.shaderLayout.uniforms||[]){const{name:r,location:s,type:o,textureUnit:l}=n,c=this.uniforms[r]??l;c!==void 0&&ioe(this.device.gl,s,o,c)}}}function foe(t,e){const n={...t,attributes:t.attributes.map(r=>({...r}))};for(const r of(e==null?void 0:e.attributes)||[]){const s=n.attributes.find(o=>o.name===r.name);s?(s.type=r.type||s.type,s.stepMode=r.stepMode||s.stepMode):ot.warn(`shader layout attribute ${r.name} not present in shader`)}return n}class doe extends bS{constructor(n){super(n,{});H(this,"device");H(this,"commands",[]);this.device=n}submitCommands(n=this.commands){for(const r of n)switch(r.name){case"copy-buffer-to-buffer":hoe(this.device,r.options);break;case"copy-buffer-to-texture":poe(this.device,r.options);break;case"copy-texture-to-buffer":moe(this.device,r.options);break;case"copy-texture-to-texture":goe(this.device,r.options);break;default:throw new Error(r.name)}}}function hoe(t,e){const n=e.sourceBuffer,r=e.destinationBuffer;t.gl.bindBuffer(36662,n.handle),t.gl.bindBuffer(36663,r.handle),t.gl.copyBufferSubData(36662,36663,e.sourceOffset??0,e.destinationOffset??0,e.size),t.gl.bindBuffer(36662,null),t.gl.bindBuffer(36663,null)}function poe(t,e){throw new Error("Not implemented")}function moe(t,e){const{sourceTexture:n,mipLevel:r=0,aspect:s="all",width:o=e.sourceTexture.width,height:l=e.sourceTexture.height,depthOrArrayLayers:c=0,origin:f=[0,0],destinationBuffer:h,byteOffset:p=0,bytesPerRow:m,rowsPerImage:b}=e;if(s!=="all")throw new Error("aspect not supported in WebGL");if(r!==0||c!==0||m||b)throw new Error("not implemented");const{framebuffer:_,destroyFramebuffer:E}=p6(n);let T;try{const C=h,D=o||_.width,M=l||_.height,P=i6(_.colorAttachments[0].texture.props.format),U=P.format,L=P.type;t.gl.bindBuffer(35051,C.handle),T=t.gl.bindFramebuffer(36160,_.handle),t.gl.readPixels(f[0],f[1],D,M,U,L,p)}finally{t.gl.bindBuffer(35051,null),T!==void 0&&t.gl.bindFramebuffer(36160,T),E&&_.destroy()}}function goe(t,e){const{sourceTexture:n,destinationMipLevel:r=0,origin:s=[0,0],destinationOrigin:o=[0,0],destinationTexture:l}=e;let{width:c=e.destinationTexture.width,height:f=e.destinationTexture.height}=e;const{framebuffer:h,destroyFramebuffer:p}=p6(n),[m,b]=s,[_,E,T]=o,C=t.gl.bindFramebuffer(36160,h.handle);let D=null,M;if(l instanceof Lp)D=l,c=Number.isFinite(c)?c:D.width,f=Number.isFinite(f)?f:D.height,D.bind(0),M=D.glTarget;else throw new Error("invalid destination");switch(M){case 3553:case 34067:t.gl.copyTexSubImage2D(M,r,_,E,m,b,c,f);break;case 35866:case 32879:t.gl.copyTexSubImage3D(M,r,_,E,T,m,b,c,f);break}D&&D.unbind(),t.gl.bindFramebuffer(36160,C),p&&h.destroy()}function p6(t){if(t instanceof hr){const{width:e,height:n,id:r}=t;return{framebuffer:t.device.createFramebuffer({id:`framebuffer-for-${r}`,width:e,height:n,colorAttachments:[t]}),destroyFramebuffer:!0}}return{framebuffer:t,destroyFramebuffer:!1}}class boe extends gS{constructor(n,r){super(n,r);H(this,"device");H(this,"commandBuffer");this.device=n,this.commandBuffer=new doe(n)}destroy(){}finish(){this.commandBuffer.submitCommands()}copyBufferToBuffer(n){this.commandBuffer.commands.push({name:"copy-buffer-to-buffer",options:n})}copyBufferToTexture(n){this.commandBuffer.commands.push({name:"copy-buffer-to-texture",options:n})}copyTextureToBuffer(n){this.commandBuffer.commands.push({name:"copy-texture-to-buffer",options:n})}copyTextureToTexture(n){this.commandBuffer.commands.push({name:"copy-texture-to-texture",options:n})}pushDebugGroup(n){}popDebugGroup(){}insertDebugMarker(n){}resolveQuerySet(n,r,s){}}function xoe(t){const{target:e,source:n,start:r=0,count:s=1}=t,o=n.length,l=s*o;let c=0;for(let f=r;c<o;c++)e[f++]=n[c];for(;c<l;)c<l-c?(e.copyWithin(r+c,r,r+c),c*=2):(e.copyWithin(r+c,r,r+l-c),c=l);return t.target}class _T extends xS{constructor(n,r){super(n,r);H(this,"device");H(this,"handle");H(this,"buffer",null);H(this,"bufferValue",null);this.device=n,this.handle=this.device.gl.createVertexArray()}get[Symbol.toStringTag](){return"VertexArray"}static isConstantAttributeZeroSupported(n){return LK()==="Chrome"}destroy(){var n;super.destroy(),this.buffer&&((n=this.buffer)==null||n.destroy()),this.handle&&(this.device.gl.deleteVertexArray(this.handle),this.handle=void 0)}setIndexBuffer(n){const r=n;if(r&&r.glTarget!==34963)throw new Error("Use .setBuffer()");this.device.gl.bindVertexArray(this.handle),this.device.gl.bindBuffer(34963,r?r.handle:null),this.indexBuffer=r,this.device.gl.bindVertexArray(null)}setBuffer(n,r){const s=r;if(s.glTarget===34963)throw new Error("Use .setIndexBuffer()");const{size:o,type:l,stride:c,offset:f,normalized:h,integer:p,divisor:m}=this._getAccessor(n);this.device.gl.bindVertexArray(this.handle),this.device.gl.bindBuffer(34962,s.handle),p?this.device.gl.vertexAttribIPointer(n,o,l,c,f):this.device.gl.vertexAttribPointer(n,o,l,h,c,f),this.device.gl.bindBuffer(34962,null),this.device.gl.enableVertexAttribArray(n),this.device.gl.vertexAttribDivisor(n,m||0),this.attributes[n]=s,this.device.gl.bindVertexArray(null)}setConstantWebGL(n,r){this._enable(n,!1),this.attributes[n]=r}bindBeforeRender(){this.device.gl.bindVertexArray(this.handle),this._applyConstantAttributes()}unbindAfterRender(){this.device.gl.bindVertexArray(null)}_applyConstantAttributes(){for(let n=0;n<this.maxVertexAttributes;++n){const r=this.attributes[n];ArrayBuffer.isView(r)&&this.device.setConstantAttributeWebGL(n,r)}}_getAccessor(n){const r=this.attributeInfos[n];if(!r)throw new Error(`Unknown attribute location ${n}`);const s=s6(r.bufferDataType);return{size:r.bufferComponents,type:s,stride:r.byteStride,offset:r.byteOffset,normalized:r.normalized,integer:r.integer,divisor:r.stepMode==="instance"?1:0}}_enable(n,r=!0){const o=_T.isConstantAttributeZeroSupported(this.device)||n!==0;(r||o)&&(n=Number(n),this.device.gl.bindVertexArray(this.handle),r?this.device.gl.enableVertexAttribArray(n):this.device.gl.disableVertexAttribArray(n),this.device.gl.bindVertexArray(null))}getConstantBuffer(n,r){const s=yoe(r),o=s.byteLength*n,l=s.length*n;if(this.buffer&&o!==this.buffer.byteLength)throw new Error(`Buffer size is immutable, byte length ${o} !== ${this.buffer.byteLength}.`);let c=!this.buffer;if(this.buffer=this.buffer||this.device.createBuffer({byteLength:o}),c=c||!voe(s,this.bufferValue),c){const f=RJ(r.constructor,l);xoe({target:f,source:s,start:0,count:l}),this.buffer.write(f),this.bufferValue=r}return this.buffer}}function yoe(t){return Array.isArray(t)?new Float32Array(t):t}function voe(t,e){if(!t||!e||t.length!==e.length||t.constructor!==e.constructor)return!1;for(let n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0}class _oe extends yS{constructor(n,r){super(n,r);H(this,"device");H(this,"gl");H(this,"handle");H(this,"layout");H(this,"buffers",{});H(this,"unusedBuffers",{});H(this,"bindOnUse",!0);H(this,"_bound",!1);this.device=n,this.gl=n.gl,this.handle=this.props.handle||this.gl.createTransformFeedback(),this.layout=this.props.layout,r.buffers&&this.setBuffers(r.buffers),Object.seal(this)}destroy(){this.gl.deleteTransformFeedback(this.handle),super.destroy()}begin(n="point-list"){this.gl.bindTransformFeedback(36386,this.handle),this.bindOnUse&&this._bindBuffers(),this.gl.beginTransformFeedback(coe(n))}end(){this.gl.endTransformFeedback(),this.bindOnUse&&this._unbindBuffers(),this.gl.bindTransformFeedback(36386,null)}setBuffers(n){this.buffers={},this.unusedBuffers={},this.bind(()=>{for(const r in n)this.setBuffer(r,n[r])})}setBuffer(n,r){const s=this._getVaryingIndex(n),{buffer:o,byteLength:l,byteOffset:c}=this._getBufferRange(r);if(s<0){this.unusedBuffers[n]=o,ot.warn(`${this.id} unusedBuffers varying buffer ${n}`)();return}this.buffers[s]={buffer:o,byteLength:l,byteOffset:c},this.bindOnUse||this._bindBuffer(s,o,c,l)}getBuffer(n){if(YM(n))return this.buffers[n]||null;const r=this._getVaryingIndex(n);return r>=0?this.buffers[r]:null}bind(n=this.handle){if(typeof n!="function")return this.gl.bindTransformFeedback(36386,n),this;let r;return this._bound?r=n():(this.gl.bindTransformFeedback(36386,this.handle),this._bound=!0,r=n(),this._bound=!1,this.gl.bindTransformFeedback(36386,null)),r}unbind(){this.bind(null)}_getBufferRange(n){if(n instanceof Bp)return{buffer:n,byteOffset:0,byteLength:n.byteLength};const{buffer:r,byteOffset:s=0,byteLength:o=n.buffer.byteLength}=n;return{buffer:r,byteOffset:s,byteLength:o}}_getVaryingIndex(n){if(YM(n))return Number(n);for(const r of this.layout.varyings)if(n===r.name)return r.location;return-1}_bindBuffers(){for(const n in this.buffers){const{buffer:r,byteLength:s,byteOffset:o}=this._getBufferRange(this.buffers[n]);this._bindBuffer(Number(n),r,o,s)}}_unbindBuffers(){for(const n in this.buffers)this.gl.bindBufferBase(35982,Number(n),null)}_bindBuffer(n,r,s=0,o){const l=r&&r.handle;!l||o===void 0?this.gl.bindBufferBase(35982,n,l):this.gl.bindBufferRange(35982,n,l,s,o)}}function YM(t){return typeof t=="number"?Number.isInteger(t):/^\d+$/.test(t)}class woe extends vS{constructor(n,r){super(n,r);H(this,"device");H(this,"handle");H(this,"target",null);H(this,"_queryPending",!1);H(this,"_pollingPromise",null);if(this.device=n,r.count>1)throw new Error("WebGL QuerySet can only have one value");this.handle=this.device.gl.createQuery(),Object.seal(this)}get[Symbol.toStringTag](){return"Query"}destroy(){this.device.gl.deleteQuery(this.handle)}beginTimestampQuery(){return this._begin(35007)}endTimestampQuery(){this._end()}beginOcclusionQuery(n){return this._begin(n!=null&&n.conservative?36202:35887)}endOcclusionQuery(){this._end()}beginTransformFeedbackQuery(){return this._begin(35976)}endTransformFeedbackQuery(){this._end()}async resolveQuery(){return[await this.pollQuery()]}_begin(n){this._queryPending||(this.target=n,this.device.gl.beginQuery(this.target,this.handle))}_end(){this._queryPending||this.target&&(this.device.gl.endQuery(this.target),this.target=null,this._queryPending=!0)}isResultAvailable(){if(!this._queryPending)return!1;const n=this.device.gl.getQueryParameter(this.handle,34919);return n&&(this._queryPending=!1),n}isTimerDisjoint(){return this.device.gl.getParameter(36795)}getResult(){return this.device.gl.getQueryParameter(this.handle,34918)}getTimerMilliseconds(){return this.getResult()/1e6}pollQuery(n=Number.POSITIVE_INFINITY){if(this._pollingPromise)return this._pollingPromise;let r=0;return this._pollingPromise=new Promise((s,o)=>{const l=()=>{this.isResultAvailable()?(s(this.getResult()),this._pollingPromise=null):r++>n?(o("Timed out"),this._pollingPromise=null):requestAnimationFrame(l)};requestAnimationFrame(l)}),this._pollingPromise}}class Yf extends Ul{constructor(n){var m,b;super({...n,id:n.id||Sie("webgl-device")});H(this,"type","webgl");H(this,"handle");H(this,"features");H(this,"limits");H(this,"info");H(this,"canvasContext");H(this,"lost");H(this,"_resolveContextLost");H(this,"gl");H(this,"debug",!1);H(this,"_canvasSizeInfo",{clientWidth:0,clientHeight:0,devicePixelRatio:1});H(this,"_extensions",{});H(this,"_polyfilled",!1);H(this,"spectorJS");H(this,"renderPass",null);H(this,"_constants");const r=Ul._getCanvasContextProps(n);if(!r)throw new Error("WebGLDevice requires props.createCanvasContext to be set");let s=(b=(m=r.canvas)==null?void 0:m.gl)==null?void 0:b.device;if(s)throw new Error(`WebGL context already attached to device ${s.id}`);this.canvasContext=new hie(this,r),this.lost=new Promise(_=>{this._resolveContextLost=_});const o={...n.webgl};r.alphaMode==="premultiplied"&&(o.premultipliedAlpha=!0),n.powerPreference!==void 0&&(o.powerPreference=n.powerPreference);const c=this.props._handle||Xse(this.canvasContext.canvas,{onContextLost:_=>{var E;return(E=this._resolveContextLost)==null?void 0:E.call(this,{reason:"destroyed",message:"Entered sleep mode, or too many apps or browser tabs are using the GPU."})},onContextRestored:_=>console.log("WebGL context restored")},o);if(!c)throw new Error("WebGL context creation failed");if(s=c.device,s){if(n._reuseDevices)return ot.log(1,`Not creating a new Device, instead returning a reference to Device ${s.id} already attached to WebGL context`,s)(),s._reused=!0,s;throw new Error(`WebGL context already attached to device ${s.id}`)}this.handle=c,this.gl=c,this.spectorJS=gie({...this.props,gl:this.handle}),this.gl.device=this,this.gl._version=2,this.info=Yse(this.gl,this._extensions),this.limits=new uie(this.gl),this.features=new cie(this.gl,this._extensions,this.props._disabledFeatures),this.props._initializeFeatures&&this.features.initializeFeatures(),r.autoResize!==!1&&this.canvasContext.resize(),new Qc(this.gl,{log:(..._)=>ot.log(1,..._)()}).trackState(this.gl,{copyState:!1});const h=n.debugWebGL||n.debug,p=n.debugWebGL;h&&(this.gl=yie(this.gl,{debugWebGL:h,traceWebGL:p}),ot.warn("WebGL debug mode activated. Performance reduced.")(),n.debugWebGL&&(ot.level=Math.max(ot.level,1)))}destroy(){!this.props._reuseDevices&&!this._reused&&delete this.gl.device}get isLost(){return this.gl.isContextLost()}createCanvasContext(n){throw new Error("WebGL only supports a single canvas")}createBuffer(n){const r=this._normalizeBufferProps(n);return new Bp(this,r)}createTexture(n){return new Lp(this,n)}createExternalTexture(n){throw new Error("createExternalTexture() not implemented")}createSampler(n){return new LS(this,n)}createShader(n){return new Cie(this,n)}createFramebuffer(n){return new Fp(this,n)}createVertexArray(n){return new _T(this,n)}createTransformFeedback(n){return new _oe(this,n)}createQuerySet(n){return new woe(this,n)}createRenderPipeline(n){return new uoe(this,n)}beginRenderPass(n){return new Xie(this,n)}createComputePipeline(n){throw new Error("ComputePipeline not supported in WebGL")}beginComputePass(n){throw new Error("ComputePass not supported in WebGL")}createCommandEncoder(n={}){return new boe(this,n)}submit(){var n;(n=this.renderPass)==null||n.end(),this.renderPass=null}readPixelsToArrayWebGL(n,r){return zie(n,r)}readPixelsToBufferWebGL(n,r){return $ie(n,r)}setParametersWebGL(n){Od(this.gl,n)}getParametersWebGL(n){return n6(this.gl,n)}withParametersWebGL(n,r){return py(this.gl,n,r)}resetWebGL(){ot.warn("WebGLDevice.resetWebGL is deprecated, use only for debugging")(),zse(this.gl)}_getDeviceSpecificTextureFormatCapabilities(n){return iie(this.gl,n,this._extensions)}loseDevice(){var o;let n=!1;const s=this.getExtension("WEBGL_lose_context").WEBGL_lose_context;return s&&(n=!0,s.loseContext()),(o=this._resolveContextLost)==null||o.call(this,{reason:"destroyed",message:"Application triggered context loss"}),n}pushState(){Qc.get(this.gl).push()}popState(){Qc.get(this.gl).pop()}setSpectorMetadata(n,r){n.__SPECTOR_Metadata=r}getGLKey(n,r){const s=Number(n);for(const o in this.gl)if(this.gl[o]===s)return`GL.${o}`;return r!=null&&r.emptyIfUnknown?"":String(n)}getGLKeys(n){const r={emptyIfUnknown:!0};return Object.entries(n).reduce((s,[o,l])=>(s[`${o}:${this.getGLKey(o,r)}`]=`${l}:${this.getGLKey(l,r)}`,s),{})}setConstantAttributeWebGL(n,r){const s=this.limits.maxVertexAttributes;this._constants=this._constants||new Array(s).fill(null);const o=this._constants[n];switch(o&&Toe(o,r)&&ot.info(1,`setConstantAttributeWebGL(${n}) could have been skipped, value unchanged`)(),this._constants[n]=r,r.constructor){case Float32Array:Noe(this,n,r);break;case Int32Array:Soe(this,n,r);break;case Uint32Array:Eoe(this,n,r);break;default:throw new Error("constant")}}getExtension(n){return Td(this.gl,n,this._extensions),this._extensions}}function Noe(t,e,n){switch(n.length){case 1:t.gl.vertexAttrib1fv(e,n);break;case 2:t.gl.vertexAttrib2fv(e,n);break;case 3:t.gl.vertexAttrib3fv(e,n);break;case 4:t.gl.vertexAttrib4fv(e,n);break}}function Soe(t,e,n){t.gl.vertexAttribI4iv(e,n)}function Eoe(t,e,n){t.gl.vertexAttribI4uiv(e,n)}function Toe(t,e){if(!t||!e||t.length!==e.length||t.constructor!==e.constructor)return!1;for(let n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0}const Aoe={WEBGL_depth_texture:{UNSIGNED_INT_24_8_WEBGL:34042},OES_element_index_uint:{},OES_texture_float:{},OES_texture_half_float:{HALF_FLOAT_OES:5131},EXT_color_buffer_float:{},OES_standard_derivatives:{FRAGMENT_SHADER_DERIVATIVE_HINT_OES:35723},EXT_frag_depth:{},EXT_blend_minmax:{MIN_EXT:32775,MAX_EXT:32776},EXT_shader_texture_lod:{}},Coe=t=>({drawBuffersWEBGL(e){return t.drawBuffers(e)},COLOR_ATTACHMENT0_WEBGL:36064,COLOR_ATTACHMENT1_WEBGL:36065,COLOR_ATTACHMENT2_WEBGL:36066,COLOR_ATTACHMENT3_WEBGL:36067}),Roe=t=>({VERTEX_ARRAY_BINDING_OES:34229,createVertexArrayOES(){return t.createVertexArray()},deleteVertexArrayOES(e){return t.deleteVertexArray(e)},isVertexArrayOES(e){return t.isVertexArray(e)},bindVertexArrayOES(e){return t.bindVertexArray(e)}}),koe=t=>({VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE:35070,drawArraysInstancedANGLE(...e){return t.drawArraysInstanced(...e)},drawElementsInstancedANGLE(...e){return t.drawElementsInstanced(...e)},vertexAttribDivisorANGLE(...e){return t.vertexAttribDivisor(...e)}});function Poe(t=!0){const e=HTMLCanvasElement.prototype;if(!t&&e.originalGetContext){e.getContext=e.originalGetContext,e.originalGetContext=void 0;return}e.originalGetContext=e.getContext,e.getContext=function(n,r){if(n==="webgl"||n==="experimental-webgl"){const s=this.originalGetContext("webgl2",r);return s instanceof HTMLElement&&Doe(s),s}return this.originalGetContext(n,r)}}function Doe(t){t.getExtension("EXT_color_buffer_float");const e={...Aoe,WEBGL_disjoint_timer_query:t.getExtension("EXT_disjoint_timer_query_webgl2"),WEBGL_draw_buffers:Coe(t),OES_vertex_array_object:Roe(t),ANGLE_instanced_arrays:koe(t)},n=t.getExtension;t.getExtension=function(s){const o=n.call(t,s);return o||(s in e?e[s]:null)};const r=t.getSupportedExtensions;t.getSupportedExtensions=function(){const s=r.apply(t)||[];return s==null?void 0:s.concat(Object.keys(e))}}const nx=1;class Moe extends iJ{constructor(){super();H(this,"type","webgl");Ul.defaultProps={...Ul.defaultProps,...vT},Yf.adapter=this}isSupported(){return typeof WebGL2RenderingContext<"u"}enforceWebGL2(n){Poe(n)}async attach(n){if(n instanceof Yf)return n;if((n==null?void 0:n.device)instanceof Ul)return n.device;if(!joe(n))throw new Error("Invalid WebGL2RenderingContext");return new Yf({_handle:n,createCanvasContext:{canvas:n.canvas,autoResize:!1}})}async create(n={}){ot.groupCollapsed(nx,"WebGLDevice created")();const r=[];(n.debugWebGL||n.debug)&&r.push(xie()),n.debugSpectorJS&&r.push(mie(n));const s=await Promise.allSettled(r);for(const c of s)c.status==="rejected"&&ot.error(`Failed to initialize debug libraries ${c.reason}`)();const o=new Yf(n),l=`${o._reused?"Reusing":"Created"} device with WebGL2 ${o.debug?"debug ":""}context: ${o.info.vendor}, ${o.info.renderer} for canvas: ${o.canvasContext.id}`;return ot.probe(nx,l)(),ot.table(nx,o.info)(),ot.groupEnd(nx)(),o}}function joe(t){return typeof WebGL2RenderingContext<"u"&&t instanceof WebGL2RenderingContext?!0:!!(t&&Number.isFinite(t._version))}const KM=new Moe;function fl(){}const Ioe=({isDragging:t})=>t?"grabbing":"grab",m6={id:"",width:"100%",height:"100%",style:null,viewState:null,initialViewState:null,pickingRadius:0,layerFilter:null,parameters:{},parent:null,device:null,deviceProps:{},gl:null,canvas:null,layers:[],effects:[],views:null,controller:null,useDevicePixels:!0,touchAction:"none",eventRecognizerOptions:{},_framebuffer:null,_animate:!1,_pickable:!0,_typedArrayManagerProps:{},_customRender:null,widgets:[],onDeviceInitialized:fl,onWebGLInitialized:fl,onResize:fl,onViewStateChange:fl,onInteractionStateChange:fl,onBeforeRender:fl,onAfterRender:fl,onLoad:fl,onError:t=>Hn.error(t.message,t.cause)(),onHover:null,onClick:null,onDragStart:null,onDrag:null,onDragEnd:null,_onMetrics:null,getCursor:Ioe,getTooltip:null,debug:!1,drawPickingColors:!1};class wT{constructor(e){this.width=0,this.height=0,this.userData={},this.device=null,this.canvas=null,this.viewManager=null,this.layerManager=null,this.effectManager=null,this.deckRenderer=null,this.deckPicker=null,this.eventManager=null,this.widgetManager=null,this.tooltip=null,this.animationLoop=null,this.cursorState={isHovering:!1,isDragging:!1},this.stats=new iv({id:"deck.gl"}),this.metrics={fps:0,setPropsTime:0,updateAttributesTime:0,framesRedrawn:0,pickTime:0,pickCount:0,gpuTime:0,gpuTimePerFrame:0,cpuTime:0,cpuTimePerFrame:0,bufferMemory:0,textureMemory:0,renderbufferMemory:0,gpuMemory:0},this._metricsCounter=0,this._needsRedraw="Initial render",this._pickRequest={mode:"hover",x:-1,y:-1,radius:0,event:null},this._lastPointerDownInfo=null,this._onPointerMove=r=>{const{_pickRequest:s}=this;if(r.type==="pointerleave")s.x=-1,s.y=-1,s.radius=0;else{if(r.leftButton||r.rightButton)return;{const o=r.offsetCenter;if(!o)return;s.x=o.x,s.y=o.y,s.radius=this.props.pickingRadius}}this.layerManager&&(this.layerManager.context.mousePosition={x:s.x,y:s.y}),s.event=r},this._onEvent=r=>{const s=kS[r.type],o=r.offsetCenter;if(!s||!o||!this.layerManager)return;const l=this.layerManager.getLayers(),c=this.deckPicker.getLastPickedObject({x:o.x,y:o.y,layers:l,viewports:this.getViewports(o)},this._lastPointerDownInfo),{layer:f}=c,h=f&&(f[s]||f.props[s]),p=this.props[s];let m=!1;h&&(m=h.call(f,c,r)),m||(p==null||p(c,r),this.widgetManager.onEvent(c,r))},this._onPointerDown=r=>{var l;if(((l=this.device)==null?void 0:l.type)==="webgpu")return;const s=r.offsetCenter,o=this._pick("pickObject","pickObject Time",{x:s.x,y:s.y,radius:this.props.pickingRadius});this._lastPointerDownInfo=o.result[0]||o.emptyInfo},this.props={...m6,...e},e=this.props,e.viewState&&e.initialViewState&&Hn.warn("View state tracking is disabled. Use either `initialViewState` for auto update or `viewState` for manual update.")(),this.viewState=this.props.initialViewState,e.device&&(this.device=e.device);let n=this.device;!n&&e.gl&&(e.gl instanceof WebGLRenderingContext&&Hn.error("WebGL1 context not supported.")(),n=KM.attach(e.gl)),n||(n=hS.createDevice({type:"best-available",_reuseDevices:!0,adapters:[KM],...e.deviceProps,createCanvasContext:{canvas:this._createCanvas(e),useDevicePixels:this.props.useDevicePixels,autoResize:!1}})),this.animationLoop=this._createAnimationLoop(n,e),this.setProps(e),e._typedArrayManagerProps&&sm.setOptions(e._typedArrayManagerProps),this.animationLoop.start()}finalize(){var e,n,r,s,o,l,c,f,h,p;(e=this.animationLoop)==null||e.stop(),(n=this.animationLoop)==null||n.destroy(),this.animationLoop=null,this._lastPointerDownInfo=null,(r=this.layerManager)==null||r.finalize(),this.layerManager=null,(s=this.viewManager)==null||s.finalize(),this.viewManager=null,(o=this.effectManager)==null||o.finalize(),this.effectManager=null,(l=this.deckRenderer)==null||l.finalize(),this.deckRenderer=null,(c=this.deckPicker)==null||c.finalize(),this.deckPicker=null,(f=this.eventManager)==null||f.destroy(),this.eventManager=null,(h=this.widgetManager)==null||h.finalize(),this.widgetManager=null,!this.props.canvas&&!this.props.device&&!this.props.gl&&this.canvas&&((p=this.canvas.parentElement)==null||p.removeChild(this.canvas),this.canvas=null)}setProps(e){var r;this.stats.get("setProps Time").timeStart(),"onLayerHover"in e&&Hn.removed("onLayerHover","onHover")(),"onLayerClick"in e&&Hn.removed("onLayerClick","onClick")(),e.initialViewState&&!Ji(this.props.initialViewState,e.initialViewState,3)&&(this.viewState=e.initialViewState),Object.assign(this.props,e),this._setCanvasSize(this.props);const n=Object.create(this.props);Object.assign(n,{views:this._getViews(),width:this.width,height:this.height,viewState:this._getViewState()}),(r=this.animationLoop)==null||r.setProps(n),this.layerManager&&(this.viewManager.setProps(n),this.layerManager.activateViewport(this.getViewports()[0]),this.layerManager.setProps(n),this.effectManager.setProps(n),this.deckRenderer.setProps(n),this.deckPicker.setProps(n),this.widgetManager.setProps(n)),this.stats.get("setProps Time").timeEnd()}needsRedraw(e={clearRedrawFlags:!1}){if(!this.layerManager)return!1;if(this.props._animate)return"Deck._animate";let n=this._needsRedraw;e.clearRedrawFlags&&(this._needsRedraw=!1);const r=this.viewManager.needsRedraw(e),s=this.layerManager.needsRedraw(e),o=this.effectManager.needsRedraw(e),l=this.deckRenderer.needsRedraw(e);return n=n||r||s||o||l,n}redraw(e){if(!this.layerManager)return;let n=this.needsRedraw({clearRedrawFlags:!0});n=e||n,n&&(this.stats.get("Redraw Count").incrementCount(),this.props._customRender?this.props._customRender(n):this._drawLayers(n))}get isInitialized(){return this.viewManager!==null}getViews(){return ds(this.viewManager),this.viewManager.views}getViewports(e){return ds(this.viewManager),this.viewManager.getViewports(e)}getCanvas(){return this.canvas}pickObject(e){const n=this._pick("pickObject","pickObject Time",e).result;return n.length?n[0]:null}pickMultipleObjects(e){return e.depth=e.depth||10,this._pick("pickObject","pickMultipleObjects Time",e).result}pickObjects(e){return this._pick("pickObjects","pickObjects Time",e)}_addResources(e,n=!1){for(const r in e)this.layerManager.resourceManager.add({resourceId:r,data:e[r],forceUpdate:n})}_removeResources(e){for(const n of e)this.layerManager.resourceManager.remove(n)}_addDefaultEffect(e){this.effectManager.addDefaultEffect(e)}_addDefaultShaderModule(e){this.layerManager.addDefaultShaderModule(e)}_removeDefaultShaderModule(e){var n;(n=this.layerManager)==null||n.removeDefaultShaderModule(e)}_pick(e,n,r){ds(this.deckPicker);const{stats:s}=this;s.get("Pick Count").incrementCount(),s.get(n).timeStart();const o=this.deckPicker[e]({layers:this.layerManager.getLayers(r),views:this.viewManager.getViews(),viewports:this.getViewports(r),onViewportActive:this.layerManager.activateViewport,effects:this.effectManager.getEffects(),...r});return s.get(n).timeEnd(),o}_createCanvas(e){let n=e.canvas;return typeof n=="string"&&(n=document.getElementById(n),ds(n)),n||(n=document.createElement("canvas"),n.id=e.id||"deckgl-overlay",(e.parent||document.body).appendChild(n)),Object.assign(n.style,e.style),n}_setCanvasSize(e){var s;if(!this.canvas)return;const{width:n,height:r}=e;if(n||n===0){const o=Number.isFinite(n)?`${n}px`:n;this.canvas.style.width=o}if(r||r===0){const o=Number.isFinite(r)?`${r}px`:r;this.canvas.style.position=((s=e.style)==null?void 0:s.position)||"absolute",this.canvas.style.height=o}}_updateCanvasSize(){var s,o;const{canvas:e}=this;if(!e)return;const n=e.clientWidth??e.width,r=e.clientHeight??e.height;(n!==this.width||r!==this.height)&&(this.width=n,this.height=r,(s=this.viewManager)==null||s.setProps({width:n,height:r}),(o=this.layerManager)==null||o.activateViewport(this.getViewports()[0]),this.props.onResize({width:n,height:r}))}_createAnimationLoop(e,n){const{gl:r,onError:s,useDevicePixels:o}=n;return new Ure({device:e,useDevicePixels:o,autoResizeDrawingBuffer:!r,autoResizeViewport:!1,onInitialize:l=>this._setDevice(l.device),onRender:this._onRenderFrame.bind(this),onError:s})}_getViewState(){return this.props.viewState||this.viewState}_getViews(){const{views:e}=this.props,n=Array.isArray(e)?e:e?[e]:[new JF({id:"default-view"})];return n.length&&this.props.controller&&(n[0].props.controller=this.props.controller),n}_onContextLost(){const{onError:e}=this.props;this.animationLoop&&e&&e(new Error("WebGL context is lost"))}_pickAndCallback(){var n,r,s,o;if(((n=this.device)==null?void 0:n.type)==="webgpu")return;const{_pickRequest:e}=this;if(e.event){const{result:l,emptyInfo:c}=this._pick("pickObject","pickObject Time",e);this.cursorState.isHovering=l.length>0;let f=c,h=!1;for(const p of l)f=p,h=((r=p.layer)==null?void 0:r.onHover(p,e.event))||h;h||((o=(s=this.props).onHover)==null||o.call(s,f,e.event),this.widgetManager.onHover(f,e.event)),e.event=null}}_updateCursor(){const e=this.props.parent||this.canvas;e&&(e.style.cursor=this.props.getCursor(this.cursorState))}_setDevice(e){var s,o;if(this.device=e,!this.animationLoop)return;this.canvas||(this.canvas=(s=this.device.canvasContext)==null?void 0:s.canvas),this.device.type==="webgl"&&this.device.setParametersWebGL({blend:!0,blendFunc:[770,771,1,771],polygonOffsetFill:!0,depthTest:!0,depthFunc:515}),this.props.onDeviceInitialized(this.device),this.device.type==="webgl"&&this.props.onWebGLInitialized(this.device.gl);const n=new WF;n.play(),this.animationLoop.attachTimeline(n),this.eventManager=new hne(this.props.parent||this.canvas,{touchAction:this.props.touchAction,recognizers:Object.keys(gM).map(l=>{var _;const[c,f,h,p]=gM[l],m=(_=this.props.eventRecognizerOptions)==null?void 0:_[l],b={...f,...m,event:l};return{recognizer:new c(b),recognizeWith:h,requestFailure:p}}),events:{pointerdown:this._onPointerDown,pointermove:this._onPointerMove,pointerleave:this._onPointerMove}});for(const l in kS)this.eventManager.on(l,this._onEvent);this.viewManager=new lse({timeline:n,eventManager:this.eventManager,onViewStateChange:this._onViewStateChange.bind(this),onInteractionStateChange:this._onInteractionStateChange.bind(this),views:this._getViews(),viewState:this._getViewState(),width:this.width,height:this.height});const r=this.viewManager.getViewports()[0];this.layerManager=new ase(this.device,{deck:this,stats:this.stats,viewport:r,timeline:n}),this.effectManager=new Sse({deck:this,device:this.device}),this.deckRenderer=new Ase(this.device),this.deckPicker=new Mse(this.device),this.widgetManager=new Ose({deck:this,parentElement:(o=this.canvas)==null?void 0:o.parentElement}),this.widgetManager.addDefault(new Vse),this.setProps(this.props),this._updateCanvasSize(),this.props.onLoad()}_drawLayers(e,n){var l;const{device:r,gl:s}=this.layerManager.context;this.props.onBeforeRender({device:r,gl:s});const o={target:this.props._framebuffer,layers:this.layerManager.getLayers(),viewports:this.viewManager.getViewports(),onViewportActive:this.layerManager.activateViewport,views:this.viewManager.getViews(),pass:"screen",effects:this.effectManager.getEffects(),...n};(l=this.deckRenderer)==null||l.renderLayers(o),o.pass==="screen"&&this.widgetManager.onRedraw({viewports:o.viewports,layers:o.layers}),this.props.onAfterRender({device:r,gl:s})}_onRenderFrame(){var e;this._getFrameStats(),this._metricsCounter++%60===0&&(this._getMetrics(),this.stats.reset(),Hn.table(4,this.metrics)(),this.props._onMetrics&&this.props._onMetrics(this.metrics)),this._updateCanvasSize(),this._updateCursor(),this.layerManager.updateLayers(),((e=this.device)==null?void 0:e.type)!=="webgpu"&&this._pickAndCallback(),this.redraw(),this.viewManager&&this.viewManager.updateViewStates()}_onViewStateChange(e){const n=this.props.onViewStateChange(e)||e.viewState;this.viewState&&(this.viewState={...this.viewState,[e.viewId]:n},this.props.viewState||this.viewManager&&this.viewManager.setProps({viewState:this.viewState}))}_onInteractionStateChange(e){this.cursorState.isDragging=e.isDragging||!1,this.props.onInteractionStateChange(e)}_getFrameStats(){const{stats:e}=this;e.get("frameRate").timeEnd(),e.get("frameRate").timeStart();const n=this.animationLoop.stats;e.get("GPU Time").addTime(n.get("GPU Time").lastTiming),e.get("CPU Time").addTime(n.get("CPU Time").lastTiming)}_getMetrics(){const{metrics:e,stats:n}=this;e.fps=n.get("frameRate").getHz(),e.setPropsTime=n.get("setProps Time").time,e.updateAttributesTime=n.get("Update Attributes").time,e.framesRedrawn=n.get("Redraw Count").count,e.pickTime=n.get("pickObject Time").time+n.get("pickMultipleObjects Time").time+n.get("pickObjects Time").time,e.pickCount=n.get("Pick Count").count,e.gpuTime=n.get("GPU Time").time,e.cpuTime=n.get("CPU Time").time,e.gpuTimePerFrame=n.get("GPU Time").getAverageTime(),e.cpuTimePerFrame=n.get("CPU Time").getAverageTime();const r=hS.stats.get("Memory Usage");e.bufferMemory=r.get("Buffer Memory").count,e.textureMemory=r.get("Texture Memory").count,e.renderbufferMemory=r.get("Renderbuffer Memory").count,e.gpuMemory=r.get("GPU Memory").count}}wT.defaultProps=m6;wT.VERSION=uQ;function Ooe(t){switch(t){case"float64":return Float64Array;case"uint8":case"unorm8":return Uint8ClampedArray;default:return KV(t)}}const Uoe=YV;function rx(t,e,n){const r=n==="webgpu"&&e.type==="uint8"?"unorm8":e.type;return{attribute:t,format:e.size>1?`${r}x${e.size}`:e.type,byteOffset:e.offset||0}}function Fc(t){return t.stride||t.size*t.bytesPerElement}function Voe(t,e){return t.type===e.type&&t.size===e.size&&Fc(t)===Fc(e)&&(t.offset||0)===(e.offset||0)}function zS(t,e){e.offset&&Hn.removed("shaderAttribute.offset","vertexOffset, elementOffset")();const n=Fc(t),r=e.vertexOffset!==void 0?e.vertexOffset:t.vertexOffset||0,s=e.elementOffset||0,o=r*n+s*t.bytesPerElement+(t.offset||0);return{...e,offset:o,stride:n}}function Foe(t,e){const n=zS(t,e);return{high:n,low:{...n,offset:n.offset+t.size*4}}}class Boe{constructor(e,n,r){this._buffer=null,this.device=e,this.id=n.id||"",this.size=n.size||1;const s=n.logicalType||n.type,o=s==="float64";let{defaultValue:l}=n;l=Number.isFinite(l)?[l]:l||new Array(this.size).fill(0);let c;o?c="float32":!s&&n.isIndexed?c="uint32":c=s||"float32";let f=Ooe(s||c);this.doublePrecision=o,o&&n.fp64===!1&&(f=Float32Array),this.value=null,this.settings={...n,defaultType:f,defaultValue:l,logicalType:s,type:c,normalized:c.includes("norm"),size:this.size,bytesPerElement:f.BYTES_PER_ELEMENT},this.state={...r,externalBuffer:null,bufferAccessor:this.settings,allocatedValue:null,numInstances:0,bounds:null,constant:!1}}get isConstant(){return this.state.constant}get buffer(){return this._buffer}get byteOffset(){const e=this.getAccessor();return e.vertexOffset?e.vertexOffset*Fc(e):0}get numInstances(){return this.state.numInstances}set numInstances(e){this.state.numInstances=e}delete(){this._buffer&&(this._buffer.delete(),this._buffer=null),sm.release(this.state.allocatedValue)}getBuffer(){return this.state.constant?null:this.state.externalBuffer||this._buffer}getValue(e=this.id,n=null){const r={};if(this.state.constant){const s=this.value;if(n){const o=zS(this.getAccessor(),n),l=o.offset/s.BYTES_PER_ELEMENT,c=o.size||this.size;r[e]=s.subarray(l,l+c)}else r[e]=s}else r[e]=this.getBuffer();return this.doublePrecision&&(this.value instanceof Float64Array?r[`${e}64Low`]=r[e]:r[`${e}64Low`]=new Float32Array(this.size)),r}_getBufferLayout(e=this.id,n=null){const r=this.getAccessor(),s=[],o={name:this.id,byteStride:Fc(r),attributes:s};if(this.doublePrecision){const l=Foe(r,n||{});s.push(rx(e,{...r,...l.high},this.device.type),rx(`${e}64Low`,{...r,...l.low},this.device.type))}else if(n){const l=zS(r,n);s.push(rx(e,{...r,...l},this.device.type))}else s.push(rx(e,r,this.device.type));return o}setAccessor(e){this.state.bufferAccessor=e}getAccessor(){return this.state.bufferAccessor}getBounds(){if(this.state.bounds)return this.state.bounds;let e=null;if(this.state.constant&&this.value){const n=Array.from(this.value);e=[n,n]}else{const{value:n,numInstances:r,size:s}=this,o=r*s;if(n&&o&&n.length>=o){const l=new Array(s).fill(1/0),c=new Array(s).fill(-1/0);for(let f=0;f<o;)for(let h=0;h<s;h++){const p=n[f++];p<l[h]&&(l[h]=p),p>c[h]&&(c[h]=p)}e=[l,c]}}return this.state.bounds=e,e}setData(e){const{state:n}=this;let r;ArrayBuffer.isView(e)?r={value:e}:e instanceof nr?r={buffer:e}:r=e;const s={...this.settings,...r};if(ArrayBuffer.isView(r.value)){if(!r.type)if(this.doublePrecision&&r.value instanceof Float64Array)s.type="float32";else{const l=Uoe(r.value);s.type=s.normalized?l.replace("int","norm"):l}s.bytesPerElement=r.value.BYTES_PER_ELEMENT,s.stride=Fc(s)}if(n.bounds=null,r.constant){let o=r.value;if(o=this._normalizeValue(o,[],0),this.settings.normalized&&(o=this.normalizeConstant(o)),!(!n.constant||!this._areValuesEqual(o,this.value)))return!1;n.externalBuffer=null,n.constant=!0,this.value=ArrayBuffer.isView(o)?o:new Float32Array(o)}else if(r.buffer){const o=r.buffer;n.externalBuffer=o,n.constant=!1,this.value=r.value||null}else if(r.value){this._checkExternalBuffer(r);let o=r.value;n.externalBuffer=null,n.constant=!1,this.value=o;let{buffer:l}=this;const c=Fc(s),f=(s.vertexOffset||0)*c;if(this.doublePrecision&&o instanceof Float64Array&&(o=z1(o,s)),this.settings.isIndexed){const p=this.settings.defaultType;o.constructor!==p&&(o=new p(o))}const h=o.byteLength+f+c*2;(!l||l.byteLength<h)&&(l=this._createBuffer(h)),l.write(o,f)}return this.setAccessor(s),!0}updateSubBuffer(e={}){this.state.bounds=null;const n=this.value,{startOffset:r=0,endOffset:s}=e;this.buffer.write(this.doublePrecision&&n instanceof Float64Array?z1(n,{size:this.size,startIndex:r,endIndex:s}):n.subarray(r,s),r*n.BYTES_PER_ELEMENT+this.byteOffset)}allocate(e,n=!1){const{state:r}=this,s=r.allocatedValue,o=sm.allocate(s,e+1,{size:this.size,type:this.settings.defaultType,copy:n});this.value=o;const{byteOffset:l}=this;let{buffer:c}=this;return(!c||c.byteLength<o.byteLength+l)&&(c=this._createBuffer(o.byteLength+l),n&&s&&c.write(s instanceof Float64Array?z1(s,this):s,l)),r.allocatedValue=o,r.constant=!1,r.externalBuffer=null,this.setAccessor(this.settings),!0}_checkExternalBuffer(e){const{value:n}=e;if(!ArrayBuffer.isView(n))throw new Error(`Attribute ${this.id} value is not TypedArray`);const r=this.settings.defaultType;let s=!1;if(this.doublePrecision&&(s=n.BYTES_PER_ELEMENT<4),s)throw new Error(`Attribute ${this.id} does not support ${n.constructor.name}`);!(n instanceof r)&&this.settings.normalized&&!("normalized"in e)&&Hn.warn(`Attribute ${this.id} is normalized`)()}normalizeConstant(e){switch(this.settings.type){case"snorm8":return new Float32Array(e).map(n=>(n+128)/255*2-1);case"snorm16":return new Float32Array(e).map(n=>(n+32768)/65535*2-1);case"unorm8":return new Float32Array(e).map(n=>n/255);case"unorm16":return new Float32Array(e).map(n=>n/65535);default:return e}}_normalizeValue(e,n,r){const{defaultValue:s,size:o}=this.settings;if(Number.isFinite(e))return n[r]=e,n;if(!e){let l=o;for(;--l>=0;)n[r+l]=s[l];return n}switch(o){case 4:n[r+3]=Number.isFinite(e[3])?e[3]:s[3];case 3:n[r+2]=Number.isFinite(e[2])?e[2]:s[2];case 2:n[r+1]=Number.isFinite(e[1])?e[1]:s[1];case 1:n[r+0]=Number.isFinite(e[0])?e[0]:s[0];break;default:let l=o;for(;--l>=0;)n[r+l]=Number.isFinite(e[l])?e[l]:s[l]}return n}_areValuesEqual(e,n){if(!e||!n)return!1;const{size:r}=this;for(let s=0;s<r;s++)if(e[s]!==n[s])return!1;return!0}_createBuffer(e){var s;this._buffer&&this._buffer.destroy();const{isIndexed:n,type:r}=this.settings;return this._buffer=this.device.createBuffer({...(s=this._buffer)==null?void 0:s.props,id:this.id,usage:(n?nr.INDEX:nr.VERTEX)|nr.COPY_DST,indexType:n?r:void 0,byteLength:e}),this._buffer}}const ZM=[],GM=[];function Loe(t,e=0,n=1/0){let r=ZM;const s={index:-1,data:t,target:[]};return t?typeof t[Symbol.iterator]=="function"?r=t:t.length>0&&(GM.length=t.length,r=GM):r=ZM,(e>0||Number.isFinite(n))&&(r=(Array.isArray(r)?r:Array.from(r)).slice(e,n),s.index=e-1),{iterable:r,objectInfo:s}}function g6(t){return t&&t[Symbol.asyncIterator]}function zoe(t,e){const{size:n,stride:r,offset:s,startIndices:o,nested:l}=e,c=t.BYTES_PER_ELEMENT,f=r?r/c:n,h=s?s/c:0,p=Math.floor((t.length-h)/f);return(m,{index:b,target:_})=>{if(!o){const D=b*f+h;for(let M=0;M<n;M++)_[M]=t[D+M];return _}const E=o[b],T=o[b+1]||p;let C;if(l){C=new Array(T-E);for(let D=E;D<T;D++){const M=D*f+h;_=new Array(n);for(let P=0;P<n;P++)_[P]=t[M+P];C[D-E]=_}}else if(f===n)C=t.subarray(E*n+h,T*n+h);else{C=new t.constructor((T-E)*n);let D=0;for(let M=E;M<T;M++){const P=M*f+h;for(let U=0;U<n;U++)C[D++]=t[P+U]}}return C}}const $oe=[],Sx=[[0,1/0]];function Hoe(t,e){if(t===Sx||(e[0]<0&&(e[0]=0),e[0]>=e[1]))return t;const n=[],r=t.length;let s=0;for(let o=0;o<r;o++){const l=t[o];l[1]<e[0]?(n.push(l),s=o+1):l[0]>e[1]?n.push(l):e=[Math.min(l[0],e[0]),Math.max(l[1],e[1])]}return n.splice(s,0,e),n}const Woe={interpolation:{duration:0,easing:t=>t},spring:{stiffness:.05,damping:.5}};function b6(t,e){if(!t)return null;Number.isFinite(t)&&(t={type:"interpolation",duration:t});const n=t.type||"interpolation";return{...Woe[n],...e,...t,type:n}}class x6 extends Boe{constructor(e,n){super(e,n,{startIndices:null,lastExternalBuffer:null,binaryValue:null,binaryAccessor:null,needsUpdate:!0,needsRedraw:!1,layoutChanged:!1,updateRanges:Sx}),this.constant=!1,this.settings.update=n.update||(n.accessor?this._autoUpdater:void 0),Object.seal(this.settings),Object.seal(this.state),this._validateAttributeUpdaters()}get startIndices(){return this.state.startIndices}set startIndices(e){this.state.startIndices=e}needsUpdate(){return this.state.needsUpdate}needsRedraw({clearChangedFlags:e=!1}={}){const n=this.state.needsRedraw;return this.state.needsRedraw=n&&!e,n}layoutChanged(){return this.state.layoutChanged}setAccessor(e){var n;(n=this.state).layoutChanged||(n.layoutChanged=!Voe(e,this.getAccessor())),super.setAccessor(e)}getUpdateTriggers(){const{accessor:e}=this.settings;return[this.id].concat(typeof e!="function"&&e||[])}supportsTransition(){return!!this.settings.transition}getTransitionSetting(e){if(!e||!this.supportsTransition())return null;const{accessor:n}=this.settings,r=this.settings.transition,s=Array.isArray(n)?e[n.find(o=>e[o])]:e[n];return b6(s,r)}setNeedsUpdate(e=this.id,n){if(this.state.needsUpdate=this.state.needsUpdate||e,this.setNeedsRedraw(e),n){const{startRow:r=0,endRow:s=1/0}=n;this.state.updateRanges=Hoe(this.state.updateRanges,[r,s])}else this.state.updateRanges=Sx}clearNeedsUpdate(){this.state.needsUpdate=!1,this.state.updateRanges=$oe}setNeedsRedraw(e=this.id){this.state.needsRedraw=this.state.needsRedraw||e}allocate(e){const{state:n,settings:r}=this;return r.noAlloc?!1:r.update?(super.allocate(e,n.updateRanges!==Sx),!0):!1}updateBuffer({numInstances:e,data:n,props:r,context:s}){if(!this.needsUpdate())return!1;const{state:{updateRanges:o},settings:{update:l,noAlloc:c}}=this;let f=!0;if(l){for(const[h,p]of o)l.call(s,this,{data:n,startRow:h,endRow:p,props:r,numInstances:e});if(this.value)if(this.constant||!this.buffer||this.buffer.byteLength<this.value.byteLength+this.byteOffset)this.setData({value:this.value,constant:this.constant}),this.constant=!1;else for(const[h,p]of o){const m=Number.isFinite(h)?this.getVertexOffset(h):0,b=Number.isFinite(p)?this.getVertexOffset(p):c||!Number.isFinite(e)?this.value.length:e*this.size;super.updateSubBuffer({startOffset:m,endOffset:b})}this._checkAttributeArray()}else f=!1;return this.clearNeedsUpdate(),this.setNeedsRedraw(),f}setConstantValue(e){return this.device.type==="webgpu"||e===void 0||typeof e=="function"?!1:(this.setData({constant:!0,value:e})&&this.setNeedsRedraw(),this.clearNeedsUpdate(),!0)}setExternalBuffer(e){const{state:n}=this;return e?(this.clearNeedsUpdate(),n.lastExternalBuffer===e||(n.lastExternalBuffer=e,this.setNeedsRedraw(),this.setData(e)),!0):(n.lastExternalBuffer=null,!1)}setBinaryValue(e,n=null){const{state:r,settings:s}=this;if(!e)return r.binaryValue=null,r.binaryAccessor=null,!1;if(s.noAlloc)return!1;if(r.binaryValue===e)return this.clearNeedsUpdate(),!0;if(r.binaryValue=e,this.setNeedsRedraw(),s.transform||n!==this.startIndices){ArrayBuffer.isView(e)&&(e={value:e});const l=e;ds(ArrayBuffer.isView(l.value),`invalid ${s.accessor}`);const c=!!l.size&&l.size!==this.size;return r.binaryAccessor=zoe(l.value,{size:l.size||this.size,stride:l.stride,offset:l.offset,startIndices:n,nested:c}),!1}return this.clearNeedsUpdate(),this.setData(e),!0}getVertexOffset(e){const{startIndices:n}=this;return(n?e<n.length?n[e]:this.numInstances:e)*this.size}getValue(){const e=this.settings.shaderAttributes,n=super.getValue();if(!e)return n;for(const r in e)Object.assign(n,super.getValue(r,e[r]));return n}getBufferLayout(e){this.state.layoutChanged=!1;const n=this.settings.shaderAttributes,r=super._getBufferLayout(),{stepMode:s}=this.settings;if(s==="dynamic"?r.stepMode=e?e.isInstanced?"instance":"vertex":"instance":r.stepMode=s??"vertex",!n)return r;for(const o in n){const l=super._getBufferLayout(o,n[o]);r.attributes.push(...l.attributes)}return r}_autoUpdater(e,{data:n,startRow:r,endRow:s,props:o,numInstances:l}){if(e.constant&&this.context.device.type!=="webgpu")return;const{settings:c,state:f,value:h,size:p,startIndices:m}=e,{accessor:b,transform:_}=c;let E=f.binaryAccessor||(typeof b=="function"?b:o[b]);typeof E!="function"&&(E=()=>E),ds(typeof E=="function",`accessor "${b}" is not a function`);let T=e.getVertexOffset(r);const{iterable:C,objectInfo:D}=Loe(n,r,s);for(const M of C){D.index++;let P=E(M,D);if(_&&(P=_.call(this,P)),m){const U=(D.index<m.length-1?m[D.index+1]:l)-m[D.index];if(P&&Array.isArray(P[0])){let L=T;for(const O of P)e._normalizeValue(O,h,L),L+=p}else P&&P.length>p?h.set(P,T):(e._normalizeValue(P,D.target,0),nse({target:h,source:D.target,start:T,count:U}));T+=U*p}else e._normalizeValue(P,h,T),T+=p}}_validateAttributeUpdaters(){const{settings:e}=this;if(!(e.noAlloc||typeof e.update=="function"))throw new Error(`Attribute ${this.id} missing update or accessor`)}_checkAttributeArray(){const{value:e}=this,n=Math.min(4,this.size);if(e&&e.length>=n){let r=!0;switch(n){case 4:r=r&&Number.isFinite(e[3]);case 3:r=r&&Number.isFinite(e[2]);case 2:r=r&&Number.isFinite(e[1]);case 1:r=r&&Number.isFinite(e[0]);break;default:r=!1}if(!r)throw new Error(`Illegal attribute generated for ${this.id}`)}}}function G1(t){const{source:e,target:n,start:r=0,size:s,getData:o}=t,l=t.end||n.length,c=e.length,f=l-r;if(c>f){n.set(e.subarray(0,f),r);return}if(n.set(e,r),!o)return;let h=c;for(;h<f;){const p=o(h,e);for(let m=0;m<s;m++)n[r+h]=p[m]||0,h++}}function qoe({source:t,target:e,size:n,getData:r,sourceStartIndices:s,targetStartIndices:o}){if(!s||!o)return G1({source:t,target:e,size:n,getData:r}),e;let l=0,c=0;const f=r&&((p,m)=>r(p+c,m)),h=Math.min(s.length,o.length);for(let p=1;p<h;p++){const m=s[p]*n,b=o[p]*n;G1({source:t.subarray(l,m),target:e,start:c,end:b,size:n,getData:f}),l=m,c=b}return c<e.length&&G1({source:[],target:e,start:c,size:n,getData:f}),e}function Xoe(t){const{device:e,settings:n,value:r}=t,s=new x6(e,n);return s.setData({value:r instanceof Float64Array?new Float64Array(0):new Float32Array(0),normalized:n.normalized}),s}function y6(t){switch(t){case 1:return"float";case 2:return"vec2";case 3:return"vec3";case 4:return"vec4";default:throw new Error(`No defined attribute type for size "${t}"`)}}function v6(t){switch(t){case 1:return"float32";case 2:return"float32x2";case 3:return"float32x3";case 4:return"float32x4";default:throw new Error("invalid type size")}}function _6(t){t.push(t.shift())}function Yoe(t,e){const{doublePrecision:n,settings:r,value:s,size:o}=t,l=n&&s instanceof Float64Array?2:1;let c=0;const{shaderAttributes:f}=t.settings;if(f)for(const h of Object.values(f))c=Math.max(c,h.vertexOffset??0);return(r.noAlloc?s.length:(e+c)*o)*l}function w6({device:t,source:e,target:n}){return(!n||n.byteLength<e.byteLength)&&(n==null||n.destroy(),n=t.createBuffer({byteLength:e.byteLength,usage:e.usage})),n}function N6({device:t,buffer:e,attribute:n,fromLength:r,toLength:s,fromStartIndices:o,getData:l=c=>c}){const c=n.doublePrecision&&n.value instanceof Float64Array?2:1,f=n.size*c,h=n.byteOffset,p=n.settings.bytesPerElement<4?h/n.settings.bytesPerElement*4:h,m=n.startIndices,b=o&&m,_=n.isConstant;if(!b&&e&&r>=s)return e;const E=n.value instanceof Float64Array?Float32Array:n.value.constructor,T=_?n.value:new E(n.getBuffer().readSyncWebGL(h,s*E.BYTES_PER_ELEMENT).buffer);if(n.settings.normalized&&!_){const P=l;l=(U,L)=>n.normalizeConstant(P(U,L))}const C=_?(P,U)=>l(T,U):(P,U)=>l(T.subarray(P+h,P+h+f),U),D=e?new Float32Array(e.readSyncWebGL(p,r*4).buffer):new Float32Array(0),M=new Float32Array(s);return qoe({source:D,target:M,sourceStartIndices:o,targetStartIndices:m,size:f,getData:C}),(!e||e.byteLength<M.byteLength+p)&&(e==null||e.destroy(),e=t.createBuffer({byteLength:M.byteLength+p,usage:35050})),e.write(M,p),e}class S6{constructor({device:e,attribute:n,timeline:r}){this.buffers=[],this.currentLength=0,this.device=e,this.transition=new uv(r),this.attribute=n,this.attributeInTransition=Xoe(n),this.currentStartIndices=n.startIndices}get inProgress(){return this.transition.inProgress}start(e,n,r=1/0){this.settings=e,this.currentStartIndices=this.attribute.startIndices,this.currentLength=Yoe(this.attribute,n),this.transition.start({...e,duration:r})}update(){const e=this.transition.update();return e&&this.onUpdate(),e}setBuffer(e){this.attributeInTransition.setData({buffer:e,normalized:this.attribute.settings.normalized,value:this.attributeInTransition.value})}cancel(){this.transition.cancel()}delete(){this.cancel();for(const e of this.buffers)e.destroy();this.buffers.length=0}}class Koe extends S6{constructor({device:e,attribute:n,timeline:r}){super({device:e,attribute:n,timeline:r}),this.type="interpolation",this.transform=Joe(e,n)}start(e,n){const r=this.currentLength,s=this.currentStartIndices;if(super.start(e,n,e.duration),e.duration<=0){this.transition.cancel();return}const{buffers:o,attribute:l}=this;_6(o),o[0]=N6({device:this.device,buffer:o[0],attribute:l,fromLength:r,toLength:this.currentLength,fromStartIndices:s,getData:e.enter}),o[1]=w6({device:this.device,source:o[0],target:o[1]}),this.setBuffer(o[1]);const{transform:c}=this,f=c.model;let h=Math.floor(this.currentLength/l.size);E6(l)&&(h/=2),f.setVertexCount(h),l.isConstant?(f.setAttributes({aFrom:o[0]}),f.setConstantAttributes({aTo:l.value})):f.setAttributes({aFrom:o[0],aTo:l.getBuffer()}),c.transformFeedback.setBuffers({vCurrent:o[1]})}onUpdate(){const{duration:e,easing:n}=this.settings,{time:r}=this.transition;let s=r/e;n&&(s=n(s));const{model:o}=this.transform,l={time:s};o.shaderInputs.setProps({interpolation:l}),this.transform.run({discard:!0})}delete(){super.delete(),this.transform.destroy()}}const Zoe=`uniform interpolationUniforms {
  float time;
} interpolation;
`,QM={name:"interpolation",vs:Zoe,uniformTypes:{time:"f32"}},Goe=`#version 300 es
#define SHADER_NAME interpolation-transition-vertex-shader

in ATTRIBUTE_TYPE aFrom;
in ATTRIBUTE_TYPE aTo;
out ATTRIBUTE_TYPE vCurrent;

void main(void) {
  vCurrent = mix(aFrom, aTo, interpolation.time);
  gl_Position = vec4(0.0);
}
`,Qoe=`#version 300 es
#define SHADER_NAME interpolation-transition-vertex-shader

in ATTRIBUTE_TYPE aFrom;
in ATTRIBUTE_TYPE aFrom64Low;
in ATTRIBUTE_TYPE aTo;
in ATTRIBUTE_TYPE aTo64Low;
out ATTRIBUTE_TYPE vCurrent;
out ATTRIBUTE_TYPE vCurrent64Low;

vec2 mix_fp64(vec2 a, vec2 b, float x) {
  vec2 range = sub_fp64(b, a);
  return sum_fp64(a, mul_fp64(range, vec2(x, 0.0)));
}

void main(void) {
  for (int i=0; i<ATTRIBUTE_SIZE; i++) {
    vec2 value = mix_fp64(vec2(aFrom[i], aFrom64Low[i]), vec2(aTo[i], aTo64Low[i]), interpolation.time);
    vCurrent[i] = value.x;
    vCurrent64Low[i] = value.y;
  }
  gl_Position = vec4(0.0);
}
`;function E6(t){return t.doublePrecision&&t.value instanceof Float64Array}function Joe(t,e){const n=e.size,r=y6(n),s=v6(n),o=e.getBufferLayout();return E6(e)?new im(t,{vs:Qoe,bufferLayout:[{name:"aFrom",byteStride:8*n,attributes:[{attribute:"aFrom",format:s,byteOffset:0},{attribute:"aFrom64Low",format:s,byteOffset:4*n}]},{name:"aTo",byteStride:8*n,attributes:[{attribute:"aTo",format:s,byteOffset:0},{attribute:"aTo64Low",format:s,byteOffset:4*n}]}],modules:[fte,QM],defines:{ATTRIBUTE_TYPE:r,ATTRIBUTE_SIZE:n},moduleSettings:{},varyings:["vCurrent","vCurrent64Low"],bufferMode:35980,disableWarnings:!0}):new im(t,{vs:Goe,bufferLayout:[{name:"aFrom",format:s},{name:"aTo",format:o.attributes[0].format}],modules:[QM],defines:{ATTRIBUTE_TYPE:r},varyings:["vCurrent"],disableWarnings:!0})}class eae extends S6{constructor({device:e,attribute:n,timeline:r}){super({device:e,attribute:n,timeline:r}),this.type="spring",this.texture=oae(e),this.framebuffer=aae(e,this.texture),this.transform=iae(e,n)}start(e,n){const r=this.currentLength,s=this.currentStartIndices;super.start(e,n);const{buffers:o,attribute:l}=this;for(let f=0;f<2;f++)o[f]=N6({device:this.device,buffer:o[f],attribute:l,fromLength:r,toLength:this.currentLength,fromStartIndices:s,getData:e.enter});o[2]=w6({device:this.device,source:o[0],target:o[2]}),this.setBuffer(o[1]);const{model:c}=this.transform;c.setVertexCount(Math.floor(this.currentLength/l.size)),l.isConstant?c.setConstantAttributes({aTo:l.value}):c.setAttributes({aTo:l.getBuffer()})}onUpdate(){const{buffers:e,transform:n,framebuffer:r,transition:s}=this,o=this.settings;n.model.setAttributes({aPrev:e[0],aCur:e[1]}),n.transformFeedback.setBuffers({vNext:e[2]});const l={stiffness:o.stiffness,damping:o.damping};n.model.shaderInputs.setProps({spring:l}),n.run({framebuffer:r,discard:!1,parameters:{viewport:[0,0,1,1]},clearColor:[0,0,0,0]}),_6(e),this.setBuffer(e[1]),this.device.readPixelsToArrayWebGL(r)[0]>0||s.end()}delete(){super.delete(),this.transform.destroy(),this.texture.destroy(),this.framebuffer.destroy()}}const tae=`uniform springUniforms {
  float damping;
  float stiffness;
} spring;
`,nae={name:"spring",vs:tae,uniformTypes:{damping:"f32",stiffness:"f32"}},rae=`#version 300 es
#define SHADER_NAME spring-transition-vertex-shader

#define EPSILON 0.00001

in ATTRIBUTE_TYPE aPrev;
in ATTRIBUTE_TYPE aCur;
in ATTRIBUTE_TYPE aTo;
out ATTRIBUTE_TYPE vNext;
out float vIsTransitioningFlag;

ATTRIBUTE_TYPE getNextValue(ATTRIBUTE_TYPE cur, ATTRIBUTE_TYPE prev, ATTRIBUTE_TYPE dest) {
  ATTRIBUTE_TYPE velocity = cur - prev;
  ATTRIBUTE_TYPE delta = dest - cur;
  ATTRIBUTE_TYPE force = delta * spring.stiffness;
  ATTRIBUTE_TYPE resistance = velocity * spring.damping;
  return force - resistance + velocity + cur;
}

void main(void) {
  bool isTransitioning = length(aCur - aPrev) > EPSILON || length(aTo - aCur) > EPSILON;
  vIsTransitioningFlag = isTransitioning ? 1.0 : 0.0;

  vNext = getNextValue(aCur, aPrev, aTo);
  gl_Position = vec4(0, 0, 0, 1);
  gl_PointSize = 100.0;
}
`,sae=`#version 300 es
#define SHADER_NAME spring-transition-is-transitioning-fragment-shader

in float vIsTransitioningFlag;

out vec4 fragColor;

void main(void) {
  if (vIsTransitioningFlag == 0.0) {
    discard;
  }
  fragColor = vec4(1.0);
}`;function iae(t,e){const n=y6(e.size),r=v6(e.size);return new im(t,{vs:rae,fs:sae,bufferLayout:[{name:"aPrev",format:r},{name:"aCur",format:r},{name:"aTo",format:e.getBufferLayout().attributes[0].format}],varyings:["vNext"],modules:[nae],defines:{ATTRIBUTE_TYPE:n},parameters:{depthCompare:"always",blendColorOperation:"max",blendColorSrcFactor:"one",blendColorDstFactor:"one",blendAlphaOperation:"max",blendAlphaSrcFactor:"one",blendAlphaDstFactor:"one"}})}function oae(t){return t.createTexture({data:new Uint8Array(4),format:"rgba8unorm",mipmaps:!1,width:1,height:1})}function aae(t,e){return t.createFramebuffer({id:"spring-transition-is-transitioning-framebuffer",width:1,height:1,colorAttachments:[e]})}const lae={interpolation:Koe,spring:eae};class cae{constructor(e,{id:n,timeline:r}){if(!e)throw new Error("AttributeTransitionManager is constructed without device");this.id=n,this.device=e,this.timeline=r,this.transitions={},this.needsRedraw=!1,this.numInstances=1}finalize(){for(const e in this.transitions)this._removeTransition(e)}update({attributes:e,transitions:n,numInstances:r}){this.numInstances=r||1;for(const s in e){const o=e[s],l=o.getTransitionSetting(n);l&&this._updateAttribute(s,o,l)}for(const s in this.transitions){const o=e[s];(!o||!o.getTransitionSetting(n))&&this._removeTransition(s)}}hasAttribute(e){const n=this.transitions[e];return n&&n.inProgress}getAttributes(){const e={};for(const n in this.transitions){const r=this.transitions[n];r.inProgress&&(e[n]=r.attributeInTransition)}return e}run(){if(this.numInstances===0)return!1;for(const n in this.transitions)this.transitions[n].update()&&(this.needsRedraw=!0);const e=this.needsRedraw;return this.needsRedraw=!1,e}_removeTransition(e){this.transitions[e].delete(),delete this.transitions[e]}_updateAttribute(e,n,r){const s=this.transitions[e];let o=!s||s.type!==r.type;if(o){s&&this._removeTransition(e);const l=lae[r.type];l?this.transitions[e]=new l({attribute:n,timeline:this.timeline,device:this.device}):(Hn.error(`unsupported transition type '${r.type}'`)(),o=!1)}(o||n.needsRedraw())&&(this.needsRedraw=!0,this.transitions[e].start(r,this.numInstances))}}const JM="attributeManager.invalidate",uae="attributeManager.updateStart",fae="attributeManager.updateEnd",dae="attribute.updateStart",hae="attribute.allocate",pae="attribute.updateEnd";class mae{constructor(e,{id:n="attribute-manager",stats:r,timeline:s}={}){this.mergeBoundsMemoized=Am(Sre),this.id=n,this.device=e,this.attributes={},this.updateTriggers={},this.needsRedraw=!0,this.userData={},this.stats=r,this.attributeTransitionManager=new cae(e,{id:`${n}-transitions`,timeline:s}),Object.seal(this)}finalize(){for(const e in this.attributes)this.attributes[e].delete();this.attributeTransitionManager.finalize()}getNeedsRedraw(e={clearRedrawFlags:!1}){const n=this.needsRedraw;return this.needsRedraw=this.needsRedraw&&!e.clearRedrawFlags,n&&this.id}setNeedsRedraw(){this.needsRedraw=!0}add(e){this._add(e)}addInstanced(e){this._add(e,{stepMode:"instance"})}remove(e){for(const n of e)this.attributes[n]!==void 0&&(this.attributes[n].delete(),delete this.attributes[n])}invalidate(e,n){const r=this._invalidateTrigger(e,n);Rs(JM,this,e,r)}invalidateAll(e){for(const n in this.attributes)this.attributes[n].setNeedsUpdate(n,e);Rs(JM,this,"all")}update({data:e,numInstances:n,startIndices:r=null,transitions:s,props:o={},buffers:l={},context:c={}}){let f=!1;Rs(uae,this),this.stats&&this.stats.get("Update Attributes").timeStart();for(const h in this.attributes){const p=this.attributes[h],m=p.settings.accessor;p.startIndices=r,p.numInstances=n,o[h]&&Hn.removed(`props.${h}`,`data.attributes.${h}`)(),p.setExternalBuffer(l[h])||p.setBinaryValue(typeof m=="string"?l[m]:void 0,e.startIndices)||typeof m=="string"&&!l[m]&&p.setConstantValue(o[m])||p.needsUpdate()&&(f=!0,this._updateAttribute({attribute:p,numInstances:n,data:e,props:o,context:c})),this.needsRedraw=this.needsRedraw||p.needsRedraw()}f&&Rs(fae,this,n),this.stats&&this.stats.get("Update Attributes").timeEnd(),this.attributeTransitionManager.update({attributes:this.attributes,numInstances:n,transitions:s})}updateTransition(){const{attributeTransitionManager:e}=this,n=e.run();return this.needsRedraw=this.needsRedraw||n,n}getAttributes(){return{...this.attributes,...this.attributeTransitionManager.getAttributes()}}getBounds(e){const n=e.map(r=>{var s;return(s=this.attributes[r])==null?void 0:s.getBounds()});return this.mergeBoundsMemoized(n)}getChangedAttributes(e={clearChangedFlags:!1}){const{attributes:n,attributeTransitionManager:r}=this,s={...r.getAttributes()};for(const o in n){const l=n[o];l.needsRedraw(e)&&!r.hasAttribute(o)&&(s[o]=l)}return s}getBufferLayouts(e){return Object.values(this.getAttributes()).map(n=>n.getBufferLayout(e))}_add(e,n){for(const r in e){const s=e[r],o={...s,id:r,size:s.isIndexed&&1||s.size||1,...n};this.attributes[r]=new x6(this.device,o)}this._mapUpdateTriggersToAttributes()}_mapUpdateTriggersToAttributes(){const e={};for(const n in this.attributes)this.attributes[n].getUpdateTriggers().forEach(s=>{e[s]||(e[s]=[]),e[s].push(n)});this.updateTriggers=e}_invalidateTrigger(e,n){const{attributes:r,updateTriggers:s}=this,o=s[e];return o&&o.forEach(l=>{const c=r[l];c&&c.setNeedsUpdate(c.id,n)}),o}_updateAttribute(e){const{attribute:n,numInstances:r}=e;if(Rs(dae,n),n.constant){n.setConstantValue(n.value);return}n.allocate(r)&&Rs(hae,n,r),n.updateBuffer(e)&&(this.needsRedraw=!0,Rs(pae,n,r))}}class gae extends uv{get value(){return this._value}_onUpdate(){const{time:e,settings:{fromValue:n,toValue:r,duration:s,easing:o}}=this,l=o(e/s);this._value=ay(n,r,l)}}const ej=1e-5;function tj(t,e,n,r,s){const o=e-t,c=(n-e)*s,f=-o*r;return c+f+o+e}function bae(t,e,n,r,s){if(Array.isArray(n)){const o=[];for(let l=0;l<n.length;l++)o[l]=tj(t[l],e[l],n[l],r,s);return o}return tj(t,e,n,r,s)}function nj(t,e){if(Array.isArray(t)){let n=0;for(let r=0;r<t.length;r++){const s=t[r]-e[r];n+=s*s}return Math.sqrt(n)}return Math.abs(t-e)}class xae extends uv{get value(){return this._currValue}_onUpdate(){const{fromValue:e,toValue:n,damping:r,stiffness:s}=this.settings,{_prevValue:o=e,_currValue:l=e}=this;let c=bae(o,l,n,r,s);const f=nj(c,n),h=nj(c,l);f<ej&&h<ej&&(c=n,this.end()),this._prevValue=l,this._currValue=c}}const yae={interpolation:gae,spring:xae};class vae{constructor(e){this.transitions=new Map,this.timeline=e}get active(){return this.transitions.size>0}add(e,n,r,s){const{transitions:o}=this;if(o.has(e)){const f=o.get(e),{value:h=f.settings.fromValue}=f;n=h,this.remove(e)}if(s=b6(s),!s)return;const l=yae[s.type];if(!l){Hn.error(`unsupported transition type '${s.type}'`)();return}const c=new l(this.timeline);c.start({...s,fromValue:n,toValue:r}),o.set(e,c)}remove(e){const{transitions:n}=this;n.has(e)&&(n.get(e).cancel(),n.delete(e))}update(){const e={};for(const[n,r]of this.transitions)r.update(),e[n]=r.value,r.inProgress||this.remove(n);return e}clear(){for(const e of this.transitions.keys())this.remove(e)}}function _ae(t){const e=t[Gc];for(const n in e){const r=e[n],{validate:s}=r;if(s&&!s(t[n],r))throw new Error(`Invalid prop ${n}: ${t[n]}`)}}function wae(t,e){const n=T6({newProps:t,oldProps:e,propTypes:t[Gc],ignoreProps:{data:null,updateTriggers:null,extensions:null,transitions:null}}),r=Sae(t,e);let s=!1;return r||(s=Eae(t,e)),{dataChanged:r,propsChanged:n,updateTriggersChanged:s,extensionsChanged:Tae(t,e),transitionsChanged:Nae(t,e)}}function Nae(t,e){if(!t.transitions)return!1;const n={},r=t[Gc];let s=!1;for(const o in t.transitions){const l=r[o],c=l&&l.type;(c==="number"||c==="color"||c==="array")&&$S(t[o],e[o],l)&&(n[o]=!0,s=!0)}return s?n:!1}function T6({newProps:t,oldProps:e,ignoreProps:n={},propTypes:r={},triggerName:s="props"}){if(e===t)return!1;if(typeof t!="object"||t===null)return`${s} changed shallowly`;if(typeof e!="object"||e===null)return`${s} changed shallowly`;for(const o of Object.keys(t))if(!(o in n)){if(!(o in e))return`${s}.${o} added`;const l=$S(t[o],e[o],r[o]);if(l)return`${s}.${o} ${l}`}for(const o of Object.keys(e))if(!(o in n)){if(!(o in t))return`${s}.${o} dropped`;if(!Object.hasOwnProperty.call(t,o)){const l=$S(t[o],e[o],r[o]);if(l)return`${s}.${o} ${l}`}}return!1}function $S(t,e,n){let r=n&&n.equal;return r&&!r(t,e,n)||!r&&(r=t&&e&&t.equals,r&&!r.call(t,e))?"changed deeply":!r&&e!==t?"changed shallowly":null}function Sae(t,e){if(e===null)return"oldProps is null, initial diff";let n=!1;const{dataComparator:r,_dataDiff:s}=t;return r?r(t.data,e.data)||(n="Data comparator detected a change"):t.data!==e.data&&(n="A new data container was supplied"),n&&s&&(n=s(t.data,e.data)||n),n}function Eae(t,e){if(e===null)return{all:!0};if("all"in t.updateTriggers&&rj(t,e,"all"))return{all:!0};const n={};let r=!1;for(const s in t.updateTriggers)s!=="all"&&rj(t,e,s)&&(n[s]=!0,r=!0);return r?n:!1}function Tae(t,e){if(e===null)return!0;const n=e.extensions,{extensions:r}=t;if(r===n)return!1;if(!n||!r||r.length!==n.length)return!0;for(let s=0;s<r.length;s++)if(!r[s].equals(n[s]))return!0;return!1}function rj(t,e,n){let r=t.updateTriggers[n];r=r??{};let s=e.updateTriggers[n];return s=s??{},T6({oldProps:s,newProps:r,triggerName:n})}const Aae="count(): argument not an object",Cae="count(): argument not a container";function Rae(t){if(!Pae(t))throw new Error(Aae);if(typeof t.count=="function")return t.count();if(Number.isFinite(t.size))return t.size;if(Number.isFinite(t.length))return t.length;if(kae(t))return Object.keys(t).length;throw new Error(Cae)}function kae(t){return t!==null&&typeof t=="object"&&t.constructor===Object}function Pae(t){return t!==null&&typeof t=="object"}function sj(t,e){if(!e)return t;const n={...t,...e};if("defines"in e&&(n.defines={...t.defines,...e.defines}),"modules"in e&&(n.modules=(t.modules||[]).concat(e.modules),e.modules.some(r=>r.name==="project64"))){const r=n.modules.findIndex(s=>s.name==="project32");r>=0&&n.modules.splice(r,1)}if("inject"in e)if(!t.inject)n.inject=e.inject;else{const r={...t.inject};for(const s in e.inject)r[s]=(r[s]||"")+e.inject[s];n.inject=r}return n}const Dae={minFilter:"linear",mipmapFilter:"linear",magFilter:"linear",addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"},HS={};function Mae(t,e,n,r){if(n instanceof hr)return n;n.constructor&&n.constructor.name!=="Object"&&(n={data:n});let s=null;n.compressed&&(s={minFilter:"linear",mipmapFilter:n.data.length>1?"nearest":"linear"});const o=e.createTexture({...n,sampler:{...Dae,...s,...r},mipmaps:!0});return HS[o.id]=t,o}function jae(t,e){!e||!(e instanceof hr)||HS[e.id]===t&&(e.delete(),delete HS[e.id])}const Iae={boolean:{validate(t,e){return!0},equal(t,e,n){return!!t==!!e}},number:{validate(t,e){return Number.isFinite(t)&&(!("max"in e)||t<=e.max)&&(!("min"in e)||t>=e.min)}},color:{validate(t,e){return e.optional&&!t||WS(t)&&(t.length===3||t.length===4)},equal(t,e,n){return Ji(t,e,1)}},accessor:{validate(t,e){const n=my(t);return n==="function"||n===my(e.value)},equal(t,e,n){return typeof e=="function"?!0:Ji(t,e,1)}},array:{validate(t,e){return e.optional&&!t||WS(t)},equal(t,e,n){const{compare:r}=n,s=Number.isInteger(r)?r:r?1:0;return r?Ji(t,e,s):t===e}},object:{equal(t,e,n){if(n.ignore)return!0;const{compare:r}=n,s=Number.isInteger(r)?r:r?1:0;return r?Ji(t,e,s):t===e}},function:{validate(t,e){return e.optional&&!t||typeof t=="function"},equal(t,e,n){return!n.compare&&n.ignore!==!1||t===e}},data:{transform:(t,e,n)=>{if(!t)return t;const{dataTransform:r}=n.props;return r?r(t):typeof t.shape=="string"&&t.shape.endsWith("-table")&&Array.isArray(t.data)?t.data:t}},image:{transform:(t,e,n)=>{const r=n.context;return!r||!r.device?null:Mae(n.id,r.device,t,{...e.parameters,...n.props.textureParameters})},release:(t,e,n)=>{jae(n.id,t)}}};function Oae(t){const e={},n={},r={};for(const[s,o]of Object.entries(t)){const l=o==null?void 0:o.deprecatedFor;if(l)r[s]=Array.isArray(l)?l:[l];else{const c=Uae(s,o);e[s]=c,n[s]=c.value}}return{propTypes:e,defaultProps:n,deprecatedProps:r}}function Uae(t,e){switch(my(e)){case"object":return gp(t,e);case"array":return gp(t,{type:"array",value:e,compare:!1});case"boolean":return gp(t,{type:"boolean",value:e});case"number":return gp(t,{type:"number",value:e});case"function":return gp(t,{type:"function",value:e,compare:!0});default:return{name:t,type:"unknown",value:e}}}function gp(t,e){return"type"in e?{name:t,...Iae[e.type],...e}:"value"in e?{name:t,type:my(e.value),...e}:{name:t,type:"object",value:e}}function WS(t){return Array.isArray(t)||ArrayBuffer.isView(t)}function my(t){return WS(t)?"array":t===null?"null":typeof t}function Vae(t,e){let n;for(let o=e.length-1;o>=0;o--){const l=e[o];"extensions"in l&&(n=l.extensions)}const r=qS(t.constructor,n),s=Object.create(r);s[hy]=t,s[mu]={},s[jl]={};for(let o=0;o<e.length;++o){const l=e[o];for(const c in l)s[c]=l[c]}return Object.freeze(s),s}const Fae="_mergedDefaultProps";function qS(t,e){if(!(t instanceof fv.constructor))return{};let n=Fae;if(e)for(const s of e){const o=s.constructor;o&&(n+=`:${o.extensionName||o.name}`)}const r=A6(t,n);return r||(t[n]=Bae(t,e||[]))}function Bae(t,e){if(!t.prototype)return null;const r=Object.getPrototypeOf(t),s=qS(r),o=A6(t,"defaultProps")||{},l=Oae(o),c=Object.assign(Object.create(null),s,l.defaultProps),f=Object.assign(Object.create(null),s==null?void 0:s[Gc],l.propTypes),h=Object.assign(Object.create(null),s==null?void 0:s[q1],l.deprecatedProps);for(const p of e){const m=qS(p.constructor);m&&(Object.assign(c,m),Object.assign(f,m[Gc]),Object.assign(h,m[q1]))}return Lae(c,t),$ae(c,f),zae(c,h),c[Gc]=f,c[q1]=h,e.length===0&&!NT(t,"_propTypes")&&(t._propTypes=f),c}function Lae(t,e){const n=Wae(e);Object.defineProperties(t,{id:{writable:!0,value:n}})}function zae(t,e){for(const n in e)Object.defineProperty(t,n,{enumerable:!1,set(r){const s=`${this.id}: ${n}`;for(const o of e[n])NT(this,o)||(this[o]=r);Hn.deprecated(s,e[n].join("/"))()}})}function $ae(t,e){const n={},r={};for(const s in e){const o=e[s],{name:l,value:c}=o;o.async&&(n[l]=c,r[l]=Hae(l))}t[Jf]=n,t[mu]={},Object.defineProperties(t,r)}function Hae(t){return{enumerable:!0,set(e){typeof e=="string"||e instanceof Promise||g6(e)?this[mu][t]=e:this[jl][t]=e},get(){if(this[jl]){if(t in this[jl])return this[jl][t]||this[Jf][t];if(t in this[mu]){const e=this[hy]&&this[hy].internalState;if(e&&e.hasAsyncProp(t))return e.getAsyncProp(t)||this[Jf][t]}}return this[Jf][t]}}}function NT(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function A6(t,e){return NT(t,e)&&t[e]}function Wae(t){const e=t.componentName;return e||Hn.warn(`${t.name}.componentName not specified`)(),e||t.name}let qae=0;class fv{constructor(...e){this.props=Vae(this,e),this.id=this.props.id,this.count=qae++}clone(e){const{props:n}=this,r={};for(const s in n[Jf])s in n[jl]?r[s]=n[jl][s]:s in n[mu]&&(r[s]=n[mu][s]);return new this.constructor({...n,...r,...e})}}fv.componentName="Component";fv.defaultProps={};const Xae=Object.freeze({});class Yae{constructor(e){this.component=e,this.asyncProps={},this.onAsyncPropUpdated=()=>{},this.oldProps=null,this.oldAsyncProps=null}finalize(){for(const e in this.asyncProps){const n=this.asyncProps[e];n&&n.type&&n.type.release&&n.type.release(n.resolvedValue,n.type,this.component)}this.asyncProps={},this.component=null,this.resetOldProps()}getOldProps(){return this.oldAsyncProps||this.oldProps||Xae}resetOldProps(){this.oldAsyncProps=null,this.oldProps=this.component?this.component.props:null}hasAsyncProp(e){return e in this.asyncProps}getAsyncProp(e){const n=this.asyncProps[e];return n&&n.resolvedValue}isAsyncPropLoading(e){if(e){const n=this.asyncProps[e];return!!(n&&n.pendingLoadCount>0&&n.pendingLoadCount!==n.resolvedLoadCount)}for(const n in this.asyncProps)if(this.isAsyncPropLoading(n))return!0;return!1}reloadAsyncProp(e,n){this._watchPromise(e,Promise.resolve(n))}setAsyncProps(e){this.component=e[hy]||this.component;const n=e[jl]||{},r=e[mu]||e,s=e[Jf]||{};for(const o in n){const l=n[o];this._createAsyncPropData(o,s[o]),this._updateAsyncProp(o,l),n[o]=this.getAsyncProp(o)}for(const o in r){const l=r[o];this._createAsyncPropData(o,s[o]),this._updateAsyncProp(o,l)}}_fetch(e,n){return null}_onResolve(e,n){}_onError(e,n){}_updateAsyncProp(e,n){if(this._didAsyncInputValueChange(e,n)){if(typeof n=="string"&&(n=this._fetch(e,n)),n instanceof Promise){this._watchPromise(e,n);return}if(g6(n)){this._resolveAsyncIterable(e,n);return}this._setPropValue(e,n)}}_freezeAsyncOldProps(){if(!this.oldAsyncProps&&this.oldProps){this.oldAsyncProps=Object.create(this.oldProps);for(const e in this.asyncProps)Object.defineProperty(this.oldAsyncProps,e,{enumerable:!0,value:this.oldProps[e]})}}_didAsyncInputValueChange(e,n){const r=this.asyncProps[e];return n===r.resolvedValue||n===r.lastValue?!1:(r.lastValue=n,!0)}_setPropValue(e,n){this._freezeAsyncOldProps();const r=this.asyncProps[e];r&&(n=this._postProcessValue(r,n),r.resolvedValue=n,r.pendingLoadCount++,r.resolvedLoadCount=r.pendingLoadCount)}_setAsyncPropValue(e,n,r){const s=this.asyncProps[e];s&&r>=s.resolvedLoadCount&&n!==void 0&&(this._freezeAsyncOldProps(),s.resolvedValue=n,s.resolvedLoadCount=r,this.onAsyncPropUpdated(e,n))}_watchPromise(e,n){const r=this.asyncProps[e];if(r){r.pendingLoadCount++;const s=r.pendingLoadCount;n.then(o=>{this.component&&(o=this._postProcessValue(r,o),this._setAsyncPropValue(e,o,s),this._onResolve(e,o))}).catch(o=>{this._onError(e,o)})}}async _resolveAsyncIterable(e,n){if(e!=="data"){this._setPropValue(e,n);return}const r=this.asyncProps[e];if(!r)return;r.pendingLoadCount++;const s=r.pendingLoadCount;let o=[],l=0;for await(const c of n){if(!this.component)return;const{dataTransform:f}=this.component.props;f?o=f(c,o):o=o.concat(c),Object.defineProperty(o,"__diff",{enumerable:!1,value:[{startRow:l,endRow:o.length}]}),l=o.length,this._setAsyncPropValue(e,o,s)}this._onResolve(e,o)}_postProcessValue(e,n){const r=e.type;return r&&this.component&&(r.release&&r.release(e.resolvedValue,r,this.component),r.transform)?r.transform(n,r,this.component):n}_createAsyncPropData(e,n){if(!this.asyncProps[e]){const s=this.component&&this.component.props[Gc];this.asyncProps[e]={type:s&&s[e],lastValue:null,resolvedValue:n,pendingLoadCount:0,resolvedLoadCount:0}}}}class Kae extends Yae{constructor({attributeManager:e,layer:n}){super(n),this.attributeManager=e,this.needsRedraw=!0,this.needsUpdate=!0,this.subLayers=null,this.usesPickingColorCache=!1}get layer(){return this.component}_fetch(e,n){const r=this.layer,s=r==null?void 0:r.props.fetch;return s?s(n,{propName:e,layer:r}):super._fetch(e,n)}_onResolve(e,n){const r=this.layer;if(r){const s=r.props.onDataLoad;e==="data"&&s&&s(n,{propName:e,layer:r})}}_onError(e,n){const r=this.layer;r&&r.raiseError(n,`loading ${e} of ${this.layer}`)}}const Zae="layer.changeFlag",Gae="layer.initialize",Qae="layer.update",Jae="layer.finalize",ele="layer.matched",ij=2**24-1,tle=Object.freeze([]),nle=Am(({oldViewport:t,viewport:e})=>t.equals(e));let Hi=new Uint8ClampedArray(0);const rle={data:{type:"data",value:tle,async:!0},dataComparator:{type:"function",value:null,optional:!0},_dataDiff:{type:"function",value:t=>t&&t.__diff,optional:!0},dataTransform:{type:"function",value:null,optional:!0},onDataLoad:{type:"function",value:null,optional:!0},onError:{type:"function",value:null,optional:!0},fetch:{type:"function",value:(t,{propName:e,layer:n,loaders:r,loadOptions:s,signal:o})=>{const{resourceManager:l}=n.context;s=s||n.getLoadOptions(),r=r||n.props.loaders,o&&(s={...s,fetch:{...s==null?void 0:s.fetch,signal:o}});let c=l.contains(t);return!c&&!s&&(l.add({resourceId:t,data:aS(t,r),persistent:!1}),c=!0),c?l.subscribe({resourceId:t,onChange:f=>{var h;return(h=n.internalState)==null?void 0:h.reloadAsyncProp(e,f)},consumerId:n.id,requestId:e}):aS(t,r,s)}},updateTriggers:{},visible:!0,pickable:!1,opacity:{type:"number",min:0,max:1,value:1},operation:"draw",onHover:{type:"function",value:null,optional:!0},onClick:{type:"function",value:null,optional:!0},onDragStart:{type:"function",value:null,optional:!0},onDrag:{type:"function",value:null,optional:!0},onDragEnd:{type:"function",value:null,optional:!0},coordinateSystem:Tn.DEFAULT,coordinateOrigin:{type:"array",value:[0,0,0],compare:!0},modelMatrix:{type:"array",value:null,compare:!0,optional:!0},wrapLongitude:!1,positionFormat:"XYZ",colorFormat:"RGBA",parameters:{type:"object",value:{},optional:!0,compare:2},loadOptions:{type:"object",value:null,optional:!0,ignore:!0},transitions:null,extensions:[],loaders:{type:"array",value:[],optional:!0,ignore:!0},getPolygonOffset:{type:"function",value:({layerIndex:t})=>[0,-t*100]},highlightedObjectIndex:null,autoHighlight:!1,highlightColor:{type:"accessor",value:[0,0,128,128]}};class Rm extends fv{constructor(){super(...arguments),this.internalState=null,this.lifecycle=Ff.NO_STATE,this.parent=null}static get componentName(){return Object.prototype.hasOwnProperty.call(this,"layerName")?this.layerName:""}get root(){let e=this;for(;e.parent;)e=e.parent;return e}toString(){return`${this.constructor.layerName||this.constructor.name}({id: '${this.props.id}'})`}project(e){ds(this.internalState);const n=this.internalState.viewport||this.context.viewport,r=HF(e,{viewport:n,modelMatrix:this.props.modelMatrix,coordinateOrigin:this.props.coordinateOrigin,coordinateSystem:this.props.coordinateSystem}),[s,o,l]=FF(r,n.pixelProjectionMatrix);return e.length===2?[s,o]:[s,o,l]}unproject(e){return ds(this.internalState),(this.internalState.viewport||this.context.viewport).unproject(e)}projectPosition(e,n){ds(this.internalState);const r=this.internalState.viewport||this.context.viewport;return kre(e,{viewport:r,modelMatrix:this.props.modelMatrix,coordinateOrigin:this.props.coordinateOrigin,coordinateSystem:this.props.coordinateSystem,...n})}get isComposite(){return!1}get isDrawable(){return!0}setState(e){this.setChangeFlags({stateChanged:!0}),Object.assign(this.state,e),this.setNeedsRedraw()}setNeedsRedraw(){this.internalState&&(this.internalState.needsRedraw=!0)}setNeedsUpdate(){this.internalState&&(this.context.layerManager.setNeedsUpdate(String(this)),this.internalState.needsUpdate=!0)}get isLoaded(){return this.internalState?!this.internalState.isAsyncPropLoading():!1}get wrapLongitude(){return this.props.wrapLongitude}isPickable(){return this.props.pickable&&this.props.visible}getModels(){const e=this.state;return e&&(e.models||e.model&&[e.model])||[]}setShaderModuleProps(...e){for(const n of this.getModels())n.shaderInputs.setProps(...e)}getAttributeManager(){return this.internalState&&this.internalState.attributeManager}getCurrentLayer(){return this.internalState&&this.internalState.layer}getLoadOptions(){return this.props.loadOptions}use64bitPositions(){const{coordinateSystem:e}=this.props;return e===Tn.DEFAULT||e===Tn.LNGLAT||e===Tn.CARTESIAN}onHover(e,n){return this.props.onHover&&this.props.onHover(e,n)||!1}onClick(e,n){return this.props.onClick&&this.props.onClick(e,n)||!1}nullPickingColor(){return[0,0,0]}encodePickingColor(e,n=[]){return n[0]=e+1&255,n[1]=e+1>>8&255,n[2]=e+1>>8>>8&255,n}decodePickingColor(e){ds(e instanceof Uint8Array);const[n,r,s]=e;return n+r*256+s*65536-1}getNumInstances(){return Number.isFinite(this.props.numInstances)?this.props.numInstances:this.state&&this.state.numInstances!==void 0?this.state.numInstances:Rae(this.props.data)}getStartIndices(){return this.props.startIndices?this.props.startIndices:this.state&&this.state.startIndices?this.state.startIndices:null}getBounds(){var e;return(e=this.getAttributeManager())==null?void 0:e.getBounds(["positions","instancePositions"])}getShaders(e){e=sj(e,{disableWarnings:!0,modules:this.context.defaultShaderModules});for(const n of this.props.extensions)e=sj(e,n.getShaders.call(this,n));return e}shouldUpdateState(e){return e.changeFlags.propsOrDataChanged}updateState(e){const n=this.getAttributeManager(),{dataChanged:r}=e.changeFlags;if(r&&n)if(Array.isArray(r))for(const s of r)n.invalidateAll(s);else n.invalidateAll();if(n){const{props:s}=e,o=this.internalState.hasPickingBuffer,l=Number.isInteger(s.highlightedObjectIndex)||s.pickable||s.extensions.some(c=>c.getNeedsPickingBuffer.call(this,c));if(o!==l){this.internalState.hasPickingBuffer=l;const{pickingColors:c,instancePickingColors:f}=n.attributes,h=c||f;h&&(l&&h.constant&&(h.constant=!1,n.invalidate(h.id)),!h.value&&!l&&(h.constant=!0,h.value=[0,0,0]))}}}finalizeState(e){for(const r of this.getModels())r.destroy();const n=this.getAttributeManager();n&&n.finalize(),this.context&&this.context.resourceManager.unsubscribe({consumerId:this.id}),this.internalState&&(this.internalState.uniformTransitions.clear(),this.internalState.finalize())}draw(e){for(const n of this.getModels())n.draw(e.renderPass)}getPickingInfo({info:e,mode:n,sourceLayer:r}){const{index:s}=e;return s>=0&&Array.isArray(this.props.data)&&(e.object=this.props.data[s]),e}raiseError(e,n){var r,s,o,l;n&&(e=new Error(`${n}: ${e.message}`,{cause:e})),(s=(r=this.props).onError)!=null&&s.call(r,e)||(l=(o=this.context)==null?void 0:o.onError)==null||l.call(o,e,this)}getNeedsRedraw(e={clearRedrawFlags:!1}){return this._getNeedsRedraw(e)}needsUpdate(){return this.internalState?this.internalState.needsUpdate||this.hasUniformTransition()||this.shouldUpdateState(this._getUpdateParams()):!1}hasUniformTransition(){var e;return((e=this.internalState)==null?void 0:e.uniformTransitions.active)||!1}activateViewport(e){if(!this.internalState)return;const n=this.internalState.viewport;this.internalState.viewport=e,(!n||!nle({oldViewport:n,viewport:e}))&&(this.setChangeFlags({viewportChanged:!0}),this.isComposite?this.needsUpdate()&&this.setNeedsUpdate():this._update())}invalidateAttribute(e="all"){const n=this.getAttributeManager();n&&(e==="all"?n.invalidateAll():n.invalidate(e))}updateAttributes(e){let n=!1;for(const r in e)e[r].layoutChanged()&&(n=!0);for(const r of this.getModels())this._setModelAttributes(r,e,n)}_updateAttributes(){const e=this.getAttributeManager();if(!e)return;const n=this.props,r=this.getNumInstances(),s=this.getStartIndices();e.update({data:n.data,numInstances:r,startIndices:s,props:n,transitions:n.transitions,buffers:n.data.attributes,context:this});const o=e.getChangedAttributes({clearChangedFlags:!0});this.updateAttributes(o)}_updateAttributeTransition(){const e=this.getAttributeManager();e&&e.updateTransition()}_updateUniformTransition(){const{uniformTransitions:e}=this.internalState;if(e.active){const n=e.update(),r=Object.create(this.props);for(const s in n)Object.defineProperty(r,s,{value:n[s]});return r}return this.props}calculateInstancePickingColors(e,{numInstances:n}){if(e.constant)return;const r=Math.floor(Hi.length/4);if(this.internalState.usesPickingColorCache=!0,r<n){n>ij&&Hn.warn("Layer has too many data objects. Picking might not be able to distinguish all objects.")(),Hi=sm.allocate(Hi,n,{size:4,copy:!0,maxCount:Math.max(n,ij)});const s=Math.floor(Hi.length/4),o=[0,0,0];for(let l=r;l<s;l++)this.encodePickingColor(l,o),Hi[l*4+0]=o[0],Hi[l*4+1]=o[1],Hi[l*4+2]=o[2],Hi[l*4+3]=0}e.value=Hi.subarray(0,n*4)}_setModelAttributes(e,n,r=!1){var c;if(!Object.keys(n).length)return;if(r){const f=this.getAttributeManager();e.setBufferLayout(f.getBufferLayouts(e)),n=f.getAttributes()}const s=((c=e.userData)==null?void 0:c.excludeAttributes)||{},o={},l={};for(const f in n){if(s[f])continue;const h=n[f].getValue();for(const p in h){const m=h[p];m instanceof nr?n[f].settings.isIndexed?e.setIndexBuffer(m):o[p]=m:m&&(l[p]=m)}}e.setAttributes(o),e.setConstantAttributes(l)}disablePickingIndex(e){const n=this.props.data;if(!("attributes"in n)){this._disablePickingIndex(e);return}const{pickingColors:r,instancePickingColors:s}=this.getAttributeManager().attributes,o=r||s,l=o&&n.attributes&&n.attributes[o.id];if(l&&l.value){const c=l.value,f=this.encodePickingColor(e);for(let h=0;h<n.length;h++){const p=o.getVertexOffset(h);c[p]===f[0]&&c[p+1]===f[1]&&c[p+2]===f[2]&&this._disablePickingIndex(h)}}else this._disablePickingIndex(e)}_disablePickingIndex(e){const{pickingColors:n,instancePickingColors:r}=this.getAttributeManager().attributes,s=n||r;if(!s)return;const o=s.getVertexOffset(e),l=s.getVertexOffset(e+1);s.buffer.write(new Uint8Array(l-o),o)}restorePickingColors(){const{pickingColors:e,instancePickingColors:n}=this.getAttributeManager().attributes,r=e||n;r&&(this.internalState.usesPickingColorCache&&r.value.buffer!==Hi.buffer&&(r.value=Hi.subarray(0,r.value.length)),r.updateSubBuffer({startOffset:0}))}_initialize(){ds(!this.internalState),ds(Number.isFinite(this.props.coordinateSystem)),Rs(Gae,this);const e=this._getAttributeManager();e&&e.addInstanced({instancePickingColors:{type:"uint8",size:4,noAlloc:!0,update:this.calculateInstancePickingColors}}),this.internalState=new Kae({attributeManager:e,layer:this}),this._clearChangeFlags(),this.state={},Object.defineProperty(this.state,"attributeManager",{get:()=>(Hn.deprecated("layer.state.attributeManager","layer.getAttributeManager()")(),e)}),this.internalState.uniformTransitions=new vae(this.context.timeline),this.internalState.onAsyncPropUpdated=this._onAsyncPropUpdated.bind(this),this.internalState.setAsyncProps(this.props),this.initializeState(this.context);for(const n of this.props.extensions)n.initializeState.call(this,this.context,n);this.setChangeFlags({dataChanged:"init",propsChanged:"init",viewportChanged:!0,extensionsChanged:!0}),this._update()}_transferState(e){Rs(ele,this,this===e);const{state:n,internalState:r}=e;this!==e&&(this.internalState=r,this.state=n,this.internalState.setAsyncProps(this.props),this._diffProps(this.props,this.internalState.getOldProps()))}_update(){const e=this.needsUpdate();if(Rs(Qae,this,e),!e)return;const n=this.props,r=this.context,s=this.internalState,o=r.viewport,l=this._updateUniformTransition();s.propsInTransition=l,r.viewport=s.viewport||o,this.props=l;try{const c=this._getUpdateParams(),f=this.getModels();if(r.device)this.updateState(c);else try{this.updateState(c)}catch{}for(const p of this.props.extensions)p.updateState.call(this,c,p);this.setNeedsRedraw(),this._updateAttributes();const h=this.getModels()[0]!==f[0];this._postUpdate(c,h)}finally{r.viewport=o,this.props=n,this._clearChangeFlags(),s.needsUpdate=!1,s.resetOldProps()}}_finalize(){Rs(Jae,this),this.finalizeState(this.context);for(const e of this.props.extensions)e.finalizeState.call(this,this.context,e)}_drawLayer({renderPass:e,shaderModuleProps:n=null,uniforms:r={},parameters:s={}}){this._updateAttributeTransition();const o=this.props,l=this.context;this.props=this.internalState.propsInTransition||o;try{n&&this.setShaderModuleProps(n);const{getPolygonOffset:c}=this.props,f=c&&c(r)||[0,0];l.device instanceof Yf&&l.device.setParametersWebGL({polygonOffset:f});for(const h of this.getModels())h.device.type==="webgpu"?h.setParameters({...h.parameters,...s}):h.setParameters(s);if(l.device instanceof Yf)l.device.withParametersWebGL(s,()=>{const h={renderPass:e,shaderModuleProps:n,uniforms:r,parameters:s,context:l};for(const p of this.props.extensions)p.draw.call(this,h,p);this.draw(h)});else{const h={renderPass:e,shaderModuleProps:n,uniforms:r,parameters:s,context:l};for(const p of this.props.extensions)p.draw.call(this,h,p);this.draw(h)}}finally{this.props=o}}getChangeFlags(){var e;return(e=this.internalState)==null?void 0:e.changeFlags}setChangeFlags(e){if(!this.internalState)return;const{changeFlags:n}=this.internalState;for(const s in e)if(e[s]){let o=!1;switch(s){case"dataChanged":const l=e[s],c=n[s];l&&Array.isArray(c)&&(n.dataChanged=Array.isArray(l)?c.concat(l):l,o=!0);default:n[s]||(n[s]=e[s],o=!0)}o&&Rs(Zae,this,s,e)}const r=!!(n.dataChanged||n.updateTriggersChanged||n.propsChanged||n.extensionsChanged);n.propsOrDataChanged=r,n.somethingChanged=r||n.viewportChanged||n.stateChanged}_clearChangeFlags(){this.internalState.changeFlags={dataChanged:!1,propsChanged:!1,updateTriggersChanged:!1,viewportChanged:!1,stateChanged:!1,extensionsChanged:!1,propsOrDataChanged:!1,somethingChanged:!1}}_diffProps(e,n){var s;const r=wae(e,n);if(r.updateTriggersChanged)for(const o in r.updateTriggersChanged)r.updateTriggersChanged[o]&&this.invalidateAttribute(o);if(r.transitionsChanged)for(const o in r.transitionsChanged)this.internalState.uniformTransitions.add(o,n[o],e[o],(s=e.transitions)==null?void 0:s[o]);return this.setChangeFlags(r)}validateProps(){_ae(this.props)}updateAutoHighlight(e){this.props.autoHighlight&&!Number.isInteger(this.props.highlightedObjectIndex)&&this._updateAutoHighlight(e)}_updateAutoHighlight(e){const n={highlightedObjectColor:e.picked?e.color:null},{highlightColor:r}=this.props;e.picked&&typeof r=="function"&&(n.highlightColor=r(e)),this.setShaderModuleProps({picking:n}),this.setNeedsRedraw()}_getAttributeManager(){const e=this.context;return new mae(e.device,{id:this.props.id,stats:e.stats,timeline:e.timeline})}_postUpdate(e,n){const{props:r,oldProps:s}=e,o=this.state.model;o!=null&&o.isInstanced&&o.setInstanceCount(this.getNumInstances());const{autoHighlight:l,highlightedObjectIndex:c,highlightColor:f}=r;if(n||s.autoHighlight!==l||s.highlightedObjectIndex!==c||s.highlightColor!==f){const h={};Array.isArray(f)&&(h.highlightColor=f),(n||s.autoHighlight!==l||c!==s.highlightedObjectIndex)&&(h.highlightedObjectColor=Number.isFinite(c)&&c>=0?this.encodePickingColor(c):null),this.setShaderModuleProps({picking:h})}}_getUpdateParams(){return{props:this.props,oldProps:this.internalState.getOldProps(),context:this.context,changeFlags:this.internalState.changeFlags}}_getNeedsRedraw(e){if(!this.internalState)return!1;let n=!1;n=n||this.internalState.needsRedraw&&this.id;const r=this.getAttributeManager(),s=r?r.getNeedsRedraw(e):!1;if(n=n||s,n)for(const o of this.props.extensions)o.onNeedsRedraw.call(this,o);return this.internalState.needsRedraw=this.internalState.needsRedraw&&!e.clearRedrawFlags,n}_onAsyncPropUpdated(){this._diffProps(this.props,this.internalState.getOldProps()),this.setNeedsUpdate()}}Rm.defaultProps=rle;Rm.layerName="Layer";const sle=typeof window<"u"?k.useLayoutEffect:k.useEffect;function gy(t,e){for(;t;){if(t===e)return!0;t=Object.getPrototypeOf(t)}return!1}const ile={position:"absolute",zIndex:-1};function C6(t,e){if(typeof t=="function")return t(e);if(Array.isArray(t))return t.map(n=>C6(n,e));if(dv(t)){if(ole(t))return e.style=ile,k.cloneElement(t,e);if(ale(t))return k.cloneElement(t,e)}return t}function dv(t){return t&&typeof t=="object"&&"type"in t||!1}function ole(t){var e;return(e=t.props)==null?void 0:e.mapStyle}function ale(t){const e=t.type;return e&&e.deckGLViewProps}function XS(t){if(typeof t=="function")return k.createElement(Ed,{},t);if(Array.isArray(t))return t.map(XS);if(dv(t)){if(t.type===k.Fragment)return XS(t.props.children);if(gy(t.type,Ed))return t}return t}function lle({children:t,layers:e=[],views:n=null}){const r=[],s=[],o={};return k.Children.forEach(XS(t),l=>{if(dv(l)){const c=l.type;if(gy(c,Rm)){const f=cle(c,l.props);s.push(f)}else r.push(l);if(gy(c,Ed)&&c!==Ed&&l.props.id){const f=new c(l.props);o[f.id]=f}}else l&&r.push(l)}),Object.keys(o).length>0&&(Array.isArray(n)?n.forEach(l=>{o[l.id]=l}):n&&(o[n.id]=n),n=Object.values(o)),e=s.length>0?[...s,...e]:e,{layers:e,children:r,views:n}}function cle(t,e){const n={},r=t.defaultProps||{};for(const s in e)r[s]!==e[s]&&(n[s]=e[s]);return new t(n)}const ule=k.createContext();function fle({children:t,deck:e,ContextProvider:n=ule.Provider}){const{viewManager:r}=e||{};if(!r||!r.views.length)return[];const s={},o=r.views[0].id;for(const l of t){let c=o,f=l;dv(l)&&gy(l.type,Ed)&&(c=l.props.id||o,f=l.props.children);const h=r.getViewport(c),p=r.getViewState(c);if(h){p.padding=h.padding;const{x:m,y:b,width:_,height:E}=h;f=C6(f,{x:m,y:b,width:_,height:E,viewport:h,viewState:p}),s[c]||(s[c]={viewport:h,children:[]}),s[c].children.push(f)}}return Object.keys(s).map(l=>{const{viewport:c,children:f}=s[l],{x:h,y:p,width:m,height:b}=c,_={position:"absolute",left:h,top:p,width:m,height:b},E=`view-${l}`,T=k.createElement("div",{key:E,id:E,style:_},...f),C={deck:e,viewport:c,container:e.canvas.offsetParent,eventManager:e.eventManager,onViewStateChange:M=>{M.viewId=l,e._onViewStateChange(M)},widgets:[]},D=`view-${l}-context`;return k.createElement(n,{key:D,value:C},T)})}const dle={mixBlendMode:null};function hle({width:t,height:e,style:n}){const r={position:"absolute",zIndex:0,left:0,top:0,width:t,height:e},s={left:0,top:0};if(n)for(const o in n)o in dle?s[o]=n[o]:r[o]=n[o];return{containerStyle:r,canvasStyle:s}}function ple(t){return{get deck(){return t.deck},pickObject:e=>t.deck.pickObject(e),pickMultipleObjects:e=>t.deck.pickMultipleObjects(e),pickObjects:e=>t.deck.pickObjects(e)}}function R6(t){t.redrawReason&&(t.deck._drawLayers(t.redrawReason),t.redrawReason=null)}function mle(t,e,n){var s,o,l;const r=new e({...n,_customRender:((l=(o=(s=n.deviceProps)==null?void 0:s.adapters)==null?void 0:o[0])==null?void 0:l.type)==="webgpu"?void 0:c=>{t.redrawReason=c;const f=r.getViewports();t.lastRenderedViewports!==f?t.forceUpdate():R6(t)}});return r}function gle(t,e){const[n,r]=k.useState(0),o=k.useRef({control:null,version:n,forceUpdate:()=>r(L=>L+1)}).current,l=k.useRef(null),c=k.useRef(null),f=k.useMemo(()=>lle(t),[t.layers,t.views,t.children]);let h=!0;const p=L=>{var O;return h&&t.viewState?(o.viewStateUpdateRequested=L,null):(o.viewStateUpdateRequested=null,(O=t.onViewStateChange)==null?void 0:O.call(t,L))},m=L=>{var O;h?o.interactionStateUpdateRequested=L:(o.interactionStateUpdateRequested=null,(O=t.onInteractionStateChange)==null||O.call(t,L))},b=k.useMemo(()=>{const L={widgets:[],...t,style:null,width:"100%",height:"100%",parent:l.current,canvas:c.current,layers:f.layers,views:f.views,onViewStateChange:p,onInteractionStateChange:m};return delete L._customRender,o.deck&&o.deck.setProps(L),L},[t]);k.useEffect(()=>{const L=t.Deck||wT;return o.deck=mle(o,L,{...b,parent:l.current,canvas:c.current}),()=>{var O;return(O=o.deck)==null?void 0:O.finalize()}},[]),sle(()=>{R6(o);const{viewStateUpdateRequested:L,interactionStateUpdateRequested:O}=o;L&&p(L),O&&m(O)}),k.useImperativeHandle(e,()=>ple(o),[]);const _=o.deck&&o.deck.isInitialized?o.deck.getViewports():void 0,{ContextProvider:E,width:T="100%",height:C="100%",id:D,style:M}=t,{containerStyle:P,canvasStyle:U}=k.useMemo(()=>hle({width:T,height:C,style:M}),[T,C,M]);if(!o.viewStateUpdateRequested&&o.lastRenderedViewports===_||o.version!==n){o.lastRenderedViewports=_,o.version=n;const L=fle({children:f.children,deck:o.deck,ContextProvider:E}),O=k.createElement("canvas",{key:"canvas",id:D||"deckgl-overlay",ref:c,style:U});o.control=k.createElement("div",{id:`${D||"deckgl"}-wrapper`,ref:l,style:P},[O,L])}return h=!1,o.control}const oj=k.forwardRef(gle),aj=`uniform arcUniforms {
  bool greatCircle;
  bool useShortestPath;
  float numSegments;
  float widthScale;
  float widthMinPixels;
  float widthMaxPixels;
  highp int widthUnits;
} arc;
`,ble={name:"arc",vs:aj,fs:aj,uniformTypes:{greatCircle:"f32",useShortestPath:"f32",numSegments:"f32",widthScale:"f32",widthMinPixels:"f32",widthMaxPixels:"f32",widthUnits:"i32"}},xle=`#version 300 es
#define SHADER_NAME arc-layer-vertex-shader
in vec4 instanceSourceColors;
in vec4 instanceTargetColors;
in vec3 instanceSourcePositions;
in vec3 instanceSourcePositions64Low;
in vec3 instanceTargetPositions;
in vec3 instanceTargetPositions64Low;
in vec3 instancePickingColors;
in float instanceWidths;
in float instanceHeights;
in float instanceTilts;
out vec4 vColor;
out vec2 uv;
out float isValid;
float paraboloid(float distance, float sourceZ, float targetZ, float ratio) {
float deltaZ = targetZ - sourceZ;
float dh = distance * instanceHeights;
if (dh == 0.0) {
return sourceZ + deltaZ * ratio;
}
float unitZ = deltaZ / dh;
float p2 = unitZ * unitZ + 1.0;
float dir = step(deltaZ, 0.0);
float z0 = mix(sourceZ, targetZ, dir);
float r = mix(ratio, 1.0 - ratio, dir);
return sqrt(r * (p2 - r)) * dh + z0;
}
vec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction, float width) {
vec2 dir_screenspace = normalize(line_clipspace * project.viewportSize);
dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);
return dir_screenspace * offset_direction * width / 2.0;
}
float getSegmentRatio(float index) {
return smoothstep(0.0, 1.0, index / (arc.numSegments - 1.0));
}
vec3 interpolateFlat(vec3 source, vec3 target, float segmentRatio) {
float distance = length(source.xy - target.xy);
float z = paraboloid(distance, source.z, target.z, segmentRatio);
float tiltAngle = radians(instanceTilts);
vec2 tiltDirection = normalize(target.xy - source.xy);
vec2 tilt = vec2(-tiltDirection.y, tiltDirection.x) * z * sin(tiltAngle);
return vec3(
mix(source.xy, target.xy, segmentRatio) + tilt,
z * cos(tiltAngle)
);
}
float getAngularDist (vec2 source, vec2 target) {
vec2 sourceRadians = radians(source);
vec2 targetRadians = radians(target);
vec2 sin_half_delta = sin((sourceRadians - targetRadians) / 2.0);
vec2 shd_sq = sin_half_delta * sin_half_delta;
float a = shd_sq.y + cos(sourceRadians.y) * cos(targetRadians.y) * shd_sq.x;
return 2.0 * asin(sqrt(a));
}
vec3 interpolateGreatCircle(vec3 source, vec3 target, vec3 source3D, vec3 target3D, float angularDist, float t) {
vec2 lngLat;
if(abs(angularDist - PI) < 0.001) {
lngLat = (1.0 - t) * source.xy + t * target.xy;
} else {
float a = sin((1.0 - t) * angularDist);
float b = sin(t * angularDist);
vec3 p = source3D.yxz * a + target3D.yxz * b;
lngLat = degrees(vec2(atan(p.y, -p.x), atan(p.z, length(p.xy))));
}
float z = paraboloid(angularDist * EARTH_RADIUS, source.z, target.z, t);
return vec3(lngLat, z);
}
void main(void) {
geometry.worldPosition = instanceSourcePositions;
geometry.worldPositionAlt = instanceTargetPositions;
float segmentIndex = float(gl_VertexID / 2);
float segmentSide = mod(float(gl_VertexID), 2.) == 0. ? -1. : 1.;
float segmentRatio = getSegmentRatio(segmentIndex);
float prevSegmentRatio = getSegmentRatio(max(0.0, segmentIndex - 1.0));
float nextSegmentRatio = getSegmentRatio(min(arc.numSegments - 1.0, segmentIndex + 1.0));
float indexDir = mix(-1.0, 1.0, step(segmentIndex, 0.0));
isValid = 1.0;
uv = vec2(segmentRatio, segmentSide);
geometry.uv = uv;
geometry.pickingColor = instancePickingColors;
vec4 curr;
vec4 next;
vec3 source;
vec3 target;
if ((arc.greatCircle || project.projectionMode == PROJECTION_MODE_GLOBE) && project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT) {
source = project_globe_(vec3(instanceSourcePositions.xy, 0.0));
target = project_globe_(vec3(instanceTargetPositions.xy, 0.0));
float angularDist = getAngularDist(instanceSourcePositions.xy, instanceTargetPositions.xy);
vec3 prevPos = interpolateGreatCircle(instanceSourcePositions, instanceTargetPositions, source, target, angularDist, prevSegmentRatio);
vec3 currPos = interpolateGreatCircle(instanceSourcePositions, instanceTargetPositions, source, target, angularDist, segmentRatio);
vec3 nextPos = interpolateGreatCircle(instanceSourcePositions, instanceTargetPositions, source, target, angularDist, nextSegmentRatio);
if (abs(currPos.x - prevPos.x) > 180.0) {
indexDir = -1.0;
isValid = 0.0;
} else if (abs(currPos.x - nextPos.x) > 180.0) {
indexDir = 1.0;
isValid = 0.0;
}
nextPos = indexDir < 0.0 ? prevPos : nextPos;
nextSegmentRatio = indexDir < 0.0 ? prevSegmentRatio : nextSegmentRatio;
if (isValid == 0.0) {
nextPos.x += nextPos.x > 0.0 ? -360.0 : 360.0;
float t = ((currPos.x > 0.0 ? 180.0 : -180.0) - currPos.x) / (nextPos.x - currPos.x);
currPos = mix(currPos, nextPos, t);
segmentRatio = mix(segmentRatio, nextSegmentRatio, t);
}
vec3 currPos64Low = mix(instanceSourcePositions64Low, instanceTargetPositions64Low, segmentRatio);
vec3 nextPos64Low = mix(instanceSourcePositions64Low, instanceTargetPositions64Low, nextSegmentRatio);
curr = project_position_to_clipspace(currPos, currPos64Low, vec3(0.0), geometry.position);
next = project_position_to_clipspace(nextPos, nextPos64Low, vec3(0.0));
} else {
vec3 source_world = instanceSourcePositions;
vec3 target_world = instanceTargetPositions;
if (arc.useShortestPath) {
source_world.x = mod(source_world.x + 180., 360.0) - 180.;
target_world.x = mod(target_world.x + 180., 360.0) - 180.;
float deltaLng = target_world.x - source_world.x;
if (deltaLng > 180.) target_world.x -= 360.;
if (deltaLng < -180.) source_world.x -= 360.;
}
source = project_position(source_world, instanceSourcePositions64Low);
target = project_position(target_world, instanceTargetPositions64Low);
float antiMeridianX = 0.0;
if (arc.useShortestPath) {
if (project.projectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET) {
antiMeridianX = -(project.coordinateOrigin.x + 180.) / 360. * TILE_SIZE;
}
float thresholdRatio = (antiMeridianX - source.x) / (target.x - source.x);
if (prevSegmentRatio <= thresholdRatio && nextSegmentRatio > thresholdRatio) {
isValid = 0.0;
indexDir = sign(segmentRatio - thresholdRatio);
segmentRatio = thresholdRatio;
}
}
nextSegmentRatio = indexDir < 0.0 ? prevSegmentRatio : nextSegmentRatio;
vec3 currPos = interpolateFlat(source, target, segmentRatio);
vec3 nextPos = interpolateFlat(source, target, nextSegmentRatio);
if (arc.useShortestPath) {
if (nextPos.x < antiMeridianX) {
currPos.x += TILE_SIZE;
nextPos.x += TILE_SIZE;
}
}
curr = project_common_position_to_clipspace(vec4(currPos, 1.0));
next = project_common_position_to_clipspace(vec4(nextPos, 1.0));
geometry.position = vec4(currPos, 1.0);
}
float widthPixels = clamp(
project_size_to_pixel(instanceWidths * arc.widthScale, arc.widthUnits),
arc.widthMinPixels, arc.widthMaxPixels
);
vec3 offset = vec3(
getExtrusionOffset((next.xy - curr.xy) * indexDir, segmentSide, widthPixels),
0.0);
DECKGL_FILTER_SIZE(offset, geometry);
DECKGL_FILTER_GL_POSITION(curr, geometry);
gl_Position = curr + vec4(project_pixel_size_to_clipspace(offset.xy), 0.0, 0.0);
vec4 color = mix(instanceSourceColors, instanceTargetColors, segmentRatio);
vColor = vec4(color.rgb, color.a * layer.opacity);
DECKGL_FILTER_COLOR(vColor, geometry);
}
`,yle=`#version 300 es
#define SHADER_NAME arc-layer-fragment-shader
precision highp float;
in vec4 vColor;
in vec2 uv;
in float isValid;
out vec4 fragColor;
void main(void) {
if (isValid == 0.0) {
discard;
}
fragColor = vColor;
geometry.uv = uv;
DECKGL_FILTER_COLOR(fragColor, geometry);
}
`,by=[0,0,0,255],vle={getSourcePosition:{type:"accessor",value:t=>t.sourcePosition},getTargetPosition:{type:"accessor",value:t=>t.targetPosition},getSourceColor:{type:"accessor",value:by},getTargetColor:{type:"accessor",value:by},getWidth:{type:"accessor",value:1},getHeight:{type:"accessor",value:1},getTilt:{type:"accessor",value:0},greatCircle:!1,numSegments:{type:"number",value:50,min:1},widthUnits:"pixels",widthScale:{type:"number",value:1,min:0},widthMinPixels:{type:"number",value:0,min:0},widthMaxPixels:{type:"number",value:Number.MAX_SAFE_INTEGER,min:0}};class ST extends Rm{getBounds(){var e;return(e=this.getAttributeManager())==null?void 0:e.getBounds(["instanceSourcePositions","instanceTargetPositions"])}getShaders(){return super.getShaders({vs:xle,fs:yle,modules:[IF,LF,ble]})}get wrapLongitude(){return!1}initializeState(){this.getAttributeManager().addInstanced({instanceSourcePositions:{size:3,type:"float64",fp64:this.use64bitPositions(),transition:!0,accessor:"getSourcePosition"},instanceTargetPositions:{size:3,type:"float64",fp64:this.use64bitPositions(),transition:!0,accessor:"getTargetPosition"},instanceSourceColors:{size:this.props.colorFormat.length,type:"unorm8",transition:!0,accessor:"getSourceColor",defaultValue:by},instanceTargetColors:{size:this.props.colorFormat.length,type:"unorm8",transition:!0,accessor:"getTargetColor",defaultValue:by},instanceWidths:{size:1,transition:!0,accessor:"getWidth",defaultValue:1},instanceHeights:{size:1,transition:!0,accessor:"getHeight",defaultValue:1},instanceTilts:{size:1,transition:!0,accessor:"getTilt",defaultValue:0}})}updateState(e){var n;super.updateState(e),e.changeFlags.extensionsChanged&&((n=this.state.model)==null||n.destroy(),this.state.model=this._getModel(),this.getAttributeManager().invalidateAll())}draw({uniforms:e}){const{widthUnits:n,widthScale:r,widthMinPixels:s,widthMaxPixels:o,greatCircle:l,wrapLongitude:c,numSegments:f}=this.props,h={numSegments:f,widthUnits:pu[n],widthScale:r,widthMinPixels:s,widthMaxPixels:o,greatCircle:l,useShortestPath:c},p=this.state.model;p.shaderInputs.setProps({arc:h}),p.setVertexCount(f*2),p.draw(this.context.renderPass)}_getModel(){return new Sd(this.context.device,{...this.getShaders(),id:this.props.id,bufferLayout:this.getAttributeManager().getBufferLayouts(),topology:"triangle-strip",isInstanced:!0})}}ST.layerName="ArcLayer";ST.defaultProps=vle;const lj=`uniform scatterplotUniforms {
  float radiusScale;
  float radiusMinPixels;
  float radiusMaxPixels;
  float lineWidthScale;
  float lineWidthMinPixels;
  float lineWidthMaxPixels;
  float stroked;
  float filled;
  bool antialiasing;
  bool billboard;
  highp int radiusUnits;
  highp int lineWidthUnits;
} scatterplot;
`,_le={name:"scatterplot",vs:lj,fs:lj,source:"",uniformTypes:{radiusScale:"f32",radiusMinPixels:"f32",radiusMaxPixels:"f32",lineWidthScale:"f32",lineWidthMinPixels:"f32",lineWidthMaxPixels:"f32",stroked:"f32",filled:"f32",antialiasing:"f32",billboard:"f32",radiusUnits:"i32",lineWidthUnits:"i32"}},wle=`#version 300 es
#define SHADER_NAME scatterplot-layer-vertex-shader
in vec3 positions;
in vec3 instancePositions;
in vec3 instancePositions64Low;
in float instanceRadius;
in float instanceLineWidths;
in vec4 instanceFillColors;
in vec4 instanceLineColors;
in vec3 instancePickingColors;
out vec4 vFillColor;
out vec4 vLineColor;
out vec2 unitPosition;
out float innerUnitRadius;
out float outerRadiusPixels;
void main(void) {
geometry.worldPosition = instancePositions;
outerRadiusPixels = clamp(
project_size_to_pixel(scatterplot.radiusScale * instanceRadius, scatterplot.radiusUnits),
scatterplot.radiusMinPixels, scatterplot.radiusMaxPixels
);
float lineWidthPixels = clamp(
project_size_to_pixel(scatterplot.lineWidthScale * instanceLineWidths, scatterplot.lineWidthUnits),
scatterplot.lineWidthMinPixels, scatterplot.lineWidthMaxPixels
);
outerRadiusPixels += scatterplot.stroked * lineWidthPixels / 2.0;
float edgePadding = scatterplot.antialiasing ? (outerRadiusPixels + SMOOTH_EDGE_RADIUS) / outerRadiusPixels : 1.0;
unitPosition = edgePadding * positions.xy;
geometry.uv = unitPosition;
geometry.pickingColor = instancePickingColors;
innerUnitRadius = 1.0 - scatterplot.stroked * lineWidthPixels / outerRadiusPixels;
if (scatterplot.billboard) {
gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.0), geometry.position);
DECKGL_FILTER_GL_POSITION(gl_Position, geometry);
vec3 offset = edgePadding * positions * outerRadiusPixels;
DECKGL_FILTER_SIZE(offset, geometry);
gl_Position.xy += project_pixel_size_to_clipspace(offset.xy);
} else {
vec3 offset = edgePadding * positions * project_pixel_size(outerRadiusPixels);
DECKGL_FILTER_SIZE(offset, geometry);
gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, offset, geometry.position);
DECKGL_FILTER_GL_POSITION(gl_Position, geometry);
}
vFillColor = vec4(instanceFillColors.rgb, instanceFillColors.a * layer.opacity);
DECKGL_FILTER_COLOR(vFillColor, geometry);
vLineColor = vec4(instanceLineColors.rgb, instanceLineColors.a * layer.opacity);
DECKGL_FILTER_COLOR(vLineColor, geometry);
}
`,Nle=`#version 300 es
#define SHADER_NAME scatterplot-layer-fragment-shader
precision highp float;
in vec4 vFillColor;
in vec4 vLineColor;
in vec2 unitPosition;
in float innerUnitRadius;
in float outerRadiusPixels;
out vec4 fragColor;
void main(void) {
geometry.uv = unitPosition;
float distToCenter = length(unitPosition) * outerRadiusPixels;
float inCircle = scatterplot.antialiasing ?
smoothedge(distToCenter, outerRadiusPixels) :
step(distToCenter, outerRadiusPixels);
if (inCircle == 0.0) {
discard;
}
if (scatterplot.stroked > 0.5) {
float isLine = scatterplot.antialiasing ?
smoothedge(innerUnitRadius * outerRadiusPixels, distToCenter) :
step(innerUnitRadius * outerRadiusPixels, distToCenter);
if (scatterplot.filled > 0.5) {
fragColor = mix(vFillColor, vLineColor, isLine);
} else {
if (isLine == 0.0) {
discard;
}
fragColor = vec4(vLineColor.rgb, vLineColor.a * isLine);
}
} else if (scatterplot.filled < 0.5) {
discard;
} else {
fragColor = vFillColor;
}
fragColor.a *= inCircle;
DECKGL_FILTER_COLOR(fragColor, geometry);
}
`,Sle=`// TODO(ibgreen): Hack for Layer uniforms (move to new "color" module?)

struct LayerUniforms {
  opacity: f32,
};

var<private> layer: LayerUniforms = LayerUniforms(1.0);
// @group(0) @binding(1) var<uniform> layer: LayerUniforms;

// Main shaders

struct ScatterplotUniforms {
  radiusScale: f32,
  radiusMinPixels: f32,
  radiusMaxPixels: f32,
  lineWidthScale: f32,
  lineWidthMinPixels: f32,
  lineWidthMaxPixels: f32,
  stroked: f32,
  filled: i32,
  antialiasing: i32,
  billboard: i32,
  radiusUnits: i32,
  lineWidthUnits: i32,
};

struct ConstantAttributeUniforms {
 instancePositions: vec3<f32>,
 instancePositions64Low: vec3<f32>,
 instanceRadius: f32,
 instanceLineWidths: f32,
 instanceFillColors: vec4<f32>,
 instanceLineColors: vec4<f32>,
 instancePickingColors: vec3<f32>,

 instancePositionsConstant: i32,
 instancePositions64LowConstant: i32,
 instanceRadiusConstant: i32,
 instanceLineWidthsConstant: i32,
 instanceFillColorsConstant: i32,
 instanceLineColorsConstant: i32,
 instancePickingColorsConstant: i32
};

@group(0) @binding(2) var<uniform> scatterplot: ScatterplotUniforms;

struct ConstantAttributes {
  instancePositions: vec3<f32>,
  instancePositions64Low: vec3<f32>,
  instanceRadius: f32,
  instanceLineWidths: f32,
  instanceFillColors: vec4<f32>,
  instanceLineColors: vec4<f32>,
  instancePickingColors: vec3<f32>
};

const constants = ConstantAttributes(
  vec3<f32>(0.0),
  vec3<f32>(0.0),
  0.0,
  0.0,
  vec4<f32>(0.0, 0.0, 0.0, 1.0),
  vec4<f32>(0.0, 0.0, 0.0, 1.0),
  vec3<f32>(0.0)
);

struct Attributes {
  @builtin(instance_index) instanceIndex : u32,
  @builtin(vertex_index) vertexIndex : u32,
  @location(0) positions: vec3<f32>,
  @location(1) instancePositions: vec3<f32>,
  @location(2) instancePositions64Low: vec3<f32>,
  @location(3) instanceRadius: f32,
  @location(4) instanceLineWidths: f32,
  @location(5) instanceFillColors: vec4<f32>,
  @location(6) instanceLineColors: vec4<f32>,
  @location(7) instancePickingColors: vec3<f32>
};

struct Varyings {
  @builtin(position) position: vec4<f32>,
  @location(0) vFillColor: vec4<f32>,
  @location(1) vLineColor: vec4<f32>,
  @location(2) unitPosition: vec2<f32>,
  @location(3) innerUnitRadius: f32,
  @location(4) outerRadiusPixels: f32,
};

@vertex
fn vertexMain(attributes: Attributes) -> Varyings {
  var varyings: Varyings;

  // Draw an inline geometry constant array clip space triangle to verify that rendering works.
  // var positions = array<vec2<f32>, 3>(vec2(0.0, 0.5), vec2(-0.5, -0.5), vec2(0.5, -0.5));
  // if (attributes.instanceIndex == 0) {
  //   varyings.position = vec4<f32>(positions[attributes.vertexIndex], 0.0, 1.0);
  //   return varyings;
  // }

  // var geometry: Geometry;
  // geometry.worldPosition = instancePositions;

  // Multiply out radius and clamp to limits
  varyings.outerRadiusPixels = clamp(
    project_unit_size_to_pixel(scatterplot.radiusScale * attributes.instanceRadius, scatterplot.radiusUnits),
    scatterplot.radiusMinPixels, scatterplot.radiusMaxPixels
  );

  // Multiply out line width and clamp to limits
  let lineWidthPixels = clamp(
    project_unit_size_to_pixel(scatterplot.lineWidthScale * attributes.instanceLineWidths, scatterplot.lineWidthUnits),
    scatterplot.lineWidthMinPixels, scatterplot.lineWidthMaxPixels
  );

  // outer radius needs to offset by half stroke width
  varyings.outerRadiusPixels += scatterplot.stroked * lineWidthPixels / 2.0;
  // Expand geometry to accommodate edge smoothing
  let edgePadding = select(
    (varyings.outerRadiusPixels + SMOOTH_EDGE_RADIUS) / varyings.outerRadiusPixels,
    1.0,
    scatterplot.antialiasing != 0
  );

  // position on the containing square in [-1, 1] space
  varyings.unitPosition = edgePadding * attributes.positions.xy;
  geometry.uv = varyings.unitPosition;
  geometry.pickingColor = attributes.instancePickingColors;

  varyings.innerUnitRadius = 1.0 - scatterplot.stroked * lineWidthPixels / varyings.outerRadiusPixels;

  if (scatterplot.billboard != 0) {
    varyings.position = project_position_to_clipspace(attributes.instancePositions, attributes.instancePositions64Low, vec3<f32>(0.0)); // TODO , geometry.position);
    // DECKGL_FILTER_GL_POSITION(varyings.position, geometry);
    let offset = attributes.positions; // * edgePadding * varyings.outerRadiusPixels;
    // DECKGL_FILTER_SIZE(offset, geometry);
    let clipPixels = project_pixel_size_to_clipspace(offset.xy);
    varyings.position.x = clipPixels.x;
    varyings.position.y = clipPixels.y;
  } else {
    let offset = edgePadding * attributes.positions * project_pixel_size_float(varyings.outerRadiusPixels);
    // DECKGL_FILTER_SIZE(offset, geometry);
    varyings.position = project_position_to_clipspace(attributes.instancePositions, attributes.instancePositions64Low, offset); // TODO , geometry.position);
    // DECKGL_FILTER_GL_POSITION(varyings.position, geometry);
  }

  // Apply opacity to instance color, or return instance picking color
  varyings.vFillColor = vec4<f32>(attributes.instanceFillColors.rgb, attributes.instanceFillColors.a * layer.opacity);
  // DECKGL_FILTER_COLOR(varyings.vFillColor, geometry);
  varyings.vLineColor = vec4<f32>(attributes.instanceLineColors.rgb, attributes.instanceLineColors.a * layer.opacity);
  // DECKGL_FILTER_COLOR(varyings.vLineColor, geometry);

  return varyings;
}

@fragment
fn fragmentMain(varyings: Varyings) -> @location(0) vec4<f32> {
  // var geometry: Geometry;
  // geometry.uv = unitPosition;

  let distToCenter = length(varyings.unitPosition) * varyings.outerRadiusPixels;
  let inCircle = select(
    smoothedge(distToCenter, varyings.outerRadiusPixels),
    step(distToCenter, varyings.outerRadiusPixels),
    scatterplot.antialiasing != 0
  );

  if (inCircle == 0.0) {
    // discard;
  }

  var fragColor: vec4<f32>;

  if (scatterplot.stroked != 0) {
    let isLine = select(
      smoothedge(varyings.innerUnitRadius * varyings.outerRadiusPixels, distToCenter),
      step(varyings.innerUnitRadius * varyings.outerRadiusPixels, distToCenter),
      scatterplot.antialiasing != 0
    );

    if (scatterplot.filled != 0) {
      fragColor = mix(varyings.vFillColor, varyings.vLineColor, isLine);
    } else {
      if (isLine == 0.0) {
        // discard;
      }
      fragColor = vec4<f32>(varyings.vLineColor.rgb, varyings.vLineColor.a * isLine);
    }
  } else if (scatterplot.filled == 0) {
    // discard;
  } else {
    fragColor = varyings.vFillColor;
  }

  fragColor.a *= inCircle;
  // DECKGL_FILTER_COLOR(fragColor, geometry);

  return fragColor;
  // return vec4<f32>(0, 0, 1, 1);
}
`,cj=[0,0,0,255],Ele={radiusUnits:"meters",radiusScale:{type:"number",min:0,value:1},radiusMinPixels:{type:"number",min:0,value:0},radiusMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},lineWidthUnits:"meters",lineWidthScale:{type:"number",min:0,value:1},lineWidthMinPixels:{type:"number",min:0,value:0},lineWidthMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},stroked:!1,filled:!0,billboard:!1,antialiasing:!0,getPosition:{type:"accessor",value:t=>t.position},getRadius:{type:"accessor",value:1},getFillColor:{type:"accessor",value:cj},getLineColor:{type:"accessor",value:cj},getLineWidth:{type:"accessor",value:1},strokeWidth:{deprecatedFor:"getLineWidth"},outline:{deprecatedFor:"stroked"},getColor:{deprecatedFor:["getFillColor","getLineColor"]}};class xy extends Rm{getShaders(){return super.getShaders({vs:wle,fs:Nle,source:Sle,modules:[IF,LF,_le]})}initializeState(){this.getAttributeManager().addInstanced({instancePositions:{size:3,type:"float64",fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceRadius:{size:1,transition:!0,accessor:"getRadius",defaultValue:1},instanceFillColors:{size:this.props.colorFormat.length,transition:!0,type:"unorm8",accessor:"getFillColor",defaultValue:[0,0,0,255]},instanceLineColors:{size:this.props.colorFormat.length,transition:!0,type:"unorm8",accessor:"getLineColor",defaultValue:[0,0,0,255]},instanceLineWidths:{size:1,transition:!0,accessor:"getLineWidth",defaultValue:1}})}updateState(e){var n;super.updateState(e),e.changeFlags.extensionsChanged&&((n=this.state.model)==null||n.destroy(),this.state.model=this._getModel(),this.getAttributeManager().invalidateAll())}draw({uniforms:e}){const{radiusUnits:n,radiusScale:r,radiusMinPixels:s,radiusMaxPixels:o,stroked:l,filled:c,billboard:f,antialiasing:h,lineWidthUnits:p,lineWidthScale:m,lineWidthMinPixels:b,lineWidthMaxPixels:_}=this.props,E={stroked:l,filled:c,billboard:f,antialiasing:h,radiusUnits:pu[n],radiusScale:r,radiusMinPixels:s,radiusMaxPixels:o,lineWidthUnits:pu[p],lineWidthScale:m,lineWidthMinPixels:b,lineWidthMaxPixels:_},T=this.state.model;T.shaderInputs.setProps({scatterplot:E}),T.draw(this.context.renderPass)}_getModel(){const e=[-1,-1,0,1,-1,0,-1,1,0,1,1,0];return new Sd(this.context.device,{...this.getShaders(),id:this.props.id,bufferLayout:this.getAttributeManager().getBufferLayouts(),geometry:new Qre({topology:"triangle-strip",attributes:{positions:{size:3,value:new Float32Array(e)}}}),isInstanced:!0})}}xy.defaultProps=Ele;xy.layerName="ScatterplotLayer";var ln={};const Tle=Object.prototype.toString;function om(t){const e=Tle.call(t);return e.endsWith("Array]")&&!e.includes("Big")}const Ale=Object.freeze(Object.defineProperty({__proto__:null,isAnyArray:om},Symbol.toStringTag,{value:"Module"})),Cle=vI(Ale);function Rle(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!om(t))throw new TypeError("input must be an array");if(t.length===0)throw new TypeError("input must not be empty");var n=e.fromIndex,r=n===void 0?0:n,s=e.toIndex,o=s===void 0?t.length:s;if(r<0||r>=t.length||!Number.isInteger(r))throw new Error("fromIndex must be a positive integer smaller than length");if(o<=r||o>t.length||!Number.isInteger(o))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var l=t[r],c=r+1;c<o;c++)t[c]>l&&(l=t[c]);return l}function kle(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!om(t))throw new TypeError("input must be an array");if(t.length===0)throw new TypeError("input must not be empty");var n=e.fromIndex,r=n===void 0?0:n,s=e.toIndex,o=s===void 0?t.length:s;if(r<0||r>=t.length||!Number.isInteger(r))throw new Error("fromIndex must be a positive integer smaller than length");if(o<=r||o>t.length||!Number.isInteger(o))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var l=t[r],c=r+1;c<o;c++)t[c]<l&&(l=t[c]);return l}function Ple(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(om(t)){if(t.length===0)throw new TypeError("input must not be empty")}else throw new TypeError("input must be an array");var n;if(e.output!==void 0){if(!om(e.output))throw new TypeError("output option must be an array if specified");n=e.output}else n=new Array(t.length);var r=kle(t),s=Rle(t);if(r===s)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var o=e.min,l=o===void 0?e.autoMinMax?r:0:o,c=e.max,f=c===void 0?e.autoMinMax?s:1:c;if(l>=f)throw new RangeError("min option must be smaller than max option");for(var h=(f-l)/(s-r),p=0;p<t.length;p++)n[p]=(t[p]-r)*h+l;return n}const Dle=Object.freeze(Object.defineProperty({__proto__:null,default:Ple},Symbol.toStringTag,{value:"Module"})),Mle=vI(Dle);var uj;function jle(){var $t,YS,At;if(uj)return ln;uj=1,Object.defineProperty(ln,"__esModule",{value:!0});var t=Cle,e=Mle;const n=" ".repeat(2),r=" ".repeat(4);function s(){return o(this)}function o(F,S={}){const{maxRows:w=15,maxColumns:y=10,maxNumSize:N=8,padMinus:A="auto"}=S;return`${F.constructor.name} {
${n}[
${r}${l(F,w,y,N,A)}
${n}]
${n}rows: ${F.rows}
${n}columns: ${F.columns}
}`}function l(F,S,w,y,N){const{rows:A,columns:W}=F,X=Math.min(A,S),J=Math.min(W,w),te=[];if(N==="auto"){N=!1;e:for(let Re=0;Re<X;Re++)for(let ie=0;ie<J;ie++)if(F.get(Re,ie)<0){N=!0;break e}}for(let Re=0;Re<X;Re++){let ie=[];for(let ze=0;ze<J;ze++)ie.push(c(F.get(Re,ze),y,N));te.push(`${ie.join(" ")}`)}return J!==W&&(te[te.length-1]+=` ... ${W-w} more columns`),X!==A&&te.push(`... ${A-S} more rows`),te.join(`
${r}`)}function c(F,S,w){return(F>=0&&w?` ${f(F,S-1)}`:f(F,S)).padEnd(S)}function f(F,S){let w=F.toString();if(w.length<=S)return w;let y=F.toFixed(S);if(y.length>S&&(y=F.toFixed(Math.max(0,S-(y.length-S)))),y.length<=S&&!y.startsWith("0.000")&&!y.startsWith("-0.000"))return y;let N=F.toExponential(S);return N.length>S&&(N=F.toExponential(Math.max(0,S-(N.length-S)))),N.slice(0)}function h(F,S){F.prototype.add=function(y){return typeof y=="number"?this.addS(y):this.addM(y)},F.prototype.addS=function(y){for(let N=0;N<this.rows;N++)for(let A=0;A<this.columns;A++)this.set(N,A,this.get(N,A)+y);return this},F.prototype.addM=function(y){if(y=S.checkMatrix(y),this.rows!==y.rows||this.columns!==y.columns)throw new RangeError("Matrices dimensions must be equal");for(let N=0;N<this.rows;N++)for(let A=0;A<this.columns;A++)this.set(N,A,this.get(N,A)+y.get(N,A));return this},F.add=function(y,N){return new S(y).add(N)},F.prototype.sub=function(y){return typeof y=="number"?this.subS(y):this.subM(y)},F.prototype.subS=function(y){for(let N=0;N<this.rows;N++)for(let A=0;A<this.columns;A++)this.set(N,A,this.get(N,A)-y);return this},F.prototype.subM=function(y){if(y=S.checkMatrix(y),this.rows!==y.rows||this.columns!==y.columns)throw new RangeError("Matrices dimensions must be equal");for(let N=0;N<this.rows;N++)for(let A=0;A<this.columns;A++)this.set(N,A,this.get(N,A)-y.get(N,A));return this},F.sub=function(y,N){return new S(y).sub(N)},F.prototype.subtract=F.prototype.sub,F.prototype.subtractS=F.prototype.subS,F.prototype.subtractM=F.prototype.subM,F.subtract=F.sub,F.prototype.mul=function(y){return typeof y=="number"?this.mulS(y):this.mulM(y)},F.prototype.mulS=function(y){for(let N=0;N<this.rows;N++)for(let A=0;A<this.columns;A++)this.set(N,A,this.get(N,A)*y);return this},F.prototype.mulM=function(y){if(y=S.checkMatrix(y),this.rows!==y.rows||this.columns!==y.columns)throw new RangeError("Matrices dimensions must be equal");for(let N=0;N<this.rows;N++)for(let A=0;A<this.columns;A++)this.set(N,A,this.get(N,A)*y.get(N,A));return this},F.mul=function(y,N){return new S(y).mul(N)},F.prototype.multiply=F.prototype.mul,F.prototype.multiplyS=F.prototype.mulS,F.prototype.multiplyM=F.prototype.mulM,F.multiply=F.mul,F.prototype.div=function(y){return typeof y=="number"?this.divS(y):this.divM(y)},F.prototype.divS=function(y){for(let N=0;N<this.rows;N++)for(let A=0;A<this.columns;A++)this.set(N,A,this.get(N,A)/y);return this},F.prototype.divM=function(y){if(y=S.checkMatrix(y),this.rows!==y.rows||this.columns!==y.columns)throw new RangeError("Matrices dimensions must be equal");for(let N=0;N<this.rows;N++)for(let A=0;A<this.columns;A++)this.set(N,A,this.get(N,A)/y.get(N,A));return this},F.div=function(y,N){return new S(y).div(N)},F.prototype.divide=F.prototype.div,F.prototype.divideS=F.prototype.divS,F.prototype.divideM=F.prototype.divM,F.divide=F.div,F.prototype.mod=function(y){return typeof y=="number"?this.modS(y):this.modM(y)},F.prototype.modS=function(y){for(let N=0;N<this.rows;N++)for(let A=0;A<this.columns;A++)this.set(N,A,this.get(N,A)%y);return this},F.prototype.modM=function(y){if(y=S.checkMatrix(y),this.rows!==y.rows||this.columns!==y.columns)throw new RangeError("Matrices dimensions must be equal");for(let N=0;N<this.rows;N++)for(let A=0;A<this.columns;A++)this.set(N,A,this.get(N,A)%y.get(N,A));return this},F.mod=function(y,N){return new S(y).mod(N)},F.prototype.modulus=F.prototype.mod,F.prototype.modulusS=F.prototype.modS,F.prototype.modulusM=F.prototype.modM,F.modulus=F.mod,F.prototype.and=function(y){return typeof y=="number"?this.andS(y):this.andM(y)},F.prototype.andS=function(y){for(let N=0;N<this.rows;N++)for(let A=0;A<this.columns;A++)this.set(N,A,this.get(N,A)&y);return this},F.prototype.andM=function(y){if(y=S.checkMatrix(y),this.rows!==y.rows||this.columns!==y.columns)throw new RangeError("Matrices dimensions must be equal");for(let N=0;N<this.rows;N++)for(let A=0;A<this.columns;A++)this.set(N,A,this.get(N,A)&y.get(N,A));return this},F.and=function(y,N){return new S(y).and(N)},F.prototype.or=function(y){return typeof y=="number"?this.orS(y):this.orM(y)},F.prototype.orS=function(y){for(let N=0;N<this.rows;N++)for(let A=0;A<this.columns;A++)this.set(N,A,this.get(N,A)|y);return this},F.prototype.orM=function(y){if(y=S.checkMatrix(y),this.rows!==y.rows||this.columns!==y.columns)throw new RangeError("Matrices dimensions must be equal");for(let N=0;N<this.rows;N++)for(let A=0;A<this.columns;A++)this.set(N,A,this.get(N,A)|y.get(N,A));return this},F.or=function(y,N){return new S(y).or(N)},F.prototype.xor=function(y){return typeof y=="number"?this.xorS(y):this.xorM(y)},F.prototype.xorS=function(y){for(let N=0;N<this.rows;N++)for(let A=0;A<this.columns;A++)this.set(N,A,this.get(N,A)^y);return this},F.prototype.xorM=function(y){if(y=S.checkMatrix(y),this.rows!==y.rows||this.columns!==y.columns)throw new RangeError("Matrices dimensions must be equal");for(let N=0;N<this.rows;N++)for(let A=0;A<this.columns;A++)this.set(N,A,this.get(N,A)^y.get(N,A));return this},F.xor=function(y,N){return new S(y).xor(N)},F.prototype.leftShift=function(y){return typeof y=="number"?this.leftShiftS(y):this.leftShiftM(y)},F.prototype.leftShiftS=function(y){for(let N=0;N<this.rows;N++)for(let A=0;A<this.columns;A++)this.set(N,A,this.get(N,A)<<y);return this},F.prototype.leftShiftM=function(y){if(y=S.checkMatrix(y),this.rows!==y.rows||this.columns!==y.columns)throw new RangeError("Matrices dimensions must be equal");for(let N=0;N<this.rows;N++)for(let A=0;A<this.columns;A++)this.set(N,A,this.get(N,A)<<y.get(N,A));return this},F.leftShift=function(y,N){return new S(y).leftShift(N)},F.prototype.signPropagatingRightShift=function(y){return typeof y=="number"?this.signPropagatingRightShiftS(y):this.signPropagatingRightShiftM(y)},F.prototype.signPropagatingRightShiftS=function(y){for(let N=0;N<this.rows;N++)for(let A=0;A<this.columns;A++)this.set(N,A,this.get(N,A)>>y);return this},F.prototype.signPropagatingRightShiftM=function(y){if(y=S.checkMatrix(y),this.rows!==y.rows||this.columns!==y.columns)throw new RangeError("Matrices dimensions must be equal");for(let N=0;N<this.rows;N++)for(let A=0;A<this.columns;A++)this.set(N,A,this.get(N,A)>>y.get(N,A));return this},F.signPropagatingRightShift=function(y,N){return new S(y).signPropagatingRightShift(N)},F.prototype.rightShift=function(y){return typeof y=="number"?this.rightShiftS(y):this.rightShiftM(y)},F.prototype.rightShiftS=function(y){for(let N=0;N<this.rows;N++)for(let A=0;A<this.columns;A++)this.set(N,A,this.get(N,A)>>>y);return this},F.prototype.rightShiftM=function(y){if(y=S.checkMatrix(y),this.rows!==y.rows||this.columns!==y.columns)throw new RangeError("Matrices dimensions must be equal");for(let N=0;N<this.rows;N++)for(let A=0;A<this.columns;A++)this.set(N,A,this.get(N,A)>>>y.get(N,A));return this},F.rightShift=function(y,N){return new S(y).rightShift(N)},F.prototype.zeroFillRightShift=F.prototype.rightShift,F.prototype.zeroFillRightShiftS=F.prototype.rightShiftS,F.prototype.zeroFillRightShiftM=F.prototype.rightShiftM,F.zeroFillRightShift=F.rightShift,F.prototype.not=function(){for(let y=0;y<this.rows;y++)for(let N=0;N<this.columns;N++)this.set(y,N,~this.get(y,N));return this},F.not=function(y){return new S(y).not()},F.prototype.abs=function(){for(let y=0;y<this.rows;y++)for(let N=0;N<this.columns;N++)this.set(y,N,Math.abs(this.get(y,N)));return this},F.abs=function(y){return new S(y).abs()},F.prototype.acos=function(){for(let y=0;y<this.rows;y++)for(let N=0;N<this.columns;N++)this.set(y,N,Math.acos(this.get(y,N)));return this},F.acos=function(y){return new S(y).acos()},F.prototype.acosh=function(){for(let y=0;y<this.rows;y++)for(let N=0;N<this.columns;N++)this.set(y,N,Math.acosh(this.get(y,N)));return this},F.acosh=function(y){return new S(y).acosh()},F.prototype.asin=function(){for(let y=0;y<this.rows;y++)for(let N=0;N<this.columns;N++)this.set(y,N,Math.asin(this.get(y,N)));return this},F.asin=function(y){return new S(y).asin()},F.prototype.asinh=function(){for(let y=0;y<this.rows;y++)for(let N=0;N<this.columns;N++)this.set(y,N,Math.asinh(this.get(y,N)));return this},F.asinh=function(y){return new S(y).asinh()},F.prototype.atan=function(){for(let y=0;y<this.rows;y++)for(let N=0;N<this.columns;N++)this.set(y,N,Math.atan(this.get(y,N)));return this},F.atan=function(y){return new S(y).atan()},F.prototype.atanh=function(){for(let y=0;y<this.rows;y++)for(let N=0;N<this.columns;N++)this.set(y,N,Math.atanh(this.get(y,N)));return this},F.atanh=function(y){return new S(y).atanh()},F.prototype.cbrt=function(){for(let y=0;y<this.rows;y++)for(let N=0;N<this.columns;N++)this.set(y,N,Math.cbrt(this.get(y,N)));return this},F.cbrt=function(y){return new S(y).cbrt()},F.prototype.ceil=function(){for(let y=0;y<this.rows;y++)for(let N=0;N<this.columns;N++)this.set(y,N,Math.ceil(this.get(y,N)));return this},F.ceil=function(y){return new S(y).ceil()},F.prototype.clz32=function(){for(let y=0;y<this.rows;y++)for(let N=0;N<this.columns;N++)this.set(y,N,Math.clz32(this.get(y,N)));return this},F.clz32=function(y){return new S(y).clz32()},F.prototype.cos=function(){for(let y=0;y<this.rows;y++)for(let N=0;N<this.columns;N++)this.set(y,N,Math.cos(this.get(y,N)));return this},F.cos=function(y){return new S(y).cos()},F.prototype.cosh=function(){for(let y=0;y<this.rows;y++)for(let N=0;N<this.columns;N++)this.set(y,N,Math.cosh(this.get(y,N)));return this},F.cosh=function(y){return new S(y).cosh()},F.prototype.exp=function(){for(let y=0;y<this.rows;y++)for(let N=0;N<this.columns;N++)this.set(y,N,Math.exp(this.get(y,N)));return this},F.exp=function(y){return new S(y).exp()},F.prototype.expm1=function(){for(let y=0;y<this.rows;y++)for(let N=0;N<this.columns;N++)this.set(y,N,Math.expm1(this.get(y,N)));return this},F.expm1=function(y){return new S(y).expm1()},F.prototype.floor=function(){for(let y=0;y<this.rows;y++)for(let N=0;N<this.columns;N++)this.set(y,N,Math.floor(this.get(y,N)));return this},F.floor=function(y){return new S(y).floor()},F.prototype.fround=function(){for(let y=0;y<this.rows;y++)for(let N=0;N<this.columns;N++)this.set(y,N,Math.fround(this.get(y,N)));return this},F.fround=function(y){return new S(y).fround()},F.prototype.log=function(){for(let y=0;y<this.rows;y++)for(let N=0;N<this.columns;N++)this.set(y,N,Math.log(this.get(y,N)));return this},F.log=function(y){return new S(y).log()},F.prototype.log1p=function(){for(let y=0;y<this.rows;y++)for(let N=0;N<this.columns;N++)this.set(y,N,Math.log1p(this.get(y,N)));return this},F.log1p=function(y){return new S(y).log1p()},F.prototype.log10=function(){for(let y=0;y<this.rows;y++)for(let N=0;N<this.columns;N++)this.set(y,N,Math.log10(this.get(y,N)));return this},F.log10=function(y){return new S(y).log10()},F.prototype.log2=function(){for(let y=0;y<this.rows;y++)for(let N=0;N<this.columns;N++)this.set(y,N,Math.log2(this.get(y,N)));return this},F.log2=function(y){return new S(y).log2()},F.prototype.round=function(){for(let y=0;y<this.rows;y++)for(let N=0;N<this.columns;N++)this.set(y,N,Math.round(this.get(y,N)));return this},F.round=function(y){return new S(y).round()},F.prototype.sign=function(){for(let y=0;y<this.rows;y++)for(let N=0;N<this.columns;N++)this.set(y,N,Math.sign(this.get(y,N)));return this},F.sign=function(y){return new S(y).sign()},F.prototype.sin=function(){for(let y=0;y<this.rows;y++)for(let N=0;N<this.columns;N++)this.set(y,N,Math.sin(this.get(y,N)));return this},F.sin=function(y){return new S(y).sin()},F.prototype.sinh=function(){for(let y=0;y<this.rows;y++)for(let N=0;N<this.columns;N++)this.set(y,N,Math.sinh(this.get(y,N)));return this},F.sinh=function(y){return new S(y).sinh()},F.prototype.sqrt=function(){for(let y=0;y<this.rows;y++)for(let N=0;N<this.columns;N++)this.set(y,N,Math.sqrt(this.get(y,N)));return this},F.sqrt=function(y){return new S(y).sqrt()},F.prototype.tan=function(){for(let y=0;y<this.rows;y++)for(let N=0;N<this.columns;N++)this.set(y,N,Math.tan(this.get(y,N)));return this},F.tan=function(y){return new S(y).tan()},F.prototype.tanh=function(){for(let y=0;y<this.rows;y++)for(let N=0;N<this.columns;N++)this.set(y,N,Math.tanh(this.get(y,N)));return this},F.tanh=function(y){return new S(y).tanh()},F.prototype.trunc=function(){for(let y=0;y<this.rows;y++)for(let N=0;N<this.columns;N++)this.set(y,N,Math.trunc(this.get(y,N)));return this},F.trunc=function(y){return new S(y).trunc()},F.pow=function(y,N){return new S(y).pow(N)},F.prototype.pow=function(y){return typeof y=="number"?this.powS(y):this.powM(y)},F.prototype.powS=function(y){for(let N=0;N<this.rows;N++)for(let A=0;A<this.columns;A++)this.set(N,A,this.get(N,A)**y);return this},F.prototype.powM=function(y){if(y=S.checkMatrix(y),this.rows!==y.rows||this.columns!==y.columns)throw new RangeError("Matrices dimensions must be equal");for(let N=0;N<this.rows;N++)for(let A=0;A<this.columns;A++)this.set(N,A,this.get(N,A)**y.get(N,A));return this}}function p(F,S,w){let y=w?F.rows:F.rows-1;if(S<0||S>y)throw new RangeError("Row index out of range")}function m(F,S,w){let y=w?F.columns:F.columns-1;if(S<0||S>y)throw new RangeError("Column index out of range")}function b(F,S){if(S.to1DArray&&(S=S.to1DArray()),S.length!==F.columns)throw new RangeError("vector size must be the same as the number of columns");return S}function _(F,S){if(S.to1DArray&&(S=S.to1DArray()),S.length!==F.rows)throw new RangeError("vector size must be the same as the number of rows");return S}function E(F,S){if(!t.isAnyArray(S))throw new TypeError("row indices must be an array");for(let w=0;w<S.length;w++)if(S[w]<0||S[w]>=F.rows)throw new RangeError("row indices are out of range")}function T(F,S){if(!t.isAnyArray(S))throw new TypeError("column indices must be an array");for(let w=0;w<S.length;w++)if(S[w]<0||S[w]>=F.columns)throw new RangeError("column indices are out of range")}function C(F,S,w,y,N){if(arguments.length!==5)throw new RangeError("expected 4 arguments");if(M("startRow",S),M("endRow",w),M("startColumn",y),M("endColumn",N),S>w||y>N||S<0||S>=F.rows||w<0||w>=F.rows||y<0||y>=F.columns||N<0||N>=F.columns)throw new RangeError("Submatrix indices are out of range")}function D(F,S=0){let w=[];for(let y=0;y<F;y++)w.push(S);return w}function M(F,S){if(typeof S!="number")throw new TypeError(`${F} must be a number`)}function P(F){if(F.isEmpty())throw new Error("Empty matrix has no elements to index")}function U(F){let S=D(F.rows);for(let w=0;w<F.rows;++w)for(let y=0;y<F.columns;++y)S[w]+=F.get(w,y);return S}function L(F){let S=D(F.columns);for(let w=0;w<F.rows;++w)for(let y=0;y<F.columns;++y)S[y]+=F.get(w,y);return S}function O(F){let S=0;for(let w=0;w<F.rows;w++)for(let y=0;y<F.columns;y++)S+=F.get(w,y);return S}function Y(F){let S=D(F.rows,1);for(let w=0;w<F.rows;++w)for(let y=0;y<F.columns;++y)S[w]*=F.get(w,y);return S}function ne(F){let S=D(F.columns,1);for(let w=0;w<F.rows;++w)for(let y=0;y<F.columns;++y)S[y]*=F.get(w,y);return S}function G(F){let S=1;for(let w=0;w<F.rows;w++)for(let y=0;y<F.columns;y++)S*=F.get(w,y);return S}function K(F,S,w){const y=F.rows,N=F.columns,A=[];for(let W=0;W<y;W++){let X=0,J=0,te=0;for(let Re=0;Re<N;Re++)te=F.get(W,Re)-w[W],X+=te,J+=te*te;S?A.push((J-X*X/N)/(N-1)):A.push((J-X*X/N)/N)}return A}function Q(F,S,w){const y=F.rows,N=F.columns,A=[];for(let W=0;W<N;W++){let X=0,J=0,te=0;for(let Re=0;Re<y;Re++)te=F.get(Re,W)-w[W],X+=te,J+=te*te;S?A.push((J-X*X/y)/(y-1)):A.push((J-X*X/y)/y)}return A}function de(F,S,w){const y=F.rows,N=F.columns,A=y*N;let W=0,X=0,J=0;for(let te=0;te<y;te++)for(let Re=0;Re<N;Re++)J=F.get(te,Re)-w,W+=J,X+=J*J;return S?(X-W*W/A)/(A-1):(X-W*W/A)/A}function pe(F,S){for(let w=0;w<F.rows;w++)for(let y=0;y<F.columns;y++)F.set(w,y,F.get(w,y)-S[w])}function le(F,S){for(let w=0;w<F.rows;w++)for(let y=0;y<F.columns;y++)F.set(w,y,F.get(w,y)-S[y])}function ye(F,S){for(let w=0;w<F.rows;w++)for(let y=0;y<F.columns;y++)F.set(w,y,F.get(w,y)-S)}function ge(F){const S=[];for(let w=0;w<F.rows;w++){let y=0;for(let N=0;N<F.columns;N++)y+=F.get(w,N)**2/(F.columns-1);S.push(Math.sqrt(y))}return S}function je(F,S){for(let w=0;w<F.rows;w++)for(let y=0;y<F.columns;y++)F.set(w,y,F.get(w,y)/S[w])}function _e(F){const S=[];for(let w=0;w<F.columns;w++){let y=0;for(let N=0;N<F.rows;N++)y+=F.get(N,w)**2/(F.rows-1);S.push(Math.sqrt(y))}return S}function Ke(F,S){for(let w=0;w<F.rows;w++)for(let y=0;y<F.columns;y++)F.set(w,y,F.get(w,y)/S[y])}function V(F){const S=F.size-1;let w=0;for(let y=0;y<F.columns;y++)for(let N=0;N<F.rows;N++)w+=F.get(N,y)**2/S;return Math.sqrt(w)}function ue(F,S){for(let w=0;w<F.rows;w++)for(let y=0;y<F.columns;y++)F.set(w,y,F.get(w,y)/S)}class se{static from1DArray(S,w,y){if(S*w!==y.length)throw new RangeError("data length does not match given dimensions");let A=new Z(S,w);for(let W=0;W<S;W++)for(let X=0;X<w;X++)A.set(W,X,y[W*w+X]);return A}static rowVector(S){let w=new Z(1,S.length);for(let y=0;y<S.length;y++)w.set(0,y,S[y]);return w}static columnVector(S){let w=new Z(S.length,1);for(let y=0;y<S.length;y++)w.set(y,0,S[y]);return w}static zeros(S,w){return new Z(S,w)}static ones(S,w){return new Z(S,w).fill(1)}static rand(S,w,y={}){if(typeof y!="object")throw new TypeError("options must be an object");const{random:N=Math.random}=y;let A=new Z(S,w);for(let W=0;W<S;W++)for(let X=0;X<w;X++)A.set(W,X,N());return A}static randInt(S,w,y={}){if(typeof y!="object")throw new TypeError("options must be an object");const{min:N=0,max:A=1e3,random:W=Math.random}=y;if(!Number.isInteger(N))throw new TypeError("min must be an integer");if(!Number.isInteger(A))throw new TypeError("max must be an integer");if(N>=A)throw new RangeError("min must be smaller than max");let X=A-N,J=new Z(S,w);for(let te=0;te<S;te++)for(let Re=0;Re<w;Re++){let ie=N+Math.round(W()*X);J.set(te,Re,ie)}return J}static eye(S,w,y){w===void 0&&(w=S),y===void 0&&(y=1);let N=Math.min(S,w),A=this.zeros(S,w);for(let W=0;W<N;W++)A.set(W,W,y);return A}static diag(S,w,y){let N=S.length;w===void 0&&(w=N),y===void 0&&(y=w);let A=Math.min(N,w,y),W=this.zeros(w,y);for(let X=0;X<A;X++)W.set(X,X,S[X]);return W}static min(S,w){S=this.checkMatrix(S),w=this.checkMatrix(w);let y=S.rows,N=S.columns,A=new Z(y,N);for(let W=0;W<y;W++)for(let X=0;X<N;X++)A.set(W,X,Math.min(S.get(W,X),w.get(W,X)));return A}static max(S,w){S=this.checkMatrix(S),w=this.checkMatrix(w);let y=S.rows,N=S.columns,A=new this(y,N);for(let W=0;W<y;W++)for(let X=0;X<N;X++)A.set(W,X,Math.max(S.get(W,X),w.get(W,X)));return A}static checkMatrix(S){return se.isMatrix(S)?S:new Z(S)}static isMatrix(S){return S!=null&&S.klass==="Matrix"}get size(){return this.rows*this.columns}apply(S){if(typeof S!="function")throw new TypeError("callback must be a function");for(let w=0;w<this.rows;w++)for(let y=0;y<this.columns;y++)S.call(this,w,y);return this}to1DArray(){let S=[];for(let w=0;w<this.rows;w++)for(let y=0;y<this.columns;y++)S.push(this.get(w,y));return S}to2DArray(){let S=[];for(let w=0;w<this.rows;w++){S.push([]);for(let y=0;y<this.columns;y++)S[w].push(this.get(w,y))}return S}toJSON(){return this.to2DArray()}isRowVector(){return this.rows===1}isColumnVector(){return this.columns===1}isVector(){return this.rows===1||this.columns===1}isSquare(){return this.rows===this.columns}isEmpty(){return this.rows===0||this.columns===0}isSymmetric(){if(this.isSquare()){for(let S=0;S<this.rows;S++)for(let w=0;w<=S;w++)if(this.get(S,w)!==this.get(w,S))return!1;return!0}return!1}isDistance(){if(!this.isSymmetric())return!1;for(let S=0;S<this.rows;S++)if(this.get(S,S)!==0)return!1;return!0}isEchelonForm(){let S=0,w=0,y=-1,N=!0,A=!1;for(;S<this.rows&&N;){for(w=0,A=!1;w<this.columns&&A===!1;)this.get(S,w)===0?w++:this.get(S,w)===1&&w>y?(A=!0,y=w):(N=!1,A=!0);S++}return N}isReducedEchelonForm(){let S=0,w=0,y=-1,N=!0,A=!1;for(;S<this.rows&&N;){for(w=0,A=!1;w<this.columns&&A===!1;)this.get(S,w)===0?w++:this.get(S,w)===1&&w>y?(A=!0,y=w):(N=!1,A=!0);for(let W=w+1;W<this.rows;W++)this.get(S,W)!==0&&(N=!1);S++}return N}echelonForm(){let S=this.clone(),w=0,y=0;for(;w<S.rows&&y<S.columns;){let N=w;for(let A=w;A<S.rows;A++)S.get(A,y)>S.get(N,y)&&(N=A);if(S.get(N,y)===0)y++;else{S.swapRows(w,N);let A=S.get(w,y);for(let W=y;W<S.columns;W++)S.set(w,W,S.get(w,W)/A);for(let W=w+1;W<S.rows;W++){let X=S.get(W,y)/S.get(w,y);S.set(W,y,0);for(let J=y+1;J<S.columns;J++)S.set(W,J,S.get(W,J)-S.get(w,J)*X)}w++,y++}}return S}reducedEchelonForm(){let S=this.echelonForm(),w=S.columns,y=S.rows,N=y-1;for(;N>=0;)if(S.maxRow(N)===0)N--;else{let A=0,W=!1;for(;A<y&&W===!1;)S.get(N,A)===1?W=!0:A++;for(let X=0;X<N;X++){let J=S.get(X,A);for(let te=A;te<w;te++){let Re=S.get(X,te)-J*S.get(N,te);S.set(X,te,Re)}}N--}return S}set(){throw new Error("set method is unimplemented")}get(){throw new Error("get method is unimplemented")}repeat(S={}){if(typeof S!="object")throw new TypeError("options must be an object");const{rows:w=1,columns:y=1}=S;if(!Number.isInteger(w)||w<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(y)||y<=0)throw new TypeError("columns must be a positive integer");let N=new Z(this.rows*w,this.columns*y);for(let A=0;A<w;A++)for(let W=0;W<y;W++)N.setSubMatrix(this,this.rows*A,this.columns*W);return N}fill(S){for(let w=0;w<this.rows;w++)for(let y=0;y<this.columns;y++)this.set(w,y,S);return this}neg(){return this.mulS(-1)}getRow(S){p(this,S);let w=[];for(let y=0;y<this.columns;y++)w.push(this.get(S,y));return w}getRowVector(S){return Z.rowVector(this.getRow(S))}setRow(S,w){p(this,S),w=b(this,w);for(let y=0;y<this.columns;y++)this.set(S,y,w[y]);return this}swapRows(S,w){p(this,S),p(this,w);for(let y=0;y<this.columns;y++){let N=this.get(S,y);this.set(S,y,this.get(w,y)),this.set(w,y,N)}return this}getColumn(S){m(this,S);let w=[];for(let y=0;y<this.rows;y++)w.push(this.get(y,S));return w}getColumnVector(S){return Z.columnVector(this.getColumn(S))}setColumn(S,w){m(this,S),w=_(this,w);for(let y=0;y<this.rows;y++)this.set(y,S,w[y]);return this}swapColumns(S,w){m(this,S),m(this,w);for(let y=0;y<this.rows;y++){let N=this.get(y,S);this.set(y,S,this.get(y,w)),this.set(y,w,N)}return this}addRowVector(S){S=b(this,S);for(let w=0;w<this.rows;w++)for(let y=0;y<this.columns;y++)this.set(w,y,this.get(w,y)+S[y]);return this}subRowVector(S){S=b(this,S);for(let w=0;w<this.rows;w++)for(let y=0;y<this.columns;y++)this.set(w,y,this.get(w,y)-S[y]);return this}mulRowVector(S){S=b(this,S);for(let w=0;w<this.rows;w++)for(let y=0;y<this.columns;y++)this.set(w,y,this.get(w,y)*S[y]);return this}divRowVector(S){S=b(this,S);for(let w=0;w<this.rows;w++)for(let y=0;y<this.columns;y++)this.set(w,y,this.get(w,y)/S[y]);return this}addColumnVector(S){S=_(this,S);for(let w=0;w<this.rows;w++)for(let y=0;y<this.columns;y++)this.set(w,y,this.get(w,y)+S[w]);return this}subColumnVector(S){S=_(this,S);for(let w=0;w<this.rows;w++)for(let y=0;y<this.columns;y++)this.set(w,y,this.get(w,y)-S[w]);return this}mulColumnVector(S){S=_(this,S);for(let w=0;w<this.rows;w++)for(let y=0;y<this.columns;y++)this.set(w,y,this.get(w,y)*S[w]);return this}divColumnVector(S){S=_(this,S);for(let w=0;w<this.rows;w++)for(let y=0;y<this.columns;y++)this.set(w,y,this.get(w,y)/S[w]);return this}mulRow(S,w){p(this,S);for(let y=0;y<this.columns;y++)this.set(S,y,this.get(S,y)*w);return this}mulColumn(S,w){m(this,S);for(let y=0;y<this.rows;y++)this.set(y,S,this.get(y,S)*w);return this}max(S){if(this.isEmpty())return NaN;switch(S){case"row":{const w=new Array(this.rows).fill(Number.NEGATIVE_INFINITY);for(let y=0;y<this.rows;y++)for(let N=0;N<this.columns;N++)this.get(y,N)>w[y]&&(w[y]=this.get(y,N));return w}case"column":{const w=new Array(this.columns).fill(Number.NEGATIVE_INFINITY);for(let y=0;y<this.rows;y++)for(let N=0;N<this.columns;N++)this.get(y,N)>w[N]&&(w[N]=this.get(y,N));return w}case void 0:{let w=this.get(0,0);for(let y=0;y<this.rows;y++)for(let N=0;N<this.columns;N++)this.get(y,N)>w&&(w=this.get(y,N));return w}default:throw new Error(`invalid option: ${S}`)}}maxIndex(){P(this);let S=this.get(0,0),w=[0,0];for(let y=0;y<this.rows;y++)for(let N=0;N<this.columns;N++)this.get(y,N)>S&&(S=this.get(y,N),w[0]=y,w[1]=N);return w}min(S){if(this.isEmpty())return NaN;switch(S){case"row":{const w=new Array(this.rows).fill(Number.POSITIVE_INFINITY);for(let y=0;y<this.rows;y++)for(let N=0;N<this.columns;N++)this.get(y,N)<w[y]&&(w[y]=this.get(y,N));return w}case"column":{const w=new Array(this.columns).fill(Number.POSITIVE_INFINITY);for(let y=0;y<this.rows;y++)for(let N=0;N<this.columns;N++)this.get(y,N)<w[N]&&(w[N]=this.get(y,N));return w}case void 0:{let w=this.get(0,0);for(let y=0;y<this.rows;y++)for(let N=0;N<this.columns;N++)this.get(y,N)<w&&(w=this.get(y,N));return w}default:throw new Error(`invalid option: ${S}`)}}minIndex(){P(this);let S=this.get(0,0),w=[0,0];for(let y=0;y<this.rows;y++)for(let N=0;N<this.columns;N++)this.get(y,N)<S&&(S=this.get(y,N),w[0]=y,w[1]=N);return w}maxRow(S){if(p(this,S),this.isEmpty())return NaN;let w=this.get(S,0);for(let y=1;y<this.columns;y++)this.get(S,y)>w&&(w=this.get(S,y));return w}maxRowIndex(S){p(this,S),P(this);let w=this.get(S,0),y=[S,0];for(let N=1;N<this.columns;N++)this.get(S,N)>w&&(w=this.get(S,N),y[1]=N);return y}minRow(S){if(p(this,S),this.isEmpty())return NaN;let w=this.get(S,0);for(let y=1;y<this.columns;y++)this.get(S,y)<w&&(w=this.get(S,y));return w}minRowIndex(S){p(this,S),P(this);let w=this.get(S,0),y=[S,0];for(let N=1;N<this.columns;N++)this.get(S,N)<w&&(w=this.get(S,N),y[1]=N);return y}maxColumn(S){if(m(this,S),this.isEmpty())return NaN;let w=this.get(0,S);for(let y=1;y<this.rows;y++)this.get(y,S)>w&&(w=this.get(y,S));return w}maxColumnIndex(S){m(this,S),P(this);let w=this.get(0,S),y=[0,S];for(let N=1;N<this.rows;N++)this.get(N,S)>w&&(w=this.get(N,S),y[0]=N);return y}minColumn(S){if(m(this,S),this.isEmpty())return NaN;let w=this.get(0,S);for(let y=1;y<this.rows;y++)this.get(y,S)<w&&(w=this.get(y,S));return w}minColumnIndex(S){m(this,S),P(this);let w=this.get(0,S),y=[0,S];for(let N=1;N<this.rows;N++)this.get(N,S)<w&&(w=this.get(N,S),y[0]=N);return y}diag(){let S=Math.min(this.rows,this.columns),w=[];for(let y=0;y<S;y++)w.push(this.get(y,y));return w}norm(S="frobenius"){switch(S){case"max":return this.max();case"frobenius":return Math.sqrt(this.dot(this));default:throw new RangeError(`unknown norm type: ${S}`)}}cumulativeSum(){let S=0;for(let w=0;w<this.rows;w++)for(let y=0;y<this.columns;y++)S+=this.get(w,y),this.set(w,y,S);return this}dot(S){se.isMatrix(S)&&(S=S.to1DArray());let w=this.to1DArray();if(w.length!==S.length)throw new RangeError("vectors do not have the same size");let y=0;for(let N=0;N<w.length;N++)y+=w[N]*S[N];return y}mmul(S){S=Z.checkMatrix(S);let w=this.rows,y=this.columns,N=S.columns,A=new Z(w,N),W=new Float64Array(y);for(let X=0;X<N;X++){for(let J=0;J<y;J++)W[J]=S.get(J,X);for(let J=0;J<w;J++){let te=0;for(let Re=0;Re<y;Re++)te+=this.get(J,Re)*W[Re];A.set(J,X,te)}}return A}mpow(S){if(!this.isSquare())throw new RangeError("Matrix must be square");if(!Number.isInteger(S)||S<0)throw new RangeError("Exponent must be a non-negative integer");let w=Z.eye(this.rows),y=this;for(let N=S;N>=1;N/=2)(N&1)!==0&&(w=w.mmul(y)),y=y.mmul(y);return w}strassen2x2(S){S=Z.checkMatrix(S);let w=new Z(2,2);const y=this.get(0,0),N=S.get(0,0),A=this.get(0,1),W=S.get(0,1),X=this.get(1,0),J=S.get(1,0),te=this.get(1,1),Re=S.get(1,1),ie=(y+te)*(N+Re),ze=(X+te)*N,Je=y*(W-Re),Ve=te*(J-N),Ze=(y+A)*Re,ht=(X-y)*(N+W),ve=(A-te)*(J+Re),st=ie+Ve-Ze+ve,ft=Je+Ze,jt=ze+Ve,Ut=ie-ze+Je+ht;return w.set(0,0,st),w.set(0,1,ft),w.set(1,0,jt),w.set(1,1,Ut),w}strassen3x3(S){S=Z.checkMatrix(S);let w=new Z(3,3);const y=this.get(0,0),N=this.get(0,1),A=this.get(0,2),W=this.get(1,0),X=this.get(1,1),J=this.get(1,2),te=this.get(2,0),Re=this.get(2,1),ie=this.get(2,2),ze=S.get(0,0),Je=S.get(0,1),Ve=S.get(0,2),Ze=S.get(1,0),ht=S.get(1,1),ve=S.get(1,2),st=S.get(2,0),ft=S.get(2,1),jt=S.get(2,2),Ut=(y+N+A-W-X-Re-ie)*ht,Fn=(y-W)*(-Je+ht),Tt=X*(-ze+Je+Ze-ht-ve-st+jt),Ct=(-y+W+X)*(ze-Je+ht),Cn=(W+X)*(-ze+Je),Se=y*ze,Qe=(-y+te+Re)*(ze-Ve+ve),mt=(-y+te)*(Ve-ve),et=(te+Re)*(-ze+Ve),Bn=(y+N+A-X-J-te-Re)*ve,_n=Re*(-ze+Ve+Ze-ht-ve-st+ft),on=(-A+Re+ie)*(ht+st-ft),wn=(A-ie)*(ht-ft),Zn=A*st,Ds=(Re+ie)*(-st+ft),Gn=(-A+X+J)*(ve+st-jt),gs=(A-J)*(ve-jt),qs=(X+J)*(-st+jt),Qt=N*Ze,Jn=J*ft,qr=W*Ve,bs=te*Je,br=ie*jt,Mm=Se+Zn+Qt,Fd=Ut+Ct+Cn+Se+on+Zn+Ds,Bd=Se+Qe+et+Bn+Zn+Gn+qs,jm=Fn+Tt+Ct+Se+Zn+Gn+gs,Im=Fn+Ct+Cn+Se+Jn,Om=Zn+Gn+gs+qs+qr,xv=Se+Qe+mt+_n+on+wn+Zn,Um=on+wn+Zn+Ds+bs,Ld=Se+Qe+mt+et+br;return w.set(0,0,Mm),w.set(0,1,Fd),w.set(0,2,Bd),w.set(1,0,jm),w.set(1,1,Im),w.set(1,2,Om),w.set(2,0,xv),w.set(2,1,Um),w.set(2,2,Ld),w}mmulStrassen(S){S=Z.checkMatrix(S);let w=this.clone(),y=w.rows,N=w.columns,A=S.rows,W=S.columns;N!==A&&console.warn(`Multiplying ${y} x ${N} and ${A} x ${W} matrix: dimensions do not match.`);function X(ie,ze,Je){let Ve=ie.rows,Ze=ie.columns;if(Ve===ze&&Ze===Je)return ie;{let ht=se.zeros(ze,Je);return ht=ht.setSubMatrix(ie,0,0),ht}}let J=Math.max(y,A),te=Math.max(N,W);w=X(w,J,te),S=X(S,J,te);function Re(ie,ze,Je,Ve){if(Je<=512||Ve<=512)return ie.mmul(ze);Je%2===1&&Ve%2===1?(ie=X(ie,Je+1,Ve+1),ze=X(ze,Je+1,Ve+1)):Je%2===1?(ie=X(ie,Je+1,Ve),ze=X(ze,Je+1,Ve)):Ve%2===1&&(ie=X(ie,Je,Ve+1),ze=X(ze,Je,Ve+1));let Ze=parseInt(ie.rows/2,10),ht=parseInt(ie.columns/2,10),ve=ie.subMatrix(0,Ze-1,0,ht-1),st=ze.subMatrix(0,Ze-1,0,ht-1),ft=ie.subMatrix(0,Ze-1,ht,ie.columns-1),jt=ze.subMatrix(0,Ze-1,ht,ze.columns-1),Ut=ie.subMatrix(Ze,ie.rows-1,0,ht-1),Fn=ze.subMatrix(Ze,ze.rows-1,0,ht-1),Tt=ie.subMatrix(Ze,ie.rows-1,ht,ie.columns-1),Ct=ze.subMatrix(Ze,ze.rows-1,ht,ze.columns-1),Cn=Re(se.add(ve,Tt),se.add(st,Ct),Ze,ht),Se=Re(se.add(Ut,Tt),st,Ze,ht),Qe=Re(ve,se.sub(jt,Ct),Ze,ht),mt=Re(Tt,se.sub(Fn,st),Ze,ht),et=Re(se.add(ve,ft),Ct,Ze,ht),Bn=Re(se.sub(Ut,ve),se.add(st,jt),Ze,ht),_n=Re(se.sub(ft,Tt),se.add(Fn,Ct),Ze,ht),on=se.add(Cn,mt);on.sub(et),on.add(_n);let wn=se.add(Qe,et),Zn=se.add(Se,mt),Ds=se.sub(Cn,Se);Ds.add(Qe),Ds.add(Bn);let Gn=se.zeros(2*on.rows,2*on.columns);return Gn=Gn.setSubMatrix(on,0,0),Gn=Gn.setSubMatrix(wn,on.rows,0),Gn=Gn.setSubMatrix(Zn,0,on.columns),Gn=Gn.setSubMatrix(Ds,on.rows,on.columns),Gn.subMatrix(0,Je-1,0,Ve-1)}return Re(w,S,J,te)}scaleRows(S={}){if(typeof S!="object")throw new TypeError("options must be an object");const{min:w=0,max:y=1}=S;if(!Number.isFinite(w))throw new TypeError("min must be a number");if(!Number.isFinite(y))throw new TypeError("max must be a number");if(w>=y)throw new RangeError("min must be smaller than max");let N=new Z(this.rows,this.columns);for(let A=0;A<this.rows;A++){const W=this.getRow(A);W.length>0&&e(W,{min:w,max:y,output:W}),N.setRow(A,W)}return N}scaleColumns(S={}){if(typeof S!="object")throw new TypeError("options must be an object");const{min:w=0,max:y=1}=S;if(!Number.isFinite(w))throw new TypeError("min must be a number");if(!Number.isFinite(y))throw new TypeError("max must be a number");if(w>=y)throw new RangeError("min must be smaller than max");let N=new Z(this.rows,this.columns);for(let A=0;A<this.columns;A++){const W=this.getColumn(A);W.length&&e(W,{min:w,max:y,output:W}),N.setColumn(A,W)}return N}flipRows(){const S=Math.ceil(this.columns/2);for(let w=0;w<this.rows;w++)for(let y=0;y<S;y++){let N=this.get(w,y),A=this.get(w,this.columns-1-y);this.set(w,y,A),this.set(w,this.columns-1-y,N)}return this}flipColumns(){const S=Math.ceil(this.rows/2);for(let w=0;w<this.columns;w++)for(let y=0;y<S;y++){let N=this.get(y,w),A=this.get(this.rows-1-y,w);this.set(y,w,A),this.set(this.rows-1-y,w,N)}return this}kroneckerProduct(S){S=Z.checkMatrix(S);let w=this.rows,y=this.columns,N=S.rows,A=S.columns,W=new Z(w*N,y*A);for(let X=0;X<w;X++)for(let J=0;J<y;J++)for(let te=0;te<N;te++)for(let Re=0;Re<A;Re++)W.set(N*X+te,A*J+Re,this.get(X,J)*S.get(te,Re));return W}kroneckerSum(S){if(S=Z.checkMatrix(S),!this.isSquare()||!S.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");let w=this.rows,y=S.rows,N=this.kroneckerProduct(Z.eye(y,y)),A=Z.eye(w,w).kroneckerProduct(S);return N.add(A)}transpose(){let S=new Z(this.columns,this.rows);for(let w=0;w<this.rows;w++)for(let y=0;y<this.columns;y++)S.set(y,w,this.get(w,y));return S}sortRows(S=B){for(let w=0;w<this.rows;w++)this.setRow(w,this.getRow(w).sort(S));return this}sortColumns(S=B){for(let w=0;w<this.columns;w++)this.setColumn(w,this.getColumn(w).sort(S));return this}subMatrix(S,w,y,N){C(this,S,w,y,N);let A=new Z(w-S+1,N-y+1);for(let W=S;W<=w;W++)for(let X=y;X<=N;X++)A.set(W-S,X-y,this.get(W,X));return A}subMatrixRow(S,w,y){if(w===void 0&&(w=0),y===void 0&&(y=this.columns-1),w>y||w<0||w>=this.columns||y<0||y>=this.columns)throw new RangeError("Argument out of range");let N=new Z(S.length,y-w+1);for(let A=0;A<S.length;A++)for(let W=w;W<=y;W++){if(S[A]<0||S[A]>=this.rows)throw new RangeError(`Row index out of range: ${S[A]}`);N.set(A,W-w,this.get(S[A],W))}return N}subMatrixColumn(S,w,y){if(w===void 0&&(w=0),y===void 0&&(y=this.rows-1),w>y||w<0||w>=this.rows||y<0||y>=this.rows)throw new RangeError("Argument out of range");let N=new Z(y-w+1,S.length);for(let A=0;A<S.length;A++)for(let W=w;W<=y;W++){if(S[A]<0||S[A]>=this.columns)throw new RangeError(`Column index out of range: ${S[A]}`);N.set(W-w,A,this.get(W,S[A]))}return N}setSubMatrix(S,w,y){if(S=Z.checkMatrix(S),S.isEmpty())return this;let N=w+S.rows-1,A=y+S.columns-1;C(this,w,N,y,A);for(let W=0;W<S.rows;W++)for(let X=0;X<S.columns;X++)this.set(w+W,y+X,S.get(W,X));return this}selection(S,w){E(this,S),T(this,w);let y=new Z(S.length,w.length);for(let N=0;N<S.length;N++){let A=S[N];for(let W=0;W<w.length;W++){let X=w[W];y.set(N,W,this.get(A,X))}}return y}trace(){let S=Math.min(this.rows,this.columns),w=0;for(let y=0;y<S;y++)w+=this.get(y,y);return w}clone(){return this.constructor.copy(this,new Z(this.rows,this.columns))}static copy(S,w){for(const[y,N,A]of S.entries())w.set(y,N,A);return w}sum(S){switch(S){case"row":return U(this);case"column":return L(this);case void 0:return O(this);default:throw new Error(`invalid option: ${S}`)}}product(S){switch(S){case"row":return Y(this);case"column":return ne(this);case void 0:return G(this);default:throw new Error(`invalid option: ${S}`)}}mean(S){const w=this.sum(S);switch(S){case"row":{for(let y=0;y<this.rows;y++)w[y]/=this.columns;return w}case"column":{for(let y=0;y<this.columns;y++)w[y]/=this.rows;return w}case void 0:return w/this.size;default:throw new Error(`invalid option: ${S}`)}}variance(S,w={}){if(typeof S=="object"&&(w=S,S=void 0),typeof w!="object")throw new TypeError("options must be an object");const{unbiased:y=!0,mean:N=this.mean(S)}=w;if(typeof y!="boolean")throw new TypeError("unbiased must be a boolean");switch(S){case"row":{if(!t.isAnyArray(N))throw new TypeError("mean must be an array");return K(this,y,N)}case"column":{if(!t.isAnyArray(N))throw new TypeError("mean must be an array");return Q(this,y,N)}case void 0:{if(typeof N!="number")throw new TypeError("mean must be a number");return de(this,y,N)}default:throw new Error(`invalid option: ${S}`)}}standardDeviation(S,w){typeof S=="object"&&(w=S,S=void 0);const y=this.variance(S,w);if(S===void 0)return Math.sqrt(y);for(let N=0;N<y.length;N++)y[N]=Math.sqrt(y[N]);return y}center(S,w={}){if(typeof S=="object"&&(w=S,S=void 0),typeof w!="object")throw new TypeError("options must be an object");const{center:y=this.mean(S)}=w;switch(S){case"row":{if(!t.isAnyArray(y))throw new TypeError("center must be an array");return pe(this,y),this}case"column":{if(!t.isAnyArray(y))throw new TypeError("center must be an array");return le(this,y),this}case void 0:{if(typeof y!="number")throw new TypeError("center must be a number");return ye(this,y),this}default:throw new Error(`invalid option: ${S}`)}}scale(S,w={}){if(typeof S=="object"&&(w=S,S=void 0),typeof w!="object")throw new TypeError("options must be an object");let y=w.scale;switch(S){case"row":{if(y===void 0)y=ge(this);else if(!t.isAnyArray(y))throw new TypeError("scale must be an array");return je(this,y),this}case"column":{if(y===void 0)y=_e(this);else if(!t.isAnyArray(y))throw new TypeError("scale must be an array");return Ke(this,y),this}case void 0:{if(y===void 0)y=V(this);else if(typeof y!="number")throw new TypeError("scale must be a number");return ue(this,y),this}default:throw new Error(`invalid option: ${S}`)}}toString(S){return o(this,S)}[Symbol.iterator](){return this.entries()}*entries(){for(let S=0;S<this.rows;S++)for(let w=0;w<this.columns;w++)yield[S,w,this.get(S,w)]}*values(){for(let S=0;S<this.rows;S++)for(let w=0;w<this.columns;w++)yield this.get(S,w)}}se.prototype.klass="Matrix",typeof Symbol<"u"&&(se.prototype[Symbol.for("nodejs.util.inspect.custom")]=s);function B(F,S){return F-S}function ce(F){return F.every(S=>typeof S=="number")}se.random=se.rand,se.randomInt=se.randInt,se.diagonal=se.diag,se.prototype.diagonal=se.prototype.diag,se.identity=se.eye,se.prototype.negate=se.prototype.neg,se.prototype.tensorProduct=se.prototype.kroneckerProduct;const sn=class sn extends se{constructor(w,y){super();Rt(this,$t);H(this,"data");if(sn.isMatrix(w))Jt(this,$t,YS).call(this,w.rows,w.columns),sn.copy(w,this);else if(Number.isInteger(w)&&w>=0)Jt(this,$t,YS).call(this,w,y);else if(t.isAnyArray(w)){const N=w;if(w=N.length,y=w?N[0].length:0,typeof y!="number")throw new TypeError("Data must be a 2D array with at least one element");this.data=[];for(let A=0;A<w;A++){if(N[A].length!==y)throw new RangeError("Inconsistent array dimensions");if(!ce(N[A]))throw new TypeError("Input data contains non-numeric values");this.data.push(Float64Array.from(N[A]))}this.rows=w,this.columns=y}else throw new TypeError("First argument must be a positive number or an array")}set(w,y,N){return this.data[w][y]=N,this}get(w,y){return this.data[w][y]}removeRow(w){return p(this,w),this.data.splice(w,1),this.rows-=1,this}addRow(w,y){return y===void 0&&(y=w,w=this.rows),p(this,w,!0),y=Float64Array.from(b(this,y)),this.data.splice(w,0,y),this.rows+=1,this}removeColumn(w){m(this,w);for(let y=0;y<this.rows;y++){const N=new Float64Array(this.columns-1);for(let A=0;A<w;A++)N[A]=this.data[y][A];for(let A=w+1;A<this.columns;A++)N[A-1]=this.data[y][A];this.data[y]=N}return this.columns-=1,this}addColumn(w,y){typeof y>"u"&&(y=w,w=this.columns),m(this,w,!0),y=_(this,y);for(let N=0;N<this.rows;N++){const A=new Float64Array(this.columns+1);let W=0;for(;W<w;W++)A[W]=this.data[N][W];for(A[W++]=y[N];W<this.columns+1;W++)A[W]=this.data[N][W-1];this.data[N]=A}return this.columns+=1,this}};$t=new WeakSet,YS=function(w,y){if(this.data=[],Number.isInteger(y)&&y>=0)for(let N=0;N<w;N++)this.data.push(new Float64Array(y));else throw new TypeError("nColumns must be a positive integer");this.rows=w,this.columns=y};let Z=sn;h(se,Z);const sr=class sr extends se{constructor(w){super();Rt(this,At);if(Z.isMatrix(w)){if(!w.isSymmetric())throw new TypeError("not symmetric data");yt(this,At,Z.copy(w,new Z(w.rows,w.rows)))}else if(Number.isInteger(w)&&w>=0)yt(this,At,new Z(w,w));else if(yt(this,At,new Z(w)),!this.isSymmetric())throw new TypeError("not symmetric data")}get size(){return be(this,At).size}get rows(){return be(this,At).rows}get columns(){return be(this,At).columns}get diagonalSize(){return this.rows}static isSymmetricMatrix(w){return Z.isMatrix(w)&&w.klassType==="SymmetricMatrix"}static zeros(w){return new this(w)}static ones(w){return new this(w).fill(1)}clone(){const w=new sr(this.diagonalSize);for(const[y,N,A]of this.upperRightEntries())w.set(y,N,A);return w}toMatrix(){return new Z(this)}get(w,y){return be(this,At).get(w,y)}set(w,y,N){return be(this,At).set(w,y,N),be(this,At).set(y,w,N),this}removeCross(w){return be(this,At).removeRow(w),be(this,At).removeColumn(w),this}addCross(w,y){y===void 0&&(y=w,w=this.diagonalSize);const N=y.slice();return N.splice(w,1),be(this,At).addRow(w,N),be(this,At).addColumn(w,y),this}applyMask(w){if(w.length!==this.diagonalSize)throw new RangeError("Mask size do not match with matrix size");const y=[];for(const[N,A]of w.entries())A||y.push(N);y.reverse();for(const N of y)this.removeCross(N);return this}toCompact(){const{diagonalSize:w}=this,y=new Array(w*(w+1)/2);for(let N=0,A=0,W=0;W<y.length;W++)y[W]=this.get(A,N),++N>=w&&(N=++A);return y}static fromCompact(w){const y=w.length,N=(Math.sqrt(8*y+1)-1)/2;if(!Number.isInteger(N))throw new TypeError(`This array is not a compact representation of a Symmetric Matrix, ${JSON.stringify(w)}`);const A=new sr(N);for(let W=0,X=0,J=0;J<y;J++)A.set(W,X,w[J]),++W>=N&&(W=++X);return A}*upperRightEntries(){for(let w=0,y=0;w<this.diagonalSize;void 0){const N=this.get(w,y);yield[w,y,N],++y>=this.diagonalSize&&(y=++w)}}*upperRightValues(){for(let w=0,y=0;w<this.diagonalSize;void 0)yield this.get(w,y),++y>=this.diagonalSize&&(y=++w)}};At=new WeakMap;let xe=sr;xe.prototype.klassType="SymmetricMatrix";class he extends xe{static isDistanceMatrix(S){return xe.isSymmetricMatrix(S)&&S.klassSubType==="DistanceMatrix"}constructor(S){if(super(S),!this.isDistance())throw new TypeError("Provided arguments do no produce a distance matrix")}set(S,w,y){return S===w&&(y=0),super.set(S,w,y)}addCross(S,w){return w===void 0&&(w=S,S=this.diagonalSize),w=w.slice(),w[S]=0,super.addCross(S,w)}toSymmetricMatrix(){return new xe(this)}clone(){const S=new he(this.diagonalSize);for(const[w,y,N]of this.upperRightEntries())w!==y&&S.set(w,y,N);return S}toCompact(){const{diagonalSize:S}=this,w=(S-1)*S/2,y=new Array(w);for(let N=1,A=0,W=0;W<y.length;W++)y[W]=this.get(A,N),++N>=S&&(N=++A+1);return y}static fromCompact(S){const w=S.length;if(w===0)return new this(0);const y=(Math.sqrt(8*w+1)+1)/2;if(!Number.isInteger(y))throw new TypeError(`This array is not a compact representation of a DistanceMatrix, ${JSON.stringify(S)}`);const N=new this(y);for(let A=1,W=0,X=0;X<w;X++)N.set(A,W,S[X]),++A>=y&&(A=++W+1);return N}}he.prototype.klassSubType="DistanceMatrix";class oe extends se{constructor(S,w,y){super(),this.matrix=S,this.rows=w,this.columns=y}}class Pe extends oe{constructor(S,w){m(S,w),super(S,S.rows,1),this.column=w}set(S,w,y){return this.matrix.set(S,this.column,y),this}get(S){return this.matrix.get(S,this.column)}}class qe extends oe{constructor(S,w){T(S,w),super(S,S.rows,w.length),this.columnIndices=w}set(S,w,y){return this.matrix.set(S,this.columnIndices[w],y),this}get(S,w){return this.matrix.get(S,this.columnIndices[w])}}class Ye extends oe{constructor(S){super(S,S.rows,S.columns)}set(S,w,y){return this.matrix.set(S,this.columns-w-1,y),this}get(S,w){return this.matrix.get(S,this.columns-w-1)}}class tt extends oe{constructor(S){super(S,S.rows,S.columns)}set(S,w,y){return this.matrix.set(this.rows-S-1,w,y),this}get(S,w){return this.matrix.get(this.rows-S-1,w)}}class Ue extends oe{constructor(S,w){p(S,w),super(S,1,S.columns),this.row=w}set(S,w,y){return this.matrix.set(this.row,w,y),this}get(S,w){return this.matrix.get(this.row,w)}}class nt extends oe{constructor(S,w){E(S,w),super(S,w.length,S.columns),this.rowIndices=w}set(S,w,y){return this.matrix.set(this.rowIndices[S],w,y),this}get(S,w){return this.matrix.get(this.rowIndices[S],w)}}class lt extends oe{constructor(S,w,y){E(S,w),T(S,y),super(S,w.length,y.length),this.rowIndices=w,this.columnIndices=y}set(S,w,y){return this.matrix.set(this.rowIndices[S],this.columnIndices[w],y),this}get(S,w){return this.matrix.get(this.rowIndices[S],this.columnIndices[w])}}class gt extends oe{constructor(S,w,y,N,A){C(S,w,y,N,A),super(S,y-w+1,A-N+1),this.startRow=w,this.startColumn=N}set(S,w,y){return this.matrix.set(this.startRow+S,this.startColumn+w,y),this}get(S,w){return this.matrix.get(this.startRow+S,this.startColumn+w)}}class Lt extends oe{constructor(S){super(S,S.columns,S.rows)}set(S,w,y){return this.matrix.set(w,S,y),this}get(S,w){return this.matrix.get(w,S)}}class Yt extends se{constructor(S,w={}){const{rows:y=1}=w;if(S.length%y!==0)throw new Error("the data length is not divisible by the number of rows");super(),this.rows=y,this.columns=S.length/y,this.data=S}set(S,w,y){let N=this._calculateIndex(S,w);return this.data[N]=y,this}get(S,w){let y=this._calculateIndex(S,w);return this.data[y]}_calculateIndex(S,w){return S*this.columns+w}}class Ot extends se{constructor(S){super(),this.data=S,this.rows=S.length,this.columns=S[0].length}set(S,w,y){return this.data[S][w]=y,this}get(S,w){return this.data[S][w]}}function Pt(F,S){if(t.isAnyArray(F))return F[0]&&t.isAnyArray(F[0])?new Ot(F):new Yt(F,S);throw new Error("the argument is not an array")}class ar{constructor(S){S=Ot.checkMatrix(S);let w=S.clone(),y=w.rows,N=w.columns,A=new Float64Array(y),W=1,X,J,te,Re,ie,ze,Je,Ve,Ze;for(X=0;X<y;X++)A[X]=X;for(Ve=new Float64Array(y),J=0;J<N;J++){for(X=0;X<y;X++)Ve[X]=w.get(X,J);for(X=0;X<y;X++){for(Ze=Math.min(X,J),ie=0,te=0;te<Ze;te++)ie+=w.get(X,te)*Ve[te];Ve[X]-=ie,w.set(X,J,Ve[X])}for(Re=J,X=J+1;X<y;X++)Math.abs(Ve[X])>Math.abs(Ve[Re])&&(Re=X);if(Re!==J){for(te=0;te<N;te++)ze=w.get(Re,te),w.set(Re,te,w.get(J,te)),w.set(J,te,ze);Je=A[Re],A[Re]=A[J],A[J]=Je,W=-W}if(J<y&&w.get(J,J)!==0)for(X=J+1;X<y;X++)w.set(X,J,w.get(X,J)/w.get(J,J))}this.LU=w,this.pivotVector=A,this.pivotSign=W}isSingular(){let S=this.LU,w=S.columns;for(let y=0;y<w;y++)if(S.get(y,y)===0)return!0;return!1}solve(S){S=Z.checkMatrix(S);let w=this.LU;if(w.rows!==S.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");let N=S.columns,A=S.subMatrixRow(this.pivotVector,0,N-1),W=w.columns,X,J,te;for(te=0;te<W;te++)for(X=te+1;X<W;X++)for(J=0;J<N;J++)A.set(X,J,A.get(X,J)-A.get(te,J)*w.get(X,te));for(te=W-1;te>=0;te--){for(J=0;J<N;J++)A.set(te,J,A.get(te,J)/w.get(te,te));for(X=0;X<te;X++)for(J=0;J<N;J++)A.set(X,J,A.get(X,J)-A.get(te,J)*w.get(X,te))}return A}get determinant(){let S=this.LU;if(!S.isSquare())throw new Error("Matrix must be square");let w=this.pivotSign,y=S.columns;for(let N=0;N<y;N++)w*=S.get(N,N);return w}get lowerTriangularMatrix(){let S=this.LU,w=S.rows,y=S.columns,N=new Z(w,y);for(let A=0;A<w;A++)for(let W=0;W<y;W++)A>W?N.set(A,W,S.get(A,W)):A===W?N.set(A,W,1):N.set(A,W,0);return N}get upperTriangularMatrix(){let S=this.LU,w=S.rows,y=S.columns,N=new Z(w,y);for(let A=0;A<w;A++)for(let W=0;W<y;W++)A<=W?N.set(A,W,S.get(A,W)):N.set(A,W,0);return N}get pivotPermutationVector(){return Array.from(this.pivotVector)}}function An(F,S){let w=0;return Math.abs(F)>Math.abs(S)?(w=S/F,Math.abs(F)*Math.sqrt(1+w*w)):S!==0?(w=F/S,Math.abs(S)*Math.sqrt(1+w*w)):0}class Wr{constructor(S){S=Ot.checkMatrix(S);let w=S.clone(),y=S.rows,N=S.columns,A=new Float64Array(N),W,X,J,te;for(J=0;J<N;J++){let Re=0;for(W=J;W<y;W++)Re=An(Re,w.get(W,J));if(Re!==0){for(w.get(J,J)<0&&(Re=-Re),W=J;W<y;W++)w.set(W,J,w.get(W,J)/Re);for(w.set(J,J,w.get(J,J)+1),X=J+1;X<N;X++){for(te=0,W=J;W<y;W++)te+=w.get(W,J)*w.get(W,X);for(te=-te/w.get(J,J),W=J;W<y;W++)w.set(W,X,w.get(W,X)+te*w.get(W,J))}}A[J]=-Re}this.QR=w,this.Rdiag=A}solve(S){S=Z.checkMatrix(S);let w=this.QR,y=w.rows;if(S.rows!==y)throw new Error("Matrix row dimensions must agree");if(!this.isFullRank())throw new Error("Matrix is rank deficient");let N=S.columns,A=S.clone(),W=w.columns,X,J,te,Re;for(te=0;te<W;te++)for(J=0;J<N;J++){for(Re=0,X=te;X<y;X++)Re+=w.get(X,te)*A.get(X,J);for(Re=-Re/w.get(te,te),X=te;X<y;X++)A.set(X,J,A.get(X,J)+Re*w.get(X,te))}for(te=W-1;te>=0;te--){for(J=0;J<N;J++)A.set(te,J,A.get(te,J)/this.Rdiag[te]);for(X=0;X<te;X++)for(J=0;J<N;J++)A.set(X,J,A.get(X,J)-A.get(te,J)*w.get(X,te))}return A.subMatrix(0,W-1,0,N-1)}isFullRank(){let S=this.QR.columns;for(let w=0;w<S;w++)if(this.Rdiag[w]===0)return!1;return!0}get upperTriangularMatrix(){let S=this.QR,w=S.columns,y=new Z(w,w),N,A;for(N=0;N<w;N++)for(A=0;A<w;A++)N<A?y.set(N,A,S.get(N,A)):N===A?y.set(N,A,this.Rdiag[N]):y.set(N,A,0);return y}get orthogonalMatrix(){let S=this.QR,w=S.rows,y=S.columns,N=new Z(w,y),A,W,X,J;for(X=y-1;X>=0;X--){for(A=0;A<w;A++)N.set(A,X,0);for(N.set(X,X,1),W=X;W<y;W++)if(S.get(X,X)!==0){for(J=0,A=X;A<w;A++)J+=S.get(A,X)*N.get(A,W);for(J=-J/S.get(X,X),A=X;A<w;A++)N.set(A,W,N.get(A,W)+J*S.get(A,X))}}return N}}class ms{constructor(S,w={}){if(S=Ot.checkMatrix(S),S.isEmpty())throw new Error("Matrix must be non-empty");let y=S.rows,N=S.columns;const{computeLeftSingularVectors:A=!0,computeRightSingularVectors:W=!0,autoTranspose:X=!1}=w;let J=!!A,te=!!W,Re=!1,ie;if(y<N)if(!X)ie=S.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else{ie=S.transpose(),y=ie.rows,N=ie.columns,Re=!0;let Se=J;J=te,te=Se}else ie=S.clone();let ze=Math.min(y,N),Je=Math.min(y+1,N),Ve=new Float64Array(Je),Ze=new Z(y,ze),ht=new Z(N,N),ve=new Float64Array(N),st=new Float64Array(y),ft=new Float64Array(Je);for(let Se=0;Se<Je;Se++)ft[Se]=Se;let jt=Math.min(y-1,N),Ut=Math.max(0,Math.min(N-2,y)),Fn=Math.max(jt,Ut);for(let Se=0;Se<Fn;Se++){if(Se<jt){Ve[Se]=0;for(let Qe=Se;Qe<y;Qe++)Ve[Se]=An(Ve[Se],ie.get(Qe,Se));if(Ve[Se]!==0){ie.get(Se,Se)<0&&(Ve[Se]=-Ve[Se]);for(let Qe=Se;Qe<y;Qe++)ie.set(Qe,Se,ie.get(Qe,Se)/Ve[Se]);ie.set(Se,Se,ie.get(Se,Se)+1)}Ve[Se]=-Ve[Se]}for(let Qe=Se+1;Qe<N;Qe++){if(Se<jt&&Ve[Se]!==0){let mt=0;for(let et=Se;et<y;et++)mt+=ie.get(et,Se)*ie.get(et,Qe);mt=-mt/ie.get(Se,Se);for(let et=Se;et<y;et++)ie.set(et,Qe,ie.get(et,Qe)+mt*ie.get(et,Se))}ve[Qe]=ie.get(Se,Qe)}if(J&&Se<jt)for(let Qe=Se;Qe<y;Qe++)Ze.set(Qe,Se,ie.get(Qe,Se));if(Se<Ut){ve[Se]=0;for(let Qe=Se+1;Qe<N;Qe++)ve[Se]=An(ve[Se],ve[Qe]);if(ve[Se]!==0){ve[Se+1]<0&&(ve[Se]=0-ve[Se]);for(let Qe=Se+1;Qe<N;Qe++)ve[Qe]/=ve[Se];ve[Se+1]+=1}if(ve[Se]=-ve[Se],Se+1<y&&ve[Se]!==0){for(let Qe=Se+1;Qe<y;Qe++)st[Qe]=0;for(let Qe=Se+1;Qe<y;Qe++)for(let mt=Se+1;mt<N;mt++)st[Qe]+=ve[mt]*ie.get(Qe,mt);for(let Qe=Se+1;Qe<N;Qe++){let mt=-ve[Qe]/ve[Se+1];for(let et=Se+1;et<y;et++)ie.set(et,Qe,ie.get(et,Qe)+mt*st[et])}}if(te)for(let Qe=Se+1;Qe<N;Qe++)ht.set(Qe,Se,ve[Qe])}}let Tt=Math.min(N,y+1);if(jt<N&&(Ve[jt]=ie.get(jt,jt)),y<Tt&&(Ve[Tt-1]=0),Ut+1<Tt&&(ve[Ut]=ie.get(Ut,Tt-1)),ve[Tt-1]=0,J){for(let Se=jt;Se<ze;Se++){for(let Qe=0;Qe<y;Qe++)Ze.set(Qe,Se,0);Ze.set(Se,Se,1)}for(let Se=jt-1;Se>=0;Se--)if(Ve[Se]!==0){for(let Qe=Se+1;Qe<ze;Qe++){let mt=0;for(let et=Se;et<y;et++)mt+=Ze.get(et,Se)*Ze.get(et,Qe);mt=-mt/Ze.get(Se,Se);for(let et=Se;et<y;et++)Ze.set(et,Qe,Ze.get(et,Qe)+mt*Ze.get(et,Se))}for(let Qe=Se;Qe<y;Qe++)Ze.set(Qe,Se,-Ze.get(Qe,Se));Ze.set(Se,Se,1+Ze.get(Se,Se));for(let Qe=0;Qe<Se-1;Qe++)Ze.set(Qe,Se,0)}else{for(let Qe=0;Qe<y;Qe++)Ze.set(Qe,Se,0);Ze.set(Se,Se,1)}}if(te)for(let Se=N-1;Se>=0;Se--){if(Se<Ut&&ve[Se]!==0)for(let Qe=Se+1;Qe<N;Qe++){let mt=0;for(let et=Se+1;et<N;et++)mt+=ht.get(et,Se)*ht.get(et,Qe);mt=-mt/ht.get(Se+1,Se);for(let et=Se+1;et<N;et++)ht.set(et,Qe,ht.get(et,Qe)+mt*ht.get(et,Se))}for(let Qe=0;Qe<N;Qe++)ht.set(Qe,Se,0);ht.set(Se,Se,1)}let Ct=Tt-1,Cn=Number.EPSILON;for(;Tt>0;){let Se,Qe;for(Se=Tt-2;Se>=-1&&Se!==-1;Se--){const mt=Number.MIN_VALUE+Cn*Math.abs(Ve[Se]+Math.abs(Ve[Se+1]));if(Math.abs(ve[Se])<=mt||Number.isNaN(ve[Se])){ve[Se]=0;break}}if(Se===Tt-2)Qe=4;else{let mt;for(mt=Tt-1;mt>=Se&&mt!==Se;mt--){let et=(mt!==Tt?Math.abs(ve[mt]):0)+(mt!==Se+1?Math.abs(ve[mt-1]):0);if(Math.abs(Ve[mt])<=Cn*et){Ve[mt]=0;break}}mt===Se?Qe=3:mt===Tt-1?Qe=1:(Qe=2,Se=mt)}switch(Se++,Qe){case 1:{let mt=ve[Tt-2];ve[Tt-2]=0;for(let et=Tt-2;et>=Se;et--){let Bn=An(Ve[et],mt),_n=Ve[et]/Bn,on=mt/Bn;if(Ve[et]=Bn,et!==Se&&(mt=-on*ve[et-1],ve[et-1]=_n*ve[et-1]),te)for(let wn=0;wn<N;wn++)Bn=_n*ht.get(wn,et)+on*ht.get(wn,Tt-1),ht.set(wn,Tt-1,-on*ht.get(wn,et)+_n*ht.get(wn,Tt-1)),ht.set(wn,et,Bn)}break}case 2:{let mt=ve[Se-1];ve[Se-1]=0;for(let et=Se;et<Tt;et++){let Bn=An(Ve[et],mt),_n=Ve[et]/Bn,on=mt/Bn;if(Ve[et]=Bn,mt=-on*ve[et],ve[et]=_n*ve[et],J)for(let wn=0;wn<y;wn++)Bn=_n*Ze.get(wn,et)+on*Ze.get(wn,Se-1),Ze.set(wn,Se-1,-on*Ze.get(wn,et)+_n*Ze.get(wn,Se-1)),Ze.set(wn,et,Bn)}break}case 3:{const mt=Math.max(Math.abs(Ve[Tt-1]),Math.abs(Ve[Tt-2]),Math.abs(ve[Tt-2]),Math.abs(Ve[Se]),Math.abs(ve[Se])),et=Ve[Tt-1]/mt,Bn=Ve[Tt-2]/mt,_n=ve[Tt-2]/mt,on=Ve[Se]/mt,wn=ve[Se]/mt,Zn=((Bn+et)*(Bn-et)+_n*_n)/2,Ds=et*_n*(et*_n);let Gn=0;(Zn!==0||Ds!==0)&&(Zn<0?Gn=0-Math.sqrt(Zn*Zn+Ds):Gn=Math.sqrt(Zn*Zn+Ds),Gn=Ds/(Zn+Gn));let gs=(on+et)*(on-et)+Gn,qs=on*wn;for(let Qt=Se;Qt<Tt-1;Qt++){let Jn=An(gs,qs);Jn===0&&(Jn=Number.MIN_VALUE);let qr=gs/Jn,bs=qs/Jn;if(Qt!==Se&&(ve[Qt-1]=Jn),gs=qr*Ve[Qt]+bs*ve[Qt],ve[Qt]=qr*ve[Qt]-bs*Ve[Qt],qs=bs*Ve[Qt+1],Ve[Qt+1]=qr*Ve[Qt+1],te)for(let br=0;br<N;br++)Jn=qr*ht.get(br,Qt)+bs*ht.get(br,Qt+1),ht.set(br,Qt+1,-bs*ht.get(br,Qt)+qr*ht.get(br,Qt+1)),ht.set(br,Qt,Jn);if(Jn=An(gs,qs),Jn===0&&(Jn=Number.MIN_VALUE),qr=gs/Jn,bs=qs/Jn,Ve[Qt]=Jn,gs=qr*ve[Qt]+bs*Ve[Qt+1],Ve[Qt+1]=-bs*ve[Qt]+qr*Ve[Qt+1],qs=bs*ve[Qt+1],ve[Qt+1]=qr*ve[Qt+1],J&&Qt<y-1)for(let br=0;br<y;br++)Jn=qr*Ze.get(br,Qt)+bs*Ze.get(br,Qt+1),Ze.set(br,Qt+1,-bs*Ze.get(br,Qt)+qr*Ze.get(br,Qt+1)),Ze.set(br,Qt,Jn)}ve[Tt-2]=gs;break}case 4:{if(Ve[Se]<=0&&(Ve[Se]=Ve[Se]<0?-Ve[Se]:0,te))for(let mt=0;mt<=Ct;mt++)ht.set(mt,Se,-ht.get(mt,Se));for(;Se<Ct&&!(Ve[Se]>=Ve[Se+1]);){let mt=Ve[Se];if(Ve[Se]=Ve[Se+1],Ve[Se+1]=mt,te&&Se<N-1)for(let et=0;et<N;et++)mt=ht.get(et,Se+1),ht.set(et,Se+1,ht.get(et,Se)),ht.set(et,Se,mt);if(J&&Se<y-1)for(let et=0;et<y;et++)mt=Ze.get(et,Se+1),Ze.set(et,Se+1,Ze.get(et,Se)),Ze.set(et,Se,mt);Se++}Tt--;break}}}if(Re){let Se=ht;ht=Ze,Ze=Se}this.m=y,this.n=N,this.s=Ve,this.U=Ze,this.V=ht}solve(S){let w=S,y=this.threshold,N=this.s.length,A=Z.zeros(N,N);for(let ze=0;ze<N;ze++)Math.abs(this.s[ze])<=y?A.set(ze,ze,0):A.set(ze,ze,1/this.s[ze]);let W=this.U,X=this.rightSingularVectors,J=X.mmul(A),te=X.rows,Re=W.rows,ie=Z.zeros(te,Re);for(let ze=0;ze<te;ze++)for(let Je=0;Je<Re;Je++){let Ve=0;for(let Ze=0;Ze<N;Ze++)Ve+=J.get(ze,Ze)*W.get(Je,Ze);ie.set(ze,Je,Ve)}return ie.mmul(w)}solveForDiagonal(S){return this.solve(Z.diag(S))}inverse(){let S=this.V,w=this.threshold,y=S.rows,N=S.columns,A=new Z(y,this.s.length);for(let Re=0;Re<y;Re++)for(let ie=0;ie<N;ie++)Math.abs(this.s[ie])>w&&A.set(Re,ie,S.get(Re,ie)/this.s[ie]);let W=this.U,X=W.rows,J=W.columns,te=new Z(y,X);for(let Re=0;Re<y;Re++)for(let ie=0;ie<X;ie++){let ze=0;for(let Je=0;Je<J;Je++)ze+=A.get(Re,Je)*W.get(ie,Je);te.set(Re,ie,ze)}return te}get condition(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}get norm2(){return this.s[0]}get rank(){let S=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,w=0,y=this.s;for(let N=0,A=y.length;N<A;N++)y[N]>S&&w++;return w}get diagonal(){return Array.from(this.s)}get threshold(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}get leftSingularVectors(){return this.U}get rightSingularVectors(){return this.V}get diagonalMatrix(){return Z.diag(this.s)}}function Ho(F,S=!1){return F=Ot.checkMatrix(F),S?new ms(F).inverse():He(F,Z.eye(F.rows))}function He(F,S,w=!1){return F=Ot.checkMatrix(F),S=Ot.checkMatrix(S),w?new ms(F).solve(S):F.isSquare()?new ar(F).solve(S):new Wr(F).solve(S)}function $e(F){if(F=Z.checkMatrix(F),F.isSquare()){if(F.columns===0)return 1;let S,w,y,N;if(F.columns===2)return S=F.get(0,0),w=F.get(0,1),y=F.get(1,0),N=F.get(1,1),S*N-w*y;if(F.columns===3){let A,W,X;return A=new lt(F,[1,2],[1,2]),W=new lt(F,[1,2],[0,2]),X=new lt(F,[1,2],[0,1]),S=F.get(0,0),w=F.get(0,1),y=F.get(0,2),S*$e(A)-w*$e(W)+y*$e(X)}else return new ar(F).determinant}else throw Error("determinant can only be calculated for a square matrix")}function xt(F,S){let w=[];for(let y=0;y<F;y++)y!==S&&w.push(y);return w}function zt(F,S,w,y=1e-9,N=1e-9){if(F>N)return new Array(S.rows+1).fill(0);{let A=S.addRow(w,[0]);for(let W=0;W<A.rows;W++)Math.abs(A.get(W,0))<y&&A.set(W,0,0);return A.to1DArray()}}function un(F,S={}){const{thresholdValue:w=1e-9,thresholdError:y=1e-9}=S;F=Z.checkMatrix(F);let N=F.rows,A=new Z(N,N);for(let W=0;W<N;W++){let X=Z.columnVector(F.getRow(W)),J=F.subMatrixRow(xt(N,W)).transpose(),Re=new ms(J).solve(X),ie=Z.sub(X,J.mmul(Re)).abs().max();A.setRow(W,zt(ie,Re,W,w,y))}return A}function lr(F,S=Number.EPSILON){if(F=Z.checkMatrix(F),F.isEmpty())return F.transpose();let w=new ms(F,{autoTranspose:!0}),y=w.leftSingularVectors,N=w.rightSingularVectors,A=w.diagonal;for(let W=0;W<A.length;W++)Math.abs(A[W])>S?A[W]=1/A[W]:A[W]=0;return N.mmul(Z.diag(A).mmul(y.transpose()))}function rs(F,S=F,w={}){F=new Z(F);let y=!1;if(typeof S=="object"&&!Z.isMatrix(S)&&!t.isAnyArray(S)?(w=S,S=F,y=!0):S=new Z(S),F.rows!==S.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:N=!0}=w;N&&(F=F.center("column"),y||(S=S.center("column")));const A=F.transpose().mmul(S);for(let W=0;W<A.rows;W++)for(let X=0;X<A.columns;X++)A.set(W,X,A.get(W,X)*(1/(F.rows-1)));return A}function Sr(F,S=F,w={}){F=new Z(F);let y=!1;if(typeof S=="object"&&!Z.isMatrix(S)&&!t.isAnyArray(S)?(w=S,S=F,y=!0):S=new Z(S),F.rows!==S.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:N=!0,scale:A=!0}=w;N&&(F.center("column"),y||S.center("column")),A&&(F.scale("column"),y||S.scale("column"));const W=F.standardDeviation("column",{unbiased:!0}),X=y?W:S.standardDeviation("column",{unbiased:!0}),J=F.transpose().mmul(S);for(let te=0;te<J.rows;te++)for(let Re=0;Re<J.columns;Re++)J.set(te,Re,J.get(te,Re)*(1/(W[te]*X[Re]))*(1/(F.rows-1)));return J}class Er{constructor(S,w={}){const{assumeSymmetric:y=!1}=w;if(S=Ot.checkMatrix(S),!S.isSquare())throw new Error("Matrix is not a square matrix");if(S.isEmpty())throw new Error("Matrix must be non-empty");let N=S.columns,A=new Z(N,N),W=new Float64Array(N),X=new Float64Array(N),J=S,te,Re,ie=!1;if(y?ie=!0:ie=S.isSymmetric(),ie){for(te=0;te<N;te++)for(Re=0;Re<N;Re++)A.set(te,Re,J.get(te,Re));Mr(N,X,W,A),Qn(N,X,W,A)}else{let ze=new Z(N,N),Je=new Float64Array(N);for(Re=0;Re<N;Re++)for(te=0;te<N;te++)ze.set(te,Re,J.get(te,Re));$(N,ze,Je,A),Ee(N,X,W,A,ze)}this.n=N,this.e=X,this.d=W,this.V=A}get realEigenvalues(){return Array.from(this.d)}get imaginaryEigenvalues(){return Array.from(this.e)}get eigenvectorMatrix(){return this.V}get diagonalMatrix(){let S=this.n,w=this.e,y=this.d,N=new Z(S,S),A,W;for(A=0;A<S;A++){for(W=0;W<S;W++)N.set(A,W,0);N.set(A,A,y[A]),w[A]>0?N.set(A,A+1,w[A]):w[A]<0&&N.set(A,A-1,w[A])}return N}}function Mr(F,S,w,y){let N,A,W,X,J,te,Re,ie;for(J=0;J<F;J++)w[J]=y.get(F-1,J);for(X=F-1;X>0;X--){for(ie=0,W=0,te=0;te<X;te++)ie=ie+Math.abs(w[te]);if(ie===0)for(S[X]=w[X-1],J=0;J<X;J++)w[J]=y.get(X-1,J),y.set(X,J,0),y.set(J,X,0);else{for(te=0;te<X;te++)w[te]/=ie,W+=w[te]*w[te];for(N=w[X-1],A=Math.sqrt(W),N>0&&(A=-A),S[X]=ie*A,W=W-N*A,w[X-1]=N-A,J=0;J<X;J++)S[J]=0;for(J=0;J<X;J++){for(N=w[J],y.set(J,X,N),A=S[J]+y.get(J,J)*N,te=J+1;te<=X-1;te++)A+=y.get(te,J)*w[te],S[te]+=y.get(te,J)*N;S[J]=A}for(N=0,J=0;J<X;J++)S[J]/=W,N+=S[J]*w[J];for(Re=N/(W+W),J=0;J<X;J++)S[J]-=Re*w[J];for(J=0;J<X;J++){for(N=w[J],A=S[J],te=J;te<=X-1;te++)y.set(te,J,y.get(te,J)-(N*S[te]+A*w[te]));w[J]=y.get(X-1,J),y.set(X,J,0)}}w[X]=W}for(X=0;X<F-1;X++){if(y.set(F-1,X,y.get(X,X)),y.set(X,X,1),W=w[X+1],W!==0){for(te=0;te<=X;te++)w[te]=y.get(te,X+1)/W;for(J=0;J<=X;J++){for(A=0,te=0;te<=X;te++)A+=y.get(te,X+1)*y.get(te,J);for(te=0;te<=X;te++)y.set(te,J,y.get(te,J)-A*w[te])}}for(te=0;te<=X;te++)y.set(te,X+1,0)}for(J=0;J<F;J++)w[J]=y.get(F-1,J),y.set(F-1,J,0);y.set(F-1,F-1,1),S[0]=0}function Qn(F,S,w,y){let N,A,W,X,J,te,Re,ie,ze,Je,Ve,Ze,ht,ve,st,ft;for(W=1;W<F;W++)S[W-1]=S[W];S[F-1]=0;let jt=0,Ut=0,Fn=Number.EPSILON;for(te=0;te<F;te++){for(Ut=Math.max(Ut,Math.abs(w[te])+Math.abs(S[te])),Re=te;Re<F&&!(Math.abs(S[Re])<=Fn*Ut);)Re++;if(Re>te)do{for(N=w[te],ie=(w[te+1]-N)/(2*S[te]),ze=An(ie,1),ie<0&&(ze=-ze),w[te]=S[te]/(ie+ze),w[te+1]=S[te]*(ie+ze),Je=w[te+1],A=N-w[te],W=te+2;W<F;W++)w[W]-=A;for(jt=jt+A,ie=w[Re],Ve=1,Ze=Ve,ht=Ve,ve=S[te+1],st=0,ft=0,W=Re-1;W>=te;W--)for(ht=Ze,Ze=Ve,ft=st,N=Ve*S[W],A=Ve*ie,ze=An(ie,S[W]),S[W+1]=st*ze,st=S[W]/ze,Ve=ie/ze,ie=Ve*w[W]-st*N,w[W+1]=A+st*(Ve*N+st*w[W]),J=0;J<F;J++)A=y.get(J,W+1),y.set(J,W+1,st*y.get(J,W)+Ve*A),y.set(J,W,Ve*y.get(J,W)-st*A);ie=-st*ft*ht*ve*S[te]/Je,S[te]=st*ie,w[te]=Ve*ie}while(Math.abs(S[te])>Fn*Ut);w[te]=w[te]+jt,S[te]=0}for(W=0;W<F-1;W++){for(J=W,ie=w[W],X=W+1;X<F;X++)w[X]<ie&&(J=X,ie=w[X]);if(J!==W)for(w[J]=w[W],w[W]=ie,X=0;X<F;X++)ie=y.get(X,W),y.set(X,W,y.get(X,J)),y.set(X,J,ie)}}function $(F,S,w,y){let N=0,A=F-1,W,X,J,te,Re,ie,ze;for(ie=N+1;ie<=A-1;ie++){for(ze=0,te=ie;te<=A;te++)ze=ze+Math.abs(S.get(te,ie-1));if(ze!==0){for(J=0,te=A;te>=ie;te--)w[te]=S.get(te,ie-1)/ze,J+=w[te]*w[te];for(X=Math.sqrt(J),w[ie]>0&&(X=-X),J=J-w[ie]*X,w[ie]=w[ie]-X,Re=ie;Re<F;Re++){for(W=0,te=A;te>=ie;te--)W+=w[te]*S.get(te,Re);for(W=W/J,te=ie;te<=A;te++)S.set(te,Re,S.get(te,Re)-W*w[te])}for(te=0;te<=A;te++){for(W=0,Re=A;Re>=ie;Re--)W+=w[Re]*S.get(te,Re);for(W=W/J,Re=ie;Re<=A;Re++)S.set(te,Re,S.get(te,Re)-W*w[Re])}w[ie]=ze*w[ie],S.set(ie,ie-1,ze*X)}}for(te=0;te<F;te++)for(Re=0;Re<F;Re++)y.set(te,Re,te===Re?1:0);for(ie=A-1;ie>=N+1;ie--)if(S.get(ie,ie-1)!==0){for(te=ie+1;te<=A;te++)w[te]=S.get(te,ie-1);for(Re=ie;Re<=A;Re++){for(X=0,te=ie;te<=A;te++)X+=w[te]*y.get(te,Re);for(X=X/w[ie]/S.get(ie,ie-1),te=ie;te<=A;te++)y.set(te,Re,y.get(te,Re)+X*w[te])}}}function Ee(F,S,w,y,N){let A=F-1,W=0,X=F-1,J=Number.EPSILON,te=0,Re=0,ie=0,ze=0,Je=0,Ve=0,Ze=0,ht=0,ve,st,ft,jt,Ut,Fn,Tt,Ct,Cn,Se,Qe,mt,et,Bn,_n;for(ve=0;ve<F;ve++)for((ve<W||ve>X)&&(w[ve]=N.get(ve,ve),S[ve]=0),st=Math.max(ve-1,0);st<F;st++)Re=Re+Math.abs(N.get(ve,st));for(;A>=W;){for(jt=A;jt>W&&(Ve=Math.abs(N.get(jt-1,jt-1))+Math.abs(N.get(jt,jt)),Ve===0&&(Ve=Re),!(Math.abs(N.get(jt,jt-1))<J*Ve));)jt--;if(jt===A)N.set(A,A,N.get(A,A)+te),w[A]=N.get(A,A),S[A]=0,A--,ht=0;else if(jt===A-1){if(Tt=N.get(A,A-1)*N.get(A-1,A),ie=(N.get(A-1,A-1)-N.get(A,A))/2,ze=ie*ie+Tt,Ze=Math.sqrt(Math.abs(ze)),N.set(A,A,N.get(A,A)+te),N.set(A-1,A-1,N.get(A-1,A-1)+te),Ct=N.get(A,A),ze>=0){for(Ze=ie>=0?ie+Ze:ie-Ze,w[A-1]=Ct+Ze,w[A]=w[A-1],Ze!==0&&(w[A]=Ct-Tt/Ze),S[A-1]=0,S[A]=0,Ct=N.get(A,A-1),Ve=Math.abs(Ct)+Math.abs(Ze),ie=Ct/Ve,ze=Ze/Ve,Je=Math.sqrt(ie*ie+ze*ze),ie=ie/Je,ze=ze/Je,st=A-1;st<F;st++)Ze=N.get(A-1,st),N.set(A-1,st,ze*Ze+ie*N.get(A,st)),N.set(A,st,ze*N.get(A,st)-ie*Ze);for(ve=0;ve<=A;ve++)Ze=N.get(ve,A-1),N.set(ve,A-1,ze*Ze+ie*N.get(ve,A)),N.set(ve,A,ze*N.get(ve,A)-ie*Ze);for(ve=W;ve<=X;ve++)Ze=y.get(ve,A-1),y.set(ve,A-1,ze*Ze+ie*y.get(ve,A)),y.set(ve,A,ze*y.get(ve,A)-ie*Ze)}else w[A-1]=Ct+ie,w[A]=Ct+ie,S[A-1]=Ze,S[A]=-Ze;A=A-2,ht=0}else{if(Ct=N.get(A,A),Cn=0,Tt=0,jt<A&&(Cn=N.get(A-1,A-1),Tt=N.get(A,A-1)*N.get(A-1,A)),ht===10){for(te+=Ct,ve=W;ve<=A;ve++)N.set(ve,ve,N.get(ve,ve)-Ct);Ve=Math.abs(N.get(A,A-1))+Math.abs(N.get(A-1,A-2)),Ct=Cn=.75*Ve,Tt=-.4375*Ve*Ve}if(ht===30&&(Ve=(Cn-Ct)/2,Ve=Ve*Ve+Tt,Ve>0)){for(Ve=Math.sqrt(Ve),Cn<Ct&&(Ve=-Ve),Ve=Ct-Tt/((Cn-Ct)/2+Ve),ve=W;ve<=A;ve++)N.set(ve,ve,N.get(ve,ve)-Ve);te+=Ve,Ct=Cn=Tt=.964}for(ht=ht+1,Ut=A-2;Ut>=jt&&(Ze=N.get(Ut,Ut),Je=Ct-Ze,Ve=Cn-Ze,ie=(Je*Ve-Tt)/N.get(Ut+1,Ut)+N.get(Ut,Ut+1),ze=N.get(Ut+1,Ut+1)-Ze-Je-Ve,Je=N.get(Ut+2,Ut+1),Ve=Math.abs(ie)+Math.abs(ze)+Math.abs(Je),ie=ie/Ve,ze=ze/Ve,Je=Je/Ve,!(Ut===jt||Math.abs(N.get(Ut,Ut-1))*(Math.abs(ze)+Math.abs(Je))<J*(Math.abs(ie)*(Math.abs(N.get(Ut-1,Ut-1))+Math.abs(Ze)+Math.abs(N.get(Ut+1,Ut+1))))));)Ut--;for(ve=Ut+2;ve<=A;ve++)N.set(ve,ve-2,0),ve>Ut+2&&N.set(ve,ve-3,0);for(ft=Ut;ft<=A-1&&(Bn=ft!==A-1,ft!==Ut&&(ie=N.get(ft,ft-1),ze=N.get(ft+1,ft-1),Je=Bn?N.get(ft+2,ft-1):0,Ct=Math.abs(ie)+Math.abs(ze)+Math.abs(Je),Ct!==0&&(ie=ie/Ct,ze=ze/Ct,Je=Je/Ct)),Ct!==0);ft++)if(Ve=Math.sqrt(ie*ie+ze*ze+Je*Je),ie<0&&(Ve=-Ve),Ve!==0){for(ft!==Ut?N.set(ft,ft-1,-Ve*Ct):jt!==Ut&&N.set(ft,ft-1,-N.get(ft,ft-1)),ie=ie+Ve,Ct=ie/Ve,Cn=ze/Ve,Ze=Je/Ve,ze=ze/ie,Je=Je/ie,st=ft;st<F;st++)ie=N.get(ft,st)+ze*N.get(ft+1,st),Bn&&(ie=ie+Je*N.get(ft+2,st),N.set(ft+2,st,N.get(ft+2,st)-ie*Ze)),N.set(ft,st,N.get(ft,st)-ie*Ct),N.set(ft+1,st,N.get(ft+1,st)-ie*Cn);for(ve=0;ve<=Math.min(A,ft+3);ve++)ie=Ct*N.get(ve,ft)+Cn*N.get(ve,ft+1),Bn&&(ie=ie+Ze*N.get(ve,ft+2),N.set(ve,ft+2,N.get(ve,ft+2)-ie*Je)),N.set(ve,ft,N.get(ve,ft)-ie),N.set(ve,ft+1,N.get(ve,ft+1)-ie*ze);for(ve=W;ve<=X;ve++)ie=Ct*y.get(ve,ft)+Cn*y.get(ve,ft+1),Bn&&(ie=ie+Ze*y.get(ve,ft+2),y.set(ve,ft+2,y.get(ve,ft+2)-ie*Je)),y.set(ve,ft,y.get(ve,ft)-ie),y.set(ve,ft+1,y.get(ve,ft+1)-ie*ze)}}}if(Re!==0){for(A=F-1;A>=0;A--)if(ie=w[A],ze=S[A],ze===0)for(jt=A,N.set(A,A,1),ve=A-1;ve>=0;ve--){for(Tt=N.get(ve,ve)-ie,Je=0,st=jt;st<=A;st++)Je=Je+N.get(ve,st)*N.get(st,A);if(S[ve]<0)Ze=Tt,Ve=Je;else if(jt=ve,S[ve]===0?N.set(ve,A,Tt!==0?-Je/Tt:-Je/(J*Re)):(Ct=N.get(ve,ve+1),Cn=N.get(ve+1,ve),ze=(w[ve]-ie)*(w[ve]-ie)+S[ve]*S[ve],Fn=(Ct*Ve-Ze*Je)/ze,N.set(ve,A,Fn),N.set(ve+1,A,Math.abs(Ct)>Math.abs(Ze)?(-Je-Tt*Fn)/Ct:(-Ve-Cn*Fn)/Ze)),Fn=Math.abs(N.get(ve,A)),J*Fn*Fn>1)for(st=ve;st<=A;st++)N.set(st,A,N.get(st,A)/Fn)}else if(ze<0)for(jt=A-1,Math.abs(N.get(A,A-1))>Math.abs(N.get(A-1,A))?(N.set(A-1,A-1,ze/N.get(A,A-1)),N.set(A-1,A,-(N.get(A,A)-ie)/N.get(A,A-1))):(_n=rt(0,-N.get(A-1,A),N.get(A-1,A-1)-ie,ze),N.set(A-1,A-1,_n[0]),N.set(A-1,A,_n[1])),N.set(A,A-1,0),N.set(A,A,1),ve=A-2;ve>=0;ve--){for(Se=0,Qe=0,st=jt;st<=A;st++)Se=Se+N.get(ve,st)*N.get(st,A-1),Qe=Qe+N.get(ve,st)*N.get(st,A);if(Tt=N.get(ve,ve)-ie,S[ve]<0)Ze=Tt,Je=Se,Ve=Qe;else if(jt=ve,S[ve]===0?(_n=rt(-Se,-Qe,Tt,ze),N.set(ve,A-1,_n[0]),N.set(ve,A,_n[1])):(Ct=N.get(ve,ve+1),Cn=N.get(ve+1,ve),mt=(w[ve]-ie)*(w[ve]-ie)+S[ve]*S[ve]-ze*ze,et=(w[ve]-ie)*2*ze,mt===0&&et===0&&(mt=J*Re*(Math.abs(Tt)+Math.abs(ze)+Math.abs(Ct)+Math.abs(Cn)+Math.abs(Ze))),_n=rt(Ct*Je-Ze*Se+ze*Qe,Ct*Ve-Ze*Qe-ze*Se,mt,et),N.set(ve,A-1,_n[0]),N.set(ve,A,_n[1]),Math.abs(Ct)>Math.abs(Ze)+Math.abs(ze)?(N.set(ve+1,A-1,(-Se-Tt*N.get(ve,A-1)+ze*N.get(ve,A))/Ct),N.set(ve+1,A,(-Qe-Tt*N.get(ve,A)-ze*N.get(ve,A-1))/Ct)):(_n=rt(-Je-Cn*N.get(ve,A-1),-Ve-Cn*N.get(ve,A),Ze,ze),N.set(ve+1,A-1,_n[0]),N.set(ve+1,A,_n[1]))),Fn=Math.max(Math.abs(N.get(ve,A-1)),Math.abs(N.get(ve,A))),J*Fn*Fn>1)for(st=ve;st<=A;st++)N.set(st,A-1,N.get(st,A-1)/Fn),N.set(st,A,N.get(st,A)/Fn)}for(ve=0;ve<F;ve++)if(ve<W||ve>X)for(st=ve;st<F;st++)y.set(ve,st,N.get(ve,st));for(st=F-1;st>=W;st--)for(ve=W;ve<=X;ve++){for(Ze=0,ft=W;ft<=Math.min(st,X);ft++)Ze=Ze+y.get(ve,ft)*N.get(ft,st);y.set(ve,st,Ze)}}}function rt(F,S,w,y){let N,A;return Math.abs(w)>Math.abs(y)?(N=y/w,A=w+N*y,[(F+N*S)/A,(S-N*F)/A]):(N=w/y,A=y+N*w,[(N*F+S)/A,(N*S-F)/A])}class ut{constructor(S){if(S=Ot.checkMatrix(S),!S.isSymmetric())throw new Error("Matrix is not symmetric");let w=S,y=w.rows,N=new Z(y,y),A=!0,W,X,J;for(X=0;X<y;X++){let te=0;for(J=0;J<X;J++){let Re=0;for(W=0;W<J;W++)Re+=N.get(J,W)*N.get(X,W);Re=(w.get(X,J)-Re)/N.get(J,J),N.set(X,J,Re),te=te+Re*Re}for(te=w.get(X,X)-te,A&&(A=te>0),N.set(X,X,Math.sqrt(Math.max(te,0))),J=X+1;J<y;J++)N.set(X,J,0)}this.L=N,this.positiveDefinite=A}isPositiveDefinite(){return this.positiveDefinite}solve(S){S=Ot.checkMatrix(S);let w=this.L,y=w.rows;if(S.rows!==y)throw new Error("Matrix dimensions do not match");if(this.isPositiveDefinite()===!1)throw new Error("Matrix is not positive definite");let N=S.columns,A=S.clone(),W,X,J;for(J=0;J<y;J++)for(X=0;X<N;X++){for(W=0;W<J;W++)A.set(J,X,A.get(J,X)-A.get(W,X)*w.get(J,W));A.set(J,X,A.get(J,X)/w.get(J,J))}for(J=y-1;J>=0;J--)for(X=0;X<N;X++){for(W=J+1;W<y;W++)A.set(J,X,A.get(J,X)-A.get(W,X)*w.get(W,J));A.set(J,X,A.get(J,X)/w.get(J,J))}return A}get lowerTriangularMatrix(){return this.L}}class Nt{constructor(S,w={}){S=Ot.checkMatrix(S);let{Y:y}=w;const{scaleScores:N=!1,maxIterations:A=1e3,terminationCriteria:W=1e-10}=w;let X;if(y){if(t.isAnyArray(y)&&typeof y[0]=="number"?y=Z.columnVector(y):y=Ot.checkMatrix(y),y.rows!==S.rows)throw new Error("Y should have the same number of rows as X");X=y.getColumnVector(0)}else X=S.getColumnVector(0);let J=1,te,Re,ie,ze;for(let Je=0;Je<A&&J>W;Je++)ie=S.transpose().mmul(X).div(X.transpose().mmul(X).get(0,0)),ie=ie.div(ie.norm()),te=S.mmul(ie).div(ie.transpose().mmul(ie).get(0,0)),Je>0&&(J=te.clone().sub(ze).pow(2).sum()),ze=te.clone(),y?(Re=y.transpose().mmul(te).div(te.transpose().mmul(te).get(0,0)),Re=Re.div(Re.norm()),X=y.mmul(Re).div(Re.transpose().mmul(Re).get(0,0))):X=te;if(y){let Je=S.transpose().mmul(te).div(te.transpose().mmul(te).get(0,0));Je=Je.div(Je.norm());let Ve=S.clone().sub(te.clone().mmul(Je.transpose())),Ze=X.transpose().mmul(te).div(te.transpose().mmul(te).get(0,0)),ht=y.clone().sub(te.clone().mulS(Ze.get(0,0)).mmul(Re.transpose()));this.t=te,this.p=Je.transpose(),this.w=ie.transpose(),this.q=Re,this.u=X,this.s=te.transpose().mmul(te),this.xResidual=Ve,this.yResidual=ht,this.betas=Ze}else this.w=ie.transpose(),this.s=te.transpose().mmul(te).sqrt(),N?this.t=te.clone().div(this.s.get(0,0)):this.t=te,this.xResidual=S.sub(te.mmul(ie.transpose()))}}return ln.AbstractMatrix=se,ln.CHO=ut,ln.CholeskyDecomposition=ut,ln.DistanceMatrix=he,ln.EVD=Er,ln.EigenvalueDecomposition=Er,ln.LU=ar,ln.LuDecomposition=ar,ln.Matrix=Z,ln.MatrixColumnSelectionView=qe,ln.MatrixColumnView=Pe,ln.MatrixFlipColumnView=Ye,ln.MatrixFlipRowView=tt,ln.MatrixRowSelectionView=nt,ln.MatrixRowView=Ue,ln.MatrixSelectionView=lt,ln.MatrixSubView=gt,ln.MatrixTransposeView=Lt,ln.NIPALS=Nt,ln.Nipals=Nt,ln.QR=Wr,ln.QrDecomposition=Wr,ln.SVD=ms,ln.SingularValueDecomposition=ms,ln.SymmetricMatrix=xe,ln.WrapperMatrix1D=Yt,ln.WrapperMatrix2D=Ot,ln.correlation=Sr,ln.covariance=rs,ln.default=Z,ln.determinant=$e,ln.inverse=Ho,ln.linearDependencies=un,ln.pseudoInverse=lr,ln.solve=He,ln.wrap=Pt,ln}var ET=jle();const fj=bu(ET),Q1=ET.Matrix;fj.Matrix?fj.Matrix:ET.Matrix;const Mf={ui_component:[59,130,246],page_component:[16,185,129],layout_component:[245,158,11],modal_component:[239,68,68],form_component:[168,85,247],hook:[236,72,153],context:[14,165,233],state_management:[34,197,94],api_integration:[251,146,60],data_model:[139,92,246],utility:[107,114,128],configuration:[75,85,99],styling:[244,63,94],testing:[16,185,129],documentation:[59,130,246],error_handling:[239,68,68],performance:[245,158,11],security:[220,38,127],monitoring:[99,102,241],type_definition:[147,51,234],business_logic:[37,99,235],algorithm:[29,78,216],unknown:[156,163,175]};function Ile(){const[t,e]=k.useState(null),[n,r]=k.useState(!1),[s,o]=k.useState(!1),[l,c]=k.useState([]),[f,h]=k.useState([]),[p,m]=k.useState([]),[b,_]=k.useState(null),[E,T]=k.useState([]),[C,D]=k.useState([]),[M,P]=k.useState("overview"),[U,L]=k.useState(null),[O,Y]=k.useState(null),[ne,G]=k.useState([]),[K,Q]=k.useState([]),de=k.useRef(null),pe=k.useRef(null),le=async(he=!1)=>{var oe,Pe,qe;r(!0);try{const Ye=he?"http://localhost:3333/api/semantic-chunks?refresh=true":"http://localhost:3333/api/semantic-chunks",[tt,Ue]=await Promise.all([fetch("http://localhost:3333/api/vector-db/status"),fetch(Ye)]);if(tt.ok){const nt=await tt.json();e(nt.stats)}if(Ue.ok){const nt=await Ue.json();if(console.log("📊 Received chunks data:",{hasChunks:!!nt.chunks,chunksLength:(oe=nt.chunks)==null?void 0:oe.length,sampleChunk:(Pe=nt.chunks)!=null&&Pe[0]?{name:nt.chunks[0].name,hasEmbedding:!!nt.chunks[0].embedding,hasMetadata:!!nt.chunks[0].metadata,semanticType:nt.chunks[0].semanticType}:null}),nt.chunks&&Array.isArray(nt.chunks)){const lt=nt.chunks.map(gt=>({id:gt.name||gt.id,embedding:gt.embedding,metadata:gt.metadata||{content:gt.code||"",semanticType:gt.semanticType||"unknown",businessDomain:gt.businessDomain||[],technicalPatterns:gt.technicalPatterns||[],purpose:gt.purpose||"",files:gt.files||[gt.filePath].filter(Boolean),size:gt.size||0,complexity:gt.complexity||0}}));console.log("📊 Processed vector chunks:",{count:lt.length,withEmbeddings:lt.filter(gt=>gt.embedding).length,sampleMetadata:(qe=lt[0])==null?void 0:qe.metadata}),h(lt),await ye(lt)}}}catch(Ye){console.error("Error fetching vector stats:",Ye)}finally{r(!1)}},ye=async he=>{if(!he.length){console.log("📊 No chunks to generate cluster data from");return}console.log("📊 Generating cluster data for",he.length,"chunks");const oe=he.filter(Ye=>Ye.embedding&&Ye.embedding.length>0);console.log("📊 Chunks with embeddings:",oe.length);const Pe={business_logic:0,algorithm:0,data_processing:1,database:1,api_integration:2,middleware:2,routing:2,ui_component:3,page_component:3,layout_component:3,hook:3,utility:4,configuration:4,testing:5,documentation:5,monitoring:5,error_handling:6,performance:6,security:6,function:4,async_function:2,api_function:2,react_component:3,react_hook_component:3,react_functional_component:3,class:0,data_class:1,error_class:6,type_definition:4,component_types:4,config_types:4,constant:4,import_export:4,unknown:7};let qe=[];if(oe.length>1)try{const Ye=new Q1(oe.map(Yt=>Yt.embedding));console.log("📊 Embedding matrix shape:",Ye.rows,"x",Ye.columns);const tt=Ye.mean("column"),Ue=Ye.subRowVector(tt),{V:nt}=Ue.svd(),lt=nt.getColumn(0),gt=nt.getColumn(1),Lt=Ue.mmul(Q1.columnVector(lt).augment(Q1.columnVector(gt)));console.log("📊 PCA projection completed"),qe=oe.map((Yt,Ot)=>{const Pt=Pe[Yt.metadata.semanticType]??5,ar=typeof Yt.metadata.complexity=="object"?Yt.metadata.complexity.score:Yt.metadata.complexity||0;return{id:Yt.id,x:Lt.get(Ot,0),y:Lt.get(Ot,1),cluster:Pt,chunk:Yt,semanticType:Yt.metadata.semanticType,complexity:ar}})}catch(Ye){console.warn("📊 PCA failed, falling back to simple projection:",Ye),qe=oe.map(tt=>{const Ue=Pe[tt.metadata.semanticType]??5,nt=typeof tt.metadata.complexity=="object"?tt.metadata.complexity.score:tt.metadata.complexity||0;return{id:tt.id,x:tt.embedding[0]||0,y:tt.embedding[1]||0,cluster:Ue,chunk:tt,semanticType:tt.metadata.semanticType,complexity:nt}})}else qe=he.map(Ye=>{var nt,lt;const tt=Pe[Ye.metadata.semanticType]??5,Ue=typeof Ye.metadata.complexity=="object"?Ye.metadata.complexity.score:Ye.metadata.complexity||0;return{id:Ye.id,x:((nt=Ye.embedding)==null?void 0:nt[0])||Math.random(),y:((lt=Ye.embedding)==null?void 0:lt[1])||Math.random(),cluster:tt,chunk:Ye,semanticType:Ye.metadata.semanticType,complexity:Ue}});if(console.log("📊 Generated cluster points:",qe.length),qe.length>0){const Ye=qe.map(Lt=>Lt.x),tt=qe.map(Lt=>Lt.y),Ue={minX:Math.min(...Ye),maxX:Math.max(...Ye),minY:Math.min(...tt),maxY:Math.max(...tt),rangeX:Math.max(...Ye)-Math.min(...Ye),rangeY:Math.max(...tt)-Math.min(...tt)};console.log("📊 Data bounds:",Ue);const nt=200/Math.max(Ue.rangeX,Ue.rangeY),lt=(Ue.minX+Ue.maxX)/2,gt=(Ue.minY+Ue.maxY)/2;qe=qe.map(Lt=>({...Lt,x:(Lt.x-lt)*nt,y:(Lt.y-gt)*nt})),console.log("📊 Normalized points to [-100, 100] range with scale:",nt)}m(qe),oe.length>0&&ge(he)},ge=async he=>{if(he.length===0)return;console.log("📊 Generating network data for",he.length,"chunks");const oe=he.slice(0,50).map((Ye,tt)=>{const Ue=p.find(nt=>nt.chunk.id===Ye.id);return{id:Ye.id,chunk:Ye,x:(Ue==null?void 0:Ue.x)||(Math.random()-.5)*200,y:(Ue==null?void 0:Ue.y)||(Math.random()-.5)*200,color:Mf[Ye.metadata.semanticType]||Mf.unknown}});console.log("📊 Created",oe.length,"network nodes");const Pe=[],qe=.3;for(let Ye=0;Ye<Math.min(oe.length,20);Ye++)try{const tt=await fetch("http://localhost:3333/api/vector-db/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:oe[Ye].chunk.metadata.content.slice(0,200),limit:10,minSimilarity:qe})});if(tt.ok){const Ue=await tt.json();(Array.isArray(Ue.results)?Ue.results:Array.isArray(Ue)?Ue:[]).forEach(lt=>{const gt=oe.findIndex(Lt=>Lt.id===lt.id);gt!==-1&&lt.id!==oe[Ye].id&&lt.similarity&&lt.similarity>=qe&&Pe.push({source:[oe[Ye].x,oe[Ye].y],target:[oe[gt].x,oe[gt].y],similarity:lt.similarity})})}}catch(tt){console.error("Error generating network data:",tt)}T(oe),D(Pe)},je=async he=>{if(he.metadata.content){_(he);try{const oe=await fetch("http://localhost:3333/api/vector-db/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:he.metadata.content.slice(0,200),limit:20,minSimilarity:.3})});if(oe.ok){const Pe=await oe.json(),qe=Array.isArray(Pe.results)?Pe.results:Array.isArray(Pe)?Pe:[];c(qe.filter(Ye=>Ye.id!==he.id))}}catch(oe){console.error("Error finding similar chunks:",oe)}}},_e=async()=>{o(!0);try{(await fetch("http://localhost:3333/api/vector-db/rebuild",{method:"POST"})).ok&&await le()}catch(he){console.error("Error rebuilding vector DB:",he)}finally{o(!1)}},Ke=()=>[...new Set(p.map(oe=>oe.semanticType))].map(oe=>{var Pe;return{label:oe.replace(/_/g," "),value:oe,color:`rgb(${((Pe=Mf[oe])==null?void 0:Pe.join(","))||"156,163,175"})`}}),V=()=>[...new Set(p.map(oe=>oe.chunk.metadata.purpose).filter(Boolean))].map(oe=>({label:oe,value:oe})),ue=()=>p.filter(he=>{const oe=ne.length===0||ne.includes(he.semanticType),Pe=K.length===0||K.some(qe=>he.chunk.metadata.purpose.toLowerCase().includes(qe.toLowerCase()));return oe&&Pe}),se=()=>{const he=ue();return new xy({id:"cluster-layer",data:he,getPosition:oe=>[oe.x,oe.y,0],getRadius:oe=>Math.max(5,Math.min(25,oe.complexity*1.5+5)),radiusUnits:"pixels",getFillColor:oe=>Mf[oe.semanticType]||Mf.unknown,pickable:!0,onHover:oe=>{oe.object?L({object:oe.object,x:oe.x,y:oe.y}):L(null)},onClick:oe=>{oe.object&&je(oe.object.chunk)}})},B=()=>{console.log("📊 Creating network layers with",E.length,"nodes and",C.length,"edges");const he=new xy({id:"network-nodes",data:E,getPosition:Pe=>[Pe.x,Pe.y,0],getRadius:12,radiusUnits:"pixels",getFillColor:Pe=>Pe.color,pickable:!0,onHover:Pe=>{Pe.object?Y({object:Pe.object,x:Pe.x,y:Pe.y}):Y(null)},onClick:Pe=>{Pe.object&&je(Pe.object.chunk)}});return[new ST({id:"network-edges",data:C,getSourcePosition:Pe=>[...Pe.source,0],getTargetPosition:Pe=>[...Pe.target,0],getWidth:Pe=>Math.max(2,Pe.similarity*8),widthUnits:"pixels",getSourceColor:[120,120,120,180],getTargetColor:[120,120,120,180]}),he]},ce=he=>{if(!de.current)return;const oe=de.current.querySelector("canvas");if(oe){const Pe=document.createElement("a");Pe.download=`semantic-clusters-${Date.now()}.png`,Pe.href=oe.toDataURL(),Pe.click()}};k.useEffect(()=>{le()},[]),k.useEffect(()=>{M!=="overview"&&f.length===0&&le()},[M,f.length]),k.useEffect(()=>{t&&f.length===0&&(console.log("📊 Stats available but no chunks loaded, fetching chunks..."),le())},[t,f.length]);const Z=()=>{var Pe,qe;if(!U)return null;const oe=U.object.chunk;return x.jsxDEV("div",{className:"absolute z-50 bg-background border rounded-lg shadow-lg px-4 py-3 text-sm pointer-events-none",style:{left:U.x+12,top:U.y+12,minWidth:220,maxWidth:400},children:[x.jsxDEV("div",{className:"font-thin",children:oe.id},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:578,columnNumber:9},this),x.jsxDEV("div",{children:["Type: ",oe.metadata.semanticType]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:579,columnNumber:9},this),x.jsxDEV("div",{children:["Purpose: ",oe.metadata.purpose]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:580,columnNumber:9},this),x.jsxDEV("div",{children:["File: ",((qe=(Pe=oe.metadata.files)==null?void 0:Pe[0])==null?void 0:qe.split("/").slice(-2).join("/"))||"Unknown"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:581,columnNumber:9},this),x.jsxDEV("div",{children:["Complexity: ",typeof oe.metadata.complexity=="object"?`${oe.metadata.complexity.score} (${oe.metadata.complexity.level})`:oe.metadata.complexity]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:582,columnNumber:9},this),x.jsxDEV("div",{className:"mt-2 text-xs text-muted-foreground",children:[oe.metadata.content.slice(0,100),"..."]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:589,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:569,columnNumber:7},this)},xe=()=>{var Pe,qe;if(!O)return null;const oe=O.object.chunk;return x.jsxDEV("div",{className:"absolute z-50 bg-background border rounded-lg shadow-lg px-4 py-3 text-sm pointer-events-none",style:{left:O.x+12,top:O.y+12,minWidth:220,maxWidth:400},children:[x.jsxDEV("div",{className:"font-thin",children:oe.id},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:612,columnNumber:9},this),x.jsxDEV("div",{children:["Type: ",oe.metadata.semanticType]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:613,columnNumber:9},this),x.jsxDEV("div",{children:["Purpose: ",oe.metadata.purpose]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:614,columnNumber:9},this),x.jsxDEV("div",{children:["File: ",((qe=(Pe=oe.metadata.files)==null?void 0:Pe[0])==null?void 0:qe.split("/").slice(-2).join("/"))||"Unknown"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:615,columnNumber:9},this),x.jsxDEV("div",{children:["Complexity: ",typeof oe.metadata.complexity=="object"?`${oe.metadata.complexity.score} (${oe.metadata.complexity.level})`:oe.metadata.complexity]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:616,columnNumber:9},this),x.jsxDEV("div",{className:"mt-2 text-xs text-muted-foreground",children:[oe.metadata.content.slice(0,100),"..."]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:623,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:603,columnNumber:7},this)};return x.jsxDEV("div",{className:"w-full",children:[x.jsxDEV(vn,{className:"mb-6",children:x.jsxDEV(gr,{children:[x.jsxDEV(Nr,{className:"flex items-center gap-2",children:[x.jsxDEV(hD,{className:"w-5 h-5"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:635,columnNumber:13},this),"Vector Database Explorer"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:634,columnNumber:11},this),x.jsxDEV(Ob,{children:"Explore your codebase through semantic similarity and visual analysis"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:638,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:633,columnNumber:9},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:632,columnNumber:7},this),x.jsxDEV(Hl,{value:M,onValueChange:P,className:"w-full",children:[x.jsxDEV(Wl,{className:"grid w-full grid-cols-3",children:[x.jsxDEV(ir,{value:"overview",className:"flex items-center gap-2",children:[x.jsxDEV(xE,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:647,columnNumber:13},this),"Overview"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:646,columnNumber:11},this),x.jsxDEV(ir,{value:"clusters",className:"flex items-center gap-2",children:[x.jsxDEV(Dp,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:651,columnNumber:13},this),"Clusters"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:650,columnNumber:11},this),x.jsxDEV(ir,{value:"network",className:"flex items-center gap-2",children:[x.jsxDEV($w,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:655,columnNumber:13},this),"Network"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:654,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:645,columnNumber:9},this),x.jsxDEV(or,{value:"overview",className:"space-y-4",children:x.jsxDEV(vn,{children:[x.jsxDEV(gr,{children:[x.jsxDEV(Nr,{children:"Database Status"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:663,columnNumber:15},this),x.jsxDEV(Ob,{children:"Vector database status and management"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:664,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:662,columnNumber:13},this),x.jsxDEV(Pn,{children:[x.jsxDEV("div",{className:"flex gap-4 mb-4",children:[x.jsxDEV(Dt,{onClick:()=>le(!0),disabled:n,variant:"outline",size:"sm",children:[x.jsxDEV(Hs,{className:`w-4 h-4 mr-2 ${n?"animate-spin":""}`},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:676,columnNumber:19},this),"Refresh"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:670,columnNumber:17},this),x.jsxDEV(Dt,{onClick:_e,disabled:s,variant:"outline",size:"sm",children:[x.jsxDEV(FN,{className:`w-4 h-4 mr-2 ${s?"animate-spin":""}`},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:685,columnNumber:19},this),"Rebuild Vector DB"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:679,columnNumber:17},this),t&&x.jsxDEV(yn,{variant:"secondary",children:[t.totalChunks," chunks indexed"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:689,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:669,columnNumber:15},this),!t&&!n&&x.jsxDEV("div",{className:"text-center py-8 text-muted-foreground",children:[x.jsxDEV(hD,{className:"w-12 h-12 mx-auto mb-4 opacity-50"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:697,columnNumber:19},this),x.jsxDEV("p",{children:"No vector DB data available"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:698,columnNumber:19},this),x.jsxDEV("p",{className:"text-sm",children:"Run a rebuild to see stats"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:699,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:696,columnNumber:17},this),n&&x.jsxDEV("div",{className:"text-center py-8",children:[x.jsxDEV(Hs,{className:"w-8 h-8 mx-auto animate-spin mb-2"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:705,columnNumber:19},this),x.jsxDEV("p",{children:"Loading vector DB status..."},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:706,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:704,columnNumber:17},this),t&&x.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4",children:[x.jsxDEV("div",{className:"p-4 border rounded-lg",children:[x.jsxDEV("div",{className:"text-2xl font-thin",children:t.totalChunks},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:713,columnNumber:21},this),x.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Total Chunks"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:714,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:712,columnNumber:19},this),x.jsxDEV("div",{className:"p-4 border rounded-lg",children:[x.jsxDEV("div",{className:"text-2xl font-thin",children:t.collectionName},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:717,columnNumber:21},this),x.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Collection"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:718,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:716,columnNumber:19},this),x.jsxDEV("div",{className:"p-4 border rounded-lg",children:[x.jsxDEV("div",{className:"text-2xl font-thin",children:t.modelName},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:721,columnNumber:21},this),x.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Model"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:722,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:720,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:711,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:668,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:661,columnNumber:11},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:660,columnNumber:9},this),x.jsxDEV(or,{value:"clusters",className:"space-y-4",children:x.jsxDEV(vn,{children:[x.jsxDEV(gr,{children:[x.jsxDEV(Nr,{className:"flex items-center gap-2",children:[x.jsxDEV(Dp,{className:"w-5 h-5"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:735,columnNumber:17},this),"Semantic Code Clusters"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:734,columnNumber:15},this),x.jsxDEV(Ob,{children:"2D projection of code chunks by semantic similarity. Click points to explore."},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:738,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:733,columnNumber:13},this),x.jsxDEV(Pn,{children:p.length>0?x.jsxDEV(x.Fragment,{children:[x.jsxDEV("div",{className:"space-y-4",children:x.jsxDEV("div",{className:"p-3 bg-muted/30 rounded-lg border space-y-3",children:[x.jsxDEV("div",{className:"flex items-center justify-between",children:[x.jsxDEV("div",{className:"flex items-center gap-2",children:x.jsxDEV(Dt,{variant:"outline",size:"sm",onClick:()=>le(!0),disabled:n,children:[x.jsxDEV(Hs,{className:`w-4 h-4 mr-1 ${n?"animate-spin":""}`},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:755,columnNumber:29},this),"Refresh Data"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:749,columnNumber:27},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:748,columnNumber:25},this),x.jsxDEV("div",{className:"flex items-center gap-2",children:[x.jsxDEV(Dt,{variant:"outline",size:"sm",onClick:()=>ce(),children:[x.jsxDEV(kx,{className:"w-4 h-4 mr-1"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:765,columnNumber:29},this),"Export PNG"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:760,columnNumber:27},this),x.jsxDEV(Dt,{variant:"outline",size:"sm",onClick:_e,disabled:s,children:[x.jsxDEV(FN,{className:`w-4 h-4 mr-1 ${s?"animate-spin":""}`},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:774,columnNumber:29},this),"Rebuild"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:768,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:759,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:747,columnNumber:23},this),x.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-end",children:[x.jsxDEV("div",{className:"space-y-2",children:[x.jsxDEV("label",{className:"text-xs font-thin",children:"Semantic Types"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:782,columnNumber:27},this),x.jsxDEV(l2,{options:Ke(),selected:ne,onSelectedChange:G,placeholder:"All types",className:"w-full"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:783,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:781,columnNumber:25},this),x.jsxDEV("div",{className:"space-y-2",children:[x.jsxDEV("label",{className:"text-sm font-thin",children:"Purposes"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:793,columnNumber:27},this),x.jsxDEV(l2,{options:V(),selected:K,onSelectedChange:Q,placeholder:"All purposes",className:"w-full"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:794,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:792,columnNumber:25},this),x.jsxDEV("div",{className:"text-xs text-muted-foreground",children:["Showing ",ue().length," of ",p.length," points"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:803,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:780,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:746,columnNumber:21},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:745,columnNumber:19},this),x.jsxDEV("div",{ref:de,className:"relative w-full h-[600px] border rounded-lg",children:[x.jsxDEV(oj,{initialViewState:{longitude:0,latitude:0,zoom:4},controller:!0,layers:[se()],width:"100%",height:"100%"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:811,columnNumber:21},this),Z()]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:810,columnNumber:19},this),x.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6",children:[x.jsxDEV("div",{className:"space-y-4",children:x.jsxDEV("div",{className:"p-4 bg-muted/30 rounded-lg border",children:[x.jsxDEV("div",{className:"text-sm font-thin mb-3 flex items-center gap-2",children:[x.jsxDEV("div",{className:"w-2 h-2 bg-primary rounded-full"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:829,columnNumber:27},this),"Visualization Features"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:828,columnNumber:25},this),x.jsxDEV("div",{className:"text-xs text-muted-foreground space-y-2",children:[x.jsxDEV("div",{className:"flex items-start gap-2",children:[x.jsxDEV("div",{className:"w-1 h-1 bg-muted-foreground rounded-full mt-1.5 flex-shrink-0"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:834,columnNumber:29},this),x.jsxDEV("span",{children:[x.jsxDEV("strong",{children:"PCA Dimensionality Reduction:"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:835,columnNumber:35},this)," Mathematical projection from high-dimensional embeddings"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:835,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:833,columnNumber:27},this),x.jsxDEV("div",{className:"flex items-start gap-2",children:[x.jsxDEV("div",{className:"w-1 h-1 bg-muted-foreground rounded-full mt-1.5 flex-shrink-0"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:838,columnNumber:29},this),x.jsxDEV("span",{children:[x.jsxDEV("strong",{children:"Interactive Controls:"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:839,columnNumber:35},this)," Mouse wheel zoom, drag to pan"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:839,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:837,columnNumber:27},this),x.jsxDEV("div",{className:"flex items-start gap-2",children:[x.jsxDEV("div",{className:"w-1 h-1 bg-muted-foreground rounded-full mt-1.5 flex-shrink-0"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:842,columnNumber:29},this),x.jsxDEV("span",{children:[x.jsxDEV("strong",{children:"Click to Explore:"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:843,columnNumber:35},this)," Click points to find similar chunks"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:843,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:841,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:832,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:827,columnNumber:23},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:826,columnNumber:21},this),x.jsxDEV("div",{className:"space-y-4",children:x.jsxDEV("div",{className:"p-4 bg-muted/30 rounded-lg border",children:[x.jsxDEV("div",{className:"text-sm font-thin mb-3 flex items-center gap-2",children:[x.jsxDEV("div",{className:"w-2 h-2 bg-chart-1 rounded-full"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:851,columnNumber:27},this),"Color Legend"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:850,columnNumber:25},this),x.jsxDEV("div",{className:"grid grid-cols-2 gap-3 text-xs",children:(()=>{const he=[...new Set(p.map(oe=>oe.semanticType))];return he.length===0?x.jsxDEV("div",{children:"No types found"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:858,columnNumber:38},this):he.map(oe=>{var Pe;return x.jsxDEV("div",{className:"flex items-center gap-2",children:[x.jsxDEV("div",{className:"w-3 h-3 rounded-full border border-border/50",style:{backgroundColor:`rgb(${((Pe=Mf[oe])==null?void 0:Pe.join(","))||"156,163,175"})`}},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:862,columnNumber:33},this),x.jsxDEV("span",{className:"text-muted-foreground",children:oe.replace(/_/g," ")},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:868,columnNumber:33},this)]},oe,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:861,columnNumber:31},this)})})()},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:854,columnNumber:25},this),x.jsxDEV("div",{className:"mt-3 pt-3 border-t border-border/50",children:x.jsxDEV("div",{className:"text-xs text-muted-foreground",children:[x.jsxDEV("strong",{children:"Point Size:"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:875,columnNumber:29},this)," Represents code complexity"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:874,columnNumber:27},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:873,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:849,columnNumber:23},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:848,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:825,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:744,columnNumber:17},this):x.jsxDEV("div",{className:"text-center text-muted-foreground py-8",children:[x.jsxDEV(Dp,{className:"w-12 h-12 mx-auto mb-4 opacity-50"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:884,columnNumber:19},this),x.jsxDEV("p",{children:"No clustering data available"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:885,columnNumber:19},this),x.jsxDEV("p",{className:"text-sm",children:"Go to Overview tab and refresh to load chunk embeddings"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:886,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:883,columnNumber:17},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:742,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:732,columnNumber:11},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:731,columnNumber:9},this),x.jsxDEV(or,{value:"network",className:"space-y-4",children:x.jsxDEV(vn,{children:[x.jsxDEV(gr,{children:[x.jsxDEV(Nr,{className:"flex items-center gap-2",children:[x.jsxDEV($w,{className:"w-5 h-5"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:897,columnNumber:17},this),"Semantic Network Graph"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:896,columnNumber:15},this),x.jsxDEV(Ob,{children:"Network graph showing connections between similar code chunks. Click nodes to explore."},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:900,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:895,columnNumber:13},this),x.jsxDEV(Pn,{children:E.length>0?x.jsxDEV("div",{ref:pe,className:"relative w-full h-[600px] border rounded-lg",children:[x.jsxDEV(oj,{initialViewState:{longitude:0,latitude:0,zoom:4},controller:!0,layers:B(),width:"100%",height:"100%"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:907,columnNumber:19},this),xe(),x.jsxDEV("div",{className:"absolute bottom-4 left-4 text-sm text-muted-foreground bg-background/90 p-2 rounded",children:[x.jsxDEV("p",{children:["• ",x.jsxDEV("strong",{children:"Click"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:920,columnNumber:26},this)," nodes to find similar chunks"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:920,columnNumber:21},this),x.jsxDEV("p",{children:["• ",x.jsxDEV("strong",{children:"Line thickness"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:921,columnNumber:26},this)," shows similarity strength"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:921,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:919,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:906,columnNumber:17},this):x.jsxDEV("div",{className:"text-center text-muted-foreground py-8",children:[x.jsxDEV($w,{className:"w-12 h-12 mx-auto mb-4 opacity-50"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:926,columnNumber:19},this),x.jsxDEV("p",{children:"Building network graph..."},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:927,columnNumber:19},this),x.jsxDEV("p",{className:"text-sm",children:"This may take a moment as we calculate similarities"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:928,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:925,columnNumber:17},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:904,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:894,columnNumber:11},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:893,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:644,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:631,columnNumber:5},this)}var TT="Progress",AT=100,[Ole,Qme]=Ra(TT),[Ule,Vle]=Ole(TT),k6=k.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:o=Fle,...l}=t;(s||s===0)&&!dj(s)&&console.error(Ble(`${s}`,"Progress"));const c=dj(s)?s:AT;r!==null&&!hj(r,c)&&console.error(Lle(`${r}`,"Progress"));const f=hj(r,c)?r:null,h=yy(f)?o(f,c):void 0;return Me.jsx(Ule,{scope:n,value:f,max:c,children:Me.jsx(Mt.div,{"aria-valuemax":c,"aria-valuemin":0,"aria-valuenow":yy(f)?f:void 0,"aria-valuetext":h,role:"progressbar","data-state":M6(f,c),"data-value":f??void 0,"data-max":c,...l,ref:e})})});k6.displayName=TT;var P6="ProgressIndicator",D6=k.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,s=Vle(P6,n);return Me.jsx(Mt.div,{"data-state":M6(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});D6.displayName=P6;function Fle(t,e){return`${Math.round(t/e*100)}%`}function M6(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function yy(t){return typeof t=="number"}function dj(t){return yy(t)&&!isNaN(t)&&t>0}function hj(t,e){return yy(t)&&!isNaN(t)&&t<=e&&t>=0}function Ble(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${AT}\`.`}function Lle(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${AT} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var j6=k6,zle=D6;const KS=k.forwardRef(({className:t,value:e,...n},r)=>x.jsxDEV(j6,{ref:r,className:Wt("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:x.jsxDEV(zle,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/progress.tsx",lineNumber:18,columnNumber:5},void 0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/progress.tsx",lineNumber:10,columnNumber:3},void 0));KS.displayName=j6.displayName;class $le extends Error{constructor(n,r,s,o,l){super(n);H(this,"name","Assertion");H(this,"code","ERR_ASSERTION");Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.actual=r,this.expected=s,this.generated=l,this.operator=o}}function we(t,e){I6(!!t,!1,!0,"ok","Expected value to be truthy",e)}function ZS(t){I6(!1,!1,!0,"ok","Unreachable",t)}function I6(t,e,n,r,s,o){if(!t)throw o instanceof Error?o:new $le(o||s,e,n,r,!o)}function Hle(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Wle=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,qle=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Xle={};function pj(t,e){return(Xle.jsx?qle:Wle).test(t)}const Yle=/[ \t\n\f\r]/g;function Kle(t){return typeof t=="object"?t.type==="text"?mj(t.value):!1:mj(t)}function mj(t){return t.replace(Yle,"")===""}class km{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}km.prototype.normal={};km.prototype.property={};km.prototype.space=void 0;function O6(t,e){const n={},r={};for(const s of t)Object.assign(n,s.property),Object.assign(r,s.normal);return new km(n,r,e)}function GS(t){return t.toLowerCase()}class Ws{constructor(e,n){this.attribute=n,this.property=e}}Ws.prototype.attribute="";Ws.prototype.booleanish=!1;Ws.prototype.boolean=!1;Ws.prototype.commaOrSpaceSeparated=!1;Ws.prototype.commaSeparated=!1;Ws.prototype.defined=!1;Ws.prototype.mustUseProperty=!1;Ws.prototype.number=!1;Ws.prototype.overloadedBoolean=!1;Ws.prototype.property="";Ws.prototype.spaceSeparated=!1;Ws.prototype.space=void 0;let Zle=0;const nn=_u(),kr=_u(),QS=_u(),at=_u(),Yn=_u(),ed=_u(),ri=_u();function _u(){return 2**++Zle}const JS=Object.freeze(Object.defineProperty({__proto__:null,boolean:nn,booleanish:kr,commaOrSpaceSeparated:ri,commaSeparated:ed,number:at,overloadedBoolean:QS,spaceSeparated:Yn},Symbol.toStringTag,{value:"Module"})),J1=Object.keys(JS);class CT extends Ws{constructor(e,n,r,s){let o=-1;if(super(e,n),gj(this,"space",s),typeof r=="number")for(;++o<J1.length;){const l=J1[o];gj(this,J1[o],(r&JS[l])===JS[l])}}}CT.prototype.defined=!0;function gj(t,e,n){n&&(t[e]=n)}function Ud(t){const e={},n={};for(const[r,s]of Object.entries(t.properties)){const o=new CT(r,t.transform(t.attributes||{},r),s,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),e[r]=o,n[GS(r)]=r,n[GS(o.attribute)]=r}return new km(e,n,t.space)}const U6=Ud({properties:{ariaActiveDescendant:null,ariaAtomic:kr,ariaAutoComplete:null,ariaBusy:kr,ariaChecked:kr,ariaColCount:at,ariaColIndex:at,ariaColSpan:at,ariaControls:Yn,ariaCurrent:null,ariaDescribedBy:Yn,ariaDetails:null,ariaDisabled:kr,ariaDropEffect:Yn,ariaErrorMessage:null,ariaExpanded:kr,ariaFlowTo:Yn,ariaGrabbed:kr,ariaHasPopup:null,ariaHidden:kr,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Yn,ariaLevel:at,ariaLive:null,ariaModal:kr,ariaMultiLine:kr,ariaMultiSelectable:kr,ariaOrientation:null,ariaOwns:Yn,ariaPlaceholder:null,ariaPosInSet:at,ariaPressed:kr,ariaReadOnly:kr,ariaRelevant:null,ariaRequired:kr,ariaRoleDescription:Yn,ariaRowCount:at,ariaRowIndex:at,ariaRowSpan:at,ariaSelected:kr,ariaSetSize:at,ariaSort:null,ariaValueMax:at,ariaValueMin:at,ariaValueNow:at,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function V6(t,e){return e in t?t[e]:e}function F6(t,e){return V6(t,e.toLowerCase())}const Gle=Ud({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:ed,acceptCharset:Yn,accessKey:Yn,action:null,allow:null,allowFullScreen:nn,allowPaymentRequest:nn,allowUserMedia:nn,alt:null,as:null,async:nn,autoCapitalize:null,autoComplete:Yn,autoFocus:nn,autoPlay:nn,blocking:Yn,capture:null,charSet:null,checked:nn,cite:null,className:Yn,cols:at,colSpan:null,content:null,contentEditable:kr,controls:nn,controlsList:Yn,coords:at|ed,crossOrigin:null,data:null,dateTime:null,decoding:null,default:nn,defer:nn,dir:null,dirName:null,disabled:nn,download:QS,draggable:kr,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:nn,formTarget:null,headers:Yn,height:at,hidden:QS,high:at,href:null,hrefLang:null,htmlFor:Yn,httpEquiv:Yn,id:null,imageSizes:null,imageSrcSet:null,inert:nn,inputMode:null,integrity:null,is:null,isMap:nn,itemId:null,itemProp:Yn,itemRef:Yn,itemScope:nn,itemType:Yn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:nn,low:at,manifest:null,max:null,maxLength:at,media:null,method:null,min:null,minLength:at,multiple:nn,muted:nn,name:null,nonce:null,noModule:nn,noValidate:nn,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:nn,optimum:at,pattern:null,ping:Yn,placeholder:null,playsInline:nn,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:nn,referrerPolicy:null,rel:Yn,required:nn,reversed:nn,rows:at,rowSpan:at,sandbox:Yn,scope:null,scoped:nn,seamless:nn,selected:nn,shadowRootClonable:nn,shadowRootDelegatesFocus:nn,shadowRootMode:null,shape:null,size:at,sizes:null,slot:null,span:at,spellCheck:kr,src:null,srcDoc:null,srcLang:null,srcSet:null,start:at,step:null,style:null,tabIndex:at,target:null,title:null,translate:null,type:null,typeMustMatch:nn,useMap:null,value:kr,width:at,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Yn,axis:null,background:null,bgColor:null,border:at,borderColor:null,bottomMargin:at,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:nn,declare:nn,event:null,face:null,frame:null,frameBorder:null,hSpace:at,leftMargin:at,link:null,longDesc:null,lowSrc:null,marginHeight:at,marginWidth:at,noResize:nn,noHref:nn,noShade:nn,noWrap:nn,object:null,profile:null,prompt:null,rev:null,rightMargin:at,rules:null,scheme:null,scrolling:kr,standby:null,summary:null,text:null,topMargin:at,valueType:null,version:null,vAlign:null,vLink:null,vSpace:at,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:nn,disableRemotePlayback:nn,prefix:null,property:null,results:at,security:null,unselectable:null},space:"html",transform:F6}),Qle=Ud({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:ri,accentHeight:at,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:at,amplitude:at,arabicForm:null,ascent:at,attributeName:null,attributeType:null,azimuth:at,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:at,by:null,calcMode:null,capHeight:at,className:Yn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:at,diffuseConstant:at,direction:null,display:null,dur:null,divisor:at,dominantBaseline:null,download:nn,dx:null,dy:null,edgeMode:null,editable:null,elevation:at,enableBackground:null,end:null,event:null,exponent:at,externalResourcesRequired:null,fill:null,fillOpacity:at,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:ed,g2:ed,glyphName:ed,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:at,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:at,horizOriginX:at,horizOriginY:at,id:null,ideographic:at,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:at,k:at,k1:at,k2:at,k3:at,k4:at,kernelMatrix:ri,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:at,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:at,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:at,overlineThickness:at,paintOrder:null,panose1:null,path:null,pathLength:at,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Yn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:at,pointsAtY:at,pointsAtZ:at,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ri,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ri,rev:ri,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ri,requiredFeatures:ri,requiredFonts:ri,requiredFormats:ri,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:at,specularExponent:at,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:at,strikethroughThickness:at,string:null,stroke:null,strokeDashArray:ri,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:at,strokeOpacity:at,strokeWidth:null,style:null,surfaceScale:at,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ri,tabIndex:at,tableValues:null,target:null,targetX:at,targetY:at,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ri,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:at,underlineThickness:at,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:at,values:null,vAlphabetic:at,vMathematical:at,vectorEffect:null,vHanging:at,vIdeographic:at,version:null,vertAdvY:at,vertOriginX:at,vertOriginY:at,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:at,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:V6}),B6=Ud({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),L6=Ud({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:F6}),z6=Ud({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),Jle={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},ece=/[A-Z]/g,bj=/-[a-z]/g,tce=/^data[-\w.:]+$/i;function nce(t,e){const n=GS(e);let r=e,s=Ws;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&tce.test(e)){if(e.charAt(4)==="-"){const o=e.slice(5).replace(bj,sce);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=e.slice(4);if(!bj.test(o)){let l=o.replace(ece,rce);l.charAt(0)!=="-"&&(l="-"+l),e="data"+l}}s=CT}return new s(r,e)}function rce(t){return"-"+t.toLowerCase()}function sce(t){return t.charAt(1).toUpperCase()}const ice=O6([U6,Gle,B6,L6,z6],"html"),RT=O6([U6,Qle,B6,L6,z6],"svg");function oce(t){return t.join(" ").trim()}var jf={},eN,xj;function ace(){if(xj)return eN;xj=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,s=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,l=/^[;\s]*/,c=/^\s+|\s+$/g,f=`
`,h="/",p="*",m="",b="comment",_="declaration";eN=function(T,C){if(typeof T!="string")throw new TypeError("First argument must be a string");if(!T)return[];C=C||{};var D=1,M=1;function P(pe){var le=pe.match(e);le&&(D+=le.length);var ye=pe.lastIndexOf(f);M=~ye?pe.length-ye:M+pe.length}function U(){var pe={line:D,column:M};return function(le){return le.position=new L(pe),ne(),le}}function L(pe){this.start=pe,this.end={line:D,column:M},this.source=C.source}L.prototype.content=T;function O(pe){var le=new Error(C.source+":"+D+":"+M+": "+pe);if(le.reason=pe,le.filename=C.source,le.line=D,le.column=M,le.source=T,!C.silent)throw le}function Y(pe){var le=pe.exec(T);if(le){var ye=le[0];return P(ye),T=T.slice(ye.length),le}}function ne(){Y(n)}function G(pe){var le;for(pe=pe||[];le=K();)le!==!1&&pe.push(le);return pe}function K(){var pe=U();if(!(h!=T.charAt(0)||p!=T.charAt(1))){for(var le=2;m!=T.charAt(le)&&(p!=T.charAt(le)||h!=T.charAt(le+1));)++le;if(le+=2,m===T.charAt(le-1))return O("End of comment missing");var ye=T.slice(2,le-2);return M+=2,P(ye),T=T.slice(le),M+=2,pe({type:b,comment:ye})}}function Q(){var pe=U(),le=Y(r);if(le){if(K(),!Y(s))return O("property missing ':'");var ye=Y(o),ge=pe({type:_,property:E(le[0].replace(t,m)),value:ye?E(ye[0].replace(t,m)):m});return Y(l),ge}}function de(){var pe=[];G(pe);for(var le;le=Q();)le!==!1&&(pe.push(le),G(pe));return pe}return ne(),de()};function E(T){return T?T.replace(c,m):m}return eN}var yj;function lce(){if(yj)return jf;yj=1;var t=jf&&jf.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(jf,"__esModule",{value:!0}),jf.default=n;var e=t(ace());function n(r,s){var o=null;if(!r||typeof r!="string")return o;var l=(0,e.default)(r),c=typeof s=="function";return l.forEach(function(f){if(f.type==="declaration"){var h=f.property,p=f.value;c?s(h,p,f):p&&(o=o||{},o[h]=p)}}),o}return jf}var bp={},vj;function cce(){if(vj)return bp;vj=1,Object.defineProperty(bp,"__esModule",{value:!0}),bp.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,s=/^-(ms)-/,o=function(h){return!h||n.test(h)||t.test(h)},l=function(h,p){return p.toUpperCase()},c=function(h,p){return"".concat(p,"-")},f=function(h,p){return p===void 0&&(p={}),o(h)?h:(h=h.toLowerCase(),p.reactCompat?h=h.replace(s,c):h=h.replace(r,c),h.replace(e,l))};return bp.camelCase=f,bp}var xp,_j;function uce(){if(_j)return xp;_j=1;var t=xp&&xp.__importDefault||function(s){return s&&s.__esModule?s:{default:s}},e=t(lce()),n=cce();function r(s,o){var l={};return!s||typeof s!="string"||(0,e.default)(s,function(c,f){c&&f&&(l[(0,n.camelCase)(c,o)]=f)}),l}return r.default=r,xp=r,xp}var fce=uce();const dce=bu(fce),$6=H6("end"),kT=H6("start");function H6(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function hce(t){const e=kT(t),n=$6(t);if(e&&n)return{start:e,end:n}}function zp(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?wj(t.position):"start"in t||"end"in t?wj(t):"line"in t||"column"in t?eE(t):""}function eE(t){return Nj(t&&t.line)+":"+Nj(t&&t.column)}function wj(t){return eE(t&&t.start)+"-"+eE(t&&t.end)}function Nj(t){return t&&typeof t=="number"?t:1}class ps extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let s="",o={},l=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof e=="string"?s=e:!o.cause&&e&&(l=!0,s=e.message,o.cause=e),!o.ruleId&&!o.source&&typeof r=="string"){const f=r.indexOf(":");f===-1?o.ruleId=r:(o.source=r.slice(0,f),o.ruleId=r.slice(f+1))}if(!o.place&&o.ancestors&&o.ancestors){const f=o.ancestors[o.ancestors.length-1];f&&(o.place=f.position)}const c=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=c?c.column:void 0,this.fatal=void 0,this.file,this.message=s,this.line=c?c.line:void 0,this.name=zp(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=l&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual,this.expected,this.note,this.url}}ps.prototype.file="";ps.prototype.name="";ps.prototype.reason="";ps.prototype.message="";ps.prototype.stack="";ps.prototype.column=void 0;ps.prototype.line=void 0;ps.prototype.ancestors=void 0;ps.prototype.cause=void 0;ps.prototype.fatal=void 0;ps.prototype.place=void 0;ps.prototype.ruleId=void 0;ps.prototype.source=void 0;const PT={}.hasOwnProperty,pce=new Map,mce=/[A-Z]/g,gce=new Set(["table","tbody","thead","tfoot","tr"]),bce=new Set(["td","th"]),W6="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function xce(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=Tce(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=Ece(n,e.jsx,e.jsxs)}const s={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?RT:ice,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},o=q6(s,t,void 0);return o&&typeof o!="string"?o:s.create(t,s.Fragment,{children:o||void 0},void 0)}function q6(t,e,n){if(e.type==="element")return yce(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return vce(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return wce(t,e,n);if(e.type==="mdxjsEsm")return _ce(t,e);if(e.type==="root")return Nce(t,e,n);if(e.type==="text")return Sce(t,e)}function yce(t,e,n){const r=t.schema;let s=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(s=RT,t.schema=s),t.ancestors.push(e);const o=Y6(t,e.tagName,!1),l=Ace(t,e);let c=MT(t,e);return gce.has(e.tagName)&&(c=c.filter(function(f){return typeof f=="string"?!Kle(f):!0})),X6(t,l,o,e),DT(l,c),t.ancestors.pop(),t.schema=r,t.create(e,o,l,n)}function vce(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return we(r.type==="ExpressionStatement"),t.evaluater.evaluateExpression(r.expression)}am(t,e.position)}function _ce(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);am(t,e.position)}function wce(t,e,n){const r=t.schema;let s=r;e.name==="svg"&&r.space==="html"&&(s=RT,t.schema=s),t.ancestors.push(e);const o=e.name===null?t.Fragment:Y6(t,e.name,!0),l=Cce(t,e),c=MT(t,e);return X6(t,l,o,e),DT(l,c),t.ancestors.pop(),t.schema=r,t.create(e,o,l,n)}function Nce(t,e,n){const r={};return DT(r,MT(t,e)),t.create(e,t.Fragment,r,n)}function Sce(t,e){return e.value}function X6(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function DT(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function Ece(t,e,n){return r;function r(s,o,l,c){const h=Array.isArray(l.children)?n:e;return c?h(o,l,c):h(o,l)}}function Tce(t,e){return n;function n(r,s,o,l){const c=Array.isArray(o.children),f=kT(r);return e(s,o,l,c,{columnNumber:f?f.column-1:void 0,fileName:t,lineNumber:f?f.line:void 0},void 0)}}function Ace(t,e){const n={};let r,s;for(s in e.properties)if(s!=="children"&&PT.call(e.properties,s)){const o=Rce(t,s,e.properties[s]);if(o){const[l,c]=o;t.tableCellAlignToStyle&&l==="align"&&typeof c=="string"&&bce.has(e.tagName)?r=c:n[l]=c}}if(r){const o=n.style||(n.style={});o[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function Cce(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const o=r.data.estree.body[0];we(o.type==="ExpressionStatement");const l=o.expression;we(l.type==="ObjectExpression");const c=l.properties[0];we(c.type==="SpreadElement"),Object.assign(n,t.evaluater.evaluateExpression(c.argument))}else am(t,e.position);else{const s=r.name;let o;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const c=r.value.data.estree.body[0];we(c.type==="ExpressionStatement"),o=t.evaluater.evaluateExpression(c.expression)}else am(t,e.position);else o=r.value===null?!0:r.value;n[s]=o}return n}function MT(t,e){const n=[];let r=-1;const s=t.passKeys?new Map:pce;for(;++r<e.children.length;){const o=e.children[r];let l;if(t.passKeys){const f=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(f){const h=s.get(f)||0;l=f+"-"+h,s.set(f,h+1)}}const c=q6(t,o,l);c!==void 0&&n.push(c)}return n}function Rce(t,e,n){const r=nce(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?Hle(n):oce(n)),r.property==="style"){let s=typeof n=="object"?n:kce(t,String(n));return t.stylePropertyNameCase==="css"&&(s=Pce(s)),["style",s]}return[t.elementAttributeNameCase==="react"&&r.space?Jle[r.property]||r.property:r.attribute,n]}}function kce(t,e){try{return dce(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,s=new ps("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw s.file=t.filePath||void 0,s.url=W6+"#cannot-parse-style-attribute",s}}function Y6(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const s=e.split(".");let o=-1,l;for(;++o<s.length;){const c=pj(s[o])?{type:"Identifier",name:s[o]}:{type:"Literal",value:s[o]};l=l?{type:"MemberExpression",object:l,property:c,computed:!!(o&&c.type==="Literal"),optional:!1}:c}we(l,"always a result"),r=l}else r=pj(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const s=r.value;return PT.call(t.components,s)?t.components[s]:s}if(t.evaluater)return t.evaluater.evaluateExpression(r);am(t)}function am(t,e){const n=new ps("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=W6+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Pce(t){const e={};let n;for(n in t)PT.call(t,n)&&(e[Dce(n)]=t[n]);return e}function Dce(t){let e=t.replace(mce,Mce);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function Mce(t){return"-"+t.toLowerCase()}const tN={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},jce={};function jT(t,e){const n=jce,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,s=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return K6(t,r,s)}function K6(t,e,n){if(Ice(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return Sj(t.children,e,n)}return Array.isArray(t)?Sj(t,e,n):""}function Sj(t,e,n){const r=[];let s=-1;for(;++s<t.length;)r[s]=K6(t[s],e,n);return r.join("")}function Ice(t){return!!(t&&typeof t=="object")}const Ej=document.createElement("i");function IT(t){const e="&"+t+";";Ej.innerHTML=e;const n=Ej.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}const j={carriageReturn:-5,lineFeed:-4,carriageReturnLineFeed:-3,horizontalTab:-2,virtualSpace:-1,eof:null,nul:0,ht:9,lf:10,vt:11,cr:13,space:32,exclamationMark:33,quotationMark:34,numberSign:35,percentSign:37,ampersand:38,apostrophe:39,leftParenthesis:40,rightParenthesis:41,asterisk:42,plusSign:43,comma:44,dash:45,dot:46,slash:47,digit0:48,digit1:49,digit2:50,digit3:51,digit4:52,digit5:53,digit6:54,digit7:55,digit8:56,digit9:57,colon:58,semicolon:59,lessThan:60,equalsTo:61,greaterThan:62,questionMark:63,atSign:64,uppercaseA:65,uppercaseH:72,uppercaseW:87,uppercaseX:88,leftSquareBracket:91,backslash:92,rightSquareBracket:93,caret:94,underscore:95,graveAccent:96,lowercaseA:97,lowercaseH:104,lowercaseW:119,lowercaseX:120,leftCurlyBrace:123,verticalBar:124,tilde:126,del:127,byteOrderMarker:65279,replacementCharacter:65533},dt={attentionSideAfter:2,atxHeadingOpeningFenceSizeMax:6,autolinkDomainSizeMax:63,autolinkSchemeSizeMax:32,cdataOpeningString:"CDATA[",characterGroupPunctuation:2,characterGroupWhitespace:1,characterReferenceDecimalSizeMax:7,characterReferenceHexadecimalSizeMax:6,characterReferenceNamedSizeMax:31,codeFencedSequenceSizeMin:3,contentTypeContent:"content",contentTypeFlow:"flow",contentTypeString:"string",contentTypeText:"text",hardBreakPrefixSizeMin:2,htmlBasic:6,htmlCdata:5,htmlComment:2,htmlComplete:7,htmlDeclaration:4,htmlInstruction:3,htmlRawSizeMax:8,htmlRaw:1,linkResourceDestinationBalanceMax:32,linkReferenceSizeMax:999,listItemValueSizeMax:10,numericBaseDecimal:10,numericBaseHexadecimal:16,tabSize:4,thematicBreakMarkerCountMin:3,v8MaxSafeChunkSize:1e4},z={data:"data",whitespace:"whitespace",lineEnding:"lineEnding",lineEndingBlank:"lineEndingBlank",linePrefix:"linePrefix",lineSuffix:"lineSuffix",atxHeading:"atxHeading",atxHeadingSequence:"atxHeadingSequence",atxHeadingText:"atxHeadingText",autolink:"autolink",autolinkEmail:"autolinkEmail",autolinkMarker:"autolinkMarker",autolinkProtocol:"autolinkProtocol",characterEscape:"characterEscape",characterEscapeValue:"characterEscapeValue",characterReference:"characterReference",characterReferenceMarker:"characterReferenceMarker",characterReferenceMarkerNumeric:"characterReferenceMarkerNumeric",characterReferenceMarkerHexadecimal:"characterReferenceMarkerHexadecimal",characterReferenceValue:"characterReferenceValue",codeFenced:"codeFenced",codeFencedFence:"codeFencedFence",codeFencedFenceSequence:"codeFencedFenceSequence",codeFencedFenceInfo:"codeFencedFenceInfo",codeFencedFenceMeta:"codeFencedFenceMeta",codeFlowValue:"codeFlowValue",codeIndented:"codeIndented",codeText:"codeText",codeTextData:"codeTextData",codeTextPadding:"codeTextPadding",codeTextSequence:"codeTextSequence",content:"content",definition:"definition",definitionDestination:"definitionDestination",definitionDestinationLiteral:"definitionDestinationLiteral",definitionDestinationLiteralMarker:"definitionDestinationLiteralMarker",definitionDestinationRaw:"definitionDestinationRaw",definitionDestinationString:"definitionDestinationString",definitionLabel:"definitionLabel",definitionLabelMarker:"definitionLabelMarker",definitionLabelString:"definitionLabelString",definitionMarker:"definitionMarker",definitionTitle:"definitionTitle",definitionTitleMarker:"definitionTitleMarker",definitionTitleString:"definitionTitleString",emphasis:"emphasis",emphasisSequence:"emphasisSequence",emphasisText:"emphasisText",escapeMarker:"escapeMarker",hardBreakEscape:"hardBreakEscape",hardBreakTrailing:"hardBreakTrailing",htmlFlow:"htmlFlow",htmlFlowData:"htmlFlowData",htmlText:"htmlText",htmlTextData:"htmlTextData",image:"image",label:"label",labelText:"labelText",labelLink:"labelLink",labelImage:"labelImage",labelMarker:"labelMarker",labelImageMarker:"labelImageMarker",labelEnd:"labelEnd",link:"link",paragraph:"paragraph",reference:"reference",referenceMarker:"referenceMarker",referenceString:"referenceString",resource:"resource",resourceDestination:"resourceDestination",resourceDestinationLiteral:"resourceDestinationLiteral",resourceDestinationLiteralMarker:"resourceDestinationLiteralMarker",resourceDestinationRaw:"resourceDestinationRaw",resourceDestinationString:"resourceDestinationString",resourceMarker:"resourceMarker",resourceTitle:"resourceTitle",resourceTitleMarker:"resourceTitleMarker",resourceTitleString:"resourceTitleString",setextHeading:"setextHeading",setextHeadingText:"setextHeadingText",setextHeadingLine:"setextHeadingLine",setextHeadingLineSequence:"setextHeadingLineSequence",strong:"strong",strongSequence:"strongSequence",strongText:"strongText",thematicBreak:"thematicBreak",thematicBreakSequence:"thematicBreakSequence",blockQuote:"blockQuote",blockQuotePrefix:"blockQuotePrefix",blockQuoteMarker:"blockQuoteMarker",blockQuotePrefixWhitespace:"blockQuotePrefixWhitespace",listOrdered:"listOrdered",listUnordered:"listUnordered",listItemIndent:"listItemIndent",listItemMarker:"listItemMarker",listItemPrefix:"listItemPrefix",listItemPrefixWhitespace:"listItemPrefixWhitespace",listItemValue:"listItemValue",chunkContent:"chunkContent",chunkFlow:"chunkFlow",chunkText:"chunkText",chunkString:"chunkString"},Co={ht:"	",lf:`
`,cr:"\r",space:" ",replacementCharacter:"�"};function ui(t,e,n,r){const s=t.length;let o=0,l;if(e<0?e=-e>s?0:s+e:e=e>s?s:e,n=n>0?n:0,r.length<dt.v8MaxSafeChunkSize)l=Array.from(r),l.unshift(e,n),t.splice(...l);else for(n&&t.splice(e,n);o<r.length;)l=r.slice(o,o+dt.v8MaxSafeChunkSize),l.unshift(e,0),t.splice(...l),o+=dt.v8MaxSafeChunkSize,e+=dt.v8MaxSafeChunkSize}function Ti(t,e){return t.length>0?(ui(t,t.length,0,e),t):e}const Tj={}.hasOwnProperty;function Z6(t){const e={};let n=-1;for(;++n<t.length;)Oce(e,t[n]);return e}function Oce(t,e){let n;for(n in e){const s=(Tj.call(t,n)?t[n]:void 0)||(t[n]={}),o=e[n];let l;if(o)for(l in o){Tj.call(s,l)||(s[l]=[]);const c=o[l];Uce(s[l],Array.isArray(c)?c:c?[c]:[])}}}function Uce(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);ui(t,0,0,r)}function G6(t,e){const n=Number.parseInt(t,e);return n<j.ht||n===j.vt||n>j.cr&&n<j.space||n>j.tilde&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?Co.replacementCharacter:String.fromCodePoint(n)}function to(t){return t.replace(/[\t\n\r ]+/g,Co.space).replace(/^ | $/g,"").toLowerCase().toUpperCase()}const ks=Kl(/[A-Za-z]/),hs=Kl(/[\dA-Za-z]/),Vce=Kl(/[#-'*+\--9=?A-Z^-~]/);function vy(t){return t!==null&&(t<j.space||t===j.del)}const tE=Kl(/\d/),Fce=Kl(/[\dA-Fa-f]/),Bce=Kl(/[!-/:-@[-`{-~]/);function vt(t){return t!==null&&t<j.horizontalTab}function Wn(t){return t!==null&&(t<j.nul||t===j.space)}function hn(t){return t===j.horizontalTab||t===j.virtualSpace||t===j.space}const hv=Kl(new RegExp("\\p{P}|\\p{S}","u")),gu=Kl(/\s/);function Kl(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function Vd(t){const e=[];let n=-1,r=0,s=0;for(;++n<t.length;){const o=t.charCodeAt(n);let l="";if(o===j.percentSign&&hs(t.charCodeAt(n+1))&&hs(t.charCodeAt(n+2)))s=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(l=String.fromCharCode(o));else if(o>55295&&o<57344){const c=t.charCodeAt(n+1);o<56320&&c>56319&&c<57344?(l=String.fromCharCode(o,c),s=1):l=Co.replacementCharacter}else l=String.fromCharCode(o);l&&(e.push(t.slice(r,n),encodeURIComponent(l)),r=n+s+1,l=""),s&&(n+=s,s=0)}return e.join("")+t.slice(r)}function xn(t,e,n,r){const s=r?r-1:Number.POSITIVE_INFINITY;let o=0;return l;function l(f){return hn(f)?(t.enter(n),c(f)):e(f)}function c(f){return hn(f)&&o++<s?(t.consume(f),c):(t.exit(n),e(f))}}const Lce={tokenize:zce};function zce(t){const e=t.attempt(this.parser.constructs.contentInitial,r,s);let n;return e;function r(c){if(we(c===j.eof||vt(c),"expected eol or eof"),c===j.eof){t.consume(c);return}return t.enter(z.lineEnding),t.consume(c),t.exit(z.lineEnding),xn(t,e,z.linePrefix)}function s(c){return we(c!==j.eof&&!vt(c),"expected anything other than a line ending or EOF"),t.enter(z.paragraph),o(c)}function o(c){const f=t.enter(z.chunkText,{contentType:dt.contentTypeText,previous:n});return n&&(n.next=f),n=f,l(c)}function l(c){if(c===j.eof){t.exit(z.chunkText),t.exit(z.paragraph),t.consume(c);return}return vt(c)?(t.consume(c),t.exit(z.chunkText),o):(t.consume(c),l)}}const $ce={tokenize:Hce},Aj={tokenize:Wce};function Hce(t){const e=this,n=[];let r=0,s,o,l;return c;function c(P){if(r<n.length){const U=n[r];return e.containerState=U[1],we(U[0].continuation,"expected `continuation` to be defined on container construct"),t.attempt(U[0].continuation,f,h)(P)}return h(P)}function f(P){if(we(e.containerState,"expected `containerState` to be defined after continuation"),r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,s&&M();const U=e.events.length;let L=U,O;for(;L--;)if(e.events[L][0]==="exit"&&e.events[L][1].type===z.chunkFlow){O=e.events[L][1].end;break}we(O,"could not find previous flow chunk"),D(r);let Y=U;for(;Y<e.events.length;)e.events[Y][1].end={...O},Y++;return ui(e.events,L+1,0,e.events.slice(U)),e.events.length=Y,h(P)}return c(P)}function h(P){if(r===n.length){if(!s)return b(P);if(s.currentConstruct&&s.currentConstruct.concrete)return E(P);e.interrupt=!!(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(Aj,p,m)(P)}function p(P){return s&&M(),D(r),b(P)}function m(P){return e.parser.lazy[e.now().line]=r!==n.length,l=e.now().offset,E(P)}function b(P){return e.containerState={},t.attempt(Aj,_,E)(P)}function _(P){return we(e.currentConstruct,"expected `currentConstruct` to be defined on tokenizer"),we(e.containerState,"expected `containerState` to be defined on tokenizer"),r++,n.push([e.currentConstruct,e.containerState]),b(P)}function E(P){if(P===j.eof){s&&M(),D(0),t.consume(P);return}return s=s||e.parser.flow(e.now()),t.enter(z.chunkFlow,{_tokenizer:s,contentType:dt.contentTypeFlow,previous:o}),T(P)}function T(P){if(P===j.eof){C(t.exit(z.chunkFlow),!0),D(0),t.consume(P);return}return vt(P)?(t.consume(P),C(t.exit(z.chunkFlow)),r=0,e.interrupt=void 0,c):(t.consume(P),T)}function C(P,U){we(s,"expected `childFlow` to be defined when continuing");const L=e.sliceStream(P);if(U&&L.push(null),P.previous=o,o&&(o.next=P),o=P,s.defineSkip(P.start),s.write(L),e.parser.lazy[P.start.line]){let O=s.events.length;for(;O--;)if(s.events[O][1].start.offset<l&&(!s.events[O][1].end||s.events[O][1].end.offset>l))return;const Y=e.events.length;let ne=Y,G,K;for(;ne--;)if(e.events[ne][0]==="exit"&&e.events[ne][1].type===z.chunkFlow){if(G){K=e.events[ne][1].end;break}G=!0}for(we(K,"could not find previous flow chunk"),D(r),O=Y;O<e.events.length;)e.events[O][1].end={...K},O++;ui(e.events,ne+1,0,e.events.slice(Y)),e.events.length=O}}function D(P){let U=n.length;for(;U-- >P;){const L=n[U];e.containerState=L[1],we(L[0].exit,"expected `exit` to be defined on container construct"),L[0].exit.call(e,t)}n.length=P}function M(){we(e.containerState,"expected `containerState` to be defined when closing flow"),we(s,"expected `childFlow` to be defined when closing it"),s.write([j.eof]),o=void 0,s=void 0,e.containerState._closeFlow=void 0}}function Wce(t,e,n){return we(this.parser.constructs.disable.null,"expected `disable.null` to be populated"),xn(t,t.attempt(this.parser.constructs.document,e,n),z.linePrefix,this.parser.constructs.disable.null.includes("codeIndented")?void 0:dt.tabSize)}function Ad(t){if(t===j.eof||Wn(t)||gu(t))return dt.characterGroupWhitespace;if(hv(t))return dt.characterGroupPunctuation}function pv(t,e,n){const r=[];let s=-1;for(;++s<t.length;){const o=t[s].resolveAll;o&&!r.includes(o)&&(e=o(e,n),r.push(o))}return e}const nE={name:"attention",resolveAll:qce,tokenize:Xce};function qce(t,e){let n=-1,r,s,o,l,c,f,h,p;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;f=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const m={...t[r][1].end},b={...t[n][1].start};Cj(m,-f),Cj(b,f),l={type:f>1?z.strongSequence:z.emphasisSequence,start:m,end:{...t[r][1].end}},c={type:f>1?z.strongSequence:z.emphasisSequence,start:{...t[n][1].start},end:b},o={type:f>1?z.strongText:z.emphasisText,start:{...t[r][1].end},end:{...t[n][1].start}},s={type:f>1?z.strong:z.emphasis,start:{...l.start},end:{...c.end}},t[r][1].end={...l.start},t[n][1].start={...c.end},h=[],t[r][1].end.offset-t[r][1].start.offset&&(h=Ti(h,[["enter",t[r][1],e],["exit",t[r][1],e]])),h=Ti(h,[["enter",s,e],["enter",l,e],["exit",l,e],["enter",o,e]]),we(e.parser.constructs.insideSpan.null,"expected `insideSpan` to be populated"),h=Ti(h,pv(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),h=Ti(h,[["exit",o,e],["enter",c,e],["exit",c,e],["exit",s,e]]),t[n][1].end.offset-t[n][1].start.offset?(p=2,h=Ti(h,[["enter",t[n][1],e],["exit",t[n][1],e]])):p=0,ui(t,r-1,n-r+3,h),n=r+h.length-p-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function Xce(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,s=Ad(r);let o;return l;function l(f){return we(f===j.asterisk||f===j.underscore,"expected asterisk or underscore"),o=f,t.enter("attentionSequence"),c(f)}function c(f){if(f===o)return t.consume(f),c;const h=t.exit("attentionSequence"),p=Ad(f);we(n,"expected `attentionMarkers` to be populated");const m=!p||p===dt.characterGroupPunctuation&&s||n.includes(f),b=!s||s===dt.characterGroupPunctuation&&p||n.includes(r);return h._open=!!(o===j.asterisk?m:m&&(s||!b)),h._close=!!(o===j.asterisk?b:b&&(p||!m)),e(f)}}function Cj(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const Yce={name:"autolink",tokenize:Kce};function Kce(t,e,n){let r=0;return s;function s(_){return we(_===j.lessThan,"expected `<`"),t.enter(z.autolink),t.enter(z.autolinkMarker),t.consume(_),t.exit(z.autolinkMarker),t.enter(z.autolinkProtocol),o}function o(_){return ks(_)?(t.consume(_),l):_===j.atSign?n(_):h(_)}function l(_){return _===j.plusSign||_===j.dash||_===j.dot||hs(_)?(r=1,c(_)):h(_)}function c(_){return _===j.colon?(t.consume(_),r=0,f):(_===j.plusSign||_===j.dash||_===j.dot||hs(_))&&r++<dt.autolinkSchemeSizeMax?(t.consume(_),c):(r=0,h(_))}function f(_){return _===j.greaterThan?(t.exit(z.autolinkProtocol),t.enter(z.autolinkMarker),t.consume(_),t.exit(z.autolinkMarker),t.exit(z.autolink),e):_===j.eof||_===j.space||_===j.lessThan||vy(_)?n(_):(t.consume(_),f)}function h(_){return _===j.atSign?(t.consume(_),p):Vce(_)?(t.consume(_),h):n(_)}function p(_){return hs(_)?m(_):n(_)}function m(_){return _===j.dot?(t.consume(_),r=0,p):_===j.greaterThan?(t.exit(z.autolinkProtocol).type=z.autolinkEmail,t.enter(z.autolinkMarker),t.consume(_),t.exit(z.autolinkMarker),t.exit(z.autolink),e):b(_)}function b(_){if((_===j.dash||hs(_))&&r++<dt.autolinkDomainSizeMax){const E=_===j.dash?b:m;return t.consume(_),E}return n(_)}}const Pm={partial:!0,tokenize:Zce};function Zce(t,e,n){return r;function r(o){return hn(o)?xn(t,s,z.linePrefix)(o):s(o)}function s(o){return o===j.eof||vt(o)?e(o):n(o)}}const Q6={continuation:{tokenize:Qce},exit:Jce,name:"blockQuote",tokenize:Gce};function Gce(t,e,n){const r=this;return s;function s(l){if(l===j.greaterThan){const c=r.containerState;return we(c,"expected `containerState` to be defined in container"),c.open||(t.enter(z.blockQuote,{_container:!0}),c.open=!0),t.enter(z.blockQuotePrefix),t.enter(z.blockQuoteMarker),t.consume(l),t.exit(z.blockQuoteMarker),o}return n(l)}function o(l){return hn(l)?(t.enter(z.blockQuotePrefixWhitespace),t.consume(l),t.exit(z.blockQuotePrefixWhitespace),t.exit(z.blockQuotePrefix),e):(t.exit(z.blockQuotePrefix),e(l))}}function Qce(t,e,n){const r=this;return s;function s(l){return hn(l)?(we(r.parser.constructs.disable.null,"expected `disable.null` to be populated"),xn(t,o,z.linePrefix,r.parser.constructs.disable.null.includes("codeIndented")?void 0:dt.tabSize)(l)):o(l)}function o(l){return t.attempt(Q6,e,n)(l)}}function Jce(t){t.exit(z.blockQuote)}const J6={name:"characterEscape",tokenize:eue};function eue(t,e,n){return r;function r(o){return we(o===j.backslash,"expected `\\`"),t.enter(z.characterEscape),t.enter(z.escapeMarker),t.consume(o),t.exit(z.escapeMarker),s}function s(o){return Bce(o)?(t.enter(z.characterEscapeValue),t.consume(o),t.exit(z.characterEscapeValue),t.exit(z.characterEscape),e):n(o)}}const eB={name:"characterReference",tokenize:tue};function tue(t,e,n){const r=this;let s=0,o,l;return c;function c(m){return we(m===j.ampersand,"expected `&`"),t.enter(z.characterReference),t.enter(z.characterReferenceMarker),t.consume(m),t.exit(z.characterReferenceMarker),f}function f(m){return m===j.numberSign?(t.enter(z.characterReferenceMarkerNumeric),t.consume(m),t.exit(z.characterReferenceMarkerNumeric),h):(t.enter(z.characterReferenceValue),o=dt.characterReferenceNamedSizeMax,l=hs,p(m))}function h(m){return m===j.uppercaseX||m===j.lowercaseX?(t.enter(z.characterReferenceMarkerHexadecimal),t.consume(m),t.exit(z.characterReferenceMarkerHexadecimal),t.enter(z.characterReferenceValue),o=dt.characterReferenceHexadecimalSizeMax,l=Fce,p):(t.enter(z.characterReferenceValue),o=dt.characterReferenceDecimalSizeMax,l=tE,p(m))}function p(m){if(m===j.semicolon&&s){const b=t.exit(z.characterReferenceValue);return l===hs&&!IT(r.sliceSerialize(b))?n(m):(t.enter(z.characterReferenceMarker),t.consume(m),t.exit(z.characterReferenceMarker),t.exit(z.characterReference),e)}return l(m)&&s++<o?(t.consume(m),p):n(m)}}const Rj={partial:!0,tokenize:rue},kj={concrete:!0,name:"codeFenced",tokenize:nue};function nue(t,e,n){const r=this,s={partial:!0,tokenize:L};let o=0,l=0,c;return f;function f(O){return h(O)}function h(O){we(O===j.graveAccent||O===j.tilde,"expected `` ` `` or `~`");const Y=r.events[r.events.length-1];return o=Y&&Y[1].type===z.linePrefix?Y[2].sliceSerialize(Y[1],!0).length:0,c=O,t.enter(z.codeFenced),t.enter(z.codeFencedFence),t.enter(z.codeFencedFenceSequence),p(O)}function p(O){return O===c?(l++,t.consume(O),p):l<dt.codeFencedSequenceSizeMin?n(O):(t.exit(z.codeFencedFenceSequence),hn(O)?xn(t,m,z.whitespace)(O):m(O))}function m(O){return O===j.eof||vt(O)?(t.exit(z.codeFencedFence),r.interrupt?e(O):t.check(Rj,T,U)(O)):(t.enter(z.codeFencedFenceInfo),t.enter(z.chunkString,{contentType:dt.contentTypeString}),b(O))}function b(O){return O===j.eof||vt(O)?(t.exit(z.chunkString),t.exit(z.codeFencedFenceInfo),m(O)):hn(O)?(t.exit(z.chunkString),t.exit(z.codeFencedFenceInfo),xn(t,_,z.whitespace)(O)):O===j.graveAccent&&O===c?n(O):(t.consume(O),b)}function _(O){return O===j.eof||vt(O)?m(O):(t.enter(z.codeFencedFenceMeta),t.enter(z.chunkString,{contentType:dt.contentTypeString}),E(O))}function E(O){return O===j.eof||vt(O)?(t.exit(z.chunkString),t.exit(z.codeFencedFenceMeta),m(O)):O===j.graveAccent&&O===c?n(O):(t.consume(O),E)}function T(O){return we(vt(O),"expected eol"),t.attempt(s,U,C)(O)}function C(O){return we(vt(O),"expected eol"),t.enter(z.lineEnding),t.consume(O),t.exit(z.lineEnding),D}function D(O){return o>0&&hn(O)?xn(t,M,z.linePrefix,o+1)(O):M(O)}function M(O){return O===j.eof||vt(O)?t.check(Rj,T,U)(O):(t.enter(z.codeFlowValue),P(O))}function P(O){return O===j.eof||vt(O)?(t.exit(z.codeFlowValue),M(O)):(t.consume(O),P)}function U(O){return t.exit(z.codeFenced),e(O)}function L(O,Y,ne){let G=0;return K;function K(ye){return we(vt(ye),"expected eol"),O.enter(z.lineEnding),O.consume(ye),O.exit(z.lineEnding),Q}function Q(ye){return we(r.parser.constructs.disable.null,"expected `disable.null` to be populated"),O.enter(z.codeFencedFence),hn(ye)?xn(O,de,z.linePrefix,r.parser.constructs.disable.null.includes("codeIndented")?void 0:dt.tabSize)(ye):de(ye)}function de(ye){return ye===c?(O.enter(z.codeFencedFenceSequence),pe(ye)):ne(ye)}function pe(ye){return ye===c?(G++,O.consume(ye),pe):G>=l?(O.exit(z.codeFencedFenceSequence),hn(ye)?xn(O,le,z.whitespace)(ye):le(ye)):ne(ye)}function le(ye){return ye===j.eof||vt(ye)?(O.exit(z.codeFencedFence),Y(ye)):ne(ye)}}}function rue(t,e,n){const r=this;return s;function s(l){return l===j.eof?n(l):(we(vt(l),"expected eol"),t.enter(z.lineEnding),t.consume(l),t.exit(z.lineEnding),o)}function o(l){return r.parser.lazy[r.now().line]?n(l):e(l)}}const nN={name:"codeIndented",tokenize:iue},sue={partial:!0,tokenize:oue};function iue(t,e,n){const r=this;return s;function s(h){return we(hn(h)),t.enter(z.codeIndented),xn(t,o,z.linePrefix,dt.tabSize+1)(h)}function o(h){const p=r.events[r.events.length-1];return p&&p[1].type===z.linePrefix&&p[2].sliceSerialize(p[1],!0).length>=dt.tabSize?l(h):n(h)}function l(h){return h===j.eof?f(h):vt(h)?t.attempt(sue,l,f)(h):(t.enter(z.codeFlowValue),c(h))}function c(h){return h===j.eof||vt(h)?(t.exit(z.codeFlowValue),l(h)):(t.consume(h),c)}function f(h){return t.exit(z.codeIndented),e(h)}}function oue(t,e,n){const r=this;return s;function s(l){return r.parser.lazy[r.now().line]?n(l):vt(l)?(t.enter(z.lineEnding),t.consume(l),t.exit(z.lineEnding),s):xn(t,o,z.linePrefix,dt.tabSize+1)(l)}function o(l){const c=r.events[r.events.length-1];return c&&c[1].type===z.linePrefix&&c[2].sliceSerialize(c[1],!0).length>=dt.tabSize?e(l):vt(l)?s(l):n(l)}}const aue={name:"codeText",previous:tB,resolve:lue,tokenize:cue};function lue(t){let e=t.length-4,n=3,r,s;if((t[n][1].type===z.lineEnding||t[n][1].type==="space")&&(t[e][1].type===z.lineEnding||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type===z.codeTextData){t[n][1].type=z.codeTextPadding,t[e][1].type=z.codeTextPadding,n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)s===void 0?r!==e&&t[r][1].type!==z.lineEnding&&(s=r):(r===e||t[r][1].type===z.lineEnding)&&(t[s][1].type=z.codeTextData,r!==s+2&&(t[s][1].end=t[r-1][1].end,t.splice(s+2,r-s-2),e-=r-s-2,r=s+2),s=void 0);return t}function tB(t){return t!==j.graveAccent||this.events[this.events.length-1][1].type===z.characterEscape}function cue(t,e,n){const r=this;let s=0,o,l;return c;function c(b){return we(b===j.graveAccent,"expected `` ` ``"),we(tB.call(r,r.previous),"expected correct previous"),t.enter(z.codeText),t.enter(z.codeTextSequence),f(b)}function f(b){return b===j.graveAccent?(t.consume(b),s++,f):(t.exit(z.codeTextSequence),h(b))}function h(b){return b===j.eof?n(b):b===j.space?(t.enter("space"),t.consume(b),t.exit("space"),h):b===j.graveAccent?(l=t.enter(z.codeTextSequence),o=0,m(b)):vt(b)?(t.enter(z.lineEnding),t.consume(b),t.exit(z.lineEnding),h):(t.enter(z.codeTextData),p(b))}function p(b){return b===j.eof||b===j.space||b===j.graveAccent||vt(b)?(t.exit(z.codeTextData),h(b)):(t.consume(b),p)}function m(b){return b===j.graveAccent?(t.consume(b),o++,m):o===s?(t.exit(z.codeTextSequence),t.exit(z.codeText),e(b)):(l.type=z.codeTextData,p(b))}}class uue{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const s=n||0;this.setCursor(Math.trunc(e));const o=this.right.splice(this.right.length-s,Number.POSITIVE_INFINITY);return r&&yp(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),yp(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),yp(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);yp(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);yp(this.left,n.reverse())}}}function yp(t,e){let n=0;if(e.length<dt.v8MaxSafeChunkSize)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+dt.v8MaxSafeChunkSize)),n+=dt.v8MaxSafeChunkSize}function nB(t){const e={};let n=-1,r,s,o,l,c,f,h;const p=new uue(t);for(;++n<p.length;){for(;n in e;)n=e[n];if(r=p.get(n),n&&r[1].type===z.chunkFlow&&p.get(n-1)[1].type===z.listItemPrefix&&(we(r[1]._tokenizer,"expected `_tokenizer` on subtokens"),f=r[1]._tokenizer.events,o=0,o<f.length&&f[o][1].type===z.lineEndingBlank&&(o+=2),o<f.length&&f[o][1].type===z.content))for(;++o<f.length&&f[o][1].type!==z.content;)f[o][1].type===z.chunkText&&(f[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,fue(p,n)),n=e[n],h=!0);else if(r[1]._container){for(o=n,s=void 0;o--;)if(l=p.get(o),l[1].type===z.lineEnding||l[1].type===z.lineEndingBlank)l[0]==="enter"&&(s&&(p.get(s)[1].type=z.lineEndingBlank),l[1].type=z.lineEnding,s=o);else if(!(l[1].type===z.linePrefix||l[1].type===z.listItemIndent))break;s&&(r[1].end={...p.get(s)[1].start},c=p.slice(s,n),c.unshift(r),p.splice(s,n-s+1,c))}}return ui(t,0,Number.POSITIVE_INFINITY,p.slice(0)),!h}function fue(t,e){const n=t.get(e)[1],r=t.get(e)[2];let s=e-1;const o=[];we(n.contentType,"expected `contentType` on subtokens");let l=n._tokenizer;l||(l=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(l._contentTypeTextTrailing=!0));const c=l.events,f=[],h={};let p,m,b=-1,_=n,E=0,T=0;const C=[T];for(;_;){for(;t.get(++s)[1]!==_;);we(!m||_.previous===m,"expected previous to match"),we(!m||m.next===_,"expected next to match"),o.push(s),_._tokenizer||(p=r.sliceStream(_),_.next||p.push(j.eof),m&&l.defineSkip(_.start),_._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(p),_._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),m=_,_=_.next}for(_=n;++b<c.length;)c[b][0]==="exit"&&c[b-1][0]==="enter"&&c[b][1].type===c[b-1][1].type&&c[b][1].start.line!==c[b][1].end.line&&(we(_,"expected a current token"),T=b+1,C.push(T),_._tokenizer=void 0,_.previous=void 0,_=_.next);for(l.events=[],_?(_._tokenizer=void 0,_.previous=void 0,we(!_.next,"expected no next token")):C.pop(),b=C.length;b--;){const D=c.slice(C[b],C[b+1]),M=o.pop();we(M!==void 0,"expected a start position when splicing"),f.push([M,M+D.length-1]),t.splice(M,2,D)}for(f.reverse(),b=-1;++b<f.length;)h[E+f[b][0]]=E+f[b][1],E+=f[b][1]-f[b][0]-1;return h}const due={resolve:pue,tokenize:mue},hue={partial:!0,tokenize:gue};function pue(t){return nB(t),t}function mue(t,e){let n;return r;function r(c){return we(c!==j.eof&&!vt(c),"expected no eof or eol"),t.enter(z.content),n=t.enter(z.chunkContent,{contentType:dt.contentTypeContent}),s(c)}function s(c){return c===j.eof?o(c):vt(c)?t.check(hue,l,o)(c):(t.consume(c),s)}function o(c){return t.exit(z.chunkContent),t.exit(z.content),e(c)}function l(c){return we(vt(c),"expected eol"),t.consume(c),t.exit(z.chunkContent),we(n,"expected previous token"),n.next=t.enter(z.chunkContent,{contentType:dt.contentTypeContent,previous:n}),n=n.next,s}}function gue(t,e,n){const r=this;return s;function s(l){return we(vt(l),"expected a line ending"),t.exit(z.chunkContent),t.enter(z.lineEnding),t.consume(l),t.exit(z.lineEnding),xn(t,o,z.linePrefix)}function o(l){if(l===j.eof||vt(l))return n(l);we(r.parser.constructs.disable.null,"expected `disable.null` to be populated");const c=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&c&&c[1].type===z.linePrefix&&c[2].sliceSerialize(c[1],!0).length>=dt.tabSize?e(l):t.interrupt(r.parser.constructs.flow,n,e)(l)}}function rB(t,e,n,r,s,o,l,c,f){const h=f||Number.POSITIVE_INFINITY;let p=0;return m;function m(D){return D===j.lessThan?(t.enter(r),t.enter(s),t.enter(o),t.consume(D),t.exit(o),b):D===j.eof||D===j.space||D===j.rightParenthesis||vy(D)?n(D):(t.enter(r),t.enter(l),t.enter(c),t.enter(z.chunkString,{contentType:dt.contentTypeString}),T(D))}function b(D){return D===j.greaterThan?(t.enter(o),t.consume(D),t.exit(o),t.exit(s),t.exit(r),e):(t.enter(c),t.enter(z.chunkString,{contentType:dt.contentTypeString}),_(D))}function _(D){return D===j.greaterThan?(t.exit(z.chunkString),t.exit(c),b(D)):D===j.eof||D===j.lessThan||vt(D)?n(D):(t.consume(D),D===j.backslash?E:_)}function E(D){return D===j.lessThan||D===j.greaterThan||D===j.backslash?(t.consume(D),_):_(D)}function T(D){return!p&&(D===j.eof||D===j.rightParenthesis||Wn(D))?(t.exit(z.chunkString),t.exit(c),t.exit(l),t.exit(r),e(D)):p<h&&D===j.leftParenthesis?(t.consume(D),p++,T):D===j.rightParenthesis?(t.consume(D),p--,T):D===j.eof||D===j.space||D===j.leftParenthesis||vy(D)?n(D):(t.consume(D),D===j.backslash?C:T)}function C(D){return D===j.leftParenthesis||D===j.rightParenthesis||D===j.backslash?(t.consume(D),T):T(D)}}function sB(t,e,n,r,s,o){const l=this;let c=0,f;return h;function h(_){return we(_===j.leftSquareBracket,"expected `[`"),t.enter(r),t.enter(s),t.consume(_),t.exit(s),t.enter(o),p}function p(_){return c>dt.linkReferenceSizeMax||_===j.eof||_===j.leftSquareBracket||_===j.rightSquareBracket&&!f||_===j.caret&&!c&&"_hiddenFootnoteSupport"in l.parser.constructs?n(_):_===j.rightSquareBracket?(t.exit(o),t.enter(s),t.consume(_),t.exit(s),t.exit(r),e):vt(_)?(t.enter(z.lineEnding),t.consume(_),t.exit(z.lineEnding),p):(t.enter(z.chunkString,{contentType:dt.contentTypeString}),m(_))}function m(_){return _===j.eof||_===j.leftSquareBracket||_===j.rightSquareBracket||vt(_)||c++>dt.linkReferenceSizeMax?(t.exit(z.chunkString),p(_)):(t.consume(_),f||(f=!hn(_)),_===j.backslash?b:m)}function b(_){return _===j.leftSquareBracket||_===j.backslash||_===j.rightSquareBracket?(t.consume(_),c++,m):m(_)}}function iB(t,e,n,r,s,o){let l;return c;function c(b){return b===j.quotationMark||b===j.apostrophe||b===j.leftParenthesis?(t.enter(r),t.enter(s),t.consume(b),t.exit(s),l=b===j.leftParenthesis?j.rightParenthesis:b,f):n(b)}function f(b){return b===l?(t.enter(s),t.consume(b),t.exit(s),t.exit(r),e):(t.enter(o),h(b))}function h(b){return b===l?(t.exit(o),f(l)):b===j.eof?n(b):vt(b)?(t.enter(z.lineEnding),t.consume(b),t.exit(z.lineEnding),xn(t,h,z.linePrefix)):(t.enter(z.chunkString,{contentType:dt.contentTypeString}),p(b))}function p(b){return b===l||b===j.eof||vt(b)?(t.exit(z.chunkString),h(b)):(t.consume(b),b===j.backslash?m:p)}function m(b){return b===l||b===j.backslash?(t.consume(b),p):p(b)}}function $p(t,e){let n;return r;function r(s){return vt(s)?(t.enter(z.lineEnding),t.consume(s),t.exit(z.lineEnding),n=!0,r):hn(s)?xn(t,r,n?z.linePrefix:z.lineSuffix)(s):e(s)}}const bue={name:"definition",tokenize:yue},xue={partial:!0,tokenize:vue};function yue(t,e,n){const r=this;let s;return o;function o(_){return t.enter(z.definition),l(_)}function l(_){return we(_===j.leftSquareBracket,"expected `[`"),sB.call(r,t,c,n,z.definitionLabel,z.definitionLabelMarker,z.definitionLabelString)(_)}function c(_){return s=to(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),_===j.colon?(t.enter(z.definitionMarker),t.consume(_),t.exit(z.definitionMarker),f):n(_)}function f(_){return Wn(_)?$p(t,h)(_):h(_)}function h(_){return rB(t,p,n,z.definitionDestination,z.definitionDestinationLiteral,z.definitionDestinationLiteralMarker,z.definitionDestinationRaw,z.definitionDestinationString)(_)}function p(_){return t.attempt(xue,m,m)(_)}function m(_){return hn(_)?xn(t,b,z.whitespace)(_):b(_)}function b(_){return _===j.eof||vt(_)?(t.exit(z.definition),r.parser.defined.push(s),e(_)):n(_)}}function vue(t,e,n){return r;function r(c){return Wn(c)?$p(t,s)(c):n(c)}function s(c){return iB(t,o,n,z.definitionTitle,z.definitionTitleMarker,z.definitionTitleString)(c)}function o(c){return hn(c)?xn(t,l,z.whitespace)(c):l(c)}function l(c){return c===j.eof||vt(c)?e(c):n(c)}}const _ue={name:"hardBreakEscape",tokenize:wue};function wue(t,e,n){return r;function r(o){return we(o===j.backslash,"expected `\\`"),t.enter(z.hardBreakEscape),t.consume(o),s}function s(o){return vt(o)?(t.exit(z.hardBreakEscape),e(o)):n(o)}}const Nue={name:"headingAtx",resolve:Sue,tokenize:Eue};function Sue(t,e){let n=t.length-2,r=3,s,o;return t[r][1].type===z.whitespace&&(r+=2),n-2>r&&t[n][1].type===z.whitespace&&(n-=2),t[n][1].type===z.atxHeadingSequence&&(r===n-1||n-4>r&&t[n-2][1].type===z.whitespace)&&(n-=r+1===n?2:4),n>r&&(s={type:z.atxHeadingText,start:t[r][1].start,end:t[n][1].end},o={type:z.chunkText,start:t[r][1].start,end:t[n][1].end,contentType:dt.contentTypeText},ui(t,r,n-r+1,[["enter",s,e],["enter",o,e],["exit",o,e],["exit",s,e]])),t}function Eue(t,e,n){let r=0;return s;function s(p){return t.enter(z.atxHeading),o(p)}function o(p){return we(p===j.numberSign,"expected `#`"),t.enter(z.atxHeadingSequence),l(p)}function l(p){return p===j.numberSign&&r++<dt.atxHeadingOpeningFenceSizeMax?(t.consume(p),l):p===j.eof||Wn(p)?(t.exit(z.atxHeadingSequence),c(p)):n(p)}function c(p){return p===j.numberSign?(t.enter(z.atxHeadingSequence),f(p)):p===j.eof||vt(p)?(t.exit(z.atxHeading),e(p)):hn(p)?xn(t,c,z.whitespace)(p):(t.enter(z.atxHeadingText),h(p))}function f(p){return p===j.numberSign?(t.consume(p),f):(t.exit(z.atxHeadingSequence),c(p))}function h(p){return p===j.eof||p===j.numberSign||Wn(p)?(t.exit(z.atxHeadingText),c(p)):(t.consume(p),h)}}const Tue=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Pj=["pre","script","style","textarea"],Aue={concrete:!0,name:"htmlFlow",resolveTo:kue,tokenize:Pue},Cue={partial:!0,tokenize:Mue},Rue={partial:!0,tokenize:Due};function kue(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type===z.htmlFlow););return e>1&&t[e-2][1].type===z.linePrefix&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function Pue(t,e,n){const r=this;let s,o,l,c,f;return h;function h(B){return p(B)}function p(B){return we(B===j.lessThan,"expected `<`"),t.enter(z.htmlFlow),t.enter(z.htmlFlowData),t.consume(B),m}function m(B){return B===j.exclamationMark?(t.consume(B),b):B===j.slash?(t.consume(B),o=!0,T):B===j.questionMark?(t.consume(B),s=dt.htmlInstruction,r.interrupt?e:V):ks(B)?(we(B!==null),t.consume(B),l=String.fromCharCode(B),C):n(B)}function b(B){return B===j.dash?(t.consume(B),s=dt.htmlComment,_):B===j.leftSquareBracket?(t.consume(B),s=dt.htmlCdata,c=0,E):ks(B)?(t.consume(B),s=dt.htmlDeclaration,r.interrupt?e:V):n(B)}function _(B){return B===j.dash?(t.consume(B),r.interrupt?e:V):n(B)}function E(B){const ce=dt.cdataOpeningString;return B===ce.charCodeAt(c++)?(t.consume(B),c===ce.length?r.interrupt?e:de:E):n(B)}function T(B){return ks(B)?(we(B!==null),t.consume(B),l=String.fromCharCode(B),C):n(B)}function C(B){if(B===j.eof||B===j.slash||B===j.greaterThan||Wn(B)){const ce=B===j.slash,Z=l.toLowerCase();return!ce&&!o&&Pj.includes(Z)?(s=dt.htmlRaw,r.interrupt?e(B):de(B)):Tue.includes(l.toLowerCase())?(s=dt.htmlBasic,ce?(t.consume(B),D):r.interrupt?e(B):de(B)):(s=dt.htmlComplete,r.interrupt&&!r.parser.lazy[r.now().line]?n(B):o?M(B):P(B))}return B===j.dash||hs(B)?(t.consume(B),l+=String.fromCharCode(B),C):n(B)}function D(B){return B===j.greaterThan?(t.consume(B),r.interrupt?e:de):n(B)}function M(B){return hn(B)?(t.consume(B),M):K(B)}function P(B){return B===j.slash?(t.consume(B),K):B===j.colon||B===j.underscore||ks(B)?(t.consume(B),U):hn(B)?(t.consume(B),P):K(B)}function U(B){return B===j.dash||B===j.dot||B===j.colon||B===j.underscore||hs(B)?(t.consume(B),U):L(B)}function L(B){return B===j.equalsTo?(t.consume(B),O):hn(B)?(t.consume(B),L):P(B)}function O(B){return B===j.eof||B===j.lessThan||B===j.equalsTo||B===j.greaterThan||B===j.graveAccent?n(B):B===j.quotationMark||B===j.apostrophe?(t.consume(B),f=B,Y):hn(B)?(t.consume(B),O):ne(B)}function Y(B){return B===f?(t.consume(B),f=null,G):B===j.eof||vt(B)?n(B):(t.consume(B),Y)}function ne(B){return B===j.eof||B===j.quotationMark||B===j.apostrophe||B===j.slash||B===j.lessThan||B===j.equalsTo||B===j.greaterThan||B===j.graveAccent||Wn(B)?L(B):(t.consume(B),ne)}function G(B){return B===j.slash||B===j.greaterThan||hn(B)?P(B):n(B)}function K(B){return B===j.greaterThan?(t.consume(B),Q):n(B)}function Q(B){return B===j.eof||vt(B)?de(B):hn(B)?(t.consume(B),Q):n(B)}function de(B){return B===j.dash&&s===dt.htmlComment?(t.consume(B),ge):B===j.lessThan&&s===dt.htmlRaw?(t.consume(B),je):B===j.greaterThan&&s===dt.htmlDeclaration?(t.consume(B),ue):B===j.questionMark&&s===dt.htmlInstruction?(t.consume(B),V):B===j.rightSquareBracket&&s===dt.htmlCdata?(t.consume(B),Ke):vt(B)&&(s===dt.htmlBasic||s===dt.htmlComplete)?(t.exit(z.htmlFlowData),t.check(Cue,se,pe)(B)):B===j.eof||vt(B)?(t.exit(z.htmlFlowData),pe(B)):(t.consume(B),de)}function pe(B){return t.check(Rue,le,se)(B)}function le(B){return we(vt(B)),t.enter(z.lineEnding),t.consume(B),t.exit(z.lineEnding),ye}function ye(B){return B===j.eof||vt(B)?pe(B):(t.enter(z.htmlFlowData),de(B))}function ge(B){return B===j.dash?(t.consume(B),V):de(B)}function je(B){return B===j.slash?(t.consume(B),l="",_e):de(B)}function _e(B){if(B===j.greaterThan){const ce=l.toLowerCase();return Pj.includes(ce)?(t.consume(B),ue):de(B)}return ks(B)&&l.length<dt.htmlRawSizeMax?(we(B!==null),t.consume(B),l+=String.fromCharCode(B),_e):de(B)}function Ke(B){return B===j.rightSquareBracket?(t.consume(B),V):de(B)}function V(B){return B===j.greaterThan?(t.consume(B),ue):B===j.dash&&s===dt.htmlComment?(t.consume(B),V):de(B)}function ue(B){return B===j.eof||vt(B)?(t.exit(z.htmlFlowData),se(B)):(t.consume(B),ue)}function se(B){return t.exit(z.htmlFlow),e(B)}}function Due(t,e,n){const r=this;return s;function s(l){return vt(l)?(t.enter(z.lineEnding),t.consume(l),t.exit(z.lineEnding),o):n(l)}function o(l){return r.parser.lazy[r.now().line]?n(l):e(l)}}function Mue(t,e,n){return r;function r(s){return we(vt(s),"expected a line ending"),t.enter(z.lineEnding),t.consume(s),t.exit(z.lineEnding),t.attempt(Pm,e,n)}}const jue={name:"htmlText",tokenize:Iue};function Iue(t,e,n){const r=this;let s,o,l;return c;function c(V){return we(V===j.lessThan,"expected `<`"),t.enter(z.htmlText),t.enter(z.htmlTextData),t.consume(V),f}function f(V){return V===j.exclamationMark?(t.consume(V),h):V===j.slash?(t.consume(V),L):V===j.questionMark?(t.consume(V),P):ks(V)?(t.consume(V),ne):n(V)}function h(V){return V===j.dash?(t.consume(V),p):V===j.leftSquareBracket?(t.consume(V),o=0,E):ks(V)?(t.consume(V),M):n(V)}function p(V){return V===j.dash?(t.consume(V),_):n(V)}function m(V){return V===j.eof?n(V):V===j.dash?(t.consume(V),b):vt(V)?(l=m,je(V)):(t.consume(V),m)}function b(V){return V===j.dash?(t.consume(V),_):m(V)}function _(V){return V===j.greaterThan?ge(V):V===j.dash?b(V):m(V)}function E(V){const ue=dt.cdataOpeningString;return V===ue.charCodeAt(o++)?(t.consume(V),o===ue.length?T:E):n(V)}function T(V){return V===j.eof?n(V):V===j.rightSquareBracket?(t.consume(V),C):vt(V)?(l=T,je(V)):(t.consume(V),T)}function C(V){return V===j.rightSquareBracket?(t.consume(V),D):T(V)}function D(V){return V===j.greaterThan?ge(V):V===j.rightSquareBracket?(t.consume(V),D):T(V)}function M(V){return V===j.eof||V===j.greaterThan?ge(V):vt(V)?(l=M,je(V)):(t.consume(V),M)}function P(V){return V===j.eof?n(V):V===j.questionMark?(t.consume(V),U):vt(V)?(l=P,je(V)):(t.consume(V),P)}function U(V){return V===j.greaterThan?ge(V):P(V)}function L(V){return ks(V)?(t.consume(V),O):n(V)}function O(V){return V===j.dash||hs(V)?(t.consume(V),O):Y(V)}function Y(V){return vt(V)?(l=Y,je(V)):hn(V)?(t.consume(V),Y):ge(V)}function ne(V){return V===j.dash||hs(V)?(t.consume(V),ne):V===j.slash||V===j.greaterThan||Wn(V)?G(V):n(V)}function G(V){return V===j.slash?(t.consume(V),ge):V===j.colon||V===j.underscore||ks(V)?(t.consume(V),K):vt(V)?(l=G,je(V)):hn(V)?(t.consume(V),G):ge(V)}function K(V){return V===j.dash||V===j.dot||V===j.colon||V===j.underscore||hs(V)?(t.consume(V),K):Q(V)}function Q(V){return V===j.equalsTo?(t.consume(V),de):vt(V)?(l=Q,je(V)):hn(V)?(t.consume(V),Q):G(V)}function de(V){return V===j.eof||V===j.lessThan||V===j.equalsTo||V===j.greaterThan||V===j.graveAccent?n(V):V===j.quotationMark||V===j.apostrophe?(t.consume(V),s=V,pe):vt(V)?(l=de,je(V)):hn(V)?(t.consume(V),de):(t.consume(V),le)}function pe(V){return V===s?(t.consume(V),s=void 0,ye):V===j.eof?n(V):vt(V)?(l=pe,je(V)):(t.consume(V),pe)}function le(V){return V===j.eof||V===j.quotationMark||V===j.apostrophe||V===j.lessThan||V===j.equalsTo||V===j.graveAccent?n(V):V===j.slash||V===j.greaterThan||Wn(V)?G(V):(t.consume(V),le)}function ye(V){return V===j.slash||V===j.greaterThan||Wn(V)?G(V):n(V)}function ge(V){return V===j.greaterThan?(t.consume(V),t.exit(z.htmlTextData),t.exit(z.htmlText),e):n(V)}function je(V){return we(l,"expected return state"),we(vt(V),"expected eol"),t.exit(z.htmlTextData),t.enter(z.lineEnding),t.consume(V),t.exit(z.lineEnding),_e}function _e(V){return we(r.parser.constructs.disable.null,"expected `disable.null` to be populated"),hn(V)?xn(t,Ke,z.linePrefix,r.parser.constructs.disable.null.includes("codeIndented")?void 0:dt.tabSize)(V):Ke(V)}function Ke(V){return t.enter(z.htmlTextData),l(V)}}const OT={name:"labelEnd",resolveAll:Fue,resolveTo:Bue,tokenize:Lue},Oue={tokenize:zue},Uue={tokenize:$ue},Vue={tokenize:Hue};function Fue(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type===z.labelImage||r.type===z.labelLink||r.type===z.labelEnd){const s=r.type===z.labelImage?4:2;r.type=z.data,e+=s}}return t.length!==n.length&&ui(t,0,t.length,n),t}function Bue(t,e){let n=t.length,r=0,s,o,l,c;for(;n--;)if(s=t[n][1],o){if(s.type===z.link||s.type===z.labelLink&&s._inactive)break;t[n][0]==="enter"&&s.type===z.labelLink&&(s._inactive=!0)}else if(l){if(t[n][0]==="enter"&&(s.type===z.labelImage||s.type===z.labelLink)&&!s._balanced&&(o=n,s.type!==z.labelLink)){r=2;break}}else s.type===z.labelEnd&&(l=n);we(o!==void 0,"`open` is supposed to be found"),we(l!==void 0,"`close` is supposed to be found");const f={type:t[o][1].type===z.labelLink?z.link:z.image,start:{...t[o][1].start},end:{...t[t.length-1][1].end}},h={type:z.label,start:{...t[o][1].start},end:{...t[l][1].end}},p={type:z.labelText,start:{...t[o+r+2][1].end},end:{...t[l-2][1].start}};return c=[["enter",f,e],["enter",h,e]],c=Ti(c,t.slice(o+1,o+r+3)),c=Ti(c,[["enter",p,e]]),we(e.parser.constructs.insideSpan.null,"expected `insideSpan.null` to be populated"),c=Ti(c,pv(e.parser.constructs.insideSpan.null,t.slice(o+r+4,l-3),e)),c=Ti(c,[["exit",p,e],t[l-2],t[l-1],["exit",h,e]]),c=Ti(c,t.slice(l+1)),c=Ti(c,[["exit",f,e]]),ui(t,o,t.length,c),t}function Lue(t,e,n){const r=this;let s=r.events.length,o,l;for(;s--;)if((r.events[s][1].type===z.labelImage||r.events[s][1].type===z.labelLink)&&!r.events[s][1]._balanced){o=r.events[s][1];break}return c;function c(b){return we(b===j.rightSquareBracket,"expected `]`"),o?o._inactive?m(b):(l=r.parser.defined.includes(to(r.sliceSerialize({start:o.end,end:r.now()}))),t.enter(z.labelEnd),t.enter(z.labelMarker),t.consume(b),t.exit(z.labelMarker),t.exit(z.labelEnd),f):n(b)}function f(b){return b===j.leftParenthesis?t.attempt(Oue,p,l?p:m)(b):b===j.leftSquareBracket?t.attempt(Uue,p,l?h:m)(b):l?p(b):m(b)}function h(b){return t.attempt(Vue,p,m)(b)}function p(b){return e(b)}function m(b){return o._balanced=!0,n(b)}}function zue(t,e,n){return r;function r(m){return we(m===j.leftParenthesis,"expected left paren"),t.enter(z.resource),t.enter(z.resourceMarker),t.consume(m),t.exit(z.resourceMarker),s}function s(m){return Wn(m)?$p(t,o)(m):o(m)}function o(m){return m===j.rightParenthesis?p(m):rB(t,l,c,z.resourceDestination,z.resourceDestinationLiteral,z.resourceDestinationLiteralMarker,z.resourceDestinationRaw,z.resourceDestinationString,dt.linkResourceDestinationBalanceMax)(m)}function l(m){return Wn(m)?$p(t,f)(m):p(m)}function c(m){return n(m)}function f(m){return m===j.quotationMark||m===j.apostrophe||m===j.leftParenthesis?iB(t,h,n,z.resourceTitle,z.resourceTitleMarker,z.resourceTitleString)(m):p(m)}function h(m){return Wn(m)?$p(t,p)(m):p(m)}function p(m){return m===j.rightParenthesis?(t.enter(z.resourceMarker),t.consume(m),t.exit(z.resourceMarker),t.exit(z.resource),e):n(m)}}function $ue(t,e,n){const r=this;return s;function s(c){return we(c===j.leftSquareBracket,"expected left bracket"),sB.call(r,t,o,l,z.reference,z.referenceMarker,z.referenceString)(c)}function o(c){return r.parser.defined.includes(to(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(c):n(c)}function l(c){return n(c)}}function Hue(t,e,n){return r;function r(o){return we(o===j.leftSquareBracket,"expected left bracket"),t.enter(z.reference),t.enter(z.referenceMarker),t.consume(o),t.exit(z.referenceMarker),s}function s(o){return o===j.rightSquareBracket?(t.enter(z.referenceMarker),t.consume(o),t.exit(z.referenceMarker),t.exit(z.reference),e):n(o)}}const Wue={name:"labelStartImage",resolveAll:OT.resolveAll,tokenize:que};function que(t,e,n){const r=this;return s;function s(c){return we(c===j.exclamationMark,"expected `!`"),t.enter(z.labelImage),t.enter(z.labelImageMarker),t.consume(c),t.exit(z.labelImageMarker),o}function o(c){return c===j.leftSquareBracket?(t.enter(z.labelMarker),t.consume(c),t.exit(z.labelMarker),t.exit(z.labelImage),l):n(c)}function l(c){return c===j.caret&&"_hiddenFootnoteSupport"in r.parser.constructs?n(c):e(c)}}const Xue={name:"labelStartLink",resolveAll:OT.resolveAll,tokenize:Yue};function Yue(t,e,n){const r=this;return s;function s(l){return we(l===j.leftSquareBracket,"expected `[`"),t.enter(z.labelLink),t.enter(z.labelMarker),t.consume(l),t.exit(z.labelMarker),t.exit(z.labelLink),o}function o(l){return l===j.caret&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):e(l)}}const rN={name:"lineEnding",tokenize:Kue};function Kue(t,e){return n;function n(r){return we(vt(r),"expected eol"),t.enter(z.lineEnding),t.consume(r),t.exit(z.lineEnding),xn(t,e,z.linePrefix)}}const Ex={name:"thematicBreak",tokenize:Zue};function Zue(t,e,n){let r=0,s;return o;function o(h){return t.enter(z.thematicBreak),l(h)}function l(h){return we(h===j.asterisk||h===j.dash||h===j.underscore,"expected `*`, `-`, or `_`"),s=h,c(h)}function c(h){return h===s?(t.enter(z.thematicBreakSequence),f(h)):r>=dt.thematicBreakMarkerCountMin&&(h===j.eof||vt(h))?(t.exit(z.thematicBreak),e(h)):n(h)}function f(h){return h===s?(t.consume(h),r++,f):(t.exit(z.thematicBreakSequence),hn(h)?xn(t,c,z.whitespace)(h):c(h))}}const Ls={continuation:{tokenize:efe},exit:nfe,name:"list",tokenize:Jue},Gue={partial:!0,tokenize:rfe},Que={partial:!0,tokenize:tfe};function Jue(t,e,n){const r=this,s=r.events[r.events.length-1];let o=s&&s[1].type===z.linePrefix?s[2].sliceSerialize(s[1],!0).length:0,l=0;return c;function c(_){we(r.containerState,"expected state");const E=r.containerState.type||(_===j.asterisk||_===j.plusSign||_===j.dash?z.listUnordered:z.listOrdered);if(E===z.listUnordered?!r.containerState.marker||_===r.containerState.marker:tE(_)){if(r.containerState.type||(r.containerState.type=E,t.enter(E,{_container:!0})),E===z.listUnordered)return t.enter(z.listItemPrefix),_===j.asterisk||_===j.dash?t.check(Ex,n,h)(_):h(_);if(!r.interrupt||_===j.digit1)return t.enter(z.listItemPrefix),t.enter(z.listItemValue),f(_)}return n(_)}function f(_){return we(r.containerState,"expected state"),tE(_)&&++l<dt.listItemValueSizeMax?(t.consume(_),f):(!r.interrupt||l<2)&&(r.containerState.marker?_===r.containerState.marker:_===j.rightParenthesis||_===j.dot)?(t.exit(z.listItemValue),h(_)):n(_)}function h(_){return we(r.containerState,"expected state"),we(_!==j.eof,"eof (`null`) is not a marker"),t.enter(z.listItemMarker),t.consume(_),t.exit(z.listItemMarker),r.containerState.marker=r.containerState.marker||_,t.check(Pm,r.interrupt?n:p,t.attempt(Gue,b,m))}function p(_){return we(r.containerState,"expected state"),r.containerState.initialBlankLine=!0,o++,b(_)}function m(_){return hn(_)?(t.enter(z.listItemPrefixWhitespace),t.consume(_),t.exit(z.listItemPrefixWhitespace),b):n(_)}function b(_){return we(r.containerState,"expected state"),r.containerState.size=o+r.sliceSerialize(t.exit(z.listItemPrefix),!0).length,e(_)}}function efe(t,e,n){const r=this;return we(r.containerState,"expected state"),r.containerState._closeFlow=void 0,t.check(Pm,s,o);function s(c){return we(r.containerState,"expected state"),we(typeof r.containerState.size=="number","expected size"),r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,xn(t,e,z.listItemIndent,r.containerState.size+1)(c)}function o(c){return we(r.containerState,"expected state"),r.containerState.furtherBlankLines||!hn(c)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,l(c)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(Que,e,l)(c))}function l(c){return we(r.containerState,"expected state"),r.containerState._closeFlow=!0,r.interrupt=void 0,we(r.parser.constructs.disable.null,"expected `disable.null` to be populated"),xn(t,t.attempt(Ls,e,n),z.linePrefix,r.parser.constructs.disable.null.includes("codeIndented")?void 0:dt.tabSize)(c)}}function tfe(t,e,n){const r=this;return we(r.containerState,"expected state"),we(typeof r.containerState.size=="number","expected size"),xn(t,s,z.listItemIndent,r.containerState.size+1);function s(o){we(r.containerState,"expected state");const l=r.events[r.events.length-1];return l&&l[1].type===z.listItemIndent&&l[2].sliceSerialize(l[1],!0).length===r.containerState.size?e(o):n(o)}}function nfe(t){we(this.containerState,"expected state"),we(typeof this.containerState.type=="string","expected type"),t.exit(this.containerState.type)}function rfe(t,e,n){const r=this;return we(r.parser.constructs.disable.null,"expected `disable.null` to be populated"),xn(t,s,z.listItemPrefixWhitespace,r.parser.constructs.disable.null.includes("codeIndented")?void 0:dt.tabSize+1);function s(o){const l=r.events[r.events.length-1];return!hn(o)&&l&&l[1].type===z.listItemPrefixWhitespace?e(o):n(o)}}const Dj={name:"setextUnderline",resolveTo:sfe,tokenize:ife};function sfe(t,e){let n=t.length,r,s,o;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type===z.content){r=n;break}t[n][1].type===z.paragraph&&(s=n)}else t[n][1].type===z.content&&t.splice(n,1),!o&&t[n][1].type===z.definition&&(o=n);we(s!==void 0,"expected a `text` index to be found"),we(r!==void 0,"expected a `text` index to be found"),we(t[r][2]===e,"enter context should be same"),we(t[t.length-1][2]===e,"enter context should be same");const l={type:z.setextHeading,start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[s][1].type=z.setextHeadingText,o?(t.splice(s,0,["enter",l,e]),t.splice(o+1,0,["exit",t[r][1],e]),t[r][1].end={...t[o][1].end}):t[r][1]=l,t.push(["exit",l,e]),t}function ife(t,e,n){const r=this;let s;return o;function o(h){let p=r.events.length,m;for(we(h===j.dash||h===j.equalsTo,"expected `=` or `-`");p--;)if(r.events[p][1].type!==z.lineEnding&&r.events[p][1].type!==z.linePrefix&&r.events[p][1].type!==z.content){m=r.events[p][1].type===z.paragraph;break}return!r.parser.lazy[r.now().line]&&(r.interrupt||m)?(t.enter(z.setextHeadingLine),s=h,l(h)):n(h)}function l(h){return t.enter(z.setextHeadingLineSequence),c(h)}function c(h){return h===s?(t.consume(h),c):(t.exit(z.setextHeadingLineSequence),hn(h)?xn(t,f,z.lineSuffix)(h):f(h))}function f(h){return h===j.eof||vt(h)?(t.exit(z.setextHeadingLine),e(h)):n(h)}}const ofe={tokenize:afe};function afe(t){const e=this,n=t.attempt(Pm,r,t.attempt(this.parser.constructs.flowInitial,s,xn(t,t.attempt(this.parser.constructs.flow,s,t.attempt(due,s)),z.linePrefix)));return n;function r(o){if(we(o===j.eof||vt(o),"expected eol or eof"),o===j.eof){t.consume(o);return}return t.enter(z.lineEndingBlank),t.consume(o),t.exit(z.lineEndingBlank),e.currentConstruct=void 0,n}function s(o){if(we(o===j.eof||vt(o),"expected eol or eof"),o===j.eof){t.consume(o);return}return t.enter(z.lineEnding),t.consume(o),t.exit(z.lineEnding),e.currentConstruct=void 0,n}}const lfe={resolveAll:aB()},cfe=oB("string"),ufe=oB("text");function oB(t){return{resolveAll:aB(t==="text"?ffe:void 0),tokenize:e};function e(n){const r=this,s=this.parser.constructs[t],o=n.attempt(s,l,c);return l;function l(p){return h(p)?o(p):c(p)}function c(p){if(p===j.eof){n.consume(p);return}return n.enter(z.data),n.consume(p),f}function f(p){return h(p)?(n.exit(z.data),o(p)):(n.consume(p),f)}function h(p){if(p===j.eof)return!0;const m=s[p];let b=-1;if(m)for(we(Array.isArray(m),"expected `disable.null` to be populated");++b<m.length;){const _=m[b];if(!_.previous||_.previous.call(r,r.previous))return!0}return!1}}}function aB(t){return e;function e(n,r){let s=-1,o;for(;++s<=n.length;)o===void 0?n[s]&&n[s][1].type===z.data&&(o=s,s++):(!n[s]||n[s][1].type!==z.data)&&(s!==o+2&&(n[o][1].end=n[s-1][1].end,n.splice(o+2,s-o-2),s=o+2),o=void 0);return t?t(n,r):n}}function ffe(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type===z.lineEnding)&&t[n-1][1].type===z.data){const r=t[n-1][1],s=e.sliceStream(r);let o=s.length,l=-1,c=0,f;for(;o--;){const h=s[o];if(typeof h=="string"){for(l=h.length;h.charCodeAt(l-1)===j.space;)c++,l--;if(l)break;l=-1}else if(h===j.horizontalTab)f=!0,c++;else if(h!==j.virtualSpace){o++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(c=0),c){const h={type:n===t.length||f||c<dt.hardBreakPrefixSizeMin?z.lineSuffix:z.hardBreakTrailing,start:{_bufferIndex:o?l:r.start._bufferIndex+l,_index:r.start._index+o,line:r.end.line,column:r.end.column-c,offset:r.end.offset-c},end:{...r.end}};r.end={...h.start},r.start.offset===r.end.offset?Object.assign(r,h):(t.splice(n,0,["enter",h,e],["exit",h,e]),n+=2)}n++}return t}const dfe={[j.asterisk]:Ls,[j.plusSign]:Ls,[j.dash]:Ls,[j.digit0]:Ls,[j.digit1]:Ls,[j.digit2]:Ls,[j.digit3]:Ls,[j.digit4]:Ls,[j.digit5]:Ls,[j.digit6]:Ls,[j.digit7]:Ls,[j.digit8]:Ls,[j.digit9]:Ls,[j.greaterThan]:Q6},hfe={[j.leftSquareBracket]:bue},pfe={[j.horizontalTab]:nN,[j.virtualSpace]:nN,[j.space]:nN},mfe={[j.numberSign]:Nue,[j.asterisk]:Ex,[j.dash]:[Dj,Ex],[j.lessThan]:Aue,[j.equalsTo]:Dj,[j.underscore]:Ex,[j.graveAccent]:kj,[j.tilde]:kj},gfe={[j.ampersand]:eB,[j.backslash]:J6},bfe={[j.carriageReturn]:rN,[j.lineFeed]:rN,[j.carriageReturnLineFeed]:rN,[j.exclamationMark]:Wue,[j.ampersand]:eB,[j.asterisk]:nE,[j.lessThan]:[Yce,jue],[j.leftSquareBracket]:Xue,[j.backslash]:[_ue,J6],[j.rightSquareBracket]:OT,[j.underscore]:nE,[j.graveAccent]:aue},xfe={null:[nE,lfe]},yfe={null:[j.asterisk,j.underscore]},vfe={null:[]},_fe=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:yfe,contentInitial:hfe,disable:vfe,document:dfe,flow:mfe,flowInitial:pfe,insideSpan:xfe,string:gfe,text:bfe},Symbol.toStringTag,{value:"Module"}));var sx={exports:{}},sN,Mj;function wfe(){if(Mj)return sN;Mj=1;var t=1e3,e=t*60,n=e*60,r=n*24,s=r*7,o=r*365.25;sN=function(p,m){m=m||{};var b=typeof p;if(b==="string"&&p.length>0)return l(p);if(b==="number"&&isFinite(p))return m.long?f(p):c(p);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(p))};function l(p){if(p=String(p),!(p.length>100)){var m=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(p);if(m){var b=parseFloat(m[1]),_=(m[2]||"ms").toLowerCase();switch(_){case"years":case"year":case"yrs":case"yr":case"y":return b*o;case"weeks":case"week":case"w":return b*s;case"days":case"day":case"d":return b*r;case"hours":case"hour":case"hrs":case"hr":case"h":return b*n;case"minutes":case"minute":case"mins":case"min":case"m":return b*e;case"seconds":case"second":case"secs":case"sec":case"s":return b*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return b;default:return}}}}function c(p){var m=Math.abs(p);return m>=r?Math.round(p/r)+"d":m>=n?Math.round(p/n)+"h":m>=e?Math.round(p/e)+"m":m>=t?Math.round(p/t)+"s":p+"ms"}function f(p){var m=Math.abs(p);return m>=r?h(p,m,r,"day"):m>=n?h(p,m,n,"hour"):m>=e?h(p,m,e,"minute"):m>=t?h(p,m,t,"second"):p+" ms"}function h(p,m,b,_){var E=m>=b*1.5;return Math.round(p/b)+" "+_+(E?"s":"")}return sN}var iN,jj;function Nfe(){if(jj)return iN;jj=1;function t(e){r.debug=r,r.default=r,r.coerce=h,r.disable=c,r.enable=o,r.enabled=f,r.humanize=wfe(),r.destroy=p,Object.keys(e).forEach(m=>{r[m]=e[m]}),r.names=[],r.skips=[],r.formatters={};function n(m){let b=0;for(let _=0;_<m.length;_++)b=(b<<5)-b+m.charCodeAt(_),b|=0;return r.colors[Math.abs(b)%r.colors.length]}r.selectColor=n;function r(m){let b,_=null,E,T;function C(...D){if(!C.enabled)return;const M=C,P=Number(new Date),U=P-(b||P);M.diff=U,M.prev=b,M.curr=P,b=P,D[0]=r.coerce(D[0]),typeof D[0]!="string"&&D.unshift("%O");let L=0;D[0]=D[0].replace(/%([a-zA-Z%])/g,(Y,ne)=>{if(Y==="%%")return"%";L++;const G=r.formatters[ne];if(typeof G=="function"){const K=D[L];Y=G.call(M,K),D.splice(L,1),L--}return Y}),r.formatArgs.call(M,D),(M.log||r.log).apply(M,D)}return C.namespace=m,C.useColors=r.useColors(),C.color=r.selectColor(m),C.extend=s,C.destroy=r.destroy,Object.defineProperty(C,"enabled",{enumerable:!0,configurable:!1,get:()=>_!==null?_:(E!==r.namespaces&&(E=r.namespaces,T=r.enabled(m)),T),set:D=>{_=D}}),typeof r.init=="function"&&r.init(C),C}function s(m,b){const _=r(this.namespace+(typeof b>"u"?":":b)+m);return _.log=this.log,_}function o(m){r.save(m),r.namespaces=m,r.names=[],r.skips=[];const b=(typeof m=="string"?m:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const _ of b)_[0]==="-"?r.skips.push(_.slice(1)):r.names.push(_)}function l(m,b){let _=0,E=0,T=-1,C=0;for(;_<m.length;)if(E<b.length&&(b[E]===m[_]||b[E]==="*"))b[E]==="*"?(T=E,C=_,E++):(_++,E++);else if(T!==-1)E=T+1,C++,_=C;else return!1;for(;E<b.length&&b[E]==="*";)E++;return E===b.length}function c(){const m=[...r.names,...r.skips.map(b=>"-"+b)].join(",");return r.enable(""),m}function f(m){for(const b of r.skips)if(l(m,b))return!1;for(const b of r.names)if(l(m,b))return!0;return!1}function h(m){return m instanceof Error?m.stack||m.message:m}function p(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}return iN=t,iN}var Ij;function Sfe(){return Ij||(Ij=1,function(t,e){var n={};e.formatArgs=s,e.save=o,e.load=l,e.useColors=r,e.storage=c(),e.destroy=(()=>{let h=!1;return()=>{h||(h=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let h;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(h=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(h[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function s(h){if(h[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+h[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const p="color: "+this.color;h.splice(1,0,p,"color: inherit");let m=0,b=0;h[0].replace(/%[a-zA-Z%]/g,_=>{_!=="%%"&&(m++,_==="%c"&&(b=m))}),h.splice(b,0,p)}e.log=console.debug||console.log||(()=>{});function o(h){try{h?e.storage.setItem("debug",h):e.storage.removeItem("debug")}catch{}}function l(){let h;try{h=e.storage.getItem("debug")||e.storage.getItem("DEBUG")}catch{}return!h&&typeof process<"u"&&"env"in process&&(h=n.DEBUG),h}function c(){try{return localStorage}catch{}}t.exports=Nfe()(e);const{formatters:f}=t.exports;f.j=function(h){try{return JSON.stringify(h)}catch(p){return"[UnexpectedJSONParseError]: "+p.message}}}(sx,sx.exports)),sx.exports}var Efe=Sfe();const Tfe=bu(Efe),Oc=Tfe("micromark");function Afe(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const s={},o=[];let l=[],c=[],f=!0;const h={attempt:G(Y),check:G(ne),consume:U,enter:L,exit:O,interrupt:G(ne,{interrupt:!0})},p={code:j.eof,containerState:{},defineSkip:D,events:[],now:C,parser:t,previous:j.eof,sliceSerialize:E,sliceStream:T,write:_};let m=e.tokenize.call(p,h),b;return e.resolveAll&&o.push(e),p;function _(pe){return l=Ti(l,pe),M(),l[l.length-1]!==j.eof?[]:(K(e,0),p.events=pv(o,p.events,p),p.events)}function E(pe,le){return Rfe(T(pe),le)}function T(pe){return Cfe(l,pe)}function C(){const{_bufferIndex:pe,_index:le,line:ye,column:ge,offset:je}=r;return{_bufferIndex:pe,_index:le,line:ye,column:ge,offset:je}}function D(pe){s[pe.line]=pe.column,de(),Oc("position: define skip: `%j`",r)}function M(){let pe;for(;r._index<l.length;){const le=l[r._index];if(typeof le=="string")for(pe=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===pe&&r._bufferIndex<le.length;)P(le.charCodeAt(r._bufferIndex));else P(le)}}function P(pe){we(f===!0,"expected character to be consumed"),f=void 0,Oc("main: passing `%s` to %s",pe,m&&m.name),b=pe,we(typeof m=="function","expected state"),m=m(pe)}function U(pe){we(pe===b,"expected given code to equal expected code"),Oc("consume: `%s`",pe),we(f===void 0,"expected code to not have been consumed: this might be because `return x(code)` instead of `return x` was used"),we(pe===null?p.events.length===0||p.events[p.events.length-1][0]==="exit":p.events[p.events.length-1][0]==="enter","expected last token to be open"),vt(pe)?(r.line++,r.column=1,r.offset+=pe===j.carriageReturnLineFeed?2:1,de(),Oc("position: after eol: `%j`",r)):pe!==j.virtualSpace&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===l[r._index].length&&(r._bufferIndex=-1,r._index++)),p.previous=pe,f=!0}function L(pe,le){const ye=le||{};return ye.type=pe,ye.start=C(),we(typeof pe=="string","expected string type"),we(pe.length>0,"expected non-empty string"),Oc("enter: `%s`",pe),p.events.push(["enter",ye,p]),c.push(ye),ye}function O(pe){we(typeof pe=="string","expected string type"),we(pe.length>0,"expected non-empty string");const le=c.pop();return we(le,"cannot close w/o open tokens"),le.end=C(),we(pe===le.type,"expected exit token to match current token"),we(!(le.start._index===le.end._index&&le.start._bufferIndex===le.end._bufferIndex),"expected non-empty token (`"+pe+"`)"),Oc("exit: `%s`",le.type),p.events.push(["exit",le,p]),le}function Y(pe,le){K(pe,le.from)}function ne(pe,le){le.restore()}function G(pe,le){return ye;function ye(ge,je,_e){let Ke,V,ue,se;return Array.isArray(ge)?ce(ge):"tokenize"in ge?ce([ge]):B(ge);function B(oe){return Pe;function Pe(qe){const Ye=qe!==null&&oe[qe],tt=qe!==null&&oe.null,Ue=[...Array.isArray(Ye)?Ye:Ye?[Ye]:[],...Array.isArray(tt)?tt:tt?[tt]:[]];return ce(Ue)(qe)}}function ce(oe){return Ke=oe,V=0,oe.length===0?(we(_e,"expected `bogusState` to be given"),_e):Z(oe[V])}function Z(oe){return Pe;function Pe(qe){return se=Q(),ue=oe,oe.partial||(p.currentConstruct=oe),we(p.parser.constructs.disable.null,"expected `disable.null` to be populated"),oe.name&&p.parser.constructs.disable.null.includes(oe.name)?he(qe):oe.tokenize.call(le?Object.assign(Object.create(p),le):p,h,xe,he)(qe)}}function xe(oe){return we(oe===b,"expected code"),f=!0,pe(ue,se),je}function he(oe){return we(oe===b,"expected code"),f=!0,se.restore(),++V<Ke.length?Z(Ke[V]):_e}}}function K(pe,le){pe.resolveAll&&!o.includes(pe)&&o.push(pe),pe.resolve&&ui(p.events,le,p.events.length-le,pe.resolve(p.events.slice(le),p)),pe.resolveTo&&(p.events=pe.resolveTo(p.events,p)),we(pe.partial||p.events.length===0||p.events[p.events.length-1][0]==="exit","expected last token to end")}function Q(){const pe=C(),le=p.previous,ye=p.currentConstruct,ge=p.events.length,je=Array.from(c);return{from:ge,restore:_e};function _e(){r=pe,p.previous=le,p.currentConstruct=ye,p.events.length=ge,c=je,de(),Oc("position: restore: `%j`",r)}}function de(){r.line in s&&r.column<2&&(r.column=s[r.line],r.offset+=s[r.line]-1)}}function Cfe(t,e){const n=e.start._index,r=e.start._bufferIndex,s=e.end._index,o=e.end._bufferIndex;let l;if(n===s)we(o>-1,"expected non-negative end buffer index"),we(r>-1,"expected non-negative start buffer index"),l=[t[n].slice(r,o)];else{if(l=t.slice(n,s),r>-1){const c=l[0];typeof c=="string"?l[0]=c.slice(r):(we(r===0,"expected `startBufferIndex` to be `0`"),l.shift())}o>0&&l.push(t[s].slice(0,o))}return l}function Rfe(t,e){let n=-1;const r=[];let s;for(;++n<t.length;){const o=t[n];let l;if(typeof o=="string")l=o;else switch(o){case j.carriageReturn:{l=Co.cr;break}case j.lineFeed:{l=Co.lf;break}case j.carriageReturnLineFeed:{l=Co.cr+Co.lf;break}case j.horizontalTab:{l=e?Co.space:Co.ht;break}case j.virtualSpace:{if(!e&&s)continue;l=Co.space;break}default:we(typeof o=="number","expected number"),l=String.fromCharCode(o)}s=o===j.horizontalTab,r.push(l)}return r.join("")}function kfe(t){const r={constructs:Z6([_fe,...(t||{}).extensions||[]]),content:s(Lce),defined:[],document:s($ce),flow:s(ofe),lazy:{},string:s(cfe),text:s(ufe)};return r;function s(o){return l;function l(c){return Afe(r,o,c)}}}function Pfe(t){for(;!nB(t););return t}const Oj=/[\0\t\n\r]/g;function Dfe(){let t=1,e="",n=!0,r;return s;function s(o,l,c){const f=[];let h,p,m,b,_;for(o=e+(typeof o=="string"?o.toString():new TextDecoder(l||void 0).decode(o)),m=0,e="",n&&(o.charCodeAt(0)===j.byteOrderMarker&&m++,n=void 0);m<o.length;){if(Oj.lastIndex=m,h=Oj.exec(o),b=h&&h.index!==void 0?h.index:o.length,_=o.charCodeAt(b),!h){e=o.slice(m);break}if(_===j.lf&&m===b&&r)f.push(j.carriageReturnLineFeed),r=void 0;else switch(r&&(f.push(j.carriageReturn),r=void 0),m<b&&(f.push(o.slice(m,b)),t+=b-m),_){case j.nul:{f.push(j.replacementCharacter),t++;break}case j.ht:{for(p=Math.ceil(t/dt.tabSize)*dt.tabSize,f.push(j.horizontalTab);t++<p;)f.push(j.virtualSpace);break}case j.lf:{f.push(j.lineFeed),t=1;break}default:r=!0,t=1}m=b+1}return c&&(r&&f.push(j.carriageReturn),e&&f.push(e),f.push(j.eof)),f}}const Mfe=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function jfe(t){return t.replace(Mfe,Ife)}function Ife(t,e,n){if(e)return e;if(n.charCodeAt(0)===j.numberSign){const s=n.charCodeAt(1),o=s===j.lowercaseX||s===j.uppercaseX;return G6(n.slice(o?2:1),o?dt.numericBaseHexadecimal:dt.numericBaseDecimal)}return IT(n)||t}const lB={}.hasOwnProperty;function Ofe(t,e,n){return typeof e!="string"&&(n=e,e=void 0),Ufe(n)(Pfe(kfe(n).document().write(Dfe()(t,e,!0))))}function Ufe(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(Ot),autolinkProtocol:G,autolinkEmail:G,atxHeading:o(lt),blockQuote:o(qe),characterEscape:G,characterReference:G,codeFenced:o(Ye),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:o(Ye,l),codeText:o(tt,l),codeTextData:G,data:G,codeFlowValue:G,definition:o(Ue),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:o(nt),hardBreakEscape:o(gt),hardBreakTrailing:o(gt),htmlFlow:o(Lt,l),htmlFlowData:G,htmlText:o(Lt,l),htmlTextData:G,image:o(Yt),label:l,link:o(Ot),listItem:o(ar),listItemValue:b,listOrdered:o(Pt,m),listUnordered:o(Pt),paragraph:o(An),reference:B,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:o(lt),strong:o(Wr),thematicBreak:o(Ho)},exit:{atxHeading:f(),atxHeadingSequence:L,autolink:f(),autolinkEmail:Pe,autolinkProtocol:oe,blockQuote:f(),characterEscapeValue:K,characterReferenceMarkerHexadecimal:Z,characterReferenceMarkerNumeric:Z,characterReferenceValue:xe,characterReference:he,codeFenced:f(C),codeFencedFence:T,codeFencedFenceInfo:_,codeFencedFenceMeta:E,codeFlowValue:K,codeIndented:f(D),codeText:f(ye),codeTextData:K,data:K,definition:f(),definitionDestinationString:U,definitionLabelString:M,definitionTitleString:P,emphasis:f(),hardBreakEscape:f(de),hardBreakTrailing:f(de),htmlFlow:f(pe),htmlFlowData:K,htmlText:f(le),htmlTextData:K,image:f(je),label:Ke,labelText:_e,lineEnding:Q,link:f(ge),listItem:f(),listOrdered:f(),listUnordered:f(),paragraph:f(),referenceString:ce,resourceDestinationString:V,resourceTitleString:ue,resource:se,setextHeading:f(ne),setextHeadingLineSequence:Y,setextHeadingText:O,strong:f(),thematicBreak:f()}};cB(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(He){let $e={type:"root",children:[]};const xt={stack:[$e],tokenStack:[],config:e,enter:c,exit:h,buffer:l,resume:p,data:n},zt=[];let un=-1;for(;++un<He.length;)if(He[un][1].type===z.listOrdered||He[un][1].type===z.listUnordered)if(He[un][0]==="enter")zt.push(un);else{const lr=zt.pop();we(typeof lr=="number","expected list ot be open"),un=s(He,lr,un)}for(un=-1;++un<He.length;){const lr=e[He[un][0]];lB.call(lr,He[un][1].type)&&lr[He[un][1].type].call(Object.assign({sliceSerialize:He[un][2].sliceSerialize},xt),He[un][1])}if(xt.tokenStack.length>0){const lr=xt.tokenStack[xt.tokenStack.length-1];(lr[1]||Uj).call(xt,void 0,lr[0])}for($e.position={start:dl(He.length>0?He[0][1].start:{line:1,column:1,offset:0}),end:dl(He.length>0?He[He.length-2][1].end:{line:1,column:1,offset:0})},un=-1;++un<e.transforms.length;)$e=e.transforms[un]($e)||$e;return $e}function s(He,$e,xt){let zt=$e-1,un=-1,lr=!1,rs,Sr,Er,Mr;for(;++zt<=xt;){const Qn=He[zt];switch(Qn[1].type){case z.listUnordered:case z.listOrdered:case z.blockQuote:{Qn[0]==="enter"?un++:un--,Mr=void 0;break}case z.lineEndingBlank:{Qn[0]==="enter"&&(rs&&!Mr&&!un&&!Er&&(Er=zt),Mr=void 0);break}case z.linePrefix:case z.listItemValue:case z.listItemMarker:case z.listItemPrefix:case z.listItemPrefixWhitespace:break;default:Mr=void 0}if(!un&&Qn[0]==="enter"&&Qn[1].type===z.listItemPrefix||un===-1&&Qn[0]==="exit"&&(Qn[1].type===z.listUnordered||Qn[1].type===z.listOrdered)){if(rs){let $=zt;for(Sr=void 0;$--;){const Ee=He[$];if(Ee[1].type===z.lineEnding||Ee[1].type===z.lineEndingBlank){if(Ee[0]==="exit")continue;Sr&&(He[Sr][1].type=z.lineEndingBlank,lr=!0),Ee[1].type=z.lineEnding,Sr=$}else if(!(Ee[1].type===z.linePrefix||Ee[1].type===z.blockQuotePrefix||Ee[1].type===z.blockQuotePrefixWhitespace||Ee[1].type===z.blockQuoteMarker||Ee[1].type===z.listItemIndent))break}Er&&(!Sr||Er<Sr)&&(rs._spread=!0),rs.end=Object.assign({},Sr?He[Sr][1].start:Qn[1].end),He.splice(Sr||zt,0,["exit",rs,Qn[2]]),zt++,xt++}if(Qn[1].type===z.listItemPrefix){const $={type:"listItem",_spread:!1,start:Object.assign({},Qn[1].start),end:void 0};rs=$,He.splice(zt,0,["enter",$,Qn[2]]),zt++,xt++,Er=void 0,Mr=!0}}}return He[$e][1]._spread=lr,xt}function o(He,$e){return xt;function xt(zt){c.call(this,He(zt),zt),$e&&$e.call(this,zt)}}function l(){this.stack.push({type:"fragment",children:[]})}function c(He,$e,xt){const zt=this.stack[this.stack.length-1];we(zt,"expected `parent`"),we("children"in zt,"expected `parent`"),zt.children.push(He),this.stack.push(He),this.tokenStack.push([$e,xt||void 0]),He.position={start:dl($e.start),end:void 0}}function f(He){return $e;function $e(xt){He&&He.call(this,xt),h.call(this,xt)}}function h(He,$e){const xt=this.stack.pop();we(xt,"expected `node`");const zt=this.tokenStack.pop();if(zt)zt[0].type!==He.type&&($e?$e.call(this,He,zt[0]):(zt[1]||Uj).call(this,He,zt[0]));else throw new Error("Cannot close `"+He.type+"` ("+zp({start:He.start,end:He.end})+"): it’s not open");we(xt.type!=="fragment","unexpected fragment `exit`ed"),we(xt.position,"expected `position` to be defined"),xt.position.end=dl(He.end)}function p(){return jT(this.stack.pop())}function m(){this.data.expectingFirstListItemValue=!0}function b(He){if(this.data.expectingFirstListItemValue){const $e=this.stack[this.stack.length-2];we($e,"expected nodes on stack"),we($e.type==="list","expected list on stack"),$e.start=Number.parseInt(this.sliceSerialize(He),dt.numericBaseDecimal),this.data.expectingFirstListItemValue=void 0}}function _(){const He=this.resume(),$e=this.stack[this.stack.length-1];we($e,"expected node on stack"),we($e.type==="code","expected code on stack"),$e.lang=He}function E(){const He=this.resume(),$e=this.stack[this.stack.length-1];we($e,"expected node on stack"),we($e.type==="code","expected code on stack"),$e.meta=He}function T(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function C(){const He=this.resume(),$e=this.stack[this.stack.length-1];we($e,"expected node on stack"),we($e.type==="code","expected code on stack"),$e.value=He.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function D(){const He=this.resume(),$e=this.stack[this.stack.length-1];we($e,"expected node on stack"),we($e.type==="code","expected code on stack"),$e.value=He.replace(/(\r?\n|\r)$/g,"")}function M(He){const $e=this.resume(),xt=this.stack[this.stack.length-1];we(xt,"expected node on stack"),we(xt.type==="definition","expected definition on stack"),xt.label=$e,xt.identifier=to(this.sliceSerialize(He)).toLowerCase()}function P(){const He=this.resume(),$e=this.stack[this.stack.length-1];we($e,"expected node on stack"),we($e.type==="definition","expected definition on stack"),$e.title=He}function U(){const He=this.resume(),$e=this.stack[this.stack.length-1];we($e,"expected node on stack"),we($e.type==="definition","expected definition on stack"),$e.url=He}function L(He){const $e=this.stack[this.stack.length-1];if(we($e,"expected node on stack"),we($e.type==="heading","expected heading on stack"),!$e.depth){const xt=this.sliceSerialize(He).length;we(xt===1||xt===2||xt===3||xt===4||xt===5||xt===6,"expected `depth` between `1` and `6`"),$e.depth=xt}}function O(){this.data.setextHeadingSlurpLineEnding=!0}function Y(He){const $e=this.stack[this.stack.length-1];we($e,"expected node on stack"),we($e.type==="heading","expected heading on stack"),$e.depth=this.sliceSerialize(He).codePointAt(0)===j.equalsTo?1:2}function ne(){this.data.setextHeadingSlurpLineEnding=void 0}function G(He){const $e=this.stack[this.stack.length-1];we($e,"expected node on stack"),we("children"in $e,"expected parent on stack");const xt=$e.children;let zt=xt[xt.length-1];(!zt||zt.type!=="text")&&(zt=ms(),zt.position={start:dl(He.start),end:void 0},xt.push(zt)),this.stack.push(zt)}function K(He){const $e=this.stack.pop();we($e,"expected a `node` to be on the stack"),we("value"in $e,"expected a `literal` to be on the stack"),we($e.position,"expected `node` to have an open position"),$e.value+=this.sliceSerialize(He),$e.position.end=dl(He.end)}function Q(He){const $e=this.stack[this.stack.length-1];if(we($e,"expected `node`"),this.data.atHardBreak){we("children"in $e,"expected `parent`");const xt=$e.children[$e.children.length-1];we(xt.position,"expected tail to have a starting position"),xt.position.end=dl(He.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes($e.type)&&(G.call(this,He),K.call(this,He))}function de(){this.data.atHardBreak=!0}function pe(){const He=this.resume(),$e=this.stack[this.stack.length-1];we($e,"expected node on stack"),we($e.type==="html","expected html on stack"),$e.value=He}function le(){const He=this.resume(),$e=this.stack[this.stack.length-1];we($e,"expected node on stack"),we($e.type==="html","expected html on stack"),$e.value=He}function ye(){const He=this.resume(),$e=this.stack[this.stack.length-1];we($e,"expected node on stack"),we($e.type==="inlineCode","expected inline code on stack"),$e.value=He}function ge(){const He=this.stack[this.stack.length-1];if(we(He,"expected node on stack"),we(He.type==="link","expected link on stack"),this.data.inReference){const $e=this.data.referenceType||"shortcut";He.type+="Reference",He.referenceType=$e,delete He.url,delete He.title}else delete He.identifier,delete He.label;this.data.referenceType=void 0}function je(){const He=this.stack[this.stack.length-1];if(we(He,"expected node on stack"),we(He.type==="image","expected image on stack"),this.data.inReference){const $e=this.data.referenceType||"shortcut";He.type+="Reference",He.referenceType=$e,delete He.url,delete He.title}else delete He.identifier,delete He.label;this.data.referenceType=void 0}function _e(He){const $e=this.sliceSerialize(He),xt=this.stack[this.stack.length-2];we(xt,"expected ancestor on stack"),we(xt.type==="image"||xt.type==="link","expected image or link on stack"),xt.label=jfe($e),xt.identifier=to($e).toLowerCase()}function Ke(){const He=this.stack[this.stack.length-1];we(He,"expected node on stack"),we(He.type==="fragment","expected fragment on stack");const $e=this.resume(),xt=this.stack[this.stack.length-1];if(we(xt,"expected node on stack"),we(xt.type==="image"||xt.type==="link","expected image or link on stack"),this.data.inReference=!0,xt.type==="link"){const zt=He.children;xt.children=zt}else xt.alt=$e}function V(){const He=this.resume(),$e=this.stack[this.stack.length-1];we($e,"expected node on stack"),we($e.type==="image"||$e.type==="link","expected image or link on stack"),$e.url=He}function ue(){const He=this.resume(),$e=this.stack[this.stack.length-1];we($e,"expected node on stack"),we($e.type==="image"||$e.type==="link","expected image or link on stack"),$e.title=He}function se(){this.data.inReference=void 0}function B(){this.data.referenceType="collapsed"}function ce(He){const $e=this.resume(),xt=this.stack[this.stack.length-1];we(xt,"expected node on stack"),we(xt.type==="image"||xt.type==="link","expected image reference or link reference on stack"),xt.label=$e,xt.identifier=to(this.sliceSerialize(He)).toLowerCase(),this.data.referenceType="full"}function Z(He){we(He.type==="characterReferenceMarkerNumeric"||He.type==="characterReferenceMarkerHexadecimal"),this.data.characterReferenceType=He.type}function xe(He){const $e=this.sliceSerialize(He),xt=this.data.characterReferenceType;let zt;if(xt)zt=G6($e,xt===z.characterReferenceMarkerNumeric?dt.numericBaseDecimal:dt.numericBaseHexadecimal),this.data.characterReferenceType=void 0;else{const lr=IT($e);we(lr!==!1,"expected reference to decode"),zt=lr}const un=this.stack[this.stack.length-1];we(un,"expected `node`"),we("value"in un,"expected `node.value`"),un.value+=zt}function he(He){const $e=this.stack.pop();we($e,"expected `node`"),we($e.position,"expected `node.position`"),$e.position.end=dl(He.end)}function oe(He){K.call(this,He);const $e=this.stack[this.stack.length-1];we($e,"expected node on stack"),we($e.type==="link","expected link on stack"),$e.url=this.sliceSerialize(He)}function Pe(He){K.call(this,He);const $e=this.stack[this.stack.length-1];we($e,"expected node on stack"),we($e.type==="link","expected link on stack"),$e.url="mailto:"+this.sliceSerialize(He)}function qe(){return{type:"blockquote",children:[]}}function Ye(){return{type:"code",lang:null,meta:null,value:""}}function tt(){return{type:"inlineCode",value:""}}function Ue(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function nt(){return{type:"emphasis",children:[]}}function lt(){return{type:"heading",depth:0,children:[]}}function gt(){return{type:"break"}}function Lt(){return{type:"html",value:""}}function Yt(){return{type:"image",title:null,url:"",alt:null}}function Ot(){return{type:"link",title:null,url:"",children:[]}}function Pt(He){return{type:"list",ordered:He.type==="listOrdered",start:null,spread:He._spread,children:[]}}function ar(He){return{type:"listItem",spread:He._spread,checked:null,children:[]}}function An(){return{type:"paragraph",children:[]}}function Wr(){return{type:"strong",children:[]}}function ms(){return{type:"text",value:""}}function Ho(){return{type:"thematicBreak"}}}function dl(t){return{line:t.line,column:t.column,offset:t.offset}}function cB(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?cB(t,r):Vfe(t,r)}}function Vfe(t,e){let n;for(n in e)if(lB.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function Uj(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+zp({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+zp({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+zp({start:e.start,end:e.end})+") is still open")}function Ffe(t){const e=this;e.parser=n;function n(r){return Ofe(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function Bfe(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function Lfe(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function zfe(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let s={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(s.data={meta:e.meta}),t.patch(e,s),s=t.applyData(e,s),s={type:"element",tagName:"pre",properties:{},children:[s]},t.patch(e,s),s}function $fe(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Hfe(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Wfe(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),s=Vd(r.toLowerCase()),o=t.footnoteOrder.indexOf(r);let l,c=t.footnoteCounts.get(r);c===void 0?(c=0,t.footnoteOrder.push(r),l=t.footnoteOrder.length):l=o+1,c+=1,t.footnoteCounts.set(r,c);const f={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+s,id:n+"fnref-"+s+(c>1?"-"+c:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(l)}]};t.patch(e,f);const h={type:"element",tagName:"sup",properties:{},children:[f]};return t.patch(e,h),t.applyData(e,h)}function qfe(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Xfe(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function uB(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const s=t.all(e),o=s[0];o&&o.type==="text"?o.value="["+o.value:s.unshift({type:"text",value:"["});const l=s[s.length-1];return l&&l.type==="text"?l.value+=r:s.push({type:"text",value:r}),s}function Yfe(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return uB(t,e);const s={src:Vd(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(s.title=r.title);const o={type:"element",tagName:"img",properties:s,children:[]};return t.patch(e,o),t.applyData(e,o)}function Kfe(t,e){const n={src:Vd(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function Zfe(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function Gfe(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return uB(t,e);const s={href:Vd(r.url||"")};r.title!==null&&r.title!==void 0&&(s.title=r.title);const o={type:"element",tagName:"a",properties:s,children:t.all(e)};return t.patch(e,o),t.applyData(e,o)}function Qfe(t,e){const n={href:Vd(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function Jfe(t,e,n){const r=t.all(e),s=n?ede(n):fB(e),o={},l=[];if(typeof e.checked=="boolean"){const p=r[0];let m;p&&p.type==="element"&&p.tagName==="p"?m=p:(m={type:"element",tagName:"p",properties:{},children:[]},r.unshift(m)),m.children.length>0&&m.children.unshift({type:"text",value:" "}),m.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let c=-1;for(;++c<r.length;){const p=r[c];(s||c!==0||p.type!=="element"||p.tagName!=="p")&&l.push({type:"text",value:`
`}),p.type==="element"&&p.tagName==="p"&&!s?l.push(...p.children):l.push(p)}const f=r[r.length-1];f&&(s||f.type!=="element"||f.tagName!=="p")&&l.push({type:"text",value:`
`});const h={type:"element",tagName:"li",properties:o,children:l};return t.patch(e,h),t.applyData(e,h)}function ede(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=fB(n[r])}return e}function fB(t){const e=t.spread;return e??t.children.length>1}function tde(t,e){const n={},r=t.all(e);let s=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++s<r.length;){const l=r[s];if(l.type==="element"&&l.tagName==="li"&&l.properties&&Array.isArray(l.properties.className)&&l.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,o),t.applyData(e,o)}function nde(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function rde(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function sde(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function ide(t,e){const n=t.all(e),r=n.shift(),s=[];if(r){const l={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],l),s.push(l)}if(n.length>0){const l={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},c=kT(e.children[1]),f=$6(e.children[e.children.length-1]);c&&f&&(l.position={start:c,end:f}),s.push(l)}const o={type:"element",tagName:"table",properties:{},children:t.wrap(s,!0)};return t.patch(e,o),t.applyData(e,o)}function ode(t,e,n){const r=n?n.children:void 0,o=(r?r.indexOf(e):1)===0?"th":"td",l=n&&n.type==="table"?n.align:void 0,c=l?l.length:e.children.length;let f=-1;const h=[];for(;++f<c;){const m=e.children[f],b={},_=l?l[f]:void 0;_&&(b.align=_);let E={type:"element",tagName:o,properties:b,children:[]};m&&(E.children=t.all(m),t.patch(m,E),E=t.applyData(m,E)),h.push(E)}const p={type:"element",tagName:"tr",properties:{},children:t.wrap(h,!0)};return t.patch(e,p),t.applyData(e,p)}function ade(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const Vj=9,Fj=32;function lde(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),s=0;const o=[];for(;r;)o.push(Bj(e.slice(s,r.index),s>0,!0),r[0]),s=r.index+r[0].length,r=n.exec(e);return o.push(Bj(e.slice(s),s>0,!1)),o.join("")}function Bj(t,e,n){let r=0,s=t.length;if(e){let o=t.codePointAt(r);for(;o===Vj||o===Fj;)r++,o=t.codePointAt(r)}if(n){let o=t.codePointAt(s-1);for(;o===Vj||o===Fj;)s--,o=t.codePointAt(s-1)}return s>r?t.slice(r,s):""}function cde(t,e){const n={type:"text",value:lde(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function ude(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const fde={blockquote:Bfe,break:Lfe,code:zfe,delete:$fe,emphasis:Hfe,footnoteReference:Wfe,heading:qfe,html:Xfe,imageReference:Yfe,image:Kfe,inlineCode:Zfe,linkReference:Gfe,link:Qfe,listItem:Jfe,list:tde,paragraph:nde,root:rde,strong:sde,table:ide,tableCell:ade,tableRow:ode,text:cde,thematicBreak:ude,toml:ix,yaml:ix,definition:ix,footnoteDefinition:ix};function ix(){}const dB=-1,mv=0,Hp=1,_y=2,UT=3,VT=4,FT=5,BT=6,hB=7,pB=8,Lj=typeof self=="object"?self:globalThis,dde=(t,e)=>{const n=(s,o)=>(t.set(o,s),s),r=s=>{if(t.has(s))return t.get(s);const[o,l]=e[s];switch(o){case mv:case dB:return n(l,s);case Hp:{const c=n([],s);for(const f of l)c.push(r(f));return c}case _y:{const c=n({},s);for(const[f,h]of l)c[r(f)]=r(h);return c}case UT:return n(new Date(l),s);case VT:{const{source:c,flags:f}=l;return n(new RegExp(c,f),s)}case FT:{const c=n(new Map,s);for(const[f,h]of l)c.set(r(f),r(h));return c}case BT:{const c=n(new Set,s);for(const f of l)c.add(r(f));return c}case hB:{const{name:c,message:f}=l;return n(new Lj[c](f),s)}case pB:return n(BigInt(l),s);case"BigInt":return n(Object(BigInt(l)),s);case"ArrayBuffer":return n(new Uint8Array(l).buffer,l);case"DataView":{const{buffer:c}=new Uint8Array(l);return n(new DataView(c),l)}}return n(new Lj[o](l),s)};return r},zj=t=>dde(new Map,t)(0),If="",{toString:hde}={},{keys:pde}=Object,vp=t=>{const e=typeof t;if(e!=="object"||!t)return[mv,e];const n=hde.call(t).slice(8,-1);switch(n){case"Array":return[Hp,If];case"Object":return[_y,If];case"Date":return[UT,If];case"RegExp":return[VT,If];case"Map":return[FT,If];case"Set":return[BT,If];case"DataView":return[Hp,n]}return n.includes("Array")?[Hp,n]:n.includes("Error")?[hB,n]:[_y,n]},ox=([t,e])=>t===mv&&(e==="function"||e==="symbol"),mde=(t,e,n,r)=>{const s=(l,c)=>{const f=r.push(l)-1;return n.set(c,f),f},o=l=>{if(n.has(l))return n.get(l);let[c,f]=vp(l);switch(c){case mv:{let p=l;switch(f){case"bigint":c=pB,p=l.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+f);p=null;break;case"undefined":return s([dB],l)}return s([c,p],l)}case Hp:{if(f){let b=l;return f==="DataView"?b=new Uint8Array(l.buffer):f==="ArrayBuffer"&&(b=new Uint8Array(l)),s([f,[...b]],l)}const p=[],m=s([c,p],l);for(const b of l)p.push(o(b));return m}case _y:{if(f)switch(f){case"BigInt":return s([f,l.toString()],l);case"Boolean":case"Number":case"String":return s([f,l.valueOf()],l)}if(e&&"toJSON"in l)return o(l.toJSON());const p=[],m=s([c,p],l);for(const b of pde(l))(t||!ox(vp(l[b])))&&p.push([o(b),o(l[b])]);return m}case UT:return s([c,l.toISOString()],l);case VT:{const{source:p,flags:m}=l;return s([c,{source:p,flags:m}],l)}case FT:{const p=[],m=s([c,p],l);for(const[b,_]of l)(t||!(ox(vp(b))||ox(vp(_))))&&p.push([o(b),o(_)]);return m}case BT:{const p=[],m=s([c,p],l);for(const b of l)(t||!ox(vp(b)))&&p.push(o(b));return m}}const{message:h}=l;return s([c,{name:f,message:h}],l)};return o},$j=(t,{json:e,lossy:n}={})=>{const r=[];return mde(!(e||n),!!e,new Map,r)(t),r},wy=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?zj($j(t,e)):structuredClone(t):(t,e)=>zj($j(t,e));function gde(t,e){const n=[{type:"text",value:"↩"}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function bde(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function xde(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||gde,r=t.options.footnoteBackLabel||bde,s=t.options.footnoteLabel||"Footnotes",o=t.options.footnoteLabelTagName||"h2",l=t.options.footnoteLabelProperties||{className:["sr-only"]},c=[];let f=-1;for(;++f<t.footnoteOrder.length;){const h=t.footnoteById.get(t.footnoteOrder[f]);if(!h)continue;const p=t.all(h),m=String(h.identifier).toUpperCase(),b=Vd(m.toLowerCase());let _=0;const E=[],T=t.footnoteCounts.get(m);for(;T!==void 0&&++_<=T;){E.length>0&&E.push({type:"text",value:" "});let M=typeof n=="string"?n:n(f,_);typeof M=="string"&&(M={type:"text",value:M}),E.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+b+(_>1?"-"+_:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(f,_),className:["data-footnote-backref"]},children:Array.isArray(M)?M:[M]})}const C=p[p.length-1];if(C&&C.type==="element"&&C.tagName==="p"){const M=C.children[C.children.length-1];M&&M.type==="text"?M.value+=" ":C.children.push({type:"text",value:" "}),C.children.push(...E)}else p.push(...E);const D={type:"element",tagName:"li",properties:{id:e+"fn-"+b},children:t.wrap(p,!0)};t.patch(h,D),c.push(D)}if(c.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...wy(l),id:"footnote-label"},children:[{type:"text",value:s}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(c,!0)},{type:"text",value:`
`}]}}const gv=function(t){if(t==null)return wde;if(typeof t=="function")return bv(t);if(typeof t=="object")return Array.isArray(t)?yde(t):vde(t);if(typeof t=="string")return _de(t);throw new Error("Expected function, string, or object as test")};function yde(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=gv(t[n]);return bv(r);function r(...s){let o=-1;for(;++o<e.length;)if(e[o].apply(this,s))return!0;return!1}}function vde(t){const e=t;return bv(n);function n(r){const s=r;let o;for(o in t)if(s[o]!==e[o])return!1;return!0}}function _de(t){return bv(e);function e(n){return n&&n.type===t}}function bv(t){return e;function e(n,r,s){return!!(Nde(n)&&t.call(this,n,typeof r=="number"?r:void 0,s||void 0))}}function wde(){return!0}function Nde(t){return t!==null&&typeof t=="object"&&"type"in t}const mB=[],Sde=!0,rE=!1,Ede="skip";function gB(t,e,n,r){let s;typeof e=="function"&&typeof n!="function"?(r=n,n=e):s=e;const o=gv(s),l=r?-1:1;c(t,void 0,[])();function c(f,h,p){const m=f&&typeof f=="object"?f:{};if(typeof m.type=="string"){const _=typeof m.tagName=="string"?m.tagName:typeof m.name=="string"?m.name:void 0;Object.defineProperty(b,"name",{value:"node ("+(f.type+(_?"<"+_+">":""))+")"})}return b;function b(){let _=mB,E,T,C;if((!e||o(f,h,p[p.length-1]||void 0))&&(_=Tde(n(f,p)),_[0]===rE))return _;if("children"in f&&f.children){const D=f;if(D.children&&_[0]!==Ede)for(T=(r?D.children.length:-1)+l,C=p.concat(D);T>-1&&T<D.children.length;){const M=D.children[T];if(E=c(M,T,C)(),E[0]===rE)return E;T=typeof E[1]=="number"?E[1]:T+l}}return _}}}function Tde(t){return Array.isArray(t)?t:typeof t=="number"?[Sde,t]:t==null?mB:[t]}function LT(t,e,n,r){let s,o,l;typeof e=="function"&&typeof n!="function"?(o=void 0,l=e,s=n):(o=e,l=n,s=r),gB(t,o,c,s);function c(f,h){const p=h[h.length-1],m=p?p.children.indexOf(f):void 0;return l(f,m,p)}}const sE={}.hasOwnProperty,Ade={};function Cde(t,e){const n=e||Ade,r=new Map,s=new Map,o=new Map,l={...fde,...n.handlers},c={all:h,applyData:kde,definitionById:r,footnoteById:s,footnoteCounts:o,footnoteOrder:[],handlers:l,one:f,options:n,patch:Rde,wrap:Dde};return LT(t,function(p){if(p.type==="definition"||p.type==="footnoteDefinition"){const m=p.type==="definition"?r:s,b=String(p.identifier).toUpperCase();m.has(b)||m.set(b,p)}}),c;function f(p,m){const b=p.type,_=c.handlers[b];if(sE.call(c.handlers,b)&&_)return _(c,p,m);if(c.options.passThrough&&c.options.passThrough.includes(b)){if("children"in p){const{children:T,...C}=p,D=wy(C);return D.children=c.all(p),D}return wy(p)}return(c.options.unknownHandler||Pde)(c,p,m)}function h(p){const m=[];if("children"in p){const b=p.children;let _=-1;for(;++_<b.length;){const E=c.one(b[_],p);if(E){if(_&&b[_-1].type==="break"&&(!Array.isArray(E)&&E.type==="text"&&(E.value=Hj(E.value)),!Array.isArray(E)&&E.type==="element")){const T=E.children[0];T&&T.type==="text"&&(T.value=Hj(T.value))}Array.isArray(E)?m.push(...E):m.push(E)}}}return m}}function Rde(t,e){t.position&&(e.position=hce(t))}function kde(t,e){let n=e;if(t&&t.data){const r=t.data.hName,s=t.data.hChildren,o=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const l="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:l}}n.type==="element"&&o&&Object.assign(n.properties,wy(o)),"children"in n&&n.children&&s!==null&&s!==void 0&&(n.children=s)}return n}function Pde(t,e){const n=e.data||{},r="value"in e&&!(sE.call(n,"hProperties")||sE.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function Dde(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function Hj(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function Wj(t,e){const n=Cde(t,e),r=n.one(t,void 0),s=xde(n),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return s&&(we("children"in o),o.children.push({type:"text",value:`
`},s)),o}function Mde(t,e){return t&&"run"in t?async function(n,r){const s=Wj(n,{file:r,...e});await t.run(s,r)}:function(n,r){return Wj(n,{file:r,...t||e})}}function qj(t){if(t)throw t}var oN,Xj;function jde(){if(Xj)return oN;Xj=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,s=function(h){return typeof Array.isArray=="function"?Array.isArray(h):e.call(h)==="[object Array]"},o=function(h){if(!h||e.call(h)!=="[object Object]")return!1;var p=t.call(h,"constructor"),m=h.constructor&&h.constructor.prototype&&t.call(h.constructor.prototype,"isPrototypeOf");if(h.constructor&&!p&&!m)return!1;var b;for(b in h);return typeof b>"u"||t.call(h,b)},l=function(h,p){n&&p.name==="__proto__"?n(h,p.name,{enumerable:!0,configurable:!0,value:p.newValue,writable:!0}):h[p.name]=p.newValue},c=function(h,p){if(p==="__proto__")if(t.call(h,p)){if(r)return r(h,p).value}else return;return h[p]};return oN=function f(){var h,p,m,b,_,E,T=arguments[0],C=1,D=arguments.length,M=!1;for(typeof T=="boolean"&&(M=T,T=arguments[1]||{},C=2),(T==null||typeof T!="object"&&typeof T!="function")&&(T={});C<D;++C)if(h=arguments[C],h!=null)for(p in h)m=c(T,p),b=c(h,p),T!==b&&(M&&b&&(o(b)||(_=s(b)))?(_?(_=!1,E=m&&s(m)?m:[]):E=m&&o(m)?m:{},l(T,{name:p,newValue:f(M,E,b)})):typeof b<"u"&&l(T,{name:p,newValue:b}));return T},oN}var Ide=jde();const aN=bu(Ide);function iE(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function Ode(){const t=[],e={run:n,use:r};return e;function n(...s){let o=-1;const l=s.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);c(null,...s);function c(f,...h){const p=t[++o];let m=-1;if(f){l(f);return}for(;++m<s.length;)(h[m]===null||h[m]===void 0)&&(h[m]=s[m]);s=h,p?Ude(p,c)(...h):l(null,...h)}}function r(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return t.push(s),e}}function Ude(t,e){let n;return r;function r(...l){const c=t.length>l.length;let f;c&&l.push(s);try{f=t.apply(this,l)}catch(h){const p=h;if(c&&n)throw p;return s(p)}c||(f&&f.then&&typeof f.then=="function"?f.then(o,s):f instanceof Error?s(f):o(f))}function s(l,...c){n||(n=!0,e(l,...c))}function o(l){s(null,l)}}const To={basename:Vde,dirname:Fde,extname:Bde,join:Lde,sep:"/"};function Vde(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Dm(t);let n=0,r=-1,s=t.length,o;if(e===void 0||e.length===0||e.length>t.length){for(;s--;)if(t.codePointAt(s)===47){if(o){n=s+1;break}}else r<0&&(o=!0,r=s+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let l=-1,c=e.length-1;for(;s--;)if(t.codePointAt(s)===47){if(o){n=s+1;break}}else l<0&&(o=!0,l=s+1),c>-1&&(t.codePointAt(s)===e.codePointAt(c--)?c<0&&(r=s):(c=-1,r=l));return n===r?r=l:r<0&&(r=t.length),t.slice(n,r)}function Fde(t){if(Dm(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function Bde(t){Dm(t);let e=t.length,n=-1,r=0,s=-1,o=0,l;for(;e--;){const c=t.codePointAt(e);if(c===47){if(l){r=e+1;break}continue}n<0&&(l=!0,n=e+1),c===46?s<0?s=e:o!==1&&(o=1):s>-1&&(o=-1)}return s<0||n<0||o===0||o===1&&s===n-1&&s===r+1?"":t.slice(s,n)}function Lde(...t){let e=-1,n;for(;++e<t.length;)Dm(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":zde(n)}function zde(t){Dm(t);const e=t.codePointAt(0)===47;let n=$de(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function $de(t,e){let n="",r=0,s=-1,o=0,l=-1,c,f;for(;++l<=t.length;){if(l<t.length)c=t.codePointAt(l);else{if(c===47)break;c=47}if(c===47){if(!(s===l-1||o===1))if(s!==l-1&&o===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(f=n.lastIndexOf("/"),f!==n.length-1){f<0?(n="",r=0):(n=n.slice(0,f),r=n.length-1-n.lastIndexOf("/")),s=l,o=0;continue}}else if(n.length>0){n="",r=0,s=l,o=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(s+1,l):n=t.slice(s+1,l),r=l-s-1;s=l,o=0}else c===46&&o>-1?o++:o=-1}return n}function Dm(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const Hde={cwd:Wde};function Wde(){return"/"}function oE(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function qde(t){if(typeof t=="string")t=new URL(t);else if(!oE(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return Xde(t)}function Xde(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const s=new TypeError("File URL path must not include encoded / characters");throw s.code="ERR_INVALID_FILE_URL_PATH",s}}return decodeURIComponent(e)}const lN=["history","path","basename","stem","extname","dirname"];class bB{constructor(e){let n;e?oE(e)?n={path:e}:typeof e=="string"||Yde(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":Hde.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<lN.length;){const o=lN[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let s;for(s in n)lN.includes(s)||(this[s]=n[s])}get basename(){return typeof this.path=="string"?To.basename(this.path):void 0}set basename(e){uN(e,"basename"),cN(e,"basename"),this.path=To.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?To.dirname(this.path):void 0}set dirname(e){Yj(this.basename,"dirname"),this.path=To.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?To.extname(this.path):void 0}set extname(e){if(cN(e,"extname"),Yj(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=To.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){oE(e)&&(e=qde(e)),uN(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?To.basename(this.path,this.extname):void 0}set stem(e){uN(e,"stem"),cN(e,"stem"),this.path=To.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const s=this.message(e,n,r);throw s.fatal=!0,s}info(e,n,r){const s=this.message(e,n,r);return s.fatal=void 0,s}message(e,n,r){const s=new ps(e,n,r);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function cN(t,e){if(t&&t.includes(To.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+To.sep+"`")}function uN(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function Yj(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function Yde(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const Kde=function(t){const r=this.constructor.prototype,s=r[t],o=function(){return s.apply(o,arguments)};return Object.setPrototypeOf(o,r),o},Zde={}.hasOwnProperty;class zT extends Kde{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Ode()}copy(){const e=new zT;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(aN(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(hN("data",this.frozen),this.namespace[e]=n,this):Zde.call(this.namespace,e)&&this.namespace[e]||void 0:e?(hN("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const s=n.call(e,...r);typeof s=="function"&&this.transformers.use(s)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=ax(e),r=this.parser||this.Parser;return fN("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),fN("process",this.parser||this.Parser),dN("process",this.compiler||this.Compiler),n?s(void 0,n):new Promise(s);function s(o,l){const c=ax(e),f=r.parse(c);r.run(f,c,function(p,m,b){if(p||!m||!b)return h(p);const _=m,E=r.stringify(_,b);Jde(E)?b.value=E:b.result=E,h(p,b)});function h(p,m){p||!m?l(p):o?o(m):(we(n,"`done` is defined if `resolve` is not"),n(void 0,m))}}}processSync(e){let n=!1,r;return this.freeze(),fN("processSync",this.parser||this.Parser),dN("processSync",this.compiler||this.Compiler),this.process(e,s),Zj("processSync","process",n),we(r,"we either bailed on an error or have a tree"),r;function s(o,l){n=!0,qj(o),r=l}}run(e,n,r){Kj(e),this.freeze();const s=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(l,c){we(typeof n!="function","`file` can’t be a `done` anymore, we checked");const f=ax(n);s.run(e,f,h);function h(p,m,b){const _=m||e;p?c(p):l?l(_):(we(r,"`done` is defined if `resolve` is not"),r(void 0,_,b))}}}runSync(e,n){let r=!1,s;return this.run(e,n,o),Zj("runSync","run",r),we(s,"we either bailed on an error or have a tree"),s;function o(l,c){qj(l),s=c,r=!0}}stringify(e,n){this.freeze();const r=ax(n),s=this.compiler||this.Compiler;return dN("stringify",s),Kj(e),s(e,r)}use(e,...n){const r=this.attachers,s=this.namespace;if(hN("use",this.frozen),e!=null)if(typeof e=="function")f(e,n);else if(typeof e=="object")Array.isArray(e)?c(e):l(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function o(h){if(typeof h=="function")f(h,[]);else if(typeof h=="object")if(Array.isArray(h)){const[p,...m]=h;f(p,m)}else l(h);else throw new TypeError("Expected usable value, not `"+h+"`")}function l(h){if(!("plugins"in h)&&!("settings"in h))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");c(h.plugins),h.settings&&(s.settings=aN(!0,s.settings,h.settings))}function c(h){let p=-1;if(h!=null)if(Array.isArray(h))for(;++p<h.length;){const m=h[p];o(m)}else throw new TypeError("Expected a list of plugins, not `"+h+"`")}function f(h,p){let m=-1,b=-1;for(;++m<r.length;)if(r[m][0]===h){b=m;break}if(b===-1)r.push([h,...p]);else if(p.length>0){let[_,...E]=p;const T=r[b][1];iE(T)&&iE(_)&&(_=aN(!0,T,_)),r[b]=[h,_,...E]}}}}const Gde=new zT().freeze();function fN(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function dN(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function hN(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Kj(t){if(!iE(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function Zj(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function ax(t){return Qde(t)?t:new bB(t)}function Qde(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function Jde(t){return typeof t=="string"||ehe(t)}function ehe(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const the="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Gj=[],Qj={allowDangerousHtml:!0},nhe=/^(https?|ircs?|mailto|xmpp)$/i,rhe=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function she(t){const e=ihe(t),n=ohe(t);return ahe(e.runSync(e.parse(n),n),t)}function ihe(t){const e=t.rehypePlugins||Gj,n=t.remarkPlugins||Gj,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...Qj}:Qj;return Gde().use(Ffe).use(n).use(Mde,r).use(e)}function ohe(t){const e=t.children||"",n=new bB;return typeof e=="string"?n.value=e:ZS("Unexpected value `"+e+"` for `children` prop, expected `string`"),n}function ahe(t,e){const n=e.allowedElements,r=e.allowElement,s=e.components,o=e.disallowedElements,l=e.skipHtml,c=e.unwrapDisallowed,f=e.urlTransform||lhe;for(const p of rhe)Object.hasOwn(e,p.from)&&ZS("Unexpected `"+p.from+"` prop, "+(p.to?"use `"+p.to+"` instead":"remove it")+" (see <"+the+"#"+p.id+"> for more info)");return n&&o&&ZS("Unexpected combined `allowedElements` and `disallowedElements`, expected one or the other"),LT(t,h),xce(t,{Fragment:Me.Fragment,components:s,ignoreInvalidStyle:!0,jsx:Me.jsx,jsxs:Me.jsxs,passKeys:!0,passNode:!0});function h(p,m,b){if(p.type==="raw"&&b&&typeof m=="number")return l?b.children.splice(m,1):b.children[m]={type:"text",value:p.value},m;if(p.type==="element"){let _;for(_ in tN)if(Object.hasOwn(tN,_)&&Object.hasOwn(p.properties,_)){const E=p.properties[_],T=tN[_];(T===null||T.includes(p.tagName))&&(p.properties[_]=f(String(E||""),_,p))}}if(p.type==="element"){let _=n?!n.includes(p.tagName):o?o.includes(p.tagName):!1;if(!_&&r&&typeof m=="number"&&(_=!r(p,m,b)),_&&b&&typeof m=="number")return c&&p.children?b.children.splice(m,1,...p.children):b.children.splice(m,1),m}}}function lhe(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),s=t.indexOf("/");return e===-1||s!==-1&&e>s||n!==-1&&e>n||r!==-1&&e>r||nhe.test(t.slice(0,e))?t:""}function Jj(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let r=0,s=n.indexOf(e);for(;s!==-1;)r++,s=n.indexOf(e,s+e.length);return r}function che(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function uhe(t,e,n){const s=gv((n||{}).ignore||[]),o=fhe(e);let l=-1;for(;++l<o.length;)gB(t,"text",c);function c(h,p){let m=-1,b;for(;++m<p.length;){const _=p[m],E=b?b.children:void 0;if(s(_,E?E.indexOf(_):void 0,b))return;b=_}if(b)return f(h,p)}function f(h,p){const m=p[p.length-1],b=o[l][0],_=o[l][1];let E=0;const C=m.children.indexOf(h);let D=!1,M=[];b.lastIndex=0;let P=b.exec(h.value);for(;P;){const U=P.index,L={index:P.index,input:P.input,stack:[...p,h]};let O=_(...P,L);if(typeof O=="string"&&(O=O.length>0?{type:"text",value:O}:void 0),O===!1?b.lastIndex=U+1:(E!==U&&M.push({type:"text",value:h.value.slice(E,U)}),Array.isArray(O)?M.push(...O):O&&M.push(O),E=U+P[0].length,D=!0),!b.global)break;P=b.exec(h.value)}return D?(E<h.value.length&&M.push({type:"text",value:h.value.slice(E)}),m.children.splice(C,1,...M)):M=[h],C+M.length}}function fhe(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!t[0]||Array.isArray(t[0])?t:[t];let r=-1;for(;++r<n.length;){const s=n[r];e.push([dhe(s[0]),hhe(s[1])])}return e}function dhe(t){return typeof t=="string"?new RegExp(che(t),"g"):t}function hhe(t){return typeof t=="function"?t:function(){return t}}const pN="phrasing",mN=["autolink","link","image","label"];function phe(){return{transforms:[_he],enter:{literalAutolink:ghe,literalAutolinkEmail:gN,literalAutolinkHttp:gN,literalAutolinkWww:gN},exit:{literalAutolink:vhe,literalAutolinkEmail:yhe,literalAutolinkHttp:bhe,literalAutolinkWww:xhe}}}function mhe(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:pN,notInConstruct:mN},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:pN,notInConstruct:mN},{character:":",before:"[ps]",after:"\\/",inConstruct:pN,notInConstruct:mN}]}}function ghe(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function gN(t){this.config.enter.autolinkProtocol.call(this,t)}function bhe(t){this.config.exit.autolinkProtocol.call(this,t)}function xhe(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];we(e.type==="link"),e.url="http://"+this.sliceSerialize(t)}function yhe(t){this.config.exit.autolinkEmail.call(this,t)}function vhe(t){this.exit(t)}function _he(t){uhe(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,whe],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),Nhe]],{ignore:["link","linkReference"]})}function whe(t,e,n,r,s){let o="";if(!xB(s)||(/^w/i.test(e)&&(n=e+n,e="",o="http://"),!She(n)))return!1;const l=Ehe(n+r);if(!l[0])return!1;const c={type:"link",title:null,url:o+e+l[0],children:[{type:"text",value:e+l[0]}]};return l[1]?[c,{type:"text",value:l[1]}]:c}function Nhe(t,e,n,r){return!xB(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function She(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function Ehe(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let n=e[0],r=n.indexOf(")");const s=Jj(t,"(");let o=Jj(t,")");for(;r!==-1&&s>o;)t+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),o++;return[t,n]}function xB(t,e){const n=t.input.charCodeAt(t.index-1);return(t.index===0||gu(n)||hv(n))&&(!e||n!==47)}yB.peek=jhe;function The(){this.buffer()}function Ahe(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function Che(){this.buffer()}function Rhe(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function khe(t){const e=this.resume(),n=this.stack[this.stack.length-1];we(n.type==="footnoteReference"),n.identifier=to(this.sliceSerialize(t)).toLowerCase(),n.label=e}function Phe(t){this.exit(t)}function Dhe(t){const e=this.resume(),n=this.stack[this.stack.length-1];we(n.type==="footnoteDefinition"),n.identifier=to(this.sliceSerialize(t)).toLowerCase(),n.label=e}function Mhe(t){this.exit(t)}function jhe(){return"["}function yB(t,e,n,r){const s=n.createTracker(r);let o=s.move("[^");const l=n.enter("footnoteReference"),c=n.enter("reference");return o+=s.move(n.safe(n.associationId(t),{after:"]",before:o})),c(),l(),o+=s.move("]"),o}function Ihe(){return{enter:{gfmFootnoteCallString:The,gfmFootnoteCall:Ahe,gfmFootnoteDefinitionLabelString:Che,gfmFootnoteDefinition:Rhe},exit:{gfmFootnoteCallString:khe,gfmFootnoteCall:Phe,gfmFootnoteDefinitionLabelString:Dhe,gfmFootnoteDefinition:Mhe}}}function Ohe(t){let e=!1;return t&&t.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:n,footnoteReference:yB},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,s,o,l){const c=o.createTracker(l);let f=c.move("[^");const h=o.enter("footnoteDefinition"),p=o.enter("label");return f+=c.move(o.safe(o.associationId(r),{before:f,after:"]"})),p(),f+=c.move("]:"),r.children&&r.children.length>0&&(c.shift(4),f+=c.move((e?`
`:" ")+o.indentLines(o.containerFlow(r,c.current()),e?vB:Uhe))),h(),f}}function Uhe(t,e,n){return e===0?t:vB(t,e,n)}function vB(t,e,n){return(n?"":"    ")+t}const Vhe=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];_B.peek=$he;function Fhe(){return{canContainEols:["delete"],enter:{strikethrough:Lhe},exit:{strikethrough:zhe}}}function Bhe(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:Vhe}],handlers:{delete:_B}}}function Lhe(t){this.enter({type:"delete",children:[]},t)}function zhe(t){this.exit(t)}function _B(t,e,n,r){const s=n.createTracker(r),o=n.enter("strikethrough");let l=s.move("~~");return l+=n.containerPhrasing(t,{...s.current(),before:l,after:"~"}),l+=s.move("~~"),o(),l}function $he(){return"~"}function Hhe(t){return t.length}function Whe(t,e){const n=e||{},r=(n.align||[]).concat(),s=n.stringLength||Hhe,o=[],l=[],c=[],f=[];let h=0,p=-1;for(;++p<t.length;){const T=[],C=[];let D=-1;for(t[p].length>h&&(h=t[p].length);++D<t[p].length;){const M=qhe(t[p][D]);if(n.alignDelimiters!==!1){const P=s(M);C[D]=P,(f[D]===void 0||P>f[D])&&(f[D]=P)}T.push(M)}l[p]=T,c[p]=C}let m=-1;if(typeof r=="object"&&"length"in r)for(;++m<h;)o[m]=eI(r[m]);else{const T=eI(r);for(;++m<h;)o[m]=T}m=-1;const b=[],_=[];for(;++m<h;){const T=o[m];let C="",D="";T===99?(C=":",D=":"):T===108?C=":":T===114&&(D=":");let M=n.alignDelimiters===!1?1:Math.max(1,f[m]-C.length-D.length);const P=C+"-".repeat(M)+D;n.alignDelimiters!==!1&&(M=C.length+M+D.length,M>f[m]&&(f[m]=M),_[m]=M),b[m]=P}l.splice(1,0,b),c.splice(1,0,_),p=-1;const E=[];for(;++p<l.length;){const T=l[p],C=c[p];m=-1;const D=[];for(;++m<h;){const M=T[m]||"";let P="",U="";if(n.alignDelimiters!==!1){const L=f[m]-(C[m]||0),O=o[m];O===114?P=" ".repeat(L):O===99?L%2?(P=" ".repeat(L/2+.5),U=" ".repeat(L/2-.5)):(P=" ".repeat(L/2),U=P):U=" ".repeat(L)}n.delimiterStart!==!1&&!m&&D.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&M==="")&&(n.delimiterStart!==!1||m)&&D.push(" "),n.alignDelimiters!==!1&&D.push(P),D.push(M),n.alignDelimiters!==!1&&D.push(U),n.padding!==!1&&D.push(" "),(n.delimiterEnd!==!1||m!==h-1)&&D.push("|")}E.push(n.delimiterEnd===!1?D.join("").replace(/ +$/,""):D.join(""))}return E.join(`
`)}function qhe(t){return t==null?"":String(t)}function eI(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function Xhe(t,e,n,r){const s=n.enter("blockquote"),o=n.createTracker(r);o.move("> "),o.shift(2);const l=n.indentLines(n.containerFlow(t,o.current()),Yhe);return s(),l}function Yhe(t,e,n){return">"+(n?"":" ")+t}function Khe(t,e){return tI(t,e.inConstruct,!0)&&!tI(t,e.notInConstruct,!1)}function tI(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let r=-1;for(;++r<e.length;)if(t.includes(e[r]))return!0;return!1}function nI(t,e,n,r){let s=-1;for(;++s<n.unsafe.length;)if(n.unsafe[s].character===`
`&&Khe(n.stack,n.unsafe[s]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function Zhe(t,e){const n=String(t);let r=n.indexOf(e),s=r,o=0,l=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===s?++o>l&&(l=o):o=1,s=r+e.length,r=n.indexOf(e,s);return l}function Ghe(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function Qhe(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function Jhe(t,e,n,r){const s=Qhe(n),o=t.value||"",l=s==="`"?"GraveAccent":"Tilde";if(Ghe(t,n)){const m=n.enter("codeIndented"),b=n.indentLines(o,epe);return m(),b}const c=n.createTracker(r),f=s.repeat(Math.max(Zhe(o,s)+1,3)),h=n.enter("codeFenced");let p=c.move(f);if(t.lang){const m=n.enter(`codeFencedLang${l}`);p+=c.move(n.safe(t.lang,{before:p,after:" ",encode:["`"],...c.current()})),m()}if(t.lang&&t.meta){const m=n.enter(`codeFencedMeta${l}`);p+=c.move(" "),p+=c.move(n.safe(t.meta,{before:p,after:`
`,encode:["`"],...c.current()})),m()}return p+=c.move(`
`),o&&(p+=c.move(o+`
`)),p+=c.move(f),h(),p}function epe(t,e,n){return(n?"":"    ")+t}function $T(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function tpe(t,e,n,r){const s=$T(n),o=s==='"'?"Quote":"Apostrophe",l=n.enter("definition");let c=n.enter("label");const f=n.createTracker(r);let h=f.move("[");return h+=f.move(n.safe(n.associationId(t),{before:h,after:"]",...f.current()})),h+=f.move("]: "),c(),!t.url||/[\0- \u007F]/.test(t.url)?(c=n.enter("destinationLiteral"),h+=f.move("<"),h+=f.move(n.safe(t.url,{before:h,after:">",...f.current()})),h+=f.move(">")):(c=n.enter("destinationRaw"),h+=f.move(n.safe(t.url,{before:h,after:t.title?" ":`
`,...f.current()}))),c(),t.title&&(c=n.enter(`title${o}`),h+=f.move(" "+s),h+=f.move(n.safe(t.title,{before:h,after:s,...f.current()})),h+=f.move(s),c()),l(),h}function npe(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function lm(t){return"&#x"+t.toString(16).toUpperCase()+";"}function Ny(t,e,n){const r=Ad(t),s=Ad(e);return r===void 0?s===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:s===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?s===void 0?{inside:!1,outside:!1}:s===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:s===void 0?{inside:!1,outside:!1}:s===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}wB.peek=rpe;function wB(t,e,n,r){const s=npe(n),o=n.enter("emphasis"),l=n.createTracker(r),c=l.move(s);let f=l.move(n.containerPhrasing(t,{after:s,before:c,...l.current()}));const h=f.charCodeAt(0),p=Ny(r.before.charCodeAt(r.before.length-1),h,s);p.inside&&(f=lm(h)+f.slice(1));const m=f.charCodeAt(f.length-1),b=Ny(r.after.charCodeAt(0),m,s);b.inside&&(f=f.slice(0,-1)+lm(m));const _=l.move(s);return o(),n.attentionEncodeSurroundingInfo={after:b.outside,before:p.outside},c+f+_}function rpe(t,e,n){return n.options.emphasis||"*"}function spe(t,e){let n=!1;return LT(t,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,rE}),!!((!t.depth||t.depth<3)&&jT(t)&&(e.options.setext||n))}function ipe(t,e,n,r){const s=Math.max(Math.min(6,t.depth||1),1),o=n.createTracker(r);if(spe(t,n)){const p=n.enter("headingSetext"),m=n.enter("phrasing"),b=n.containerPhrasing(t,{...o.current(),before:`
`,after:`
`});return m(),p(),b+`
`+(s===1?"=":"-").repeat(b.length-(Math.max(b.lastIndexOf("\r"),b.lastIndexOf(`
`))+1))}const l="#".repeat(s),c=n.enter("headingAtx"),f=n.enter("phrasing");o.move(l+" ");let h=n.containerPhrasing(t,{before:"# ",after:`
`,...o.current()});return/^[\t ]/.test(h)&&(h=lm(h.charCodeAt(0))+h.slice(1)),h=h?l+" "+h:l,n.options.closeAtx&&(h+=" "+l),f(),c(),h}NB.peek=ope;function NB(t){return t.value||""}function ope(){return"<"}SB.peek=ape;function SB(t,e,n,r){const s=$T(n),o=s==='"'?"Quote":"Apostrophe",l=n.enter("image");let c=n.enter("label");const f=n.createTracker(r);let h=f.move("![");return h+=f.move(n.safe(t.alt,{before:h,after:"]",...f.current()})),h+=f.move("]("),c(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(c=n.enter("destinationLiteral"),h+=f.move("<"),h+=f.move(n.safe(t.url,{before:h,after:">",...f.current()})),h+=f.move(">")):(c=n.enter("destinationRaw"),h+=f.move(n.safe(t.url,{before:h,after:t.title?" ":")",...f.current()}))),c(),t.title&&(c=n.enter(`title${o}`),h+=f.move(" "+s),h+=f.move(n.safe(t.title,{before:h,after:s,...f.current()})),h+=f.move(s),c()),h+=f.move(")"),l(),h}function ape(){return"!"}EB.peek=lpe;function EB(t,e,n,r){const s=t.referenceType,o=n.enter("imageReference");let l=n.enter("label");const c=n.createTracker(r);let f=c.move("![");const h=n.safe(t.alt,{before:f,after:"]",...c.current()});f+=c.move(h+"]["),l();const p=n.stack;n.stack=[],l=n.enter("reference");const m=n.safe(n.associationId(t),{before:f,after:"]",...c.current()});return l(),n.stack=p,o(),s==="full"||!h||h!==m?f+=c.move(m+"]"):s==="shortcut"?f=f.slice(0,-1):f+=c.move("]"),f}function lpe(){return"!"}TB.peek=cpe;function TB(t,e,n){let r=t.value||"",s="`",o=-1;for(;new RegExp("(^|[^`])"+s+"([^`]|$)").test(r);)s+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++o<n.unsafe.length;){const l=n.unsafe[o],c=n.compilePattern(l);let f;if(l.atBreak)for(;f=c.exec(r);){let h=f.index;r.charCodeAt(h)===10&&r.charCodeAt(h-1)===13&&h--,r=r.slice(0,h)+" "+r.slice(f.index+1)}}return s+r+s}function cpe(){return"`"}function AB(t,e){const n=jT(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}CB.peek=upe;function CB(t,e,n,r){const s=$T(n),o=s==='"'?"Quote":"Apostrophe",l=n.createTracker(r);let c,f;if(AB(t,n)){const p=n.stack;n.stack=[],c=n.enter("autolink");let m=l.move("<");return m+=l.move(n.containerPhrasing(t,{before:m,after:">",...l.current()})),m+=l.move(">"),c(),n.stack=p,m}c=n.enter("link"),f=n.enter("label");let h=l.move("[");return h+=l.move(n.containerPhrasing(t,{before:h,after:"](",...l.current()})),h+=l.move("]("),f(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(f=n.enter("destinationLiteral"),h+=l.move("<"),h+=l.move(n.safe(t.url,{before:h,after:">",...l.current()})),h+=l.move(">")):(f=n.enter("destinationRaw"),h+=l.move(n.safe(t.url,{before:h,after:t.title?" ":")",...l.current()}))),f(),t.title&&(f=n.enter(`title${o}`),h+=l.move(" "+s),h+=l.move(n.safe(t.title,{before:h,after:s,...l.current()})),h+=l.move(s),f()),h+=l.move(")"),c(),h}function upe(t,e,n){return AB(t,n)?"<":"["}RB.peek=fpe;function RB(t,e,n,r){const s=t.referenceType,o=n.enter("linkReference");let l=n.enter("label");const c=n.createTracker(r);let f=c.move("[");const h=n.containerPhrasing(t,{before:f,after:"]",...c.current()});f+=c.move(h+"]["),l();const p=n.stack;n.stack=[],l=n.enter("reference");const m=n.safe(n.associationId(t),{before:f,after:"]",...c.current()});return l(),n.stack=p,o(),s==="full"||!h||h!==m?f+=c.move(m+"]"):s==="shortcut"?f=f.slice(0,-1):f+=c.move("]"),f}function fpe(){return"["}function HT(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function dpe(t){const e=HT(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function hpe(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function kB(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function ppe(t,e,n,r){const s=n.enter("list"),o=n.bulletCurrent;let l=t.ordered?hpe(n):HT(n);const c=t.ordered?l==="."?")":".":dpe(n);let f=e&&n.bulletLastUsed?l===n.bulletLastUsed:!1;if(!t.ordered){const p=t.children?t.children[0]:void 0;if((l==="*"||l==="-")&&p&&(!p.children||!p.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(f=!0),kB(n)===l&&p){let m=-1;for(;++m<t.children.length;){const b=t.children[m];if(b&&b.type==="listItem"&&b.children&&b.children[0]&&b.children[0].type==="thematicBreak"){f=!0;break}}}}f&&(l=c),n.bulletCurrent=l;const h=n.containerFlow(t,r);return n.bulletLastUsed=l,n.bulletCurrent=o,s(),h}function mpe(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function gpe(t,e,n,r){const s=mpe(n);let o=n.bulletCurrent||HT(n);e&&e.type==="list"&&e.ordered&&(o=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+o);let l=o.length+1;(s==="tab"||s==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(l=Math.ceil(l/4)*4);const c=n.createTracker(r);c.move(o+" ".repeat(l-o.length)),c.shift(l);const f=n.enter("listItem"),h=n.indentLines(n.containerFlow(t,c.current()),p);return f(),h;function p(m,b,_){return b?(_?"":" ".repeat(l))+m:(_?o:o+" ".repeat(l-o.length))+m}}function bpe(t,e,n,r){const s=n.enter("paragraph"),o=n.enter("phrasing"),l=n.containerPhrasing(t,r);return o(),s(),l}const xpe=gv(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function ype(t,e,n,r){return(t.children.some(function(l){return xpe(l)})?n.containerPhrasing:n.containerFlow).call(n,t,r)}function vpe(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}PB.peek=_pe;function PB(t,e,n,r){const s=vpe(n),o=n.enter("strong"),l=n.createTracker(r),c=l.move(s+s);let f=l.move(n.containerPhrasing(t,{after:s,before:c,...l.current()}));const h=f.charCodeAt(0),p=Ny(r.before.charCodeAt(r.before.length-1),h,s);p.inside&&(f=lm(h)+f.slice(1));const m=f.charCodeAt(f.length-1),b=Ny(r.after.charCodeAt(0),m,s);b.inside&&(f=f.slice(0,-1)+lm(m));const _=l.move(s+s);return o(),n.attentionEncodeSurroundingInfo={after:b.outside,before:p.outside},c+f+_}function _pe(t,e,n){return n.options.strong||"*"}function wpe(t,e,n,r){return n.safe(t.value,r)}function Npe(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function Spe(t,e,n){const r=(kB(n)+(n.options.ruleSpaces?" ":"")).repeat(Npe(n));return n.options.ruleSpaces?r.slice(0,-1):r}const DB={blockquote:Xhe,break:nI,code:Jhe,definition:tpe,emphasis:wB,hardBreak:nI,heading:ipe,html:NB,image:SB,imageReference:EB,inlineCode:TB,link:CB,linkReference:RB,list:ppe,listItem:gpe,paragraph:bpe,root:ype,strong:PB,text:wpe,thematicBreak:Spe};function Epe(){return{enter:{table:Tpe,tableData:rI,tableHeader:rI,tableRow:Cpe},exit:{codeText:Rpe,table:Ape,tableData:bN,tableHeader:bN,tableRow:bN}}}function Tpe(t){const e=t._align;we(e,"expected `_align` on table"),this.enter({type:"table",align:e.map(function(n){return n==="none"?null:n}),children:[]},t),this.data.inTable=!0}function Ape(t){this.exit(t),this.data.inTable=void 0}function Cpe(t){this.enter({type:"tableRow",children:[]},t)}function bN(t){this.exit(t)}function rI(t){this.enter({type:"tableCell",children:[]},t)}function Rpe(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,kpe));const n=this.stack[this.stack.length-1];we(n.type==="inlineCode"),n.value=e,this.exit(t)}function kpe(t,e){return e==="|"?e:t}function Ppe(t){const e=t||{},n=e.tableCellPadding,r=e.tablePipeAlign,s=e.stringLength,o=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:b,table:l,tableCell:f,tableRow:c}};function l(_,E,T,C){return h(p(_,T,C),_.align)}function c(_,E,T,C){const D=m(_,T,C),M=h([D]);return M.slice(0,M.indexOf(`
`))}function f(_,E,T,C){const D=T.enter("tableCell"),M=T.enter("phrasing"),P=T.containerPhrasing(_,{...C,before:o,after:o});return M(),D(),P}function h(_,E){return Whe(_,{align:E,alignDelimiters:r,padding:n,stringLength:s})}function p(_,E,T){const C=_.children;let D=-1;const M=[],P=E.enter("table");for(;++D<C.length;)M[D]=m(C[D],E,T);return P(),M}function m(_,E,T){const C=_.children;let D=-1;const M=[],P=E.enter("tableRow");for(;++D<C.length;)M[D]=f(C[D],_,E,T);return P(),M}function b(_,E,T){let C=DB.inlineCode(_,E,T);return T.stack.includes("tableCell")&&(C=C.replace(/\|/g,"\\$&")),C}}function Dpe(){return{exit:{taskListCheckValueChecked:sI,taskListCheckValueUnchecked:sI,paragraph:jpe}}}function Mpe(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:Ipe}}}function sI(t){const e=this.stack[this.stack.length-2];we(e.type==="listItem"),e.checked=t.type==="taskListCheckValueChecked"}function jpe(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const n=this.stack[this.stack.length-1];we(n.type==="paragraph");const r=n.children[0];if(r&&r.type==="text"){const s=e.children;let o=-1,l;for(;++o<s.length;){const c=s[o];if(c.type==="paragraph"){l=c;break}}l===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(t)}function Ipe(t,e,n,r){const s=t.children[0],o=typeof t.checked=="boolean"&&s&&s.type==="paragraph",l="["+(t.checked?"x":" ")+"] ",c=n.createTracker(r);o&&c.move(l);let f=DB.listItem(t,e,n,{...r,...c.current()});return o&&(f=f.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,h)),f;function h(p){return p+l}}function Ope(){return[phe(),Ihe(),Fhe(),Epe(),Dpe()]}function Upe(t){return{extensions:[mhe(),Ohe(t),Bhe(),Ppe(t),Mpe()]}}const Vpe={tokenize:Hpe,partial:!0},MB={tokenize:Wpe,partial:!0},jB={tokenize:qpe,partial:!0},IB={tokenize:Xpe,partial:!0},Fpe={tokenize:Ype,partial:!0},OB={name:"wwwAutolink",tokenize:zpe,previous:VB},UB={name:"protocolAutolink",tokenize:$pe,previous:FB},ka={name:"emailAutolink",tokenize:Lpe,previous:BB},$o={};function Bpe(){return{text:$o}}let Uc=j.digit0;for(;Uc<j.leftCurlyBrace;)$o[Uc]=ka,Uc++,Uc===j.colon?Uc=j.uppercaseA:Uc===j.leftSquareBracket&&(Uc=j.lowercaseA);$o[j.plusSign]=ka;$o[j.dash]=ka;$o[j.dot]=ka;$o[j.underscore]=ka;$o[j.uppercaseH]=[ka,UB];$o[j.lowercaseH]=[ka,UB];$o[j.uppercaseW]=[ka,OB];$o[j.lowercaseW]=[ka,OB];function Lpe(t,e,n){const r=this;let s,o;return l;function l(m){return!aE(m)||!BB.call(r,r.previous)||WT(r.events)?n(m):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),c(m))}function c(m){return aE(m)?(t.consume(m),c):m===j.atSign?(t.consume(m),f):n(m)}function f(m){return m===j.dot?t.check(Fpe,p,h)(m):m===j.dash||m===j.underscore||hs(m)?(o=!0,t.consume(m),f):p(m)}function h(m){return t.consume(m),s=!0,f}function p(m){return o&&s&&ks(r.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(m)):n(m)}}function zpe(t,e,n){const r=this;return s;function s(l){return l!==j.uppercaseW&&l!==j.lowercaseW||!VB.call(r,r.previous)||WT(r.events)?n(l):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(Vpe,t.attempt(MB,t.attempt(jB,o),n),n)(l))}function o(l){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(l)}}function $pe(t,e,n){const r=this;let s="",o=!1;return l;function l(m){return(m===j.uppercaseH||m===j.lowercaseH)&&FB.call(r,r.previous)&&!WT(r.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),s+=String.fromCodePoint(m),t.consume(m),c):n(m)}function c(m){if(ks(m)&&s.length<5)return s+=String.fromCodePoint(m),t.consume(m),c;if(m===j.colon){const b=s.toLowerCase();if(b==="http"||b==="https")return t.consume(m),f}return n(m)}function f(m){return m===j.slash?(t.consume(m),o?h:(o=!0,f)):n(m)}function h(m){return m===j.eof||vy(m)||Wn(m)||gu(m)||hv(m)?n(m):t.attempt(MB,t.attempt(jB,p),n)(m)}function p(m){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(m)}}function Hpe(t,e,n){let r=0;return s;function s(l){return(l===j.uppercaseW||l===j.lowercaseW)&&r<3?(r++,t.consume(l),s):l===j.dot&&r===3?(t.consume(l),o):n(l)}function o(l){return l===j.eof?n(l):e(l)}}function Wpe(t,e,n){let r,s,o;return l;function l(h){return h===j.dot||h===j.underscore?t.check(IB,f,c)(h):h===j.eof||Wn(h)||gu(h)||h!==j.dash&&hv(h)?f(h):(o=!0,t.consume(h),l)}function c(h){return h===j.underscore?r=!0:(s=r,r=void 0),t.consume(h),l}function f(h){return s||r||!o?n(h):e(h)}}function qpe(t,e){let n=0,r=0;return s;function s(l){return l===j.leftParenthesis?(n++,t.consume(l),s):l===j.rightParenthesis&&r<n?o(l):l===j.exclamationMark||l===j.quotationMark||l===j.ampersand||l===j.apostrophe||l===j.rightParenthesis||l===j.asterisk||l===j.comma||l===j.dot||l===j.colon||l===j.semicolon||l===j.lessThan||l===j.questionMark||l===j.rightSquareBracket||l===j.underscore||l===j.tilde?t.check(IB,e,o)(l):l===j.eof||Wn(l)||gu(l)?e(l):(t.consume(l),s)}function o(l){return l===j.rightParenthesis&&r++,t.consume(l),s}}function Xpe(t,e,n){return r;function r(c){return c===j.exclamationMark||c===j.quotationMark||c===j.apostrophe||c===j.rightParenthesis||c===j.asterisk||c===j.comma||c===j.dot||c===j.colon||c===j.semicolon||c===j.questionMark||c===j.underscore||c===j.tilde?(t.consume(c),r):c===j.ampersand?(t.consume(c),o):c===j.rightSquareBracket?(t.consume(c),s):c===j.lessThan||c===j.eof||Wn(c)||gu(c)?e(c):n(c)}function s(c){return c===j.eof||c===j.leftParenthesis||c===j.leftSquareBracket||Wn(c)||gu(c)?e(c):r(c)}function o(c){return ks(c)?l(c):n(c)}function l(c){return c===j.semicolon?(t.consume(c),r):ks(c)?(t.consume(c),l):n(c)}}function Ype(t,e,n){return r;function r(o){return t.consume(o),s}function s(o){return hs(o)?n(o):e(o)}}function VB(t){return t===j.eof||t===j.leftParenthesis||t===j.asterisk||t===j.underscore||t===j.leftSquareBracket||t===j.rightSquareBracket||t===j.tilde||Wn(t)}function FB(t){return!ks(t)}function BB(t){return!(t===j.slash||aE(t))}function aE(t){return t===j.plusSign||t===j.dash||t===j.dot||t===j.underscore||hs(t)}function WT(t){let e=t.length,n=!1;for(;e--;){const r=t[e][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const Kpe={tokenize:rme,partial:!0};function Zpe(){return{document:{[j.leftSquareBracket]:{name:"gfmFootnoteDefinition",tokenize:eme,continuation:{tokenize:tme},exit:nme}},text:{[j.leftSquareBracket]:{name:"gfmFootnoteCall",tokenize:Jpe},[j.rightSquareBracket]:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:Gpe,resolveTo:Qpe}}}}function Gpe(t,e,n){const r=this;let s=r.events.length;const o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let l;for(;s--;){const f=r.events[s][1];if(f.type===z.labelImage){l=f;break}if(f.type==="gfmFootnoteCall"||f.type===z.labelLink||f.type===z.label||f.type===z.image||f.type===z.link)break}return c;function c(f){if(we(f===j.rightSquareBracket,"expected `]`"),!l||!l._balanced)return n(f);const h=to(r.sliceSerialize({start:l.end,end:r.now()}));return h.codePointAt(0)!==j.caret||!o.includes(h.slice(1))?n(f):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(f),t.exit("gfmFootnoteCallLabelMarker"),e(f))}}function Qpe(t,e){let n=t.length,r;for(;n--;)if(t[n][1].type===z.labelImage&&t[n][0]==="enter"){r=t[n][1];break}we(r,"expected `labelStart` to resolve"),t[n+1][1].type=z.data,t[n+3][1].type="gfmFootnoteCallLabelMarker";const s={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},o={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};o.end.column++,o.end.offset++,o.end._bufferIndex++;const l={type:"gfmFootnoteCallString",start:Object.assign({},o.end),end:Object.assign({},t[t.length-1][1].start)},c={type:z.chunkString,contentType:"string",start:Object.assign({},l.start),end:Object.assign({},l.end)},f=[t[n+1],t[n+2],["enter",s,e],t[n+3],t[n+4],["enter",o,e],["exit",o,e],["enter",l,e],["enter",c,e],["exit",c,e],["exit",l,e],t[t.length-2],t[t.length-1],["exit",s,e]];return t.splice(n,t.length-n+1,...f),t}function Jpe(t,e,n){const r=this,s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o=0,l;return c;function c(m){return we(m===j.leftSquareBracket,"expected `[`"),t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(m),t.exit("gfmFootnoteCallLabelMarker"),f}function f(m){return m!==j.caret?n(m):(t.enter("gfmFootnoteCallMarker"),t.consume(m),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",h)}function h(m){if(o>dt.linkReferenceSizeMax||m===j.rightSquareBracket&&!l||m===j.eof||m===j.leftSquareBracket||Wn(m))return n(m);if(m===j.rightSquareBracket){t.exit("chunkString");const b=t.exit("gfmFootnoteCallString");return s.includes(to(r.sliceSerialize(b)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(m),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):n(m)}return Wn(m)||(l=!0),o++,t.consume(m),m===j.backslash?p:h}function p(m){return m===j.leftSquareBracket||m===j.backslash||m===j.rightSquareBracket?(t.consume(m),o++,h):h(m)}}function eme(t,e,n){const r=this,s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o,l=0,c;return f;function f(E){return we(E===j.leftSquareBracket,"expected `[`"),t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(E),t.exit("gfmFootnoteDefinitionLabelMarker"),h}function h(E){return E===j.caret?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(E),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",p):n(E)}function p(E){if(l>dt.linkReferenceSizeMax||E===j.rightSquareBracket&&!c||E===j.eof||E===j.leftSquareBracket||Wn(E))return n(E);if(E===j.rightSquareBracket){t.exit("chunkString");const T=t.exit("gfmFootnoteDefinitionLabelString");return o=to(r.sliceSerialize(T)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(E),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),b}return Wn(E)||(c=!0),l++,t.consume(E),E===j.backslash?m:p}function m(E){return E===j.leftSquareBracket||E===j.backslash||E===j.rightSquareBracket?(t.consume(E),l++,p):p(E)}function b(E){return E===j.colon?(t.enter("definitionMarker"),t.consume(E),t.exit("definitionMarker"),s.includes(o)||s.push(o),xn(t,_,"gfmFootnoteDefinitionWhitespace")):n(E)}function _(E){return e(E)}}function tme(t,e,n){return t.check(Pm,e,t.attempt(Kpe,e,n))}function nme(t){t.exit("gfmFootnoteDefinition")}function rme(t,e,n){const r=this;return xn(t,s,"gfmFootnoteDefinitionIndent",dt.tabSize+1);function s(o){const l=r.events[r.events.length-1];return l&&l[1].type==="gfmFootnoteDefinitionIndent"&&l[2].sliceSerialize(l[1],!0).length===dt.tabSize?e(o):n(o)}}function sme(t){let n=(t||{}).singleTilde;const r={name:"strikethrough",tokenize:o,resolveAll:s};return n==null&&(n=!0),{text:{[j.tilde]:r},insideSpan:{null:[r]},attentionMarkers:{null:[j.tilde]}};function s(l,c){let f=-1;for(;++f<l.length;)if(l[f][0]==="enter"&&l[f][1].type==="strikethroughSequenceTemporary"&&l[f][1]._close){let h=f;for(;h--;)if(l[h][0]==="exit"&&l[h][1].type==="strikethroughSequenceTemporary"&&l[h][1]._open&&l[f][1].end.offset-l[f][1].start.offset===l[h][1].end.offset-l[h][1].start.offset){l[f][1].type="strikethroughSequence",l[h][1].type="strikethroughSequence";const p={type:"strikethrough",start:Object.assign({},l[h][1].start),end:Object.assign({},l[f][1].end)},m={type:"strikethroughText",start:Object.assign({},l[h][1].end),end:Object.assign({},l[f][1].start)},b=[["enter",p,c],["enter",l[h][1],c],["exit",l[h][1],c],["enter",m,c]],_=c.parser.constructs.insideSpan.null;_&&ui(b,b.length,0,pv(_,l.slice(h+1,f),c)),ui(b,b.length,0,[["exit",m,c],["enter",l[f][1],c],["exit",l[f][1],c],["exit",p,c]]),ui(l,h-1,f-h+3,b),f=h+b.length-2;break}}for(f=-1;++f<l.length;)l[f][1].type==="strikethroughSequenceTemporary"&&(l[f][1].type=z.data);return l}function o(l,c,f){const h=this.previous,p=this.events;let m=0;return b;function b(E){return we(E===j.tilde,"expected `~`"),h===j.tilde&&p[p.length-1][1].type!==z.characterEscape?f(E):(l.enter("strikethroughSequenceTemporary"),_(E))}function _(E){const T=Ad(h);if(E===j.tilde)return m>1?f(E):(l.consume(E),m++,_);if(m<2&&!n)return f(E);const C=l.exit("strikethroughSequenceTemporary"),D=Ad(E);return C._open=!D||D===dt.attentionSideAfter&&!!T,C._close=!T||T===dt.attentionSideAfter&&!!D,c(E)}}}class ime{constructor(){this.map=[]}add(e,n,r){ome(this,e,n,r)}consume(e){if(this.map.sort(function(o,l){return o[0]-l[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(e.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),e.length=this.map[n][0];r.push(e.slice()),e.length=0;let s=r.pop();for(;s;){for(const o of s)e.push(o);s=r.pop()}this.map.length=0}}function ome(t,e,n,r){let s=0;if(!(n===0&&r.length===0)){for(;s<t.map.length;){if(t.map[s][0]===e){t.map[s][1]+=n,t.map[s][2].push(...r);return}s+=1}t.map.push([e,n,r])}}function ame(t,e){we(t[e][1].type==="table","expected table");let n=!1;const r=[];for(;e<t.length;){const s=t[e];if(n){if(s[0]==="enter")s[1].type==="tableContent"&&r.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(s[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const o=r.length-1;r[o]=r[o]==="left"?"center":"right"}}else if(s[1].type==="tableDelimiterRow")break}else s[0]==="enter"&&s[1].type==="tableDelimiterRow"&&(n=!0);e+=1}return r}function lme(){return{flow:{null:{name:"table",tokenize:cme,resolveAll:ume}}}}function cme(t,e,n){const r=this;let s=0,o=0,l;return c;function c(K){let Q=r.events.length-1;for(;Q>-1;){const le=r.events[Q][1].type;if(le===z.lineEnding||le===z.linePrefix)Q--;else break}const de=Q>-1?r.events[Q][1].type:null,pe=de==="tableHead"||de==="tableRow"?O:f;return pe===O&&r.parser.lazy[r.now().line]?n(K):pe(K)}function f(K){return t.enter("tableHead"),t.enter("tableRow"),h(K)}function h(K){return K===j.verticalBar||(l=!0,o+=1),p(K)}function p(K){return K===j.eof?n(K):vt(K)?o>1?(o=0,r.interrupt=!0,t.exit("tableRow"),t.enter(z.lineEnding),t.consume(K),t.exit(z.lineEnding),_):n(K):hn(K)?xn(t,p,z.whitespace)(K):(o+=1,l&&(l=!1,s+=1),K===j.verticalBar?(t.enter("tableCellDivider"),t.consume(K),t.exit("tableCellDivider"),l=!0,p):(t.enter(z.data),m(K)))}function m(K){return K===j.eof||K===j.verticalBar||Wn(K)?(t.exit(z.data),p(K)):(t.consume(K),K===j.backslash?b:m)}function b(K){return K===j.backslash||K===j.verticalBar?(t.consume(K),m):m(K)}function _(K){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(K):(t.enter("tableDelimiterRow"),l=!1,hn(K)?(we(r.parser.constructs.disable.null,"expected `disabled.null`"),xn(t,E,z.linePrefix,r.parser.constructs.disable.null.includes("codeIndented")?void 0:dt.tabSize)(K)):E(K))}function E(K){return K===j.dash||K===j.colon?C(K):K===j.verticalBar?(l=!0,t.enter("tableCellDivider"),t.consume(K),t.exit("tableCellDivider"),T):L(K)}function T(K){return hn(K)?xn(t,C,z.whitespace)(K):C(K)}function C(K){return K===j.colon?(o+=1,l=!0,t.enter("tableDelimiterMarker"),t.consume(K),t.exit("tableDelimiterMarker"),D):K===j.dash?(o+=1,D(K)):K===j.eof||vt(K)?U(K):L(K)}function D(K){return K===j.dash?(t.enter("tableDelimiterFiller"),M(K)):L(K)}function M(K){return K===j.dash?(t.consume(K),M):K===j.colon?(l=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(K),t.exit("tableDelimiterMarker"),P):(t.exit("tableDelimiterFiller"),P(K))}function P(K){return hn(K)?xn(t,U,z.whitespace)(K):U(K)}function U(K){return K===j.verticalBar?E(K):K===j.eof||vt(K)?!l||s!==o?L(K):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(K)):L(K)}function L(K){return n(K)}function O(K){return t.enter("tableRow"),Y(K)}function Y(K){return K===j.verticalBar?(t.enter("tableCellDivider"),t.consume(K),t.exit("tableCellDivider"),Y):K===j.eof||vt(K)?(t.exit("tableRow"),e(K)):hn(K)?xn(t,Y,z.whitespace)(K):(t.enter(z.data),ne(K))}function ne(K){return K===j.eof||K===j.verticalBar||Wn(K)?(t.exit(z.data),Y(K)):(t.consume(K),K===j.backslash?G:ne)}function G(K){return K===j.backslash||K===j.verticalBar?(t.consume(K),ne):ne(K)}}function ume(t,e){let n=-1,r=!0,s=0,o=[0,0,0,0],l=[0,0,0,0],c=!1,f=0,h,p,m;const b=new ime;for(;++n<t.length;){const _=t[n],E=_[1];_[0]==="enter"?E.type==="tableHead"?(c=!1,f!==0&&(we(h,"there should be a table opening"),iI(b,e,f,h,p),p=void 0,f=0),h={type:"table",start:Object.assign({},E.start),end:Object.assign({},E.end)},b.add(n,0,[["enter",h,e]])):E.type==="tableRow"||E.type==="tableDelimiterRow"?(r=!0,m=void 0,o=[0,0,0,0],l=[0,n+1,0,0],c&&(c=!1,p={type:"tableBody",start:Object.assign({},E.start),end:Object.assign({},E.end)},b.add(n,0,[["enter",p,e]])),s=E.type==="tableDelimiterRow"?2:p?3:1):s&&(E.type===z.data||E.type==="tableDelimiterMarker"||E.type==="tableDelimiterFiller")?(r=!1,l[2]===0&&(o[1]!==0&&(l[0]=l[1],m=lx(b,e,o,s,void 0,m),o=[0,0,0,0]),l[2]=n)):E.type==="tableCellDivider"&&(r?r=!1:(o[1]!==0&&(l[0]=l[1],m=lx(b,e,o,s,void 0,m)),o=l,l=[o[1],n,0,0])):E.type==="tableHead"?(c=!0,f=n):E.type==="tableRow"||E.type==="tableDelimiterRow"?(f=n,o[1]!==0?(l[0]=l[1],m=lx(b,e,o,s,n,m)):l[1]!==0&&(m=lx(b,e,l,s,n,m)),s=0):s&&(E.type===z.data||E.type==="tableDelimiterMarker"||E.type==="tableDelimiterFiller")&&(l[3]=n)}for(f!==0&&(we(h,"expected table opening"),iI(b,e,f,h,p)),b.consume(e.events),n=-1;++n<e.events.length;){const _=e.events[n];_[0]==="enter"&&_[1].type==="table"&&(_[1]._align=ame(e.events,n))}return t}function lx(t,e,n,r,s,o){const l=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",c="tableContent";n[0]!==0&&(we(o,"expected previous cell enter"),o.end=Object.assign({},Bf(e.events,n[0])),t.add(n[0],0,[["exit",o,e]]));const f=Bf(e.events,n[1]);if(o={type:l,start:Object.assign({},f),end:Object.assign({},f)},t.add(n[1],0,[["enter",o,e]]),n[2]!==0){const h=Bf(e.events,n[2]),p=Bf(e.events,n[3]),m={type:c,start:Object.assign({},h),end:Object.assign({},p)};if(t.add(n[2],0,[["enter",m,e]]),we(n[3]!==0),r!==2){const b=e.events[n[2]],_=e.events[n[3]];if(b[1].end=Object.assign({},_[1].end),b[1].type=z.chunkText,b[1].contentType=dt.contentTypeText,n[3]>n[2]+1){const E=n[2]+1,T=n[3]-n[2]-1;t.add(E,T,[])}}t.add(n[3]+1,0,[["exit",m,e]])}return s!==void 0&&(o.end=Object.assign({},Bf(e.events,s)),t.add(s,0,[["exit",o,e]]),o=void 0),o}function iI(t,e,n,r,s){const o=[],l=Bf(e.events,n);s&&(s.end=Object.assign({},l),o.push(["exit",s,e])),r.end=Object.assign({},l),o.push(["exit",r,e]),t.add(n+1,0,o)}function Bf(t,e){const n=t[e],r=n[0]==="enter"?"start":"end";return n[1][r]}const fme={name:"tasklistCheck",tokenize:hme};function dme(){return{text:{[j.leftSquareBracket]:fme}}}function hme(t,e,n){const r=this;return s;function s(f){return we(f===j.leftSquareBracket,"expected `[`"),r.previous!==j.eof||!r._gfmTasklistFirstContentOfListItem?n(f):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(f),t.exit("taskListCheckMarker"),o)}function o(f){return Wn(f)?(t.enter("taskListCheckValueUnchecked"),t.consume(f),t.exit("taskListCheckValueUnchecked"),l):f===j.uppercaseX||f===j.lowercaseX?(t.enter("taskListCheckValueChecked"),t.consume(f),t.exit("taskListCheckValueChecked"),l):n(f)}function l(f){return f===j.rightSquareBracket?(t.enter("taskListCheckMarker"),t.consume(f),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),c):n(f)}function c(f){return vt(f)?e(f):hn(f)?t.check({tokenize:pme},e,n)(f):n(f)}}function pme(t,e,n){return xn(t,r,z.whitespace);function r(s){return s===j.eof?n(s):e(s)}}function mme(t){return Z6([Bpe(),Zpe(),sme(t),lme(),dme()])}const gme={};function bme(t){const e=this,n=t||gme,r=e.data(),s=r.micromarkExtensions||(r.micromarkExtensions=[]),o=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),l=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);s.push(mme(n)),o.push(Ope()),l.push(Upe(n))}const xme=async()=>{const t=await fetch("http://localhost:3333/api/activities");if(!t.ok)throw new Error("Failed to fetch activities");return t.json()},cx=({content:t,fileName:e,activityId:n})=>{const[r,s]=k.useState("rendered"),o=async()=>{try{await navigator.clipboard.writeText(t),Ft.success("Copied to clipboard",`${e} content copied successfully`)}catch(c){console.error("Failed to copy to clipboard:",c),Ft.error("Copy failed","Unable to copy content to clipboard")}},l=async()=>{try{const c=await fetch("http://localhost:3333/api/open-file",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({filePath:`.cntx/activities/activities/${n}/${e}`})});if(!c.ok){const f=await c.json();throw new Error(f.error||"Failed to open file via API")}Ft.success("Opening file in editor...")}catch(c){console.error("Failed to open in editor:",c),Ft.error("Could not open file",c.message)}};return x.jsxDEV("div",{className:"space-y-2",children:[x.jsxDEV("div",{className:"flex items-center justify-between border-b border-border pb-2",children:[x.jsxDEV("div",{className:"flex items-center space-x-1",children:[x.jsxDEV(Dt,{variant:r==="rendered"?"secondary":"ghost",size:"sm",onClick:()=>s("rendered"),className:"h-6 px-2 text-xs",children:[x.jsxDEV(hO,{className:"w-3 h-3 mr-1"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:101,columnNumber:13},void 0),"Rendered"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:95,columnNumber:11},void 0),x.jsxDEV(Dt,{variant:r==="raw"?"secondary":"ghost",size:"sm",onClick:()=>s("raw"),className:"h-6 px-2 text-xs",children:[x.jsxDEV(bE,{className:"w-3 h-3 mr-1"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:110,columnNumber:13},void 0),"Raw"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:104,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:94,columnNumber:9},void 0),x.jsxDEV("div",{className:"flex items-center space-x-1",children:[x.jsxDEV(Dt,{variant:"ghost",size:"sm",onClick:o,className:"h-6 px-2 text-xs",title:"Copy to clipboard",children:x.jsxDEV(pd,{className:"w-3 h-3"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:122,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:115,columnNumber:11},void 0),x.jsxDEV(Dt,{variant:"ghost",size:"sm",onClick:l,className:"h-6 px-2 text-xs",title:"Open in editor",children:x.jsxDEV(iu,{className:"w-3 h-3"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:131,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:124,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:114,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:93,columnNumber:7},void 0),x.jsxDEV("div",{className:"overflow-auto max-h-80",children:r==="rendered"?x.jsxDEV("div",{className:"prose prose-sm dark:prose-invert max-w-none",children:x.jsxDEV(she,{remarkPlugins:[bme],components:{h1:({children:c})=>x.jsxDEV("h1",{className:"text-lg font-semibold mb-3 mt-4 first:mt-0",children:c},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:144,columnNumber:39},void 0),h2:({children:c})=>x.jsxDEV("h2",{className:"text-base font-semibold mb-2 mt-3",children:c},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:145,columnNumber:39},void 0),h3:({children:c})=>x.jsxDEV("h3",{className:"text-sm font-semibold mb-2 mt-3",children:c},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:146,columnNumber:39},void 0),p:({children:c})=>x.jsxDEV("p",{className:"text-sm mb-2 leading-relaxed",children:c},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:147,columnNumber:38},void 0),ul:({children:c})=>x.jsxDEV("ul",{className:"text-sm space-y-1 mb-3 ml-4",children:c},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:148,columnNumber:39},void 0),ol:({children:c})=>x.jsxDEV("ol",{className:"text-sm space-y-1 mb-3 ml-4",children:c},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:149,columnNumber:39},void 0),li:({children:c})=>x.jsxDEV("li",{className:"text-sm",children:c},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:150,columnNumber:39},void 0),code:({children:c})=>x.jsxDEV("code",{className:"bg-muted px-1 py-0.5 rounded text-xs font-mono",children:c},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:151,columnNumber:41},void 0),pre:({children:c})=>x.jsxDEV("pre",{className:"bg-muted p-3 rounded-md text-xs font-mono overflow-x-auto mb-3",children:c},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:152,columnNumber:40},void 0),blockquote:({children:c})=>x.jsxDEV("blockquote",{className:"border-l-2 border-muted-foreground/20 pl-3 italic text-muted-foreground text-sm mb-3",children:c},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:153,columnNumber:47},void 0),table:({children:c})=>x.jsxDEV("table",{className:"text-xs border-collapse border border-border mb-3 w-full",children:c},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:154,columnNumber:42},void 0),th:({children:c})=>x.jsxDEV("th",{className:"border border-border px-2 py-1 bg-muted font-semibold text-left",children:c},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:155,columnNumber:39},void 0),td:({children:c})=>x.jsxDEV("td",{className:"border border-border px-2 py-1",children:c},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:156,columnNumber:39},void 0),input:({type:c,checked:f,...h})=>c==="checkbox"?x.jsxDEV("input",{type:"checkbox",checked:f,disabled:!0,className:"mr-2 scale-75",...h},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:160,columnNumber:21},void 0):x.jsxDEV("input",{...h},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:167,columnNumber:23},void 0)},children:t},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:140,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:139,columnNumber:11},void 0):x.jsxDEV("pre",{className:"whitespace-pre-wrap text-xs font-mono bg-muted/50 p-3 rounded border",children:t},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:175,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:137,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:91,columnNumber:5},void 0)};function yme(){const[t,e]=k.useState(null),{data:n=[],isLoading:r,error:s,refetch:o}=Di({queryKey:["activities"],queryFn:xme,refetchInterval:3e4}),l=f=>{switch(f){case"completed":return x.jsxDEV(Gi,{className:"h-3 w-3"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:196,columnNumber:16},this);case"in_progress":return x.jsxDEV(VN,{className:"h-3 w-3"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:198,columnNumber:16},this);case"failed":return x.jsxDEV(Ai,{className:"h-3 w-3"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:200,columnNumber:16},this);default:return x.jsxDEV(VN,{className:"h-3 w-3"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:202,columnNumber:16},this)}},c=f=>x.jsxDEV(yn,{variant:"outline",className:"text-xs py-0",children:f.replace("_"," ")},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:207,columnNumber:5},this);return r?x.jsxDEV("div",{className:"space-y-3",children:[x.jsxDEV("div",{className:"flex items-center justify-between",children:[x.jsxDEV("h2",{className:"text-lg font-medium",children:"Activities"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:216,columnNumber:11},this),x.jsxDEV(Hs,{className:"h-4 w-4 animate-spin"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:217,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:215,columnNumber:9},this),x.jsxDEV("div",{className:"space-y-2",children:[1,2,3].map(f=>x.jsxDEV(vn,{className:"animate-pulse",children:x.jsxDEV(Pn,{className:"p-3",children:[x.jsxDEV("div",{className:"h-3 bg-muted rounded w-3/4 mb-2"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:223,columnNumber:17},this),x.jsxDEV("div",{className:"h-2 bg-muted rounded w-1/2"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:224,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:222,columnNumber:15},this)},f,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:221,columnNumber:13},this))},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:219,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:214,columnNumber:7},this):s?x.jsxDEV("div",{className:"space-y-3",children:[x.jsxDEV("h2",{className:"text-lg font-medium",children:"Activities"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:236,columnNumber:9},this),x.jsxDEV(vn,{children:x.jsxDEV(Pn,{className:"p-4",children:x.jsxDEV("div",{className:"text-center space-y-2",children:[x.jsxDEV(Ai,{className:"h-6 w-6 mx-auto"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:240,columnNumber:15},this),x.jsxDEV("p",{className:"text-sm font-medium",children:"Failed to load activities"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:241,columnNumber:15},this),x.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Make sure the cntx-ui server is running and activities are configured."},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:242,columnNumber:15},this),x.jsxDEV(Dt,{onClick:()=>o(),variant:"outline",size:"sm",children:[x.jsxDEV(Hs,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:246,columnNumber:17},this),"Retry"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:245,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:239,columnNumber:13},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:238,columnNumber:11},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:237,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:235,columnNumber:7},this):x.jsxDEV("div",{className:"space-y-4",children:[x.jsxDEV("div",{className:"flex items-center justify-between",children:[x.jsxDEV("div",{children:[x.jsxDEV("h2",{className:"text-lg font-medium flex items-center gap-2",children:[x.jsxDEV(uO,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:261,columnNumber:13},this),"Activities (",n.length,")"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:260,columnNumber:11},this),x.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Agent task definitions and progress"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:264,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:259,columnNumber:9},this),x.jsxDEV(Dt,{onClick:()=>o(),variant:"ghost",size:"sm",children:[x.jsxDEV(Hs,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:267,columnNumber:11},this),"Refresh"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:266,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:258,columnNumber:7},this),n.length===0?x.jsxDEV(vn,{children:x.jsxDEV(Pn,{className:"p-6",children:x.jsxDEV("div",{className:"text-center space-y-2",children:[x.jsxDEV(Yp,{className:"h-8 w-8 mx-auto text-muted-foreground"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:276,columnNumber:15},this),x.jsxDEV("h3",{className:"text-sm font-medium",children:"No activities found"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:277,columnNumber:15},this),x.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Activities will appear here once they are defined in your .cntx/activities directory."},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:278,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:275,columnNumber:13},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:274,columnNumber:11},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:273,columnNumber:9},this):x.jsxDEV("div",{className:"space-y-2",children:n.map(f=>x.jsxDEV(vn,{className:"overflow-hidden",children:[x.jsxDEV(gr,{className:"pb-2 cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>e(t===f.id?null:f.id),children:x.jsxDEV("div",{className:"flex items-center justify-between",children:[x.jsxDEV("div",{className:"flex items-center space-x-2",children:[t===f.id?x.jsxDEV(bm,{className:"h-3 w-3"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:295,columnNumber:23},this):x.jsxDEV(dO,{className:"h-3 w-3"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:296,columnNumber:23},this),l(f.status),x.jsxDEV("div",{children:x.jsxDEV(Nr,{className:"text-sm",children:f.name},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:300,columnNumber:23},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:299,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:293,columnNumber:19},this),x.jsxDEV("div",{className:"flex items-center space-x-2",children:[c(f.status),f.progress!==void 0&&f.progress>0&&x.jsxDEV("div",{className:"flex items-center space-x-2",children:[x.jsxDEV(KS,{value:f.progress,className:"w-16 h-2"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:308,columnNumber:25},this),x.jsxDEV(yn,{variant:"secondary",className:"text-xs py-0",children:[f.progress,"%"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:309,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:307,columnNumber:23},this),f.tags&&f.tags.map(h=>x.jsxDEV(yn,{variant:"outline",className:"text-xs py-0",children:h},h,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:315,columnNumber:23},this))]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:304,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:292,columnNumber:17},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:288,columnNumber:15},this),t===f.id&&x.jsxDEV(Pn,{className:"pt-0 pb-2",children:x.jsxDEV(Hl,{defaultValue:"readme",className:"w-full",children:[x.jsxDEV(Wl,{className:"grid w-full bg-card grid-cols-4 h-8 space-x-2",children:[x.jsxDEV(ir,{value:"readme",className:"text-xs border-accent-muted",children:"README"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:327,columnNumber:23},this),x.jsxDEV(ir,{value:"progress",className:"text-xs border-accent-muted",children:"Progress"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:328,columnNumber:23},this),x.jsxDEV(ir,{value:"tasks",className:"text-xs border-accent-muted",children:"Tasks"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:329,columnNumber:23},this),x.jsxDEV(ir,{value:"notes",className:"text-xs border-accent-muted",children:"Notes"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:330,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:326,columnNumber:21},this),x.jsxDEV(or,{value:"readme",className:"mt-2 mb-0",children:x.jsxDEV(cx,{content:f.files.readme,fileName:"README.md",activityId:f.id},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:334,columnNumber:23},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:333,columnNumber:21},this),x.jsxDEV(or,{value:"progress",className:"mt-2 mb-0",children:[f.progress>0&&x.jsxDEV("div",{className:"mb-4 p-3 bg-muted/50 rounded-md",children:[x.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:[x.jsxDEV("span",{className:"text-sm font-medium",children:"Overall Progress"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:345,columnNumber:29},this),x.jsxDEV("span",{className:"text-sm text-muted-foreground",children:[f.progress,"%"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:346,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:344,columnNumber:27},this),x.jsxDEV(KS,{value:f.progress,className:"w-full h-3"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:348,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:343,columnNumber:25},this),x.jsxDEV(cx,{content:f.files.progress,fileName:"progress.md",activityId:f.id},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:351,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:341,columnNumber:21},this),x.jsxDEV(or,{value:"tasks",className:"mt-2 mb-0",children:x.jsxDEV(cx,{content:f.files.tasks,fileName:"tasks.md",activityId:f.id},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:359,columnNumber:23},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:358,columnNumber:21},this),x.jsxDEV(or,{value:"notes",className:"mt-2 mb-0",children:x.jsxDEV(cx,{content:f.files.notes,fileName:"notes.md",activityId:f.id},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:367,columnNumber:23},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:366,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:325,columnNumber:19},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:324,columnNumber:17},this)]},f.id,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:287,columnNumber:13},this))},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:285,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:257,columnNumber:5},this)}var vme="Label",LB=k.forwardRef((t,e)=>Me.jsx(Mt.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));LB.displayName=vme;var _me=LB;function oI({className:t,...e}){return x.jsxDEV(_me,{"data-slot":"label",className:Wt("flex items-center gap-2 text-sm leading-none font-thin select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/label.tsx",lineNumber:11,columnNumber:5},this)}const wme=async()=>{const t=await fetch("http://localhost:3333/api/config");if(!t.ok)throw new Error("Failed to fetch config");return t.json()},Nme=async t=>{const e=await fetch("http://localhost:3333/api/config",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok)throw new Error("Failed to save config");return e.json()};function Sme(){const t=Rd(),[e,n]=k.useState("code"),[r,s]=k.useState(""),{data:o,isLoading:l}=Di({queryKey:["config"],queryFn:wme});k.useEffect(()=>{o!=null&&o.editor&&(["code","subl","system"].includes(o.editor)?n(o.editor):(n("custom"),s(o.editor)))},[o]);const c=Rx({mutationFn:Nme,onSuccess:()=>{t.invalidateQueries({queryKey:["config"]}),Ft.success("Editor preference saved")},onError:h=>{Ft.error(`Failed to save: ${h.message}`)}}),f=()=>{const p={...o,editor:e==="custom"?r:e};c.mutate(p)};return x.jsxDEV(vn,{children:[x.jsxDEV(gr,{children:x.jsxDEV(Nr,{className:"flex items-center gap-2 text-sm font-thin",children:[x.jsxDEV(xE,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/EditorPreference.tsx",lineNumber:70,columnNumber:11},this),"Editor Preference"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/EditorPreference.tsx",lineNumber:69,columnNumber:9},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/EditorPreference.tsx",lineNumber:68,columnNumber:7},this),x.jsxDEV(Pn,{className:"space-y-4",children:[x.jsxDEV("div",{className:"space-y-2",children:[x.jsxDEV(oI,{htmlFor:"editor-select",children:"Select your preferred editor"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/EditorPreference.tsx",lineNumber:76,columnNumber:11},this),x.jsxDEV(wa,{value:e,onValueChange:n,children:[x.jsxDEV(Mo,{id:"editor-select",children:x.jsxDEV(yl,{placeholder:"Select an editor"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/EditorPreference.tsx",lineNumber:79,columnNumber:15},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/EditorPreference.tsx",lineNumber:78,columnNumber:13},this),x.jsxDEV(jo,{children:[x.jsxDEV(wr,{value:"code",children:"Visual Studio Code"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/EditorPreference.tsx",lineNumber:82,columnNumber:15},this),x.jsxDEV(wr,{value:"subl",children:"Sublime Text"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/EditorPreference.tsx",lineNumber:83,columnNumber:15},this),x.jsxDEV(wr,{value:"system",children:"System Default"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/EditorPreference.tsx",lineNumber:84,columnNumber:15},this),x.jsxDEV(wr,{value:"custom",children:"Custom"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/EditorPreference.tsx",lineNumber:85,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/EditorPreference.tsx",lineNumber:81,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/EditorPreference.tsx",lineNumber:77,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/EditorPreference.tsx",lineNumber:75,columnNumber:9},this),e==="custom"&&x.jsxDEV("div",{className:"space-y-2",children:[x.jsxDEV(oI,{htmlFor:"custom-editor-input",children:"Custom editor command"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/EditorPreference.tsx",lineNumber:92,columnNumber:13},this),x.jsxDEV(HE,{id:"custom-editor-input",value:r,onChange:h=>s(h.target.value),placeholder:"e.g., atom -w"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/EditorPreference.tsx",lineNumber:93,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/EditorPreference.tsx",lineNumber:91,columnNumber:11},this),x.jsxDEV("div",{className:"flex justify-end",children:x.jsxDEV(Dt,{onClick:f,disabled:c.isPending,size:"sm",className:"h-7 text-xs",children:[x.jsxDEV(Dx,{className:"w-3 h-3 mr-1"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/EditorPreference.tsx",lineNumber:104,columnNumber:13},this),c.isPending?"Saving...":"Save"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/EditorPreference.tsx",lineNumber:103,columnNumber:11},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/EditorPreference.tsx",lineNumber:102,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/EditorPreference.tsx",lineNumber:74,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/EditorPreference.tsx",lineNumber:67,columnNumber:5},this)}const Eme=async t=>{const e=await fetch(`http://localhost:3333/api/${t}`);if(!e.ok)throw new Error(`Failed to fetch ${t} file`);return e.text()},Tme=async({endpoint:t,content:e})=>{const n=await fetch(`http://localhost:3333/api/${t}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:e})});if(!n.ok)throw new Error(`Failed to save ${t} file`);return n.json()};function aI({fileType:t,endpoint:e,filePath:n}){const r=Rd(),[s,o]=k.useState(""),[l,c]=k.useState(!1),{data:f,isLoading:h}=Di({queryKey:[t],queryFn:()=>Eme(e)});k.useEffect(()=>{f!==void 0&&(o(f),c(!1))},[f]);const p=Rx({mutationFn:Tme,onSuccess:()=>{r.invalidateQueries({queryKey:[t]}),c(!1),Ft.success(`${t} file saved`)},onError:C=>Ft.error(`Failed to save: ${C.message}`)}),m=C=>{o(C),c(C!==f)},b=()=>{p.mutate({endpoint:e,content:s})},_=()=>{o(f||""),c(!1)},E=async()=>{try{await navigator.clipboard.writeText(s),Ft.success("Copied to clipboard")}catch(C){console.error("Failed to copy to clipboard:",C),Ft.error("Copy failed")}},T=async()=>{try{const C=await fetch("http://localhost:3333/api/open-file",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({filePath:n})});if(!C.ok){const D=await C.json();throw new Error(D.error||"Failed to open file")}Ft.success(`Opening ${t} in editor...`)}catch(C){console.error("Failed to open in editor:",C),Ft.error(`Could not open file: ${C.message}`)}};return x.jsxDEV(vn,{children:[x.jsxDEV(gr,{className:"flex flex-row items-center justify-between",children:[x.jsxDEV(Nr,{className:"flex items-center gap-2 text-sm font-thin",children:[x.jsxDEV(Yp,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:102,columnNumber:11},this),t]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:101,columnNumber:9},this),x.jsxDEV("div",{className:"flex items-center gap-1",children:[x.jsxDEV(Dt,{variant:"ghost",size:"sm",onClick:E,className:"h-7 px-2",children:x.jsxDEV(pd,{className:"w-3 h-3"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:106,columnNumber:92},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:106,columnNumber:11},this),x.jsxDEV(Dt,{variant:"ghost",size:"sm",onClick:T,className:"h-7 px-2",children:x.jsxDEV(iu,{className:"w-3 h-3"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:107,columnNumber:89},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:107,columnNumber:11},this),l&&x.jsxDEV(Dt,{variant:"outline",size:"sm",onClick:_,className:"h-7 text-xs",children:[x.jsxDEV(K7,{className:"w-3 h-3 mr-1"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:110,columnNumber:15},this),"Reset"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:109,columnNumber:13},this),x.jsxDEV(Dt,{onClick:b,disabled:!l||p.isPending,size:"sm",className:"h-7 text-xs",children:[x.jsxDEV(Dx,{className:"w-3 h-3 mr-1"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:115,columnNumber:13},this),p.isPending?"Saving...":"Save"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:114,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:105,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:100,columnNumber:7},this),x.jsxDEV(Pn,{className:"space-y-4",children:h?x.jsxDEV("div",{className:"text-center py-8 text-muted-foreground",children:["Loading ",t," file..."]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:122,columnNumber:11},this):x.jsxDEV(x.Fragment,{children:[x.jsxDEV(nS,{value:s,onChange:C=>m(C.target.value),placeholder:`# Add ignore patterns for ${t}, one per line`,className:"min-h-[300px] font-mono text-xs"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:127,columnNumber:13},this),x.jsxDEV("div",{className:"text-xs text-muted-foreground",children:[s.split(`
`).filter(C=>C.trim()&&!C.trim().startsWith("#")).length," active patterns"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:133,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:126,columnNumber:11},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:120,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:99,columnNumber:5},this)}function Ame(){return x.jsxDEV("div",{className:"space-y-6",children:[x.jsxDEV(Hl,{defaultValue:"cntxignore",children:[x.jsxDEV(Wl,{children:[x.jsxDEV(ir,{value:"cntxignore",children:".cntxignore"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:148,columnNumber:11},this),x.jsxDEV(ir,{value:"gitignore",children:".gitignore"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:149,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:147,columnNumber:9},this),x.jsxDEV(or,{value:"cntxignore",children:x.jsxDEV(aI,{fileType:".cntxignore",endpoint:"cntxignore",filePath:".cntxignore"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:152,columnNumber:11},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:151,columnNumber:9},this),x.jsxDEV(or,{value:"gitignore",children:x.jsxDEV(aI,{fileType:".gitignore",endpoint:"gitignore",filePath:".gitignore"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:155,columnNumber:11},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:154,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:146,columnNumber:7},this),x.jsxDEV(vn,{children:x.jsxDEV(Pn,{className:"pt-6",children:x.jsxDEV("div",{className:"text-xs text-muted-foreground space-y-2",children:[x.jsxDEV("div",{children:x.jsxDEV("strong",{children:"Common patterns:"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:161,columnNumber:18},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:161,columnNumber:13},this),x.jsxDEV("div",{children:["• ",x.jsxDEV("code",{children:"node_modules/**"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:162,columnNumber:20},this)," - Ignore all node_modules"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:162,columnNumber:13},this),x.jsxDEV("div",{children:["• ",x.jsxDEV("code",{children:"*.log"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:163,columnNumber:20},this)," - Ignore log files"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:163,columnNumber:13},this),x.jsxDEV("div",{children:["• ",x.jsxDEV("code",{children:"src/debug/**"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:164,columnNumber:20},this)," - Ignore debug directory"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:164,columnNumber:13},this),x.jsxDEV("div",{children:["• ",x.jsxDEV("code",{children:"**/*.test.*"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:165,columnNumber:20},this)," - Ignore test files"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:165,columnNumber:13},this),x.jsxDEV("div",{children:["• ",x.jsxDEV("code",{children:".git/**"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:166,columnNumber:20},this)," - Ignore git directory"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:166,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:160,columnNumber:11},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:159,columnNumber:9},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:158,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:145,columnNumber:5},this)}function Cme(){return x.jsxDEV(Hl,{defaultValue:"ignore",children:[x.jsxDEV(Wl,{children:[x.jsxDEV(ir,{value:"ignore",children:"File Ignore Patterns"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:178,columnNumber:9},this),x.jsxDEV(ir,{value:"editor",children:"Editor Preference"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:179,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:177,columnNumber:7},this),x.jsxDEV(or,{value:"ignore",children:x.jsxDEV(Ame,{},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:182,columnNumber:9},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:181,columnNumber:7},this),x.jsxDEV(or,{value:"editor",children:x.jsxDEV(Sme,{},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:185,columnNumber:9},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:184,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:176,columnNumber:5},this)}function Rme(){return x.jsxDEV(vn,{children:[x.jsxDEV(gr,{children:x.jsxDEV(Nr,{className:"flex items-center gap-2 text-sm font-thin",children:[x.jsxDEV(bE,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:13,columnNumber:11},this),"Context Management for React Developers"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:12,columnNumber:9},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:11,columnNumber:7},this),x.jsxDEV(Pn,{className:"space-y-4",children:[x.jsxDEV(em,{className:"border-accent",children:[x.jsxDEV(yE,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:19,columnNumber:11},this),x.jsxDEV(tm,{children:[x.jsxDEV("strong",{children:"Target Audience:"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:21,columnNumber:13},this)," React developers who want AI context management as trivial to run as a linter."]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:20,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:18,columnNumber:9},this),x.jsxDEV("div",{className:"space-y-4",children:[x.jsxDEV("div",{children:[x.jsxDEV("h4",{className:"text-sm font-thin mb-2",children:"What This Tool Does"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:27,columnNumber:13},this),x.jsxDEV("div",{className:"text-xs text-muted-foreground space-y-2",children:[x.jsxDEV("div",{children:"• Creates focused code bundles for AI consumption (not copy-paste chaos)"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:29,columnNumber:15},this),x.jsxDEV("div",{children:"• Provides function-level semantic chunking with surgical precision"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:30,columnNumber:15},this),x.jsxDEV("div",{children:"• Acts as MCP server so AI agents access your codebase through APIs"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:31,columnNumber:15},this),x.jsxDEV("div",{children:"• Automatically organizes code by bundle membership and complexity"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:32,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:28,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:26,columnNumber:11},this),x.jsxDEV("div",{children:[x.jsxDEV("h4",{className:"text-sm font-thin mb-2",children:"Quick Start"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:37,columnNumber:13},this),x.jsxDEV("div",{className:"text-xs text-muted-foreground space-y-2",children:[x.jsxDEV("div",{children:["1. ",x.jsxDEV("strong",{children:"MCP Setup:"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:39,columnNumber:23},this)," ",x.jsxDEV("code",{className:"bg-muted px-1 rounded",children:"cntx-ui setup-mcp"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:39,columnNumber:51},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:39,columnNumber:15},this),x.jsxDEV("div",{children:["2. ",x.jsxDEV("strong",{children:"Create Bundles:"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:40,columnNumber:23},this)," Use Bundle Config tab to organize your code"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:40,columnNumber:15},this),x.jsxDEV("div",{children:["3. ",x.jsxDEV("strong",{children:"AI Access:"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:41,columnNumber:23},this)," Claude/Cursor connects via MCP automatically"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:41,columnNumber:15},this),x.jsxDEV("div",{children:["4. ",x.jsxDEV("strong",{children:"Semantic Analysis:"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:42,columnNumber:23},this)," View function-level chunks in Semantic Chunks tab"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:42,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:38,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:36,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:25,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:17,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:10,columnNumber:5},this)}function kme(){return x.jsxDEV(vn,{children:[x.jsxDEV(gr,{children:x.jsxDEV(Nr,{className:"flex items-center gap-2 text-sm font-thin",children:[x.jsxDEV(pO,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:57,columnNumber:11},this),"Function-Level Semantic Chunking"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:56,columnNumber:9},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:55,columnNumber:7},this),x.jsxDEV(Pn,{className:"space-y-4",children:[x.jsxDEV("div",{children:[x.jsxDEV("h4",{className:"text-sm font-thin mb-2",children:"Why Function-Level Chunks Matter"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:63,columnNumber:11},this),x.jsxDEV("div",{className:"text-xs text-muted-foreground space-y-2",children:[x.jsxDEV("div",{children:["• ",x.jsxDEV("strong",{children:"Surgical precision:"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:65,columnNumber:20},this)," AI gets exactly the function it needs, not entire files"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:65,columnNumber:13},this),x.jsxDEV("div",{children:["• ",x.jsxDEV("strong",{children:"Context inclusion:"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:66,columnNumber:20},this)," Each chunk includes necessary imports and types"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:66,columnNumber:13},this),x.jsxDEV("div",{children:["• ",x.jsxDEV("strong",{children:"Bundle inheritance:"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:67,columnNumber:20},this)," Functions automatically grouped by bundle membership"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:67,columnNumber:13},this),x.jsxDEV("div",{children:["• ",x.jsxDEV("strong",{children:"Complexity analysis:"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:68,columnNumber:20},this)," Identify refactoring candidates with complexity scoring"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:68,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:64,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:62,columnNumber:9},this),x.jsxDEV("div",{children:[x.jsxDEV("h4",{className:"text-sm font-thin mb-2",children:"Filtering & Organization"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:73,columnNumber:11},this),x.jsxDEV("div",{className:"text-xs text-muted-foreground space-y-2",children:[x.jsxDEV("div",{children:["• ",x.jsxDEV("strong",{children:"By Bundle:"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:75,columnNumber:20},this)," See all frontend vs server functions"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:75,columnNumber:13},this),x.jsxDEV("div",{children:["• ",x.jsxDEV("strong",{children:"By Type:"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:76,columnNumber:20},this)," React components, hooks, arrow functions, methods"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:76,columnNumber:13},this),x.jsxDEV("div",{children:["• ",x.jsxDEV("strong",{children:"By Complexity:"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:77,columnNumber:20},this)," Find high-complexity functions needing refactoring"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:77,columnNumber:13},this),x.jsxDEV("div",{children:["• ",x.jsxDEV("strong",{children:"By Purpose:"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:78,columnNumber:20},this)," API handlers, validation, data processing"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:78,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:74,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:72,columnNumber:9},this),x.jsxDEV("div",{className:"p-3 rounded border border-accent",children:x.jsxDEV("div",{className:"text-xs",children:[x.jsxDEV("strong",{children:"💡 Pro Tip:"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:84,columnNumber:13},this)," Large functions that don't fit in chunks signal refactoring opportunities. The tool nudges better code practices rather than working around bad ones."]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:83,columnNumber:11},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:82,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:61,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:54,columnNumber:5},this)}function Pme(){return x.jsxDEV(vn,{children:[x.jsxDEV(gr,{children:x.jsxDEV(Nr,{className:"flex items-center gap-2 text-sm font-thin",children:[x.jsxDEV(E7,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:99,columnNumber:11},this),"MCP Server Integration"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:98,columnNumber:9},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:97,columnNumber:7},this),x.jsxDEV(Pn,{className:"space-y-4",children:[x.jsxDEV("div",{children:[x.jsxDEV("h4",{className:"text-xs font-thin mb-2",children:"How AI Agents Access Your Code"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:105,columnNumber:11},this),x.jsxDEV("div",{className:"text-xs text-muted-foreground space-y-1",children:[x.jsxDEV("div",{children:["• ",x.jsxDEV("strong",{children:"Gated access:"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:107,columnNumber:20},this)," AI doesn't dump entire codebase, uses API navigation"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:107,columnNumber:13},this),x.jsxDEV("div",{children:["• ",x.jsxDEV("strong",{children:"Bundle-first approach:"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:108,columnNumber:20},this)," AI sees organized bundles before master bundle"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:108,columnNumber:13},this),x.jsxDEV("div",{children:["• ",x.jsxDEV("strong",{children:"Real-time updates:"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:109,columnNumber:20},this)," Changes immediately available to connected AI"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:109,columnNumber:13},this),x.jsxDEV("div",{children:["• ",x.jsxDEV("strong",{children:"Function-level precision:"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:110,columnNumber:20},this)," AI can request specific functions via semantic chunks"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:110,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:106,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:104,columnNumber:9},this),x.jsxDEV("div",{children:[x.jsxDEV("h4",{className:"text-xs font-thin mb-2",children:"Available MCP Tools"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:115,columnNumber:11},this),x.jsxDEV("div",{className:"text-xs text-muted-foreground space-y-1",children:[x.jsxDEV("div",{children:["• ",x.jsxDEV("code",{children:"list_bundles"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:117,columnNumber:20},this)," - Show available bundle organization"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:117,columnNumber:13},this),x.jsxDEV("div",{children:["• ",x.jsxDEV("code",{children:"get_bundle"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:118,columnNumber:20},this)," - Retrieve focused code bundles"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:118,columnNumber:13},this),x.jsxDEV("div",{children:["• ",x.jsxDEV("code",{children:"get_semantic_chunks"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:119,columnNumber:20},this)," - Access function-level chunks"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:119,columnNumber:13},this),x.jsxDEV("div",{children:["• ",x.jsxDEV("code",{children:"get_file_tree"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:120,columnNumber:20},this)," - Navigate project structure"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:120,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:116,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:114,columnNumber:9},this),x.jsxDEV("div",{className:"bg-green-50 p-3 rounded border border-green-200",children:x.jsxDEV("div",{className:"text-xs",children:[x.jsxDEV("strong",{children:"🎯 Setup:"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:126,columnNumber:13},this)," Run ",x.jsxDEV("code",{className:"bg-muted px-1 rounded",children:"cntx-ui setup-mcp"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:126,columnNumber:44},this),"and your AI tools (Claude Desktop, Cursor) will automatically connect."]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:125,columnNumber:11},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:124,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:103,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:96,columnNumber:5},this)}function Dme(){return x.jsxDEV(vn,{children:[x.jsxDEV(gr,{children:x.jsxDEV(Nr,{className:"flex items-center gap-2 text-sm font-thin",children:[x.jsxDEV(k7,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:141,columnNumber:11},this),"AI-Assisted Context Management"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:140,columnNumber:9},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:139,columnNumber:7},this),x.jsxDEV(Pn,{className:"space-y-4",children:[x.jsxDEV("div",{children:[x.jsxDEV("h4",{className:"text-xs font-thin mb-2",children:"How AI Navigates Your Code"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:147,columnNumber:11},this),x.jsxDEV("div",{className:"text-xs text-muted-foreground space-y-1",children:[x.jsxDEV("div",{children:["• ",x.jsxDEV("strong",{children:"Gated access:"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:149,columnNumber:20},this)," AI doesn't see master bundle first - uses API navigation"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:149,columnNumber:13},this),x.jsxDEV("div",{children:["• ",x.jsxDEV("strong",{children:"Function-level precision:"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:150,columnNumber:20},this)," Requests specific functions via semantic chunks"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:150,columnNumber:13},this),x.jsxDEV("div",{children:["• ",x.jsxDEV("strong",{children:"Bundle discovery:"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:151,columnNumber:20},this)," Explores organized bundles before diving deep"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:151,columnNumber:13},this),x.jsxDEV("div",{children:["• ",x.jsxDEV("strong",{children:"Context control:"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:152,columnNumber:20},this)," You control what AI sees through bundle organization"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:152,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:148,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:146,columnNumber:9},this),x.jsxDEV("div",{children:[x.jsxDEV("h4",{className:"text-xs font-thin mb-2",children:"AI Bundle Creation (Coming Soon)"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:157,columnNumber:11},this),x.jsxDEV("div",{className:"text-xs text-muted-foreground space-y-1",children:[x.jsxDEV("div",{children:["• ",x.jsxDEV("strong",{children:'"Find all API stuff":'},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:159,columnNumber:20},this)," AI analyzes semantic chunks and creates focused bundles"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:159,columnNumber:13},this),x.jsxDEV("div",{children:["• ",x.jsxDEV("strong",{children:'"Group React hooks":'},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:160,columnNumber:20},this)," Intelligent pattern detection and organization"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:160,columnNumber:13},this),x.jsxDEV("div",{children:["• ",x.jsxDEV("strong",{children:'"Optimize bundles":'},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:161,columnNumber:20},this)," AI suggests better organization based on code relationships"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:161,columnNumber:13},this),x.jsxDEV("div",{children:["• ",x.jsxDEV("strong",{children:"Smart maintenance:"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:162,columnNumber:20},this)," AI updates bundles as your code evolves"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:162,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:158,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:156,columnNumber:9},this),x.jsxDEV("div",{className:"bg-green-50 p-3 rounded border border-green-200",children:x.jsxDEV("div",{className:"text-xs",children:[x.jsxDEV("strong",{children:"🎯 Philosophy:"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:168,columnNumber:13},this)," Context management as trivial as running a linter. AI handles the heavy lifting, you focus on building features."]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:167,columnNumber:11},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:166,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:145,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:138,columnNumber:5},this)}function Mme(){return x.jsxDEV(vn,{children:[x.jsxDEV(gr,{children:x.jsxDEV(Nr,{className:"flex items-center gap-2 text-sm font-thin",children:[x.jsxDEV(a9,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:183,columnNumber:11},this),"Essential CLI Commands"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:182,columnNumber:9},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:181,columnNumber:7},this),x.jsxDEV(Pn,{children:x.jsxDEV("div",{className:"space-y-3",children:[x.jsxDEV("div",{children:[x.jsxDEV("h4",{className:"text-xs font-thin mb-2",children:"Most Used Commands"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:190,columnNumber:13},this),x.jsxDEV("div",{className:"space-y-2",children:[x.jsxDEV("div",{className:"flex items-center gap-3",children:[x.jsxDEV("code",{className:"bg-muted px-2 py-1 rounded text-xs font-mono",children:"cntx-ui setup-mcp"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:193,columnNumber:17},this),x.jsxDEV("span",{className:"text-xs text-muted-foreground",children:"Setup MCP for AI tools"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:194,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:192,columnNumber:15},this),x.jsxDEV("div",{className:"flex items-center gap-3",children:[x.jsxDEV("code",{className:"bg-muted px-2 py-1 rounded text-xs font-mono",children:"cntx-ui watch"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:197,columnNumber:17},this),x.jsxDEV("span",{className:"text-xs text-muted-foreground",children:"Start server (use web interface)"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:198,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:196,columnNumber:15},this),x.jsxDEV("div",{className:"flex items-center gap-3",children:[x.jsxDEV("code",{className:"bg-muted px-2 py-1 rounded text-xs font-mono",children:"cntx-ui mcp"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:201,columnNumber:17},this),x.jsxDEV("span",{className:"text-xs text-muted-foreground",children:"Start MCP server only"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:202,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:200,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:191,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:189,columnNumber:11},this),x.jsxDEV("div",{className:"bg-gray-50 p-3 rounded border",children:x.jsxDEV("div",{className:"text-xs text-muted-foreground",children:[x.jsxDEV("strong",{children:"Recommendation:"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:209,columnNumber:15},this)," Use the web interface for bundle management. CLI is mainly for automation and MCP server startup."]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:208,columnNumber:13},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:207,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:188,columnNumber:9},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:187,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:180,columnNumber:5},this)}function jme(){return x.jsxDEV("div",{className:"space-y-6",children:[x.jsxDEV("div",{children:[x.jsxDEV("h1",{className:"text-lg font-thin tracking-tight",children:"Help & Documentation"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:223,columnNumber:9},this),x.jsxDEV("p",{className:"text-xs text-muted-foreground font-thin",children:"Usage guides and workflow instructions"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:224,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:222,columnNumber:7},this),x.jsxDEV(Hl,{defaultValue:"usage-guidance",className:"w-full",children:[x.jsxDEV(Wl,{className:"grid w-full grid-cols-5 h-8",children:[x.jsxDEV(ir,{value:"usage-guidance",className:"text-xs",children:"Usage Guidance"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:228,columnNumber:11},this),x.jsxDEV(ir,{value:"semantic-features",className:"text-xs",children:"Semantic Features"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:229,columnNumber:11},this),x.jsxDEV(ir,{value:"mcp-features",className:"text-xs",children:"MCP Features"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:230,columnNumber:11},this),x.jsxDEV(ir,{value:"ai-workflow",className:"text-xs",children:"AI Workflow"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:231,columnNumber:11},this),x.jsxDEV(ir,{value:"cli-reference",className:"text-xs",children:"CLI Reference"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:232,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:227,columnNumber:9},this),x.jsxDEV(or,{value:"usage-guidance",className:"mt-2",children:x.jsxDEV(Rme,{},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:236,columnNumber:11},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:235,columnNumber:9},this),x.jsxDEV(or,{value:"semantic-features",className:"mt-2",children:x.jsxDEV(kme,{},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:239,columnNumber:11},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:238,columnNumber:9},this),x.jsxDEV(or,{value:"mcp-features",className:"mt-2",children:x.jsxDEV(Pme,{},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:242,columnNumber:11},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:241,columnNumber:9},this),x.jsxDEV(or,{value:"ai-workflow",className:"mt-2",children:x.jsxDEV(Dme,{},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:245,columnNumber:11},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:244,columnNumber:9},this),x.jsxDEV(or,{value:"cli-reference",className:"mt-2",children:x.jsxDEV(Mme,{},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:248,columnNumber:11},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:247,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:226,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:221,columnNumber:5},this)}const Ime=new PI,Ome=[{id:"bundles",label:"Bundles & Files",icon:UN},{id:"semantic",label:"Semantic Chunks",icon:r9},{id:"vector-db",label:"Vector Database",icon:FN},{id:"activities",label:"Activities",icon:uO},{id:"settings",label:"Settings",icon:xE},{id:"ai-rules",label:"AI Rules",icon:BN},{id:"system-status",label:"System Status",icon:Gi},{id:"help",label:"Help & Documentation",icon:o7}],zB="cntx-ui-preferences",Ume=()=>{try{const t=localStorage.getItem(zB);if(t)return{...lI,...JSON.parse(t)}}catch(t){console.warn("Failed to load preferences from localStorage:",t)}return lI},Vme=t=>{try{localStorage.setItem(zB,JSON.stringify(t))}catch(e){console.warn("Failed to save preferences to localStorage:",e)}},lI={sidebarCollapsed:!1,activeSection:"bundles"};function Fme(){const[t,e]=k.useState("connecting"),[n,r]=k.useState("unknown"),[s,o]=k.useState(Ume),{sidebarCollapsed:l,activeSection:c}=s,f=b=>{const _={...s,...b};o(_),Vme(_)},h=b=>{f({sidebarCollapsed:b})},p=b=>{f({activeSection:b})};k.useEffect(()=>{const b=new WebSocket("ws://localhost:3333");b.onopen=()=>e("connected"),b.onclose=()=>e("disconnected");const _=async()=>{try{const T=await fetch("/api/mcp-status");if(T.ok){const{running:C}=await T.json();r(C?"running":"stopped")}else r("stopped")}catch{r("stopped")}};_();const E=setInterval(_,1e4);return()=>{b.close(),clearInterval(E)}},[]);const m=()=>{switch(c){case"bundles":return x.jsxDEV("div",{className:"flex-1 min-h-0 flex",children:x.jsxDEV("main",{className:"flex-1 min-h-0 flex flex-col",children:x.jsxDEV(PY,{},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:166,columnNumber:15},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:165,columnNumber:13},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:164,columnNumber:11},this);case"semantic":return x.jsxDEV("div",{className:"space-y-6",children:[x.jsxDEV("div",{children:[x.jsxDEV("h1",{className:"text-lg font-thin tracking-tight",children:"Semantic Chunks"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:174,columnNumber:15},this),x.jsxDEV("p",{className:"text-xs text-muted-foreground font-thin",children:"AI-powered code organization and intelligent bundles"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:175,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:173,columnNumber:13},this),x.jsxDEV(YY,{},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:177,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:172,columnNumber:11},this);case"vector-db":return x.jsxDEV("div",{className:"space-y-6",children:x.jsxDEV(Ile,{},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:183,columnNumber:13},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:182,columnNumber:11},this);case"activities":return x.jsxDEV(yme,{},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:188,columnNumber:11},this);case"settings":return x.jsxDEV("div",{className:"space-y-6",children:[x.jsxDEV("div",{children:[x.jsxDEV("h1",{className:"text-lg font-thin tracking-tight",children:"Settings"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:194,columnNumber:15},this),x.jsxDEV("p",{className:"text-xs text-muted-foreground font-thin",children:"Configure file visibility and bundle patterns"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:195,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:193,columnNumber:13},this),x.jsxDEV(Cme,{},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:197,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:192,columnNumber:11},this);case"ai-rules":return x.jsxDEV("div",{className:"space-y-6",children:[x.jsxDEV("div",{children:[x.jsxDEV("h1",{className:"text-lg font-thin tracking-tight",children:"AI Rules"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:204,columnNumber:15},this),x.jsxDEV("p",{className:"text-xs text-muted-foreground font-thin",children:"Configure AI context and project guidelines"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:205,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:203,columnNumber:13},this),x.jsxDEV(UY,{},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:207,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:202,columnNumber:11},this);case"system-status":return x.jsxDEV("div",{className:"space-y-6",children:[x.jsxDEV("div",{children:[x.jsxDEV("h1",{className:"text-lg font-thin tracking-tight",children:"System Status"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:214,columnNumber:15},this),x.jsxDEV("p",{className:"text-xs text-muted-foreground font-thin",children:"Overall health and configuration of cntx-ui"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:215,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:213,columnNumber:13},this),x.jsxDEV(LY,{},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:217,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:212,columnNumber:11},this);case"help":return x.jsxDEV(jme,{},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:222,columnNumber:11},this);default:return null}};return x.jsxDEV(jI,{client:Ime,children:x.jsxDEV("div",{className:"h-screen bg-background overflow-hidden flex flex-col",children:[l&&x.jsxDEV("div",{className:"h-16 border-b flex items-center px-4 flex-shrink-0",children:[x.jsxDEV("div",{className:"flex items-center gap-4 flex-1",children:x.jsxDEV("div",{className:"flex items-center gap-2",children:x.jsxDEV("div",{children:[x.jsxDEV("h2",{className:"text-sm font-thin",children:"cntx-ui"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:241,columnNumber:19},this),x.jsxDEV("p",{className:"text-xs text-muted-foreground font-thin",children:"Context Manager"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:242,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:240,columnNumber:17},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:236,columnNumber:15},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:235,columnNumber:13},this),x.jsxDEV("div",{className:"flex items-center gap-4",children:[x.jsxDEV("div",{className:"text-xs text-muted-foreground",children:"cntx-ui v2.0.12"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:247,columnNumber:15},this),x.jsxDEV(r2,{},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:250,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:246,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:234,columnNumber:11},this),x.jsxDEV("div",{className:"flex flex-1",style:{height:l?"calc(100vh - 4rem)":"100%"},children:[x.jsxDEV("div",{className:`${l?"w-16":"w-64"} border-r flex flex-col h-full transition-all duration-200`,children:[!l&&x.jsxDEV("div",{className:"p-4 border-b flex-shrink-0",children:x.jsxDEV("div",{className:"flex items-center gap-2",children:[x.jsxDEV("div",{className:"flex-1",children:[x.jsxDEV("h2",{className:"text-sm font-thin",children:"cntx-ui"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:266,columnNumber:21},this),x.jsxDEV("p",{className:"text-xs text-muted-foreground font-thin",children:"Context Manager"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:267,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:265,columnNumber:19},this),x.jsxDEV(Dt,{variant:"ghost",size:"sm",onClick:()=>h(!0),className:"h-6 w-6 p-0 opacity-60 hover:opacity-100",children:x.jsxDEV(ii,{className:"w-3 h-3"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:275,columnNumber:21},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:269,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:261,columnNumber:17},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:260,columnNumber:15},this),l&&x.jsxDEV("div",{className:"p-3 border-b flex-shrink-0 flex justify-center",children:x.jsxDEV(Dt,{variant:"ghost",size:"sm",onClick:()=>h(!1),className:"h-8 w-8 p-0",children:x.jsxDEV(F7,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:290,columnNumber:19},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:284,columnNumber:17},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:283,columnNumber:15},this),x.jsxDEV("nav",{className:`${l?"p-2":"p-4"} space-y-1 flex-1 overflow-y-auto`,children:Ome.map(b=>{const _=b.icon,E=c===b.id;return x.jsxDEV(Dt,{variant:E?"secondary":"ghost",className:`${l?"w-12 h-12 p-0 justify-center":"w-full justify-start h-8 text-xs font-thin"} transition-all`,onClick:()=>p(b.id),title:l?b.label:void 0,children:[x.jsxDEV(_,{className:`${l?"w-4 h-4":"w-3 h-3 mr-2"}`},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:312,columnNumber:21},this),!l&&b.label]},b.id,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:302,columnNumber:19},this)})},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:296,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:257,columnNumber:11},this),x.jsxDEV("div",{className:"flex-1 overflow-y-auto pb-12",children:x.jsxDEV("main",{className:"p-6 max-w-6xl",children:m()},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:322,columnNumber:13},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:321,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:255,columnNumber:9},this),x.jsxDEV("div",{className:"fixed left-0 right-0 h-10 bg-card border-t border-border px-4 flex items-center justify-between z-40 bottom-0",children:[x.jsxDEV("div",{className:"flex items-center gap-6",children:[x.jsxDEV("div",{className:"flex items-center gap-2",children:[x.jsxDEV("div",{className:`w-2 h-2 rounded-full ${t==="connected"?"bg-[color:var(--color-success)]":t==="connecting"?"bg-[color:var(--color-warning)]":"bg-destructive"}`},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:334,columnNumber:15},this),x.jsxDEV("span",{className:"text-xs font-thin",children:["UI: ",t==="connected"?"Live":t==="connecting"?"Connecting":"Offline"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:337,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:333,columnNumber:13},this),x.jsxDEV("div",{className:"flex items-center gap-2",children:[x.jsxDEV("div",{className:`w-2 h-2 rounded-full ${n==="running"?"bg-[color:var(--color-success)]":n==="stopped"?"bg-destructive":"bg-muted-foreground"}`},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:345,columnNumber:15},this),x.jsxDEV("span",{className:"text-xs font-thin",children:["MCP SERVER: ",n==="running"?"Running":n==="stopped"?"Stopped":"Unknown"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:348,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:344,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:331,columnNumber:11},this),!l&&x.jsxDEV("div",{className:"flex items-center gap-4",children:[x.jsxDEV("div",{className:"text-xs text-muted-foreground",children:"cntx-ui v2.0.12"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:357,columnNumber:15},this),x.jsxDEV(r2,{},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:360,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:356,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:329,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:231,columnNumber:7},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:230,columnNumber:5},this)}const Bme=new PI;b8.createRoot(document.getElementById("root")).render(x.jsxDEV(k.StrictMode,{children:x.jsxDEV(jI,{client:Bme,children:x.jsxDEV(dH,{attribute:"class",defaultTheme:"system",enableSystem:!0,disableTransitionOnChange:!0,children:[x.jsxDEV(Fme,{},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/main.tsx",lineNumber:21,columnNumber:9},void 0),x.jsxDEV(tH,{},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/main.tsx",lineNumber:22,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/main.tsx",lineNumber:15,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/main.tsx",lineNumber:14,columnNumber:5},void 0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/main.tsx",lineNumber:13,columnNumber:3},void 0));
