var l8=Object.defineProperty;var VD=t=>{throw TypeError(t)};var c8=(t,e,n)=>e in t?l8(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var H=(t,e,n)=>c8(t,typeof e!="symbol"?e+"":e,n),M_=(t,e,n)=>e.has(t)||VD("Cannot "+n);var be=(t,e,n)=>(M_(t,e,"read from private field"),n?n.call(t):e.get(t)),Rt=(t,e,n)=>e.has(t)?VD("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),yt=(t,e,n,r)=>(M_(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Jt=(t,e,n)=>(M_(t,e,"access private method"),n);var Cb=(t,e,n,r)=>({set _(s){yt(t,e,s,n)},get _(){return be(t,e,r)}});function u8(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var FD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function wI(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var I_={exports:{}},Rb={},O_={exports:{}},_p={exports:{}};_p.exports;var BD;function f8(){return BD||(BD=1,function(t,e){/**
 * @license React
 * react.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){function n($,Ee){Object.defineProperty(o.prototype,$,{get:function(){console.warn("%s(...) is deprecated in plain JavaScript React classes. %s",Ee[0],Ee[1])}})}function r($){return $===null||typeof $!="object"?null:($=Ye&&$[Ye]||$["@@iterator"],typeof $=="function"?$:null)}function s($,Ee){$=($=$.constructor)&&($.displayName||$.name)||"ReactClass";var rt=$+"."+Ee;tt[rt]||(console.error("Can't call %s on a component that is not yet mounted. This is a no-op, but it might indicate a bug in your application. Instead, assign to `this.state` directly or define a `state = {};` class property with the desired state in the %s component.",Ee,$),tt[rt]=!0)}function o($,Ee,rt){this.props=$,this.context=Ee,this.refs=lt,this.updater=rt||Ue}function l(){}function c($,Ee,rt){this.props=$,this.context=Ee,this.refs=lt,this.updater=rt||Ue}function f($){return""+$}function h($){try{f($);var Ee=!1}catch{Ee=!0}if(Ee){Ee=console;var rt=Ee.error,ut=typeof Symbol=="function"&&Symbol.toStringTag&&$[Symbol.toStringTag]||$.constructor.name||"Object";return rt.call(Ee,"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",ut),f($)}}function p($){if($==null)return null;if(typeof $=="function")return $.$$typeof===Ot?null:$.displayName||$.name||null;if(typeof $=="string")return $;switch($){case V:return"Fragment";case se:return"Profiler";case fe:return"StrictMode";case xe:return"Suspense";case he:return"SuspenseList";case qe:return"Activity"}if(typeof $=="object")switch(typeof $.tag=="number"&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),$.$$typeof){case Ke:return"Portal";case ce:return($.displayName||"Context")+".Provider";case B:return($._context.displayName||"Context")+".Consumer";case Z:var Ee=$.render;return $=$.displayName,$||($=Ee.displayName||Ee.name||"",$=$!==""?"ForwardRef("+$+")":"ForwardRef"),$;case oe:return Ee=$.displayName||null,Ee!==null?Ee:p($.type)||"Memo";case De:Ee=$._payload,$=$._init;try{return p($(Ee))}catch{}}return null}function m($){if($===V)return"<>";if(typeof $=="object"&&$!==null&&$.$$typeof===De)return"<...>";try{var Ee=p($);return Ee?"<"+Ee+">":"<...>"}catch{return"<...>"}}function x(){var $=Pt.A;return $===null?null:$.getOwner()}function w(){return Error("react-stack-top-frame")}function E($){if(cr.call($,"key")){var Ee=Object.getOwnPropertyDescriptor($,"key").get;if(Ee&&Ee.isReactWarning)return!1}return $.key!==void 0}function T($,Ee){function rt(){Wr||(Wr=!0,console.error("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)",Ee))}rt.isReactWarning=!0,Object.defineProperty($,"key",{get:rt,configurable:!0})}function C(){var $=p(this.type);return Ho[$]||(Ho[$]=!0,console.error("Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.")),$=this.props.ref,$!==void 0?$:null}function P($,Ee,rt,ut,Nt,$t,Qt,sn){return rt=$t.ref,$={$$typeof:we,type:$,key:Ee,props:$t,_owner:Nt},(rt!==void 0?rt:null)!==null?Object.defineProperty($,"ref",{enumerable:!1,get:C}):Object.defineProperty($,"ref",{enumerable:!1,value:null}),$._store={},Object.defineProperty($._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:0}),Object.defineProperty($,"_debugInfo",{configurable:!1,enumerable:!1,writable:!0,value:null}),Object.defineProperty($,"_debugStack",{configurable:!1,enumerable:!1,writable:!0,value:Qt}),Object.defineProperty($,"_debugTask",{configurable:!1,enumerable:!1,writable:!0,value:sn}),Object.freeze&&(Object.freeze($.props),Object.freeze($)),$}function j($,Ee){return Ee=P($.type,Ee,void 0,void 0,$._owner,$.props,$._debugStack,$._debugTask),$._store&&(Ee._store.validated=$._store.validated),Ee}function D($){return typeof $=="object"&&$!==null&&$.$$typeof===we}function U($){var Ee={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(rt){return Ee[rt]})}function L($,Ee){return typeof $=="object"&&$!==null&&$.key!=null?(h($.key),U(""+$.key)):Ee.toString(36)}function O(){}function Y($){switch($.status){case"fulfilled":return $.value;case"rejected":throw $.reason;default:switch(typeof $.status=="string"?$.then(O,O):($.status="pending",$.then(function(Ee){$.status==="pending"&&($.status="fulfilled",$.value=Ee)},function(Ee){$.status==="pending"&&($.status="rejected",$.reason=Ee)})),$.status){case"fulfilled":return $.value;case"rejected":throw $.reason}}throw $}function ne($,Ee,rt,ut,Nt){var $t=typeof $;($t==="undefined"||$t==="boolean")&&($=null);var Qt=!1;if($===null)Qt=!0;else switch($t){case"bigint":case"string":case"number":Qt=!0;break;case"object":switch($.$$typeof){case we:case Ke:Qt=!0;break;case De:return Qt=$._init,ne(Qt($._payload),Ee,rt,ut,Nt)}}if(Qt){Qt=$,Nt=Nt(Qt);var sn=ut===""?"."+L(Qt,0):ut;return Yt(Nt)?(rt="",sn!=null&&(rt=sn.replace(zt,"$&/")+"/"),ne(Nt,Ee,rt,"",function(ar){return ar})):Nt!=null&&(D(Nt)&&(Nt.key!=null&&(Qt&&Qt.key===Nt.key||h(Nt.key)),rt=j(Nt,rt+(Nt.key==null||Qt&&Qt.key===Nt.key?"":(""+Nt.key).replace(zt,"$&/")+"/")+sn),ut!==""&&Qt!=null&&D(Qt)&&Qt.key==null&&Qt._store&&!Qt._store.validated&&(rt._store.validated=2),Nt=rt),Ee.push(Nt)),1}if(Qt=0,sn=ut===""?".":ut+":",Yt($))for(var At=0;At<$.length;At++)ut=$[At],$t=sn+L(ut,At),Qt+=ne(ut,Ee,rt,$t,Nt);else if(At=r($),typeof At=="function")for(At===$.entries&&(xt||console.warn("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),xt=!0),$=At.call($),At=0;!(ut=$.next()).done;)ut=ut.value,$t=sn+L(ut,At++),Qt+=ne(ut,Ee,rt,$t,Nt);else if($t==="object"){if(typeof $.then=="function")return ne(Y($),Ee,rt,ut,Nt);throw Ee=String($),Error("Objects are not valid as a React child (found: "+(Ee==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":Ee)+"). If you meant to render a collection of children, use an array instead.")}return Qt}function Q($,Ee,rt){if($==null)return $;var ut=[],Nt=0;return ne($,ut,"","",function($t){return Ee.call(rt,$t,Nt++)}),ut}function K($){if($._status===-1){var Ee=$._result;Ee=Ee(),Ee.then(function(rt){($._status===0||$._status===-1)&&($._status=1,$._result=rt)},function(rt){($._status===0||$._status===-1)&&($._status=2,$._result=rt)}),$._status===-1&&($._status=0,$._result=Ee)}if($._status===1)return Ee=$._result,Ee===void 0&&console.error(`lazy: Expected the result of a dynamic import() call. Instead received: %s

Your code should look like: 
  const MyComponent = lazy(() => import('./MyComponent'))

Did you accidentally put curly braces around the import?`,Ee),"default"in Ee||console.error(`lazy: Expected the result of a dynamic import() call. Instead received: %s

Your code should look like: 
  const MyComponent = lazy(() => import('./MyComponent'))`,Ee),Ee.default;throw $._result}function G(){var $=Pt.H;return $===null&&console.error(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://react.dev/link/invalid-hook-call for tips about how to debug and fix this problem.`),$}function ue(){}function me($){if(rs===null)try{var Ee=("require"+Math.random()).slice(0,7);rs=(t&&t[Ee]).call(t,"timers").setImmediate}catch{rs=function(ut){ur===!1&&(ur=!0,typeof MessageChannel>"u"&&console.error("This browser does not have a MessageChannel implementation, so enqueuing tasks via await act(async () => ...) will fail. Please file an issue at https://github.com/facebook/react/issues if you encounter this warning."));var Nt=new MessageChannel;Nt.port1.onmessage=ut,Nt.port2.postMessage(void 0)}}return rs($)}function le($){return 1<$.length&&typeof AggregateError=="function"?new AggregateError($):$[0]}function ye($,Ee){Ee!==Sr-1&&console.error("You seem to have overlapping act() calls, this is not supported. Be sure to await previous act() calls before making a new one. "),Sr=Ee}function ge($,Ee,rt){var ut=Pt.actQueue;if(ut!==null)if(ut.length!==0)try{Me(ut),me(function(){return ge($,Ee,rt)});return}catch(Nt){Pt.thrownErrors.push(Nt)}else Pt.actQueue=null;0<Pt.thrownErrors.length?(ut=le(Pt.thrownErrors),Pt.thrownErrors.length=0,rt(ut)):Ee($)}function Me($){if(!jr){jr=!0;var Ee=0;try{for(;Ee<$.length;Ee++){var rt=$[Ee];do{Pt.didUsePromise=!1;var ut=rt(!1);if(ut!==null){if(Pt.didUsePromise){$[Ee]=rt,$.splice(0,Ee);return}rt=ut}else break}while(!0)}$.length=0}catch(Nt){$.splice(0,Ee+1),Pt.thrownErrors.push(Nt)}finally{jr=!1}}}typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());var we=Symbol.for("react.transitional.element"),Ke=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),fe=Symbol.for("react.strict_mode"),se=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),ce=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),xe=Symbol.for("react.suspense"),he=Symbol.for("react.suspense_list"),oe=Symbol.for("react.memo"),De=Symbol.for("react.lazy"),qe=Symbol.for("react.activity"),Ye=Symbol.iterator,tt={},Ue={isMounted:function(){return!1},enqueueForceUpdate:function($){s($,"forceUpdate")},enqueueReplaceState:function($){s($,"replaceState")},enqueueSetState:function($){s($,"setState")}},nt=Object.assign,lt={};Object.freeze(lt),o.prototype.isReactComponent={},o.prototype.setState=function($,Ee){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,Ee,"setState")},o.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};var gt={isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."],replaceState:["replaceState","Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."]},Lt;for(Lt in gt)gt.hasOwnProperty(Lt)&&n(Lt,gt[Lt]);l.prototype=o.prototype,gt=c.prototype=new l,gt.constructor=c,nt(gt,o.prototype),gt.isPureReactComponent=!0;var Yt=Array.isArray,Ot=Symbol.for("react.client.reference"),Pt={H:null,A:null,T:null,S:null,V:null,actQueue:null,isBatchingLegacy:!1,didScheduleLegacyUpdate:!1,didUsePromise:!1,thrownErrors:[],getCurrentStack:null,recentlyCreatedOwnerStacks:0},cr=Object.prototype.hasOwnProperty,Cn=console.createTask?console.createTask:function(){return null};gt={"react-stack-bottom-frame":function($){return $()}};var Wr,ms,Ho={},He=gt["react-stack-bottom-frame"].bind(gt,w)(),$e=Cn(m(w)),xt=!1,zt=/\/+/g,un=typeof reportError=="function"?reportError:function($){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof $=="object"&&$!==null&&typeof $.message=="string"?String($.message):String($),error:$});if(!window.dispatchEvent(Ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",$);return}console.error($)},ur=!1,rs=null,Sr=0,Er=!1,jr=!1,er=typeof queueMicrotask=="function"?function($){queueMicrotask(function(){return queueMicrotask($)})}:me;gt=Object.freeze({__proto__:null,c:function($){return G().useMemoCache($)}}),e.Children={map:Q,forEach:function($,Ee,rt){Q($,function(){Ee.apply(this,arguments)},rt)},count:function($){var Ee=0;return Q($,function(){Ee++}),Ee},toArray:function($){return Q($,function(Ee){return Ee})||[]},only:function($){if(!D($))throw Error("React.Children.only expected to receive a single React element child.");return $}},e.Component=o,e.Fragment=V,e.Profiler=se,e.PureComponent=c,e.StrictMode=fe,e.Suspense=xe,e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Pt,e.__COMPILER_RUNTIME=gt,e.act=function($){var Ee=Pt.actQueue,rt=Sr;Sr++;var ut=Pt.actQueue=Ee!==null?Ee:[],Nt=!1;try{var $t=$()}catch(At){Pt.thrownErrors.push(At)}if(0<Pt.thrownErrors.length)throw ye(Ee,rt),$=le(Pt.thrownErrors),Pt.thrownErrors.length=0,$;if($t!==null&&typeof $t=="object"&&typeof $t.then=="function"){var Qt=$t;return er(function(){Nt||Er||(Er=!0,console.error("You called act(async () => ...) without await. This could lead to unexpected testing behaviour, interleaving multiple act calls and mixing their scopes. You should - await act(async () => ...);"))}),{then:function(At,ar){Nt=!0,Qt.then(function(F){if(ye(Ee,rt),rt===0){try{Me(ut),me(function(){return ge(F,At,ar)})}catch(_){Pt.thrownErrors.push(_)}if(0<Pt.thrownErrors.length){var S=le(Pt.thrownErrors);Pt.thrownErrors.length=0,ar(S)}}else At(F)},function(F){ye(Ee,rt),0<Pt.thrownErrors.length&&(F=le(Pt.thrownErrors),Pt.thrownErrors.length=0),ar(F)})}}}var sn=$t;if(ye(Ee,rt),rt===0&&(Me(ut),ut.length!==0&&er(function(){Nt||Er||(Er=!0,console.error("A component suspended inside an `act` scope, but the `act` call was not awaited. When testing React components that depend on asynchronous data, you must await the result:\n\nawait act(() => ...)"))}),Pt.actQueue=null),0<Pt.thrownErrors.length)throw $=le(Pt.thrownErrors),Pt.thrownErrors.length=0,$;return{then:function(At,ar){Nt=!0,rt===0?(Pt.actQueue=ut,me(function(){return ge(sn,At,ar)})):At(sn)}}},e.cache=function($){return function(){return $.apply(null,arguments)}},e.captureOwnerStack=function(){var $=Pt.getCurrentStack;return $===null?null:$()},e.cloneElement=function($,Ee,rt){if($==null)throw Error("The argument must be a React element, but you passed "+$+".");var ut=nt({},$.props),Nt=$.key,$t=$._owner;if(Ee!=null){var Qt;e:{if(cr.call(Ee,"ref")&&(Qt=Object.getOwnPropertyDescriptor(Ee,"ref").get)&&Qt.isReactWarning){Qt=!1;break e}Qt=Ee.ref!==void 0}Qt&&($t=x()),E(Ee)&&(h(Ee.key),Nt=""+Ee.key);for(sn in Ee)!cr.call(Ee,sn)||sn==="key"||sn==="__self"||sn==="__source"||sn==="ref"&&Ee.ref===void 0||(ut[sn]=Ee[sn])}var sn=arguments.length-2;if(sn===1)ut.children=rt;else if(1<sn){Qt=Array(sn);for(var At=0;At<sn;At++)Qt[At]=arguments[At+2];ut.children=Qt}for(ut=P($.type,Nt,void 0,void 0,$t,ut,$._debugStack,$._debugTask),Nt=2;Nt<arguments.length;Nt++)$t=arguments[Nt],D($t)&&$t._store&&($t._store.validated=1);return ut},e.createContext=function($){return $={$$typeof:ce,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null},$.Provider=$,$.Consumer={$$typeof:B,_context:$},$._currentRenderer=null,$._currentRenderer2=null,$},e.createElement=function($,Ee,rt){for(var ut=2;ut<arguments.length;ut++){var Nt=arguments[ut];D(Nt)&&Nt._store&&(Nt._store.validated=1)}if(ut={},Nt=null,Ee!=null)for(At in ms||!("__self"in Ee)||"key"in Ee||(ms=!0,console.warn("Your app (or one of its dependencies) is using an outdated JSX transform. Update to the modern JSX transform for faster performance: https://react.dev/link/new-jsx-transform")),E(Ee)&&(h(Ee.key),Nt=""+Ee.key),Ee)cr.call(Ee,At)&&At!=="key"&&At!=="__self"&&At!=="__source"&&(ut[At]=Ee[At]);var $t=arguments.length-2;if($t===1)ut.children=rt;else if(1<$t){for(var Qt=Array($t),sn=0;sn<$t;sn++)Qt[sn]=arguments[sn+2];Object.freeze&&Object.freeze(Qt),ut.children=Qt}if($&&$.defaultProps)for(At in $t=$.defaultProps,$t)ut[At]===void 0&&(ut[At]=$t[At]);Nt&&T(ut,typeof $=="function"?$.displayName||$.name||"Unknown":$);var At=1e4>Pt.recentlyCreatedOwnerStacks++;return P($,Nt,void 0,void 0,x(),ut,At?Error("react-stack-top-frame"):He,At?Cn(m($)):$e)},e.createRef=function(){var $={current:null};return Object.seal($),$},e.forwardRef=function($){$!=null&&$.$$typeof===oe?console.error("forwardRef requires a render function but received a `memo` component. Instead of forwardRef(memo(...)), use memo(forwardRef(...))."):typeof $!="function"?console.error("forwardRef requires a render function but was given %s.",$===null?"null":typeof $):$.length!==0&&$.length!==2&&console.error("forwardRef render functions accept exactly two parameters: props and ref. %s",$.length===1?"Did you forget to use the ref parameter?":"Any additional parameter will be undefined."),$!=null&&$.defaultProps!=null&&console.error("forwardRef render functions do not support defaultProps. Did you accidentally pass a React component?");var Ee={$$typeof:Z,render:$},rt;return Object.defineProperty(Ee,"displayName",{enumerable:!1,configurable:!0,get:function(){return rt},set:function(ut){rt=ut,$.name||$.displayName||(Object.defineProperty($,"name",{value:ut}),$.displayName=ut)}}),Ee},e.isValidElement=D,e.lazy=function($){return{$$typeof:De,_payload:{_status:-1,_result:$},_init:K}},e.memo=function($,Ee){$==null&&console.error("memo: The first argument must be a component. Instead received: %s",$===null?"null":typeof $),Ee={$$typeof:oe,type:$,compare:Ee===void 0?null:Ee};var rt;return Object.defineProperty(Ee,"displayName",{enumerable:!1,configurable:!0,get:function(){return rt},set:function(ut){rt=ut,$.name||$.displayName||(Object.defineProperty($,"name",{value:ut}),$.displayName=ut)}}),Ee},e.startTransition=function($){var Ee=Pt.T,rt={};Pt.T=rt,rt._updatedFibers=new Set;try{var ut=$(),Nt=Pt.S;Nt!==null&&Nt(rt,ut),typeof ut=="object"&&ut!==null&&typeof ut.then=="function"&&ut.then(ue,un)}catch($t){un($t)}finally{Ee===null&&rt._updatedFibers&&($=rt._updatedFibers.size,rt._updatedFibers.clear(),10<$&&console.warn("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table.")),Pt.T=Ee}},e.unstable_useCacheRefresh=function(){return G().useCacheRefresh()},e.use=function($){return G().use($)},e.useActionState=function($,Ee,rt){return G().useActionState($,Ee,rt)},e.useCallback=function($,Ee){return G().useCallback($,Ee)},e.useContext=function($){var Ee=G();return $.$$typeof===B&&console.error("Calling useContext(Context.Consumer) is not supported and will cause bugs. Did you mean to call useContext(Context) instead?"),Ee.useContext($)},e.useDebugValue=function($,Ee){return G().useDebugValue($,Ee)},e.useDeferredValue=function($,Ee){return G().useDeferredValue($,Ee)},e.useEffect=function($,Ee,rt){$==null&&console.warn("React Hook useEffect requires an effect callback. Did you forget to pass a callback to the hook?");var ut=G();if(typeof rt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ut.useEffect($,Ee)},e.useId=function(){return G().useId()},e.useImperativeHandle=function($,Ee,rt){return G().useImperativeHandle($,Ee,rt)},e.useInsertionEffect=function($,Ee){return $==null&&console.warn("React Hook useInsertionEffect requires an effect callback. Did you forget to pass a callback to the hook?"),G().useInsertionEffect($,Ee)},e.useLayoutEffect=function($,Ee){return $==null&&console.warn("React Hook useLayoutEffect requires an effect callback. Did you forget to pass a callback to the hook?"),G().useLayoutEffect($,Ee)},e.useMemo=function($,Ee){return G().useMemo($,Ee)},e.useOptimistic=function($,Ee){return G().useOptimistic($,Ee)},e.useReducer=function($,Ee,rt){return G().useReducer($,Ee,rt)},e.useRef=function($){return G().useRef($)},e.useState=function($){return G().useState($)},e.useSyncExternalStore=function($,Ee,rt){return G().useSyncExternalStore($,Ee,rt)},e.useTransition=function(){return G().useTransition()},e.version="19.1.0",typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())})()}(_p,_p.exports)),_p.exports}var LD;function hm(){return LD||(LD=1,O_.exports=f8()),O_.exports}var zD;function d8(){if(zD)return Rb;zD=1;/**
 * @license React
 * react-jsx-dev-runtime.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */return function(){function t(V){if(V==null)return null;if(typeof V=="function")return V.$$typeof===K?null:V.displayName||V.name||null;if(typeof V=="string")return V;switch(V){case T:return"Fragment";case P:return"Profiler";case C:return"StrictMode";case L:return"Suspense";case O:return"SuspenseList";case Q:return"Activity"}if(typeof V=="object")switch(typeof V.tag=="number"&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),V.$$typeof){case E:return"Portal";case D:return(V.displayName||"Context")+".Provider";case j:return(V._context.displayName||"Context")+".Consumer";case U:var fe=V.render;return V=V.displayName,V||(V=fe.displayName||fe.name||"",V=V!==""?"ForwardRef("+V+")":"ForwardRef"),V;case Y:return fe=V.displayName||null,fe!==null?fe:t(V.type)||"Memo";case ne:fe=V._payload,V=V._init;try{return t(V(fe))}catch{}}return null}function e(V){return""+V}function n(V){try{e(V);var fe=!1}catch{fe=!0}if(fe){fe=console;var se=fe.error,B=typeof Symbol=="function"&&Symbol.toStringTag&&V[Symbol.toStringTag]||V.constructor.name||"Object";return se.call(fe,"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",B),e(V)}}function r(V){if(V===T)return"<>";if(typeof V=="object"&&V!==null&&V.$$typeof===ne)return"<...>";try{var fe=t(V);return fe?"<"+fe+">":"<...>"}catch{return"<...>"}}function s(){var V=G.A;return V===null?null:V.getOwner()}function o(){return Error("react-stack-top-frame")}function l(V){if(ue.call(V,"key")){var fe=Object.getOwnPropertyDescriptor(V,"key").get;if(fe&&fe.isReactWarning)return!1}return V.key!==void 0}function c(V,fe){function se(){ye||(ye=!0,console.error("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)",fe))}se.isReactWarning=!0,Object.defineProperty(V,"key",{get:se,configurable:!0})}function f(){var V=t(this.type);return ge[V]||(ge[V]=!0,console.error("Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.")),V=this.props.ref,V!==void 0?V:null}function h(V,fe,se,B,ce,Z,xe,he){return se=Z.ref,V={$$typeof:w,type:V,key:fe,props:Z,_owner:ce},(se!==void 0?se:null)!==null?Object.defineProperty(V,"ref",{enumerable:!1,get:f}):Object.defineProperty(V,"ref",{enumerable:!1,value:null}),V._store={},Object.defineProperty(V._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:0}),Object.defineProperty(V,"_debugInfo",{configurable:!1,enumerable:!1,writable:!0,value:null}),Object.defineProperty(V,"_debugStack",{configurable:!1,enumerable:!1,writable:!0,value:xe}),Object.defineProperty(V,"_debugTask",{configurable:!1,enumerable:!1,writable:!0,value:he}),Object.freeze&&(Object.freeze(V.props),Object.freeze(V)),V}function p(V,fe,se,B,ce,Z,xe,he){var oe=fe.children;if(oe!==void 0)if(B)if(me(oe)){for(B=0;B<oe.length;B++)m(oe[B]);Object.freeze&&Object.freeze(oe)}else console.error("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else m(oe);if(ue.call(fe,"key")){oe=t(V);var De=Object.keys(fe).filter(function(Ye){return Ye!=="key"});B=0<De.length?"{key: someKey, "+De.join(": ..., ")+": ...}":"{key: someKey}",Ke[oe+B]||(De=0<De.length?"{"+De.join(": ..., ")+": ...}":"{}",console.error(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,B,oe,De,oe),Ke[oe+B]=!0)}if(oe=null,se!==void 0&&(n(se),oe=""+se),l(fe)&&(n(fe.key),oe=""+fe.key),"key"in fe){se={};for(var qe in fe)qe!=="key"&&(se[qe]=fe[qe])}else se=fe;return oe&&c(se,typeof V=="function"?V.displayName||V.name||"Unknown":V),h(V,oe,Z,ce,s(),se,xe,he)}function m(V){typeof V=="object"&&V!==null&&V.$$typeof===w&&V._store&&(V._store.validated=1)}var x=hm(),w=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),j=Symbol.for("react.consumer"),D=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),ne=Symbol.for("react.lazy"),Q=Symbol.for("react.activity"),K=Symbol.for("react.client.reference"),G=x.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=Object.prototype.hasOwnProperty,me=Array.isArray,le=console.createTask?console.createTask:function(){return null};x={"react-stack-bottom-frame":function(V){return V()}};var ye,ge={},Me=x["react-stack-bottom-frame"].bind(x,o)(),we=le(r(o)),Ke={};Rb.Fragment=T,Rb.jsxDEV=function(V,fe,se,B,ce,Z){var xe=1e4>G.recentlyCreatedOwnerStacks++;return p(V,fe,se,B,ce,Z,xe?Error("react-stack-top-frame"):Me,xe?le(r(V)):we)}}(),Rb}var $D;function h8(){return $D||($D=1,I_.exports=d8()),I_.exports}var b=h8(),k=hm();const hl=bu(k),lE=u8({__proto__:null,default:hl},[k]);var U_={exports:{}},cp={},V_={exports:{}},F_={},HD;function p8(){return HD||(HD=1,function(t){/**
 * @license React
 * scheduler.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){function e(){if(L=!1,Q){var ge=t.unstable_now();ue=ge;var Me=!0;try{e:{D=!1,U&&(U=!1,Y(K),K=-1),j=!0;var we=P;try{t:{for(l(ge),C=r(w);C!==null&&!(C.expirationTime>ge&&f());){var Ke=C.callback;if(typeof Ke=="function"){C.callback=null,P=C.priorityLevel;var V=Ke(C.expirationTime<=ge);if(ge=t.unstable_now(),typeof V=="function"){C.callback=V,l(ge),Me=!0;break t}C===r(w)&&s(w),l(ge)}else s(w);C=r(w)}if(C!==null)Me=!0;else{var fe=r(E);fe!==null&&h(c,fe.startTime-ge),Me=!1}}break e}finally{C=null,P=we,j=!1}Me=void 0}}finally{Me?me():Q=!1}}}function n(ge,Me){var we=ge.length;ge.push(Me);e:for(;0<we;){var Ke=we-1>>>1,V=ge[Ke];if(0<o(V,Me))ge[Ke]=Me,ge[we]=V,we=Ke;else break e}}function r(ge){return ge.length===0?null:ge[0]}function s(ge){if(ge.length===0)return null;var Me=ge[0],we=ge.pop();if(we!==Me){ge[0]=we;e:for(var Ke=0,V=ge.length,fe=V>>>1;Ke<fe;){var se=2*(Ke+1)-1,B=ge[se],ce=se+1,Z=ge[ce];if(0>o(B,we))ce<V&&0>o(Z,B)?(ge[Ke]=Z,ge[ce]=we,Ke=ce):(ge[Ke]=B,ge[se]=we,Ke=se);else if(ce<V&&0>o(Z,we))ge[Ke]=Z,ge[ce]=we,Ke=ce;else break e}}return Me}function o(ge,Me){var we=ge.sortIndex-Me.sortIndex;return we!==0?we:ge.id-Me.id}function l(ge){for(var Me=r(E);Me!==null;){if(Me.callback===null)s(E);else if(Me.startTime<=ge)s(E),Me.sortIndex=Me.expirationTime,n(w,Me);else break;Me=r(E)}}function c(ge){if(U=!1,l(ge),!D)if(r(w)!==null)D=!0,Q||(Q=!0,me());else{var Me=r(E);Me!==null&&h(c,Me.startTime-ge)}}function f(){return L?!0:!(t.unstable_now()-ue<G)}function h(ge,Me){K=O(function(){ge(t.unstable_now())},Me)}if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error()),t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var p=performance;t.unstable_now=function(){return p.now()}}else{var m=Date,x=m.now();t.unstable_now=function(){return m.now()-x}}var w=[],E=[],T=1,C=null,P=3,j=!1,D=!1,U=!1,L=!1,O=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null,Q=!1,K=-1,G=5,ue=-1;if(typeof ne=="function")var me=function(){ne(e)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,ye=le.port2;le.port1.onmessage=e,me=function(){ye.postMessage(null)}}else me=function(){O(e,0)};t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ge){ge.callback=null},t.unstable_forceFrameRate=function(ge){0>ge||125<ge?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<ge?Math.floor(1e3/ge):5},t.unstable_getCurrentPriorityLevel=function(){return P},t.unstable_next=function(ge){switch(P){case 1:case 2:case 3:var Me=3;break;default:Me=P}var we=P;P=Me;try{return ge()}finally{P=we}},t.unstable_requestPaint=function(){L=!0},t.unstable_runWithPriority=function(ge,Me){switch(ge){case 1:case 2:case 3:case 4:case 5:break;default:ge=3}var we=P;P=ge;try{return Me()}finally{P=we}},t.unstable_scheduleCallback=function(ge,Me,we){var Ke=t.unstable_now();switch(typeof we=="object"&&we!==null?(we=we.delay,we=typeof we=="number"&&0<we?Ke+we:Ke):we=Ke,ge){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=we+V,ge={id:T++,callback:Me,priorityLevel:ge,startTime:we,expirationTime:V,sortIndex:-1},we>Ke?(ge.sortIndex=we,n(E,ge),r(w)===null&&ge===r(E)&&(U?(Y(K),K=-1):U=!0,h(c,we-Ke))):(ge.sortIndex=V,n(w,ge),D||j||(D=!0,Q||(Q=!0,me()))),ge},t.unstable_shouldYield=f,t.unstable_wrapCallback=function(ge){var Me=P;return function(){var we=P;P=Me;try{return ge.apply(this,arguments)}finally{P=we}}},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())})()}(F_)),F_}var WD;function m8(){return WD||(WD=1,V_.exports=p8()),V_.exports}var B_={exports:{}},as={},qD;function g8(){if(qD)return as;qD=1;/**
 * @license React
 * react-dom.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */return function(){function t(){}function e(m){return""+m}function n(m,x,w){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;try{e(E);var T=!1}catch{T=!0}return T&&(console.error("The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",typeof Symbol=="function"&&Symbol.toStringTag&&E[Symbol.toStringTag]||E.constructor.name||"Object"),e(E)),{$$typeof:h,key:E==null?null:""+E,children:m,containerInfo:x,implementation:w}}function r(m,x){if(m==="font")return"";if(typeof x=="string")return x==="use-credentials"?x:""}function s(m){return m===null?"`null`":m===void 0?"`undefined`":m===""?"an empty string":'something with type "'+typeof m+'"'}function o(m){return m===null?"`null`":m===void 0?"`undefined`":m===""?"an empty string":typeof m=="string"?JSON.stringify(m):typeof m=="number"?"`"+m+"`":'something with type "'+typeof m+'"'}function l(){var m=p.H;return m===null&&console.error(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://react.dev/link/invalid-hook-call for tips about how to debug and fix this problem.`),m}typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());var c=hm(),f={d:{f:t,r:function(){throw Error("Invalid form element. requestFormReset must be passed a form that was rendered by React.")},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},h=Symbol.for("react.portal"),p=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;typeof Map=="function"&&Map.prototype!=null&&typeof Map.prototype.forEach=="function"&&typeof Set=="function"&&Set.prototype!=null&&typeof Set.prototype.clear=="function"&&typeof Set.prototype.forEach=="function"||console.error("React depends on Map and Set built-in types. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),as.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=f,as.createPortal=function(m,x){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11)throw Error("Target container is not a DOM element.");return n(m,x,null,w)},as.flushSync=function(m){var x=p.T,w=f.p;try{if(p.T=null,f.p=2,m)return m()}finally{p.T=x,f.p=w,f.d.f()&&console.error("flushSync was called from inside a lifecycle method. React cannot flush when React is already rendering. Consider moving this call to a scheduler task or micro task.")}},as.preconnect=function(m,x){typeof m=="string"&&m?x!=null&&typeof x!="object"?console.error("ReactDOM.preconnect(): Expected the `options` argument (second) to be an object but encountered %s instead. The only supported option at this time is `crossOrigin` which accepts a string.",o(x)):x!=null&&typeof x.crossOrigin!="string"&&console.error("ReactDOM.preconnect(): Expected the `crossOrigin` option (second argument) to be a string but encountered %s instead. Try removing this option or passing a string value instead.",s(x.crossOrigin)):console.error("ReactDOM.preconnect(): Expected the `href` argument (first) to be a non-empty string but encountered %s instead.",s(m)),typeof m=="string"&&(x?(x=x.crossOrigin,x=typeof x=="string"?x==="use-credentials"?x:"":void 0):x=null,f.d.C(m,x))},as.prefetchDNS=function(m){if(typeof m!="string"||!m)console.error("ReactDOM.prefetchDNS(): Expected the `href` argument (first) to be a non-empty string but encountered %s instead.",s(m));else if(1<arguments.length){var x=arguments[1];typeof x=="object"&&x.hasOwnProperty("crossOrigin")?console.error("ReactDOM.prefetchDNS(): Expected only one argument, `href`, but encountered %s as a second argument instead. This argument is reserved for future options and is currently disallowed. It looks like the you are attempting to set a crossOrigin property for this DNS lookup hint. Browsers do not perform DNS queries using CORS and setting this attribute on the resource hint has no effect. Try calling ReactDOM.prefetchDNS() with just a single string argument, `href`.",o(x)):console.error("ReactDOM.prefetchDNS(): Expected only one argument, `href`, but encountered %s as a second argument instead. This argument is reserved for future options and is currently disallowed. Try calling ReactDOM.prefetchDNS() with just a single string argument, `href`.",o(x))}typeof m=="string"&&f.d.D(m)},as.preinit=function(m,x){if(typeof m=="string"&&m?x==null||typeof x!="object"?console.error("ReactDOM.preinit(): Expected the `options` argument (second) to be an object with an `as` property describing the type of resource to be preinitialized but encountered %s instead.",o(x)):x.as!=="style"&&x.as!=="script"&&console.error('ReactDOM.preinit(): Expected the `as` property in the `options` argument (second) to contain a valid value describing the type of resource to be preinitialized but encountered %s instead. Valid values for `as` are "style" and "script".',o(x.as)):console.error("ReactDOM.preinit(): Expected the `href` argument (first) to be a non-empty string but encountered %s instead.",s(m)),typeof m=="string"&&x&&typeof x.as=="string"){var w=x.as,E=r(w,x.crossOrigin),T=typeof x.integrity=="string"?x.integrity:void 0,C=typeof x.fetchPriority=="string"?x.fetchPriority:void 0;w==="style"?f.d.S(m,typeof x.precedence=="string"?x.precedence:void 0,{crossOrigin:E,integrity:T,fetchPriority:C}):w==="script"&&f.d.X(m,{crossOrigin:E,integrity:T,fetchPriority:C,nonce:typeof x.nonce=="string"?x.nonce:void 0})}},as.preinitModule=function(m,x){var w="";if(typeof m=="string"&&m||(w+=" The `href` argument encountered was "+s(m)+"."),x!==void 0&&typeof x!="object"?w+=" The `options` argument encountered was "+s(x)+".":x&&"as"in x&&x.as!=="script"&&(w+=" The `as` option encountered was "+o(x.as)+"."),w)console.error("ReactDOM.preinitModule(): Expected up to two arguments, a non-empty `href` string and, optionally, an `options` object with a valid `as` property.%s",w);else switch(w=x&&typeof x.as=="string"?x.as:"script",w){case"script":break;default:w=o(w),console.error('ReactDOM.preinitModule(): Currently the only supported "as" type for this function is "script" but received "%s" instead. This warning was generated for `href` "%s". In the future other module types will be supported, aligning with the import-attributes proposal. Learn more here: (https://github.com/tc39/proposal-import-attributes)',w,m)}typeof m=="string"&&(typeof x=="object"&&x!==null?(x.as==null||x.as==="script")&&(w=r(x.as,x.crossOrigin),f.d.M(m,{crossOrigin:w,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0})):x==null&&f.d.M(m))},as.preload=function(m,x){var w="";if(typeof m=="string"&&m||(w+=" The `href` argument encountered was "+s(m)+"."),x==null||typeof x!="object"?w+=" The `options` argument encountered was "+s(x)+".":typeof x.as=="string"&&x.as||(w+=" The `as` option encountered was "+s(x.as)+"."),w&&console.error('ReactDOM.preload(): Expected two arguments, a non-empty `href` string and an `options` object with an `as` property valid for a `<link rel="preload" as="..." />` tag.%s',w),typeof m=="string"&&typeof x=="object"&&x!==null&&typeof x.as=="string"){w=x.as;var E=r(w,x.crossOrigin);f.d.L(m,w,{crossOrigin:E,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0,type:typeof x.type=="string"?x.type:void 0,fetchPriority:typeof x.fetchPriority=="string"?x.fetchPriority:void 0,referrerPolicy:typeof x.referrerPolicy=="string"?x.referrerPolicy:void 0,imageSrcSet:typeof x.imageSrcSet=="string"?x.imageSrcSet:void 0,imageSizes:typeof x.imageSizes=="string"?x.imageSizes:void 0,media:typeof x.media=="string"?x.media:void 0})}},as.preloadModule=function(m,x){var w="";typeof m=="string"&&m||(w+=" The `href` argument encountered was "+s(m)+"."),x!==void 0&&typeof x!="object"?w+=" The `options` argument encountered was "+s(x)+".":x&&"as"in x&&typeof x.as!="string"&&(w+=" The `as` option encountered was "+s(x.as)+"."),w&&console.error('ReactDOM.preloadModule(): Expected two arguments, a non-empty `href` string and, optionally, an `options` object with an `as` property valid for a `<link rel="modulepreload" as="..." />` tag.%s',w),typeof m=="string"&&(x?(w=r(x.as,x.crossOrigin),f.d.m(m,{as:typeof x.as=="string"&&x.as!=="script"?x.as:void 0,crossOrigin:w,integrity:typeof x.integrity=="string"?x.integrity:void 0})):f.d.m(m))},as.requestFormReset=function(m){f.d.r(m)},as.unstable_batchedUpdates=function(m,x){return m(x)},as.useFormState=function(m,x,w){return l().useFormState(m,x,w)},as.useFormStatus=function(){return l().useHostTransitionStatus()},as.version="19.1.0",typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())}(),as}var XD;function _I(){return XD||(XD=1,B_.exports=g8()),B_.exports}var YD;function b8(){if(YD)return cp;YD=1;/**
 * @license React
 * react-dom-client.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */return function(){function t(i,a){for(i=i.memoizedState;i!==null&&0<a;)i=i.next,a--;return i}function e(i,a,u,d){if(u>=a.length)return d;var g=a[u],v=Zr(i)?i.slice():rn({},i);return v[g]=e(i[g],a,u+1,d),v}function n(i,a,u){if(a.length!==u.length)console.warn("copyWithRename() expects paths of the same length");else{for(var d=0;d<u.length-1;d++)if(a[d]!==u[d]){console.warn("copyWithRename() expects paths to be the same except for the deepest key");return}return r(i,a,u,0)}}function r(i,a,u,d){var g=a[d],v=Zr(i)?i.slice():rn({},i);return d+1===a.length?(v[u[d]]=v[g],Zr(v)?v.splice(g,1):delete v[g]):v[g]=r(i[g],a,u,d+1),v}function s(i,a,u){var d=a[u],g=Zr(i)?i.slice():rn({},i);return u+1===a.length?(Zr(g)?g.splice(d,1):delete g[d],g):(g[d]=s(i[d],a,u+1),g)}function o(){return!1}function l(){return null}function c(){}function f(){console.error("Do not call Hooks inside useEffect(...), useMemo(...), or other built-in Hooks. You can only call Hooks at the top level of your React function. For more information, see https://react.dev/link/rules-of-hooks")}function h(){console.error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().")}function p(){}function m(i){var a=[];return i.forEach(function(u){a.push(u)}),a.sort().join(", ")}function x(i,a,u,d){return new oL(i,a,u,d)}function w(i,a){i.context===qa&&(ow(i.current,2,a,i,null,null),Ru())}function E(i,a){if(mi!==null){var u=a.staleFamilies;a=a.updatedFamilies,dh(),Ev(i.current,a,u),Ru()}}function T(i){mi=i}function C(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function P(i){var a=i,u=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(u=a.return),i=a.return;while(i)}return a.tag===3?u:null}function j(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function D(i){if(P(i)!==i)throw Error("Unable to find node on an unmounted component.")}function U(i){var a=i.alternate;if(!a){if(a=P(i),a===null)throw Error("Unable to find node on an unmounted component.");return a!==i?null:i}for(var u=i,d=a;;){var g=u.return;if(g===null)break;var v=g.alternate;if(v===null){if(d=g.return,d!==null){u=d;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===u)return D(g),i;if(v===d)return D(g),a;v=v.sibling}throw Error("Unable to find node on an unmounted component.")}if(u.return!==d.return)u=g,d=v;else{for(var R=!1,I=g.child;I;){if(I===u){R=!0,u=g,d=v;break}if(I===d){R=!0,d=g,u=v;break}I=I.sibling}if(!R){for(I=v.child;I;){if(I===u){R=!0,u=v,d=g;break}if(I===d){R=!0,d=v,u=g;break}I=I.sibling}if(!R)throw Error("Child was not found in either parent set. This indicates a bug in React related to the return pointer. Please file an issue.")}}if(u.alternate!==d)throw Error("Return fibers should always be each others' alternates. This error is likely caused by a bug in React. Please file an issue.")}if(u.tag!==3)throw Error("Unable to find node on an unmounted component.");return u.stateNode.current===u?i:a}function L(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=L(i),a!==null)return a;i=i.sibling}return null}function O(i){return i===null||typeof i!="object"?null:(i=oR&&i[oR]||i["@@iterator"],typeof i=="function"?i:null)}function Y(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===_5?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case Ou:return"Fragment";case hw:return"Profiler";case Mg:return"StrictMode";case mw:return"Suspense";case gw:return"SuspenseList";case bw:return"Activity"}if(typeof i=="object")switch(typeof i.tag=="number"&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),i.$$typeof){case Iu:return"Portal";case po:return(i.displayName||"Context")+".Provider";case pw:return(i._context.displayName||"Context")+".Consumer";case wh:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Ig:return a=i.displayName||null,a!==null?a:Y(i.type)||"Memo";case Qs:a=i._payload,i=i._init;try{return Y(i(a))}catch{}}return null}function ne(i){return typeof i.tag=="number"?Q(i):typeof i.name=="string"?i.name:null}function Q(i){var a=i.type;switch(i.tag){case 31:return"Activity";case 24:return"Cache";case 9:return(a._context.displayName||"Context")+".Consumer";case 10:return(a.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=a.render,i=i.displayName||i.name||"",a.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 26:case 27:case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Y(a);case 8:return a===Mg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;break;case 29:if(a=i._debugInfo,a!=null){for(var u=a.length-1;0<=u;u--)if(typeof a[u].name=="string")return a[u].name}if(i.return!==null)return Q(i.return)}return null}function K(i){return{current:i}}function G(i,a){0>ea?console.error("Unexpected pop."):(a!==yw[ea]&&console.error("Unexpected Fiber popped."),i.current=xw[ea],xw[ea]=null,yw[ea]=null,ea--)}function ue(i,a,u){ea++,xw[ea]=i.current,yw[ea]=u,i.current=a}function me(i){return i===null&&console.error("Expected host context to exist. This error is likely caused by a bug in React. Please file an issue."),i}function le(i,a){ue(za,a,i),ue(_h,i,i),ue(La,null,i);var u=a.nodeType;switch(u){case 9:case 11:u=u===9?"#document":"#fragment",a=(a=a.documentElement)&&(a=a.namespaceURI)?MC(a):da;break;default:if(u=a.tagName,a=a.namespaceURI)a=MC(a),a=IC(a,u);else switch(u){case"svg":a=xf;break;case"math":a=wb;break;default:a=da}}u=u.toLowerCase(),u=Im(null,u),u={context:a,ancestorInfo:u},G(La,i),ue(La,u,i)}function ye(i){G(La,i),G(_h,i),G(za,i)}function ge(){return me(La.current)}function Me(i){i.memoizedState!==null&&ue(Og,i,i);var a=me(La.current),u=i.type,d=IC(a.context,u);u=Im(a.ancestorInfo,u),d={context:d,ancestorInfo:u},a!==d&&(ue(_h,i,i),ue(La,d,i))}function we(i){_h.current===i&&(G(La,i),G(_h,i)),Og.current===i&&(G(Og,i),op._currentValue=kc)}function Ke(i){return typeof Symbol=="function"&&Symbol.toStringTag&&i[Symbol.toStringTag]||i.constructor.name||"Object"}function V(i){try{return fe(i),!1}catch{return!0}}function fe(i){return""+i}function se(i,a){if(V(i))return console.error("The provided `%s` attribute is an unsupported type %s. This value must be coerced to a string before using it here.",a,Ke(i)),fe(i)}function B(i,a){if(V(i))return console.error("The provided `%s` CSS property is an unsupported type %s. This value must be coerced to a string before using it here.",a,Ke(i)),fe(i)}function ce(i){if(V(i))return console.error("Form field values (value, checked, defaultValue, or defaultChecked props) must be strings, not %s. This value must be coerced to a string before using it here.",Ke(i)),fe(i)}function Z(i){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")return!1;var a=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(a.isDisabled)return!0;if(!a.supportsFiber)return console.error("The installed version of React DevTools is too old and will not work with the current version of React. Please update React DevTools. https://react.dev/link/react-devtools"),!0;try{Vu=a.inject(i),ss=a}catch(u){console.error("React instrumentation encountered an error: %s.",u)}return!!a.checkDCE}function xe(i){if(typeof R5=="function"&&k5(i),ss&&typeof ss.setStrictMode=="function")try{ss.setStrictMode(Vu,i)}catch(a){go||(go=!0,console.error("React instrumentation encountered an error: %s",a))}}function he(i){bt=i}function oe(){bt!==null&&typeof bt.markCommitStopped=="function"&&bt.markCommitStopped()}function De(i){bt!==null&&typeof bt.markComponentRenderStarted=="function"&&bt.markComponentRenderStarted(i)}function qe(){bt!==null&&typeof bt.markComponentRenderStopped=="function"&&bt.markComponentRenderStopped()}function Ye(i){bt!==null&&typeof bt.markRenderStarted=="function"&&bt.markRenderStarted(i)}function tt(){bt!==null&&typeof bt.markRenderStopped=="function"&&bt.markRenderStopped()}function Ue(i,a){bt!==null&&typeof bt.markStateUpdateScheduled=="function"&&bt.markStateUpdateScheduled(i,a)}function nt(i){return i>>>=0,i===0?32:31-(D5(i)/P5|0)|0}function lt(i){if(i&1)return"SyncHydrationLane";if(i&2)return"Sync";if(i&4)return"InputContinuousHydration";if(i&8)return"InputContinuous";if(i&16)return"DefaultHydration";if(i&32)return"Default";if(i&128)return"TransitionHydration";if(i&4194048)return"Transition";if(i&62914560)return"Retry";if(i&67108864)return"SelectiveHydration";if(i&134217728)return"IdleHydration";if(i&268435456)return"Idle";if(i&536870912)return"Offscreen";if(i&1073741824)return"Deferred"}function gt(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return console.error("Should have found matching lanes. This is a bug in React."),i}}function Lt(i,a,u){var d=i.pendingLanes;if(d===0)return 0;var g=0,v=i.suspendedLanes,R=i.pingedLanes;i=i.warmLanes;var I=d&134217727;return I!==0?(d=I&~v,d!==0?g=gt(d):(R&=I,R!==0?g=gt(R):u||(u=I&~i,u!==0&&(g=gt(u))))):(I=d&~v,I!==0?g=gt(I):R!==0?g=gt(R):u||(u=d&~i,u!==0&&(g=gt(u)))),g===0?0:a!==0&&a!==g&&(a&v)===0&&(v=g&-g,u=a&-a,v>=u||v===32&&(u&4194048)!==0)?a:g}function Yt(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function Ot(i,a){switch(i){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return console.error("Should have found matching lanes. This is a bug in React."),-1}}function Pt(){var i=Ug;return Ug<<=1,(Ug&4194048)===0&&(Ug=256),i}function cr(){var i=Vg;return Vg<<=1,(Vg&62914560)===0&&(Vg=4194304),i}function Cn(i){for(var a=[],u=0;31>u;u++)a.push(i);return a}function Wr(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function ms(i,a,u,d,g,v){var R=i.pendingLanes;i.pendingLanes=u,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=u,i.entangledLanes&=u,i.errorRecoveryDisabledLanes&=u,i.shellSuspendCounter=0;var I=i.entanglements,q=i.expirationTimes,re=i.hiddenUpdates;for(u=R&~u;0<u;){var Oe=31-xs(u),Le=1<<Oe;I[Oe]=0,q[Oe]=-1;var Ie=re[Oe];if(Ie!==null)for(re[Oe]=null,Oe=0;Oe<Ie.length;Oe++){var We=Ie[Oe];We!==null&&(We.lane&=-536870913)}u&=~Le}d!==0&&Ho(i,d,0),v!==0&&g===0&&i.tag!==0&&(i.suspendedLanes|=v&~(R&~a))}function Ho(i,a,u){i.pendingLanes|=a,i.suspendedLanes&=~a;var d=31-xs(a);i.entangledLanes|=a,i.entanglements[d]=i.entanglements[d]|1073741824|u&4194090}function He(i,a){var u=i.entangledLanes|=a;for(i=i.entanglements;u;){var d=31-xs(u),g=1<<d;g&a|i[d]&a&&(i[d]|=a),u&=~g}}function $e(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function xt(i,a,u){if(Vi)for(i=i.pendingUpdatersLaneMap;0<u;){var d=31-xs(u),g=1<<d;i[d].add(a),u&=~g}}function zt(i,a){if(Vi)for(var u=i.pendingUpdatersLaneMap,d=i.memoizedUpdaters;0<a;){var g=31-xs(a);i=1<<g,g=u[g],0<g.size&&(g.forEach(function(v){var R=v.alternate;R!==null&&d.has(R)||d.add(v)}),g.clear()),a&=~i}}function un(i){return i&=-i,hi<i?bo<i?(i&134217727)!==0?na:Fg:bo:hi}function ur(){var i=Sn.p;return i!==0?i:(i=window.event,i===void 0?na:eR(i.type))}function rs(i,a){var u=Sn.p;try{return Sn.p=i,a()}finally{Sn.p=u}}function Sr(i){delete i[is],delete i[Vs],delete i[Sw],delete i[j5],delete i[M5]}function Er(i){var a=i[is];if(a)return a;for(var u=i.parentNode;u;){if(a=u[Ha]||u[is]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(i=LC(i);i!==null;){if(u=i[is])return u;i=LC(i)}return a}i=u,u=i.parentNode}return null}function jr(i){if(i=i[is]||i[Ha]){var a=i.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return i}return null}function er(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error("getNodeFromInstance: Invalid argument.")}function $(i){var a=i[aR];return a||(a=i[aR]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Ee(i){i[Nh]=!0}function rt(i,a){ut(i,a),ut(i+"Capture",a)}function ut(i,a){fc[i]&&console.error("EventRegistry: More than one plugin attempted to publish the same registration name, `%s`.",i),fc[i]=a;var u=i.toLowerCase();for(Ew[u]=i,i==="onDoubleClick"&&(Ew.ondblclick=i),i=0;i<a.length;i++)lR.add(a[i])}function Nt(i,a){I5[a.type]||a.onChange||a.onInput||a.readOnly||a.disabled||a.value==null||console.error(i==="select"?"You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set `onChange`.":"You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`."),a.onChange||a.readOnly||a.disabled||a.checked==null||console.error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")}function $t(i){return ta.call(uR,i)?!0:ta.call(cR,i)?!1:O5.test(i)?uR[i]=!0:(cR[i]=!0,console.error("Invalid attribute name: `%s`",i),!1)}function Qt(i,a,u){if($t(a)){if(!i.hasAttribute(a)){switch(typeof u){case"symbol":case"object":return u;case"function":return u;case"boolean":if(u===!1)return u}return u===void 0?void 0:null}return i=i.getAttribute(a),i===""&&u===!0?!0:(se(u,a),i===""+u?u:i)}}function sn(i,a,u){if($t(a))if(u===null)i.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var d=a.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){i.removeAttribute(a);return}}se(u,a),i.setAttribute(a,""+u)}}function At(i,a,u){if(u===null)i.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}se(u,a),i.setAttribute(a,""+u)}}function ar(i,a,u,d){if(d===null)i.removeAttribute(u);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}se(d,u),i.setAttributeNS(a,u,""+d)}}function F(){}function S(){if(Sh===0){fR=console.log,dR=console.info,hR=console.warn,pR=console.error,mR=console.group,gR=console.groupCollapsed,bR=console.groupEnd;var i={configurable:!0,enumerable:!0,value:F,writable:!0};Object.defineProperties(console,{info:i,log:i,warn:i,error:i,group:i,groupCollapsed:i,groupEnd:i})}Sh++}function _(){if(Sh--,Sh===0){var i={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:rn({},i,{value:fR}),info:rn({},i,{value:dR}),warn:rn({},i,{value:hR}),error:rn({},i,{value:pR}),group:rn({},i,{value:mR}),groupCollapsed:rn({},i,{value:gR}),groupEnd:rn({},i,{value:bR})})}0>Sh&&console.error("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}function y(i){if(Tw===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);Tw=a&&a[1]||"",xR=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Tw+i+xR}function N(i,a){if(!i||Aw)return"";var u=Cw.get(i);if(u!==void 0)return u;Aw=!0,u=Error.prepareStackTrace,Error.prepareStackTrace=void 0;var d=null;d=Be.H,Be.H=null,S();try{var g={DetermineComponentFrameRoot:function(){try{if(a){var Ie=function(){throw Error()};if(Object.defineProperty(Ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ie,[])}catch(wt){var We=wt}Reflect.construct(i,[],Ie)}else{try{Ie.call()}catch(wt){We=wt}i.call(Ie.prototype)}}else{try{throw Error()}catch(wt){We=wt}(Ie=i())&&typeof Ie.catch=="function"&&Ie.catch(function(){})}}catch(wt){if(wt&&We&&typeof wt.stack=="string")return[wt.stack,We.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var R=g.DetermineComponentFrameRoot(),I=R[0],q=R[1];if(I&&q){var re=I.split(`
`),Oe=q.split(`
`);for(R=v=0;v<re.length&&!re[v].includes("DetermineComponentFrameRoot");)v++;for(;R<Oe.length&&!Oe[R].includes("DetermineComponentFrameRoot");)R++;if(v===re.length||R===Oe.length)for(v=re.length-1,R=Oe.length-1;1<=v&&0<=R&&re[v]!==Oe[R];)R--;for(;1<=v&&0<=R;v--,R--)if(re[v]!==Oe[R]){if(v!==1||R!==1)do if(v--,R--,0>R||re[v]!==Oe[R]){var Le=`
`+re[v].replace(" at new "," at ");return i.displayName&&Le.includes("<anonymous>")&&(Le=Le.replace("<anonymous>",i.displayName)),typeof i=="function"&&Cw.set(i,Le),Le}while(1<=v&&0<=R);break}}}finally{Aw=!1,Be.H=d,_(),Error.prepareStackTrace=u}return re=(re=i?i.displayName||i.name:"")?y(re):"",typeof i=="function"&&Cw.set(i,re),re}function A(i){var a=Error.prepareStackTrace;if(Error.prepareStackTrace=void 0,i=i.stack,Error.prepareStackTrace=a,i.startsWith(`Error: react-stack-top-frame
`)&&(i=i.slice(29)),a=i.indexOf(`
`),a!==-1&&(i=i.slice(a+1)),a=i.indexOf("react-stack-bottom-frame"),a!==-1&&(a=i.lastIndexOf(`
`,a)),a!==-1)i=i.slice(0,a);else return"";return i}function W(i){switch(i.tag){case 26:case 27:case 5:return y(i.type);case 16:return y("Lazy");case 13:return y("Suspense");case 19:return y("SuspenseList");case 0:case 15:return N(i.type,!1);case 11:return N(i.type.render,!1);case 1:return N(i.type,!0);case 31:return y("Activity");default:return""}}function X(i){try{var a="";do{a+=W(i);var u=i._debugInfo;if(u)for(var d=u.length-1;0<=d;d--){var g=u[d];if(typeof g.name=="string"){var v=a,R=g.env,I=y(g.name+(R?" ["+R+"]":""));a=v+I}}i=i.return}while(i);return a}catch(q){return`
Error generating stack: `+q.message+`
`+q.stack}}function J(i){return(i=i?i.displayName||i.name:"")?y(i):""}function te(){if(Gs===null)return null;var i=Gs._debugOwner;return i!=null?ne(i):null}function Re(){if(Gs===null)return"";var i=Gs;try{var a="";switch(i.tag===6&&(i=i.return),i.tag){case 26:case 27:case 5:a+=y(i.type);break;case 13:a+=y("Suspense");break;case 19:a+=y("SuspenseList");break;case 31:a+=y("Activity");break;case 30:case 0:case 15:case 1:i._debugOwner||a!==""||(a+=J(i.type));break;case 11:i._debugOwner||a!==""||(a+=J(i.type.render))}for(;i;)if(typeof i.tag=="number"){var u=i;i=u._debugOwner;var d=u._debugStack;i&&d&&(typeof d!="string"&&(u._debugStack=d=A(d)),d!==""&&(a+=`
`+d))}else if(i.debugStack!=null){var g=i.debugStack;(i=i.owner)&&g&&(a+=`
`+A(g))}else break;var v=a}catch(R){v=`
Error generating stack: `+R.message+`
`+R.stack}return v}function ie(i,a,u,d,g,v,R){var I=Gs;ze(i);try{return i!==null&&i._debugTask?i._debugTask.run(a.bind(null,u,d,g,v,R)):a(u,d,g,v,R)}finally{ze(I)}throw Error("runWithFiberInDEV should never be called in production. This is a bug in React.")}function ze(i){Be.getCurrentStack=i===null?null:Re,xo=!1,Gs=i}function Je(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return ce(i),i;default:return""}}function Ve(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Ze(i){var a=Ve(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,a);ce(i[a]);var d=""+i[a];if(!i.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,v=u.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return g.call(this)},set:function(R){ce(R),d=""+R,v.call(this,R)}}),Object.defineProperty(i,a,{enumerable:u.enumerable}),{getValue:function(){return d},setValue:function(R){ce(R),d=""+R},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function ht(i){i._valueTracker||(i._valueTracker=Ze(i))}function ve(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var u=a.getValue(),d="";return i&&(d=Ve(i)?i.checked?"true":"false":i.value),i=d,i!==u?(a.setValue(i),!0):!1}function st(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function ft(i){return i.replace(U5,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Mt(i,a){a.checked===void 0||a.defaultChecked===void 0||vR||(console.error("%s contains an input of type %s with both checked and defaultChecked props. Input elements must be either controlled or uncontrolled (specify either the checked prop, or the defaultChecked prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://react.dev/link/controlled-components",te()||"A component",a.type),vR=!0),a.value===void 0||a.defaultValue===void 0||yR||(console.error("%s contains an input of type %s with both value and defaultValue props. Input elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://react.dev/link/controlled-components",te()||"A component",a.type),yR=!0)}function Ut(i,a,u,d,g,v,R,I){i.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?(se(R,"type"),i.type=R):i.removeAttribute("type"),a!=null?R==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+Je(a)):i.value!==""+Je(a)&&(i.value=""+Je(a)):R!=="submit"&&R!=="reset"||i.removeAttribute("value"),a!=null?Tt(i,R,Je(a)):u!=null?Tt(i,R,Je(u)):d!=null&&i.removeAttribute("value"),g==null&&v!=null&&(i.defaultChecked=!!v),g!=null&&(i.checked=g&&typeof g!="function"&&typeof g!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?(se(I,"name"),i.name=""+Je(I)):i.removeAttribute("name")}function Fn(i,a,u,d,g,v,R,I){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(se(v,"type"),i.type=v),a!=null||u!=null){if(!(v!=="submit"&&v!=="reset"||a!=null))return;u=u!=null?""+Je(u):"",a=a!=null?""+Je(a):u,I||a===i.value||(i.value=a),i.defaultValue=a}d=d??g,d=typeof d!="function"&&typeof d!="symbol"&&!!d,i.checked=I?i.checked:!!d,i.defaultChecked=!!d,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(se(R,"name"),i.name=R)}function Tt(i,a,u){a==="number"&&st(i.ownerDocument)===i||i.defaultValue===""+u||(i.defaultValue=""+u)}function Ct(i,a){a.value==null&&(typeof a.children=="object"&&a.children!==null?dw.Children.forEach(a.children,function(u){u==null||typeof u=="string"||typeof u=="number"||typeof u=="bigint"||_R||(_R=!0,console.error("Cannot infer the option value of complex children. Pass a `value` prop or use a plain string as children to <option>."))}):a.dangerouslySetInnerHTML==null||NR||(NR=!0,console.error("Pass a `value` prop if you set dangerouslyInnerHTML so React knows which value should be selected."))),a.selected==null||wR||(console.error("Use the `defaultValue` or `value` props on <select> instead of setting `selected` on <option>."),wR=!0)}function Rn(){var i=te();return i?`

Check the render method of \``+i+"`.":""}function Se(i,a,u,d){if(i=i.options,a){a={};for(var g=0;g<u.length;g++)a["$"+u[g]]=!0;for(u=0;u<i.length;u++)g=a.hasOwnProperty("$"+i[u].value),i[u].selected!==g&&(i[u].selected=g),g&&d&&(i[u].defaultSelected=!0)}else{for(u=""+Je(u),a=null,g=0;g<i.length;g++){if(i[g].value===u){i[g].selected=!0,d&&(i[g].defaultSelected=!0);return}a!==null||i[g].disabled||(a=i[g])}a!==null&&(a.selected=!0)}}function Ge(i,a){for(i=0;i<ER.length;i++){var u=ER[i];if(a[u]!=null){var d=Zr(a[u]);a.multiple&&!d?console.error("The `%s` prop supplied to <select> must be an array if `multiple` is true.%s",u,Rn()):!a.multiple&&d&&console.error("The `%s` prop supplied to <select> must be a scalar value if `multiple` is false.%s",u,Rn())}}a.value===void 0||a.defaultValue===void 0||SR||(console.error("Select elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled select element and remove one of these props. More info: https://react.dev/link/controlled-components"),SR=!0)}function mt(i,a){a.value===void 0||a.defaultValue===void 0||TR||(console.error("%s contains a textarea with both value and defaultValue props. Textarea elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled textarea and remove one of these props. More info: https://react.dev/link/controlled-components",te()||"A component"),TR=!0),a.children!=null&&a.value==null&&console.error("Use the `defaultValue` or `value` props instead of setting children on <textarea>.")}function et(i,a,u){if(a!=null&&(a=""+Je(a),a!==i.value&&(i.value=a),u==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=u!=null?""+Je(u):""}function Bn(i,a,u,d){if(a==null){if(d!=null){if(u!=null)throw Error("If you supply `defaultValue` on a <textarea>, do not pass children.");if(Zr(d)){if(1<d.length)throw Error("<textarea> can only have at most one child.");d=d[0]}u=d}u==null&&(u=""),a=u}u=Je(a),i.defaultValue=u,d=i.textContent,d===u&&d!==""&&d!==null&&(i.value=d)}function _n(i,a){return i.serverProps===void 0&&i.serverTail.length===0&&i.children.length===1&&3<i.distanceFromLeaf&&i.distanceFromLeaf>15-a?_n(i.children[0],a):i}function on(i){return"  "+"  ".repeat(i)}function Nn(i){return"+ "+"  ".repeat(i)}function Qn(i){return"- "+"  ".repeat(i)}function js(i){switch(i.tag){case 26:case 27:case 5:return i.type;case 16:return"Lazy";case 13:return"Suspense";case 19:return"SuspenseList";case 0:case 15:return i=i.type,i.displayName||i.name||null;case 11:return i=i.type.render,i.displayName||i.name||null;case 1:return i=i.type,i.displayName||i.name||null;default:return null}}function Gn(i,a){return AR.test(i)?(i=JSON.stringify(i),i.length>a-2?8>a?'{"..."}':"{"+i.slice(0,a-7)+'..."}':"{"+i+"}"):i.length>a?5>a?'{"..."}':i.slice(0,a-3)+"...":i}function gs(i,a,u){var d=120-2*u;if(a===null)return Nn(u)+Gn(i,d)+`
`;if(typeof a=="string"){for(var g=0;g<a.length&&g<i.length&&a.charCodeAt(g)===i.charCodeAt(g);g++);return g>d-8&&10<g&&(i="..."+i.slice(g-8),a="..."+a.slice(g-8)),Nn(u)+Gn(i,d)+`
`+Qn(u)+Gn(a,d)+`
`}return on(u)+Gn(i,d)+`
`}function qs(i){return Object.prototype.toString.call(i).replace(/^\[object (.*)\]$/,function(a,u){return u})}function Gt(i,a){switch(typeof i){case"string":return i=JSON.stringify(i),i.length>a?5>a?'"..."':i.slice(0,a-4)+'..."':i;case"object":if(i===null)return"null";if(Zr(i))return"[...]";if(i.$$typeof===Ba)return(a=Y(i.type))?"<"+a+">":"<...>";var u=qs(i);if(u==="Object"){u="",a-=2;for(var d in i)if(i.hasOwnProperty(d)){var g=JSON.stringify(d);if(g!=='"'+d+'"'&&(d=g),a-=d.length-2,g=Gt(i[d],15>a?a:15),a-=g.length,0>a){u+=u===""?"...":", ...";break}u+=(u===""?"":",")+d+":"+g}return"{"+u+"}"}return u;case"function":return(a=i.displayName||i.name)?"function "+a:"function";default:return String(i)}}function tr(i,a){return typeof i!="string"||AR.test(i)?"{"+Gt(i,a-2)+"}":i.length>a-2?5>a?'"..."':'"'+i.slice(0,a-5)+'..."':'"'+i+'"'}function qr(i,a,u){var d=120-u.length-i.length,g=[],v;for(v in a)if(a.hasOwnProperty(v)&&v!=="children"){var R=tr(a[v],120-u.length-v.length-1);d-=v.length+R.length+2,g.push(v+"="+R)}return g.length===0?u+"<"+i+`>
`:0<d?u+"<"+i+" "+g.join(" ")+`>
`:u+"<"+i+`
`+u+"  "+g.join(`
`+u+"  ")+`
`+u+`>
`}function bs(i,a,u){var d="",g=rn({},a),v;for(v in i)if(i.hasOwnProperty(v)){delete g[v];var R=120-2*u-v.length-2,I=Gt(i[v],R);a.hasOwnProperty(v)?(R=Gt(a[v],R),d+=Nn(u)+v+": "+I+`
`,d+=Qn(u)+v+": "+R+`
`):d+=Nn(u)+v+": "+I+`
`}for(var q in g)g.hasOwnProperty(q)&&(i=Gt(g[q],120-2*u-q.length-2),d+=Qn(u)+q+": "+i+`
`);return d}function xr(i,a,u,d){var g="",v=new Map;for(re in u)u.hasOwnProperty(re)&&v.set(re.toLowerCase(),re);if(v.size===1&&v.has("children"))g+=qr(i,a,on(d));else{for(var R in a)if(a.hasOwnProperty(R)&&R!=="children"){var I=120-2*(d+1)-R.length-1,q=v.get(R.toLowerCase());if(q!==void 0){v.delete(R.toLowerCase());var re=a[R];q=u[q];var Oe=tr(re,I);I=tr(q,I),typeof re=="object"&&re!==null&&typeof q=="object"&&q!==null&&qs(re)==="Object"&&qs(q)==="Object"&&(2<Object.keys(re).length||2<Object.keys(q).length||-1<Oe.indexOf("...")||-1<I.indexOf("..."))?g+=on(d+1)+R+`={{
`+bs(re,q,d+2)+on(d+1)+`}}
`:(g+=Nn(d+1)+R+"="+Oe+`
`,g+=Qn(d+1)+R+"="+I+`
`)}else g+=on(d+1)+R+"="+tr(a[R],I)+`
`}v.forEach(function(Le){if(Le!=="children"){var Ie=120-2*(d+1)-Le.length-1;g+=Qn(d+1)+Le+"="+tr(u[Le],Ie)+`
`}}),g=g===""?on(d)+"<"+i+`>
`:on(d)+"<"+i+`
`+g+on(d)+`>
`}return i=u.children,a=a.children,typeof i=="string"||typeof i=="number"||typeof i=="bigint"?(v="",(typeof a=="string"||typeof a=="number"||typeof a=="bigint")&&(v=""+a),g+=gs(v,""+i,d+1)):(typeof a=="string"||typeof a=="number"||typeof a=="bigint")&&(g=i==null?g+gs(""+a,null,d+1):g+gs(""+a,void 0,d+1)),g}function jm(i,a){var u=js(i);if(u===null){for(u="",i=i.child;i;)u+=jm(i,a),i=i.sibling;return u}return on(a)+"<"+u+`>
`}function Bd(i,a){var u=_n(i,a);if(u!==i&&(i.children.length!==1||i.children[0]!==u))return on(a)+`...
`+Bd(u,a+1);u="";var d=i.fiber._debugInfo;if(d)for(var g=0;g<d.length;g++){var v=d[g].name;typeof v=="string"&&(u+=on(a)+"<"+v+`>
`,a++)}if(d="",g=i.fiber.pendingProps,i.fiber.tag===6)d=gs(g,i.serverProps,a),a++;else if(v=js(i.fiber),v!==null)if(i.serverProps===void 0){d=a;var R=120-2*d-v.length-2,I="";for(re in g)if(g.hasOwnProperty(re)&&re!=="children"){var q=tr(g[re],15);if(R-=re.length+q.length+2,0>R){I+=" ...";break}I+=" "+re+"="+q}d=on(d)+"<"+v+I+`>
`,a++}else i.serverProps===null?(d=qr(v,g,Nn(a)),a++):typeof i.serverProps=="string"?console.error("Should not have matched a non HostText fiber to a Text node. This is a bug in React."):(d=xr(v,g,i.serverProps,a),a++);var re="";for(g=i.fiber.child,v=0;g&&v<i.children.length;)R=i.children[v],R.fiber===g?(re+=Bd(R,a),v++):re+=jm(g,a),g=g.sibling;for(g&&0<i.children.length&&(re+=on(a)+`...
`),g=i.serverTail,i.serverProps===null&&a--,i=0;i<g.length;i++)v=g[i],re=typeof v=="string"?re+(Qn(a)+Gn(v,120-2*a)+`
`):re+qr(v.type,v.props,Qn(a));return u+d+re}function Ld(i){try{return`

`+Bd(i,0)}catch{return""}}function Mm(i,a,u){for(var d=a,g=null,v=0;d;)d===i&&(v=0),g={fiber:d,children:g!==null?[g]:[],serverProps:d===a?u:d===i?null:void 0,serverTail:[],distanceFromLeaf:v},v++,d=d.return;return g!==null?Ld(g).replaceAll(/^[+-]/gm,">"):""}function Im(i,a){var u=rn({},i||RR),d={tag:a};return CR.indexOf(a)!==-1&&(u.aTagInScope=null,u.buttonTagInScope=null,u.nobrTagInScope=null),F5.indexOf(a)!==-1&&(u.pTagInButtonScope=null),V5.indexOf(a)!==-1&&a!=="address"&&a!=="div"&&a!=="p"&&(u.listItemTagAutoclosing=null,u.dlItemTagAutoclosing=null),u.current=d,a==="form"&&(u.formTag=d),a==="a"&&(u.aTagInScope=d),a==="button"&&(u.buttonTagInScope=d),a==="nobr"&&(u.nobrTagInScope=d),a==="p"&&(u.pTagInButtonScope=d),a==="li"&&(u.listItemTagAutoclosing=d),(a==="dd"||a==="dt")&&(u.dlItemTagAutoclosing=d),a==="#document"||a==="html"?u.containerTagInScope=null:u.containerTagInScope||(u.containerTagInScope=d),i!==null||a!=="#document"&&a!=="html"&&a!=="body"?u.implicitRootScope===!0&&(u.implicitRootScope=!1):u.implicitRootScope=!0,u}function Om(i,a,u){switch(a){case"select":return i==="hr"||i==="option"||i==="optgroup"||i==="script"||i==="template"||i==="#text";case"optgroup":return i==="option"||i==="#text";case"option":return i==="#text";case"tr":return i==="th"||i==="td"||i==="style"||i==="script"||i==="template";case"tbody":case"thead":case"tfoot":return i==="tr"||i==="style"||i==="script"||i==="template";case"colgroup":return i==="col"||i==="template";case"table":return i==="caption"||i==="colgroup"||i==="tbody"||i==="tfoot"||i==="thead"||i==="style"||i==="script"||i==="template";case"head":return i==="base"||i==="basefont"||i==="bgsound"||i==="link"||i==="meta"||i==="title"||i==="noscript"||i==="noframes"||i==="style"||i==="script"||i==="template";case"html":if(u)break;return i==="head"||i==="body"||i==="frameset";case"frameset":return i==="frame";case"#document":if(!u)return i==="html"}switch(i){case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return a!=="h1"&&a!=="h2"&&a!=="h3"&&a!=="h4"&&a!=="h5"&&a!=="h6";case"rp":case"rt":return B5.indexOf(a)===-1;case"caption":case"col":case"colgroup":case"frameset":case"frame":case"tbody":case"td":case"tfoot":case"th":case"thead":case"tr":return a==null;case"head":return u||a===null;case"html":return u&&a==="#document"||a===null;case"body":return u&&(a==="#document"||a==="html")||a===null}return!0}function yv(i,a){switch(i){case"address":case"article":case"aside":case"blockquote":case"center":case"details":case"dialog":case"dir":case"div":case"dl":case"fieldset":case"figcaption":case"figure":case"footer":case"header":case"hgroup":case"main":case"menu":case"nav":case"ol":case"p":case"section":case"summary":case"ul":case"pre":case"listing":case"table":case"hr":case"xmp":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return a.pTagInButtonScope;case"form":return a.formTag||a.pTagInButtonScope;case"li":return a.listItemTagAutoclosing;case"dd":case"dt":return a.dlItemTagAutoclosing;case"button":return a.buttonTagInScope;case"a":return a.aTagInScope;case"nobr":return a.nobrTagInScope}return null}function Um(i,a){for(;i;){switch(i.tag){case 5:case 26:case 27:if(i.type===a)return i}i=i.return}return null}function zd(i,a){a=a||RR;var u=a.current;if(a=(u=Om(i,u&&u.tag,a.implicitRootScope)?null:u)?null:yv(i,a),a=u||a,!a)return!0;var d=a.tag;if(a=String(!!u)+"|"+i+"|"+d,Bg[a])return!1;Bg[a]=!0;var g=(a=Gs)?Um(a.return,d):null,v=a!==null&&g!==null?Mm(g,a,null):"",R="<"+i+">";return u?(u="",d==="table"&&i==="tr"&&(u+=" Add a <tbody>, <thead> or <tfoot> to your code to match the DOM tree generated by the browser."),console.error(`In HTML, %s cannot be a child of <%s>.%s
This will cause a hydration error.%s`,R,d,u,v)):console.error(`In HTML, %s cannot be a descendant of <%s>.
This will cause a hydration error.%s`,R,d,v),a&&(i=a.return,g===null||i===null||g===i&&i._debugOwner===a._debugOwner||ie(g,function(){console.error(`<%s> cannot contain a nested %s.
See this log for the ancestor stack trace.`,d,R)})),!1}function Vm(i,a,u){if(u||Om("#text",a,!1))return!0;if(u="#text|"+a,Bg[u])return!1;Bg[u]=!0;var d=(u=Gs)?Um(u,a):null;return u=u!==null&&d!==null?Mm(d,u,u.tag!==6?{children:null}:null):"",/\S/.test(i)?console.error(`In HTML, text nodes cannot be a child of <%s>.
This will cause a hydration error.%s`,a,u):console.error(`In HTML, whitespace text nodes cannot be a child of <%s>. Make sure you don't have any extra whitespace between tags on each line of your source code.
This will cause a hydration error.%s`,a,u),!1}function $d(i,a){if(a){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=a;return}}i.textContent=a}function WB(i){return i.replace($5,function(a,u){return u.toUpperCase()})}function XT(i,a,u){var d=a.indexOf("--")===0;d||(-1<a.indexOf("-")?Fu.hasOwnProperty(a)&&Fu[a]||(Fu[a]=!0,console.error("Unsupported style property %s. Did you mean %s?",a,WB(a.replace(z5,"ms-")))):L5.test(a)?Fu.hasOwnProperty(a)&&Fu[a]||(Fu[a]=!0,console.error("Unsupported vendor-prefixed style property %s. Did you mean %s?",a,a.charAt(0).toUpperCase()+a.slice(1))):!PR.test(u)||kw.hasOwnProperty(u)&&kw[u]||(kw[u]=!0,console.error(`Style property values shouldn't contain a semicolon. Try "%s: %s" instead.`,a,u.replace(PR,""))),typeof u=="number"&&(isNaN(u)?jR||(jR=!0,console.error("`NaN` is an invalid value for the `%s` css style property.",a)):isFinite(u)||MR||(MR=!0,console.error("`Infinity` is an invalid value for the `%s` css style property.",a)))),u==null||typeof u=="boolean"||u===""?d?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":d?i.setProperty(a,u):typeof u!="number"||u===0||IR.has(a)?a==="float"?i.cssFloat=u:(B(u,a),i[a]=(""+u).trim()):i[a]=u+"px"}function YT(i,a,u){if(a!=null&&typeof a!="object")throw Error("The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.");if(a&&Object.freeze(a),i=i.style,u!=null){if(a){var d={};if(u){for(var g in u)if(u.hasOwnProperty(g)&&!a.hasOwnProperty(g))for(var v=Rw[g]||[g],R=0;R<v.length;R++)d[v[R]]=g}for(var I in a)if(a.hasOwnProperty(I)&&(!u||u[I]!==a[I]))for(g=Rw[I]||[I],v=0;v<g.length;v++)d[g[v]]=I;I={};for(var q in a)for(g=Rw[q]||[q],v=0;v<g.length;v++)I[g[v]]=q;q={};for(var re in d)if(g=d[re],(v=I[re])&&g!==v&&(R=g+","+v,!q[R])){q[R]=!0,R=console;var Oe=a[g];R.error.call(R,"%s a style property during rerender (%s) when a conflicting property is set (%s) can lead to styling bugs. To avoid this, don't mix shorthand and non-shorthand properties for the same value; instead, replace the shorthand with separate values.",Oe==null||typeof Oe=="boolean"||Oe===""?"Removing":"Updating",g,v)}}for(var Le in u)!u.hasOwnProperty(Le)||a!=null&&a.hasOwnProperty(Le)||(Le.indexOf("--")===0?i.setProperty(Le,""):Le==="float"?i.cssFloat="":i[Le]="");for(var Ie in a)re=a[Ie],a.hasOwnProperty(Ie)&&u[Ie]!==re&&XT(i,Ie,re)}else for(d in a)a.hasOwnProperty(d)&&XT(i,d,a[d])}function Hd(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function KT(i){return H5.get(i)||i}function qB(i,a){if(ta.call(Lu,a)&&Lu[a])return!0;if(q5.test(a)){if(i="aria-"+a.slice(4).toLowerCase(),i=OR.hasOwnProperty(i)?i:null,i==null)return console.error("Invalid ARIA attribute `%s`. ARIA attributes follow the pattern aria-* and must be lowercase.",a),Lu[a]=!0;if(a!==i)return console.error("Invalid ARIA attribute `%s`. Did you mean `%s`?",a,i),Lu[a]=!0}if(W5.test(a)){if(i=a.toLowerCase(),i=OR.hasOwnProperty(i)?i:null,i==null)return Lu[a]=!0,!1;a!==i&&(console.error("Unknown ARIA attribute `%s`. Did you mean `%s`?",a,i),Lu[a]=!0)}return!0}function XB(i,a){var u=[],d;for(d in a)qB(i,d)||u.push(d);a=u.map(function(g){return"`"+g+"`"}).join(", "),u.length===1?console.error("Invalid aria prop %s on <%s> tag. For details, see https://react.dev/link/invalid-aria-props",a,i):1<u.length&&console.error("Invalid aria props %s on <%s> tag. For details, see https://react.dev/link/invalid-aria-props",a,i)}function YB(i,a,u,d){if(ta.call(ys,a)&&ys[a])return!0;var g=a.toLowerCase();if(g==="onfocusin"||g==="onfocusout")return console.error("React uses onFocus and onBlur instead of onFocusIn and onFocusOut. All React events are normalized to bubble, so onFocusIn and onFocusOut are not needed/supported by React."),ys[a]=!0;if(typeof u=="function"&&(i==="form"&&a==="action"||i==="input"&&a==="formAction"||i==="button"&&a==="formAction"))return!0;if(d!=null){if(i=d.possibleRegistrationNames,d.registrationNameDependencies.hasOwnProperty(a))return!0;if(d=i.hasOwnProperty(g)?i[g]:null,d!=null)return console.error("Invalid event handler property `%s`. Did you mean `%s`?",a,d),ys[a]=!0;if(VR.test(a))return console.error("Unknown event handler property `%s`. It will be ignored.",a),ys[a]=!0}else if(VR.test(a))return X5.test(a)&&console.error("Invalid event handler property `%s`. React events use the camelCase naming convention, for example `onClick`.",a),ys[a]=!0;if(Y5.test(a)||K5.test(a))return!0;if(g==="innerhtml")return console.error("Directly setting property `innerHTML` is not permitted. For more information, lookup documentation on `dangerouslySetInnerHTML`."),ys[a]=!0;if(g==="aria")return console.error("The `aria` attribute is reserved for future use in React. Pass individual `aria-` attributes instead."),ys[a]=!0;if(g==="is"&&u!==null&&u!==void 0&&typeof u!="string")return console.error("Received a `%s` for a string attribute `is`. If this is expected, cast the value to a string.",typeof u),ys[a]=!0;if(typeof u=="number"&&isNaN(u))return console.error("Received NaN for the `%s` attribute. If this is expected, cast the value to a string.",a),ys[a]=!0;if(zg.hasOwnProperty(g)){if(g=zg[g],g!==a)return console.error("Invalid DOM property `%s`. Did you mean `%s`?",a,g),ys[a]=!0}else if(a!==g)return console.error("React does not recognize the `%s` prop on a DOM element. If you intentionally want it to appear in the DOM as a custom attribute, spell it as lowercase `%s` instead. If you accidentally passed it from a parent component, remove it from the DOM element.",a,g),ys[a]=!0;switch(a){case"dangerouslySetInnerHTML":case"children":case"style":case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":return!0;case"innerText":case"textContent":return!0}switch(typeof u){case"boolean":switch(a){case"autoFocus":case"checked":case"multiple":case"muted":case"selected":case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":case"capture":case"download":case"inert":return!0;default:return g=a.toLowerCase().slice(0,5),g==="data-"||g==="aria-"?!0:(u?console.error('Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.',u,a,a,u,a):console.error('Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.',u,a,a,u,a,a,a),ys[a]=!0)}case"function":case"symbol":return ys[a]=!0,!1;case"string":if(u==="false"||u==="true"){switch(a){case"checked":case"selected":case"multiple":case"muted":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":case"inert":break;default:return!0}console.error("Received the string `%s` for the boolean attribute `%s`. %s Did you mean %s={%s}?",u,a,u==="false"?"The browser will interpret it as a truthy value.":'Although this works, it will not work as expected if you pass the string "false".',a,u),ys[a]=!0}}return!0}function KB(i,a,u){var d=[],g;for(g in a)YB(i,g,a[g],u)||d.push(g);a=d.map(function(v){return"`"+v+"`"}).join(", "),d.length===1?console.error("Invalid value for prop %s on <%s> tag. Either remove it from the element, or pass a string or number value to keep it in the DOM. For details, see https://react.dev/link/attribute-behavior ",a,i):1<d.length&&console.error("Invalid values for props %s on <%s> tag. Either remove them from the element, or pass a string or number value to keep them in the DOM. For details, see https://react.dev/link/attribute-behavior ",a,i)}function Wd(i){return Z5.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function vv(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}function ZT(i){var a=jr(i);if(a&&(i=a.stateNode)){var u=i[Vs]||null;e:switch(i=a.stateNode,a.type){case"input":if(Ut(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),a=u.name,u.type==="radio"&&a!=null){for(u=i;u.parentNode;)u=u.parentNode;for(se(a,"name"),u=u.querySelectorAll('input[name="'+ft(""+a)+'"][type="radio"]'),a=0;a<u.length;a++){var d=u[a];if(d!==i&&d.form===i.form){var g=d[Vs]||null;if(!g)throw Error("ReactDOMInput: Mixing React and non-React radio inputs with the same `name` is not supported.");Ut(d,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(a=0;a<u.length;a++)d=u[a],d.form===i.form&&ve(d)}break e;case"textarea":et(i,u.value,u.defaultValue);break e;case"select":a=u.value,a!=null&&Se(i,!!u.multiple,a,!1)}}}function QT(i,a,u){if(Dw)return i(a,u);Dw=!0;try{var d=i(a);return d}finally{if(Dw=!1,(zu!==null||$u!==null)&&(Ru(),zu&&(a=zu,i=$u,$u=zu=null,ZT(a),i)))for(a=0;a<i.length;a++)ZT(i[a])}}function qd(i,a){var u=i.stateNode;if(u===null)return null;var d=u[Vs]||null;if(d===null)return null;u=d[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(i=i.type,d=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!d;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error("Expected `"+a+"` listener to be a function, instead got a value of `"+typeof u+"` type.");return u}function GT(){if($g)return $g;var i,a=jw,u=a.length,d,g="value"in Wa?Wa.value:Wa.textContent,v=g.length;for(i=0;i<u&&a[i]===g[i];i++);var R=u-i;for(d=1;d<=R&&a[u-d]===g[v-d];d++);return $g=g.slice(i,1<d?1-d:void 0)}function Fm(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function Bm(){return!0}function JT(){return!1}function Ms(i){function a(u,d,g,v,R){this._reactName=u,this._targetInst=g,this.type=d,this.nativeEvent=v,this.target=R,this.currentTarget=null;for(var I in i)i.hasOwnProperty(I)&&(u=i[I],this[I]=u?u(v):v[I]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Bm:JT,this.isPropagationStopped=JT,this}return rn(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Bm)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Bm)},persist:function(){},isPersistent:Bm}),a}function ZB(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=cz[i])?!!a[i]:!1}function wv(){return ZB}function e3(i,a){switch(i){case"keyup":return wz.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==zR;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function t3(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}function QB(i,a){switch(i){case"compositionend":return t3(a);case"keypress":return a.which!==HR?null:(qR=!0,WR);case"textInput":return i=a.data,i===WR&&qR?null:i;default:return null}}function GB(i,a){if(Hu)return i==="compositionend"||!Uw&&e3(i,a)?(i=GT(),$g=jw=Wa=null,Hu=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return $R&&a.locale!=="ko"?null:a.data;default:return null}}function n3(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!Nz[i.type]:a==="textarea"}function JB(i){if(!yo)return!1;i="on"+i;var a=i in document;return a||(a=document.createElement("div"),a.setAttribute(i,"return;"),a=typeof a[i]=="function"),a}function r3(i,a,u,d){zu?$u?$u.push(d):$u=[d]:zu=d,a=Sg(a,"onChange"),0<a.length&&(u=new Hg("onChange","change",null,u,d),i.push({event:u,listeners:a}))}function eL(i){SC(i,0)}function Lm(i){var a=er(i);if(ve(a))return i}function s3(i,a){if(i==="change")return a}function i3(){kh&&(kh.detachEvent("onpropertychange",o3),Dh=kh=null)}function o3(i){if(i.propertyName==="value"&&Lm(Dh)){var a=[];r3(a,Dh,i,vv(i)),QT(eL,a)}}function tL(i,a,u){i==="focusin"?(i3(),kh=a,Dh=u,kh.attachEvent("onpropertychange",o3)):i==="focusout"&&i3()}function nL(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Lm(Dh)}function rL(i,a){if(i==="click")return Lm(a)}function sL(i,a){if(i==="input"||i==="change")return Lm(a)}function iL(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}function Xd(i,a){if(vs(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var u=Object.keys(i),d=Object.keys(a);if(u.length!==d.length)return!1;for(d=0;d<u.length;d++){var g=u[d];if(!ta.call(a,g)||!vs(i[g],a[g]))return!1}return!0}function a3(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function l3(i,a){var u=a3(i);i=0;for(var d;u;){if(u.nodeType===3){if(d=i+u.textContent.length,i<=a&&d>=a)return{node:u,offset:a-i};i=d}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=a3(u)}}function c3(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?c3(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function u3(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=st(i.document);a instanceof i.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)i=a.contentWindow;else break;a=st(i.document)}return a}function _v(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}function f3(i,a,u){var d=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Fw||Wu==null||Wu!==st(d)||(d=Wu,"selectionStart"in d&&_v(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Ph&&Xd(Ph,d)||(Ph=d,d=Sg(Vw,"onSelect"),0<d.length&&(a=new Hg("onSelect","select",null,a,u),i.push({event:a,listeners:d}),a.target=Wu)))}function Zl(i,a){var u={};return u[i.toLowerCase()]=a.toLowerCase(),u["Webkit"+i]="webkit"+a,u["Moz"+i]="moz"+a,u}function Ql(i){if(Bw[i])return Bw[i];if(!qu[i])return i;var a=qu[i],u;for(u in a)if(a.hasOwnProperty(u)&&u in YR)return Bw[i]=a[u];return i}function Oi(i,a){JR.set(i,a),rt(a,[i])}function Xs(i,a){if(typeof i=="object"&&i!==null){var u=zw.get(i);return u!==void 0?u:(a={value:i,source:a,stack:X(a)},zw.set(i,a),a)}return{value:i,source:a,stack:X(a)}}function zm(){for(var i=Xu,a=$w=Xu=0;a<i;){var u=pi[a];pi[a++]=null;var d=pi[a];pi[a++]=null;var g=pi[a];pi[a++]=null;var v=pi[a];if(pi[a++]=null,d!==null&&g!==null){var R=d.pending;R===null?g.next=g:(g.next=R.next,R.next=g),d.pending=g}v!==0&&d3(u,g,v)}}function $m(i,a,u,d){pi[Xu++]=i,pi[Xu++]=a,pi[Xu++]=u,pi[Xu++]=d,$w|=d,i.lanes|=d,i=i.alternate,i!==null&&(i.lanes|=d)}function Nv(i,a,u,d){return $m(i,a,u,d),Hm(i)}function Is(i,a){return $m(i,null,null,a),Hm(i)}function d3(i,a,u){i.lanes|=u;var d=i.alternate;d!==null&&(d.lanes|=u);for(var g=!1,v=i.return;v!==null;)v.childLanes|=u,d=v.alternate,d!==null&&(d.childLanes|=u),v.tag===22&&(i=v.stateNode,i===null||i._visibility&qg||(g=!0)),i=v,v=v.return;return i.tag===3?(v=i.stateNode,g&&a!==null&&(g=31-xs(u),i=v.hiddenUpdates,d=i[g],d===null?i[g]=[a]:d.push(a),a.lane=u|536870912),v):null}function Hm(i){if(ep>qz)throw Ec=ep=0,tp=y_=null,Error("Maximum update depth exceeded. This can happen when a component repeatedly calls setState inside componentWillUpdate or componentDidUpdate. React limits the number of nested updates to prevent infinite loops.");Ec>Xz&&(Ec=0,tp=null,console.error("Maximum update depth exceeded. This can happen when a component calls setState inside useEffect, but useEffect either doesn't have a dependency array, or one of the dependencies changes on every render.")),i.alternate===null&&(i.flags&4098)!==0&&bC(i);for(var a=i,u=a.return;u!==null;)a.alternate===null&&(a.flags&4098)!==0&&bC(i),a=u,u=a.return;return a.tag===3?a.stateNode:null}function Gl(i){if(mi===null)return i;var a=mi(i);return a===void 0?i:a.current}function Sv(i){if(mi===null)return i;var a=mi(i);return a===void 0?i!=null&&typeof i.render=="function"&&(a=Gl(i.render),i.render!==a)?(a={$$typeof:wh,render:a},i.displayName!==void 0&&(a.displayName=i.displayName),a):i:a.current}function h3(i,a){if(mi===null)return!1;var u=i.elementType;a=a.type;var d=!1,g=typeof a=="object"&&a!==null?a.$$typeof:null;switch(i.tag){case 1:typeof a=="function"&&(d=!0);break;case 0:(typeof a=="function"||g===Qs)&&(d=!0);break;case 11:(g===wh||g===Qs)&&(d=!0);break;case 14:case 15:(g===Ig||g===Qs)&&(d=!0);break;default:return!1}return!!(d&&(i=mi(u),i!==void 0&&i===mi(a)))}function p3(i){mi!==null&&typeof WeakSet=="function"&&(Yu===null&&(Yu=new WeakSet),Yu.add(i))}function Ev(i,a,u){var d=i.alternate,g=i.child,v=i.sibling,R=i.tag,I=i.type,q=null;switch(R){case 0:case 15:case 1:q=I;break;case 11:q=I.render}if(mi===null)throw Error("Expected resolveFamily to be set during hot reload.");var re=!1;I=!1,q!==null&&(q=mi(q),q!==void 0&&(u.has(q)?I=!0:a.has(q)&&(R===1?I=!0:re=!0))),Yu!==null&&(Yu.has(i)||d!==null&&Yu.has(d))&&(I=!0),I&&(i._debugNeedsRemount=!0),(I||re)&&(d=Is(i,2),d!==null&&vr(d,i,2)),g===null||I||Ev(g,a,u),v!==null&&Ev(v,a,u)}function oL(i,a,u,d){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null,this.actualDuration=-0,this.actualStartTime=-1.1,this.treeBaseDuration=this.selfBaseDuration=-0,this._debugTask=this._debugStack=this._debugOwner=this._debugInfo=null,this._debugNeedsRemount=!1,this._debugHookTypes=null,tk||typeof Object.preventExtensions!="function"||Object.preventExtensions(this)}function Tv(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Wo(i,a){var u=i.alternate;switch(u===null?(u=x(i.tag,a,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u._debugOwner=i._debugOwner,u._debugStack=i._debugStack,u._debugTask=i._debugTask,u._debugHookTypes=i._debugHookTypes,u.alternate=i,i.alternate=u):(u.pendingProps=a,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null,u.actualDuration=-0,u.actualStartTime=-1.1),u.flags=i.flags&65011712,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,a=i.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext,_debugThenableState:a._debugThenableState},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u.refCleanup=i.refCleanup,u.selfBaseDuration=i.selfBaseDuration,u.treeBaseDuration=i.treeBaseDuration,u._debugInfo=i._debugInfo,u._debugNeedsRemount=i._debugNeedsRemount,u.tag){case 0:case 15:u.type=Gl(i.type);break;case 1:u.type=Gl(i.type);break;case 11:u.type=Sv(i.type)}return u}function m3(i,a){i.flags&=65011714;var u=i.alternate;return u===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null,i.selfBaseDuration=0,i.treeBaseDuration=0):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,a=u.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext,_debugThenableState:a._debugThenableState},i.selfBaseDuration=u.selfBaseDuration,i.treeBaseDuration=u.treeBaseDuration),i}function Av(i,a,u,d,g,v){var R=0,I=i;if(typeof i=="function")Tv(i)&&(R=1),I=Gl(I);else if(typeof i=="string")R=ge(),R=o5(i,u,R)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case bw:return a=x(31,u,a,g),a.elementType=bw,a.lanes=v,a;case Ou:return Jl(u.children,g,v,a);case Mg:R=8,g|=os,g|=Fi;break;case hw:return i=u,d=g,typeof i.id!="string"&&console.error('Profiler must specify an "id" of type `string` as a prop. Received the type `%s` instead.',typeof i.id),a=x(12,i,a,d|Qr),a.elementType=hw,a.lanes=v,a.stateNode={effectDuration:0,passiveEffectDuration:0},a;case mw:return a=x(13,u,a,g),a.elementType=mw,a.lanes=v,a;case gw:return a=x(19,u,a,g),a.elementType=gw,a.lanes=v,a;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case v5:case po:R=10;break e;case pw:R=9;break e;case wh:R=11,I=Sv(I);break e;case Ig:R=14;break e;case Qs:R=16,I=null;break e}I="",(i===void 0||typeof i=="object"&&i!==null&&Object.keys(i).length===0)&&(I+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports."),i===null?u="null":Zr(i)?u="array":i!==void 0&&i.$$typeof===Ba?(u="<"+(Y(i.type)||"Unknown")+" />",I=" Did you accidentally export a JSX literal instead of a component?"):u=typeof i,(R=d?ne(d):null)&&(I+=`

Check the render method of \``+R+"`."),R=29,u=Error("Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: "+(u+"."+I)),I=null}return a=x(R,u,a,g),a.elementType=i,a.type=I,a.lanes=v,a._debugOwner=d,a}function Wm(i,a,u){return a=Av(i.type,i.key,i.props,i._owner,a,u),a._debugOwner=i._owner,a._debugStack=i._debugStack,a._debugTask=i._debugTask,a}function Jl(i,a,u,d){return i=x(7,i,d,a),i.lanes=u,i}function Cv(i,a,u){return i=x(6,i,null,a),i.lanes=u,i}function Rv(i,a,u){return a=x(4,i.children!==null?i.children:[],i.key,a),a.lanes=u,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}function ec(i,a){tc(),Ku[Zu++]=Yg,Ku[Zu++]=Xg,Xg=i,Yg=a}function g3(i,a,u){tc(),gi[bi++]=sa,gi[bi++]=ia,gi[bi++]=hc,hc=i;var d=sa;i=ia;var g=32-xs(d)-1;d&=~(1<<g),u+=1;var v=32-xs(a)+g;if(30<v){var R=g-g%5;v=(d&(1<<R)-1).toString(32),d>>=R,g-=R,sa=1<<32-xs(a)+g|u<<g|d,ia=v+i}else sa=1<<v|u<<g|d,ia=i}function kv(i){tc(),i.return!==null&&(ec(i,1),g3(i,1,0))}function Dv(i){for(;i===Xg;)Xg=Ku[--Zu],Ku[Zu]=null,Yg=Ku[--Zu],Ku[Zu]=null;for(;i===hc;)hc=gi[--bi],gi[bi]=null,ia=gi[--bi],gi[bi]=null,sa=gi[--bi],gi[bi]=null}function tc(){xn||console.error("Expected to be hydrating. This is a bug in React. Please file an issue.")}function nc(i,a){if(i.return===null){if(xi===null)xi={fiber:i,children:[],serverProps:void 0,serverTail:[],distanceFromLeaf:a};else{if(xi.fiber!==i)throw Error("Saw multiple hydration diff roots in a pass. This is a bug in React.");xi.distanceFromLeaf>a&&(xi.distanceFromLeaf=a)}return xi}var u=nc(i.return,a+1).children;return 0<u.length&&u[u.length-1].fiber===i?(u=u[u.length-1],u.distanceFromLeaf>a&&(u.distanceFromLeaf=a),u):(a={fiber:i,children:[],serverProps:void 0,serverTail:[],distanceFromLeaf:a},u.push(a),a)}function Pv(i,a){oa||(i=nc(i,0),i.serverProps=null,a!==null&&(a=VC(a),i.serverTail.push(a)))}function rc(i){var a="",u=xi;throw u!==null&&(xi=null,a=Ld(u)),Zd(Xs(Error(`Hydration failed because the server rendered HTML didn't match the client. As a result this tree will be regenerated on the client. This can happen if a SSR-ed Client Component used:

- A server/client branch \`if (typeof window !== 'undefined')\`.
- Variable input such as \`Date.now()\` or \`Math.random()\` which changes each time it's called.
- Date formatting in a user's locale which doesn't match the server.
- External changing data without sending a snapshot of it along with the HTML.
- Invalid HTML tag nesting.

It can also happen if the client has a browser extension installed which messes with the HTML before React loaded.

https://react.dev/link/hydration-mismatch`+a),i)),Hw}function b3(i){var a=i.stateNode,u=i.type,d=i.memoizedProps;switch(a[is]=i,a[Vs]=d,K0(u,d),u){case"dialog":pn("cancel",a),pn("close",a);break;case"iframe":case"object":case"embed":pn("load",a);break;case"video":case"audio":for(u=0;u<np.length;u++)pn(np[u],a);break;case"source":pn("error",a);break;case"img":case"image":case"link":pn("error",a),pn("load",a);break;case"details":pn("toggle",a);break;case"input":Nt("input",d),pn("invalid",a),Mt(a,d),Fn(a,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),ht(a);break;case"option":Ct(a,d);break;case"select":Nt("select",d),pn("invalid",a),Ge(a,d);break;case"textarea":Nt("textarea",d),pn("invalid",a),mt(a,d),Bn(a,d.value,d.defaultValue,d.children),ht(a)}u=d.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||a.textContent===""+u||d.suppressHydrationWarning===!0||CC(a.textContent,u)?(d.popover!=null&&(pn("beforetoggle",a),pn("toggle",a)),d.onScroll!=null&&pn("scroll",a),d.onScrollEnd!=null&&pn("scrollend",a),d.onClick!=null&&(a.onclick=Eg),a=!0):a=!1,a||rc(i)}function x3(i){for(ws=i.return;ws;)switch(ws.tag){case 5:case 13:vo=!1;return;case 27:case 3:vo=!0;return;default:ws=ws.return}}function Yd(i){if(i!==ws)return!1;if(!xn)return x3(i),xn=!0,!1;var a=i.tag,u;if((u=a!==3&&a!==27)&&((u=a===5)&&(u=i.type,u=!(u!=="form"&&u!=="button")||ew(i.type,i.memoizedProps)),u=!u),u&&fr){for(u=fr;u;){var d=nc(i,0),g=VC(u);d.serverTail.push(g),u=g.type==="Suspense"?BC(u):di(u.nextSibling)}rc(i)}if(x3(i),a===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");fr=BC(i)}else a===27?(a=fr,Fa(i.type)?(i=D_,D_=null,fr=i):fr=a):fr=ws?di(i.stateNode.nextSibling):null;return!0}function Kd(){fr=ws=null,oa=xn=!1}function y3(){var i=pc;return i!==null&&(Ss===null?Ss=i:Ss.push.apply(Ss,i),pc=null),i}function Zd(i){pc===null?pc=[i]:pc.push(i)}function v3(){var i=xi;if(i!==null){xi=null;for(var a=Ld(i);0<i.children.length;)i=i.children[0];ie(i.fiber,function(){console.error(`A tree hydrated but some attributes of the server rendered HTML didn't match the client properties. This won't be patched up. This can happen if a SSR-ed Client Component used:

- A server/client branch \`if (typeof window !== 'undefined')\`.
- Variable input such as \`Date.now()\` or \`Math.random()\` which changes each time it's called.
- Date formatting in a user's locale which doesn't match the server.
- External changing data without sending a snapshot of it along with the HTML.
- Invalid HTML tag nesting.

It can also happen if the client has a browser extension installed which messes with the HTML before React loaded.

%s%s`,"https://react.dev/link/hydration-mismatch",a)})}}function qm(){Qu=Kg=null,Gu=!1}function Da(i,a,u){ue(Ww,a._currentValue,i),a._currentValue=u,ue(qw,a._currentRenderer,i),a._currentRenderer!==void 0&&a._currentRenderer!==null&&a._currentRenderer!==ik&&console.error("Detected multiple renderers concurrently rendering the same context provider. This is currently unsupported."),a._currentRenderer=ik}function qo(i,a){i._currentValue=Ww.current;var u=qw.current;G(qw,a),i._currentRenderer=u,G(Ww,a)}function jv(i,a,u){for(;i!==null;){var d=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,d!==null&&(d.childLanes|=a)):d!==null&&(d.childLanes&a)!==a&&(d.childLanes|=a),i===u)break;i=i.return}i!==u&&console.error("Expected to find the propagation root when scheduling context work. This error is likely caused by a bug in React. Please file an issue.")}function Mv(i,a,u,d){var g=i.child;for(g!==null&&(g.return=i);g!==null;){var v=g.dependencies;if(v!==null){var R=g.child;v=v.firstContext;e:for(;v!==null;){var I=v;v=g;for(var q=0;q<a.length;q++)if(I.context===a[q]){v.lanes|=u,I=v.alternate,I!==null&&(I.lanes|=u),jv(v.return,u,i),d||(R=null);break e}v=I.next}}else if(g.tag===18){if(R=g.return,R===null)throw Error("We just came from a parent so we must have had a parent. This is a bug in React.");R.lanes|=u,v=R.alternate,v!==null&&(v.lanes|=u),jv(R,u,i),R=null}else R=g.child;if(R!==null)R.return=g;else for(R=g;R!==null;){if(R===i){R=null;break}if(g=R.sibling,g!==null){g.return=R.return,R=g;break}R=R.return}g=R}}function Qd(i,a,u,d){i=null;for(var g=a,v=!1;g!==null;){if(!v){if((g.flags&524288)!==0)v=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var R=g.alternate;if(R===null)throw Error("Should have a current fiber. This is a bug in React.");if(R=R.memoizedProps,R!==null){var I=g.type;vs(g.pendingProps.value,R.value)||(i!==null?i.push(I):i=[I])}}else if(g===Og.current){if(R=g.alternate,R===null)throw Error("Should have a current fiber. This is a bug in React.");R.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(i!==null?i.push(op):i=[op])}g=g.return}i!==null&&Mv(a,i,u,d),a.flags|=262144}function Xm(i){for(i=i.firstContext;i!==null;){if(!vs(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function sc(i){Kg=i,Qu=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function nr(i){return Gu&&console.error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo()."),w3(Kg,i)}function Ym(i,a){return Kg===null&&sc(i),w3(i,a)}function w3(i,a){var u=a._currentValue;if(a={context:a,memoizedValue:u,next:null},Qu===null){if(i===null)throw Error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");Qu=a,i.dependencies={lanes:0,firstContext:a,_debugThenableState:null},i.flags|=524288}else Qu=Qu.next=a;return u}function Iv(){return{controller:new Dz,data:new Map,refCount:0}}function ic(i){i.controller.signal.aborted&&console.warn("A cache instance was retained after it was already freed. This likely indicates a bug in React."),i.refCount++}function Gd(i){i.refCount--,0>i.refCount&&console.warn("A cache instance was released after it was already freed. This likely indicates a bug in React."),i.refCount===0&&Pz(jz,function(){i.controller.abort()})}function Xo(){var i=mc;return mc=0,i}function Km(i){var a=mc;return mc=i,a}function Jd(i){var a=mc;return mc+=i,a}function Ov(i){Fs=Ju(),0>i.actualStartTime&&(i.actualStartTime=Fs)}function Uv(i){if(0<=Fs){var a=Ju()-Fs;i.actualDuration+=a,i.selfBaseDuration=a,Fs=-1}}function _3(i){if(0<=Fs){var a=Ju()-Fs;i.actualDuration+=a,Fs=-1}}function oo(){if(0<=Fs){var i=Ju()-Fs;Fs=-1,mc+=i}}function ao(){Fs=Ju()}function Zm(i){for(var a=i.child;a;)i.actualDuration+=a.actualDuration,a=a.sibling}function aL(i,a){if(jh===null){var u=jh=[];Xw=0,gc=W0(),ef={status:"pending",value:void 0,then:function(d){u.push(d)}}}return Xw++,a.then(N3,N3),a}function N3(){if(--Xw===0&&jh!==null){ef!==null&&(ef.status="fulfilled");var i=jh;jh=null,gc=0,ef=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function lL(i,a){var u=[],d={status:"pending",value:null,reason:null,then:function(g){u.push(g)}};return i.then(function(){d.status="fulfilled",d.value=a;for(var g=0;g<u.length;g++)(0,u[g])(a)},function(g){for(d.status="rejected",d.reason=g,g=0;g<u.length;g++)(0,u[g])(void 0)}),d}function Vv(){var i=bc.current;return i!==null?i:Ln.pooledCache}function Qm(i,a){a===null?ue(bc,bc.current,i):ue(bc,a.pool,i)}function S3(){var i=Vv();return i===null?null:{parent:Mr._currentValue,pool:i}}function E3(){return{didWarnAboutUncachedPromise:!1,thenables:[]}}function T3(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Gm(){}function A3(i,a,u){Be.actQueue!==null&&(Be.didUsePromise=!0);var d=i.thenables;switch(u=d[u],u===void 0?d.push(a):u!==a&&(i.didWarnAboutUncachedPromise||(i.didWarnAboutUncachedPromise=!0,console.error("A component was suspended by an uncached promise. Creating promises inside a Client Component or hook is not yet supported, except via a Suspense-compatible library or framework.")),a.then(Gm,Gm),a=u),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,R3(i),i;default:if(typeof a.status=="string")a.then(Gm,Gm);else{if(i=Ln,i!==null&&100<i.shellSuspendCounter)throw Error("An unknown Component is an async Client Component. Only Server Components can be async at the moment. This error is often caused by accidentally adding `'use client'` to a module that was originally written for the server.");i=a,i.status="pending",i.then(function(g){if(a.status==="pending"){var v=a;v.status="fulfilled",v.value=g}},function(g){if(a.status==="pending"){var v=a;v.status="rejected",v.reason=g}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,R3(i),i}throw Lh=a,tb=!0,Bh}}function C3(){if(Lh===null)throw Error("Expected a suspended thenable. This is a bug in React. Please file an issue.");var i=Lh;return Lh=null,tb=!1,i}function R3(i){if(i===Bh||i===eb)throw Error("Hooks are not supported inside an async component. This error is often caused by accidentally adding `'use client'` to a module that was originally written for the server.")}function Fv(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bv(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Pa(i){return{lane:i,tag:uk,payload:null,callback:null,next:null}}function ja(i,a,u){var d=i.updateQueue;if(d===null)return null;if(d=d.shared,Zw===d&&!hk){var g=Q(i);console.error(`An update (setState, replaceState, or forceUpdate) was scheduled from inside an update function. Update functions should be pure, with zero side-effects. Consider using componentDidUpdate or a callback.

Please update the following component: %s`,g),hk=!0}return(En&Ns)!==Js?(g=d.pending,g===null?a.next=a:(a.next=g.next,g.next=a),d.pending=a,a=Hm(i),d3(i,null,u),a):($m(i,d,a,u),Hm(i))}function eh(i,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194048)!==0)){var d=a.lanes;d&=i.pendingLanes,u|=d,a.lanes=u,He(i,u)}}function Jm(i,a){var u=i.updateQueue,d=i.alternate;if(d!==null&&(d=d.updateQueue,u===d)){var g=null,v=null;if(u=u.firstBaseUpdate,u!==null){do{var R={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};v===null?g=v=R:v=v.next=R,u=u.next}while(u!==null);v===null?g=v=a:v=v.next=a}else g=v=a;u={baseState:d.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:d.shared,callbacks:d.callbacks},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=a:i.next=a,u.lastBaseUpdate=a}function th(){if(Qw){var i=ef;if(i!==null)throw i}}function nh(i,a,u,d){Qw=!1;var g=i.updateQueue;Xa=!1,Zw=g.shared;var v=g.firstBaseUpdate,R=g.lastBaseUpdate,I=g.shared.pending;if(I!==null){g.shared.pending=null;var q=I,re=q.next;q.next=null,R===null?v=re:R.next=re,R=q;var Oe=i.alternate;Oe!==null&&(Oe=Oe.updateQueue,I=Oe.lastBaseUpdate,I!==R&&(I===null?Oe.firstBaseUpdate=re:I.next=re,Oe.lastBaseUpdate=q))}if(v!==null){var Le=g.baseState;R=0,Oe=re=q=null,I=v;do{var Ie=I.lane&-536870913,We=Ie!==I.lane;if(We?(dn&Ie)===Ie:(d&Ie)===Ie){Ie!==0&&Ie===gc&&(Qw=!0),Oe!==null&&(Oe=Oe.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{Ie=i;var wt=I,Vt=a,zn=u;switch(wt.tag){case fk:if(wt=wt.payload,typeof wt=="function"){Gu=!0;var mn=wt.call(zn,Le,Vt);if(Ie.mode&os){xe(!0);try{wt.call(zn,Le,Vt)}finally{xe(!1)}}Gu=!1,Le=mn;break e}Le=wt;break e;case Kw:Ie.flags=Ie.flags&-65537|128;case uk:if(mn=wt.payload,typeof mn=="function"){if(Gu=!0,wt=mn.call(zn,Le,Vt),Ie.mode&os){xe(!0);try{mn.call(zn,Le,Vt)}finally{xe(!1)}}Gu=!1}else wt=mn;if(wt==null)break e;Le=rn({},Le,wt);break e;case dk:Xa=!0}}Ie=I.callback,Ie!==null&&(i.flags|=64,We&&(i.flags|=8192),We=g.callbacks,We===null?g.callbacks=[Ie]:We.push(Ie))}else We={lane:Ie,tag:I.tag,payload:I.payload,callback:I.callback,next:null},Oe===null?(re=Oe=We,q=Le):Oe=Oe.next=We,R|=Ie;if(I=I.next,I===null){if(I=g.shared.pending,I===null)break;We=I,I=We.next,We.next=null,g.lastBaseUpdate=We,g.shared.pending=null}}while(!0);Oe===null&&(q=Le),g.baseState=q,g.firstBaseUpdate=re,g.lastBaseUpdate=Oe,v===null&&(g.shared.lanes=0),Qa|=R,i.lanes=R,i.memoizedState=Le}Zw=null}function k3(i,a){if(typeof i!="function")throw Error("Invalid argument passed as callback. Expected a function. Instead received: "+i);i.call(a)}function cL(i,a){var u=i.shared.hiddenCallbacks;if(u!==null)for(i.shared.hiddenCallbacks=null,i=0;i<u.length;i++)k3(u[i],a)}function D3(i,a){var u=i.callbacks;if(u!==null)for(i.callbacks=null,i=0;i<u.length;i++)k3(u[i],a)}function P3(i,a){var u=No;ue(nb,u,i),ue(tf,a,i),No=u|a.baseLanes}function Lv(i){ue(nb,No,i),ue(tf,tf.current,i)}function zv(i){No=nb.current,G(tf,i),G(nb,i)}function fn(){var i=Fe;wi===null?wi=[i]:wi.push(i)}function it(){var i=Fe;if(wi!==null&&(la++,wi[la]!==i)){var a=Q(Ht);if(!pk.has(a)&&(pk.add(a),wi!==null)){for(var u="",d=0;d<=la;d++){var g=wi[d],v=d===la?i:g;for(g=d+1+". "+g;30>g.length;)g+=" ";g+=v+`
`,u+=g}console.error(`React has detected a change in the order of Hooks called by %s. This will lead to bugs and errors if not fixed. For more information, read the Rules of Hooks: https://react.dev/link/rules-of-hooks

   Previous render            Next render
   ------------------------------------------------------
%s   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
`,a,u)}}}function _u(i){i==null||Zr(i)||console.error("%s received a final argument that is not an array (instead, received `%s`). When specified, the final argument must be an array.",Fe,typeof i)}function eg(){var i=Q(Ht);gk.has(i)||(gk.add(i),console.error("ReactDOM.useFormState has been renamed to React.useActionState. Please update %s to use React.useActionState.",i))}function yr(){throw Error(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://react.dev/link/invalid-hook-call for tips about how to debug and fix this problem.`)}function $v(i,a){if($h)return!1;if(a===null)return console.error("%s received a final argument during this render, but not during the previous render. Even though the final argument is optional, its type cannot change between renders.",Fe),!1;i.length!==a.length&&console.error(`The final argument passed to %s changed size between renders. The order and size of this array must remain constant.

Previous: %s
Incoming: %s`,Fe,"["+a.join(", ")+"]","["+i.join(", ")+"]");for(var u=0;u<a.length&&u<i.length;u++)if(!vs(i[u],a[u]))return!1;return!0}function Hv(i,a,u,d,g,v){Ya=v,Ht=a,wi=i!==null?i._debugHookTypes:null,la=-1,$h=i!==null&&i.type!==a.type,(Object.prototype.toString.call(u)==="[object AsyncFunction]"||Object.prototype.toString.call(u)==="[object AsyncGeneratorFunction]")&&(v=Q(Ht),Gw.has(v)||(Gw.add(v),console.error("%s is an async Client Component. Only Server Components can be async at the moment. This error is often caused by accidentally adding `'use client'` to a module that was originally written for the server.",v===null?"An unknown Component":"<"+v+">"))),a.memoizedState=null,a.updateQueue=null,a.lanes=0,Be.H=i!==null&&i.memoizedState!==null?e_:wi!==null?bk:Jw,yc=v=(a.mode&os)!==qn;var R=t_(u,d,g);if(yc=!1,rf&&(R=Wv(a,u,d,g)),v){xe(!0);try{R=Wv(a,u,d,g)}finally{xe(!1)}}return j3(i,a),R}function j3(i,a){a._debugHookTypes=wi,a.dependencies===null?aa!==null&&(a.dependencies={lanes:0,firstContext:null,_debugThenableState:aa}):a.dependencies._debugThenableState=aa,Be.H=ib;var u=On!==null&&On.next!==null;if(Ya=0,wi=Fe=Ar=On=Ht=null,la=-1,i!==null&&(i.flags&65011712)!==(a.flags&65011712)&&console.error("Internal React error: Expected static flag was missing. Please notify the React team."),rb=!1,zh=0,aa=null,u)throw Error("Rendered fewer hooks than expected. This may be caused by an accidental early return statement.");i===null||zr||(i=i.dependencies,i!==null&&Xm(i)&&(zr=!0)),tb?(tb=!1,i=!0):i=!1,i&&(a=Q(a)||"Unknown",mk.has(a)||Gw.has(a)||(mk.add(a),console.error("`use` was called from inside a try/catch block. This is not allowed and can lead to unexpected behavior. To handle errors triggered by `use`, wrap your component in a error boundary.")))}function Wv(i,a,u,d){Ht=i;var g=0;do{if(rf&&(aa=null),zh=0,rf=!1,g>=Iz)throw Error("Too many re-renders. React limits the number of renders to prevent an infinite loop.");if(g+=1,$h=!1,Ar=On=null,i.updateQueue!=null){var v=i.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}la=-1,Be.H=xk,v=t_(a,u,d)}while(rf);return v}function uL(){var i=Be.H,a=i.useState()[0];return a=typeof a.then=="function"?rh(a):a,i=i.useState()[0],(On!==null?On.memoizedState:null)!==i&&(Ht.flags|=1024),a}function qv(){var i=sb!==0;return sb=0,i}function Xv(i,a,u){a.updateQueue=i.updateQueue,a.flags=(a.mode&Fi)!==qn?a.flags&-402655237:a.flags&-2053,i.lanes&=~u}function Yv(i){if(rb){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}rb=!1}Ya=0,wi=Ar=On=Ht=null,la=-1,Fe=null,rf=!1,zh=sb=0,aa=null}function Os(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ar===null?Ht.memoizedState=Ar=i:Ar=Ar.next=i,Ar}function jn(){if(On===null){var i=Ht.alternate;i=i!==null?i.memoizedState:null}else i=On.next;var a=Ar===null?Ht.memoizedState:Ar.next;if(a!==null)Ar=a,On=i;else{if(i===null)throw Ht.alternate===null?Error("Update hook called on initial render. This is likely a bug in React. Please file an issue."):Error("Rendered more hooks than during the previous render.");On=i,i={memoizedState:On.memoizedState,baseState:On.baseState,baseQueue:On.baseQueue,queue:On.queue,next:null},Ar===null?Ht.memoizedState=Ar=i:Ar=Ar.next=i}return Ar}function Kv(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function rh(i){var a=zh;return zh+=1,aa===null&&(aa=E3()),i=A3(aa,i,a),a=Ht,(Ar===null?a.memoizedState:Ar.next)===null&&(a=a.alternate,Be.H=a!==null&&a.memoizedState!==null?e_:Jw),i}function Ma(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return rh(i);if(i.$$typeof===po)return nr(i)}throw Error("An unsupported type was passed to use(): "+String(i))}function oc(i){var a=null,u=Ht.updateQueue;if(u!==null&&(a=u.memoCache),a==null){var d=Ht.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(a={data:d.data.map(function(g){return g.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),u===null&&(u=Kv(),Ht.updateQueue=u),u.memoCache=a,u=a.data[a.index],u===void 0||$h)for(u=a.data[a.index]=Array(i),d=0;d<i;d++)u[d]=w5;else u.length!==i&&console.error("Expected a constant size argument for each invocation of useMemoCache. The previous cache was allocated with size %s but size %s was requested.",u.length,i);return a.index++,u}function Ui(i,a){return typeof a=="function"?a(i):a}function Zv(i,a,u){var d=Os();if(u!==void 0){var g=u(a);if(yc){xe(!0);try{u(a)}finally{xe(!1)}}}else g=a;return d.memoizedState=d.baseState=g,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:g},d.queue=i,i=i.dispatch=pL.bind(null,Ht,i),[d.memoizedState,i]}function Nu(i){var a=jn();return Qv(a,On,i)}function Qv(i,a,u){var d=i.queue;if(d===null)throw Error("Should have a queue. You are likely calling Hooks conditionally, which is not allowed. (https://react.dev/link/invalid-hook-call)");d.lastRenderedReducer=u;var g=i.baseQueue,v=d.pending;if(v!==null){if(g!==null){var R=g.next;g.next=v.next,v.next=R}a.baseQueue!==g&&console.error("Internal error: Expected work-in-progress queue to be a clone. This is a bug in React."),a.baseQueue=g=v,d.pending=null}if(v=i.baseState,g===null)i.memoizedState=v;else{a=g.next;var I=R=null,q=null,re=a,Oe=!1;do{var Le=re.lane&-536870913;if(Le!==re.lane?(dn&Le)===Le:(Ya&Le)===Le){var Ie=re.revertLane;if(Ie===0)q!==null&&(q=q.next={lane:0,revertLane:0,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null}),Le===gc&&(Oe=!0);else if((Ya&Ie)===Ie){re=re.next,Ie===gc&&(Oe=!0);continue}else Le={lane:0,revertLane:re.revertLane,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null},q===null?(I=q=Le,R=v):q=q.next=Le,Ht.lanes|=Ie,Qa|=Ie;Le=re.action,yc&&u(v,Le),v=re.hasEagerState?re.eagerState:u(v,Le)}else Ie={lane:Le,revertLane:re.revertLane,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null},q===null?(I=q=Ie,R=v):q=q.next=Ie,Ht.lanes|=Le,Qa|=Le;re=re.next}while(re!==null&&re!==a);if(q===null?R=v:q.next=I,!vs(v,i.memoizedState)&&(zr=!0,Oe&&(u=ef,u!==null)))throw u;i.memoizedState=v,i.baseState=R,i.baseQueue=q,d.lastRenderedState=v}return g===null&&(d.lanes=0),[i.memoizedState,d.dispatch]}function sh(i){var a=jn(),u=a.queue;if(u===null)throw Error("Should have a queue. You are likely calling Hooks conditionally, which is not allowed. (https://react.dev/link/invalid-hook-call)");u.lastRenderedReducer=i;var d=u.dispatch,g=u.pending,v=a.memoizedState;if(g!==null){u.pending=null;var R=g=g.next;do v=i(v,R.action),R=R.next;while(R!==g);vs(v,a.memoizedState)||(zr=!0),a.memoizedState=v,a.baseQueue===null&&(a.baseState=v),u.lastRenderedState=v}return[v,d]}function Gv(i,a,u){var d=Ht,g=Os();if(xn){if(u===void 0)throw Error("Missing getServerSnapshot, which is required for server-rendered content. Will revert to client rendering.");var v=u();nf||v===u()||(console.error("The result of getServerSnapshot should be cached to avoid an infinite loop"),nf=!0)}else{if(v=a(),nf||(u=a(),vs(v,u)||(console.error("The result of getSnapshot should be cached to avoid an infinite loop"),nf=!0)),Ln===null)throw Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");(dn&124)!==0||M3(d,a,v)}return g.memoizedState=v,u={value:v,getSnapshot:a},g.queue=u,ig(O3.bind(null,d,u,i),[i]),d.flags|=2048,Eu(vi|Ir,sg(),I3.bind(null,d,u,v,a),null),v}function tg(i,a,u){var d=Ht,g=jn(),v=xn;if(v){if(u===void 0)throw Error("Missing getServerSnapshot, which is required for server-rendered content. Will revert to client rendering.");u=u()}else if(u=a(),!nf){var R=a();vs(u,R)||(console.error("The result of getSnapshot should be cached to avoid an infinite loop"),nf=!0)}(R=!vs((On||g).memoizedState,u))&&(g.memoizedState=u,zr=!0),g=g.queue;var I=O3.bind(null,d,g,i);if(Us(2048,Ir,I,[i]),g.getSnapshot!==a||R||Ar!==null&&Ar.memoizedState.tag&vi){if(d.flags|=2048,Eu(vi|Ir,sg(),I3.bind(null,d,g,u,a),null),Ln===null)throw Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");v||(Ya&124)!==0||M3(d,a,u)}return u}function M3(i,a,u){i.flags|=16384,i={getSnapshot:a,value:u},a=Ht.updateQueue,a===null?(a=Kv(),Ht.updateQueue=a,a.stores=[i]):(u=a.stores,u===null?a.stores=[i]:u.push(i))}function I3(i,a,u,d){a.value=u,a.getSnapshot=d,U3(a)&&V3(i)}function O3(i,a,u){return u(function(){U3(a)&&V3(i)})}function U3(i){var a=i.getSnapshot;i=i.value;try{var u=a();return!vs(i,u)}catch{return!0}}function V3(i){var a=Is(i,2);a!==null&&vr(a,i,2)}function Jv(i){var a=Os();if(typeof i=="function"){var u=i;if(i=u(),yc){xe(!0);try{u()}finally{xe(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:i},a}function e0(i){i=Jv(i);var a=i.queue,u=rA.bind(null,Ht,a);return a.dispatch=u,[i.memoizedState,u]}function t0(i){var a=Os();a.memoizedState=a.baseState=i;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=u,a=p0.bind(null,Ht,!0,u),u.dispatch=a,[i,a]}function F3(i,a){var u=jn();return B3(u,On,i,a)}function B3(i,a,u,d){return i.baseState=u,Qv(i,On,typeof d=="function"?d:Ui)}function L3(i,a){var u=jn();return On!==null?B3(u,On,i,a):(u.baseState=i,[i,u.queue.dispatch])}function fL(i,a,u,d,g){if(cg(i))throw Error("Cannot update form state while rendering.");if(i=a.action,i!==null){var v={payload:g,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){v.listeners.push(R)}};Be.T!==null?u(!0):v.isTransition=!1,d(v),u=a.pending,u===null?(v.next=a.pending=v,z3(a,v)):(v.next=u.next,a.pending=u.next=v)}}function z3(i,a){var u=a.action,d=a.payload,g=i.state;if(a.isTransition){var v=Be.T,R={};Be.T=R,Be.T._updatedFibers=new Set;try{var I=u(g,d),q=Be.S;q!==null&&q(R,I),$3(i,a,I)}catch(re){n0(i,a,re)}finally{Be.T=v,v===null&&R._updatedFibers&&(i=R._updatedFibers.size,R._updatedFibers.clear(),10<i&&console.warn("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table."))}}else try{R=u(g,d),$3(i,a,R)}catch(re){n0(i,a,re)}}function $3(i,a,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?(u.then(function(d){H3(i,a,d)},function(d){return n0(i,a,d)}),a.isTransition||console.error("An async function with useActionState was called outside of a transition. This is likely not what you intended (for example, isPending will not update correctly). Either call the returned function inside startTransition, or pass it to an `action` or `formAction` prop.")):H3(i,a,u)}function H3(i,a,u){a.status="fulfilled",a.value=u,W3(a),i.state=u,a=i.pending,a!==null&&(u=a.next,u===a?i.pending=null:(u=u.next,a.next=u,z3(i,u)))}function n0(i,a,u){var d=i.pending;if(i.pending=null,d!==null){d=d.next;do a.status="rejected",a.reason=u,W3(a),a=a.next;while(a!==d)}i.action=null}function W3(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function q3(i,a){return a}function Su(i,a){if(xn){var u=Ln.formState;if(u!==null){e:{var d=Ht;if(xn){if(fr){t:{for(var g=fr,v=vo;g.nodeType!==8;){if(!v){g=null;break t}if(g=di(g.nextSibling),g===null){g=null;break t}}v=g.data,g=v===A_||v===gD?g:null}if(g){fr=di(g.nextSibling),d=g.data===A_;break e}}rc(d)}d=!1}d&&(a=u[0])}}return u=Os(),u.memoizedState=u.baseState=a,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:q3,lastRenderedState:a},u.queue=d,u=rA.bind(null,Ht,d),d.dispatch=u,d=Jv(!1),v=p0.bind(null,Ht,!1,d.queue),d=Os(),g={state:a,dispatch:null,action:i,pending:null},d.queue=g,u=fL.bind(null,Ht,g,v,u),g.dispatch=u,d.memoizedState=i,[a,u,!1]}function ng(i){var a=jn();return X3(a,On,i)}function X3(i,a,u){if(a=Qv(i,a,q3)[0],i=Nu(Ui)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var d=rh(a)}catch(R){throw R===Bh?eb:R}else d=a;a=jn();var g=a.queue,v=g.dispatch;return u!==a.memoizedState&&(Ht.flags|=2048,Eu(vi|Ir,sg(),dL.bind(null,g,u),null)),[d,v,i]}function dL(i,a){i.action=a}function rg(i){var a=jn(),u=On;if(u!==null)return X3(a,u,i);jn(),a=a.memoizedState,u=jn();var d=u.queue.dispatch;return u.memoizedState=i,[a,d,!1]}function Eu(i,a,u,d){return i={tag:i,create:u,deps:d,inst:a,next:null},a=Ht.updateQueue,a===null&&(a=Kv(),Ht.updateQueue=a),u=a.lastEffect,u===null?a.lastEffect=i.next=i:(d=u.next,u.next=i,i.next=d,a.lastEffect=i),i}function sg(){return{destroy:void 0,resource:void 0}}function r0(i){var a=Os();return i={current:i},a.memoizedState=i}function ac(i,a,u,d){var g=Os();d=d===void 0?null:d,Ht.flags|=i,g.memoizedState=Eu(vi|a,sg(),u,d)}function Us(i,a,u,d){var g=jn();d=d===void 0?null:d;var v=g.memoizedState.inst;On!==null&&d!==null&&$v(d,On.memoizedState.deps)?g.memoizedState=Eu(a,v,u,d):(Ht.flags|=i,g.memoizedState=Eu(vi|a,v,u,d))}function ig(i,a){(Ht.mode&Fi)!==qn&&(Ht.mode&ek)===qn?ac(276826112,Ir,i,a):ac(8390656,Ir,i,a)}function s0(i,a){var u=4194308;return(Ht.mode&Fi)!==qn&&(u|=134217728),ac(u,Gr,i,a)}function Y3(i,a){if(typeof a=="function"){i=i();var u=a(i);return function(){typeof u=="function"?u():a(null)}}if(a!=null)return a.hasOwnProperty("current")||console.error("Expected useImperativeHandle() first argument to either be a ref callback or React.createRef() object. Instead received: %s.","an object with keys {"+Object.keys(a).join(", ")+"}"),i=i(),a.current=i,function(){a.current=null}}function i0(i,a,u){typeof a!="function"&&console.error("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",a!==null?typeof a:"null"),u=u!=null?u.concat([i]):null;var d=4194308;(Ht.mode&Fi)!==qn&&(d|=134217728),ac(d,Gr,Y3.bind(null,a,i),u)}function og(i,a,u){typeof a!="function"&&console.error("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",a!==null?typeof a:"null"),u=u!=null?u.concat([i]):null,Us(4,Gr,Y3.bind(null,a,i),u)}function o0(i,a){return Os().memoizedState=[i,a===void 0?null:a],i}function ag(i,a){var u=jn();a=a===void 0?null:a;var d=u.memoizedState;return a!==null&&$v(a,d[1])?d[0]:(u.memoizedState=[i,a],i)}function a0(i,a){var u=Os();a=a===void 0?null:a;var d=i();if(yc){xe(!0);try{i()}finally{xe(!1)}}return u.memoizedState=[d,a],d}function lg(i,a){var u=jn();a=a===void 0?null:a;var d=u.memoizedState;if(a!==null&&$v(a,d[1]))return d[0];if(d=i(),yc){xe(!0);try{i()}finally{xe(!1)}}return u.memoizedState=[d,a],d}function l0(i,a){var u=Os();return c0(u,i,a)}function K3(i,a){var u=jn();return Q3(u,On.memoizedState,i,a)}function Z3(i,a){var u=jn();return On===null?c0(u,i,a):Q3(u,On.memoizedState,i,a)}function c0(i,a,u){return u===void 0||(Ya&1073741824)!==0?i.memoizedState=a:(i.memoizedState=u,i=GA(),Ht.lanes|=i,Qa|=i,u)}function Q3(i,a,u,d){return vs(u,a)?u:tf.current!==null?(i=c0(i,u,d),vs(i,a)||(zr=!0),i):(Ya&42)===0?(zr=!0,i.memoizedState=u):(i=GA(),Ht.lanes|=i,Qa|=i,a)}function G3(i,a,u,d,g){var v=Sn.p;Sn.p=v!==0&&v<bo?v:bo;var R=Be.T,I={};Be.T=I,p0(i,!1,a,u),I._updatedFibers=new Set;try{var q=g(),re=Be.S;if(re!==null&&re(I,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var Oe=lL(q,d);ih(i,a,Oe,Zs(i))}else ih(i,a,d,Zs(i))}catch(Le){ih(i,a,{then:function(){},status:"rejected",reason:Le},Zs(i))}finally{Sn.p=v,Be.T=R,R===null&&I._updatedFibers&&(i=I._updatedFibers.size,I._updatedFibers.clear(),10<i&&console.warn("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table."))}}function u0(i,a,u,d){if(i.tag!==5)throw Error("Expected the form instance to be a HostComponent. This is a bug in React.");var g=J3(i).queue;G3(i,g,a,kc,u===null?p:function(){return eA(i),u(d)})}function J3(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:kc,baseState:kc,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:kc},next:null};var u={};return a.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:u},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function eA(i){Be.T===null&&console.error("requestFormReset was called outside a transition or action. To fix, move to an action, or wrap with startTransition.");var a=J3(i).next.queue;ih(i,a,{},Zs(i))}function f0(){var i=Jv(!1);return i=G3.bind(null,Ht,i.queue,!0,!1),Os().memoizedState=i,[!1,i]}function tA(){var i=Nu(Ui)[0],a=jn().memoizedState;return[typeof i=="boolean"?i:rh(i),a]}function nA(){var i=sh(Ui)[0],a=jn().memoizedState;return[typeof i=="boolean"?i:rh(i),a]}function lc(){return nr(op)}function d0(){var i=Os(),a=Ln.identifierPrefix;if(xn){var u=ia,d=sa;u=(d&~(1<<32-xs(d)-1)).toString(32)+u,a="«"+a+"R"+u,u=sb++,0<u&&(a+="H"+u.toString(32)),a+="»"}else u=Mz++,a="«"+a+"r"+u.toString(32)+"»";return i.memoizedState=a}function h0(){return Os().memoizedState=hL.bind(null,Ht)}function hL(i,a){for(var u=i.return;u!==null;){switch(u.tag){case 24:case 3:var d=Zs(u);i=Pa(d);var g=ja(u,i,d);g!==null&&(vr(g,u,d),eh(g,u,d)),u=Iv(),a!=null&&g!==null&&console.error("The seed argument is not enabled outside experimental channels."),i.payload={cache:u};return}u=u.return}}function pL(i,a,u){var d=arguments;typeof d[3]=="function"&&console.error("State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect()."),d=Zs(i);var g={lane:d,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};cg(i)?sA(a,g):(g=Nv(i,a,g,d),g!==null&&(vr(g,i,d),iA(g,a,d))),Ue(i,d)}function rA(i,a,u){var d=arguments;typeof d[3]=="function"&&console.error("State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect()."),d=Zs(i),ih(i,a,u,d),Ue(i,d)}function ih(i,a,u,d){var g={lane:d,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(cg(i))sA(a,g);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=a.lastRenderedReducer,v!==null)){var R=Be.H;Be.H=Li;try{var I=a.lastRenderedState,q=v(I,u);if(g.hasEagerState=!0,g.eagerState=q,vs(q,I))return $m(i,a,g,0),Ln===null&&zm(),!1}catch{}finally{Be.H=R}}if(u=Nv(i,a,g,d),u!==null)return vr(u,i,d),iA(u,a,d),!0}return!1}function p0(i,a,u,d){if(Be.T===null&&gc===0&&console.error("An optimistic state update occurred outside a transition or action. To fix, move the update to an action, or wrap with startTransition."),d={lane:2,revertLane:W0(),action:d,hasEagerState:!1,eagerState:null,next:null},cg(i)){if(a)throw Error("Cannot update optimistic state while rendering.");console.error("Cannot call startTransition while rendering.")}else a=Nv(i,u,d,2),a!==null&&vr(a,i,2);Ue(i,2)}function cg(i){var a=i.alternate;return i===Ht||a!==null&&a===Ht}function sA(i,a){rf=rb=!0;var u=i.pending;u===null?a.next=a:(a.next=u.next,u.next=a),i.pending=a}function iA(i,a,u){if((u&4194048)!==0){var d=a.lanes;d&=i.pendingLanes,u|=d,a.lanes=u,He(i,u)}}function Xr(i){var a=tn;return i!=null&&(tn=a===null?i:a.concat(i)),a}function ug(i,a,u){for(var d=Object.keys(i.props),g=0;g<d.length;g++){var v=d[g];if(v!=="children"&&v!=="key"){a===null&&(a=Wm(i,u.mode,0),a._debugInfo=tn,a.return=u),ie(a,function(R){console.error("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",R)},v);break}}}function fg(i){var a=Hh;return Hh+=1,sf===null&&(sf=E3()),A3(sf,i,a)}function oh(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function dg(i,a){throw a.$$typeof===y5?Error(`A React Element from an older version of React was rendered. This is not supported. It can happen if:
- Multiple copies of the "react" package is used.
- A library pre-bundled an old copy of "react" or "react/jsx-runtime".
- A compiler tries to "inline" JSX instead of using the runtime.`):(i=Object.prototype.toString.call(a),Error("Objects are not valid as a React child (found: "+(i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)+"). If you meant to render a collection of children, use an array instead."))}function hg(i,a){var u=Q(i)||"Component";jk[u]||(jk[u]=!0,a=a.displayName||a.name||"Component",i.tag===3?console.error(`Functions are not valid as a React child. This may happen if you return %s instead of <%s /> from render. Or maybe you meant to call this function rather than return it.
  root.render(%s)`,a,a,a):console.error(`Functions are not valid as a React child. This may happen if you return %s instead of <%s /> from render. Or maybe you meant to call this function rather than return it.
  <%s>{%s}</%s>`,a,a,u,a,u))}function pg(i,a){var u=Q(i)||"Component";Mk[u]||(Mk[u]=!0,a=String(a),i.tag===3?console.error(`Symbols are not valid as a React child.
  root.render(%s)`,a):console.error(`Symbols are not valid as a React child.
  <%s>%s</%s>`,u,a,u))}function oA(i){function a(de,pe){if(i){var Ne=de.deletions;Ne===null?(de.deletions=[pe],de.flags|=16):Ne.push(pe)}}function u(de,pe){if(!i)return null;for(;pe!==null;)a(de,pe),pe=pe.sibling;return null}function d(de){for(var pe=new Map;de!==null;)de.key!==null?pe.set(de.key,de):pe.set(de.index,de),de=de.sibling;return pe}function g(de,pe){return de=Wo(de,pe),de.index=0,de.sibling=null,de}function v(de,pe,Ne){return de.index=Ne,i?(Ne=de.alternate,Ne!==null?(Ne=Ne.index,Ne<pe?(de.flags|=67108866,pe):Ne):(de.flags|=67108866,pe)):(de.flags|=1048576,pe)}function R(de){return i&&de.alternate===null&&(de.flags|=67108866),de}function I(de,pe,Ne,Xe){return pe===null||pe.tag!==6?(pe=Cv(Ne,de.mode,Xe),pe.return=de,pe._debugOwner=de,pe._debugTask=de._debugTask,pe._debugInfo=tn,pe):(pe=g(pe,Ne),pe.return=de,pe._debugInfo=tn,pe)}function q(de,pe,Ne,Xe){var ct=Ne.type;return ct===Ou?(pe=Oe(de,pe,Ne.props.children,Xe,Ne.key),ug(Ne,pe,de),pe):pe!==null&&(pe.elementType===ct||h3(pe,Ne)||typeof ct=="object"&&ct!==null&&ct.$$typeof===Qs&&Ka(ct)===pe.type)?(pe=g(pe,Ne.props),oh(pe,Ne),pe.return=de,pe._debugOwner=Ne._owner,pe._debugInfo=tn,pe):(pe=Wm(Ne,de.mode,Xe),oh(pe,Ne),pe.return=de,pe._debugInfo=tn,pe)}function re(de,pe,Ne,Xe){return pe===null||pe.tag!==4||pe.stateNode.containerInfo!==Ne.containerInfo||pe.stateNode.implementation!==Ne.implementation?(pe=Rv(Ne,de.mode,Xe),pe.return=de,pe._debugInfo=tn,pe):(pe=g(pe,Ne.children||[]),pe.return=de,pe._debugInfo=tn,pe)}function Oe(de,pe,Ne,Xe,ct){return pe===null||pe.tag!==7?(pe=Jl(Ne,de.mode,Xe,ct),pe.return=de,pe._debugOwner=de,pe._debugTask=de._debugTask,pe._debugInfo=tn,pe):(pe=g(pe,Ne),pe.return=de,pe._debugInfo=tn,pe)}function Le(de,pe,Ne){if(typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint")return pe=Cv(""+pe,de.mode,Ne),pe.return=de,pe._debugOwner=de,pe._debugTask=de._debugTask,pe._debugInfo=tn,pe;if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case Ba:return Ne=Wm(pe,de.mode,Ne),oh(Ne,pe),Ne.return=de,de=Xr(pe._debugInfo),Ne._debugInfo=tn,tn=de,Ne;case Iu:return pe=Rv(pe,de.mode,Ne),pe.return=de,pe._debugInfo=tn,pe;case Qs:var Xe=Xr(pe._debugInfo);return pe=Ka(pe),de=Le(de,pe,Ne),tn=Xe,de}if(Zr(pe)||O(pe))return Ne=Jl(pe,de.mode,Ne,null),Ne.return=de,Ne._debugOwner=de,Ne._debugTask=de._debugTask,de=Xr(pe._debugInfo),Ne._debugInfo=tn,tn=de,Ne;if(typeof pe.then=="function")return Xe=Xr(pe._debugInfo),de=Le(de,fg(pe),Ne),tn=Xe,de;if(pe.$$typeof===po)return Le(de,Ym(de,pe),Ne);dg(de,pe)}return typeof pe=="function"&&hg(de,pe),typeof pe=="symbol"&&pg(de,pe),null}function Ie(de,pe,Ne,Xe){var ct=pe!==null?pe.key:null;if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number"||typeof Ne=="bigint")return ct!==null?null:I(de,pe,""+Ne,Xe);if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case Ba:return Ne.key===ct?(ct=Xr(Ne._debugInfo),de=q(de,pe,Ne,Xe),tn=ct,de):null;case Iu:return Ne.key===ct?re(de,pe,Ne,Xe):null;case Qs:return ct=Xr(Ne._debugInfo),Ne=Ka(Ne),de=Ie(de,pe,Ne,Xe),tn=ct,de}if(Zr(Ne)||O(Ne))return ct!==null?null:(ct=Xr(Ne._debugInfo),de=Oe(de,pe,Ne,Xe,null),tn=ct,de);if(typeof Ne.then=="function")return ct=Xr(Ne._debugInfo),de=Ie(de,pe,fg(Ne),Xe),tn=ct,de;if(Ne.$$typeof===po)return Ie(de,pe,Ym(de,Ne),Xe);dg(de,Ne)}return typeof Ne=="function"&&hg(de,Ne),typeof Ne=="symbol"&&pg(de,Ne),null}function We(de,pe,Ne,Xe,ct){if(typeof Xe=="string"&&Xe!==""||typeof Xe=="number"||typeof Xe=="bigint")return de=de.get(Ne)||null,I(pe,de,""+Xe,ct);if(typeof Xe=="object"&&Xe!==null){switch(Xe.$$typeof){case Ba:return Ne=de.get(Xe.key===null?Ne:Xe.key)||null,de=Xr(Xe._debugInfo),pe=q(pe,Ne,Xe,ct),tn=de,pe;case Iu:return de=de.get(Xe.key===null?Ne:Xe.key)||null,re(pe,de,Xe,ct);case Qs:var qt=Xr(Xe._debugInfo);return Xe=Ka(Xe),pe=We(de,pe,Ne,Xe,ct),tn=qt,pe}if(Zr(Xe)||O(Xe))return Ne=de.get(Ne)||null,de=Xr(Xe._debugInfo),pe=Oe(pe,Ne,Xe,ct,null),tn=de,pe;if(typeof Xe.then=="function")return qt=Xr(Xe._debugInfo),pe=We(de,pe,Ne,fg(Xe),ct),tn=qt,pe;if(Xe.$$typeof===po)return We(de,pe,Ne,Ym(pe,Xe),ct);dg(pe,Xe)}return typeof Xe=="function"&&hg(pe,Xe),typeof Xe=="symbol"&&pg(pe,Xe),null}function wt(de,pe,Ne,Xe){if(typeof Ne!="object"||Ne===null)return Xe;switch(Ne.$$typeof){case Ba:case Iu:c(de,pe,Ne);var ct=Ne.key;if(typeof ct!="string")break;if(Xe===null){Xe=new Set,Xe.add(ct);break}if(!Xe.has(ct)){Xe.add(ct);break}ie(pe,function(){console.error("Encountered two children with the same key, `%s`. Keys should be unique so that components maintain their identity across updates. Non-unique keys may cause children to be duplicated and/or omitted — the behavior is unsupported and could change in a future version.",ct)});break;case Qs:Ne=Ka(Ne),wt(de,pe,Ne,Xe)}return Xe}function Vt(de,pe,Ne,Xe){for(var ct=null,qt=null,_t=null,Xt=pe,Kt=pe=0,Xn=null;Xt!==null&&Kt<Ne.length;Kt++){Xt.index>Kt?(Xn=Xt,Xt=null):Xn=Xt.sibling;var _r=Ie(de,Xt,Ne[Kt],Xe);if(_r===null){Xt===null&&(Xt=Xn);break}ct=wt(de,_r,Ne[Kt],ct),i&&Xt&&_r.alternate===null&&a(de,Xt),pe=v(_r,pe,Kt),_t===null?qt=_r:_t.sibling=_r,_t=_r,Xt=Xn}if(Kt===Ne.length)return u(de,Xt),xn&&ec(de,Kt),qt;if(Xt===null){for(;Kt<Ne.length;Kt++)Xt=Le(de,Ne[Kt],Xe),Xt!==null&&(ct=wt(de,Xt,Ne[Kt],ct),pe=v(Xt,pe,Kt),_t===null?qt=Xt:_t.sibling=Xt,_t=Xt);return xn&&ec(de,Kt),qt}for(Xt=d(Xt);Kt<Ne.length;Kt++)Xn=We(Xt,de,Kt,Ne[Kt],Xe),Xn!==null&&(ct=wt(de,Xn,Ne[Kt],ct),i&&Xn.alternate!==null&&Xt.delete(Xn.key===null?Kt:Xn.key),pe=v(Xn,pe,Kt),_t===null?qt=Xn:_t.sibling=Xn,_t=Xn);return i&&Xt.forEach(function(pa){return a(de,pa)}),xn&&ec(de,Kt),qt}function zn(de,pe,Ne,Xe){if(Ne==null)throw Error("An iterable object provided no iterator.");for(var ct=null,qt=null,_t=pe,Xt=pe=0,Kt=null,Xn=null,_r=Ne.next();_t!==null&&!_r.done;Xt++,_r=Ne.next()){_t.index>Xt?(Kt=_t,_t=null):Kt=_t.sibling;var pa=Ie(de,_t,_r.value,Xe);if(pa===null){_t===null&&(_t=Kt);break}Xn=wt(de,pa,_r.value,Xn),i&&_t&&pa.alternate===null&&a(de,_t),pe=v(pa,pe,Xt),qt===null?ct=pa:qt.sibling=pa,qt=pa,_t=Kt}if(_r.done)return u(de,_t),xn&&ec(de,Xt),ct;if(_t===null){for(;!_r.done;Xt++,_r=Ne.next())_t=Le(de,_r.value,Xe),_t!==null&&(Xn=wt(de,_t,_r.value,Xn),pe=v(_t,pe,Xt),qt===null?ct=_t:qt.sibling=_t,qt=_t);return xn&&ec(de,Xt),ct}for(_t=d(_t);!_r.done;Xt++,_r=Ne.next())Kt=We(_t,de,Xt,_r.value,Xe),Kt!==null&&(Xn=wt(de,Kt,_r.value,Xn),i&&Kt.alternate!==null&&_t.delete(Kt.key===null?Xt:Kt.key),pe=v(Kt,pe,Xt),qt===null?ct=Kt:qt.sibling=Kt,qt=Kt);return i&&_t.forEach(function(a8){return a(de,a8)}),xn&&ec(de,Xt),ct}function mn(de,pe,Ne,Xe){if(typeof Ne=="object"&&Ne!==null&&Ne.type===Ou&&Ne.key===null&&(ug(Ne,null,de),Ne=Ne.props.children),typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case Ba:var ct=Xr(Ne._debugInfo);e:{for(var qt=Ne.key;pe!==null;){if(pe.key===qt){if(qt=Ne.type,qt===Ou){if(pe.tag===7){u(de,pe.sibling),Xe=g(pe,Ne.props.children),Xe.return=de,Xe._debugOwner=Ne._owner,Xe._debugInfo=tn,ug(Ne,Xe,de),de=Xe;break e}}else if(pe.elementType===qt||h3(pe,Ne)||typeof qt=="object"&&qt!==null&&qt.$$typeof===Qs&&Ka(qt)===pe.type){u(de,pe.sibling),Xe=g(pe,Ne.props),oh(Xe,Ne),Xe.return=de,Xe._debugOwner=Ne._owner,Xe._debugInfo=tn,de=Xe;break e}u(de,pe);break}else a(de,pe);pe=pe.sibling}Ne.type===Ou?(Xe=Jl(Ne.props.children,de.mode,Xe,Ne.key),Xe.return=de,Xe._debugOwner=de,Xe._debugTask=de._debugTask,Xe._debugInfo=tn,ug(Ne,Xe,de),de=Xe):(Xe=Wm(Ne,de.mode,Xe),oh(Xe,Ne),Xe.return=de,Xe._debugInfo=tn,de=Xe)}return de=R(de),tn=ct,de;case Iu:e:{for(ct=Ne,Ne=ct.key;pe!==null;){if(pe.key===Ne)if(pe.tag===4&&pe.stateNode.containerInfo===ct.containerInfo&&pe.stateNode.implementation===ct.implementation){u(de,pe.sibling),Xe=g(pe,ct.children||[]),Xe.return=de,de=Xe;break e}else{u(de,pe);break}else a(de,pe);pe=pe.sibling}Xe=Rv(ct,de.mode,Xe),Xe.return=de,de=Xe}return R(de);case Qs:return ct=Xr(Ne._debugInfo),Ne=Ka(Ne),de=mn(de,pe,Ne,Xe),tn=ct,de}if(Zr(Ne))return ct=Xr(Ne._debugInfo),de=Vt(de,pe,Ne,Xe),tn=ct,de;if(O(Ne)){if(ct=Xr(Ne._debugInfo),qt=O(Ne),typeof qt!="function")throw Error("An object is not an iterable. This error is likely caused by a bug in React. Please file an issue.");var _t=qt.call(Ne);return _t===Ne?(de.tag!==0||Object.prototype.toString.call(de.type)!=="[object GeneratorFunction]"||Object.prototype.toString.call(_t)!=="[object Generator]")&&(Dk||console.error("Using Iterators as children is unsupported and will likely yield unexpected results because enumerating a generator mutates it. You may convert it to an array with `Array.from()` or the `[...spread]` operator before rendering. You can also use an Iterable that can iterate multiple times over the same items."),Dk=!0):Ne.entries!==qt||r_||(console.error("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),r_=!0),de=zn(de,pe,_t,Xe),tn=ct,de}if(typeof Ne.then=="function")return ct=Xr(Ne._debugInfo),de=mn(de,pe,fg(Ne),Xe),tn=ct,de;if(Ne.$$typeof===po)return mn(de,pe,Ym(de,Ne),Xe);dg(de,Ne)}return typeof Ne=="string"&&Ne!==""||typeof Ne=="number"||typeof Ne=="bigint"?(ct=""+Ne,pe!==null&&pe.tag===6?(u(de,pe.sibling),Xe=g(pe,ct),Xe.return=de,de=Xe):(u(de,pe),Xe=Cv(ct,de.mode,Xe),Xe.return=de,Xe._debugOwner=de,Xe._debugTask=de._debugTask,Xe._debugInfo=tn,de=Xe),R(de)):(typeof Ne=="function"&&hg(de,Ne),typeof Ne=="symbol"&&pg(de,Ne),u(de,pe))}return function(de,pe,Ne,Xe){var ct=tn;tn=null;try{Hh=0;var qt=mn(de,pe,Ne,Xe);return sf=null,qt}catch(Xn){if(Xn===Bh||Xn===eb)throw Xn;var _t=x(29,Xn,null,de.mode);_t.lanes=Xe,_t.return=de;var Xt=_t._debugInfo=tn;if(_t._debugOwner=de._debugOwner,_t._debugTask=de._debugTask,Xt!=null){for(var Kt=Xt.length-1;0<=Kt;Kt--)if(typeof Xt[Kt].stack=="string"){_t._debugOwner=Xt[Kt],_t._debugTask=Xt[Kt].debugTask;break}}return _t}finally{tn=ct}}}function Ia(i){var a=i.alternate;ue(Or,Or.current&af,i),ue(_i,i,i),_o===null&&(a===null||tf.current!==null||a.memoizedState!==null)&&(_o=i)}function aA(i){if(i.tag===22){if(ue(Or,Or.current,i),ue(_i,i,i),_o===null){var a=i.alternate;a!==null&&a.memoizedState!==null&&(_o=i)}}else Oa(i)}function Oa(i){ue(Or,Or.current,i),ue(_i,_i.current,i)}function Yo(i){G(_i,i),_o===i&&(_o=null),G(Or,i)}function mg(i){for(var a=i;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data===fa||nw(u)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function m0(i){if(i!==null&&typeof i!="function"){var a=String(i);qk.has(a)||(qk.add(a),console.error("Expected the last optional `callback` argument to be a function. Instead received: %s.",i))}}function g0(i,a,u,d){var g=i.memoizedState,v=u(d,g);if(i.mode&os){xe(!0);try{v=u(d,g)}finally{xe(!1)}}v===void 0&&(a=Y(a)||"Component",zk.has(a)||(zk.add(a),console.error("%s.getDerivedStateFromProps(): A valid state object (or null) must be returned. You have returned undefined.",a))),g=v==null?g:rn({},g,v),i.memoizedState=g,i.lanes===0&&(i.updateQueue.baseState=g)}function lA(i,a,u,d,g,v,R){var I=i.stateNode;if(typeof I.shouldComponentUpdate=="function"){if(u=I.shouldComponentUpdate(d,v,R),i.mode&os){xe(!0);try{u=I.shouldComponentUpdate(d,v,R)}finally{xe(!1)}}return u===void 0&&console.error("%s.shouldComponentUpdate(): Returned undefined instead of a boolean value. Make sure to return true or false.",Y(a)||"Component"),u}return a.prototype&&a.prototype.isPureReactComponent?!Xd(u,d)||!Xd(g,v):!0}function cA(i,a,u,d){var g=a.state;typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,d),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,d),a.state!==g&&(i=Q(i)||"Component",Uk.has(i)||(Uk.add(i),console.error("%s.componentWillReceiveProps(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",i)),s_.enqueueReplaceState(a,a.state,null))}function cc(i,a){var u=a;if("ref"in a){u={};for(var d in a)d!=="ref"&&(u[d]=a[d])}if(i=i.defaultProps){u===a&&(u=rn({},u));for(var g in i)u[g]===void 0&&(u[g]=i[g])}return u}function uA(i){i_(i),console.warn(`%s

%s
`,lf?"An error occurred in the <"+lf+"> component.":"An error occurred in one of your React components.",`Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://react.dev/link/error-boundaries to learn more about error boundaries.`)}function fA(i){var a=lf?"The above error occurred in the <"+lf+"> component.":"The above error occurred in one of your React components.",u="React will try to recreate this component tree from scratch using the error boundary you provided, "+((o_||"Anonymous")+".");if(typeof i=="object"&&i!==null&&typeof i.environmentName=="string"){var d=i.environmentName;i=[`%o

%s

%s
`,i,a,u].slice(0),typeof i[0]=="string"?i.splice(0,1,SD+i[0],ED,Sb+d+Sb,TD):i.splice(0,0,SD,ED,Sb+d+Sb,TD),i.unshift(console),d=i8.apply(console.error,i),d()}else console.error(`%o

%s

%s
`,i,a,u)}function dA(i){i_(i)}function gg(i,a){try{lf=a.source?Q(a.source):null,o_=null;var u=a.value;if(Be.actQueue!==null)Be.thrownErrors.push(u);else{var d=i.onUncaughtError;d(u,{componentStack:a.stack})}}catch(g){setTimeout(function(){throw g})}}function hA(i,a,u){try{lf=u.source?Q(u.source):null,o_=Q(a);var d=i.onCaughtError;d(u.value,{componentStack:u.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function b0(i,a,u){return u=Pa(u),u.tag=Kw,u.payload={element:null},u.callback=function(){ie(a.source,gg,i,a)},u}function x0(i){return i=Pa(i),i.tag=Kw,i}function y0(i,a,u,d){var g=u.type.getDerivedStateFromError;if(typeof g=="function"){var v=d.value;i.payload=function(){return g(v)},i.callback=function(){p3(u),ie(d.source,hA,a,u,d)}}var R=u.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(i.callback=function(){p3(u),ie(d.source,hA,a,u,d),typeof g!="function"&&(Ja===null?Ja=new Set([this]):Ja.add(this)),Oz(this,d),typeof g=="function"||(u.lanes&2)===0&&console.error("%s: Error boundaries should implement getDerivedStateFromError(). In that method, return a state update to display an error message or fallback UI.",Q(u)||"Unknown")})}function mL(i,a,u,d,g){if(u.flags|=32768,Vi&&hh(i,g),d!==null&&typeof d=="object"&&typeof d.then=="function"){if(a=u.alternate,a!==null&&Qd(a,u,g,!0),xn&&(oa=!0),u=_i.current,u!==null){switch(u.tag){case 13:return _o===null?V0():u.alternate===null&&dr===ua&&(dr=u_),u.flags&=-257,u.flags|=65536,u.lanes=g,d===Yw?u.flags|=16384:(a=u.updateQueue,a===null?u.updateQueue=new Set([d]):a.add(d),L0(i,d,g)),!1;case 22:return u.flags|=65536,d===Yw?u.flags|=16384:(a=u.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([d])},u.updateQueue=a):(u=a.retryQueue,u===null?a.retryQueue=new Set([d]):u.add(d)),L0(i,d,g)),!1}throw Error("Unexpected Suspense handler tag ("+u.tag+"). This is a bug in React.")}return L0(i,d,g),V0(),!1}if(xn)return oa=!0,a=_i.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=g,d!==Hw&&Zd(Xs(Error("There was an error while hydrating but React was able to recover by instead client rendering from the nearest Suspense boundary.",{cause:d}),u))):(d!==Hw&&Zd(Xs(Error("There was an error while hydrating but React was able to recover by instead client rendering the entire root.",{cause:d}),u)),i=i.current.alternate,i.flags|=65536,g&=-g,i.lanes|=g,d=Xs(d,u),g=b0(i.stateNode,d,g),Jm(i,g),dr!==vc&&(dr=df)),!1;var v=Xs(Error("There was an error during concurrent rendering but React was able to recover by instead synchronously rendering the entire root.",{cause:d}),u);if(Gh===null?Gh=[v]:Gh.push(v),dr!==vc&&(dr=df),a===null)return!0;d=Xs(d,u),u=a;do{switch(u.tag){case 3:return u.flags|=65536,i=g&-g,u.lanes|=i,i=b0(u.stateNode,d,i),Jm(u,i),!1;case 1:if(a=u.type,v=u.stateNode,(u.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Ja===null||!Ja.has(v))))return u.flags|=65536,g&=-g,u.lanes|=g,g=x0(g),y0(g,i,u,d),Jm(u,g),!1}u=u.return}while(u!==null);return!1}function Yr(i,a,u,d){a.child=i===null?Ik(a,null,u,d):of(a,i.child,u,d)}function pA(i,a,u,d,g){u=u.render;var v=a.ref;if("ref"in d){var R={};for(var I in d)I!=="ref"&&(R[I]=d[I])}else R=d;return sc(a),De(a),d=Hv(i,a,u,R,v,g),I=qv(),qe(),i!==null&&!zr?(Xv(i,a,g),Ko(i,a,g)):(xn&&I&&kv(a),a.flags|=1,Yr(i,a,d,g),a.child)}function mA(i,a,u,d,g){if(i===null){var v=u.type;return typeof v=="function"&&!Tv(v)&&v.defaultProps===void 0&&u.compare===null?(u=Gl(v),a.tag=15,a.type=u,w0(a,v),gA(i,a,u,d,g)):(i=Av(u.type,null,d,a,a.mode,g),i.ref=a.ref,i.return=a,a.child=i)}if(v=i.child,!A0(i,g)){var R=v.memoizedProps;if(u=u.compare,u=u!==null?u:Xd,u(R,d)&&i.ref===a.ref)return Ko(i,a,g)}return a.flags|=1,i=Wo(v,d),i.ref=a.ref,i.return=a,a.child=i}function gA(i,a,u,d,g){if(i!==null){var v=i.memoizedProps;if(Xd(v,d)&&i.ref===a.ref&&a.type===i.type)if(zr=!1,a.pendingProps=d=v,A0(i,g))(i.flags&131072)!==0&&(zr=!0);else return a.lanes=i.lanes,Ko(i,a,g)}return v0(i,a,u,d,g)}function bA(i,a,u){var d=a.pendingProps,g=d.children,v=i!==null?i.memoizedState:null;if(d.mode==="hidden"){if((a.flags&128)!==0){if(d=v!==null?v.baseLanes|u:u,i!==null){for(g=a.child=i.child,v=0;g!==null;)v=v|g.lanes|g.childLanes,g=g.sibling;a.childLanes=v&~d}else a.childLanes=0,a.child=null;return xA(i,a,d,u)}if((u&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&Qm(a,v!==null?v.cachePool:null),v!==null?P3(a,v):Lv(a),aA(a);else return a.lanes=a.childLanes=536870912,xA(i,a,v!==null?v.baseLanes|u:u,u)}else v!==null?(Qm(a,v.cachePool),P3(a,v),Oa(a),a.memoizedState=null):(i!==null&&Qm(a,null),Lv(a),Oa(a));return Yr(i,a,g,u),a.child}function xA(i,a,u,d){var g=Vv();return g=g===null?null:{parent:Mr._currentValue,pool:g},a.memoizedState={baseLanes:u,cachePool:g},i!==null&&Qm(a,null),Lv(a),aA(a),i!==null&&Qd(i,a,d,!0),null}function bg(i,a){var u=a.ref;if(u===null)i!==null&&i.ref!==null&&(a.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error("Expected ref to be a function, an object returned by React.createRef(), or undefined/null.");(i===null||i.ref!==u)&&(a.flags|=4194816)}}function v0(i,a,u,d,g){if(u.prototype&&typeof u.prototype.render=="function"){var v=Y(u)||"Unknown";Yk[v]||(console.error("The <%s /> component appears to have a render method, but doesn't extend React.Component. This is likely to cause errors. Change %s to extend React.Component instead.",v,v),Yk[v]=!0)}return a.mode&os&&Bi.recordLegacyContextWarning(a,null),i===null&&(w0(a,a.type),u.contextTypes&&(v=Y(u)||"Unknown",Zk[v]||(Zk[v]=!0,console.error("%s uses the legacy contextTypes API which was removed in React 19. Use React.createContext() with React.useContext() instead. (https://react.dev/link/legacy-context)",v)))),sc(a),De(a),u=Hv(i,a,u,d,void 0,g),d=qv(),qe(),i!==null&&!zr?(Xv(i,a,g),Ko(i,a,g)):(xn&&d&&kv(a),a.flags|=1,Yr(i,a,u,g),a.child)}function yA(i,a,u,d,g,v){return sc(a),De(a),la=-1,$h=i!==null&&i.type!==a.type,a.updateQueue=null,u=Wv(a,d,u,g),j3(i,a),d=qv(),qe(),i!==null&&!zr?(Xv(i,a,v),Ko(i,a,v)):(xn&&d&&kv(a),a.flags|=1,Yr(i,a,u,v),a.child)}function vA(i,a,u,d,g){switch(l(a)){case!1:var v=a.stateNode,R=new a.type(a.memoizedProps,v.context).state;v.updater.enqueueSetState(v,R,null);break;case!0:a.flags|=128,a.flags|=65536,v=Error("Simulated error coming from DevTools");var I=g&-g;if(a.lanes|=I,R=Ln,R===null)throw Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");I=x0(I),y0(I,R,a,Xs(v,a)),Jm(a,I)}if(sc(a),a.stateNode===null){if(R=qa,v=u.contextType,"contextType"in u&&v!==null&&(v===void 0||v.$$typeof!==po)&&!Wk.has(u)&&(Wk.add(u),I=v===void 0?" However, it is set to undefined. This can be caused by a typo or by mixing up named and default imports. This can also happen due to a circular dependency, so try moving the createContext() call to a separate file.":typeof v!="object"?" However, it is set to a "+typeof v+".":v.$$typeof===pw?" Did you accidentally pass the Context.Consumer instead?":" However, it is set to an object with keys {"+Object.keys(v).join(", ")+"}.",console.error("%s defines an invalid contextType. contextType should point to the Context object returned by React.createContext().%s",Y(u)||"Component",I)),typeof v=="object"&&v!==null&&(R=nr(v)),v=new u(d,R),a.mode&os){xe(!0);try{v=new u(d,R)}finally{xe(!1)}}if(R=a.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=s_,a.stateNode=v,v._reactInternals=a,v._reactInternalInstance=Ok,typeof u.getDerivedStateFromProps=="function"&&R===null&&(R=Y(u)||"Component",Vk.has(R)||(Vk.add(R),console.error("`%s` uses `getDerivedStateFromProps` but its initial state is %s. This is not recommended. Instead, define the initial state by assigning an object to `this.state` in the constructor of `%s`. This ensures that `getDerivedStateFromProps` arguments have a consistent shape.",R,v.state===null?"null":"undefined",R))),typeof u.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"){var q=I=R=null;if(typeof v.componentWillMount=="function"&&v.componentWillMount.__suppressDeprecationWarning!==!0?R="componentWillMount":typeof v.UNSAFE_componentWillMount=="function"&&(R="UNSAFE_componentWillMount"),typeof v.componentWillReceiveProps=="function"&&v.componentWillReceiveProps.__suppressDeprecationWarning!==!0?I="componentWillReceiveProps":typeof v.UNSAFE_componentWillReceiveProps=="function"&&(I="UNSAFE_componentWillReceiveProps"),typeof v.componentWillUpdate=="function"&&v.componentWillUpdate.__suppressDeprecationWarning!==!0?q="componentWillUpdate":typeof v.UNSAFE_componentWillUpdate=="function"&&(q="UNSAFE_componentWillUpdate"),R!==null||I!==null||q!==null){v=Y(u)||"Component";var re=typeof u.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";Bk.has(v)||(Bk.add(v),console.error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

%s uses %s but also contains the following legacy lifecycles:%s%s%s

The above lifecycles should be removed. Learn more about this warning here:
https://react.dev/link/unsafe-component-lifecycles`,v,re,R!==null?`
  `+R:"",I!==null?`
  `+I:"",q!==null?`
  `+q:""))}}v=a.stateNode,R=Y(u)||"Component",v.render||(u.prototype&&typeof u.prototype.render=="function"?console.error("No `render` method found on the %s instance: did you accidentally return an object from the constructor?",R):console.error("No `render` method found on the %s instance: you may have forgotten to define `render`.",R)),!v.getInitialState||v.getInitialState.isReactClassApproved||v.state||console.error("getInitialState was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Did you mean to define a state property instead?",R),v.getDefaultProps&&!v.getDefaultProps.isReactClassApproved&&console.error("getDefaultProps was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Use a static property to define defaultProps instead.",R),v.contextType&&console.error("contextType was defined as an instance property on %s. Use a static property to define contextType instead.",R),u.childContextTypes&&!Hk.has(u)&&(Hk.add(u),console.error("%s uses the legacy childContextTypes API which was removed in React 19. Use React.createContext() instead. (https://react.dev/link/legacy-context)",R)),u.contextTypes&&!$k.has(u)&&($k.add(u),console.error("%s uses the legacy contextTypes API which was removed in React 19. Use React.createContext() with static contextType instead. (https://react.dev/link/legacy-context)",R)),typeof v.componentShouldUpdate=="function"&&console.error("%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",R),u.prototype&&u.prototype.isPureReactComponent&&typeof v.shouldComponentUpdate<"u"&&console.error("%s has a method called shouldComponentUpdate(). shouldComponentUpdate should not be used when extending React.PureComponent. Please extend React.Component if shouldComponentUpdate is used.",Y(u)||"A pure component"),typeof v.componentDidUnmount=="function"&&console.error("%s has a method called componentDidUnmount(). But there is no such lifecycle method. Did you mean componentWillUnmount()?",R),typeof v.componentDidReceiveProps=="function"&&console.error("%s has a method called componentDidReceiveProps(). But there is no such lifecycle method. If you meant to update the state in response to changing props, use componentWillReceiveProps(). If you meant to fetch data or run side-effects or mutations after React has updated the UI, use componentDidUpdate().",R),typeof v.componentWillRecieveProps=="function"&&console.error("%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",R),typeof v.UNSAFE_componentWillRecieveProps=="function"&&console.error("%s has a method called UNSAFE_componentWillRecieveProps(). Did you mean UNSAFE_componentWillReceiveProps()?",R),I=v.props!==d,v.props!==void 0&&I&&console.error("When calling super() in `%s`, make sure to pass up the same props that your component's constructor was passed.",R),v.defaultProps&&console.error("Setting defaultProps as an instance property on %s is not supported and will be ignored. Instead, define defaultProps as a static property on %s.",R,R),typeof v.getSnapshotBeforeUpdate!="function"||typeof v.componentDidUpdate=="function"||Fk.has(u)||(Fk.add(u),console.error("%s: getSnapshotBeforeUpdate() should be used with componentDidUpdate(). This component defines getSnapshotBeforeUpdate() only.",Y(u))),typeof v.getDerivedStateFromProps=="function"&&console.error("%s: getDerivedStateFromProps() is defined as an instance method and will be ignored. Instead, declare it as a static method.",R),typeof v.getDerivedStateFromError=="function"&&console.error("%s: getDerivedStateFromError() is defined as an instance method and will be ignored. Instead, declare it as a static method.",R),typeof u.getSnapshotBeforeUpdate=="function"&&console.error("%s: getSnapshotBeforeUpdate() is defined as a static method and will be ignored. Instead, declare it as an instance method.",R),(I=v.state)&&(typeof I!="object"||Zr(I))&&console.error("%s.state: must be set to an object or null",R),typeof v.getChildContext=="function"&&typeof u.childContextTypes!="object"&&console.error("%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",R),v=a.stateNode,v.props=d,v.state=a.memoizedState,v.refs={},Fv(a),R=u.contextType,v.context=typeof R=="object"&&R!==null?nr(R):qa,v.state===d&&(R=Y(u)||"Component",Lk.has(R)||(Lk.add(R),console.error("%s: It is not recommended to assign props directly to state because updates to props won't be reflected in state. In most cases, it is better to use props directly.",R))),a.mode&os&&Bi.recordLegacyContextWarning(a,v),Bi.recordUnsafeLifecycleWarnings(a,v),v.state=a.memoizedState,R=u.getDerivedStateFromProps,typeof R=="function"&&(g0(a,u,R,d),v.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(R=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),R!==v.state&&(console.error("%s.componentWillMount(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",Q(a)||"Component"),s_.enqueueReplaceState(v,v.state,null)),nh(a,d,v,g),th(),v.state=a.memoizedState),typeof v.componentDidMount=="function"&&(a.flags|=4194308),(a.mode&Fi)!==qn&&(a.flags|=134217728),v=!0}else if(i===null){v=a.stateNode;var Oe=a.memoizedProps;I=cc(u,Oe),v.props=I;var Le=v.context;q=u.contextType,R=qa,typeof q=="object"&&q!==null&&(R=nr(q)),re=u.getDerivedStateFromProps,q=typeof re=="function"||typeof v.getSnapshotBeforeUpdate=="function",Oe=a.pendingProps!==Oe,q||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(Oe||Le!==R)&&cA(a,v,d,R),Xa=!1;var Ie=a.memoizedState;v.state=Ie,nh(a,d,v,g),th(),Le=a.memoizedState,Oe||Ie!==Le||Xa?(typeof re=="function"&&(g0(a,u,re,d),Le=a.memoizedState),(I=Xa||lA(a,u,I,d,Ie,Le,R))?(q||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(a.flags|=4194308),(a.mode&Fi)!==qn&&(a.flags|=134217728)):(typeof v.componentDidMount=="function"&&(a.flags|=4194308),(a.mode&Fi)!==qn&&(a.flags|=134217728),a.memoizedProps=d,a.memoizedState=Le),v.props=d,v.state=Le,v.context=R,v=I):(typeof v.componentDidMount=="function"&&(a.flags|=4194308),(a.mode&Fi)!==qn&&(a.flags|=134217728),v=!1)}else{v=a.stateNode,Bv(i,a),R=a.memoizedProps,q=cc(u,R),v.props=q,re=a.pendingProps,Ie=v.context,Le=u.contextType,I=qa,typeof Le=="object"&&Le!==null&&(I=nr(Le)),Oe=u.getDerivedStateFromProps,(Le=typeof Oe=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(R!==re||Ie!==I)&&cA(a,v,d,I),Xa=!1,Ie=a.memoizedState,v.state=Ie,nh(a,d,v,g),th();var We=a.memoizedState;R!==re||Ie!==We||Xa||i!==null&&i.dependencies!==null&&Xm(i.dependencies)?(typeof Oe=="function"&&(g0(a,u,Oe,d),We=a.memoizedState),(q=Xa||lA(a,u,q,d,Ie,We,I)||i!==null&&i.dependencies!==null&&Xm(i.dependencies))?(Le||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(d,We,I),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(d,We,I)),typeof v.componentDidUpdate=="function"&&(a.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof v.componentDidUpdate!="function"||R===i.memoizedProps&&Ie===i.memoizedState||(a.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||R===i.memoizedProps&&Ie===i.memoizedState||(a.flags|=1024),a.memoizedProps=d,a.memoizedState=We),v.props=d,v.state=We,v.context=I,v=q):(typeof v.componentDidUpdate!="function"||R===i.memoizedProps&&Ie===i.memoizedState||(a.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||R===i.memoizedProps&&Ie===i.memoizedState||(a.flags|=1024),v=!1)}if(I=v,bg(i,a),R=(a.flags&128)!==0,I||R){if(I=a.stateNode,ze(a),R&&typeof u.getDerivedStateFromError!="function")u=null,Fs=-1;else{if(De(a),u=wk(I),a.mode&os){xe(!0);try{wk(I)}finally{xe(!1)}}qe()}a.flags|=1,i!==null&&R?(a.child=of(a,i.child,null,g),a.child=of(a,null,u,g)):Yr(i,a,u,g),a.memoizedState=I.state,i=a.child}else i=Ko(i,a,g);return g=a.stateNode,v&&g.props!==d&&(cf||console.error("It looks like %s is reassigning its own `this.props` while rendering. This is not supported and can lead to confusing bugs.",Q(a)||"a component"),cf=!0),i}function wA(i,a,u,d){return Kd(),a.flags|=256,Yr(i,a,u,d),a.child}function w0(i,a){a&&a.childContextTypes&&console.error(`childContextTypes cannot be defined on a function component.
  %s.childContextTypes = ...`,a.displayName||a.name||"Component"),typeof a.getDerivedStateFromProps=="function"&&(i=Y(a)||"Unknown",Qk[i]||(console.error("%s: Function components do not support getDerivedStateFromProps.",i),Qk[i]=!0)),typeof a.contextType=="object"&&a.contextType!==null&&(a=Y(a)||"Unknown",Kk[a]||(console.error("%s: Function components do not support contextType.",a),Kk[a]=!0))}function _0(i){return{baseLanes:i,cachePool:S3()}}function N0(i,a,u){return i=i!==null?i.childLanes&~u:0,a&&(i|=ti),i}function _A(i,a,u){var d,g=a.pendingProps;o(a)&&(a.flags|=128);var v=!1,R=(a.flags&128)!==0;if((d=R)||(d=i!==null&&i.memoizedState===null?!1:(Or.current&Wh)!==0),d&&(v=!0,a.flags&=-129),d=(a.flags&32)!==0,a.flags&=-33,i===null){if(xn){if(v?Ia(a):Oa(a),xn){var I=fr,q;if(!(q=!I)){e:{var re=I;for(q=vo;re.nodeType!==8;){if(!q){q=null;break e}if(re=di(re.nextSibling),re===null){q=null;break e}}q=re}q!==null?(tc(),a.memoizedState={dehydrated:q,treeContext:hc!==null?{id:sa,overflow:ia}:null,retryLane:536870912,hydrationErrors:null},re=x(18,null,null,qn),re.stateNode=q,re.return=a,a.child=re,ws=a,fr=null,q=!0):q=!1,q=!q}q&&(Pv(a,I),rc(a))}if(I=a.memoizedState,I!==null&&(I=I.dehydrated,I!==null))return nw(I)?a.lanes=32:a.lanes=536870912,null;Yo(a)}return I=g.children,g=g.fallback,v?(Oa(a),v=a.mode,I=xg({mode:"hidden",children:I},v),g=Jl(g,v,u,null),I.return=a,g.return=a,I.sibling=g,a.child=I,v=a.child,v.memoizedState=_0(u),v.childLanes=N0(i,d,u),a.memoizedState=l_,g):(Ia(a),S0(a,I))}var Oe=i.memoizedState;if(Oe!==null&&(I=Oe.dehydrated,I!==null)){if(R)a.flags&256?(Ia(a),a.flags&=-257,a=E0(i,a,u)):a.memoizedState!==null?(Oa(a),a.child=i.child,a.flags|=128,a=null):(Oa(a),v=g.fallback,I=a.mode,g=xg({mode:"visible",children:g.children},I),v=Jl(v,I,u,null),v.flags|=2,g.return=a,v.return=a,g.sibling=v,a.child=g,of(a,i.child,null,u),g=a.child,g.memoizedState=_0(u),g.childLanes=N0(i,d,u),a.memoizedState=l_,a=v);else if(Ia(a),xn&&console.error("We should not be hydrating here. This is a bug in React. Please file a bug."),nw(I)){if(d=I.nextSibling&&I.nextSibling.dataset,d){q=d.dgst;var Le=d.msg;re=d.stck;var Ie=d.cstck}I=Le,d=q,g=re,q=v=Ie,v=Error(I||"The server could not finish this Suspense boundary, likely due to an error during server rendering. Switched to client rendering."),v.stack=g||"",v.digest=d,d=q===void 0?null:q,g={value:v,source:null,stack:d},typeof d=="string"&&zw.set(v,g),Zd(g),a=E0(i,a,u)}else if(zr||Qd(i,a,u,!1),d=(u&i.childLanes)!==0,zr||d){if(d=Ln,d!==null&&(g=u&-u,g=(g&42)!==0?1:$e(g),g=(g&(d.suspendedLanes|u))!==0?0:g,g!==0&&g!==Oe.retryLane))throw Oe.retryLane=g,Is(i,g),vr(d,i,g),Xk;I.data===fa||V0(),a=E0(i,a,u)}else I.data===fa?(a.flags|=192,a.child=i.child,a=null):(i=Oe.treeContext,fr=di(I.nextSibling),ws=a,xn=!0,pc=null,oa=!1,xi=null,vo=!1,i!==null&&(tc(),gi[bi++]=sa,gi[bi++]=ia,gi[bi++]=hc,sa=i.id,ia=i.overflow,hc=a),a=S0(a,g.children),a.flags|=4096);return a}return v?(Oa(a),v=g.fallback,I=a.mode,q=i.child,re=q.sibling,g=Wo(q,{mode:"hidden",children:g.children}),g.subtreeFlags=q.subtreeFlags&65011712,re!==null?v=Wo(re,v):(v=Jl(v,I,u,null),v.flags|=2),v.return=a,g.return=a,g.sibling=v,a.child=g,g=v,v=a.child,I=i.child.memoizedState,I===null?I=_0(u):(q=I.cachePool,q!==null?(re=Mr._currentValue,q=q.parent!==re?{parent:re,pool:re}:q):q=S3(),I={baseLanes:I.baseLanes|u,cachePool:q}),v.memoizedState=I,v.childLanes=N0(i,d,u),a.memoizedState=l_,g):(Ia(a),u=i.child,i=u.sibling,u=Wo(u,{mode:"visible",children:g.children}),u.return=a,u.sibling=null,i!==null&&(d=a.deletions,d===null?(a.deletions=[i],a.flags|=16):d.push(i)),a.child=u,a.memoizedState=null,u)}function S0(i,a){return a=xg({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function xg(i,a){return i=x(22,i,null,a),i.lanes=0,i.stateNode={_visibility:qg,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function E0(i,a,u){return of(a,i.child,null,u),i=S0(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function NA(i,a,u){i.lanes|=a;var d=i.alternate;d!==null&&(d.lanes|=a),jv(i.return,a,u)}function SA(i,a){var u=Zr(i);return i=!u&&typeof O(i)=="function",u||i?(u=u?"array":"iterable",console.error("A nested %s was passed to row #%s in <SuspenseList />. Wrap it in an additional SuspenseList to configure its revealOrder: <SuspenseList revealOrder=...> ... <SuspenseList revealOrder=...>{%s}</SuspenseList> ... </SuspenseList>",u,a,u),!1):!0}function T0(i,a,u,d,g){var v=i.memoizedState;v===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:d,tail:u,tailMode:g}:(v.isBackwards=a,v.rendering=null,v.renderingStartTime=0,v.last=d,v.tail=u,v.tailMode=g)}function EA(i,a,u){var d=a.pendingProps,g=d.revealOrder,v=d.tail;if(d=d.children,g!==void 0&&g!=="forwards"&&g!=="backwards"&&g!=="together"&&!Gk[g])if(Gk[g]=!0,typeof g=="string")switch(g.toLowerCase()){case"together":case"forwards":case"backwards":console.error('"%s" is not a valid value for revealOrder on <SuspenseList />. Use lowercase "%s" instead.',g,g.toLowerCase());break;case"forward":case"backward":console.error('"%s" is not a valid value for revealOrder on <SuspenseList />. React uses the -s suffix in the spelling. Use "%ss" instead.',g,g.toLowerCase());break;default:console.error('"%s" is not a supported revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?',g)}else console.error('%s is not a supported value for revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?',g);v===void 0||a_[v]||(v!=="collapsed"&&v!=="hidden"?(a_[v]=!0,console.error('"%s" is not a supported value for tail on <SuspenseList />. Did you mean "collapsed" or "hidden"?',v)):g!=="forwards"&&g!=="backwards"&&(a_[v]=!0,console.error('<SuspenseList tail="%s" /> is only valid if revealOrder is "forwards" or "backwards". Did you mean to specify revealOrder="forwards"?',v)));e:if((g==="forwards"||g==="backwards")&&d!==void 0&&d!==null&&d!==!1)if(Zr(d)){for(var R=0;R<d.length;R++)if(!SA(d[R],R))break e}else if(R=O(d),typeof R=="function"){if(R=R.call(d))for(var I=R.next(),q=0;!I.done;I=R.next()){if(!SA(I.value,q))break e;q++}}else console.error('A single row was passed to a <SuspenseList revealOrder="%s" />. This is not useful since it needs multiple rows. Did you mean to pass multiple children or an array?',g);if(Yr(i,a,d,u),d=Or.current,(d&Wh)!==0)d=d&af|Wh,a.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&NA(i,u,a);else if(i.tag===19)NA(i,u,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}d&=af}switch(ue(Or,d,a),g){case"forwards":for(u=a.child,g=null;u!==null;)i=u.alternate,i!==null&&mg(i)===null&&(g=u),u=u.sibling;u=g,u===null?(g=a.child,a.child=null):(g=u.sibling,u.sibling=null),T0(a,!1,g,u,v);break;case"backwards":for(u=null,g=a.child,a.child=null;g!==null;){if(i=g.alternate,i!==null&&mg(i)===null){a.child=g;break}i=g.sibling,g.sibling=u,u=g,g=i}T0(a,!0,u,null,v);break;case"together":T0(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Ko(i,a,u){if(i!==null&&(a.dependencies=i.dependencies),Fs=-1,Qa|=a.lanes,(u&a.childLanes)===0)if(i!==null){if(Qd(i,a,u,!1),(u&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error("Resuming work not yet implemented.");if(a.child!==null){for(i=a.child,u=Wo(i,i.pendingProps),a.child=u,u.return=a;i.sibling!==null;)i=i.sibling,u=u.sibling=Wo(i,i.pendingProps),u.return=a;u.sibling=null}return a.child}function A0(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&Xm(i)))}function gL(i,a,u){switch(a.tag){case 3:le(a,a.stateNode.containerInfo),Da(a,Mr,i.memoizedState.cache),Kd();break;case 27:case 5:Me(a);break;case 4:le(a,a.stateNode.containerInfo);break;case 10:Da(a,a.type,a.memoizedProps.value);break;case 12:(u&a.childLanes)!==0&&(a.flags|=4),a.flags|=2048;var d=a.stateNode;d.effectDuration=-0,d.passiveEffectDuration=-0;break;case 13:if(d=a.memoizedState,d!==null)return d.dehydrated!==null?(Ia(a),a.flags|=128,null):(u&a.child.childLanes)!==0?_A(i,a,u):(Ia(a),i=Ko(i,a,u),i!==null?i.sibling:null);Ia(a);break;case 19:var g=(i.flags&128)!==0;if(d=(u&a.childLanes)!==0,d||(Qd(i,a,u,!1),d=(u&a.childLanes)!==0),g){if(d)return EA(i,a,u);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),ue(Or,Or.current,a),d)break;return null;case 22:case 23:return a.lanes=0,bA(i,a,u);case 24:Da(a,Mr,i.memoizedState.cache)}return Ko(i,a,u)}function C0(i,a,u){if(a._debugNeedsRemount&&i!==null){u=Av(a.type,a.key,a.pendingProps,a._debugOwner||null,a.mode,a.lanes),u._debugStack=a._debugStack,u._debugTask=a._debugTask;var d=a.return;if(d===null)throw Error("Cannot swap the root fiber.");if(i.alternate=null,a.alternate=null,u.index=a.index,u.sibling=a.sibling,u.return=a.return,u.ref=a.ref,u._debugInfo=a._debugInfo,a===d.child)d.child=u;else{var g=d.child;if(g===null)throw Error("Expected parent to have a child.");for(;g.sibling!==a;)if(g=g.sibling,g===null)throw Error("Expected to find the previous sibling.");g.sibling=u}return a=d.deletions,a===null?(d.deletions=[i],d.flags|=16):a.push(i),u.flags|=2,u}if(i!==null)if(i.memoizedProps!==a.pendingProps||a.type!==i.type)zr=!0;else{if(!A0(i,u)&&(a.flags&128)===0)return zr=!1,gL(i,a,u);zr=(i.flags&131072)!==0}else zr=!1,(d=xn)&&(tc(),d=(a.flags&1048576)!==0),d&&(d=a.index,tc(),g3(a,Yg,d));switch(a.lanes=0,a.tag){case 16:e:if(d=a.pendingProps,i=Ka(a.elementType),a.type=i,typeof i=="function")Tv(i)?(d=cc(i,d),a.tag=1,a.type=i=Gl(i),a=vA(null,a,i,d,u)):(a.tag=0,w0(a,i),a.type=i=Gl(i),a=v0(null,a,i,d,u));else{if(i!=null){if(g=i.$$typeof,g===wh){a.tag=11,a.type=i=Sv(i),a=pA(null,a,i,d,u);break e}else if(g===Ig){a.tag=14,a=mA(null,a,i,d,u);break e}}throw a="",i!==null&&typeof i=="object"&&i.$$typeof===Qs&&(a=" Did you wrap a component in React.lazy() more than once?"),i=Y(i)||i,Error("Element type is invalid. Received a promise that resolves to: "+i+". Lazy element type must resolve to a class or function."+a)}return a;case 0:return v0(i,a,a.type,a.pendingProps,u);case 1:return d=a.type,g=cc(d,a.pendingProps),vA(i,a,d,g,u);case 3:e:{if(le(a,a.stateNode.containerInfo),i===null)throw Error("Should have a current fiber. This is a bug in React.");d=a.pendingProps;var v=a.memoizedState;g=v.element,Bv(i,a),nh(a,d,null,u);var R=a.memoizedState;if(d=R.cache,Da(a,Mr,d),d!==v.cache&&Mv(a,[Mr],u,!0),th(),d=R.element,v.isDehydrated)if(v={element:d,isDehydrated:!1,cache:R.cache},a.updateQueue.baseState=v,a.memoizedState=v,a.flags&256){a=wA(i,a,d,u);break e}else if(d!==g){g=Xs(Error("This root received an early update, before anything was able hydrate. Switched the entire root to client rendering."),a),Zd(g),a=wA(i,a,d,u);break e}else{switch(i=a.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(fr=di(i.firstChild),ws=a,xn=!0,pc=null,oa=!1,xi=null,vo=!0,i=Ik(a,null,d,u),a.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(Kd(),d===g){a=Ko(i,a,u);break e}Yr(i,a,d,u)}a=a.child}return a;case 26:return bg(i,a),i===null?(i=HC(a.type,null,a.pendingProps,null))?a.memoizedState=i:xn||(i=a.type,u=a.pendingProps,d=me(za.current),d=Tg(d).createElement(i),d[is]=a,d[Vs]=u,Kr(d,i,u),Ee(d),a.stateNode=d):a.memoizedState=HC(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return Me(a),i===null&&xn&&(d=me(za.current),g=ge(),d=a.stateNode=zC(a.type,a.pendingProps,d,g,!1),oa||(g=jC(d,a.type,a.pendingProps,g),g!==null&&(nc(a,0).serverProps=g)),ws=a,vo=!0,g=fr,Fa(a.type)?(D_=g,fr=di(d.firstChild)):fr=g),Yr(i,a,a.pendingProps.children,u),bg(i,a),i===null&&(a.flags|=4194304),a.child;case 5:return i===null&&xn&&(v=ge(),d=zd(a.type,v.ancestorInfo),g=fr,(R=!g)||(R=JL(g,a.type,a.pendingProps,vo),R!==null?(a.stateNode=R,oa||(v=jC(R,a.type,a.pendingProps,v),v!==null&&(nc(a,0).serverProps=v)),ws=a,fr=di(R.firstChild),vo=!1,v=!0):v=!1,R=!v),R&&(d&&Pv(a,g),rc(a))),Me(a),g=a.type,v=a.pendingProps,R=i!==null?i.memoizedProps:null,d=v.children,ew(g,v)?d=null:R!==null&&ew(g,R)&&(a.flags|=32),a.memoizedState!==null&&(g=Hv(i,a,uL,null,null,u),op._currentValue=g),bg(i,a),Yr(i,a,d,u),a.child;case 6:return i===null&&xn&&(i=a.pendingProps,u=ge(),d=u.ancestorInfo.current,i=d!=null?Vm(i,d.tag,u.ancestorInfo.implicitRootScope):!0,u=fr,(d=!u)||(d=e5(u,a.pendingProps,vo),d!==null?(a.stateNode=d,ws=a,fr=null,d=!0):d=!1,d=!d),d&&(i&&Pv(a,u),rc(a))),null;case 13:return _A(i,a,u);case 4:return le(a,a.stateNode.containerInfo),d=a.pendingProps,i===null?a.child=of(a,null,d,u):Yr(i,a,d,u),a.child;case 11:return pA(i,a,a.type,a.pendingProps,u);case 7:return Yr(i,a,a.pendingProps,u),a.child;case 8:return Yr(i,a,a.pendingProps.children,u),a.child;case 12:return a.flags|=4,a.flags|=2048,d=a.stateNode,d.effectDuration=-0,d.passiveEffectDuration=-0,Yr(i,a,a.pendingProps.children,u),a.child;case 10:return d=a.type,g=a.pendingProps,v=g.value,"value"in g||Jk||(Jk=!0,console.error("The `value` prop is required for the `<Context.Provider>`. Did you misspell it or forget to pass it?")),Da(a,d,v),Yr(i,a,g.children,u),a.child;case 9:return g=a.type._context,d=a.pendingProps.children,typeof d!="function"&&console.error("A context consumer was rendered with multiple children, or a child that isn't a function. A context consumer expects a single child that is a function. If you did pass a function, make sure there is no trailing or leading whitespace around it."),sc(a),g=nr(g),De(a),d=t_(d,g,void 0),qe(),a.flags|=1,Yr(i,a,d,u),a.child;case 14:return mA(i,a,a.type,a.pendingProps,u);case 15:return gA(i,a,a.type,a.pendingProps,u);case 19:return EA(i,a,u);case 31:return d=a.pendingProps,u=a.mode,d={mode:d.mode,children:d.children},i===null?(i=xg(d,u),i.ref=a.ref,a.child=i,i.return=a,a=i):(i=Wo(i.child,d),i.ref=a.ref,a.child=i,i.return=a,a=i),a;case 22:return bA(i,a,u);case 24:return sc(a),d=nr(Mr),i===null?(g=Vv(),g===null&&(g=Ln,v=Iv(),g.pooledCache=v,ic(v),v!==null&&(g.pooledCacheLanes|=u),g=v),a.memoizedState={parent:d,cache:g},Fv(a),Da(a,Mr,g)):((i.lanes&u)!==0&&(Bv(i,a),nh(a,null,null,u),th()),g=i.memoizedState,v=a.memoizedState,g.parent!==d?(g={parent:d,cache:d},a.memoizedState=g,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=g),Da(a,Mr,d)):(d=v.cache,Da(a,Mr,d),d!==g.cache&&Mv(a,[Mr],u,!0))),Yr(i,a,a.pendingProps.children,u),a.child;case 29:throw a.pendingProps}throw Error("Unknown unit of work tag ("+a.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function Zo(i){i.flags|=4}function TA(i,a){if(a.type!=="stylesheet"||(a.state.loading&Ni)!==Rc)i.flags&=-16777217;else if(i.flags|=16777216,!KC(a)){if(a=_i.current,a!==null&&((dn&4194048)===dn?_o!==null:(dn&62914560)!==dn&&(dn&536870912)===0||a!==_o))throw Lh=Yw,ck;i.flags|=8192}}function yg(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?cr():536870912,i.lanes|=a,Nc|=a)}function ah(i,a){if(!xn)switch(i.tailMode){case"hidden":a=i.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:d.sibling=null}}function rr(i){var a=i.alternate!==null&&i.alternate.child===i.child,u=0,d=0;if(a)if((i.mode&Qr)!==qn){for(var g=i.selfBaseDuration,v=i.child;v!==null;)u|=v.lanes|v.childLanes,d|=v.subtreeFlags&65011712,d|=v.flags&65011712,g+=v.treeBaseDuration,v=v.sibling;i.treeBaseDuration=g}else for(g=i.child;g!==null;)u|=g.lanes|g.childLanes,d|=g.subtreeFlags&65011712,d|=g.flags&65011712,g.return=i,g=g.sibling;else if((i.mode&Qr)!==qn){g=i.actualDuration,v=i.selfBaseDuration;for(var R=i.child;R!==null;)u|=R.lanes|R.childLanes,d|=R.subtreeFlags,d|=R.flags,g+=R.actualDuration,v+=R.treeBaseDuration,R=R.sibling;i.actualDuration=g,i.treeBaseDuration=v}else for(g=i.child;g!==null;)u|=g.lanes|g.childLanes,d|=g.subtreeFlags,d|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=d,i.childLanes=u,a}function bL(i,a,u){var d=a.pendingProps;switch(Dv(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rr(a),null;case 1:return rr(a),null;case 3:return u=a.stateNode,d=null,i!==null&&(d=i.memoizedState.cache),a.memoizedState.cache!==d&&(a.flags|=2048),qo(Mr,a),ye(a),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&(Yd(a)?(v3(),Zo(a)):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,y3())),rr(a),null;case 26:return u=a.memoizedState,i===null?(Zo(a),u!==null?(rr(a),TA(a,u)):(rr(a),a.flags&=-16777217)):u?u!==i.memoizedState?(Zo(a),rr(a),TA(a,u)):(rr(a),a.flags&=-16777217):(i.memoizedProps!==d&&Zo(a),rr(a),a.flags&=-16777217),null;case 27:we(a),u=me(za.current);var g=a.type;if(i!==null&&a.stateNode!=null)i.memoizedProps!==d&&Zo(a);else{if(!d){if(a.stateNode===null)throw Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");return rr(a),null}i=ge(),Yd(a)?b3(a):(i=zC(g,d,u,i,!0),a.stateNode=i,Zo(a))}return rr(a),null;case 5:if(we(a),u=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==d&&Zo(a);else{if(!d){if(a.stateNode===null)throw Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");return rr(a),null}if(g=ge(),Yd(a))b3(a);else{switch(i=me(za.current),zd(u,g.ancestorInfo),g=g.context,i=Tg(i),g){case xf:i=i.createElementNS(Bu,u);break;case wb:i=i.createElementNS(Lg,u);break;default:switch(u){case"svg":i=i.createElementNS(Bu,u);break;case"math":i=i.createElementNS(Lg,u);break;case"script":i=i.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof d.is=="string"?i.createElement("select",{is:d.is}):i.createElement("select"),d.multiple?i.multiple=!0:d.size&&(i.size=d.size);break;default:i=typeof d.is=="string"?i.createElement(u,{is:d.is}):i.createElement(u),u.indexOf("-")===-1&&(u!==u.toLowerCase()&&console.error("<%s /> is using incorrect casing. Use PascalCase for React components, or lowercase for HTML elements.",u),Object.prototype.toString.call(i)!=="[object HTMLUnknownElement]"||ta.call(xD,u)||(xD[u]=!0,console.error("The tag <%s> is unrecognized in this browser. If you meant to render a React component, start its name with an uppercase letter.",u)))}}i[is]=a,i[Vs]=d;e:for(g=a.child;g!==null;){if(g.tag===5||g.tag===6)i.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===a)break e;for(;g.sibling===null;){if(g.return===null||g.return===a)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}a.stateNode=i;e:switch(Kr(i,u,d),u){case"button":case"input":case"select":case"textarea":i=!!d.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Zo(a)}}return rr(a),a.flags&=-16777217,null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==d&&Zo(a);else{if(typeof d!="string"&&a.stateNode===null)throw Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");if(i=me(za.current),u=ge(),Yd(a)){i=a.stateNode,u=a.memoizedProps,g=!oa,d=null;var v=ws;if(v!==null)switch(v.tag){case 3:g&&(g=FC(i,u,d),g!==null&&(nc(a,0).serverProps=g));break;case 27:case 5:d=v.memoizedProps,g&&(g=FC(i,u,d),g!==null&&(nc(a,0).serverProps=g))}i[is]=a,i=!!(i.nodeValue===u||d!==null&&d.suppressHydrationWarning===!0||CC(i.nodeValue,u)),i||rc(a)}else g=u.ancestorInfo.current,g!=null&&Vm(d,g.tag,u.ancestorInfo.implicitRootScope),i=Tg(i).createTextNode(d),i[is]=a,a.stateNode=i}return rr(a),null;case 13:if(d=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(g=Yd(a),d!==null&&d.dehydrated!==null){if(i===null){if(!g)throw Error("A dehydrated suspense component was completed without a hydrated node. This is probably a bug in React.");if(g=a.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");g[is]=a,rr(a),(a.mode&Qr)!==qn&&d!==null&&(g=a.child,g!==null&&(a.treeBaseDuration-=g.treeBaseDuration))}else v3(),Kd(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4,rr(a),(a.mode&Qr)!==qn&&d!==null&&(g=a.child,g!==null&&(a.treeBaseDuration-=g.treeBaseDuration));g=!1}else g=y3(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=g),g=!0;if(!g)return a.flags&256?(Yo(a),a):(Yo(a),null)}return Yo(a),(a.flags&128)!==0?(a.lanes=u,(a.mode&Qr)!==qn&&Zm(a),a):(u=d!==null,i=i!==null&&i.memoizedState!==null,u&&(d=a.child,g=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(g=d.alternate.memoizedState.cachePool.pool),v=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(v=d.memoizedState.cachePool.pool),v!==g&&(d.flags|=2048)),u!==i&&u&&(a.child.flags|=8192),yg(a,a.updateQueue),rr(a),(a.mode&Qr)!==qn&&u&&(i=a.child,i!==null&&(a.treeBaseDuration-=i.treeBaseDuration)),null);case 4:return ye(a),i===null&&X0(a.stateNode.containerInfo),rr(a),null;case 10:return qo(a.type,a),rr(a),null;case 19:if(G(Or,a),g=a.memoizedState,g===null)return rr(a),null;if(d=(a.flags&128)!==0,v=g.rendering,v===null)if(d)ah(g,!1);else{if(dr!==ua||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(v=mg(i),v!==null){for(a.flags|=128,ah(g,!1),i=v.updateQueue,a.updateQueue=i,yg(a,i),a.subtreeFlags=0,i=u,u=a.child;u!==null;)m3(u,i),u=u.sibling;return ue(Or,Or.current&af|Wh,a),a.child}i=i.sibling}g.tail!==null&&mo()>cb&&(a.flags|=128,d=!0,ah(g,!1),a.lanes=4194304)}else{if(!d)if(i=mg(v),i!==null){if(a.flags|=128,d=!0,i=i.updateQueue,a.updateQueue=i,yg(a,i),ah(g,!0),g.tail===null&&g.tailMode==="hidden"&&!v.alternate&&!xn)return rr(a),null}else 2*mo()-g.renderingStartTime>cb&&u!==536870912&&(a.flags|=128,d=!0,ah(g,!1),a.lanes=4194304);g.isBackwards?(v.sibling=a.child,a.child=v):(i=g.last,i!==null?i.sibling=v:a.child=v,g.last=v)}return g.tail!==null?(i=g.tail,g.rendering=i,g.tail=i.sibling,g.renderingStartTime=mo(),i.sibling=null,u=Or.current,u=d?u&af|Wh:u&af,ue(Or,u,a),i):(rr(a),null);case 22:case 23:return Yo(a),zv(a),d=a.memoizedState!==null,i!==null?i.memoizedState!==null!==d&&(a.flags|=8192):d&&(a.flags|=8192),d?(u&536870912)!==0&&(a.flags&128)===0&&(rr(a),a.subtreeFlags&6&&(a.flags|=8192)):rr(a),u=a.updateQueue,u!==null&&yg(a,u.retryQueue),u=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),d=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),d!==u&&(a.flags|=2048),i!==null&&G(bc,a),null;case 24:return u=null,i!==null&&(u=i.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),qo(Mr,a),rr(a),null;case 25:return null;case 30:return null}throw Error("Unknown unit of work tag ("+a.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function xL(i,a){switch(Dv(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,(a.mode&Qr)!==qn&&Zm(a),a):null;case 3:return qo(Mr,a),ye(a),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return we(a),null;case 13:if(Yo(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error("Threw in newly mounted dehydrated component. This is likely a bug in React. Please file an issue.");Kd()}return i=a.flags,i&65536?(a.flags=i&-65537|128,(a.mode&Qr)!==qn&&Zm(a),a):null;case 19:return G(Or,a),null;case 4:return ye(a),null;case 10:return qo(a.type,a),null;case 22:case 23:return Yo(a),zv(a),i!==null&&G(bc,a),i=a.flags,i&65536?(a.flags=i&-65537|128,(a.mode&Qr)!==qn&&Zm(a),a):null;case 24:return qo(Mr,a),null;case 25:return null;default:return null}}function AA(i,a){switch(Dv(a),a.tag){case 3:qo(Mr,a),ye(a);break;case 26:case 27:case 5:we(a);break;case 4:ye(a);break;case 13:Yo(a);break;case 19:G(Or,a);break;case 10:qo(a.type,a);break;case 22:case 23:Yo(a),zv(a),i!==null&&G(bc,a);break;case 24:qo(Mr,a)}}function lo(i){return(i.mode&Qr)!==qn}function CA(i,a){lo(i)?(ao(),lh(a,i),oo()):lh(a,i)}function R0(i,a,u){lo(i)?(ao(),Tu(u,i,a),oo()):Tu(u,i,a)}function lh(i,a){try{var u=a.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var g=d.next;u=g;do{if((u.tag&i)===i&&((i&Ir)!==yi?bt!==null&&typeof bt.markComponentPassiveEffectMountStarted=="function"&&bt.markComponentPassiveEffectMountStarted(a):(i&Gr)!==yi&&bt!==null&&typeof bt.markComponentLayoutEffectMountStarted=="function"&&bt.markComponentLayoutEffectMountStarted(a),d=void 0,(i&_s)!==yi&&(gf=!0),d=ie(a,Uz,u),(i&_s)!==yi&&(gf=!1),(i&Ir)!==yi?bt!==null&&typeof bt.markComponentPassiveEffectMountStopped=="function"&&bt.markComponentPassiveEffectMountStopped():(i&Gr)!==yi&&bt!==null&&typeof bt.markComponentLayoutEffectMountStopped=="function"&&bt.markComponentLayoutEffectMountStopped(),d!==void 0&&typeof d!="function")){var v=void 0;v=(u.tag&Gr)!==0?"useLayoutEffect":(u.tag&_s)!==0?"useInsertionEffect":"useEffect";var R=void 0;R=d===null?" You returned null. If your effect does not require clean up, return undefined (or nothing).":typeof d.then=="function"?`

It looks like you wrote `+v+`(async () => ...) or returned a Promise. Instead, write the async function inside your effect and call it immediately:

`+v+`(() => {
  async function fetchData() {
    // You can await here
    const response = await MyAPI.getData(someId);
    // ...
  }
  fetchData();
}, [someId]); // Or [] if effect doesn't need props or state

Learn more about data fetching with Hooks: https://react.dev/link/hooks-data-fetching`:" You returned: "+d,ie(a,function(I,q){console.error("%s must not return anything besides a function, which is used for clean-up.%s",I,q)},v,R)}u=u.next}while(u!==g)}}catch(I){Mn(a,a.return,I)}}function Tu(i,a,u){try{var d=a.updateQueue,g=d!==null?d.lastEffect:null;if(g!==null){var v=g.next;d=v;do{if((d.tag&i)===i){var R=d.inst,I=R.destroy;I!==void 0&&(R.destroy=void 0,(i&Ir)!==yi?bt!==null&&typeof bt.markComponentPassiveEffectUnmountStarted=="function"&&bt.markComponentPassiveEffectUnmountStarted(a):(i&Gr)!==yi&&bt!==null&&typeof bt.markComponentLayoutEffectUnmountStarted=="function"&&bt.markComponentLayoutEffectUnmountStarted(a),(i&_s)!==yi&&(gf=!0),g=a,ie(g,Vz,g,u,I),(i&_s)!==yi&&(gf=!1),(i&Ir)!==yi?bt!==null&&typeof bt.markComponentPassiveEffectUnmountStopped=="function"&&bt.markComponentPassiveEffectUnmountStopped():(i&Gr)!==yi&&bt!==null&&typeof bt.markComponentLayoutEffectUnmountStopped=="function"&&bt.markComponentLayoutEffectUnmountStopped())}d=d.next}while(d!==v)}}catch(q){Mn(a,a.return,q)}}function RA(i,a){lo(i)?(ao(),lh(a,i),oo()):lh(a,i)}function k0(i,a,u){lo(i)?(ao(),Tu(u,i,a),oo()):Tu(u,i,a)}function kA(i){var a=i.updateQueue;if(a!==null){var u=i.stateNode;i.type.defaultProps||"ref"in i.memoizedProps||cf||(u.props!==i.memoizedProps&&console.error("Expected %s props to match memoized props before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",Q(i)||"instance"),u.state!==i.memoizedState&&console.error("Expected %s state to match memoized state before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",Q(i)||"instance"));try{ie(i,D3,a,u)}catch(d){Mn(i,i.return,d)}}}function yL(i,a,u){return i.getSnapshotBeforeUpdate(a,u)}function vL(i,a){var u=a.memoizedProps,d=a.memoizedState;a=i.stateNode,i.type.defaultProps||"ref"in i.memoizedProps||cf||(a.props!==i.memoizedProps&&console.error("Expected %s props to match memoized props before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",Q(i)||"instance"),a.state!==i.memoizedState&&console.error("Expected %s state to match memoized state before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",Q(i)||"instance"));try{var g=cc(i.type,u,i.elementType===i.type),v=ie(i,yL,a,g,d);u=eD,v!==void 0||u.has(i.type)||(u.add(i.type),ie(i,function(){console.error("%s.getSnapshotBeforeUpdate(): A snapshot value (or null) must be returned. You have returned undefined.",Q(i))})),a.__reactInternalSnapshotBeforeUpdate=v}catch(R){Mn(i,i.return,R)}}function DA(i,a,u){u.props=cc(i.type,i.memoizedProps),u.state=i.memoizedState,lo(i)?(ao(),ie(i,Ak,i,a,u),oo()):ie(i,Ak,i,a,u)}function wL(i){var a=i.ref;if(a!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}if(typeof a=="function")if(lo(i))try{ao(),i.refCleanup=a(u)}finally{oo()}else i.refCleanup=a(u);else typeof a=="string"?console.error("String refs are no longer supported."):a.hasOwnProperty("current")||console.error("Unexpected ref object provided for %s. Use either a ref-setter function or React.createRef().",Q(i)),a.current=u}}function ch(i,a){try{ie(i,wL,i)}catch(u){Mn(i,a,u)}}function co(i,a){var u=i.ref,d=i.refCleanup;if(u!==null)if(typeof d=="function")try{if(lo(i))try{ao(),ie(i,d)}finally{oo(i)}else ie(i,d)}catch(g){Mn(i,a,g)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof u=="function")try{if(lo(i))try{ao(),ie(i,u,null)}finally{oo(i)}else ie(i,u,null)}catch(g){Mn(i,a,g)}else u.current=null}function PA(i,a,u,d){var g=i.memoizedProps,v=g.id,R=g.onCommit;g=g.onRender,a=a===null?"mount":"update",Qg&&(a="nested-update"),typeof g=="function"&&g(v,a,i.actualDuration,i.treeBaseDuration,i.actualStartTime,u),typeof R=="function"&&R(i.memoizedProps.id,a,d,u)}function _L(i,a,u,d){var g=i.memoizedProps;i=g.id,g=g.onPostCommit,a=a===null?"mount":"update",Qg&&(a="nested-update"),typeof g=="function"&&g(i,a,d,u)}function jA(i){var a=i.type,u=i.memoizedProps,d=i.stateNode;try{ie(i,HL,d,a,u,i)}catch(g){Mn(i,i.return,g)}}function D0(i,a,u){try{ie(i,WL,i.stateNode,i.type,u,a,i)}catch(d){Mn(i,i.return,d)}}function MA(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Fa(i.type)||i.tag===4}function P0(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||MA(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Fa(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function j0(i,a,u){var d=i.tag;if(d===5||d===6)i=i.stateNode,a?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(i,a):(a=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,a.appendChild(i),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=Eg));else if(d!==4&&(d===27&&Fa(i.type)&&(u=i.stateNode,a=null),i=i.child,i!==null))for(j0(i,a,u),i=i.sibling;i!==null;)j0(i,a,u),i=i.sibling}function vg(i,a,u){var d=i.tag;if(d===5||d===6)i=i.stateNode,a?u.insertBefore(i,a):u.appendChild(i);else if(d!==4&&(d===27&&Fa(i.type)&&(u=i.stateNode),i=i.child,i!==null))for(vg(i,a,u),i=i.sibling;i!==null;)vg(i,a,u),i=i.sibling}function NL(i){for(var a,u=i.return;u!==null;){if(MA(u)){a=u;break}u=u.return}if(a==null)throw Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.");switch(a.tag){case 27:a=a.stateNode,u=P0(i),vg(i,u,a);break;case 5:u=a.stateNode,a.flags&32&&(OC(u),a.flags&=-33),a=P0(i),vg(i,a,u);break;case 3:case 4:a=a.stateNode.containerInfo,u=P0(i),j0(i,u,a);break;default:throw Error("Invalid host parent fiber. This error is likely caused by a bug in React. Please file an issue.")}}function IA(i){var a=i.stateNode,u=i.memoizedProps;try{ie(i,s5,i.type,u,a,i)}catch(d){Mn(i,i.return,d)}}function SL(i,a){if(i=i.containerInfo,C_=Eb,i=u3(i),_v(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var d=u.getSelection&&u.getSelection();if(d&&d.rangeCount!==0){u=d.anchorNode;var g=d.anchorOffset,v=d.focusNode;d=d.focusOffset;try{u.nodeType,v.nodeType}catch{u=null;break e}var R=0,I=-1,q=-1,re=0,Oe=0,Le=i,Ie=null;t:for(;;){for(var We;Le!==u||g!==0&&Le.nodeType!==3||(I=R+g),Le!==v||d!==0&&Le.nodeType!==3||(q=R+d),Le.nodeType===3&&(R+=Le.nodeValue.length),(We=Le.firstChild)!==null;)Ie=Le,Le=We;for(;;){if(Le===i)break t;if(Ie===u&&++re===g&&(I=R),Ie===v&&++Oe===d&&(q=R),(We=Le.nextSibling)!==null)break;Le=Ie,Ie=Le.parentNode}Le=We}u=I===-1||q===-1?null:{start:I,end:q}}else u=null}u=u||{start:0,end:0}}else u=null;for(R_={focusedElem:i,selectionRange:u},Eb=!1,$r=a;$r!==null;)if(a=$r,i=a.child,(a.subtreeFlags&1024)!==0&&i!==null)i.return=a,$r=i;else for(;$r!==null;){switch(i=a=$r,u=i.alternate,g=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:(g&1024)!==0&&u!==null&&vL(i,u);break;case 3:if((g&1024)!==0){if(i=i.stateNode.containerInfo,u=i.nodeType,u===9)tw(i);else if(u===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":tw(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((g&1024)!==0)throw Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}if(i=a.sibling,i!==null){i.return=a.return,$r=i;break}$r=a.return}}function OA(i,a,u){var d=u.flags;switch(u.tag){case 0:case 11:case 15:Go(i,u),d&4&&CA(u,Gr|vi);break;case 1:if(Go(i,u),d&4)if(i=u.stateNode,a===null)u.type.defaultProps||"ref"in u.memoizedProps||cf||(i.props!==u.memoizedProps&&console.error("Expected %s props to match memoized props before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",Q(u)||"instance"),i.state!==u.memoizedState&&console.error("Expected %s state to match memoized state before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",Q(u)||"instance")),lo(u)?(ao(),ie(u,n_,u,i),oo()):ie(u,n_,u,i);else{var g=cc(u.type,a.memoizedProps);a=a.memoizedState,u.type.defaultProps||"ref"in u.memoizedProps||cf||(i.props!==u.memoizedProps&&console.error("Expected %s props to match memoized props before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",Q(u)||"instance"),i.state!==u.memoizedState&&console.error("Expected %s state to match memoized state before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",Q(u)||"instance")),lo(u)?(ao(),ie(u,Sk,u,i,g,a,i.__reactInternalSnapshotBeforeUpdate),oo()):ie(u,Sk,u,i,g,a,i.__reactInternalSnapshotBeforeUpdate)}d&64&&kA(u),d&512&&ch(u,u.return);break;case 3:if(a=Xo(),Go(i,u),d&64&&(d=u.updateQueue,d!==null)){if(g=null,u.child!==null)switch(u.child.tag){case 27:case 5:g=u.child.stateNode;break;case 1:g=u.child.stateNode}try{ie(u,D3,d,g)}catch(R){Mn(u,u.return,R)}}i.effectDuration+=Km(a);break;case 27:a===null&&d&4&&IA(u);case 26:case 5:Go(i,u),a===null&&d&4&&jA(u),d&512&&ch(u,u.return);break;case 12:if(d&4){d=Xo(),Go(i,u),i=u.stateNode,i.effectDuration+=Jd(d);try{ie(u,PA,u,a,Zg,i.effectDuration)}catch(R){Mn(u,u.return,R)}}else Go(i,u);break;case 13:Go(i,u),d&4&&FA(i,u),d&64&&(i=u.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(u=jL.bind(null,u),t5(i,u))));break;case 22:if(d=u.memoizedState!==null||ca,!d){a=a!==null&&a.memoizedState!==null||wr,g=ca;var v=wr;ca=d,(wr=a)&&!v?Jo(i,u,(u.subtreeFlags&8772)!==0):Go(i,u),ca=g,wr=v}break;case 30:break;default:Go(i,u)}}function UA(i){var a=i.alternate;a!==null&&(i.alternate=null,UA(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&Sr(a)),i.stateNode=null,i._debugOwner=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Qo(i,a,u){for(u=u.child;u!==null;)VA(i,a,u),u=u.sibling}function VA(i,a,u){if(ss&&typeof ss.onCommitFiberUnmount=="function")try{ss.onCommitFiberUnmount(Vu,u)}catch(v){go||(go=!0,console.error("React instrumentation encountered an error: %s",v))}switch(u.tag){case 26:wr||co(u,a),Qo(i,a,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:wr||co(u,a);var d=Cr,g=Bs;Fa(u.type)&&(Cr=u.stateNode,Bs=!1),Qo(i,a,u),ie(u,gh,u.stateNode),Cr=d,Bs=g;break;case 5:wr||co(u,a);case 6:if(d=Cr,g=Bs,Cr=null,Qo(i,a,u),Cr=d,Bs=g,Cr!==null)if(Bs)try{ie(u,YL,Cr,u.stateNode)}catch(v){Mn(u,a,v)}else try{ie(u,XL,Cr,u.stateNode)}catch(v){Mn(u,a,v)}break;case 18:Cr!==null&&(Bs?(i=Cr,UC(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,u.stateNode),vh(i)):UC(Cr,u.stateNode));break;case 4:d=Cr,g=Bs,Cr=u.stateNode.containerInfo,Bs=!0,Qo(i,a,u),Cr=d,Bs=g;break;case 0:case 11:case 14:case 15:wr||Tu(_s,u,a),wr||R0(u,a,Gr),Qo(i,a,u);break;case 1:wr||(co(u,a),d=u.stateNode,typeof d.componentWillUnmount=="function"&&DA(u,a,d)),Qo(i,a,u);break;case 21:Qo(i,a,u);break;case 22:wr=(d=wr)||u.memoizedState!==null,Qo(i,a,u),wr=d;break;default:Qo(i,a,u)}}function FA(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{ie(a,r5,i)}catch(u){Mn(a,a.return,u)}}function EL(i){switch(i.tag){case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new tD),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new tD),a;default:throw Error("Unexpected Suspense handler tag ("+i.tag+"). This is a bug in React.")}}function M0(i,a){var u=EL(i);a.forEach(function(d){var g=ML.bind(null,i,d);if(!u.has(d)){if(u.add(d),Vi)if(uf!==null&&ff!==null)hh(ff,uf);else throw Error("Expected finished root and lanes to be set. This is a bug in React.");d.then(g,g)}})}function Ys(i,a){var u=a.deletions;if(u!==null)for(var d=0;d<u.length;d++){var g=i,v=a,R=u[d],I=v;e:for(;I!==null;){switch(I.tag){case 27:if(Fa(I.type)){Cr=I.stateNode,Bs=!1;break e}break;case 5:Cr=I.stateNode,Bs=!1;break e;case 3:case 4:Cr=I.stateNode.containerInfo,Bs=!0;break e}I=I.return}if(Cr===null)throw Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.");VA(g,v,R),Cr=null,Bs=!1,g=R,v=g.alternate,v!==null&&(v.return=null),g.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)BA(a,i),a=a.sibling}function BA(i,a){var u=i.alternate,d=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Ys(a,i),Ks(i),d&4&&(Tu(_s|vi,i,i.return),lh(_s|vi,i),R0(i,i.return,Gr|vi));break;case 1:Ys(a,i),Ks(i),d&512&&(wr||u===null||co(u,u.return)),d&64&&ca&&(i=i.updateQueue,i!==null&&(d=i.callbacks,d!==null&&(u=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=u===null?d:u.concat(d))));break;case 26:var g=zi;if(Ys(a,i),Ks(i),d&512&&(wr||u===null||co(u,u.return)),d&4)if(a=u!==null?u.memoizedState:null,d=i.memoizedState,u===null)if(d===null)if(i.stateNode===null){e:{d=i.type,u=i.memoizedProps,a=g.ownerDocument||g;t:switch(d){case"title":g=a.getElementsByTagName("title")[0],(!g||g[Nh]||g[is]||g.namespaceURI===Bu||g.hasAttribute("itemprop"))&&(g=a.createElement(d),a.head.insertBefore(g,a.querySelector("head > title"))),Kr(g,d,u),g[is]=i,Ee(g),d=g;break e;case"link":var v=XC("link","href",a).get(d+(u.href||""));if(v){for(var R=0;R<v.length;R++)if(g=v[R],g.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&g.getAttribute("rel")===(u.rel==null?null:u.rel)&&g.getAttribute("title")===(u.title==null?null:u.title)&&g.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){v.splice(R,1);break t}}g=a.createElement(d),Kr(g,d,u),a.head.appendChild(g);break;case"meta":if(v=XC("meta","content",a).get(d+(u.content||""))){for(R=0;R<v.length;R++)if(g=v[R],se(u.content,"content"),g.getAttribute("content")===(u.content==null?null:""+u.content)&&g.getAttribute("name")===(u.name==null?null:u.name)&&g.getAttribute("property")===(u.property==null?null:u.property)&&g.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&g.getAttribute("charset")===(u.charSet==null?null:u.charSet)){v.splice(R,1);break t}}g=a.createElement(d),Kr(g,d,u),a.head.appendChild(g);break;default:throw Error('getNodesForType encountered a type it did not expect: "'+d+'". This is a bug in React.')}g[is]=i,Ee(g),d=g}i.stateNode=d}else YC(g,i.type,i.stateNode);else i.stateNode=qC(g,d,i.memoizedProps);else a!==d?(a===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):a.count--,d===null?YC(g,i.type,i.stateNode):qC(g,d,i.memoizedProps)):d===null&&i.stateNode!==null&&D0(i,i.memoizedProps,u.memoizedProps);break;case 27:Ys(a,i),Ks(i),d&512&&(wr||u===null||co(u,u.return)),u!==null&&d&4&&D0(i,i.memoizedProps,u.memoizedProps);break;case 5:if(Ys(a,i),Ks(i),d&512&&(wr||u===null||co(u,u.return)),i.flags&32){a=i.stateNode;try{ie(i,OC,a)}catch(Oe){Mn(i,i.return,Oe)}}d&4&&i.stateNode!=null&&(a=i.memoizedProps,D0(i,a,u!==null?u.memoizedProps:a)),d&1024&&(c_=!0,i.type!=="form"&&console.error("Unexpected host component type. Expected a form. This is a bug in React."));break;case 6:if(Ys(a,i),Ks(i),d&4){if(i.stateNode===null)throw Error("This should have a text node initialized. This error is likely caused by a bug in React. Please file an issue.");d=i.memoizedProps,u=u!==null?u.memoizedProps:d,a=i.stateNode;try{ie(i,qL,a,u,d)}catch(Oe){Mn(i,i.return,Oe)}}break;case 3:if(g=Xo(),_b=null,v=zi,zi=Ag(a.containerInfo),Ys(a,i),zi=v,Ks(i),d&4&&u!==null&&u.memoizedState.isDehydrated)try{ie(i,n5,a.containerInfo)}catch(Oe){Mn(i,i.return,Oe)}c_&&(c_=!1,LA(i)),a.effectDuration+=Km(g);break;case 4:d=zi,zi=Ag(i.stateNode.containerInfo),Ys(a,i),Ks(i),zi=d;break;case 12:d=Xo(),Ys(a,i),Ks(i),i.stateNode.effectDuration+=Jd(d);break;case 13:Ys(a,i),Ks(i),i.child.flags&8192&&i.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(m_=mo()),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,M0(i,d)));break;case 22:g=i.memoizedState!==null;var I=u!==null&&u.memoizedState!==null,q=ca,re=wr;if(ca=q||g,wr=re||I,Ys(a,i),wr=re,ca=q,Ks(i),d&8192)e:for(a=i.stateNode,a._visibility=g?a._visibility&~qg:a._visibility|qg,g&&(u===null||I||ca||wr||uc(i)),u=null,a=i;;){if(a.tag===5||a.tag===26){if(u===null){I=u=a;try{v=I.stateNode,g?ie(I,KL,v):ie(I,QL,I.stateNode,I.memoizedProps)}catch(Oe){Mn(I,I.return,Oe)}}}else if(a.tag===6){if(u===null){I=a;try{R=I.stateNode,g?ie(I,ZL,R):ie(I,GL,R,I.memoizedProps)}catch(Oe){Mn(I,I.return,Oe)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;u===a&&(u=null),a=a.return}u===a&&(u=null),a.sibling.return=a.return,a=a.sibling}d&4&&(d=i.updateQueue,d!==null&&(u=d.retryQueue,u!==null&&(d.retryQueue=null,M0(i,u))));break;case 19:Ys(a,i),Ks(i),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,M0(i,d)));break;case 30:break;case 21:break;default:Ys(a,i),Ks(i)}}function Ks(i){var a=i.flags;if(a&2){try{ie(i,NL,i)}catch(u){Mn(i,i.return,u)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function LA(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;LA(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function Go(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)OA(i,a.alternate,a),a=a.sibling}function zA(i){switch(i.tag){case 0:case 11:case 14:case 15:R0(i,i.return,Gr),uc(i);break;case 1:co(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&DA(i,i.return,a),uc(i);break;case 27:ie(i,gh,i.stateNode);case 26:case 5:co(i,i.return),uc(i);break;case 22:i.memoizedState===null&&uc(i);break;case 30:uc(i);break;default:uc(i)}}function uc(i){for(i=i.child;i!==null;)zA(i),i=i.sibling}function $A(i,a,u,d){var g=u.flags;switch(u.tag){case 0:case 11:case 15:Jo(i,u,d),CA(u,Gr);break;case 1:if(Jo(i,u,d),a=u.stateNode,typeof a.componentDidMount=="function"&&ie(u,n_,u,a),a=u.updateQueue,a!==null){i=u.stateNode;try{ie(u,cL,a,i)}catch(v){Mn(u,u.return,v)}}d&&g&64&&kA(u),ch(u,u.return);break;case 27:IA(u);case 26:case 5:Jo(i,u,d),d&&a===null&&g&4&&jA(u),ch(u,u.return);break;case 12:if(d&&g&4){g=Xo(),Jo(i,u,d),d=u.stateNode,d.effectDuration+=Jd(g);try{ie(u,PA,u,a,Zg,d.effectDuration)}catch(v){Mn(u,u.return,v)}}else Jo(i,u,d);break;case 13:Jo(i,u,d),d&&g&4&&FA(i,u);break;case 22:u.memoizedState===null&&Jo(i,u,d),ch(u,u.return);break;case 30:break;default:Jo(i,u,d)}}function Jo(i,a,u){for(u=u&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;)$A(i,a.alternate,a,u),a=a.sibling}function I0(i,a){var u=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==u&&(i!=null&&ic(i),u!=null&&Gd(u))}function O0(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(ic(a),i!=null&&Gd(i))}function uo(i,a,u,d){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)HA(i,a,u,d),a=a.sibling}function HA(i,a,u,d){var g=a.flags;switch(a.tag){case 0:case 11:case 15:uo(i,a,u,d),g&2048&&RA(a,Ir|vi);break;case 1:uo(i,a,u,d);break;case 3:var v=Xo();uo(i,a,u,d),g&2048&&(u=null,a.alternate!==null&&(u=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==u&&(ic(a),u!=null&&Gd(u))),i.passiveEffectDuration+=Km(v);break;case 12:if(g&2048){g=Xo(),uo(i,a,u,d),i=a.stateNode,i.passiveEffectDuration+=Jd(g);try{ie(a,_L,a,a.alternate,Zg,i.passiveEffectDuration)}catch(I){Mn(a,a.return,I)}}else uo(i,a,u,d);break;case 13:uo(i,a,u,d);break;case 23:break;case 22:v=a.stateNode;var R=a.alternate;a.memoizedState!==null?v._visibility&ra?uo(i,a,u,d):uh(i,a):v._visibility&ra?uo(i,a,u,d):(v._visibility|=ra,Au(i,a,u,d,(a.subtreeFlags&10256)!==0)),g&2048&&I0(R,a);break;case 24:uo(i,a,u,d),g&2048&&O0(a.alternate,a);break;default:uo(i,a,u,d)}}function Au(i,a,u,d,g){for(g=g&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;)WA(i,a,u,d,g),a=a.sibling}function WA(i,a,u,d,g){var v=a.flags;switch(a.tag){case 0:case 11:case 15:Au(i,a,u,d,g),RA(a,Ir);break;case 23:break;case 22:var R=a.stateNode;a.memoizedState!==null?R._visibility&ra?Au(i,a,u,d,g):uh(i,a):(R._visibility|=ra,Au(i,a,u,d,g)),g&&v&2048&&I0(a.alternate,a);break;case 24:Au(i,a,u,d,g),g&&v&2048&&O0(a.alternate,a);break;default:Au(i,a,u,d,g)}}function uh(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var u=i,d=a,g=d.flags;switch(d.tag){case 22:uh(u,d),g&2048&&I0(d.alternate,d);break;case 24:uh(u,d),g&2048&&O0(d.alternate,d);break;default:uh(u,d)}a=a.sibling}}function Cu(i){if(i.subtreeFlags&qh)for(i=i.child;i!==null;)qA(i),i=i.sibling}function qA(i){switch(i.tag){case 26:Cu(i),i.flags&qh&&i.memoizedState!==null&&l5(zi,i.memoizedState,i.memoizedProps);break;case 5:Cu(i);break;case 3:case 4:var a=zi;zi=Ag(i.stateNode.containerInfo),Cu(i),zi=a;break;case 22:i.memoizedState===null&&(a=i.alternate,a!==null&&a.memoizedState!==null?(a=qh,qh=16777216,Cu(i),qh=a):Cu(i));break;default:Cu(i)}}function XA(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function fh(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var d=a[u];$r=d,ZA(d,i)}XA(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)YA(i),i=i.sibling}function YA(i){switch(i.tag){case 0:case 11:case 15:fh(i),i.flags&2048&&k0(i,i.return,Ir|vi);break;case 3:var a=Xo();fh(i),i.stateNode.passiveEffectDuration+=Km(a);break;case 12:a=Xo(),fh(i),i.stateNode.passiveEffectDuration+=Jd(a);break;case 22:a=i.stateNode,i.memoizedState!==null&&a._visibility&ra&&(i.return===null||i.return.tag!==13)?(a._visibility&=~ra,wg(i)):fh(i);break;default:fh(i)}}function wg(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var d=a[u];$r=d,ZA(d,i)}XA(i)}for(i=i.child;i!==null;)KA(i),i=i.sibling}function KA(i){switch(i.tag){case 0:case 11:case 15:k0(i,i.return,Ir),wg(i);break;case 22:var a=i.stateNode;a._visibility&ra&&(a._visibility&=~ra,wg(i));break;default:wg(i)}}function ZA(i,a){for(;$r!==null;){var u=$r,d=u;switch(d.tag){case 0:case 11:case 15:k0(d,a,Ir);break;case 23:case 22:d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(d=d.memoizedState.cachePool.pool,d!=null&&ic(d));break;case 24:Gd(d.memoizedState.cache)}if(d=u.child,d!==null)d.return=u,$r=d;else e:for(u=i;$r!==null;){d=$r;var g=d.sibling,v=d.return;if(UA(d),d===u){$r=null;break e}if(g!==null){g.return=v,$r=g;break e}$r=v}}}function TL(){Bz.forEach(function(i){return i()})}function QA(){var i=typeof IS_REACT_ACT_ENVIRONMENT<"u"?IS_REACT_ACT_ENVIRONMENT:void 0;return i||Be.actQueue===null||console.error("The current testing environment is not configured to support act(...)"),i}function Zs(i){if((En&Ns)!==Js&&dn!==0)return dn&-dn;var a=Be.T;return a!==null?(a._updatedFibers||(a._updatedFibers=new Set),a._updatedFibers.add(i),i=gc,i!==0?i:W0()):ur()}function GA(){ti===0&&(ti=(dn&536870912)===0||xn?Pt():536870912);var i=_i.current;return i!==null&&(i.flags|=32),ti}function vr(i,a,u){if(gf&&console.error("useInsertionEffect must not schedule updates."),v_&&(ub=!0),(i===Ln&&(kn===wc||kn===_c)||i.cancelPendingCommit!==null)&&(ku(i,0),Ua(i,dn,ti,!1)),Wr(i,u),(En&Ns)!==0&&i===Ln){if(xo)switch(a.tag){case 0:case 11:case 15:i=an&&Q(an)||"Unknown",fD.has(i)||(fD.add(i),a=Q(a)||"Unknown",console.error("Cannot update a component (`%s`) while rendering a different component (`%s`). To locate the bad setState() call inside `%s`, follow the stack trace as described in https://react.dev/link/setstate-in-render",a,i,i));break;case 1:uD||(console.error("Cannot update during an existing state transition (such as within `render`). Render methods should be a pure function of props and state."),uD=!0)}}else Vi&&xt(i,a,u),OL(a),i===Ln&&((En&Ns)===Js&&(Ga|=u),dr===vc&&Ua(i,dn,ti,!1)),fo(i)}function JA(i,a,u){if((En&(Ns|$i))!==Js)throw Error("Should not already be working.");var d=!u&&(a&124)===0&&(a&i.expiredLanes)===0||Yt(i,a),g=d?CL(i,a):F0(i,a,!0),v=d;do{if(g===ua){pf&&!d&&Ua(i,a,0,!1);break}else{if(u=i.current.alternate,v&&!AL(u)){g=F0(i,a,!1),v=!1;continue}if(g===df){if(v=a,i.errorRecoveryDisabledLanes&v)var R=0;else R=i.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){a=R;e:{g=i;var I=R;R=Gh;var q=g.current.memoizedState.isDehydrated;if(q&&(ku(g,I).flags|=256),I=F0(g,I,!1),I!==df){if(h_&&!q){g.errorRecoveryDisabledLanes|=v,Ga|=v,g=vc;break e}g=Ss,Ss=R,g!==null&&(Ss===null?Ss=g:Ss.push.apply(Ss,g))}g=I}if(v=!1,g!==df)continue}}if(g===Yh){ku(i,0),Ua(i,a,0,!0);break}e:{switch(d=i,g){case ua:case Yh:throw Error("Root did not complete. This is a bug in React.");case vc:if((a&4194048)!==a)break;case ab:Ua(d,a,ti,!Za);break e;case df:Ss=null;break;case u_:case nD:break;default:throw Error("Unknown root exit status.")}if(Be.actQueue!==null)B0(d,u,a,Ss,Jh,lb,ti,Ga,Nc);else{if((a&62914560)===a&&(v=m_+sD-mo(),10<v)){if(Ua(d,a,ti,!Za),Lt(d,0,!0)!==0)break e;d.timeoutHandle=yD(eC.bind(null,d,u,Ss,Jh,lb,a,ti,Ga,Nc,Za,g,Hz,ok,0),v);break e}eC(d,u,Ss,Jh,lb,a,ti,Ga,Nc,Za,g,zz,ok,0)}}}break}while(!0);fo(i)}function eC(i,a,u,d,g,v,R,I,q,re,Oe,Le,Ie,We){if(i.timeoutHandle=Cc,Le=a.subtreeFlags,(Le&8192||(Le&16785408)===16785408)&&(ip={stylesheets:null,count:0,unsuspend:a5},qA(a),Le=c5(),Le!==null)){i.cancelPendingCommit=Le(B0.bind(null,i,a,v,u,d,g,R,I,q,Oe,$z,Ie,We)),Ua(i,v,R,!re);return}B0(i,a,v,u,d,g,R,I,q)}function AL(i){for(var a=i;;){var u=a.tag;if((u===0||u===11||u===15)&&a.flags&16384&&(u=a.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var d=0;d<u.length;d++){var g=u[d],v=g.getSnapshot;g=g.value;try{if(!vs(v(),g))return!1}catch{return!1}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ua(i,a,u,d){a&=~p_,a&=~Ga,i.suspendedLanes|=a,i.pingedLanes&=~a,d&&(i.warmLanes|=a),d=i.expirationTimes;for(var g=a;0<g;){var v=31-xs(g),R=1<<v;d[v]=-1,g&=~R}u!==0&&Ho(i,u,a)}function Ru(){return(En&(Ns|$i))===Js?(ph(0),!1):!0}function U0(){if(an!==null){if(kn===Ls)var i=an.return;else i=an,qm(),Yv(i),sf=null,Hh=0,i=an;for(;i!==null;)AA(i.alternate,i),i=i.return;an=null}}function ku(i,a){var u=i.timeoutHandle;u!==Cc&&(i.timeoutHandle=Cc,r8(u)),u=i.cancelPendingCommit,u!==null&&(i.cancelPendingCommit=null,u()),U0(),Ln=i,an=u=Wo(i.current,null),dn=a,kn=Ls,ei=null,Za=!1,pf=Yt(i,a),h_=!1,dr=ua,Nc=ti=p_=Ga=Qa=0,Ss=Gh=null,lb=!1,(a&8)!==0&&(a|=a&32);var d=i.entangledLanes;if(d!==0)for(i=i.entanglements,d&=a;0<d;){var g=31-xs(d),v=1<<g;a|=i[g],d&=~v}return No=a,zm(),a=sk(),1e3<a-rk&&(Be.recentlyCreatedOwnerStacks=0,rk=a),Bi.discardPendingWarnings(),u}function tC(i,a){Ht=null,Be.H=ib,Be.getCurrentStack=null,xo=!1,Gs=null,a===Bh||a===eb?(a=C3(),kn=Zh):a===ck?(a=C3(),kn=rD):kn=a===Xk?d_:a!==null&&typeof a=="object"&&typeof a.then=="function"?hf:Kh,ei=a;var u=an;if(u===null)dr=Yh,gg(i,Xs(a,i.current));else switch(u.mode&Qr&&Uv(u),qe(),kn){case Kh:bt!==null&&typeof bt.markComponentErrored=="function"&&bt.markComponentErrored(u,a,dn);break;case wc:case _c:case Zh:case hf:case Qh:bt!==null&&typeof bt.markComponentSuspended=="function"&&bt.markComponentSuspended(u,a,dn)}}function nC(){var i=Be.H;return Be.H=ib,i===null?ib:i}function rC(){var i=Be.A;return Be.A=Fz,i}function V0(){dr=vc,Za||(dn&4194048)!==dn&&_i.current!==null||(pf=!0),(Qa&134217727)===0&&(Ga&134217727)===0||Ln===null||Ua(Ln,dn,ti,!1)}function F0(i,a,u){var d=En;En|=Ns;var g=nC(),v=rC();if(Ln!==i||dn!==a){if(Vi){var R=i.memoizedUpdaters;0<R.size&&(hh(i,dn),R.clear()),zt(i,a)}Jh=null,ku(i,a)}Ye(a),a=!1,R=dr;e:do try{if(kn!==Ls&&an!==null){var I=an,q=ei;switch(kn){case d_:U0(),R=ab;break e;case Zh:case wc:case _c:case hf:_i.current===null&&(a=!0);var re=kn;if(kn=Ls,ei=null,Du(i,I,q,re),u&&pf){R=ua;break e}break;default:re=kn,kn=Ls,ei=null,Du(i,I,q,re)}}sC(),R=dr;break}catch(Oe){tC(i,Oe)}while(!0);return a&&i.shellSuspendCounter++,qm(),En=d,Be.H=g,Be.A=v,tt(),an===null&&(Ln=null,dn=0,zm()),R}function sC(){for(;an!==null;)iC(an)}function CL(i,a){var u=En;En|=Ns;var d=nC(),g=rC();if(Ln!==i||dn!==a){if(Vi){var v=i.memoizedUpdaters;0<v.size&&(hh(i,dn),v.clear()),zt(i,a)}Jh=null,cb=mo()+iD,ku(i,a)}else pf=Yt(i,a);Ye(a);e:do try{if(kn!==Ls&&an!==null)t:switch(a=an,v=ei,kn){case Kh:kn=Ls,ei=null,Du(i,a,v,Kh);break;case wc:case _c:if(T3(v)){kn=Ls,ei=null,oC(a);break}a=function(){kn!==wc&&kn!==_c||Ln!==i||(kn=Qh),fo(i)},v.then(a,a);break e;case Zh:kn=Qh;break e;case rD:kn=f_;break e;case Qh:T3(v)?(kn=Ls,ei=null,oC(a)):(kn=Ls,ei=null,Du(i,a,v,Qh));break;case f_:var R=null;switch(an.tag){case 26:R=an.memoizedState;case 5:case 27:var I=an;if(!R||KC(R)){kn=Ls,ei=null;var q=I.sibling;if(q!==null)an=q;else{var re=I.return;re!==null?(an=re,_g(re)):an=null}break t}break;default:console.error("Unexpected type of fiber triggered a suspensey commit. This is a bug in React.")}kn=Ls,ei=null,Du(i,a,v,f_);break;case hf:kn=Ls,ei=null,Du(i,a,v,hf);break;case d_:U0(),dr=ab;break e;default:throw Error("Unexpected SuspendedReason. This is a bug in React.")}Be.actQueue!==null?sC():RL();break}catch(Oe){tC(i,Oe)}while(!0);return qm(),Be.H=d,Be.A=g,En=u,an!==null?(bt!==null&&typeof bt.markRenderYielded=="function"&&bt.markRenderYielded(),ua):(tt(),Ln=null,dn=0,zm(),dr)}function RL(){for(;an!==null&&!E5();)iC(an)}function iC(i){var a=i.alternate;(i.mode&Qr)!==qn?(Ov(i),a=ie(i,C0,a,i,No),Uv(i)):a=ie(i,C0,a,i,No),i.memoizedProps=i.pendingProps,a===null?_g(i):an=a}function oC(i){var a=ie(i,kL,i);i.memoizedProps=i.pendingProps,a===null?_g(i):an=a}function kL(i){var a=i.alternate,u=(i.mode&Qr)!==qn;switch(u&&Ov(i),i.tag){case 15:case 0:a=yA(a,i,i.pendingProps,i.type,void 0,dn);break;case 11:a=yA(a,i,i.pendingProps,i.type.render,i.ref,dn);break;case 5:Yv(i);default:AA(a,i),i=an=m3(i,No),a=C0(a,i,No)}return u&&Uv(i),a}function Du(i,a,u,d){qm(),Yv(a),sf=null,Hh=0;var g=a.return;try{if(mL(i,g,a,u,dn)){dr=Yh,gg(i,Xs(u,i.current)),an=null;return}}catch(v){if(g!==null)throw an=g,v;dr=Yh,gg(i,Xs(u,i.current)),an=null;return}a.flags&32768?(xn||d===Kh?i=!0:pf||(dn&536870912)!==0?i=!1:(Za=i=!0,(d===wc||d===_c||d===Zh||d===hf)&&(d=_i.current,d!==null&&d.tag===13&&(d.flags|=16384))),aC(a,i)):_g(a)}function _g(i){var a=i;do{if((a.flags&32768)!==0){aC(a,Za);return}var u=a.alternate;if(i=a.return,Ov(a),u=ie(a,bL,u,a,No),(a.mode&Qr)!==qn&&_3(a),u!==null){an=u;return}if(a=a.sibling,a!==null){an=a;return}an=a=i}while(a!==null);dr===ua&&(dr=nD)}function aC(i,a){do{var u=xL(i.alternate,i);if(u!==null){u.flags&=32767,an=u;return}if((i.mode&Qr)!==qn){_3(i),u=i.actualDuration;for(var d=i.child;d!==null;)u+=d.actualDuration,d=d.sibling;i.actualDuration=u}if(u=i.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!a&&(i=i.sibling,i!==null)){an=i;return}an=i=u}while(i!==null);dr=ab,an=null}function B0(i,a,u,d,g,v,R,I,q){i.cancelPendingCommit=null;do dh();while(Jr!==Sc);if(Bi.flushLegacyContextWarning(),Bi.flushPendingUnsafeLifecycleWarnings(),(En&(Ns|$i))!==Js)throw Error("Should not already be working.");if(bt!==null&&typeof bt.markCommitStarted=="function"&&bt.markCommitStarted(u),a===null)oe();else{if(u===0&&console.error("finishedLanes should not be empty during a commit. This is a bug in React."),a===i.current)throw Error("Cannot commit the same tree as before. This error is likely caused by a bug in React. Please file an issue.");if(v=a.lanes|a.childLanes,v|=$w,ms(i,u,v,R,I,q),i===Ln&&(an=Ln=null,dn=0),mf=a,el=i,tl=u,b_=v,x_=g,cD=d,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,IL(Uu,function(){return dC(),null})):(i.callbackNode=null,i.callbackPriority=0),Zg=Ju(),d=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||d){d=Be.T,Be.T=null,g=Sn.p,Sn.p=hi,R=En,En|=$i;try{SL(i,a,u)}finally{En=R,Sn.p=g,Be.T=d}}Jr=oD,lC(),cC(),uC()}}function lC(){if(Jr===oD){Jr=Sc;var i=el,a=mf,u=tl,d=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||d){d=Be.T,Be.T=null;var g=Sn.p;Sn.p=hi;var v=En;En|=$i;try{uf=u,ff=i,BA(a,i),ff=uf=null,u=R_;var R=u3(i.containerInfo),I=u.focusedElem,q=u.selectionRange;if(R!==I&&I&&I.ownerDocument&&c3(I.ownerDocument.documentElement,I)){if(q!==null&&_v(I)){var re=q.start,Oe=q.end;if(Oe===void 0&&(Oe=re),"selectionStart"in I)I.selectionStart=re,I.selectionEnd=Math.min(Oe,I.value.length);else{var Le=I.ownerDocument||document,Ie=Le&&Le.defaultView||window;if(Ie.getSelection){var We=Ie.getSelection(),wt=I.textContent.length,Vt=Math.min(q.start,wt),zn=q.end===void 0?Vt:Math.min(q.end,wt);!We.extend&&Vt>zn&&(R=zn,zn=Vt,Vt=R);var mn=l3(I,Vt),de=l3(I,zn);if(mn&&de&&(We.rangeCount!==1||We.anchorNode!==mn.node||We.anchorOffset!==mn.offset||We.focusNode!==de.node||We.focusOffset!==de.offset)){var pe=Le.createRange();pe.setStart(mn.node,mn.offset),We.removeAllRanges(),Vt>zn?(We.addRange(pe),We.extend(de.node,de.offset)):(pe.setEnd(de.node,de.offset),We.addRange(pe))}}}}for(Le=[],We=I;We=We.parentNode;)We.nodeType===1&&Le.push({element:We,left:We.scrollLeft,top:We.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<Le.length;I++){var Ne=Le[I];Ne.element.scrollLeft=Ne.left,Ne.element.scrollTop=Ne.top}}Eb=!!C_,R_=C_=null}finally{En=v,Sn.p=g,Be.T=d}}i.current=a,Jr=aD}}function cC(){if(Jr===aD){Jr=Sc;var i=el,a=mf,u=tl,d=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||d){d=Be.T,Be.T=null;var g=Sn.p;Sn.p=hi;var v=En;En|=$i;try{bt!==null&&typeof bt.markLayoutEffectsStarted=="function"&&bt.markLayoutEffectsStarted(u),uf=u,ff=i,OA(i,a.alternate,a),ff=uf=null,bt!==null&&typeof bt.markLayoutEffectsStopped=="function"&&bt.markLayoutEffectsStopped()}finally{En=v,Sn.p=g,Be.T=d}}Jr=lD}}function uC(){if(Jr===Wz||Jr===lD){Jr=Sc,T5();var i=el,a=mf,u=tl,d=cD,g=(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0;g?Jr=g_:(Jr=Sc,mf=el=null,fC(i,i.pendingLanes),Ec=0,tp=null);var v=i.pendingLanes;if(v===0&&(Ja=null),g||gC(i),g=un(u),a=a.stateNode,ss&&typeof ss.onCommitFiberRoot=="function")try{var R=(a.current.flags&128)===128;switch(g){case hi:var I=ww;break;case bo:I=_w;break;case na:I=Uu;break;case Fg:I=Nw;break;default:I=Uu}ss.onCommitFiberRoot(Vu,a,I,R)}catch(Le){go||(go=!0,console.error("React instrumentation encountered an error: %s",Le))}if(Vi&&i.memoizedUpdaters.clear(),TL(),d!==null){R=Be.T,I=Sn.p,Sn.p=hi,Be.T=null;try{var q=i.onRecoverableError;for(a=0;a<d.length;a++){var re=d[a],Oe=DL(re.stack);ie(re.source,q,re.value,Oe)}}finally{Be.T=R,Sn.p=I}}(tl&3)!==0&&dh(),fo(i),v=i.pendingLanes,(u&4194090)!==0&&(v&42)!==0?(Gg=!0,i===y_?ep++:(ep=0,y_=i)):ep=0,ph(0),oe()}}function DL(i){return i={componentStack:i},Object.defineProperty(i,"digest",{get:function(){console.error('You are accessing "digest" from the errorInfo object passed to onRecoverableError. This property is no longer provided as part of errorInfo but can be accessed as a property of the Error instance itself.')}}),i}function fC(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,Gd(a)))}function dh(i){return lC(),cC(),uC(),dC()}function dC(){if(Jr!==g_)return!1;var i=el,a=b_;b_=0;var u=un(tl),d=na>u?na:u;u=Be.T;var g=Sn.p;try{Sn.p=d,Be.T=null,d=x_,x_=null;var v=el,R=tl;if(Jr=Sc,mf=el=null,tl=0,(En&(Ns|$i))!==Js)throw Error("Cannot flush passive effects while already rendering.");v_=!0,ub=!1,bt!==null&&typeof bt.markPassiveEffectsStarted=="function"&&bt.markPassiveEffectsStarted(R);var I=En;if(En|=$i,YA(v.current),HA(v,v.current,R,d),bt!==null&&typeof bt.markPassiveEffectsStopped=="function"&&bt.markPassiveEffectsStopped(),gC(v),En=I,ph(0,!1),ub?v===tp?Ec++:(Ec=0,tp=v):Ec=0,ub=v_=!1,ss&&typeof ss.onPostCommitFiberRoot=="function")try{ss.onPostCommitFiberRoot(Vu,v)}catch(re){go||(go=!0,console.error("React instrumentation encountered an error: %s",re))}var q=v.current.stateNode;return q.effectDuration=0,q.passiveEffectDuration=0,!0}finally{Sn.p=g,Be.T=u,fC(i,a)}}function hC(i,a,u){a=Xs(u,a),a=b0(i.stateNode,a,2),i=ja(i,a,2),i!==null&&(Wr(i,2),fo(i))}function Mn(i,a,u){if(gf=!1,i.tag===3)hC(i,i,u);else{for(;a!==null;){if(a.tag===3){hC(a,i,u);return}if(a.tag===1){var d=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Ja===null||!Ja.has(d))){i=Xs(u,i),u=x0(2),d=ja(a,u,2),d!==null&&(y0(u,d,a,i),Wr(d,2),fo(d));return}}a=a.return}console.error(`Internal React error: Attempted to capture a commit phase error inside a detached tree. This indicates a bug in React. Potential causes include deleting the same fiber more than once, committing an already-finished tree, or an inconsistent return pointer.

Error message:

%s`,u)}}function L0(i,a,u){var d=i.pingCache;if(d===null){d=i.pingCache=new Lz;var g=new Set;d.set(a,g)}else g=d.get(a),g===void 0&&(g=new Set,d.set(a,g));g.has(u)||(h_=!0,g.add(u),d=PL.bind(null,i,a,u),Vi&&hh(i,u),a.then(d,d))}function PL(i,a,u){var d=i.pingCache;d!==null&&d.delete(a),i.pingedLanes|=i.suspendedLanes&u,i.warmLanes&=~u,QA()&&Be.actQueue===null&&console.error(`A suspended resource finished loading inside a test, but the event was not wrapped in act(...).

When testing, code that resolves suspended data should be wrapped into act(...):

act(() => {
  /* finish loading suspended data */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act`),Ln===i&&(dn&u)===u&&(dr===vc||dr===u_&&(dn&62914560)===dn&&mo()-m_<sD?(En&Ns)===Js&&ku(i,0):p_|=u,Nc===dn&&(Nc=0)),fo(i)}function pC(i,a){a===0&&(a=cr()),i=Is(i,a),i!==null&&(Wr(i,a),fo(i))}function jL(i){var a=i.memoizedState,u=0;a!==null&&(u=a.retryLane),pC(i,u)}function ML(i,a){var u=0;switch(i.tag){case 13:var d=i.stateNode,g=i.memoizedState;g!==null&&(u=g.retryLane);break;case 19:d=i.stateNode;break;case 22:d=i.stateNode._retryCache;break;default:throw Error("Pinged unknown suspense boundary type. This is probably a bug in React.")}d!==null&&d.delete(a),pC(i,u)}function z0(i,a,u){if((a.subtreeFlags&67117056)!==0)for(a=a.child;a!==null;){var d=i,g=a,v=g.type===Mg;v=u||v,g.tag!==22?g.flags&67108864?v&&ie(g,mC,d,g,(g.mode&ek)===qn):z0(d,g,v):g.memoizedState===null&&(v&&g.flags&8192?ie(g,mC,d,g):g.subtreeFlags&67108864&&ie(g,z0,d,g,v)),a=a.sibling}}function mC(i,a){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:!0;xe(!0);try{zA(a),u&&KA(a),$A(i,a.alternate,a,!1),u&&WA(i,a,0,null,!1,0)}finally{xe(!1)}}function gC(i){var a=!0;i.current.mode&(os|Fi)||(a=!1),z0(i,i.current,a)}function bC(i){if((En&Ns)===Js){var a=i.tag;if(a===3||a===1||a===0||a===11||a===14||a===15){if(a=Q(i)||"ReactComponent",fb!==null){if(fb.has(a))return;fb.add(a)}else fb=new Set([a]);ie(i,function(){console.error("Can't perform a React state update on a component that hasn't mounted yet. This indicates that you have a side-effect in your render function that asynchronously later calls tries to update the component. Move this work to useEffect instead.")})}}}function hh(i,a){Vi&&i.memoizedUpdaters.forEach(function(u){xt(i,u,a)})}function IL(i,a){var u=Be.actQueue;return u!==null?(u.push(a),Yz):vw(i,a)}function OL(i){QA()&&Be.actQueue===null&&ie(i,function(){console.error(`An update to %s inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act`,Q(i))})}function fo(i){i!==bf&&i.next===null&&(bf===null?db=bf=i:bf=bf.next=i),hb=!0,Be.actQueue!==null?__||(__=!0,wC()):w_||(w_=!0,wC())}function ph(i,a){if(!N_&&hb){N_=!0;do for(var u=!1,d=db;d!==null;){if(i!==0){var g=d.pendingLanes;if(g===0)var v=0;else{var R=d.suspendedLanes,I=d.pingedLanes;v=(1<<31-xs(42|i)+1)-1,v&=g&~(R&~I),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(u=!0,vC(d,v))}else v=dn,v=Lt(d,d===Ln?v:0,d.cancelPendingCommit!==null||d.timeoutHandle!==Cc),(v&3)===0||Yt(d,v)||(u=!0,vC(d,v));d=d.next}while(u);N_=!1}}function UL(){$0()}function $0(){hb=__=w_=!1;var i=0;Tc!==0&&(zL()&&(i=Tc),Tc=0);for(var a=mo(),u=null,d=db;d!==null;){var g=d.next,v=xC(d,a);v===0?(d.next=null,u===null?db=g:u.next=g,g===null&&(bf=u)):(u=d,(i!==0||(v&3)!==0)&&(hb=!0)),d=g}ph(i)}function xC(i,a){for(var u=i.suspendedLanes,d=i.pingedLanes,g=i.expirationTimes,v=i.pendingLanes&-62914561;0<v;){var R=31-xs(v),I=1<<R,q=g[R];q===-1?((I&u)===0||(I&d)!==0)&&(g[R]=Ot(I,a)):q<=a&&(i.expiredLanes|=I),v&=~I}if(a=Ln,u=dn,u=Lt(i,i===a?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==Cc),d=i.callbackNode,u===0||i===a&&(kn===wc||kn===_c)||i.cancelPendingCommit!==null)return d!==null&&H0(d),i.callbackNode=null,i.callbackPriority=0;if((u&3)===0||Yt(i,u)){if(a=u&-u,a!==i.callbackPriority||Be.actQueue!==null&&d!==S_)H0(d);else return a;switch(un(u)){case hi:case bo:u=_w;break;case na:u=Uu;break;case Fg:u=Nw;break;default:u=Uu}return d=yC.bind(null,i),Be.actQueue!==null?(Be.actQueue.push(d),u=S_):u=vw(u,d),i.callbackPriority=a,i.callbackNode=u,a}return d!==null&&H0(d),i.callbackPriority=2,i.callbackNode=null,2}function yC(i,a){if(Gg=Qg=!1,Jr!==Sc&&Jr!==g_)return i.callbackNode=null,i.callbackPriority=0,null;var u=i.callbackNode;if(dh()&&i.callbackNode!==u)return null;var d=dn;return d=Lt(i,i===Ln?d:0,i.cancelPendingCommit!==null||i.timeoutHandle!==Cc),d===0?null:(JA(i,d,a),xC(i,mo()),i.callbackNode!=null&&i.callbackNode===u?yC.bind(null,i):null)}function vC(i,a){if(dh())return null;Qg=Gg,Gg=!1,JA(i,a,!0)}function H0(i){i!==S_&&i!==null&&S5(i)}function wC(){Be.actQueue!==null&&Be.actQueue.push(function(){return $0(),null}),s8(function(){(En&(Ns|$i))!==Js?vw(ww,UL):$0()})}function W0(){return Tc===0&&(Tc=Pt()),Tc}function _C(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:(se(i,"action"),Wd(""+i))}function NC(i,a){var u=a.ownerDocument.createElement("input");return u.name=a.name,u.value=a.value,i.id&&u.setAttribute("form",i.id),a.parentNode.insertBefore(u,a),i=new FormData(i),u.parentNode.removeChild(u),i}function VL(i,a,u,d,g){if(a==="submit"&&u&&u.stateNode===g){var v=_C((g[Vs]||null).action),R=d.submitter;R&&(a=(a=R[Vs]||null)?_C(a.formAction):R.getAttribute("formAction"),a!==null&&(v=a,R=null));var I=new Hg("action","action",null,d,g);i.push({event:I,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Tc!==0){var q=R?NC(g,R):new FormData(g),re={pending:!0,data:q,method:g.method,action:v};Object.freeze(re),u0(u,re,null,q)}}else typeof v=="function"&&(I.preventDefault(),q=R?NC(g,R):new FormData(g),re={pending:!0,data:q,method:g.method,action:v},Object.freeze(re),u0(u,re,v,q))},currentTarget:g}]})}}function Ng(i,a,u){i.currentTarget=u;try{a(i)}catch(d){i_(d)}i.currentTarget=null}function SC(i,a){a=(a&4)!==0;for(var u=0;u<i.length;u++){var d=i[u];e:{var g=void 0,v=d.event;if(d=d.listeners,a)for(var R=d.length-1;0<=R;R--){var I=d[R],q=I.instance,re=I.currentTarget;if(I=I.listener,q!==g&&v.isPropagationStopped())break e;q!==null?ie(q,Ng,v,I,re):Ng(v,I,re),g=q}else for(R=0;R<d.length;R++){if(I=d[R],q=I.instance,re=I.currentTarget,I=I.listener,q!==g&&v.isPropagationStopped())break e;q!==null?ie(q,Ng,v,I,re):Ng(v,I,re),g=q}}}}function pn(i,a){E_.has(i)||console.error('Did not expect a listenToNonDelegatedEvent() call for "%s". This is a bug in React. Please file an issue.',i);var u=a[Sw];u===void 0&&(u=a[Sw]=new Set);var d=i+"__bubble";u.has(d)||(EC(a,i,2,!1),u.add(d))}function q0(i,a,u){E_.has(i)&&!a&&console.error('Did not expect a listenToNativeEvent() call for "%s" in the bubble phase. This is a bug in React. Please file an issue.',i);var d=0;a&&(d|=4),EC(u,i,d,a)}function X0(i){if(!i[pb]){i[pb]=!0,lR.forEach(function(u){u!=="selectionchange"&&(E_.has(u)||q0(u,!1,i),q0(u,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[pb]||(a[pb]=!0,q0("selectionchange",!1,a))}}function EC(i,a,u,d){switch(eR(a)){case hi:var g=p5;break;case bo:g=m5;break;default:g=lw}u=g.bind(null,a,u,i),g=void 0,!Pw||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),d?g!==void 0?i.addEventListener(a,u,{capture:!0,passive:g}):i.addEventListener(a,u,!0):g!==void 0?i.addEventListener(a,u,{passive:g}):i.addEventListener(a,u,!1)}function Y0(i,a,u,d,g){var v=d;if((a&1)===0&&(a&2)===0&&d!==null)e:for(;;){if(d===null)return;var R=d.tag;if(R===3||R===4){var I=d.stateNode.containerInfo;if(I===g)break;if(R===4)for(R=d.return;R!==null;){var q=R.tag;if((q===3||q===4)&&R.stateNode.containerInfo===g)return;R=R.return}for(;I!==null;){if(R=Er(I),R===null)return;if(q=R.tag,q===5||q===6||q===26||q===27){d=v=R;continue e}I=I.parentNode}}d=d.return}QT(function(){var re=v,Oe=vv(u),Le=[];e:{var Ie=JR.get(i);if(Ie!==void 0){var We=Hg,wt=i;switch(i){case"keypress":if(Fm(u)===0)break e;case"keydown":case"keyup":We=fz;break;case"focusin":wt="focus",We=Ow;break;case"focusout":wt="blur",We=Ow;break;case"beforeblur":case"afterblur":We=Ow;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":We=FR;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":We=J5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":We=pz;break;case KR:case ZR:case QR:We=nz;break;case GR:We=gz;break;case"scroll":case"scrollend":We=Q5;break;case"wheel":We=xz;break;case"copy":case"cut":case"paste":We=sz;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":We=LR;break;case"toggle":case"beforetoggle":We=vz}var Vt=(a&4)!==0,zn=!Vt&&(i==="scroll"||i==="scrollend"),mn=Vt?Ie!==null?Ie+"Capture":null:Ie;Vt=[];for(var de=re,pe;de!==null;){var Ne=de;if(pe=Ne.stateNode,Ne=Ne.tag,Ne!==5&&Ne!==26&&Ne!==27||pe===null||mn===null||(Ne=qd(de,mn),Ne!=null&&Vt.push(mh(de,Ne,pe))),zn)break;de=de.return}0<Vt.length&&(Ie=new We(Ie,wt,null,u,Oe),Le.push({event:Ie,listeners:Vt}))}}if((a&7)===0){e:{if(Ie=i==="mouseover"||i==="pointerover",We=i==="mouseout"||i==="pointerout",Ie&&u!==Eh&&(wt=u.relatedTarget||u.fromElement)&&(Er(wt)||wt[Ha]))break e;if((We||Ie)&&(Ie=Oe.window===Oe?Oe:(Ie=Oe.ownerDocument)?Ie.defaultView||Ie.parentWindow:window,We?(wt=u.relatedTarget||u.toElement,We=re,wt=wt?Er(wt):null,wt!==null&&(zn=P(wt),Vt=wt.tag,wt!==zn||Vt!==5&&Vt!==27&&Vt!==6)&&(wt=null)):(We=null,wt=re),We!==wt)){if(Vt=FR,Ne="onMouseLeave",mn="onMouseEnter",de="mouse",(i==="pointerout"||i==="pointerover")&&(Vt=LR,Ne="onPointerLeave",mn="onPointerEnter",de="pointer"),zn=We==null?Ie:er(We),pe=wt==null?Ie:er(wt),Ie=new Vt(Ne,de+"leave",We,u,Oe),Ie.target=zn,Ie.relatedTarget=pe,Ne=null,Er(Oe)===re&&(Vt=new Vt(mn,de+"enter",wt,u,Oe),Vt.target=pe,Vt.relatedTarget=zn,Ne=Vt),zn=Ne,We&&wt)t:{for(Vt=We,mn=wt,de=0,pe=Vt;pe;pe=Pu(pe))de++;for(pe=0,Ne=mn;Ne;Ne=Pu(Ne))pe++;for(;0<de-pe;)Vt=Pu(Vt),de--;for(;0<pe-de;)mn=Pu(mn),pe--;for(;de--;){if(Vt===mn||mn!==null&&Vt===mn.alternate)break t;Vt=Pu(Vt),mn=Pu(mn)}Vt=null}else Vt=null;We!==null&&TC(Le,Ie,We,Vt,!1),wt!==null&&zn!==null&&TC(Le,zn,wt,Vt,!0)}}e:{if(Ie=re?er(re):window,We=Ie.nodeName&&Ie.nodeName.toLowerCase(),We==="select"||We==="input"&&Ie.type==="file")var Xe=s3;else if(n3(Ie))if(XR)Xe=sL;else{Xe=nL;var ct=tL}else We=Ie.nodeName,!We||We.toLowerCase()!=="input"||Ie.type!=="checkbox"&&Ie.type!=="radio"?re&&Hd(re.elementType)&&(Xe=s3):Xe=rL;if(Xe&&(Xe=Xe(i,re))){r3(Le,Xe,u,Oe);break e}ct&&ct(i,Ie,re),i==="focusout"&&re&&Ie.type==="number"&&re.memoizedProps.value!=null&&Tt(Ie,"number",Ie.value)}switch(ct=re?er(re):window,i){case"focusin":(n3(ct)||ct.contentEditable==="true")&&(Wu=ct,Vw=re,Ph=null);break;case"focusout":Ph=Vw=Wu=null;break;case"mousedown":Fw=!0;break;case"contextmenu":case"mouseup":case"dragend":Fw=!1,f3(Le,u,Oe);break;case"selectionchange":if(Sz)break;case"keydown":case"keyup":f3(Le,u,Oe)}var qt;if(Uw)e:{switch(i){case"compositionstart":var _t="onCompositionStart";break e;case"compositionend":_t="onCompositionEnd";break e;case"compositionupdate":_t="onCompositionUpdate";break e}_t=void 0}else Hu?e3(i,u)&&(_t="onCompositionEnd"):i==="keydown"&&u.keyCode===zR&&(_t="onCompositionStart");_t&&($R&&u.locale!=="ko"&&(Hu||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&Hu&&(qt=GT()):(Wa=Oe,jw="value"in Wa?Wa.value:Wa.textContent,Hu=!0)),ct=Sg(re,_t),0<ct.length&&(_t=new BR(_t,i,null,u,Oe),Le.push({event:_t,listeners:ct}),qt?_t.data=qt:(qt=t3(u),qt!==null&&(_t.data=qt)))),(qt=_z?QB(i,u):GB(i,u))&&(_t=Sg(re,"onBeforeInput"),0<_t.length&&(ct=new oz("onBeforeInput","beforeinput",null,u,Oe),Le.push({event:ct,listeners:_t}),ct.data=qt)),VL(Le,i,re,u,Oe)}SC(Le,a)})}function mh(i,a,u){return{instance:i,listener:a,currentTarget:u}}function Sg(i,a){for(var u=a+"Capture",d=[];i!==null;){var g=i,v=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||v===null||(g=qd(i,u),g!=null&&d.unshift(mh(i,g,v)),g=qd(i,a),g!=null&&d.push(mh(i,g,v))),i.tag===3)return d;i=i.return}return[]}function Pu(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function TC(i,a,u,d,g){for(var v=a._reactName,R=[];u!==null&&u!==d;){var I=u,q=I.alternate,re=I.stateNode;if(I=I.tag,q!==null&&q===d)break;I!==5&&I!==26&&I!==27||re===null||(q=re,g?(re=qd(u,v),re!=null&&R.unshift(mh(u,re,q))):g||(re=qd(u,v),re!=null&&R.push(mh(u,re,q)))),u=u.return}R.length!==0&&i.push({event:a,listeners:R})}function K0(i,a){XB(i,a),i!=="input"&&i!=="textarea"&&i!=="select"||a==null||a.value!==null||UR||(UR=!0,i==="select"&&a.multiple?console.error("`value` prop on `%s` should not be null. Consider using an empty array when `multiple` is set to `true` to clear the component or `undefined` for uncontrolled components.",i):console.error("`value` prop on `%s` should not be null. Consider using an empty string to clear the component or `undefined` for uncontrolled components.",i));var u={registrationNameDependencies:fc,possibleRegistrationNames:Ew};Hd(i)||typeof a.is=="string"||KB(i,a,u),a.contentEditable&&!a.suppressContentEditableWarning&&a.children!=null&&console.error("A component is `contentEditable` and contains `children` managed by React. It is now your responsibility to guarantee that none of those nodes are unexpectedly modified or duplicated. This is probably not intentional.")}function Lr(i,a,u,d){a!==u&&(u=Va(u),Va(a)!==u&&(d[i]=a))}function FL(i,a,u){a.forEach(function(d){u[RC(d)]=d==="style"?Q0(i):i.getAttribute(d)})}function ho(i,a){a===!1?console.error("Expected `%s` listener to be a function, instead got `false`.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.",i,i,i):console.error("Expected `%s` listener to be a function, instead got a value of `%s` type.",i,typeof a)}function AC(i,a){return i=i.namespaceURI===Lg||i.namespaceURI===Bu?i.ownerDocument.createElementNS(i.namespaceURI,i.tagName):i.ownerDocument.createElement(i.tagName),i.innerHTML=a,i.innerHTML}function Va(i){return V(i)&&(console.error("The provided HTML markup uses a value of unsupported type %s. This value must be coerced to a string before using it here.",Ke(i)),fe(i)),(typeof i=="string"?i:""+i).replace(Kz,`
`).replace(Zz,"")}function CC(i,a){return a=Va(a),Va(i)===a}function Eg(){}function In(i,a,u,d,g,v){switch(u){case"children":typeof d=="string"?(Vm(d,a,!1),a==="body"||a==="textarea"&&d===""||$d(i,d)):(typeof d=="number"||typeof d=="bigint")&&(Vm(""+d,a,!1),a!=="body"&&$d(i,""+d));break;case"className":At(i,"class",d);break;case"tabIndex":At(i,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":At(i,u,d);break;case"style":YT(i,d,v);break;case"data":if(a!=="object"){At(i,"data",d);break}case"src":case"href":if(d===""&&(a!=="a"||u!=="href")){console.error(u==="src"?'An empty string ("") was passed to the %s attribute. This may cause the browser to download the whole page again over the network. To fix this, either do not render the element at all or pass null to %s instead of an empty string.':'An empty string ("") was passed to the %s attribute. To fix this, either do not render the element at all or pass null to %s instead of an empty string.',u,u),i.removeAttribute(u);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){i.removeAttribute(u);break}se(d,u),d=Wd(""+d),i.setAttribute(u,d);break;case"action":case"formAction":if(d!=null&&(a==="form"?u==="formAction"?console.error("You can only pass the formAction prop to <input> or <button>. Use the action prop on <form>."):typeof d=="function"&&(g.encType==null&&g.method==null||bb||(bb=!0,console.error("Cannot specify a encType or method for a form that specifies a function as the action. React provides those automatically. They will get overridden.")),g.target==null||gb||(gb=!0,console.error("Cannot specify a target for a form that specifies a function as the action. The function will always be executed in the same window."))):a==="input"||a==="button"?u==="action"?console.error("You can only pass the action prop to <form>. Use the formAction prop on <input> or <button>."):a!=="input"||g.type==="submit"||g.type==="image"||mb?a!=="button"||g.type==null||g.type==="submit"||mb?typeof d=="function"&&(g.name==null||pD||(pD=!0,console.error('Cannot specify a "name" prop for a button that specifies a function as a formAction. React needs it to encode which action should be invoked. It will get overridden.')),g.formEncType==null&&g.formMethod==null||bb||(bb=!0,console.error("Cannot specify a formEncType or formMethod for a button that specifies a function as a formAction. React provides those automatically. They will get overridden.")),g.formTarget==null||gb||(gb=!0,console.error("Cannot specify a formTarget for a button that specifies a function as a formAction. The function will always be executed in the same window."))):(mb=!0,console.error('A button can only specify a formAction along with type="submit" or no type.')):(mb=!0,console.error('An input can only specify a formAction along with type="submit" or type="image".')):console.error(u==="action"?"You can only pass the action prop to <form>.":"You can only pass the formAction prop to <input> or <button>.")),typeof d=="function"){i.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(u==="formAction"?(a!=="input"&&In(i,a,"name",g.name,g,null),In(i,a,"formEncType",g.formEncType,g,null),In(i,a,"formMethod",g.formMethod,g,null),In(i,a,"formTarget",g.formTarget,g,null)):(In(i,a,"encType",g.encType,g,null),In(i,a,"method",g.method,g,null),In(i,a,"target",g.target,g,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){i.removeAttribute(u);break}se(d,u),d=Wd(""+d),i.setAttribute(u,d);break;case"onClick":d!=null&&(typeof d!="function"&&ho(u,d),i.onclick=Eg);break;case"onScroll":d!=null&&(typeof d!="function"&&ho(u,d),pn("scroll",i));break;case"onScrollEnd":d!=null&&(typeof d!="function"&&ho(u,d),pn("scrollend",i));break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error("`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://react.dev/link/dangerously-set-inner-html for more information.");if(u=d.__html,u!=null){if(g.children!=null)throw Error("Can only set one of `children` or `props.dangerouslySetInnerHTML`.");i.innerHTML=u}}break;case"multiple":i.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":i.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){i.removeAttribute("xlink:href");break}se(d,u),u=Wd(""+d),i.setAttributeNS(Ac,"xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?(se(d,u),i.setAttribute(u,""+d)):i.removeAttribute(u);break;case"inert":d!==""||xb[u]||(xb[u]=!0,console.error("Received an empty string for a boolean attribute `%s`. This will treat the attribute as if it were false. Either pass `false` to silence this warning, or pass `true` if you used an empty string in earlier versions of React to indicate this attribute is true.",u));case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(u,""):i.removeAttribute(u);break;case"capture":case"download":d===!0?i.setAttribute(u,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?(se(d,u),i.setAttribute(u,d)):i.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?(se(d,u),i.setAttribute(u,d)):i.removeAttribute(u);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?i.removeAttribute(u):(se(d,u),i.setAttribute(u,d));break;case"popover":pn("beforetoggle",i),pn("toggle",i),sn(i,"popover",d);break;case"xlinkActuate":ar(i,Ac,"xlink:actuate",d);break;case"xlinkArcrole":ar(i,Ac,"xlink:arcrole",d);break;case"xlinkRole":ar(i,Ac,"xlink:role",d);break;case"xlinkShow":ar(i,Ac,"xlink:show",d);break;case"xlinkTitle":ar(i,Ac,"xlink:title",d);break;case"xlinkType":ar(i,Ac,"xlink:type",d);break;case"xmlBase":ar(i,T_,"xml:base",d);break;case"xmlLang":ar(i,T_,"xml:lang",d);break;case"xmlSpace":ar(i,T_,"xml:space",d);break;case"is":v!=null&&console.error('Cannot update the "is" prop after it has been initialized.'),sn(i,"is",d);break;case"innerText":case"textContent":break;case"popoverTarget":mD||d==null||typeof d!="object"||(mD=!0,console.error("The `popoverTarget` prop expects the ID of an Element as a string. Received %s instead.",d));default:!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N"?(u=KT(u),sn(i,u,d)):fc.hasOwnProperty(u)&&d!=null&&typeof d!="function"&&ho(u,d)}}function Z0(i,a,u,d,g,v){switch(u){case"style":YT(i,d,v);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error("`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://react.dev/link/dangerously-set-inner-html for more information.");if(u=d.__html,u!=null){if(g.children!=null)throw Error("Can only set one of `children` or `props.dangerouslySetInnerHTML`.");i.innerHTML=u}}break;case"children":typeof d=="string"?$d(i,d):(typeof d=="number"||typeof d=="bigint")&&$d(i,""+d);break;case"onScroll":d!=null&&(typeof d!="function"&&ho(u,d),pn("scroll",i));break;case"onScrollEnd":d!=null&&(typeof d!="function"&&ho(u,d),pn("scrollend",i));break;case"onClick":d!=null&&(typeof d!="function"&&ho(u,d),i.onclick=Eg);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(fc.hasOwnProperty(u))d!=null&&typeof d!="function"&&ho(u,d);else e:{if(u[0]==="o"&&u[1]==="n"&&(g=u.endsWith("Capture"),a=u.slice(2,g?u.length-7:void 0),v=i[Vs]||null,v=v!=null?v[u]:null,typeof v=="function"&&i.removeEventListener(a,v,g),typeof d=="function")){typeof v!="function"&&v!==null&&(u in i?i[u]=null:i.hasAttribute(u)&&i.removeAttribute(u)),i.addEventListener(a,d,g);break e}u in i?i[u]=d:d===!0?i.setAttribute(u,""):sn(i,u,d)}}}function Kr(i,a,u){switch(K0(a,u),a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":pn("error",i),pn("load",i);var d=!1,g=!1,v;for(v in u)if(u.hasOwnProperty(v)){var R=u[v];if(R!=null)switch(v){case"src":d=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");default:In(i,a,v,R,u,null)}}g&&In(i,a,"srcSet",u.srcSet,u,null),d&&In(i,a,"src",u.src,u,null);return;case"input":Nt("input",u),pn("invalid",i);var I=v=R=g=null,q=null,re=null;for(d in u)if(u.hasOwnProperty(d)){var Oe=u[d];if(Oe!=null)switch(d){case"name":g=Oe;break;case"type":R=Oe;break;case"checked":q=Oe;break;case"defaultChecked":re=Oe;break;case"value":v=Oe;break;case"defaultValue":I=Oe;break;case"children":case"dangerouslySetInnerHTML":if(Oe!=null)throw Error(a+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");break;default:In(i,a,d,Oe,u,null)}}Mt(i,u),Fn(i,v,I,q,re,R,g,!1),ht(i);return;case"select":Nt("select",u),pn("invalid",i),d=R=v=null;for(g in u)if(u.hasOwnProperty(g)&&(I=u[g],I!=null))switch(g){case"value":v=I;break;case"defaultValue":R=I;break;case"multiple":d=I;default:In(i,a,g,I,u,null)}Ge(i,u),a=v,u=R,i.multiple=!!d,a!=null?Se(i,!!d,a,!1):u!=null&&Se(i,!!d,u,!0);return;case"textarea":Nt("textarea",u),pn("invalid",i),v=g=d=null;for(R in u)if(u.hasOwnProperty(R)&&(I=u[R],I!=null))switch(R){case"value":d=I;break;case"defaultValue":g=I;break;case"children":v=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error("`dangerouslySetInnerHTML` does not make sense on <textarea>.");break;default:In(i,a,R,I,u,null)}mt(i,u),Bn(i,d,g,v),ht(i);return;case"option":Ct(i,u);for(q in u)if(u.hasOwnProperty(q)&&(d=u[q],d!=null))switch(q){case"selected":i.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:In(i,a,q,d,u,null)}return;case"dialog":pn("beforetoggle",i),pn("toggle",i),pn("cancel",i),pn("close",i);break;case"iframe":case"object":pn("load",i);break;case"video":case"audio":for(d=0;d<np.length;d++)pn(np[d],i);break;case"image":pn("error",i),pn("load",i);break;case"details":pn("toggle",i);break;case"embed":case"source":case"link":pn("error",i),pn("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(re in u)if(u.hasOwnProperty(re)&&(d=u[re],d!=null))switch(re){case"children":case"dangerouslySetInnerHTML":throw Error(a+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");default:In(i,a,re,d,u,null)}return;default:if(Hd(a)){for(Oe in u)u.hasOwnProperty(Oe)&&(d=u[Oe],d!==void 0&&Z0(i,a,Oe,d,u,void 0));return}}for(I in u)u.hasOwnProperty(I)&&(d=u[I],d!=null&&In(i,a,I,d,u,null))}function BL(i,a,u,d){switch(K0(a,d),a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,v=null,R=null,I=null,q=null,re=null,Oe=null;for(We in u){var Le=u[We];if(u.hasOwnProperty(We)&&Le!=null)switch(We){case"checked":break;case"value":break;case"defaultValue":q=Le;default:d.hasOwnProperty(We)||In(i,a,We,null,d,Le)}}for(var Ie in d){var We=d[Ie];if(Le=u[Ie],d.hasOwnProperty(Ie)&&(We!=null||Le!=null))switch(Ie){case"type":v=We;break;case"name":g=We;break;case"checked":re=We;break;case"defaultChecked":Oe=We;break;case"value":R=We;break;case"defaultValue":I=We;break;case"children":case"dangerouslySetInnerHTML":if(We!=null)throw Error(a+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");break;default:We!==Le&&In(i,a,Ie,We,d,Le)}}a=u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null,d=d.type==="checkbox"||d.type==="radio"?d.checked!=null:d.value!=null,a||!d||hD||(console.error("A component is changing an uncontrolled input to be controlled. This is likely caused by the value changing from undefined to a defined value, which should not happen. Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://react.dev/link/controlled-components"),hD=!0),!a||d||dD||(console.error("A component is changing a controlled input to be uncontrolled. This is likely caused by the value changing from a defined to undefined, which should not happen. Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://react.dev/link/controlled-components"),dD=!0),Ut(i,R,I,q,re,Oe,v,g);return;case"select":We=R=I=Ie=null;for(v in u)if(q=u[v],u.hasOwnProperty(v)&&q!=null)switch(v){case"value":break;case"multiple":We=q;default:d.hasOwnProperty(v)||In(i,a,v,null,d,q)}for(g in d)if(v=d[g],q=u[g],d.hasOwnProperty(g)&&(v!=null||q!=null))switch(g){case"value":Ie=v;break;case"defaultValue":I=v;break;case"multiple":R=v;default:v!==q&&In(i,a,g,v,d,q)}d=I,a=R,u=We,Ie!=null?Se(i,!!a,Ie,!1):!!u!=!!a&&(d!=null?Se(i,!!a,d,!0):Se(i,!!a,a?[]:"",!1));return;case"textarea":We=Ie=null;for(I in u)if(g=u[I],u.hasOwnProperty(I)&&g!=null&&!d.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:In(i,a,I,null,d,g)}for(R in d)if(g=d[R],v=u[R],d.hasOwnProperty(R)&&(g!=null||v!=null))switch(R){case"value":Ie=g;break;case"defaultValue":We=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error("`dangerouslySetInnerHTML` does not make sense on <textarea>.");break;default:g!==v&&In(i,a,R,g,d,v)}et(i,Ie,We);return;case"option":for(var wt in u)if(Ie=u[wt],u.hasOwnProperty(wt)&&Ie!=null&&!d.hasOwnProperty(wt))switch(wt){case"selected":i.selected=!1;break;default:In(i,a,wt,null,d,Ie)}for(q in d)if(Ie=d[q],We=u[q],d.hasOwnProperty(q)&&Ie!==We&&(Ie!=null||We!=null))switch(q){case"selected":i.selected=Ie&&typeof Ie!="function"&&typeof Ie!="symbol";break;default:In(i,a,q,Ie,d,We)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Vt in u)Ie=u[Vt],u.hasOwnProperty(Vt)&&Ie!=null&&!d.hasOwnProperty(Vt)&&In(i,a,Vt,null,d,Ie);for(re in d)if(Ie=d[re],We=u[re],d.hasOwnProperty(re)&&Ie!==We&&(Ie!=null||We!=null))switch(re){case"children":case"dangerouslySetInnerHTML":if(Ie!=null)throw Error(a+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");break;default:In(i,a,re,Ie,d,We)}return;default:if(Hd(a)){for(var zn in u)Ie=u[zn],u.hasOwnProperty(zn)&&Ie!==void 0&&!d.hasOwnProperty(zn)&&Z0(i,a,zn,void 0,d,Ie);for(Oe in d)Ie=d[Oe],We=u[Oe],!d.hasOwnProperty(Oe)||Ie===We||Ie===void 0&&We===void 0||Z0(i,a,Oe,Ie,d,We);return}}for(var mn in u)Ie=u[mn],u.hasOwnProperty(mn)&&Ie!=null&&!d.hasOwnProperty(mn)&&In(i,a,mn,null,d,Ie);for(Le in d)Ie=d[Le],We=u[Le],!d.hasOwnProperty(Le)||Ie===We||Ie==null&&We==null||In(i,a,Le,Ie,d,We)}function RC(i){switch(i){case"class":return"className";case"for":return"htmlFor";default:return i}}function Q0(i){var a={};i=i.style;for(var u=0;u<i.length;u++){var d=i[u];a[d]=i.getPropertyValue(d)}return a}function kC(i,a,u){if(a!=null&&typeof a!="object")console.error("The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.");else{var d,g=d="",v;for(v in a)if(a.hasOwnProperty(v)){var R=a[v];R!=null&&typeof R!="boolean"&&R!==""&&(v.indexOf("--")===0?(B(R,v),d+=g+v+":"+(""+R).trim()):typeof R!="number"||R===0||IR.has(v)?(B(R,v),d+=g+v.replace(kR,"-$1").toLowerCase().replace(DR,"-ms-")+":"+(""+R).trim()):d+=g+v.replace(kR,"-$1").toLowerCase().replace(DR,"-ms-")+":"+R+"px",g=";")}d=d||null,a=i.getAttribute("style"),a!==d&&(d=Va(d),Va(a)!==d&&(u.style=Q0(i)))}}function fi(i,a,u,d,g,v){if(g.delete(u),i=i.getAttribute(u),i===null)switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":return}else if(d!=null)switch(typeof d){case"function":case"symbol":case"boolean":break;default:if(se(d,a),i===""+d)return}Lr(a,i,d,v)}function DC(i,a,u,d,g,v){if(g.delete(u),i=i.getAttribute(u),i===null){switch(typeof d){case"function":case"symbol":return}if(!d)return}else switch(typeof d){case"function":case"symbol":break;default:if(d)return}Lr(a,i,d,v)}function G0(i,a,u,d,g,v){if(g.delete(u),i=i.getAttribute(u),i===null)switch(typeof d){case"undefined":case"function":case"symbol":return}else if(d!=null)switch(typeof d){case"function":case"symbol":break;default:if(se(d,u),i===""+d)return}Lr(a,i,d,v)}function PC(i,a,u,d,g,v){if(g.delete(u),i=i.getAttribute(u),i===null)switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":return;default:if(isNaN(d))return}else if(d!=null)switch(typeof d){case"function":case"symbol":case"boolean":break;default:if(!isNaN(d)&&(se(d,a),i===""+d))return}Lr(a,i,d,v)}function J0(i,a,u,d,g,v){if(g.delete(u),i=i.getAttribute(u),i===null)switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":return}else if(d!=null)switch(typeof d){case"function":case"symbol":case"boolean":break;default:if(se(d,a),u=Wd(""+d),i===u)return}Lr(a,i,d,v)}function jC(i,a,u,d){for(var g={},v=new Set,R=i.attributes,I=0;I<R.length;I++)switch(R[I].name.toLowerCase()){case"value":break;case"checked":break;case"selected":break;default:v.add(R[I].name)}if(Hd(a)){for(var q in u)if(u.hasOwnProperty(q)){var re=u[q];if(re!=null){if(fc.hasOwnProperty(q))typeof re!="function"&&ho(q,re);else if(u.suppressHydrationWarning!==!0)switch(q){case"children":typeof re!="string"&&typeof re!="number"||Lr("children",i.textContent,re,g);continue;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":continue;case"dangerouslySetInnerHTML":R=i.innerHTML,re=re?re.__html:void 0,re!=null&&(re=AC(i,re),Lr(q,R,re,g));continue;case"style":v.delete(q),kC(i,re,g);continue;case"offsetParent":case"offsetTop":case"offsetLeft":case"offsetWidth":case"offsetHeight":case"isContentEditable":case"outerText":case"outerHTML":v.delete(q.toLowerCase()),console.error("Assignment to read-only property will result in a no-op: `%s`",q);continue;case"className":v.delete("class"),R=Qt(i,"class",re),Lr("className",R,re,g);continue;default:d.context===da&&a!=="svg"&&a!=="math"?v.delete(q.toLowerCase()):v.delete(q),R=Qt(i,q,re),Lr(q,R,re,g)}}}}else for(re in u)if(u.hasOwnProperty(re)&&(q=u[re],q!=null)){if(fc.hasOwnProperty(re))typeof q!="function"&&ho(re,q);else if(u.suppressHydrationWarning!==!0)switch(re){case"children":typeof q!="string"&&typeof q!="number"||Lr("children",i.textContent,q,g);continue;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"value":case"checked":case"selected":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":continue;case"dangerouslySetInnerHTML":R=i.innerHTML,q=q?q.__html:void 0,q!=null&&(q=AC(i,q),R!==q&&(g[re]={__html:R}));continue;case"className":fi(i,re,"class",q,v,g);continue;case"tabIndex":fi(i,re,"tabindex",q,v,g);continue;case"style":v.delete(re),kC(i,q,g);continue;case"multiple":v.delete(re),Lr(re,i.multiple,q,g);continue;case"muted":v.delete(re),Lr(re,i.muted,q,g);continue;case"autoFocus":v.delete("autofocus"),Lr(re,i.autofocus,q,g);continue;case"data":if(a!=="object"){v.delete(re),R=i.getAttribute("data"),Lr(re,R,q,g);continue}case"src":case"href":if(!(q!==""||a==="a"&&re==="href"||a==="object"&&re==="data")){console.error(re==="src"?'An empty string ("") was passed to the %s attribute. This may cause the browser to download the whole page again over the network. To fix this, either do not render the element at all or pass null to %s instead of an empty string.':'An empty string ("") was passed to the %s attribute. To fix this, either do not render the element at all or pass null to %s instead of an empty string.',re,re);continue}J0(i,re,re,q,v,g);continue;case"action":case"formAction":if(R=i.getAttribute(re),typeof q=="function"){v.delete(re.toLowerCase()),re==="formAction"?(v.delete("name"),v.delete("formenctype"),v.delete("formmethod"),v.delete("formtarget")):(v.delete("enctype"),v.delete("method"),v.delete("target"));continue}else if(R===Qz){v.delete(re.toLowerCase()),Lr(re,"function",q,g);continue}J0(i,re,re.toLowerCase(),q,v,g);continue;case"xlinkHref":J0(i,re,"xlink:href",q,v,g);continue;case"contentEditable":G0(i,re,"contenteditable",q,v,g);continue;case"spellCheck":G0(i,re,"spellcheck",q,v,g);continue;case"draggable":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":G0(i,re,re,q,v,g);continue;case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":DC(i,re,re.toLowerCase(),q,v,g);continue;case"capture":case"download":e:{I=i;var Oe=R=re,Le=g;if(v.delete(Oe),I=I.getAttribute(Oe),I===null)switch(typeof q){case"undefined":case"function":case"symbol":break e;default:if(q===!1)break e}else if(q!=null)switch(typeof q){case"function":case"symbol":break;case"boolean":if(q===!0&&I==="")break e;break;default:if(se(q,R),I===""+q)break e}Lr(R,I,q,Le)}continue;case"cols":case"rows":case"size":case"span":e:{if(I=i,Oe=R=re,Le=g,v.delete(Oe),I=I.getAttribute(Oe),I===null)switch(typeof q){case"undefined":case"function":case"symbol":case"boolean":break e;default:if(isNaN(q)||1>q)break e}else if(q!=null)switch(typeof q){case"function":case"symbol":case"boolean":break;default:if(!(isNaN(q)||1>q)&&(se(q,R),I===""+q))break e}Lr(R,I,q,Le)}continue;case"rowSpan":PC(i,re,"rowspan",q,v,g);continue;case"start":PC(i,re,re,q,v,g);continue;case"xHeight":fi(i,re,"x-height",q,v,g);continue;case"xlinkActuate":fi(i,re,"xlink:actuate",q,v,g);continue;case"xlinkArcrole":fi(i,re,"xlink:arcrole",q,v,g);continue;case"xlinkRole":fi(i,re,"xlink:role",q,v,g);continue;case"xlinkShow":fi(i,re,"xlink:show",q,v,g);continue;case"xlinkTitle":fi(i,re,"xlink:title",q,v,g);continue;case"xlinkType":fi(i,re,"xlink:type",q,v,g);continue;case"xmlBase":fi(i,re,"xml:base",q,v,g);continue;case"xmlLang":fi(i,re,"xml:lang",q,v,g);continue;case"xmlSpace":fi(i,re,"xml:space",q,v,g);continue;case"inert":q!==""||xb[re]||(xb[re]=!0,console.error("Received an empty string for a boolean attribute `%s`. This will treat the attribute as if it were false. Either pass `false` to silence this warning, or pass `true` if you used an empty string in earlier versions of React to indicate this attribute is true.",re)),DC(i,re,re,q,v,g);continue;default:if(!(2<re.length)||re[0]!=="o"&&re[0]!=="O"||re[1]!=="n"&&re[1]!=="N"){I=KT(re),R=!1,d.context===da&&a!=="svg"&&a!=="math"?v.delete(I.toLowerCase()):(Oe=re.toLowerCase(),Oe=zg.hasOwnProperty(Oe)&&zg[Oe]||null,Oe!==null&&Oe!==re&&(R=!0,v.delete(Oe)),v.delete(I));e:if(Oe=i,Le=I,I=q,$t(Le))if(Oe.hasAttribute(Le))Oe=Oe.getAttribute(Le),se(I,Le),I=Oe===""+I?I:Oe;else{switch(typeof I){case"function":case"symbol":break e;case"boolean":if(Oe=Le.toLowerCase().slice(0,5),Oe!=="data-"&&Oe!=="aria-")break e}I=I===void 0?void 0:null}else I=void 0;R||Lr(re,I,q,g)}}}return 0<v.size&&u.suppressHydrationWarning!==!0&&FL(i,v,g),Object.keys(g).length===0?null:g}function LL(i,a){switch(i.length){case 0:return"";case 1:return i[0];case 2:return i[0]+" "+a+" "+i[1];default:return i.slice(0,-1).join(", ")+", "+a+" "+i[i.length-1]}}function Tg(i){return i.nodeType===9?i:i.ownerDocument}function MC(i){switch(i){case Bu:return xf;case Lg:return wb;default:return da}}function IC(i,a){if(i===da)switch(a){case"svg":return xf;case"math":return wb;default:return da}return i===xf&&a==="foreignObject"?da:i}function ew(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}function zL(){var i=window.event;return i&&i.type==="popstate"?i===k_?!1:(k_=i,!0):(k_=null,!1)}function $L(i){setTimeout(function(){throw i})}function HL(i,a,u){switch(a){case"button":case"input":case"select":case"textarea":u.autoFocus&&i.focus();break;case"img":u.src?i.src=u.src:u.srcSet&&(i.srcset=u.srcSet)}}function WL(i,a,u,d){BL(i,a,u,d),i[Vs]=d}function OC(i){$d(i,"")}function qL(i,a,u){i.nodeValue=u}function Fa(i){return i==="head"}function XL(i,a){i.removeChild(a)}function YL(i,a){(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).removeChild(a)}function UC(i,a){var u=a,d=0,g=0;do{var v=u.nextSibling;if(i.removeChild(u),v&&v.nodeType===8)if(u=v.data,u===vb){if(0<d&&8>d){u=d;var R=i.ownerDocument;if(u&Jz&&gh(R.documentElement),u&e8&&gh(R.body),u&t8)for(u=R.head,gh(u),R=u.firstChild;R;){var I=R.nextSibling,q=R.nodeName;R[Nh]||q==="SCRIPT"||q==="STYLE"||q==="LINK"&&R.rel.toLowerCase()==="stylesheet"||u.removeChild(R),R=I}}if(g===0){i.removeChild(v),vh(a);return}g--}else u===yb||u===fa||u===rp?g++:d=u.charCodeAt(0)-48;else d=0;u=v}while(u);vh(a)}function KL(i){i=i.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"}function ZL(i){i.nodeValue=""}function QL(i,a){a=a[n8],a=a!=null&&a.hasOwnProperty("display")?a.display:null,i.style.display=a==null||typeof a=="boolean"?"":(""+a).trim()}function GL(i,a){i.nodeValue=a}function tw(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var u=a;switch(a=a.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":tw(u),Sr(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}i.removeChild(u)}}function JL(i,a,u,d){for(;i.nodeType===1;){var g=u;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!d&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(d){if(!i[Nh])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(v=i.getAttribute("rel"),v==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(v!==g.rel||i.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||i.getAttribute("title")!==(g.title==null?null:g.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(v=i.getAttribute("src"),(v!==(g.src==null?null:g.src)||i.getAttribute("type")!==(g.type==null?null:g.type)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&v&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){se(g.name,"name");var v=g.name==null?null:""+g.name;if(g.type==="hidden"&&i.getAttribute("name")===v)return i}else return i;if(i=di(i.nextSibling),i===null)break}return null}function e5(i,a,u){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!u||(i=di(i.nextSibling),i===null))return null;return i}function nw(i){return i.data===rp||i.data===fa&&i.ownerDocument.readyState===bD}function t5(i,a){var u=i.ownerDocument;if(i.data!==fa||u.readyState===bD)a();else{var d=function(){a(),u.removeEventListener("DOMContentLoaded",d)};u.addEventListener("DOMContentLoaded",d),i._reactRetry=d}}function di(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a===yb||a===rp||a===fa||a===A_||a===gD)break;if(a===vb)return null}}return i}function VC(i){if(i.nodeType===1){for(var a=i.nodeName.toLowerCase(),u={},d=i.attributes,g=0;g<d.length;g++){var v=d[g];u[RC(v.name)]=v.name.toLowerCase()==="style"?Q0(i):v.value}return{type:a,props:u}}return i.nodeType===8?{type:"Suspense",props:{}}:i.nodeValue}function FC(i,a,u){return u===null||u[Gz]!==!0?(i.nodeValue===a?i=null:(a=Va(a),i=Va(i.nodeValue)===a?null:i.nodeValue),i):null}function BC(i){i=i.nextSibling;for(var a=0;i;){if(i.nodeType===8){var u=i.data;if(u===vb){if(a===0)return di(i.nextSibling);a--}else u!==yb&&u!==rp&&u!==fa||a++}i=i.nextSibling}return null}function LC(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var u=i.data;if(u===yb||u===rp||u===fa){if(a===0)return i;a--}else u===vb&&a++}i=i.previousSibling}return null}function n5(i){vh(i)}function r5(i){vh(i)}function zC(i,a,u,d,g){switch(g&&zd(i,d.ancestorInfo),a=Tg(u),i){case"html":if(i=a.documentElement,!i)throw Error("React expected an <html> element (document.documentElement) to exist in the Document but one was not found. React never removes the documentElement for any Document it renders into so the cause is likely in some other script running on this page.");return i;case"head":if(i=a.head,!i)throw Error("React expected a <head> element (document.head) to exist in the Document but one was not found. React never removes the head for any Document it renders into so the cause is likely in some other script running on this page.");return i;case"body":if(i=a.body,!i)throw Error("React expected a <body> element (document.body) to exist in the Document but one was not found. React never removes the body for any Document it renders into so the cause is likely in some other script running on this page.");return i;default:throw Error("resolveSingletonInstance was called with an element type that is not supported. This is a bug in React.")}}function s5(i,a,u,d){if(!u[Ha]&&jr(u)){var g=u.tagName.toLowerCase();console.error("You are mounting a new %s component when a previous one has not first unmounted. It is an error to render more than one %s component at a time and attributes and children of these components will likely fail in unpredictable ways. Please only render a single instance of <%s> and if you need to mount a new one, ensure any previous ones have unmounted first.",g,g,g)}switch(i){case"html":case"head":case"body":break;default:console.error("acquireSingletonInstance was called with an element type that is not supported. This is a bug in React.")}for(g=u.attributes;g.length;)u.removeAttributeNode(g[0]);Kr(u,i,a),u[is]=d,u[Vs]=a}function gh(i){for(var a=i.attributes;a.length;)i.removeAttributeNode(a[0]);Sr(i)}function Ag(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}function $C(i,a,u){var d=yf;if(d&&typeof a=="string"&&a){var g=ft(a);g='link[rel="'+i+'"][href="'+g+'"]',typeof u=="string"&&(g+='[crossorigin="'+u+'"]'),ND.has(g)||(ND.add(g),i={rel:i,crossOrigin:u,href:a},d.querySelector(g)===null&&(a=d.createElement("link"),Kr(a,"link",i),Ee(a),d.head.appendChild(a)))}}function HC(i,a,u,d){var g=(g=za.current)?Ag(g):null;if(!g)throw Error('"resourceRoot" was expected to exist. This is a bug in React.');switch(i){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(u=ju(u.href),a=$(g).hoistableStyles,d=a.get(u),d||(d={type:"style",instance:null,count:0,state:null},a.set(u,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){i=ju(u.href);var v=$(g).hoistableStyles,R=v.get(i);if(!R&&(g=g.ownerDocument||g,R={type:"stylesheet",instance:null,count:0,state:{loading:Rc,preload:null}},v.set(i,R),(v=g.querySelector(bh(i)))&&!v._p&&(R.instance=v,R.state.loading=sp|Ni),!Si.has(i))){var I={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy};Si.set(i,I),v||i5(g,i,I,R.state)}if(a&&d===null)throw u=`

  - `+Cg(a)+`
  + `+Cg(u),Error("Expected <link> not to update to be updated to a stylesheet with precedence. Check the `rel`, `href`, and `precedence` props of this component. Alternatively, check whether two different <link> components render in the same slot or share the same key."+u);return R}if(a&&d!==null)throw u=`

  - `+Cg(a)+`
  + `+Cg(u),Error("Expected stylesheet with precedence to not be updated to a different kind of <link>. Check the `rel`, `href`, and `precedence` props of this component. Alternatively, check whether two different <link> components render in the same slot or share the same key."+u);return null;case"script":return a=u.async,u=u.src,typeof u=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(u=Mu(u),a=$(g).hoistableScripts,d=a.get(u),d||(d={type:"script",instance:null,count:0,state:null},a.set(u,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error('getResource encountered a type it did not expect: "'+i+'". this is a bug in React.')}}function Cg(i){var a=0,u="<link";return typeof i.rel=="string"?(a++,u+=' rel="'+i.rel+'"'):ta.call(i,"rel")&&(a++,u+=' rel="'+(i.rel===null?"null":"invalid type "+typeof i.rel)+'"'),typeof i.href=="string"?(a++,u+=' href="'+i.href+'"'):ta.call(i,"href")&&(a++,u+=' href="'+(i.href===null?"null":"invalid type "+typeof i.href)+'"'),typeof i.precedence=="string"?(a++,u+=' precedence="'+i.precedence+'"'):ta.call(i,"precedence")&&(a++,u+=" precedence={"+(i.precedence===null?"null":"invalid type "+typeof i.precedence)+"}"),Object.getOwnPropertyNames(i).length>a&&(u+=" ..."),u+" />"}function ju(i){return'href="'+ft(i)+'"'}function bh(i){return'link[rel="stylesheet"]['+i+"]"}function WC(i){return rn({},i,{"data-precedence":i.precedence,precedence:null})}function i5(i,a,u,d){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?d.loading=sp:(a=i.createElement("link"),d.preload=a,a.addEventListener("load",function(){return d.loading|=sp}),a.addEventListener("error",function(){return d.loading|=wD}),Kr(a,"link",u),Ee(a),i.head.appendChild(a))}function Mu(i){return'[src="'+ft(i)+'"]'}function xh(i){return"script[async]"+i}function qC(i,a,u){if(a.count++,a.instance===null)switch(a.type){case"style":var d=i.querySelector('style[data-href~="'+ft(u.href)+'"]');if(d)return a.instance=d,Ee(d),d;var g=rn({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return d=(i.ownerDocument||i).createElement("style"),Ee(d),Kr(d,"style",g),Rg(d,u.precedence,i),a.instance=d;case"stylesheet":g=ju(u.href);var v=i.querySelector(bh(g));if(v)return a.state.loading|=Ni,a.instance=v,Ee(v),v;d=WC(u),(g=Si.get(g))&&rw(d,g),v=(i.ownerDocument||i).createElement("link"),Ee(v);var R=v;return R._p=new Promise(function(I,q){R.onload=I,R.onerror=q}),Kr(v,"link",d),a.state.loading|=Ni,Rg(v,u.precedence,i),a.instance=v;case"script":return v=Mu(u.src),(g=i.querySelector(xh(v)))?(a.instance=g,Ee(g),g):(d=u,(g=Si.get(v))&&(d=rn({},u),sw(d,g)),i=i.ownerDocument||i,g=i.createElement("script"),Ee(g),Kr(g,"link",d),i.head.appendChild(g),a.instance=g);case"void":return null;default:throw Error('acquireResource encountered a resource type it did not expect: "'+a.type+'". this is a bug in React.')}else a.type==="stylesheet"&&(a.state.loading&Ni)===Rc&&(d=a.instance,a.state.loading|=Ni,Rg(d,u.precedence,i));return a.instance}function Rg(i,a,u){for(var d=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=d.length?d[d.length-1]:null,v=g,R=0;R<d.length;R++){var I=d[R];if(I.dataset.precedence===a)v=I;else if(v!==g)break}v?v.parentNode.insertBefore(i,v.nextSibling):(a=u.nodeType===9?u.head:u,a.insertBefore(i,a.firstChild))}function rw(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function sw(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}function XC(i,a,u){if(_b===null){var d=new Map,g=_b=new Map;g.set(u,d)}else g=_b,d=g.get(u),d||(d=new Map,g.set(u,d));if(d.has(i))return d;for(d.set(i,null),u=u.getElementsByTagName(i),g=0;g<u.length;g++){var v=u[g];if(!(v[Nh]||v[is]||i==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!==Bu){var R=v.getAttribute(a)||"";R=i+R;var I=d.get(R);I?I.push(v):d.set(R,[v])}}return d}function YC(i,a,u){i=i.ownerDocument||i,i.head.insertBefore(u,a==="title"?i.querySelector("head > title"):null)}function o5(i,a,u){var d=!u.ancestorInfo.containerTagInScope;if(u.context===xf||a.itemProp!=null)return!d||a.itemProp==null||i!=="meta"&&i!=="title"&&i!=="style"&&i!=="link"&&i!=="script"||console.error("Cannot render a <%s> outside the main document if it has an `itemProp` prop. `itemProp` suggests the tag belongs to an `itemScope` which can appear anywhere in the DOM. If you were intending for React to hoist this <%s> remove the `itemProp` prop. Otherwise, try moving this tag into the <head> or <body> of the Document.",i,i),!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href===""){d&&console.error('Cannot render a <style> outside the main document without knowing its precedence and a unique href key. React can hoist and deduplicate <style> tags if you provide a `precedence` prop along with an `href` prop that does not conflict with the `href` values used in any other hoisted <style> or <link rel="stylesheet" ...> tags.  Note that hoisting <style> tags is considered an advanced feature that most will not use directly. Consider moving the <style> tag to the <head> or consider adding a `precedence="default"` and `href="some unique resource identifier"`.');break}return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError){if(a.rel==="stylesheet"&&typeof a.precedence=="string"){i=a.href;var g=a.onError,v=a.disabled;u=[],a.onLoad&&u.push("`onLoad`"),g&&u.push("`onError`"),v!=null&&u.push("`disabled`"),g=LL(u,"and"),g+=u.length===1?" prop":" props",v=u.length===1?"an "+g:"the "+g,u.length&&console.error('React encountered a <link rel="stylesheet" href="%s" ... /> with a `precedence` prop that also included %s. The presence of loading and error handlers indicates an intent to manage the stylesheet loading state from your from your Component code and React will not hoist or deduplicate this stylesheet. If your intent was to have React hoist and deduplciate this stylesheet using the `precedence` prop remove the %s, otherwise remove the `precedence` prop.',i,v,g)}d&&(typeof a.rel!="string"||typeof a.href!="string"||a.href===""?console.error("Cannot render a <link> outside the main document without a `rel` and `href` prop. Try adding a `rel` and/or `href` prop to this <link> or moving the link into the <head> tag"):(a.onError||a.onLoad)&&console.error("Cannot render a <link> with onLoad or onError listeners outside the main document. Try removing onLoad={...} and onError={...} or moving it into the root <head> tag or somewhere in the <body>."));break}switch(a.rel){case"stylesheet":return i=a.precedence,a=a.disabled,typeof i!="string"&&d&&console.error('Cannot render a <link rel="stylesheet" /> outside the main document without knowing its precedence. Consider adding precedence="default" or moving it into the root <head> tag.'),typeof i=="string"&&a==null;default:return!0}case"script":if(i=a.async&&typeof a.async!="function"&&typeof a.async!="symbol",!i||a.onLoad||a.onError||!a.src||typeof a.src!="string"){d&&(i?a.onLoad||a.onError?console.error("Cannot render a <script> with onLoad or onError listeners outside the main document. Try removing onLoad={...} and onError={...} or moving it into the root <head> tag or somewhere in the <body>."):console.error("Cannot render a <script> outside the main document without `async={true}` and a non-empty `src` prop. Ensure there is a valid `src` and either make the script async or move it into the root <head> tag or somewhere in the <body>."):console.error('Cannot render a sync or defer <script> outside the main document without knowing its order. Try adding async="" or moving it into the root <head> tag.'));break}return!0;case"noscript":case"template":d&&console.error("Cannot render <%s> outside the main document. Try moving it into the root <head> tag.",i)}return!1}function KC(i){return!(i.type==="stylesheet"&&(i.state.loading&_D)===Rc)}function a5(){}function l5(i,a,u){if(ip===null)throw Error("Internal React Error: suspendedState null when it was expected to exists. Please report this as a React bug.");var d=ip;if(a.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(a.state.loading&Ni)===Rc){if(a.instance===null){var g=ju(u.href),v=i.querySelector(bh(g));if(v){i=v._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(d.count++,d=kg.bind(d),i.then(d,d)),a.state.loading|=Ni,a.instance=v,Ee(v);return}v=i.ownerDocument||i,u=WC(u),(g=Si.get(g))&&rw(u,g),v=v.createElement("link"),Ee(v);var R=v;R._p=new Promise(function(I,q){R.onload=I,R.onerror=q}),Kr(v,"link",u),a.instance=v}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&_D)===Rc&&(d.count++,a=kg.bind(d),i.addEventListener("load",a),i.addEventListener("error",a))}}function c5(){if(ip===null)throw Error("Internal React Error: suspendedState null when it was expected to exists. Please report this as a React bug.");var i=ip;return i.stylesheets&&i.count===0&&iw(i,i.stylesheets),0<i.count?function(a){var u=setTimeout(function(){if(i.stylesheets&&iw(i,i.stylesheets),i.unsuspend){var d=i.unsuspend;i.unsuspend=null,d()}},6e4);return i.unsuspend=a,function(){i.unsuspend=null,clearTimeout(u)}}:null}function kg(){if(this.count--,this.count===0){if(this.stylesheets)iw(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}function iw(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Nb=new Map,a.forEach(u5,i),Nb=null,kg.call(i))}function u5(i,a){if(!(a.state.loading&Ni)){var u=Nb.get(i);if(u)var d=u.get(P_);else{u=new Map,Nb.set(i,u);for(var g=i.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<g.length;v++){var R=g[v];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(u.set(R.dataset.precedence,R),d=R)}d&&u.set(P_,d)}g=a.instance,R=g.getAttribute("data-precedence"),v=u.get(R)||d,v===d&&u.set(P_,g),u.set(R,g),this.count++,d=kg.bind(this),g.addEventListener("load",d),g.addEventListener("error",d),v?v.parentNode.insertBefore(g,v.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(g,i.firstChild)),a.state.loading|=Ni}}function f5(i,a,u,d,g,v,R,I){for(this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Cc,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Cn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cn(0),this.hiddenUpdates=Cn(null),this.identifierPrefix=d,this.onUncaughtError=g,this.onCaughtError=v,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map,this.passiveEffectDuration=this.effectDuration=-0,this.memoizedUpdaters=new Set,i=this.pendingUpdatersLaneMap=[],a=0;31>a;a++)i.push(new Set);this._debugRootType=u?"hydrateRoot()":"createRoot()"}function ZC(i,a,u,d,g,v,R,I,q,re,Oe,Le){return i=new f5(i,a,u,R,I,q,re,Le),a=Cz,v===!0&&(a|=os|Fi),Vi&&(a|=Qr),v=x(3,null,null,a),i.current=v,v.stateNode=i,a=Iv(),ic(a),i.pooledCache=a,ic(a),v.memoizedState={element:d,isDehydrated:u,cache:a},Fv(v),i}function QC(i){return i?(i=qa,i):qa}function ow(i,a,u,d,g,v){if(ss&&typeof ss.onScheduleFiberRoot=="function")try{ss.onScheduleFiberRoot(Vu,d,u)}catch(R){go||(go=!0,console.error("React instrumentation encountered an error: %s",R))}bt!==null&&typeof bt.markRenderScheduled=="function"&&bt.markRenderScheduled(a),g=QC(g),d.context===null?d.context=g:d.pendingContext=g,xo&&Gs!==null&&!AD&&(AD=!0,console.error(`Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate.

Check the render method of %s.`,Q(Gs)||"Unknown")),d=Pa(a),d.payload={element:u},v=v===void 0?null:v,v!==null&&(typeof v!="function"&&console.error("Expected the last optional `callback` argument to be a function. Instead received: %s.",v),d.callback=v),u=ja(i,d,a),u!==null&&(vr(u,i,a),eh(u,i,a))}function GC(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<a?u:a}}function aw(i,a){GC(i,a),(i=i.alternate)&&GC(i,a)}function JC(i){if(i.tag===13){var a=Is(i,67108864);a!==null&&vr(a,i,67108864),aw(i,67108864)}}function d5(){return Gs}function h5(){for(var i=new Map,a=1,u=0;31>u;u++){var d=lt(a);i.set(a,d),a*=2}return i}function p5(i,a,u,d){var g=Be.T;Be.T=null;var v=Sn.p;try{Sn.p=hi,lw(i,a,u,d)}finally{Sn.p=v,Be.T=g}}function m5(i,a,u,d){var g=Be.T;Be.T=null;var v=Sn.p;try{Sn.p=bo,lw(i,a,u,d)}finally{Sn.p=v,Be.T=g}}function lw(i,a,u,d){if(Eb){var g=cw(d);if(g===null)Y0(i,a,d,Tb,u),tR(i,d);else if(g5(g,i,a,u,d))d.stopPropagation();else if(tR(i,d),a&4&&-1<o8.indexOf(i)){for(;g!==null;){var v=jr(g);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var R=gt(v.pendingLanes);if(R!==0){var I=v;for(I.pendingLanes|=2,I.entangledLanes|=2;R;){var q=1<<31-xs(R);I.entanglements[1]|=q,R&=~q}fo(v),(En&(Ns|$i))===Js&&(cb=mo()+iD,ph(0))}}break;case 13:I=Is(v,2),I!==null&&vr(I,v,2),Ru(),aw(v,2)}if(v=cw(d),v===null&&Y0(i,a,d,Tb,u),v===g)break;g=v}g!==null&&d.stopPropagation()}else Y0(i,a,d,null,u)}}function cw(i){return i=vv(i),uw(i)}function uw(i){if(Tb=null,i=Er(i),i!==null){var a=P(i);if(a===null)i=null;else{var u=a.tag;if(u===13){if(i=j(a),i!==null)return i;i=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Tb=i,null}function eR(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return hi;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return bo;case"message":switch(A5()){case ww:return hi;case _w:return bo;case Uu:case C5:return na;case Nw:return Fg;default:return na}default:return na}}function tR(i,a){switch(i){case"focusin":case"focusout":nl=null;break;case"dragenter":case"dragleave":rl=null;break;case"mouseover":case"mouseout":sl=null;break;case"pointerover":case"pointerout":ap.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":lp.delete(a.pointerId)}}function yh(i,a,u,d,g,v){return i===null||i.nativeEvent!==v?(i={blockedOn:a,domEventName:u,eventSystemFlags:d,nativeEvent:v,targetContainers:[g]},a!==null&&(a=jr(a),a!==null&&JC(a)),i):(i.eventSystemFlags|=d,a=i.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),i)}function g5(i,a,u,d,g){switch(a){case"focusin":return nl=yh(nl,i,a,u,d,g),!0;case"dragenter":return rl=yh(rl,i,a,u,d,g),!0;case"mouseover":return sl=yh(sl,i,a,u,d,g),!0;case"pointerover":var v=g.pointerId;return ap.set(v,yh(ap.get(v)||null,i,a,u,d,g)),!0;case"gotpointercapture":return v=g.pointerId,lp.set(v,yh(lp.get(v)||null,i,a,u,d,g)),!0}return!1}function nR(i){var a=Er(i.target);if(a!==null){var u=P(a);if(u!==null){if(a=u.tag,a===13){if(a=j(u),a!==null){i.blockedOn=a,rs(i.priority,function(){if(u.tag===13){var d=Zs(u);d=$e(d);var g=Is(u,d);g!==null&&vr(g,u,d),aw(u,d)}});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Dg(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var u=cw(i.nativeEvent);if(u===null){u=i.nativeEvent;var d=new u.constructor(u.type,u),g=d;Eh!==null&&console.error("Expected currently replaying event to be null. This error is likely caused by a bug in React. Please file an issue."),Eh=g,u.target.dispatchEvent(d),Eh===null&&console.error("Expected currently replaying event to not be null. This error is likely caused by a bug in React. Please file an issue."),Eh=null}else return a=jr(u),a!==null&&JC(a),i.blockedOn=u,!1;a.shift()}return!0}function rR(i,a,u){Dg(i)&&u.delete(a)}function b5(){j_=!1,nl!==null&&Dg(nl)&&(nl=null),rl!==null&&Dg(rl)&&(rl=null),sl!==null&&Dg(sl)&&(sl=null),ap.forEach(rR),lp.forEach(rR)}function Pg(i,a){i.blockedOn===a&&(i.blockedOn=null,j_||(j_=!0,Tr.unstable_scheduleCallback(Tr.unstable_NormalPriority,b5)))}function sR(i){Ab!==i&&(Ab=i,Tr.unstable_scheduleCallback(Tr.unstable_NormalPriority,function(){Ab===i&&(Ab=null);for(var a=0;a<i.length;a+=3){var u=i[a],d=i[a+1],g=i[a+2];if(typeof d!="function"){if(uw(d||u)===null)continue;break}var v=jr(u);v!==null&&(i.splice(a,3),a-=3,u={pending:!0,data:g,method:u.method,action:d},Object.freeze(u),u0(v,u,d,g))}}))}function vh(i){function a(q){return Pg(q,i)}nl!==null&&Pg(nl,i),rl!==null&&Pg(rl,i),sl!==null&&Pg(sl,i),ap.forEach(a),lp.forEach(a);for(var u=0;u<il.length;u++){var d=il[u];d.blockedOn===i&&(d.blockedOn=null)}for(;0<il.length&&(u=il[0],u.blockedOn===null);)nR(u),u.blockedOn===null&&il.shift();if(u=(i.ownerDocument||i).$$reactFormReplay,u!=null)for(d=0;d<u.length;d+=3){var g=u[d],v=u[d+1],R=g[Vs]||null;if(typeof v=="function")R||sR(u);else if(R){var I=null;if(v&&v.hasAttribute("formAction")){if(g=v,R=v[Vs]||null)I=R.formAction;else if(uw(g)!==null)continue}else I=R.action;typeof I=="function"?u[d+1]=I:(u.splice(d,3),d-=3),sR(u)}}}function fw(i){this._internalRoot=i}function jg(i){this._internalRoot=i}function iR(i){i[Ha]&&(i._reactRootContainer?console.error("You are calling ReactDOMClient.createRoot() on a container that was previously passed to ReactDOM.render(). This is not supported."):console.error("You are calling ReactDOMClient.createRoot() on a container that has already been passed to createRoot() before. Instead, call root.render() on the existing root instead if you want to update it."))}typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());var Tr=m8(),dw=hm(),x5=_I(),rn=Object.assign,y5=Symbol.for("react.element"),Ba=Symbol.for("react.transitional.element"),Iu=Symbol.for("react.portal"),Ou=Symbol.for("react.fragment"),Mg=Symbol.for("react.strict_mode"),hw=Symbol.for("react.profiler"),v5=Symbol.for("react.provider"),pw=Symbol.for("react.consumer"),po=Symbol.for("react.context"),wh=Symbol.for("react.forward_ref"),mw=Symbol.for("react.suspense"),gw=Symbol.for("react.suspense_list"),Ig=Symbol.for("react.memo"),Qs=Symbol.for("react.lazy"),bw=Symbol.for("react.activity"),w5=Symbol.for("react.memo_cache_sentinel"),oR=Symbol.iterator,_5=Symbol.for("react.client.reference"),Zr=Array.isArray,Be=dw.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Sn=x5.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,N5=Object.freeze({pending:!1,data:null,method:null,action:null}),xw=[],yw=[],ea=-1,La=K(null),_h=K(null),za=K(null),Og=K(null),ta=Object.prototype.hasOwnProperty,vw=Tr.unstable_scheduleCallback,S5=Tr.unstable_cancelCallback,E5=Tr.unstable_shouldYield,T5=Tr.unstable_requestPaint,mo=Tr.unstable_now,A5=Tr.unstable_getCurrentPriorityLevel,ww=Tr.unstable_ImmediatePriority,_w=Tr.unstable_UserBlockingPriority,Uu=Tr.unstable_NormalPriority,C5=Tr.unstable_LowPriority,Nw=Tr.unstable_IdlePriority,R5=Tr.log,k5=Tr.unstable_setDisableYieldValue,Vu=null,ss=null,bt=null,go=!1,Vi=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u",xs=Math.clz32?Math.clz32:nt,D5=Math.log,P5=Math.LN2,Ug=256,Vg=4194304,hi=2,bo=8,na=32,Fg=268435456,$a=Math.random().toString(36).slice(2),is="__reactFiber$"+$a,Vs="__reactProps$"+$a,Ha="__reactContainer$"+$a,Sw="__reactEvents$"+$a,j5="__reactListeners$"+$a,M5="__reactHandles$"+$a,aR="__reactResources$"+$a,Nh="__reactMarker$"+$a,lR=new Set,fc={},Ew={},I5={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0},O5=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),cR={},uR={},Sh=0,fR,dR,hR,pR,mR,gR,bR;F.__reactDisabledLog=!0;var Tw,xR,Aw=!1,Cw=new(typeof WeakMap=="function"?WeakMap:Map),Gs=null,xo=!1,U5=/[\n"\\]/g,yR=!1,vR=!1,wR=!1,_R=!1,NR=!1,SR=!1,ER=["value","defaultValue"],TR=!1,AR=/["'&<>\n\t]|^\s|\s$/,V5="address applet area article aside base basefont bgsound blockquote body br button caption center col colgroup dd details dir div dl dt embed fieldset figcaption figure footer form frame frameset h1 h2 h3 h4 h5 h6 head header hgroup hr html iframe img input isindex li link listing main marquee menu menuitem meta nav noembed noframes noscript object ol p param plaintext pre script section select source style summary table tbody td template textarea tfoot th thead title tr track ul wbr xmp".split(" "),CR="applet caption html table td th marquee object template foreignObject desc title".split(" "),F5=CR.concat(["button"]),B5="dd dt li option optgroup p rp rt".split(" "),RR={current:null,formTag:null,aTagInScope:null,buttonTagInScope:null,nobrTagInScope:null,pTagInButtonScope:null,listItemTagAutoclosing:null,dlItemTagAutoclosing:null,containerTagInScope:null,implicitRootScope:!1},Bg={},Rw={animation:"animationDelay animationDirection animationDuration animationFillMode animationIterationCount animationName animationPlayState animationTimingFunction".split(" "),background:"backgroundAttachment backgroundClip backgroundColor backgroundImage backgroundOrigin backgroundPositionX backgroundPositionY backgroundRepeat backgroundSize".split(" "),backgroundPosition:["backgroundPositionX","backgroundPositionY"],border:"borderBottomColor borderBottomStyle borderBottomWidth borderImageOutset borderImageRepeat borderImageSlice borderImageSource borderImageWidth borderLeftColor borderLeftStyle borderLeftWidth borderRightColor borderRightStyle borderRightWidth borderTopColor borderTopStyle borderTopWidth".split(" "),borderBlockEnd:["borderBlockEndColor","borderBlockEndStyle","borderBlockEndWidth"],borderBlockStart:["borderBlockStartColor","borderBlockStartStyle","borderBlockStartWidth"],borderBottom:["borderBottomColor","borderBottomStyle","borderBottomWidth"],borderColor:["borderBottomColor","borderLeftColor","borderRightColor","borderTopColor"],borderImage:["borderImageOutset","borderImageRepeat","borderImageSlice","borderImageSource","borderImageWidth"],borderInlineEnd:["borderInlineEndColor","borderInlineEndStyle","borderInlineEndWidth"],borderInlineStart:["borderInlineStartColor","borderInlineStartStyle","borderInlineStartWidth"],borderLeft:["borderLeftColor","borderLeftStyle","borderLeftWidth"],borderRadius:["borderBottomLeftRadius","borderBottomRightRadius","borderTopLeftRadius","borderTopRightRadius"],borderRight:["borderRightColor","borderRightStyle","borderRightWidth"],borderStyle:["borderBottomStyle","borderLeftStyle","borderRightStyle","borderTopStyle"],borderTop:["borderTopColor","borderTopStyle","borderTopWidth"],borderWidth:["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth"],columnRule:["columnRuleColor","columnRuleStyle","columnRuleWidth"],columns:["columnCount","columnWidth"],flex:["flexBasis","flexGrow","flexShrink"],flexFlow:["flexDirection","flexWrap"],font:"fontFamily fontFeatureSettings fontKerning fontLanguageOverride fontSize fontSizeAdjust fontStretch fontStyle fontVariant fontVariantAlternates fontVariantCaps fontVariantEastAsian fontVariantLigatures fontVariantNumeric fontVariantPosition fontWeight lineHeight".split(" "),fontVariant:"fontVariantAlternates fontVariantCaps fontVariantEastAsian fontVariantLigatures fontVariantNumeric fontVariantPosition".split(" "),gap:["columnGap","rowGap"],grid:"gridAutoColumns gridAutoFlow gridAutoRows gridTemplateAreas gridTemplateColumns gridTemplateRows".split(" "),gridArea:["gridColumnEnd","gridColumnStart","gridRowEnd","gridRowStart"],gridColumn:["gridColumnEnd","gridColumnStart"],gridColumnGap:["columnGap"],gridGap:["columnGap","rowGap"],gridRow:["gridRowEnd","gridRowStart"],gridRowGap:["rowGap"],gridTemplate:["gridTemplateAreas","gridTemplateColumns","gridTemplateRows"],listStyle:["listStyleImage","listStylePosition","listStyleType"],margin:["marginBottom","marginLeft","marginRight","marginTop"],marker:["markerEnd","markerMid","markerStart"],mask:"maskClip maskComposite maskImage maskMode maskOrigin maskPositionX maskPositionY maskRepeat maskSize".split(" "),maskPosition:["maskPositionX","maskPositionY"],outline:["outlineColor","outlineStyle","outlineWidth"],overflow:["overflowX","overflowY"],padding:["paddingBottom","paddingLeft","paddingRight","paddingTop"],placeContent:["alignContent","justifyContent"],placeItems:["alignItems","justifyItems"],placeSelf:["alignSelf","justifySelf"],textDecoration:["textDecorationColor","textDecorationLine","textDecorationStyle"],textEmphasis:["textEmphasisColor","textEmphasisStyle"],transition:["transitionDelay","transitionDuration","transitionProperty","transitionTimingFunction"],wordWrap:["overflowWrap"]},kR=/([A-Z])/g,DR=/^ms-/,L5=/^(?:webkit|moz|o)[A-Z]/,z5=/^-ms-/,$5=/-(.)/g,PR=/;\s*$/,Fu={},kw={},jR=!1,MR=!1,IR=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" ")),Lg="http://www.w3.org/1998/Math/MathML",Bu="http://www.w3.org/2000/svg",H5=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zg={accept:"accept",acceptcharset:"acceptCharset","accept-charset":"acceptCharset",accesskey:"accessKey",action:"action",allowfullscreen:"allowFullScreen",alt:"alt",as:"as",async:"async",autocapitalize:"autoCapitalize",autocomplete:"autoComplete",autocorrect:"autoCorrect",autofocus:"autoFocus",autoplay:"autoPlay",autosave:"autoSave",capture:"capture",cellpadding:"cellPadding",cellspacing:"cellSpacing",challenge:"challenge",charset:"charSet",checked:"checked",children:"children",cite:"cite",class:"className",classid:"classID",classname:"className",cols:"cols",colspan:"colSpan",content:"content",contenteditable:"contentEditable",contextmenu:"contextMenu",controls:"controls",controlslist:"controlsList",coords:"coords",crossorigin:"crossOrigin",dangerouslysetinnerhtml:"dangerouslySetInnerHTML",data:"data",datetime:"dateTime",default:"default",defaultchecked:"defaultChecked",defaultvalue:"defaultValue",defer:"defer",dir:"dir",disabled:"disabled",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback",download:"download",draggable:"draggable",enctype:"encType",enterkeyhint:"enterKeyHint",fetchpriority:"fetchPriority",for:"htmlFor",form:"form",formmethod:"formMethod",formaction:"formAction",formenctype:"formEncType",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",headers:"headers",height:"height",hidden:"hidden",high:"high",href:"href",hreflang:"hrefLang",htmlfor:"htmlFor",httpequiv:"httpEquiv","http-equiv":"httpEquiv",icon:"icon",id:"id",imagesizes:"imageSizes",imagesrcset:"imageSrcSet",inert:"inert",innerhtml:"innerHTML",inputmode:"inputMode",integrity:"integrity",is:"is",itemid:"itemID",itemprop:"itemProp",itemref:"itemRef",itemscope:"itemScope",itemtype:"itemType",keyparams:"keyParams",keytype:"keyType",kind:"kind",label:"label",lang:"lang",list:"list",loop:"loop",low:"low",manifest:"manifest",marginwidth:"marginWidth",marginheight:"marginHeight",max:"max",maxlength:"maxLength",media:"media",mediagroup:"mediaGroup",method:"method",min:"min",minlength:"minLength",multiple:"multiple",muted:"muted",name:"name",nomodule:"noModule",nonce:"nonce",novalidate:"noValidate",open:"open",optimum:"optimum",pattern:"pattern",placeholder:"placeholder",playsinline:"playsInline",poster:"poster",preload:"preload",profile:"profile",radiogroup:"radioGroup",readonly:"readOnly",referrerpolicy:"referrerPolicy",rel:"rel",required:"required",reversed:"reversed",role:"role",rows:"rows",rowspan:"rowSpan",sandbox:"sandbox",scope:"scope",scoped:"scoped",scrolling:"scrolling",seamless:"seamless",selected:"selected",shape:"shape",size:"size",sizes:"sizes",span:"span",spellcheck:"spellCheck",src:"src",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",start:"start",step:"step",style:"style",summary:"summary",tabindex:"tabIndex",target:"target",title:"title",type:"type",usemap:"useMap",value:"value",width:"width",wmode:"wmode",wrap:"wrap",about:"about",accentheight:"accentHeight","accent-height":"accentHeight",accumulate:"accumulate",additive:"additive",alignmentbaseline:"alignmentBaseline","alignment-baseline":"alignmentBaseline",allowreorder:"allowReorder",alphabetic:"alphabetic",amplitude:"amplitude",arabicform:"arabicForm","arabic-form":"arabicForm",ascent:"ascent",attributename:"attributeName",attributetype:"attributeType",autoreverse:"autoReverse",azimuth:"azimuth",basefrequency:"baseFrequency",baselineshift:"baselineShift","baseline-shift":"baselineShift",baseprofile:"baseProfile",bbox:"bbox",begin:"begin",bias:"bias",by:"by",calcmode:"calcMode",capheight:"capHeight","cap-height":"capHeight",clip:"clip",clippath:"clipPath","clip-path":"clipPath",clippathunits:"clipPathUnits",cliprule:"clipRule","clip-rule":"clipRule",color:"color",colorinterpolation:"colorInterpolation","color-interpolation":"colorInterpolation",colorinterpolationfilters:"colorInterpolationFilters","color-interpolation-filters":"colorInterpolationFilters",colorprofile:"colorProfile","color-profile":"colorProfile",colorrendering:"colorRendering","color-rendering":"colorRendering",contentscripttype:"contentScriptType",contentstyletype:"contentStyleType",cursor:"cursor",cx:"cx",cy:"cy",d:"d",datatype:"datatype",decelerate:"decelerate",descent:"descent",diffuseconstant:"diffuseConstant",direction:"direction",display:"display",divisor:"divisor",dominantbaseline:"dominantBaseline","dominant-baseline":"dominantBaseline",dur:"dur",dx:"dx",dy:"dy",edgemode:"edgeMode",elevation:"elevation",enablebackground:"enableBackground","enable-background":"enableBackground",end:"end",exponent:"exponent",externalresourcesrequired:"externalResourcesRequired",fill:"fill",fillopacity:"fillOpacity","fill-opacity":"fillOpacity",fillrule:"fillRule","fill-rule":"fillRule",filter:"filter",filterres:"filterRes",filterunits:"filterUnits",floodopacity:"floodOpacity","flood-opacity":"floodOpacity",floodcolor:"floodColor","flood-color":"floodColor",focusable:"focusable",fontfamily:"fontFamily","font-family":"fontFamily",fontsize:"fontSize","font-size":"fontSize",fontsizeadjust:"fontSizeAdjust","font-size-adjust":"fontSizeAdjust",fontstretch:"fontStretch","font-stretch":"fontStretch",fontstyle:"fontStyle","font-style":"fontStyle",fontvariant:"fontVariant","font-variant":"fontVariant",fontweight:"fontWeight","font-weight":"fontWeight",format:"format",from:"from",fx:"fx",fy:"fy",g1:"g1",g2:"g2",glyphname:"glyphName","glyph-name":"glyphName",glyphorientationhorizontal:"glyphOrientationHorizontal","glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphorientationvertical:"glyphOrientationVertical","glyph-orientation-vertical":"glyphOrientationVertical",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",hanging:"hanging",horizadvx:"horizAdvX","horiz-adv-x":"horizAdvX",horizoriginx:"horizOriginX","horiz-origin-x":"horizOriginX",ideographic:"ideographic",imagerendering:"imageRendering","image-rendering":"imageRendering",in2:"in2",in:"in",inlist:"inlist",intercept:"intercept",k1:"k1",k2:"k2",k3:"k3",k4:"k4",k:"k",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",kerning:"kerning",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",letterspacing:"letterSpacing","letter-spacing":"letterSpacing",lightingcolor:"lightingColor","lighting-color":"lightingColor",limitingconeangle:"limitingConeAngle",local:"local",markerend:"markerEnd","marker-end":"markerEnd",markerheight:"markerHeight",markermid:"markerMid","marker-mid":"markerMid",markerstart:"markerStart","marker-start":"markerStart",markerunits:"markerUnits",markerwidth:"markerWidth",mask:"mask",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",mathematical:"mathematical",mode:"mode",numoctaves:"numOctaves",offset:"offset",opacity:"opacity",operator:"operator",order:"order",orient:"orient",orientation:"orientation",origin:"origin",overflow:"overflow",overlineposition:"overlinePosition","overline-position":"overlinePosition",overlinethickness:"overlineThickness","overline-thickness":"overlineThickness",paintorder:"paintOrder","paint-order":"paintOrder",panose1:"panose1","panose-1":"panose1",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointerevents:"pointerEvents","pointer-events":"pointerEvents",points:"points",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",popover:"popover",popovertarget:"popoverTarget",popovertargetaction:"popoverTargetAction",prefix:"prefix",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",property:"property",r:"r",radius:"radius",refx:"refX",refy:"refY",renderingintent:"renderingIntent","rendering-intent":"renderingIntent",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",resource:"resource",restart:"restart",result:"result",results:"results",rotate:"rotate",rx:"rx",ry:"ry",scale:"scale",security:"security",seed:"seed",shaperendering:"shapeRendering","shape-rendering":"shapeRendering",slope:"slope",spacing:"spacing",specularconstant:"specularConstant",specularexponent:"specularExponent",speed:"speed",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stemh:"stemh",stemv:"stemv",stitchtiles:"stitchTiles",stopcolor:"stopColor","stop-color":"stopColor",stopopacity:"stopOpacity","stop-opacity":"stopOpacity",strikethroughposition:"strikethroughPosition","strikethrough-position":"strikethroughPosition",strikethroughthickness:"strikethroughThickness","strikethrough-thickness":"strikethroughThickness",string:"string",stroke:"stroke",strokedasharray:"strokeDasharray","stroke-dasharray":"strokeDasharray",strokedashoffset:"strokeDashoffset","stroke-dashoffset":"strokeDashoffset",strokelinecap:"strokeLinecap","stroke-linecap":"strokeLinecap",strokelinejoin:"strokeLinejoin","stroke-linejoin":"strokeLinejoin",strokemiterlimit:"strokeMiterlimit","stroke-miterlimit":"strokeMiterlimit",strokewidth:"strokeWidth","stroke-width":"strokeWidth",strokeopacity:"strokeOpacity","stroke-opacity":"strokeOpacity",suppresscontenteditablewarning:"suppressContentEditableWarning",suppresshydrationwarning:"suppressHydrationWarning",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textanchor:"textAnchor","text-anchor":"textAnchor",textdecoration:"textDecoration","text-decoration":"textDecoration",textlength:"textLength",textrendering:"textRendering","text-rendering":"textRendering",to:"to",transform:"transform",transformorigin:"transformOrigin","transform-origin":"transformOrigin",typeof:"typeof",u1:"u1",u2:"u2",underlineposition:"underlinePosition","underline-position":"underlinePosition",underlinethickness:"underlineThickness","underline-thickness":"underlineThickness",unicode:"unicode",unicodebidi:"unicodeBidi","unicode-bidi":"unicodeBidi",unicoderange:"unicodeRange","unicode-range":"unicodeRange",unitsperem:"unitsPerEm","units-per-em":"unitsPerEm",unselectable:"unselectable",valphabetic:"vAlphabetic","v-alphabetic":"vAlphabetic",values:"values",vectoreffect:"vectorEffect","vector-effect":"vectorEffect",version:"version",vertadvy:"vertAdvY","vert-adv-y":"vertAdvY",vertoriginx:"vertOriginX","vert-origin-x":"vertOriginX",vertoriginy:"vertOriginY","vert-origin-y":"vertOriginY",vhanging:"vHanging","v-hanging":"vHanging",videographic:"vIdeographic","v-ideographic":"vIdeographic",viewbox:"viewBox",viewtarget:"viewTarget",visibility:"visibility",vmathematical:"vMathematical","v-mathematical":"vMathematical",vocab:"vocab",widths:"widths",wordspacing:"wordSpacing","word-spacing":"wordSpacing",writingmode:"writingMode","writing-mode":"writingMode",x1:"x1",x2:"x2",x:"x",xchannelselector:"xChannelSelector",xheight:"xHeight","x-height":"xHeight",xlinkactuate:"xlinkActuate","xlink:actuate":"xlinkActuate",xlinkarcrole:"xlinkArcrole","xlink:arcrole":"xlinkArcrole",xlinkhref:"xlinkHref","xlink:href":"xlinkHref",xlinkrole:"xlinkRole","xlink:role":"xlinkRole",xlinkshow:"xlinkShow","xlink:show":"xlinkShow",xlinktitle:"xlinkTitle","xlink:title":"xlinkTitle",xlinktype:"xlinkType","xlink:type":"xlinkType",xmlbase:"xmlBase","xml:base":"xmlBase",xmllang:"xmlLang","xml:lang":"xmlLang",xmlns:"xmlns","xml:space":"xmlSpace",xmlnsxlink:"xmlnsXlink","xmlns:xlink":"xmlnsXlink",xmlspace:"xmlSpace",y1:"y1",y2:"y2",y:"y",ychannelselector:"yChannelSelector",z:"z",zoomandpan:"zoomAndPan"},OR={"aria-current":0,"aria-description":0,"aria-details":0,"aria-disabled":0,"aria-hidden":0,"aria-invalid":0,"aria-keyshortcuts":0,"aria-label":0,"aria-roledescription":0,"aria-autocomplete":0,"aria-checked":0,"aria-expanded":0,"aria-haspopup":0,"aria-level":0,"aria-modal":0,"aria-multiline":0,"aria-multiselectable":0,"aria-orientation":0,"aria-placeholder":0,"aria-pressed":0,"aria-readonly":0,"aria-required":0,"aria-selected":0,"aria-sort":0,"aria-valuemax":0,"aria-valuemin":0,"aria-valuenow":0,"aria-valuetext":0,"aria-atomic":0,"aria-busy":0,"aria-live":0,"aria-relevant":0,"aria-dropeffect":0,"aria-grabbed":0,"aria-activedescendant":0,"aria-colcount":0,"aria-colindex":0,"aria-colspan":0,"aria-controls":0,"aria-describedby":0,"aria-errormessage":0,"aria-flowto":0,"aria-labelledby":0,"aria-owns":0,"aria-posinset":0,"aria-rowcount":0,"aria-rowindex":0,"aria-rowspan":0,"aria-setsize":0},Lu={},W5=RegExp("^(aria)-[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),q5=RegExp("^(aria)[A-Z][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),UR=!1,ys={},VR=/^on./,X5=/^on[^A-Z]/,Y5=RegExp("^(aria)-[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),K5=RegExp("^(aria)[A-Z][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Z5=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i,Eh=null,zu=null,$u=null,Dw=!1,yo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pw=!1;if(yo)try{var Th={};Object.defineProperty(Th,"passive",{get:function(){Pw=!0}}),window.addEventListener("test",Th,Th),window.removeEventListener("test",Th,Th)}catch{Pw=!1}var Wa=null,jw=null,$g=null,dc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hg=Ms(dc),Ah=rn({},dc,{view:0,detail:0}),Q5=Ms(Ah),Mw,Iw,Ch,Wg=rn({},Ah,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wv,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ch&&(Ch&&i.type==="mousemove"?(Mw=i.screenX-Ch.screenX,Iw=i.screenY-Ch.screenY):Iw=Mw=0,Ch=i),Mw)},movementY:function(i){return"movementY"in i?i.movementY:Iw}}),FR=Ms(Wg),G5=rn({},Wg,{dataTransfer:0}),J5=Ms(G5),ez=rn({},Ah,{relatedTarget:0}),Ow=Ms(ez),tz=rn({},dc,{animationName:0,elapsedTime:0,pseudoElement:0}),nz=Ms(tz),rz=rn({},dc,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),sz=Ms(rz),iz=rn({},dc,{data:0}),BR=Ms(iz),oz=BR,az={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lz={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cz={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},uz=rn({},Ah,{key:function(i){if(i.key){var a=az[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=Fm(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?lz[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wv,charCode:function(i){return i.type==="keypress"?Fm(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Fm(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),fz=Ms(uz),dz=rn({},Wg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),LR=Ms(dz),hz=rn({},Ah,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wv}),pz=Ms(hz),mz=rn({},dc,{propertyName:0,elapsedTime:0,pseudoElement:0}),gz=Ms(mz),bz=rn({},Wg,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),xz=Ms(bz),yz=rn({},dc,{newState:0,oldState:0}),vz=Ms(yz),wz=[9,13,27,32],zR=229,Uw=yo&&"CompositionEvent"in window,Rh=null;yo&&"documentMode"in document&&(Rh=document.documentMode);var _z=yo&&"TextEvent"in window&&!Rh,$R=yo&&(!Uw||Rh&&8<Rh&&11>=Rh),HR=32,WR=String.fromCharCode(HR),qR=!1,Hu=!1,Nz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},kh=null,Dh=null,XR=!1;yo&&(XR=JB("input")&&(!document.documentMode||9<document.documentMode));var vs=typeof Object.is=="function"?Object.is:iL,Sz=yo&&"documentMode"in document&&11>=document.documentMode,Wu=null,Vw=null,Ph=null,Fw=!1,qu={animationend:Zl("Animation","AnimationEnd"),animationiteration:Zl("Animation","AnimationIteration"),animationstart:Zl("Animation","AnimationStart"),transitionrun:Zl("Transition","TransitionRun"),transitionstart:Zl("Transition","TransitionStart"),transitioncancel:Zl("Transition","TransitionCancel"),transitionend:Zl("Transition","TransitionEnd")},Bw={},YR={};yo&&(YR=document.createElement("div").style,"AnimationEvent"in window||(delete qu.animationend.animation,delete qu.animationiteration.animation,delete qu.animationstart.animation),"TransitionEvent"in window||delete qu.transitionend.transition);var KR=Ql("animationend"),ZR=Ql("animationiteration"),QR=Ql("animationstart"),Ez=Ql("transitionrun"),Tz=Ql("transitionstart"),Az=Ql("transitioncancel"),GR=Ql("transitionend"),JR=new Map,Lw="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Lw.push("scrollEnd");var zw=new WeakMap,qg=1,ra=2,pi=[],Xu=0,$w=0,qa={};Object.freeze(qa);var mi=null,Yu=null,qn=0,Cz=1,Qr=2,os=8,Fi=16,ek=64,tk=!1;try{var nk=Object.preventExtensions({})}catch{tk=!0}var Ku=[],Zu=0,Xg=null,Yg=0,gi=[],bi=0,hc=null,sa=1,ia="",ws=null,fr=null,xn=!1,oa=!1,xi=null,pc=null,vo=!1,Hw=Error("Hydration Mismatch Exception: This is not a real error, and should not leak into userspace. If you're seeing this, it's likely a bug in React."),rk=0;if(typeof performance=="object"&&typeof performance.now=="function")var Rz=performance,sk=function(){return Rz.now()};else{var kz=Date;sk=function(){return kz.now()}}var Ww=K(null),qw=K(null),ik={},Kg=null,Qu=null,Gu=!1,Dz=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(u,d){i.push(d)}};this.abort=function(){a.aborted=!0,i.forEach(function(u){return u()})}},Pz=Tr.unstable_scheduleCallback,jz=Tr.unstable_NormalPriority,Mr={$$typeof:po,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0,_currentRenderer:null,_currentRenderer2:null},Ju=Tr.unstable_now,ok=-0,Zg=-0,Fs=-1.1,mc=-0,Qg=!1,Gg=!1,jh=null,Xw=0,gc=0,ef=null,ak=Be.S;Be.S=function(i,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&aL(i,a),ak!==null&&ak(i,a)};var bc=K(null),Bi={recordUnsafeLifecycleWarnings:function(){},flushPendingUnsafeLifecycleWarnings:function(){},recordLegacyContextWarning:function(){},flushLegacyContextWarning:function(){},discardPendingWarnings:function(){}},Mh=[],Ih=[],Oh=[],Uh=[],Vh=[],Fh=[],xc=new Set;Bi.recordUnsafeLifecycleWarnings=function(i,a){xc.has(i.type)||(typeof a.componentWillMount=="function"&&a.componentWillMount.__suppressDeprecationWarning!==!0&&Mh.push(i),i.mode&os&&typeof a.UNSAFE_componentWillMount=="function"&&Ih.push(i),typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps.__suppressDeprecationWarning!==!0&&Oh.push(i),i.mode&os&&typeof a.UNSAFE_componentWillReceiveProps=="function"&&Uh.push(i),typeof a.componentWillUpdate=="function"&&a.componentWillUpdate.__suppressDeprecationWarning!==!0&&Vh.push(i),i.mode&os&&typeof a.UNSAFE_componentWillUpdate=="function"&&Fh.push(i))},Bi.flushPendingUnsafeLifecycleWarnings=function(){var i=new Set;0<Mh.length&&(Mh.forEach(function(I){i.add(Q(I)||"Component"),xc.add(I.type)}),Mh=[]);var a=new Set;0<Ih.length&&(Ih.forEach(function(I){a.add(Q(I)||"Component"),xc.add(I.type)}),Ih=[]);var u=new Set;0<Oh.length&&(Oh.forEach(function(I){u.add(Q(I)||"Component"),xc.add(I.type)}),Oh=[]);var d=new Set;0<Uh.length&&(Uh.forEach(function(I){d.add(Q(I)||"Component"),xc.add(I.type)}),Uh=[]);var g=new Set;0<Vh.length&&(Vh.forEach(function(I){g.add(Q(I)||"Component"),xc.add(I.type)}),Vh=[]);var v=new Set;if(0<Fh.length&&(Fh.forEach(function(I){v.add(Q(I)||"Component"),xc.add(I.type)}),Fh=[]),0<a.size){var R=m(a);console.error(`Using UNSAFE_componentWillMount in strict mode is not recommended and may indicate bugs in your code. See https://react.dev/link/unsafe-component-lifecycles for details.

* Move code with side effects to componentDidMount, and set initial state in the constructor.

Please update the following components: %s`,R)}0<d.size&&(R=m(d),console.error(`Using UNSAFE_componentWillReceiveProps in strict mode is not recommended and may indicate bugs in your code. See https://react.dev/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://react.dev/link/derived-state

Please update the following components: %s`,R)),0<v.size&&(R=m(v),console.error(`Using UNSAFE_componentWillUpdate in strict mode is not recommended and may indicate bugs in your code. See https://react.dev/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.

Please update the following components: %s`,R)),0<i.size&&(R=m(i),console.warn(`componentWillMount has been renamed, and is not recommended for use. See https://react.dev/link/unsafe-component-lifecycles for details.

* Move code with side effects to componentDidMount, and set initial state in the constructor.
* Rename componentWillMount to UNSAFE_componentWillMount to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,R)),0<u.size&&(R=m(u),console.warn(`componentWillReceiveProps has been renamed, and is not recommended for use. See https://react.dev/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://react.dev/link/derived-state
* Rename componentWillReceiveProps to UNSAFE_componentWillReceiveProps to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,R)),0<g.size&&(R=m(g),console.warn(`componentWillUpdate has been renamed, and is not recommended for use. See https://react.dev/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* Rename componentWillUpdate to UNSAFE_componentWillUpdate to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,R))};var Jg=new Map,lk=new Set;Bi.recordLegacyContextWarning=function(i,a){for(var u=null,d=i;d!==null;)d.mode&os&&(u=d),d=d.return;u===null?console.error("Expected to find a StrictMode component in a strict mode tree. This error is likely caused by a bug in React. Please file an issue."):!lk.has(i.type)&&(d=Jg.get(u),i.type.contextTypes!=null||i.type.childContextTypes!=null||a!==null&&typeof a.getChildContext=="function")&&(d===void 0&&(d=[],Jg.set(u,d)),d.push(i))},Bi.flushLegacyContextWarning=function(){Jg.forEach(function(i){if(i.length!==0){var a=i[0],u=new Set;i.forEach(function(g){u.add(Q(g)||"Component"),lk.add(g.type)});var d=m(u);ie(a,function(){console.error(`Legacy context API has been detected within a strict-mode tree.

The old API will be supported in all 16.x releases, but applications using it should migrate to the new version.

Please update the following components: %s

Learn more about this warning here: https://react.dev/link/legacy-context`,d)})}})},Bi.discardPendingWarnings=function(){Mh=[],Ih=[],Oh=[],Uh=[],Vh=[],Fh=[],Jg=new Map};var Bh=Error("Suspense Exception: This is not a real error! It's an implementation detail of `use` to interrupt the current render. You must either rethrow it immediately, or move the `use` call outside of the `try/catch` block. Capturing without rethrowing will lead to unexpected behavior.\n\nTo handle async errors, wrap your component in an error boundary, or call the promise's `.catch` method and pass the result to `use`."),ck=Error("Suspense Exception: This is not a real error, and should not leak into userspace. If you're seeing this, it's likely a bug in React."),eb=Error("Suspense Exception: This is not a real error! It's an implementation detail of `useActionState` to interrupt the current render. You must either rethrow it immediately, or move the `useActionState` call outside of the `try/catch` block. Capturing without rethrowing will lead to unexpected behavior.\n\nTo handle async errors, wrap your component in an error boundary."),Yw={then:function(){console.error('Internal React error: A listener was unexpectedly attached to a "noop" thenable. This is a bug in React. Please file an issue.')}},Lh=null,tb=!1,yi=0,vi=1,_s=2,Gr=4,Ir=8,uk=0,fk=1,dk=2,Kw=3,Xa=!1,hk=!1,Zw=null,Qw=!1,tf=K(null),nb=K(0),nf,pk=new Set,mk=new Set,Gw=new Set,gk=new Set,Ya=0,Ht=null,On=null,Ar=null,rb=!1,rf=!1,yc=!1,sb=0,zh=0,aa=null,Mz=0,Iz=25,Fe=null,wi=null,la=-1,$h=!1,ib={readContext:nr,use:Ma,useCallback:yr,useContext:yr,useEffect:yr,useImperativeHandle:yr,useLayoutEffect:yr,useInsertionEffect:yr,useMemo:yr,useReducer:yr,useRef:yr,useState:yr,useDebugValue:yr,useDeferredValue:yr,useTransition:yr,useSyncExternalStore:yr,useId:yr,useHostTransitionStatus:yr,useFormState:yr,useActionState:yr,useOptimistic:yr,useMemoCache:yr,useCacheRefresh:yr},Jw=null,bk=null,e_=null,xk=null,wo=null,Li=null,ob=null;Jw={readContext:function(i){return nr(i)},use:Ma,useCallback:function(i,a){return Fe="useCallback",fn(),_u(a),o0(i,a)},useContext:function(i){return Fe="useContext",fn(),nr(i)},useEffect:function(i,a){return Fe="useEffect",fn(),_u(a),ig(i,a)},useImperativeHandle:function(i,a,u){return Fe="useImperativeHandle",fn(),_u(u),i0(i,a,u)},useInsertionEffect:function(i,a){Fe="useInsertionEffect",fn(),_u(a),ac(4,_s,i,a)},useLayoutEffect:function(i,a){return Fe="useLayoutEffect",fn(),_u(a),s0(i,a)},useMemo:function(i,a){Fe="useMemo",fn(),_u(a);var u=Be.H;Be.H=wo;try{return a0(i,a)}finally{Be.H=u}},useReducer:function(i,a,u){Fe="useReducer",fn();var d=Be.H;Be.H=wo;try{return Zv(i,a,u)}finally{Be.H=d}},useRef:function(i){return Fe="useRef",fn(),r0(i)},useState:function(i){Fe="useState",fn();var a=Be.H;Be.H=wo;try{return e0(i)}finally{Be.H=a}},useDebugValue:function(){Fe="useDebugValue",fn()},useDeferredValue:function(i,a){return Fe="useDeferredValue",fn(),l0(i,a)},useTransition:function(){return Fe="useTransition",fn(),f0()},useSyncExternalStore:function(i,a,u){return Fe="useSyncExternalStore",fn(),Gv(i,a,u)},useId:function(){return Fe="useId",fn(),d0()},useFormState:function(i,a){return Fe="useFormState",fn(),eg(),Su(i,a)},useActionState:function(i,a){return Fe="useActionState",fn(),Su(i,a)},useOptimistic:function(i){return Fe="useOptimistic",fn(),t0(i)},useHostTransitionStatus:lc,useMemoCache:oc,useCacheRefresh:function(){return Fe="useCacheRefresh",fn(),h0()}},bk={readContext:function(i){return nr(i)},use:Ma,useCallback:function(i,a){return Fe="useCallback",it(),o0(i,a)},useContext:function(i){return Fe="useContext",it(),nr(i)},useEffect:function(i,a){return Fe="useEffect",it(),ig(i,a)},useImperativeHandle:function(i,a,u){return Fe="useImperativeHandle",it(),i0(i,a,u)},useInsertionEffect:function(i,a){Fe="useInsertionEffect",it(),ac(4,_s,i,a)},useLayoutEffect:function(i,a){return Fe="useLayoutEffect",it(),s0(i,a)},useMemo:function(i,a){Fe="useMemo",it();var u=Be.H;Be.H=wo;try{return a0(i,a)}finally{Be.H=u}},useReducer:function(i,a,u){Fe="useReducer",it();var d=Be.H;Be.H=wo;try{return Zv(i,a,u)}finally{Be.H=d}},useRef:function(i){return Fe="useRef",it(),r0(i)},useState:function(i){Fe="useState",it();var a=Be.H;Be.H=wo;try{return e0(i)}finally{Be.H=a}},useDebugValue:function(){Fe="useDebugValue",it()},useDeferredValue:function(i,a){return Fe="useDeferredValue",it(),l0(i,a)},useTransition:function(){return Fe="useTransition",it(),f0()},useSyncExternalStore:function(i,a,u){return Fe="useSyncExternalStore",it(),Gv(i,a,u)},useId:function(){return Fe="useId",it(),d0()},useActionState:function(i,a){return Fe="useActionState",it(),Su(i,a)},useFormState:function(i,a){return Fe="useFormState",it(),eg(),Su(i,a)},useOptimistic:function(i){return Fe="useOptimistic",it(),t0(i)},useHostTransitionStatus:lc,useMemoCache:oc,useCacheRefresh:function(){return Fe="useCacheRefresh",it(),h0()}},e_={readContext:function(i){return nr(i)},use:Ma,useCallback:function(i,a){return Fe="useCallback",it(),ag(i,a)},useContext:function(i){return Fe="useContext",it(),nr(i)},useEffect:function(i,a){Fe="useEffect",it(),Us(2048,Ir,i,a)},useImperativeHandle:function(i,a,u){return Fe="useImperativeHandle",it(),og(i,a,u)},useInsertionEffect:function(i,a){return Fe="useInsertionEffect",it(),Us(4,_s,i,a)},useLayoutEffect:function(i,a){return Fe="useLayoutEffect",it(),Us(4,Gr,i,a)},useMemo:function(i,a){Fe="useMemo",it();var u=Be.H;Be.H=Li;try{return lg(i,a)}finally{Be.H=u}},useReducer:function(i,a,u){Fe="useReducer",it();var d=Be.H;Be.H=Li;try{return Nu(i,a,u)}finally{Be.H=d}},useRef:function(){return Fe="useRef",it(),jn().memoizedState},useState:function(){Fe="useState",it();var i=Be.H;Be.H=Li;try{return Nu(Ui)}finally{Be.H=i}},useDebugValue:function(){Fe="useDebugValue",it()},useDeferredValue:function(i,a){return Fe="useDeferredValue",it(),K3(i,a)},useTransition:function(){return Fe="useTransition",it(),tA()},useSyncExternalStore:function(i,a,u){return Fe="useSyncExternalStore",it(),tg(i,a,u)},useId:function(){return Fe="useId",it(),jn().memoizedState},useFormState:function(i){return Fe="useFormState",it(),eg(),ng(i)},useActionState:function(i){return Fe="useActionState",it(),ng(i)},useOptimistic:function(i,a){return Fe="useOptimistic",it(),F3(i,a)},useHostTransitionStatus:lc,useMemoCache:oc,useCacheRefresh:function(){return Fe="useCacheRefresh",it(),jn().memoizedState}},xk={readContext:function(i){return nr(i)},use:Ma,useCallback:function(i,a){return Fe="useCallback",it(),ag(i,a)},useContext:function(i){return Fe="useContext",it(),nr(i)},useEffect:function(i,a){Fe="useEffect",it(),Us(2048,Ir,i,a)},useImperativeHandle:function(i,a,u){return Fe="useImperativeHandle",it(),og(i,a,u)},useInsertionEffect:function(i,a){return Fe="useInsertionEffect",it(),Us(4,_s,i,a)},useLayoutEffect:function(i,a){return Fe="useLayoutEffect",it(),Us(4,Gr,i,a)},useMemo:function(i,a){Fe="useMemo",it();var u=Be.H;Be.H=ob;try{return lg(i,a)}finally{Be.H=u}},useReducer:function(i,a,u){Fe="useReducer",it();var d=Be.H;Be.H=ob;try{return sh(i,a,u)}finally{Be.H=d}},useRef:function(){return Fe="useRef",it(),jn().memoizedState},useState:function(){Fe="useState",it();var i=Be.H;Be.H=ob;try{return sh(Ui)}finally{Be.H=i}},useDebugValue:function(){Fe="useDebugValue",it()},useDeferredValue:function(i,a){return Fe="useDeferredValue",it(),Z3(i,a)},useTransition:function(){return Fe="useTransition",it(),nA()},useSyncExternalStore:function(i,a,u){return Fe="useSyncExternalStore",it(),tg(i,a,u)},useId:function(){return Fe="useId",it(),jn().memoizedState},useFormState:function(i){return Fe="useFormState",it(),eg(),rg(i)},useActionState:function(i){return Fe="useActionState",it(),rg(i)},useOptimistic:function(i,a){return Fe="useOptimistic",it(),L3(i,a)},useHostTransitionStatus:lc,useMemoCache:oc,useCacheRefresh:function(){return Fe="useCacheRefresh",it(),jn().memoizedState}},wo={readContext:function(i){return h(),nr(i)},use:function(i){return f(),Ma(i)},useCallback:function(i,a){return Fe="useCallback",f(),fn(),o0(i,a)},useContext:function(i){return Fe="useContext",f(),fn(),nr(i)},useEffect:function(i,a){return Fe="useEffect",f(),fn(),ig(i,a)},useImperativeHandle:function(i,a,u){return Fe="useImperativeHandle",f(),fn(),i0(i,a,u)},useInsertionEffect:function(i,a){Fe="useInsertionEffect",f(),fn(),ac(4,_s,i,a)},useLayoutEffect:function(i,a){return Fe="useLayoutEffect",f(),fn(),s0(i,a)},useMemo:function(i,a){Fe="useMemo",f(),fn();var u=Be.H;Be.H=wo;try{return a0(i,a)}finally{Be.H=u}},useReducer:function(i,a,u){Fe="useReducer",f(),fn();var d=Be.H;Be.H=wo;try{return Zv(i,a,u)}finally{Be.H=d}},useRef:function(i){return Fe="useRef",f(),fn(),r0(i)},useState:function(i){Fe="useState",f(),fn();var a=Be.H;Be.H=wo;try{return e0(i)}finally{Be.H=a}},useDebugValue:function(){Fe="useDebugValue",f(),fn()},useDeferredValue:function(i,a){return Fe="useDeferredValue",f(),fn(),l0(i,a)},useTransition:function(){return Fe="useTransition",f(),fn(),f0()},useSyncExternalStore:function(i,a,u){return Fe="useSyncExternalStore",f(),fn(),Gv(i,a,u)},useId:function(){return Fe="useId",f(),fn(),d0()},useFormState:function(i,a){return Fe="useFormState",f(),fn(),Su(i,a)},useActionState:function(i,a){return Fe="useActionState",f(),fn(),Su(i,a)},useOptimistic:function(i){return Fe="useOptimistic",f(),fn(),t0(i)},useMemoCache:function(i){return f(),oc(i)},useHostTransitionStatus:lc,useCacheRefresh:function(){return Fe="useCacheRefresh",fn(),h0()}},Li={readContext:function(i){return h(),nr(i)},use:function(i){return f(),Ma(i)},useCallback:function(i,a){return Fe="useCallback",f(),it(),ag(i,a)},useContext:function(i){return Fe="useContext",f(),it(),nr(i)},useEffect:function(i,a){Fe="useEffect",f(),it(),Us(2048,Ir,i,a)},useImperativeHandle:function(i,a,u){return Fe="useImperativeHandle",f(),it(),og(i,a,u)},useInsertionEffect:function(i,a){return Fe="useInsertionEffect",f(),it(),Us(4,_s,i,a)},useLayoutEffect:function(i,a){return Fe="useLayoutEffect",f(),it(),Us(4,Gr,i,a)},useMemo:function(i,a){Fe="useMemo",f(),it();var u=Be.H;Be.H=Li;try{return lg(i,a)}finally{Be.H=u}},useReducer:function(i,a,u){Fe="useReducer",f(),it();var d=Be.H;Be.H=Li;try{return Nu(i,a,u)}finally{Be.H=d}},useRef:function(){return Fe="useRef",f(),it(),jn().memoizedState},useState:function(){Fe="useState",f(),it();var i=Be.H;Be.H=Li;try{return Nu(Ui)}finally{Be.H=i}},useDebugValue:function(){Fe="useDebugValue",f(),it()},useDeferredValue:function(i,a){return Fe="useDeferredValue",f(),it(),K3(i,a)},useTransition:function(){return Fe="useTransition",f(),it(),tA()},useSyncExternalStore:function(i,a,u){return Fe="useSyncExternalStore",f(),it(),tg(i,a,u)},useId:function(){return Fe="useId",f(),it(),jn().memoizedState},useFormState:function(i){return Fe="useFormState",f(),it(),ng(i)},useActionState:function(i){return Fe="useActionState",f(),it(),ng(i)},useOptimistic:function(i,a){return Fe="useOptimistic",f(),it(),F3(i,a)},useMemoCache:function(i){return f(),oc(i)},useHostTransitionStatus:lc,useCacheRefresh:function(){return Fe="useCacheRefresh",it(),jn().memoizedState}},ob={readContext:function(i){return h(),nr(i)},use:function(i){return f(),Ma(i)},useCallback:function(i,a){return Fe="useCallback",f(),it(),ag(i,a)},useContext:function(i){return Fe="useContext",f(),it(),nr(i)},useEffect:function(i,a){Fe="useEffect",f(),it(),Us(2048,Ir,i,a)},useImperativeHandle:function(i,a,u){return Fe="useImperativeHandle",f(),it(),og(i,a,u)},useInsertionEffect:function(i,a){return Fe="useInsertionEffect",f(),it(),Us(4,_s,i,a)},useLayoutEffect:function(i,a){return Fe="useLayoutEffect",f(),it(),Us(4,Gr,i,a)},useMemo:function(i,a){Fe="useMemo",f(),it();var u=Be.H;Be.H=Li;try{return lg(i,a)}finally{Be.H=u}},useReducer:function(i,a,u){Fe="useReducer",f(),it();var d=Be.H;Be.H=Li;try{return sh(i,a,u)}finally{Be.H=d}},useRef:function(){return Fe="useRef",f(),it(),jn().memoizedState},useState:function(){Fe="useState",f(),it();var i=Be.H;Be.H=Li;try{return sh(Ui)}finally{Be.H=i}},useDebugValue:function(){Fe="useDebugValue",f(),it()},useDeferredValue:function(i,a){return Fe="useDeferredValue",f(),it(),Z3(i,a)},useTransition:function(){return Fe="useTransition",f(),it(),nA()},useSyncExternalStore:function(i,a,u){return Fe="useSyncExternalStore",f(),it(),tg(i,a,u)},useId:function(){return Fe="useId",f(),it(),jn().memoizedState},useFormState:function(i){return Fe="useFormState",f(),it(),rg(i)},useActionState:function(i){return Fe="useActionState",f(),it(),rg(i)},useOptimistic:function(i,a){return Fe="useOptimistic",f(),it(),L3(i,a)},useMemoCache:function(i){return f(),oc(i)},useHostTransitionStatus:lc,useCacheRefresh:function(){return Fe="useCacheRefresh",it(),jn().memoizedState}};var yk={"react-stack-bottom-frame":function(i,a,u){var d=xo;xo=!0;try{return i(a,u)}finally{xo=d}}},t_=yk["react-stack-bottom-frame"].bind(yk),vk={"react-stack-bottom-frame":function(i){var a=xo;xo=!0;try{return i.render()}finally{xo=a}}},wk=vk["react-stack-bottom-frame"].bind(vk),_k={"react-stack-bottom-frame":function(i,a){try{a.componentDidMount()}catch(u){Mn(i,i.return,u)}}},n_=_k["react-stack-bottom-frame"].bind(_k),Nk={"react-stack-bottom-frame":function(i,a,u,d,g){try{a.componentDidUpdate(u,d,g)}catch(v){Mn(i,i.return,v)}}},Sk=Nk["react-stack-bottom-frame"].bind(Nk),Ek={"react-stack-bottom-frame":function(i,a){var u=a.stack;i.componentDidCatch(a.value,{componentStack:u!==null?u:""})}},Oz=Ek["react-stack-bottom-frame"].bind(Ek),Tk={"react-stack-bottom-frame":function(i,a,u){try{u.componentWillUnmount()}catch(d){Mn(i,a,d)}}},Ak=Tk["react-stack-bottom-frame"].bind(Tk),Ck={"react-stack-bottom-frame":function(i){i.resourceKind!=null&&console.error("Expected only SimpleEffects when enableUseEffectCRUDOverload is disabled, got %s",i.resourceKind);var a=i.create;return i=i.inst,a=a(),i.destroy=a}},Uz=Ck["react-stack-bottom-frame"].bind(Ck),Rk={"react-stack-bottom-frame":function(i,a,u){try{u()}catch(d){Mn(i,a,d)}}},Vz=Rk["react-stack-bottom-frame"].bind(Rk),kk={"react-stack-bottom-frame":function(i){var a=i._init;return a(i._payload)}},Ka=kk["react-stack-bottom-frame"].bind(kk),sf=null,Hh=0,tn=null,r_,Dk=r_=!1,Pk={},jk={},Mk={};c=function(i,a,u){if(u!==null&&typeof u=="object"&&u._store&&(!u._store.validated&&u.key==null||u._store.validated===2)){if(typeof u._store!="object")throw Error("React Component in warnForMissingKey should have a _store. This error is likely caused by a bug in React. Please file an issue.");u._store.validated=1;var d=Q(i),g=d||"null";if(!Pk[g]){Pk[g]=!0,u=u._owner,i=i._debugOwner;var v="";i&&typeof i.tag=="number"&&(g=Q(i))&&(v=`

Check the render method of \``+g+"`."),v||d&&(v=`

Check the top-level render call using <`+d+">.");var R="";u!=null&&i!==u&&(d=null,typeof u.tag=="number"?d=Q(u):typeof u.name=="string"&&(d=u.name),d&&(R=" It was passed a child from "+d+".")),ie(a,function(){console.error('Each child in a list should have a unique "key" prop.%s%s See https://react.dev/link/warning-keys for more information.',v,R)})}}};var of=oA(!0),Ik=oA(!1),_i=K(null),_o=null,af=1,Wh=2,Or=K(0),Ok={},Uk=new Set,Vk=new Set,Fk=new Set,Bk=new Set,Lk=new Set,zk=new Set,$k=new Set,Hk=new Set,Wk=new Set,qk=new Set;Object.freeze(Ok);var s_={enqueueSetState:function(i,a,u){i=i._reactInternals;var d=Zs(i),g=Pa(d);g.payload=a,u!=null&&(m0(u),g.callback=u),a=ja(i,g,d),a!==null&&(vr(a,i,d),eh(a,i,d)),Ue(i,d)},enqueueReplaceState:function(i,a,u){i=i._reactInternals;var d=Zs(i),g=Pa(d);g.tag=fk,g.payload=a,u!=null&&(m0(u),g.callback=u),a=ja(i,g,d),a!==null&&(vr(a,i,d),eh(a,i,d)),Ue(i,d)},enqueueForceUpdate:function(i,a){i=i._reactInternals;var u=Zs(i),d=Pa(u);d.tag=dk,a!=null&&(m0(a),d.callback=a),a=ja(i,d,u),a!==null&&(vr(a,i,u),eh(a,i,u)),bt!==null&&typeof bt.markForceUpdateScheduled=="function"&&bt.markForceUpdateScheduled(i,u)}},i_=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},lf=null,o_=null,Xk=Error("This is not a real error. It's an implementation detail of React's selective hydration feature. If this leaks into userspace, it's a bug in React. Please file an issue."),zr=!1,Yk={},Kk={},Zk={},Qk={},cf=!1,Gk={},a_={},l_={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null},Jk=!1,eD=null;eD=new Set;var ca=!1,wr=!1,c_=!1,tD=typeof WeakSet=="function"?WeakSet:Set,$r=null,uf=null,ff=null,Cr=null,Bs=!1,zi=null,qh=8192,Fz={getCacheForType:function(i){var a=nr(Mr),u=a.data.get(i);return u===void 0&&(u=i(),a.data.set(i,u)),u},getOwner:function(){return Gs}};if(typeof Symbol=="function"&&Symbol.for){var Xh=Symbol.for;Xh("selector.component"),Xh("selector.has_pseudo_class"),Xh("selector.role"),Xh("selector.test_id"),Xh("selector.text")}var Bz=[],Lz=typeof WeakMap=="function"?WeakMap:Map,Js=0,Ns=2,$i=4,ua=0,Yh=1,df=2,u_=3,vc=4,ab=6,nD=5,En=Js,Ln=null,an=null,dn=0,Ls=0,Kh=1,wc=2,Zh=3,rD=4,f_=5,hf=6,Qh=7,d_=8,_c=9,kn=Ls,ei=null,Za=!1,pf=!1,h_=!1,No=0,dr=ua,Qa=0,Ga=0,p_=0,ti=0,Nc=0,Gh=null,Ss=null,lb=!1,m_=0,sD=300,cb=1/0,iD=500,Jh=null,Ja=null,zz=0,$z=1,Hz=2,Sc=0,oD=1,aD=2,lD=3,Wz=4,g_=5,Jr=0,el=null,mf=null,tl=0,b_=0,x_=null,cD=null,qz=50,ep=0,y_=null,v_=!1,ub=!1,Xz=50,Ec=0,tp=null,gf=!1,fb=null,uD=!1,fD=new Set,Yz={},db=null,bf=null,w_=!1,__=!1,hb=!1,N_=!1,Tc=0,S_={};(function(){for(var i=0;i<Lw.length;i++){var a=Lw[i],u=a.toLowerCase();a=a[0].toUpperCase()+a.slice(1),Oi(u,"on"+a)}Oi(KR,"onAnimationEnd"),Oi(ZR,"onAnimationIteration"),Oi(QR,"onAnimationStart"),Oi("dblclick","onDoubleClick"),Oi("focusin","onFocus"),Oi("focusout","onBlur"),Oi(Ez,"onTransitionRun"),Oi(Tz,"onTransitionStart"),Oi(Az,"onTransitionCancel"),Oi(GR,"onTransitionEnd")})(),ut("onMouseEnter",["mouseout","mouseover"]),ut("onMouseLeave",["mouseout","mouseover"]),ut("onPointerEnter",["pointerout","pointerover"]),ut("onPointerLeave",["pointerout","pointerover"]),rt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rt("onBeforeInput",["compositionend","keypress","textInput","paste"]),rt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var np="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),E_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(np)),pb="_reactListening"+Math.random().toString(36).slice(2),dD=!1,hD=!1,mb=!1,pD=!1,gb=!1,bb=!1,mD=!1,xb={},Kz=/\r\n?/g,Zz=/\u0000|\uFFFD/g,Ac="http://www.w3.org/1999/xlink",T_="http://www.w3.org/XML/1998/namespace",Qz="javascript:throw new Error('React form unexpectedly submitted.')",Gz="suppressHydrationWarning",yb="$",vb="/$",fa="$?",rp="$!",Jz=1,e8=2,t8=4,A_="F!",gD="F",bD="complete",n8="style",da=0,xf=1,wb=2,C_=null,R_=null,xD={dialog:!0,webview:!0},k_=null,yD=typeof setTimeout=="function"?setTimeout:void 0,r8=typeof clearTimeout=="function"?clearTimeout:void 0,Cc=-1,vD=typeof Promise=="function"?Promise:void 0,s8=typeof queueMicrotask=="function"?queueMicrotask:typeof vD<"u"?function(i){return vD.resolve(null).then(i).catch($L)}:yD,D_=null,Rc=0,sp=1,wD=2,_D=3,Ni=4,Si=new Map,ND=new Set,ha=Sn.d;Sn.d={f:function(){var i=ha.f(),a=Ru();return i||a},r:function(i){var a=jr(i);a!==null&&a.tag===5&&a.type==="form"?eA(a):ha.r(i)},D:function(i){ha.D(i),$C("dns-prefetch",i,null)},C:function(i,a){ha.C(i,a),$C("preconnect",i,a)},L:function(i,a,u){ha.L(i,a,u);var d=yf;if(d&&i&&a){var g='link[rel="preload"][as="'+ft(a)+'"]';a==="image"&&u&&u.imageSrcSet?(g+='[imagesrcset="'+ft(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(g+='[imagesizes="'+ft(u.imageSizes)+'"]')):g+='[href="'+ft(i)+'"]';var v=g;switch(a){case"style":v=ju(i);break;case"script":v=Mu(i)}Si.has(v)||(i=rn({rel:"preload",href:a==="image"&&u&&u.imageSrcSet?void 0:i,as:a},u),Si.set(v,i),d.querySelector(g)!==null||a==="style"&&d.querySelector(bh(v))||a==="script"&&d.querySelector(xh(v))||(a=d.createElement("link"),Kr(a,"link",i),Ee(a),d.head.appendChild(a)))}},m:function(i,a){ha.m(i,a);var u=yf;if(u&&i){var d=a&&typeof a.as=="string"?a.as:"script",g='link[rel="modulepreload"][as="'+ft(d)+'"][href="'+ft(i)+'"]',v=g;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Mu(i)}if(!Si.has(v)&&(i=rn({rel:"modulepreload",href:i},a),Si.set(v,i),u.querySelector(g)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(xh(v)))return}d=u.createElement("link"),Kr(d,"link",i),Ee(d),u.head.appendChild(d)}}},X:function(i,a){ha.X(i,a);var u=yf;if(u&&i){var d=$(u).hoistableScripts,g=Mu(i),v=d.get(g);v||(v=u.querySelector(xh(g)),v||(i=rn({src:i,async:!0},a),(a=Si.get(g))&&sw(i,a),v=u.createElement("script"),Ee(v),Kr(v,"link",i),u.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},d.set(g,v))}},S:function(i,a,u){ha.S(i,a,u);var d=yf;if(d&&i){var g=$(d).hoistableStyles,v=ju(i);a=a||"default";var R=g.get(v);if(!R){var I={loading:Rc,preload:null};if(R=d.querySelector(bh(v)))I.loading=sp|Ni;else{i=rn({rel:"stylesheet",href:i,"data-precedence":a},u),(u=Si.get(v))&&rw(i,u);var q=R=d.createElement("link");Ee(q),Kr(q,"link",i),q._p=new Promise(function(re,Oe){q.onload=re,q.onerror=Oe}),q.addEventListener("load",function(){I.loading|=sp}),q.addEventListener("error",function(){I.loading|=wD}),I.loading|=Ni,Rg(R,a,d)}R={type:"stylesheet",instance:R,count:1,state:I},g.set(v,R)}}},M:function(i,a){ha.M(i,a);var u=yf;if(u&&i){var d=$(u).hoistableScripts,g=Mu(i),v=d.get(g);v||(v=u.querySelector(xh(g)),v||(i=rn({src:i,async:!0,type:"module"},a),(a=Si.get(g))&&sw(i,a),v=u.createElement("script"),Ee(v),Kr(v,"link",i),u.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},d.set(g,v))}}};var yf=typeof document>"u"?null:document,_b=null,ip=null,P_=null,Nb=null,kc=N5,op={$$typeof:po,Provider:null,Consumer:null,_currentValue:kc,_currentValue2:kc,_threadCount:0},SD="%c%s%c ",ED="background: #e6e6e6;background: light-dark(rgba(0,0,0,0.1), rgba(255,255,255,0.25));color: #000000;color: light-dark(#000000, #ffffff);border-radius: 2px",TD="",Sb=" ",i8=Function.prototype.bind,AD=!1,CD=null,RD=null,kD=null,DD=null,PD=null,jD=null,MD=null,ID=null,OD=null;CD=function(i,a,u,d){a=t(i,a),a!==null&&(u=e(a.memoizedState,u,0,d),a.memoizedState=u,a.baseState=u,i.memoizedProps=rn({},i.memoizedProps),u=Is(i,2),u!==null&&vr(u,i,2))},RD=function(i,a,u){a=t(i,a),a!==null&&(u=s(a.memoizedState,u,0),a.memoizedState=u,a.baseState=u,i.memoizedProps=rn({},i.memoizedProps),u=Is(i,2),u!==null&&vr(u,i,2))},kD=function(i,a,u,d){a=t(i,a),a!==null&&(u=n(a.memoizedState,u,d),a.memoizedState=u,a.baseState=u,i.memoizedProps=rn({},i.memoizedProps),u=Is(i,2),u!==null&&vr(u,i,2))},DD=function(i,a,u){i.pendingProps=e(i.memoizedProps,a,0,u),i.alternate&&(i.alternate.pendingProps=i.pendingProps),a=Is(i,2),a!==null&&vr(a,i,2)},PD=function(i,a){i.pendingProps=s(i.memoizedProps,a,0),i.alternate&&(i.alternate.pendingProps=i.pendingProps),a=Is(i,2),a!==null&&vr(a,i,2)},jD=function(i,a,u){i.pendingProps=n(i.memoizedProps,a,u),i.alternate&&(i.alternate.pendingProps=i.pendingProps),a=Is(i,2),a!==null&&vr(a,i,2)},MD=function(i){var a=Is(i,2);a!==null&&vr(a,i,2)},ID=function(i){l=i},OD=function(i){o=i};var Eb=!0,Tb=null,j_=!1,nl=null,rl=null,sl=null,ap=new Map,lp=new Map,il=[],o8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" "),Ab=null;if(jg.prototype.render=fw.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error("Cannot update an unmounted root.");var u=arguments;typeof u[1]=="function"?console.error("does not support the second callback argument. To execute a side effect after rendering, declare it in a component body with useEffect()."):C(u[1])?console.error("You passed a container to the second argument of root.render(...). You don't need to pass it again since you already passed it to create the root."):typeof u[1]<"u"&&console.error("You passed a second argument to root.render(...) but it only accepts one argument."),u=i;var d=a.current,g=Zs(d);ow(d,g,u,a,null,null)},jg.prototype.unmount=fw.prototype.unmount=function(){var i=arguments;if(typeof i[0]=="function"&&console.error("does not support a callback argument. To execute a side effect after rendering, declare it in a component body with useEffect()."),i=this._internalRoot,i!==null){this._internalRoot=null;var a=i.containerInfo;(En&(Ns|$i))!==Js&&console.error("Attempted to synchronously unmount a root while React was already rendering. React cannot finish unmounting the root until the current render has completed, which may lead to a race condition."),ow(i.current,2,null,i,null,null),Ru(),a[Ha]=null}},jg.prototype.unstable_scheduleHydration=function(i){if(i){var a=ur();i={blockedOn:null,target:i,priority:a};for(var u=0;u<il.length&&a!==0&&a<il[u].priority;u++);il.splice(u,0,i),u===0&&nR(i)}},function(){var i=dw.version;if(i!=="19.1.0")throw Error(`Incompatible React versions: The "react" and "react-dom" packages must have the exact same version. Instead got:
  - react:      `+(i+`
  - react-dom:  19.1.0
Learn more: https://react.dev/warnings/version-mismatch`))}(),typeof Map=="function"&&Map.prototype!=null&&typeof Map.prototype.forEach=="function"&&typeof Set=="function"&&Set.prototype!=null&&typeof Set.prototype.clear=="function"&&typeof Set.prototype.forEach=="function"||console.error("React depends on Map and Set built-in types. Make sure that you load a polyfill in older browsers. https://react.dev/link/react-polyfills"),Sn.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error("Unable to find node on an unmounted component."):(i=Object.keys(i).join(","),Error("Argument appears to not be a ReactComponent. Keys: "+i));return i=U(a),i=i!==null?L(i):null,i=i===null?null:i.stateNode,i},!function(){var i={bundleType:1,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Be,reconcilerVersion:"19.1.0"};return i.overrideHookState=CD,i.overrideHookStateDeletePath=RD,i.overrideHookStateRenamePath=kD,i.overrideProps=DD,i.overridePropsDeletePath=PD,i.overridePropsRenamePath=jD,i.scheduleUpdate=MD,i.setErrorHandler=ID,i.setSuspenseHandler=OD,i.scheduleRefresh=E,i.scheduleRoot=w,i.setRefreshHandler=T,i.getCurrentFiber=d5,i.getLaneLabelMap=h5,i.injectProfilingHooks=he,Z(i)}()&&yo&&window.top===window.self&&(-1<navigator.userAgent.indexOf("Chrome")&&navigator.userAgent.indexOf("Edge")===-1||-1<navigator.userAgent.indexOf("Firefox"))){var UD=window.location.protocol;/^(https?|file):$/.test(UD)&&console.info("%cDownload the React DevTools for a better development experience: https://react.dev/link/react-devtools"+(UD==="file:"?`
You might need to use a local HTTP server (instead of file://): https://react.dev/link/react-devtools-faq`:""),"font-weight:bold")}cp.createRoot=function(i,a){if(!C(i))throw Error("Target container is not a DOM element.");iR(i);var u=!1,d="",g=uA,v=fA,R=dA,I=null;return a!=null&&(a.hydrate?console.warn("hydrate through createRoot is deprecated. Use ReactDOMClient.hydrateRoot(container, <App />) instead."):typeof a=="object"&&a!==null&&a.$$typeof===Ba&&console.error(`You passed a JSX element to createRoot. You probably meant to call root.render instead. Example usage:

  let root = createRoot(domContainer);
  root.render(<App />);`),a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(R=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks)),a=ZC(i,1,!1,null,null,u,d,g,v,R,I,null),i[Ha]=a.current,X0(i),new fw(a)},cp.hydrateRoot=function(i,a,u){if(!C(i))throw Error("Target container is not a DOM element.");iR(i),a===void 0&&console.error("Must provide initial children as second argument to hydrateRoot. Example usage: hydrateRoot(domContainer, <App />)");var d=!1,g="",v=uA,R=fA,I=dA,q=null,re=null;return u!=null&&(u.unstable_strictMode===!0&&(d=!0),u.identifierPrefix!==void 0&&(g=u.identifierPrefix),u.onUncaughtError!==void 0&&(v=u.onUncaughtError),u.onCaughtError!==void 0&&(R=u.onCaughtError),u.onRecoverableError!==void 0&&(I=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(q=u.unstable_transitionCallbacks),u.formState!==void 0&&(re=u.formState)),a=ZC(i,1,!0,a,u??null,d,g,v,R,I,q,re),a.context=QC(null),u=a.current,d=Zs(u),d=$e(d),g=Pa(d),g.callback=null,ja(u,g,d),u=d,a.current.lanes=u,Wr(a,u),fo(a),i[Ha]=a.current,X0(i),new jg(a)},cp.version="19.1.0",typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())}(),cp}var KD;function x8(){return KD||(KD=1,U_.exports=b8()),U_.exports}var y8=x8(),Rd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},eu=typeof window>"u"||"Deno"in globalThis;function Cs(){}function v8(t,e){return typeof t=="function"?t(e):t}function vN(t){return typeof t=="number"&&t>=0&&t!==1/0}function NI(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Il(t,e){return typeof t=="function"?t(e):t}function Zi(t,e){return typeof t=="function"?t(e):t}function ZD(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:o,queryKey:l,stale:c}=t;if(l){if(r){if(e.queryHash!==cE(l,e.options))return!1}else if(!Yp(e.queryKey,l))return!1}if(n!=="all"){const f=e.isActive();if(n==="active"&&!f||n==="inactive"&&f)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||s&&s!==e.state.fetchStatus||o&&!o(e))}function QD(t,e){const{exact:n,status:r,predicate:s,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(n){if(tu(e.options.mutationKey)!==tu(o))return!1}else if(!Yp(e.options.mutationKey,o))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function cE(t,e){return((e==null?void 0:e.queryKeyHashFn)||tu)(t)}function tu(t){return JSON.stringify(t,(e,n)=>_N(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Yp(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Yp(t[n],e[n])):!1}function wN(t,e){if(t===e)return t;const n=GD(t)&&GD(e);if(n||_N(t)&&_N(e)){const r=n?t:Object.keys(t),s=r.length,o=n?e:Object.keys(e),l=o.length,c=n?[]:{},f=new Set(r);let h=0;for(let p=0;p<l;p++){const m=n?p:o[p];(!n&&f.has(m)||n)&&t[m]===void 0&&e[m]===void 0?(c[m]=void 0,h++):(c[m]=wN(t[m],e[m]),c[m]===t[m]&&t[m]!==void 0&&h++)}return s===l&&h===s?t:c}return e}function Tx(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function GD(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function _N(t){if(!JD(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!JD(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function JD(t){return Object.prototype.toString.call(t)==="[object Object]"}function w8(t){return new Promise(e=>{setTimeout(e,t)})}function NN(t,e,n){if(typeof n.structuralSharing=="function")return n.structuralSharing(t,e);if(n.structuralSharing!==!1){try{return wN(t,e)}catch(r){throw console.error(`Structural sharing requires data to be JSON serializable. To fix this, turn off structuralSharing or return JSON-serializable data from your queryFn. [${n.queryHash}]: ${r}`),r}return wN(t,e)}return e}function _8(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function N8(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Ax=Symbol();function SI(t,e){return t.queryFn===Ax&&console.error(`Attempted to invoke queryFn when set to skipToken. This is likely a configuration error. Query hash: '${t.queryHash}'`),!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Ax?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function EI(t,e){return typeof t=="function"?t(...e):!!t}var Bc,_l,td,uI,S8=(uI=class extends Rd{constructor(){super();Rt(this,Bc);Rt(this,_l);Rt(this,td);yt(this,td,e=>{if(!eu&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){be(this,_l)||this.setEventListener(be(this,td))}onUnsubscribe(){var e;this.hasListeners()||((e=be(this,_l))==null||e.call(this),yt(this,_l,void 0))}setEventListener(e){var n;yt(this,td,e),(n=be(this,_l))==null||n.call(this),yt(this,_l,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){be(this,Bc)!==e&&(yt(this,Bc,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof be(this,Bc)=="boolean"?be(this,Bc):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Bc=new WeakMap,_l=new WeakMap,td=new WeakMap,uI),uE=new S8,nd,Nl,rd,fI,E8=(fI=class extends Rd{constructor(){super();Rt(this,nd,!0);Rt(this,Nl);Rt(this,rd);yt(this,rd,e=>{if(!eu&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){be(this,Nl)||this.setEventListener(be(this,rd))}onUnsubscribe(){var e;this.hasListeners()||((e=be(this,Nl))==null||e.call(this),yt(this,Nl,void 0))}setEventListener(e){var n;yt(this,rd,e),(n=be(this,Nl))==null||n.call(this),yt(this,Nl,e(this.setOnline.bind(this)))}setOnline(e){be(this,nd)!==e&&(yt(this,nd,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return be(this,nd)}},nd=new WeakMap,Nl=new WeakMap,rd=new WeakMap,fI),Cx=new E8;function SN(){let t,e;const n=new Promise((s,o)=>{t=s,e=o});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function T8(t){return Math.min(1e3*2**t,3e4)}function TI(t){return(t??"online")==="online"?Cx.isOnline():!0}var AI=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function L_(t){return t instanceof AI}function CI(t){let e=!1,n=0,r=!1,s;const o=SN(),l=T=>{var C;r||(x(new AI(T)),(C=t.abort)==null||C.call(t))},c=()=>{e=!0},f=()=>{e=!1},h=()=>uE.isFocused()&&(t.networkMode==="always"||Cx.isOnline())&&t.canRun(),p=()=>TI(t.networkMode)&&t.canRun(),m=T=>{var C;r||(r=!0,(C=t.onSuccess)==null||C.call(t,T),s==null||s(),o.resolve(T))},x=T=>{var C;r||(r=!0,(C=t.onError)==null||C.call(t,T),s==null||s(),o.reject(T))},w=()=>new Promise(T=>{var C;s=P=>{(r||h())&&T(P)},(C=t.onPause)==null||C.call(t)}).then(()=>{var T;s=void 0,r||(T=t.onContinue)==null||T.call(t)}),E=()=>{if(r)return;let T;const C=n===0?t.initialPromise:void 0;try{T=C??t.fn()}catch(P){T=Promise.reject(P)}Promise.resolve(T).then(m).catch(P=>{var O;if(r)return;const j=t.retry??(eu?0:3),D=t.retryDelay??T8,U=typeof D=="function"?D(n,P):D,L=j===!0||typeof j=="number"&&n<j||typeof j=="function"&&j(n,P);if(e||!L){x(P);return}n++,(O=t.onFail)==null||O.call(t,n,P),w8(U).then(()=>h()?void 0:w()).then(()=>{e?x(P):E()})})};return{promise:o,cancel:l,continue:()=>(s==null||s(),o),cancelRetry:c,continueRetry:f,canStart:p,start:()=>(p()?E():w().then(E),o)}}var A8=t=>setTimeout(t,0);function C8(){let t=[],e=0,n=c=>{c()},r=c=>{c()},s=A8;const o=c=>{e?t.push(c):s(()=>{n(c)})},l=()=>{const c=t;t=[],c.length&&s(()=>{r(()=>{c.forEach(f=>{n(f)})})})};return{batch:c=>{let f;e++;try{f=c()}finally{e--,e||l()}return f},batchCalls:c=>(...f)=>{o(()=>{c(...f)})},schedule:o,setNotifyFunction:c=>{n=c},setBatchNotifyFunction:c=>{r=c},setScheduler:c=>{s=c}}}var Br=C8(),Lc,dI,RI=(dI=class{constructor(){Rt(this,Lc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),vN(this.gcTime)&&yt(this,Lc,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(eu?1/0:5*60*1e3))}clearGcTimeout(){be(this,Lc)&&(clearTimeout(be(this,Lc)),yt(this,Lc,void 0))}},Lc=new WeakMap,dI),sd,id,Ei,zc,us,cm,$c,Yi,ga,hI,R8=(hI=class extends RI{constructor(e){super();Rt(this,Yi);Rt(this,sd);Rt(this,id);Rt(this,Ei);Rt(this,zc);Rt(this,us);Rt(this,cm);Rt(this,$c);yt(this,$c,!1),yt(this,cm,e.defaultOptions),this.setOptions(e.options),this.observers=[],yt(this,zc,e.client),yt(this,Ei,be(this,zc).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,yt(this,sd,k8(this.options)),this.state=e.state??be(this,sd),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=be(this,us))==null?void 0:e.promise}setOptions(e){this.options={...be(this,cm),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&be(this,Ei).remove(this)}setData(e,n){const r=NN(this.state.data,e,this.options);return Jt(this,Yi,ga).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){Jt(this,Yi,ga).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,s;const n=(r=be(this,us))==null?void 0:r.promise;return(s=be(this,us))==null||s.cancel(e),n?n.then(Cs).catch(Cs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(be(this,sd))}isActive(){return this.observers.some(e=>Zi(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Ax||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Il(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!NI(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=be(this,us))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=be(this,us))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),be(this,Ei).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(be(this,us)&&(be(this,$c)?be(this,us).cancel({revert:!0}):be(this,us).cancelRetry()),this.scheduleGc()),be(this,Ei).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Jt(this,Yi,ga).call(this,{type:"invalidate"})}fetch(e,n){var h,p,m;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(be(this,us))return be(this,us).continueRetry(),be(this,us).promise}if(e&&this.setOptions(e),!this.options.queryFn){const x=this.observers.find(w=>w.options.queryFn);x&&this.setOptions(x.options)}Array.isArray(this.options.queryKey)||console.error("As of v4, queryKey needs to be an Array. If you are using a string like 'repoData', please change it to an Array, e.g. ['repoData']");const r=new AbortController,s=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(yt(this,$c,!0),r.signal)})},o=()=>{const x=SI(this.options,n),E=(()=>{const T={client:be(this,zc),queryKey:this.queryKey,meta:this.meta};return s(T),T})();return yt(this,$c,!1),this.options.persister?this.options.persister(x,E,this):x(E)},c=(()=>{const x={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:be(this,zc),state:this.state,fetchFn:o};return s(x),x})();(h=this.options.behavior)==null||h.onFetch(c,this),yt(this,id,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((p=c.fetchOptions)==null?void 0:p.meta))&&Jt(this,Yi,ga).call(this,{type:"fetch",meta:(m=c.fetchOptions)==null?void 0:m.meta});const f=x=>{var w,E,T,C;L_(x)&&x.silent||Jt(this,Yi,ga).call(this,{type:"error",error:x}),L_(x)||((E=(w=be(this,Ei).config).onError)==null||E.call(w,x,this),(C=(T=be(this,Ei).config).onSettled)==null||C.call(T,this.state.data,x,this)),this.scheduleGc()};return yt(this,us,CI({initialPromise:n==null?void 0:n.initialPromise,fn:c.fetchFn,abort:r.abort.bind(r),onSuccess:x=>{var w,E,T,C;if(x===void 0){console.error(`Query data cannot be undefined. Please make sure to return a value other than undefined from your query function. Affected query key: ${this.queryHash}`),f(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(x)}catch(P){f(P);return}(E=(w=be(this,Ei).config).onSuccess)==null||E.call(w,x,this),(C=(T=be(this,Ei).config).onSettled)==null||C.call(T,x,this.state.error,this),this.scheduleGc()},onError:f,onFail:(x,w)=>{Jt(this,Yi,ga).call(this,{type:"failed",failureCount:x,error:w})},onPause:()=>{Jt(this,Yi,ga).call(this,{type:"pause"})},onContinue:()=>{Jt(this,Yi,ga).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0})),be(this,us).start()}},sd=new WeakMap,id=new WeakMap,Ei=new WeakMap,zc=new WeakMap,us=new WeakMap,cm=new WeakMap,$c=new WeakMap,Yi=new WeakSet,ga=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...kI(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return L_(s)&&s.revert&&be(this,id)?{...be(this,id),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),Br.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),be(this,Ei).notify({query:this,type:"updated",action:e})})},hI);function kI(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:TI(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function k8(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Ro,pI,D8=(pI=class extends Rd{constructor(e={}){super();Rt(this,Ro);this.config=e,yt(this,Ro,new Map)}build(e,n,r){const s=n.queryKey,o=n.queryHash??cE(s,n);let l=this.get(o);return l||(l=new R8({client:e,queryKey:s,queryHash:o,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(l)),l}add(e){be(this,Ro).has(e.queryHash)||(be(this,Ro).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=be(this,Ro).get(e.queryHash);n&&(e.destroy(),n===e&&be(this,Ro).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Br.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return be(this,Ro).get(e)}getAll(){return[...be(this,Ro).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>ZD(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>ZD(e,r)):n}notify(e){Br.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Br.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Br.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ro=new WeakMap,pI),ko,Ts,Hc,Do,pl,mI,P8=(mI=class extends RI{constructor(e){super();Rt(this,Do);Rt(this,ko);Rt(this,Ts);Rt(this,Hc);this.mutationId=e.mutationId,yt(this,Ts,e.mutationCache),yt(this,ko,[]),this.state=e.state||DI(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){be(this,ko).includes(e)||(be(this,ko).push(e),this.clearGcTimeout(),be(this,Ts).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){yt(this,ko,be(this,ko).filter(n=>n!==e)),this.scheduleGc(),be(this,Ts).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){be(this,ko).length||(this.state.status==="pending"?this.scheduleGc():be(this,Ts).remove(this))}continue(){var e;return((e=be(this,Hc))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var o,l,c,f,h,p,m,x,w,E,T,C,P,j,D,U,L,O,Y,ne;const n=()=>{Jt(this,Do,pl).call(this,{type:"continue"})};yt(this,Hc,CI({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(Q,K)=>{Jt(this,Do,pl).call(this,{type:"failed",failureCount:Q,error:K})},onPause:()=>{Jt(this,Do,pl).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>be(this,Ts).canRun(this)}));const r=this.state.status==="pending",s=!be(this,Hc).canStart();try{if(r)n();else{Jt(this,Do,pl).call(this,{type:"pending",variables:e,isPaused:s}),await((l=(o=be(this,Ts).config).onMutate)==null?void 0:l.call(o,e,this));const K=await((f=(c=this.options).onMutate)==null?void 0:f.call(c,e));K!==this.state.context&&Jt(this,Do,pl).call(this,{type:"pending",context:K,variables:e,isPaused:s})}const Q=await be(this,Hc).start();return await((p=(h=be(this,Ts).config).onSuccess)==null?void 0:p.call(h,Q,e,this.state.context,this)),await((x=(m=this.options).onSuccess)==null?void 0:x.call(m,Q,e,this.state.context)),await((E=(w=be(this,Ts).config).onSettled)==null?void 0:E.call(w,Q,null,this.state.variables,this.state.context,this)),await((C=(T=this.options).onSettled)==null?void 0:C.call(T,Q,null,e,this.state.context)),Jt(this,Do,pl).call(this,{type:"success",data:Q}),Q}catch(Q){try{throw await((j=(P=be(this,Ts).config).onError)==null?void 0:j.call(P,Q,e,this.state.context,this)),await((U=(D=this.options).onError)==null?void 0:U.call(D,Q,e,this.state.context)),await((O=(L=be(this,Ts).config).onSettled)==null?void 0:O.call(L,void 0,Q,this.state.variables,this.state.context,this)),await((ne=(Y=this.options).onSettled)==null?void 0:ne.call(Y,void 0,Q,e,this.state.context)),Q}finally{Jt(this,Do,pl).call(this,{type:"error",error:Q})}}finally{be(this,Ts).runNext(this)}}},ko=new WeakMap,Ts=new WeakMap,Hc=new WeakMap,Do=new WeakSet,pl=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Br.batch(()=>{be(this,ko).forEach(r=>{r.onMutationUpdate(e)}),be(this,Ts).notify({mutation:this,type:"updated",action:e})})},mI);function DI(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var va,Ki,um,gI,j8=(gI=class extends Rd{constructor(e={}){super();Rt(this,va);Rt(this,Ki);Rt(this,um);this.config=e,yt(this,va,new Set),yt(this,Ki,new Map),yt(this,um,0)}build(e,n,r){const s=new P8({mutationCache:this,mutationId:++Cb(this,um)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){be(this,va).add(e);const n=kb(e);if(typeof n=="string"){const r=be(this,Ki).get(n);r?r.push(e):be(this,Ki).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(be(this,va).delete(e)){const n=kb(e);if(typeof n=="string"){const r=be(this,Ki).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&be(this,Ki).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=kb(e);if(typeof n=="string"){const r=be(this,Ki).get(n),s=r==null?void 0:r.find(o=>o.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=kb(e);if(typeof n=="string"){const s=(r=be(this,Ki).get(n))==null?void 0:r.find(o=>o!==e&&o.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Br.batch(()=>{be(this,va).forEach(e=>{this.notify({type:"removed",mutation:e})}),be(this,va).clear(),be(this,Ki).clear()})}getAll(){return Array.from(be(this,va))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>QD(n,r))}findAll(e={}){return this.getAll().filter(n=>QD(e,n))}notify(e){Br.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Br.batch(()=>Promise.all(e.map(n=>n.continue().catch(Cs))))}},va=new WeakMap,Ki=new WeakMap,um=new WeakMap,gI);function kb(t){var e;return(e=t.options.scope)==null?void 0:e.id}function eP(t){return{onFetch:(e,n)=>{var p,m,x,w,E;const r=e.options,s=(x=(m=(p=e.fetchOptions)==null?void 0:p.meta)==null?void 0:m.fetchMore)==null?void 0:x.direction,o=((w=e.state.data)==null?void 0:w.pages)||[],l=((E=e.state.data)==null?void 0:E.pageParams)||[];let c={pages:[],pageParams:[]},f=0;const h=async()=>{let T=!1;const C=D=>{Object.defineProperty(D,"signal",{enumerable:!0,get:()=>(e.signal.aborted?T=!0:e.signal.addEventListener("abort",()=>{T=!0}),e.signal)})},P=SI(e.options,e.fetchOptions),j=async(D,U,L)=>{if(T)return Promise.reject();if(U==null&&D.pages.length)return Promise.resolve(D);const Y=(()=>{const G={client:e.client,queryKey:e.queryKey,pageParam:U,direction:L?"backward":"forward",meta:e.options.meta};return C(G),G})(),ne=await P(Y),{maxPages:Q}=e.options,K=L?N8:_8;return{pages:K(D.pages,ne,Q),pageParams:K(D.pageParams,U,Q)}};if(s&&o.length){const D=s==="backward",U=D?M8:tP,L={pages:o,pageParams:l},O=U(r,L);c=await j(L,O,D)}else{const D=t??o.length;do{const U=f===0?l[0]??r.initialPageParam:tP(r,c);if(f>0&&U==null)break;c=await j(c,U),f++}while(f<D)}return c};e.options.persister?e.fetchFn=()=>{var T,C;return(C=(T=e.options).persister)==null?void 0:C.call(T,h,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=h}}}function tP(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function M8(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var pr,Sl,El,od,ad,Tl,ld,cd,bI,PI=(bI=class{constructor(t={}){Rt(this,pr);Rt(this,Sl);Rt(this,El);Rt(this,od);Rt(this,ad);Rt(this,Tl);Rt(this,ld);Rt(this,cd);yt(this,pr,t.queryCache||new D8),yt(this,Sl,t.mutationCache||new j8),yt(this,El,t.defaultOptions||{}),yt(this,od,new Map),yt(this,ad,new Map),yt(this,Tl,0)}mount(){Cb(this,Tl)._++,be(this,Tl)===1&&(yt(this,ld,uE.subscribe(async t=>{t&&(await this.resumePausedMutations(),be(this,pr).onFocus())})),yt(this,cd,Cx.subscribe(async t=>{t&&(await this.resumePausedMutations(),be(this,pr).onOnline())})))}unmount(){var t,e;Cb(this,Tl)._--,be(this,Tl)===0&&((t=be(this,ld))==null||t.call(this),yt(this,ld,void 0),(e=be(this,cd))==null||e.call(this),yt(this,cd,void 0))}isFetching(t){return be(this,pr).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return be(this,Sl).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=be(this,pr).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=be(this,pr).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Il(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return be(this,pr).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=be(this,pr).get(r.queryHash),o=s==null?void 0:s.state.data,l=v8(e,o);if(l!==void 0)return be(this,pr).build(this,r).setData(l,{...n,manual:!0})}setQueriesData(t,e,n){return Br.batch(()=>be(this,pr).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=be(this,pr).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=be(this,pr);Br.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=be(this,pr);return Br.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Br.batch(()=>be(this,pr).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Cs).catch(Cs)}invalidateQueries(t,e={}){return Br.batch(()=>(be(this,pr).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Br.batch(()=>be(this,pr).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let o=s.fetch(void 0,n);return n.throwOnError||(o=o.catch(Cs)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(Cs)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=be(this,pr).build(this,e);return n.isStaleByTime(Il(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Cs).catch(Cs)}fetchInfiniteQuery(t){return t.behavior=eP(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Cs).catch(Cs)}ensureInfiniteQueryData(t){return t.behavior=eP(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Cx.isOnline()?be(this,Sl).resumePausedMutations():Promise.resolve()}getQueryCache(){return be(this,pr)}getMutationCache(){return be(this,Sl)}getDefaultOptions(){return be(this,El)}setDefaultOptions(t){yt(this,El,t)}setQueryDefaults(t,e){be(this,od).set(tu(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...be(this,od).values()],n={};return e.forEach(r=>{Yp(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){be(this,ad).set(tu(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...be(this,ad).values()],n={};return e.forEach(r=>{Yp(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...be(this,El).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=cE(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Ax&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...be(this,El).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){be(this,pr).clear(),be(this,Sl).clear()}},pr=new WeakMap,Sl=new WeakMap,El=new WeakMap,od=new WeakMap,ad=new WeakMap,Tl=new WeakMap,ld=new WeakMap,cd=new WeakMap,bI),$s,bn,fm,As,Wc,ud,Al,Cl,dm,fd,dd,qc,Xc,Rl,hd,Pn,Np,EN,TN,AN,CN,RN,kN,DN,jI,xI,I8=(xI=class extends Rd{constructor(e,n){super();Rt(this,Pn);Rt(this,$s);Rt(this,bn);Rt(this,fm);Rt(this,As);Rt(this,Wc);Rt(this,ud);Rt(this,Al);Rt(this,Cl);Rt(this,dm);Rt(this,fd);Rt(this,dd);Rt(this,qc);Rt(this,Xc);Rt(this,Rl);Rt(this,hd,new Set);this.options=n,yt(this,$s,e),yt(this,Cl,null),yt(this,Al,SN()),this.options.experimental_prefetchInRender||be(this,Al).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(be(this,bn).addObserver(this),nP(be(this,bn),this.options)?Jt(this,Pn,Np).call(this):this.updateResult(),Jt(this,Pn,CN).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return PN(be(this,bn),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return PN(be(this,bn),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Jt(this,Pn,RN).call(this),Jt(this,Pn,kN).call(this),be(this,bn).removeObserver(this)}setOptions(e){const n=this.options,r=be(this,bn);if(this.options=be(this,$s).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Zi(this.options.enabled,be(this,bn))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Jt(this,Pn,DN).call(this),be(this,bn).setOptions(this.options),n._defaulted&&!Tx(this.options,n)&&be(this,$s).getQueryCache().notify({type:"observerOptionsUpdated",query:be(this,bn),observer:this});const s=this.hasListeners();s&&rP(be(this,bn),r,this.options,n)&&Jt(this,Pn,Np).call(this),this.updateResult(),s&&(be(this,bn)!==r||Zi(this.options.enabled,be(this,bn))!==Zi(n.enabled,be(this,bn))||Il(this.options.staleTime,be(this,bn))!==Il(n.staleTime,be(this,bn)))&&Jt(this,Pn,EN).call(this);const o=Jt(this,Pn,TN).call(this);s&&(be(this,bn)!==r||Zi(this.options.enabled,be(this,bn))!==Zi(n.enabled,be(this,bn))||o!==be(this,Rl))&&Jt(this,Pn,AN).call(this,o)}getOptimisticResult(e){const n=be(this,$s).getQueryCache().build(be(this,$s),e),r=this.createResult(n,e);return U8(this,r)&&(yt(this,As,r),yt(this,ud,this.options),yt(this,Wc,be(this,bn).state)),r}getCurrentResult(){return be(this,As)}trackResult(e,n){return new Proxy(e,{get:(r,s)=>(this.trackProp(s),n==null||n(s),Reflect.get(r,s))})}trackProp(e){be(this,hd).add(e)}getCurrentQuery(){return be(this,bn)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=be(this,$s).defaultQueryOptions(e),r=be(this,$s).getQueryCache().build(be(this,$s),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return Jt(this,Pn,Np).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),be(this,As)))}createResult(e,n){var Q;const r=be(this,bn),s=this.options,o=be(this,As),l=be(this,Wc),c=be(this,ud),h=e!==r?e.state:be(this,fm),{state:p}=e;let m={...p},x=!1,w;if(n._optimisticResults){const K=this.hasListeners(),G=!K&&nP(e,n),ue=K&&rP(e,r,n,s);(G||ue)&&(m={...m,...kI(p.data,e.options)}),n._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:E,errorUpdatedAt:T,status:C}=m;w=m.data;let P=!1;if(n.placeholderData!==void 0&&w===void 0&&C==="pending"){let K;o!=null&&o.isPlaceholderData&&n.placeholderData===(c==null?void 0:c.placeholderData)?(K=o.data,P=!0):K=typeof n.placeholderData=="function"?n.placeholderData((Q=be(this,dd))==null?void 0:Q.state.data,be(this,dd)):n.placeholderData,K!==void 0&&(C="success",w=NN(o==null?void 0:o.data,K,n),x=!0)}if(n.select&&w!==void 0&&!P)if(o&&w===(l==null?void 0:l.data)&&n.select===be(this,dm))w=be(this,fd);else try{yt(this,dm,n.select),w=n.select(w),w=NN(o==null?void 0:o.data,w,n),yt(this,fd,w),yt(this,Cl,null)}catch(K){yt(this,Cl,K)}be(this,Cl)&&(E=be(this,Cl),w=be(this,fd),T=Date.now(),C="error");const j=m.fetchStatus==="fetching",D=C==="pending",U=C==="error",L=D&&j,O=w!==void 0,ne={status:C,fetchStatus:m.fetchStatus,isPending:D,isSuccess:C==="success",isError:U,isInitialLoading:L,isLoading:L,data:w,dataUpdatedAt:m.dataUpdatedAt,error:E,errorUpdatedAt:T,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>h.dataUpdateCount||m.errorUpdateCount>h.errorUpdateCount,isFetching:j,isRefetching:j&&!D,isLoadingError:U&&!O,isPaused:m.fetchStatus==="paused",isPlaceholderData:x,isRefetchError:U&&O,isStale:fE(e,n),refetch:this.refetch,promise:be(this,Al)};if(this.options.experimental_prefetchInRender){const K=me=>{ne.status==="error"?me.reject(ne.error):ne.data!==void 0&&me.resolve(ne.data)},G=()=>{const me=yt(this,Al,ne.promise=SN());K(me)},ue=be(this,Al);switch(ue.status){case"pending":e.queryHash===r.queryHash&&K(ue);break;case"fulfilled":(ne.status==="error"||ne.data!==ue.value)&&G();break;case"rejected":(ne.status!=="error"||ne.error!==ue.reason)&&G();break}}return ne}updateResult(){const e=be(this,As),n=this.createResult(be(this,bn),this.options);if(yt(this,Wc,be(this,bn).state),yt(this,ud,this.options),be(this,Wc).data!==void 0&&yt(this,dd,be(this,bn)),Tx(n,e))return;yt(this,As,n);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,o=typeof s=="function"?s():s;if(o==="all"||!o&&!be(this,hd).size)return!0;const l=new Set(o??be(this,hd));return this.options.throwOnError&&l.add("error"),Object.keys(be(this,As)).some(c=>{const f=c;return be(this,As)[f]!==e[f]&&l.has(f)})};Jt(this,Pn,jI).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Jt(this,Pn,CN).call(this)}},$s=new WeakMap,bn=new WeakMap,fm=new WeakMap,As=new WeakMap,Wc=new WeakMap,ud=new WeakMap,Al=new WeakMap,Cl=new WeakMap,dm=new WeakMap,fd=new WeakMap,dd=new WeakMap,qc=new WeakMap,Xc=new WeakMap,Rl=new WeakMap,hd=new WeakMap,Pn=new WeakSet,Np=function(e){Jt(this,Pn,DN).call(this);let n=be(this,bn).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(Cs)),n},EN=function(){Jt(this,Pn,RN).call(this);const e=Il(this.options.staleTime,be(this,bn));if(eu||be(this,As).isStale||!vN(e))return;const r=NI(be(this,As).dataUpdatedAt,e)+1;yt(this,qc,setTimeout(()=>{be(this,As).isStale||this.updateResult()},r))},TN=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(be(this,bn)):this.options.refetchInterval)??!1},AN=function(e){Jt(this,Pn,kN).call(this),yt(this,Rl,e),!(eu||Zi(this.options.enabled,be(this,bn))===!1||!vN(be(this,Rl))||be(this,Rl)===0)&&yt(this,Xc,setInterval(()=>{(this.options.refetchIntervalInBackground||uE.isFocused())&&Jt(this,Pn,Np).call(this)},be(this,Rl)))},CN=function(){Jt(this,Pn,EN).call(this),Jt(this,Pn,AN).call(this,Jt(this,Pn,TN).call(this))},RN=function(){be(this,qc)&&(clearTimeout(be(this,qc)),yt(this,qc,void 0))},kN=function(){be(this,Xc)&&(clearInterval(be(this,Xc)),yt(this,Xc,void 0))},DN=function(){const e=be(this,$s).getQueryCache().build(be(this,$s),this.options);if(e===be(this,bn))return;const n=be(this,bn);yt(this,bn,e),yt(this,fm,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},jI=function(e){Br.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(be(this,As))}),be(this,$s).getQueryCache().notify({query:be(this,bn),type:"observerResultsUpdated"})})},xI);function O8(t,e){return Zi(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function nP(t,e){return O8(t,e)||t.state.data!==void 0&&PN(t,e,e.refetchOnMount)}function PN(t,e,n){if(Zi(e.enabled,t)!==!1&&Il(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&fE(t,e)}return!1}function rP(t,e,n,r){return(t!==e||Zi(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&fE(t,n)}function fE(t,e){return Zi(e.enabled,t)!==!1&&t.isStaleByTime(Il(e.staleTime,t))}function U8(t,e){return!Tx(t.getCurrentResult(),e)}var kl,Dl,Hs,wa,Ea,ux,jN,yI,V8=(yI=class extends Rd{constructor(n,r){super();Rt(this,Ea);Rt(this,kl);Rt(this,Dl);Rt(this,Hs);Rt(this,wa);yt(this,kl,n),this.setOptions(r),this.bindMethods(),Jt(this,Ea,ux).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=be(this,kl).defaultMutationOptions(n),Tx(this.options,r)||be(this,kl).getMutationCache().notify({type:"observerOptionsUpdated",mutation:be(this,Hs),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&tu(r.mutationKey)!==tu(this.options.mutationKey)?this.reset():((s=be(this,Hs))==null?void 0:s.state.status)==="pending"&&be(this,Hs).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=be(this,Hs))==null||n.removeObserver(this)}onMutationUpdate(n){Jt(this,Ea,ux).call(this),Jt(this,Ea,jN).call(this,n)}getCurrentResult(){return be(this,Dl)}reset(){var n;(n=be(this,Hs))==null||n.removeObserver(this),yt(this,Hs,void 0),Jt(this,Ea,ux).call(this),Jt(this,Ea,jN).call(this)}mutate(n,r){var s;return yt(this,wa,r),(s=be(this,Hs))==null||s.removeObserver(this),yt(this,Hs,be(this,kl).getMutationCache().build(be(this,kl),this.options)),be(this,Hs).addObserver(this),be(this,Hs).execute(n)}},kl=new WeakMap,Dl=new WeakMap,Hs=new WeakMap,wa=new WeakMap,Ea=new WeakSet,ux=function(){var r;const n=((r=be(this,Hs))==null?void 0:r.state)??DI();yt(this,Dl,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},jN=function(n){Br.batch(()=>{var r,s,o,l,c,f,h,p;if(be(this,wa)&&this.hasListeners()){const m=be(this,Dl).variables,x=be(this,Dl).context;(n==null?void 0:n.type)==="success"?((s=(r=be(this,wa)).onSuccess)==null||s.call(r,n.data,m,x),(l=(o=be(this,wa)).onSettled)==null||l.call(o,n.data,null,m,x)):(n==null?void 0:n.type)==="error"&&((f=(c=be(this,wa)).onError)==null||f.call(c,n.error,m,x),(p=(h=be(this,wa)).onSettled)==null||p.call(h,void 0,n.error,m,x))}this.listeners.forEach(m=>{m(be(this,Dl))})})},yI),z_={exports:{}},up={},sP;function F8(){if(sP)return up;sP=1;/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */return function(){function t(V){if(V==null)return null;if(typeof V=="function")return V.$$typeof===K?null:V.displayName||V.name||null;if(typeof V=="string")return V;switch(V){case T:return"Fragment";case P:return"Profiler";case C:return"StrictMode";case L:return"Suspense";case O:return"SuspenseList";case Q:return"Activity"}if(typeof V=="object")switch(typeof V.tag=="number"&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),V.$$typeof){case E:return"Portal";case D:return(V.displayName||"Context")+".Provider";case j:return(V._context.displayName||"Context")+".Consumer";case U:var fe=V.render;return V=V.displayName,V||(V=fe.displayName||fe.name||"",V=V!==""?"ForwardRef("+V+")":"ForwardRef"),V;case Y:return fe=V.displayName||null,fe!==null?fe:t(V.type)||"Memo";case ne:fe=V._payload,V=V._init;try{return t(V(fe))}catch{}}return null}function e(V){return""+V}function n(V){try{e(V);var fe=!1}catch{fe=!0}if(fe){fe=console;var se=fe.error,B=typeof Symbol=="function"&&Symbol.toStringTag&&V[Symbol.toStringTag]||V.constructor.name||"Object";return se.call(fe,"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",B),e(V)}}function r(V){if(V===T)return"<>";if(typeof V=="object"&&V!==null&&V.$$typeof===ne)return"<...>";try{var fe=t(V);return fe?"<"+fe+">":"<...>"}catch{return"<...>"}}function s(){var V=G.A;return V===null?null:V.getOwner()}function o(){return Error("react-stack-top-frame")}function l(V){if(ue.call(V,"key")){var fe=Object.getOwnPropertyDescriptor(V,"key").get;if(fe&&fe.isReactWarning)return!1}return V.key!==void 0}function c(V,fe){function se(){ye||(ye=!0,console.error("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)",fe))}se.isReactWarning=!0,Object.defineProperty(V,"key",{get:se,configurable:!0})}function f(){var V=t(this.type);return ge[V]||(ge[V]=!0,console.error("Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.")),V=this.props.ref,V!==void 0?V:null}function h(V,fe,se,B,ce,Z,xe,he){return se=Z.ref,V={$$typeof:w,type:V,key:fe,props:Z,_owner:ce},(se!==void 0?se:null)!==null?Object.defineProperty(V,"ref",{enumerable:!1,get:f}):Object.defineProperty(V,"ref",{enumerable:!1,value:null}),V._store={},Object.defineProperty(V._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:0}),Object.defineProperty(V,"_debugInfo",{configurable:!1,enumerable:!1,writable:!0,value:null}),Object.defineProperty(V,"_debugStack",{configurable:!1,enumerable:!1,writable:!0,value:xe}),Object.defineProperty(V,"_debugTask",{configurable:!1,enumerable:!1,writable:!0,value:he}),Object.freeze&&(Object.freeze(V.props),Object.freeze(V)),V}function p(V,fe,se,B,ce,Z,xe,he){var oe=fe.children;if(oe!==void 0)if(B)if(me(oe)){for(B=0;B<oe.length;B++)m(oe[B]);Object.freeze&&Object.freeze(oe)}else console.error("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else m(oe);if(ue.call(fe,"key")){oe=t(V);var De=Object.keys(fe).filter(function(Ye){return Ye!=="key"});B=0<De.length?"{key: someKey, "+De.join(": ..., ")+": ...}":"{key: someKey}",Ke[oe+B]||(De=0<De.length?"{"+De.join(": ..., ")+": ...}":"{}",console.error(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,B,oe,De,oe),Ke[oe+B]=!0)}if(oe=null,se!==void 0&&(n(se),oe=""+se),l(fe)&&(n(fe.key),oe=""+fe.key),"key"in fe){se={};for(var qe in fe)qe!=="key"&&(se[qe]=fe[qe])}else se=fe;return oe&&c(se,typeof V=="function"?V.displayName||V.name||"Unknown":V),h(V,oe,Z,ce,s(),se,xe,he)}function m(V){typeof V=="object"&&V!==null&&V.$$typeof===w&&V._store&&(V._store.validated=1)}var x=hm(),w=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),j=Symbol.for("react.consumer"),D=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),ne=Symbol.for("react.lazy"),Q=Symbol.for("react.activity"),K=Symbol.for("react.client.reference"),G=x.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=Object.prototype.hasOwnProperty,me=Array.isArray,le=console.createTask?console.createTask:function(){return null};x={"react-stack-bottom-frame":function(V){return V()}};var ye,ge={},Me=x["react-stack-bottom-frame"].bind(x,o)(),we=le(r(o)),Ke={};up.Fragment=T,up.jsx=function(V,fe,se,B,ce){var Z=1e4>G.recentlyCreatedOwnerStacks++;return p(V,fe,se,!1,B,ce,Z?Error("react-stack-top-frame"):Me,Z?le(r(V)):we)},up.jsxs=function(V,fe,se,B,ce){var Z=1e4>G.recentlyCreatedOwnerStacks++;return p(V,fe,se,!0,B,ce,Z?Error("react-stack-top-frame"):Me,Z?le(r(V)):we)}}(),up}var iP;function B8(){return iP||(iP=1,z_.exports=F8()),z_.exports}var je=B8(),MI=k.createContext(void 0),kd=t=>{const e=k.useContext(MI);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},II=({client:t,children:e})=>(k.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),je.jsx(MI.Provider,{value:t,children:e})),OI=k.createContext(!1),L8=()=>k.useContext(OI);OI.Provider;function z8(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var $8=k.createContext(z8()),H8=()=>k.useContext($8),W8=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},q8=t=>{k.useEffect(()=>{t.clearReset()},[t])},X8=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(s&&t.data===void 0||EI(n,[t.error,r])),Y8=t=>{if(t.suspense){const e=r=>r==="static"?r:Math.max(r??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...r)=>e(n(...r)):e(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},K8=(t,e)=>t.isLoading&&t.isFetching&&!e,Z8=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,oP=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function Q8(t,e,n){var m,x,w,E,T;if(typeof t!="object"||Array.isArray(t))throw new Error('Bad argument type. Starting with v5, only the "Object" form is allowed when calling query related functions. Please use the error stack to find the culprit call. More info here: https://tanstack.com/query/latest/docs/react/guides/migrating-to-v5#supports-a-single-signature-one-object');const r=L8(),s=H8(),o=kd(),l=o.defaultQueryOptions(t);(x=(m=o.getDefaultOptions().queries)==null?void 0:m._experimental_beforeQuery)==null||x.call(m,l),l.queryFn||console.error(`[${l.queryHash}]: No queryFn was passed as an option, and no default queryFn was found. The queryFn parameter is only optional when using a default queryFn. More info here: https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function`),l._optimisticResults=r?"isRestoring":"optimistic",Y8(l),W8(l,s),q8(s);const c=!o.getQueryCache().get(l.queryHash),[f]=k.useState(()=>new e(o,l)),h=f.getOptimisticResult(l),p=!r&&t.subscribed!==!1;if(k.useSyncExternalStore(k.useCallback(C=>{const P=p?f.subscribe(Br.batchCalls(C)):Cs;return f.updateResult(),P},[f,p]),()=>f.getCurrentResult(),()=>f.getCurrentResult()),k.useEffect(()=>{f.setOptions(l)},[l,f]),Z8(l,h))throw oP(l,f,s);if(X8({result:h,errorResetBoundary:s,throwOnError:l.throwOnError,query:o.getQueryCache().get(l.queryHash),suspense:l.suspense}))throw h.error;if((E=(w=o.getDefaultOptions().queries)==null?void 0:w._experimental_afterQuery)==null||E.call(w,l,h),l.experimental_prefetchInRender&&!eu&&K8(h,r)){const C=c?oP(l,f,s):(T=o.getQueryCache().get(l.queryHash))==null?void 0:T.promise;C==null||C.catch(Cs).finally(()=>{f.updateResult()})}return l.notifyOnChangeProps?h:f.trackResult(h)}function Pi(t,e){return Q8(t,I8)}function Rx(t,e){const n=kd(),[r]=k.useState(()=>new V8(n,t));k.useEffect(()=>{r.setOptions(t)},[r,t]);const s=k.useSyncExternalStore(k.useCallback(l=>r.subscribe(Br.batchCalls(l)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),o=k.useCallback((l,c)=>{r.mutate(l,c).catch(Cs)},[r]);if(s.error&&EI(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:o,mutateAsync:s.mutate}}var Dd=_I();const G8=bu(Dd);function Bt(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function aP(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function nu(...t){return e=>{let n=!1;const r=t.map(s=>{const o=aP(s,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():aP(t[s],null)}}}}function Zn(...t){return k.useCallback(nu(...t),t)}function J8(t,e){const n=k.createContext(e),r=o=>{const{children:l,...c}=o,f=k.useMemo(()=>c,Object.values(c));return je.jsx(n.Provider,{value:f,children:l})};r.displayName=t+"Provider";function s(o){const l=k.useContext(n);if(l)return l;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[r,s]}function Ra(t,e=[]){let n=[];function r(o,l){const c=k.createContext(l),f=n.length;n=[...n,l];const h=m=>{var P;const{scope:x,children:w,...E}=m,T=((P=x==null?void 0:x[t])==null?void 0:P[f])||c,C=k.useMemo(()=>E,Object.values(E));return je.jsx(T.Provider,{value:C,children:w})};h.displayName=o+"Provider";function p(m,x){var T;const w=((T=x==null?void 0:x[t])==null?void 0:T[f])||c,E=k.useContext(w);if(E)return E;if(l!==void 0)return l;throw new Error(`\`${m}\` must be used within \`${o}\``)}return[h,p]}const s=()=>{const o=n.map(l=>k.createContext(l));return function(c){const f=(c==null?void 0:c[t])||o;return k.useMemo(()=>({[`__scope${t}`]:{...c,[t]:f}}),[c,f])}};return s.scopeName=t,[r,e7(s,...e)]}function e7(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const l=r.reduce((c,{useScope:f,scopeName:h})=>{const m=f(o)[`__scope${h}`];return{...c,...m}},{});return k.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return n.scopeName=e.scopeName,n}function ru(t){const e=t7(t),n=k.forwardRef((r,s)=>{const{children:o,...l}=r,c=k.Children.toArray(o),f=c.find(r7);if(f){const h=f.props.children,p=c.map(m=>m===f?k.Children.count(h)>1?k.Children.only(null):k.isValidElement(h)?h.props.children:null:m);return je.jsx(e,{...l,ref:s,children:k.isValidElement(h)?k.cloneElement(h,void 0,p):null})}return je.jsx(e,{...l,ref:s,children:o})});return n.displayName=`${t}.Slot`,n}var UI=ru("Slot");function t7(t){const e=k.forwardRef((n,r)=>{const{children:s,...o}=n;if(k.isValidElement(s)){const l=i7(s),c=s7(o,s.props);return s.type!==k.Fragment&&(c.ref=r?nu(r,l):l),k.cloneElement(s,c)}return k.Children.count(s)>1?k.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var n7=Symbol("radix.slottable");function r7(t){return k.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===n7}function s7(t,e){const n={...e};for(const r in e){const s=t[r],o=e[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...c)=>{const f=o(...c);return s(...c),f}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...t,...n}}function i7(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function dE(t){const e=t+"CollectionProvider",[n,r]=Ra(e),[s,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),l=T=>{const{scope:C,children:P}=T,j=hl.useRef(null),D=hl.useRef(new Map).current;return je.jsx(s,{scope:C,itemMap:D,collectionRef:j,children:P})};l.displayName=e;const c=t+"CollectionSlot",f=ru(c),h=hl.forwardRef((T,C)=>{const{scope:P,children:j}=T,D=o(c,P),U=Zn(C,D.collectionRef);return je.jsx(f,{ref:U,children:j})});h.displayName=c;const p=t+"CollectionItemSlot",m="data-radix-collection-item",x=ru(p),w=hl.forwardRef((T,C)=>{const{scope:P,children:j,...D}=T,U=hl.useRef(null),L=Zn(C,U),O=o(p,P);return hl.useEffect(()=>(O.itemMap.set(U,{ref:U,...D}),()=>void O.itemMap.delete(U))),je.jsx(x,{[m]:"",ref:L,children:j})});w.displayName=p;function E(T){const C=o(t+"CollectionConsumer",T);return hl.useCallback(()=>{const j=C.collectionRef.current;if(!j)return[];const D=Array.from(j.querySelectorAll(`[${m}]`));return Array.from(C.itemMap.values()).sort((O,Y)=>D.indexOf(O.ref.current)-D.indexOf(Y.ref.current))},[C.collectionRef,C.itemMap])}return[{Provider:l,Slot:h,ItemSlot:w},E,r]}var o7=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],jt=o7.reduce((t,e)=>{const n=ru(`Primitive.${e}`),r=k.forwardRef((s,o)=>{const{asChild:l,...c}=s,f=l?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),je.jsx(f,{...c,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function VI(t,e){t&&Dd.flushSync(()=>t.dispatchEvent(e))}function ji(t){const e=k.useRef(t);return k.useEffect(()=>{e.current=t}),k.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function a7(t,e=globalThis==null?void 0:globalThis.document){const n=ji(t);k.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var l7="DismissableLayer",MN="dismissableLayer.update",c7="dismissableLayer.pointerDownOutside",u7="dismissableLayer.focusOutside",lP,FI=k.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),pm=k.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:l,onDismiss:c,...f}=t,h=k.useContext(FI),[p,m]=k.useState(null),x=(p==null?void 0:p.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,w]=k.useState({}),E=Zn(e,Y=>m(Y)),T=Array.from(h.layers),[C]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),P=T.indexOf(C),j=p?T.indexOf(p):-1,D=h.layersWithOutsidePointerEventsDisabled.size>0,U=j>=P,L=d7(Y=>{const ne=Y.target,Q=[...h.branches].some(K=>K.contains(ne));!U||Q||(s==null||s(Y),l==null||l(Y),Y.defaultPrevented||c==null||c())},x),O=h7(Y=>{const ne=Y.target;[...h.branches].some(K=>K.contains(ne))||(o==null||o(Y),l==null||l(Y),Y.defaultPrevented||c==null||c())},x);return a7(Y=>{j===h.layers.size-1&&(r==null||r(Y),!Y.defaultPrevented&&c&&(Y.preventDefault(),c()))},x),k.useEffect(()=>{if(p)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(lP=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(p)),h.layers.add(p),cP(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=lP)}},[p,x,n,h]),k.useEffect(()=>()=>{p&&(h.layers.delete(p),h.layersWithOutsidePointerEventsDisabled.delete(p),cP())},[p,h]),k.useEffect(()=>{const Y=()=>w({});return document.addEventListener(MN,Y),()=>document.removeEventListener(MN,Y)},[]),je.jsx(jt.div,{...f,ref:E,style:{pointerEvents:D?U?"auto":"none":void 0,...t.style},onFocusCapture:Bt(t.onFocusCapture,O.onFocusCapture),onBlurCapture:Bt(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:Bt(t.onPointerDownCapture,L.onPointerDownCapture)})});pm.displayName=l7;var f7="DismissableLayerBranch",BI=k.forwardRef((t,e)=>{const n=k.useContext(FI),r=k.useRef(null),s=Zn(e,r);return k.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),je.jsx(jt.div,{...t,ref:s})});BI.displayName=f7;function d7(t,e=globalThis==null?void 0:globalThis.document){const n=ji(t),r=k.useRef(!1),s=k.useRef(()=>{});return k.useEffect(()=>{const o=c=>{if(c.target&&!r.current){let f=function(){LI(c7,n,h,{discrete:!0})};const h={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=f,e.addEventListener("click",s.current,{once:!0})):f()}else e.removeEventListener("click",s.current);r.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",o),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function h7(t,e=globalThis==null?void 0:globalThis.document){const n=ji(t),r=k.useRef(!1);return k.useEffect(()=>{const s=o=>{o.target&&!r.current&&LI(u7,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function cP(){const t=new CustomEvent(MN);document.dispatchEvent(t)}function LI(t,e,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?VI(s,o):s.dispatchEvent(o)}var p7=pm,m7=BI,ns=globalThis!=null&&globalThis.document?k.useLayoutEffect:()=>{},g7="Portal",mm=k.forwardRef((t,e)=>{var c;const{container:n,...r}=t,[s,o]=k.useState(!1);ns(()=>o(!0),[]);const l=n||s&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return l?G8.createPortal(je.jsx(jt.div,{...r,ref:e}),l):null});mm.displayName=g7;function b7(t,e){return k.useReducer((n,r)=>e[n][r]??n,t)}var $l=t=>{const{present:e,children:n}=t,r=x7(e),s=typeof n=="function"?n({present:r.isPresent}):k.Children.only(n),o=Zn(r.ref,y7(s));return typeof n=="function"||r.isPresent?k.cloneElement(s,{ref:o}):null};$l.displayName="Presence";function x7(t){const[e,n]=k.useState(),r=k.useRef(null),s=k.useRef(t),o=k.useRef("none"),l=t?"mounted":"unmounted",[c,f]=b7(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return k.useEffect(()=>{const h=Db(r.current);o.current=c==="mounted"?h:"none"},[c]),ns(()=>{const h=r.current,p=s.current;if(p!==t){const x=o.current,w=Db(h);t?f("MOUNT"):w==="none"||(h==null?void 0:h.display)==="none"?f("UNMOUNT"):f(p&&x!==w?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,f]),ns(()=>{if(e){let h;const p=e.ownerDocument.defaultView??window,m=w=>{const T=Db(r.current).includes(w.animationName);if(w.target===e&&T&&(f("ANIMATION_END"),!s.current)){const C=e.style.animationFillMode;e.style.animationFillMode="forwards",h=p.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=C)})}},x=w=>{w.target===e&&(o.current=Db(r.current))};return e.addEventListener("animationstart",x),e.addEventListener("animationcancel",m),e.addEventListener("animationend",m),()=>{p.clearTimeout(h),e.removeEventListener("animationstart",x),e.removeEventListener("animationcancel",m),e.removeEventListener("animationend",m)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:k.useCallback(h=>{r.current=h?getComputedStyle(h):null,n(h)},[])}}function Db(t){return(t==null?void 0:t.animationName)||"none"}function y7(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var v7=lE[" useInsertionEffect ".trim().toString()]||ns;function su({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,o,l]=w7({defaultProp:e,onChange:n}),c=t!==void 0,f=c?t:s;{const p=k.useRef(t!==void 0);k.useEffect(()=>{const m=p.current;m!==c&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=c},[c,r])}const h=k.useCallback(p=>{var m;if(c){const x=_7(p)?p(t):p;x!==t&&((m=l.current)==null||m.call(l,x))}else o(p)},[c,t,o,l]);return[f,h]}function w7({defaultProp:t,onChange:e}){const[n,r]=k.useState(t),s=k.useRef(n),o=k.useRef(e);return v7(()=>{o.current=e},[e]),k.useEffect(()=>{var l;s.current!==n&&((l=o.current)==null||l.call(o,n),s.current=n)},[n,s]),[n,r,o]}function _7(t){return typeof t=="function"}var zI=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),N7="VisuallyHidden",hE=k.forwardRef((t,e)=>je.jsx(jt.span,{...t,ref:e,style:{...zI,...t.style}}));hE.displayName=N7;var pE="ToastProvider",[mE,S7,E7]=dE("Toast"),[$I,Hme]=Ra("Toast",[E7]),[T7,By]=$I(pE),HI=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:l}=t,[c,f]=k.useState(null),[h,p]=k.useState(0),m=k.useRef(!1),x=k.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${pE}\`. Expected non-empty \`string\`.`),je.jsx(mE.Provider,{scope:e,children:je.jsx(T7,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:o,toastCount:h,viewport:c,onViewportChange:f,onToastAdd:k.useCallback(()=>p(w=>w+1),[]),onToastRemove:k.useCallback(()=>p(w=>w-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:x,children:l})})};HI.displayName=pE;var WI="ToastViewport",A7=["F8"],IN="toast.viewportPause",ON="toast.viewportResume",qI=k.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=A7,label:s="Notifications ({hotkey})",...o}=t,l=By(WI,n),c=S7(n),f=k.useRef(null),h=k.useRef(null),p=k.useRef(null),m=k.useRef(null),x=Zn(e,m,l.onViewportChange),w=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),E=l.toastCount>0;k.useEffect(()=>{const C=P=>{var D;r.length!==0&&r.every(U=>P[U]||P.code===U)&&((D=m.current)==null||D.focus())};return document.addEventListener("keydown",C),()=>document.removeEventListener("keydown",C)},[r]),k.useEffect(()=>{const C=f.current,P=m.current;if(E&&C&&P){const j=()=>{if(!l.isClosePausedRef.current){const O=new CustomEvent(IN);P.dispatchEvent(O),l.isClosePausedRef.current=!0}},D=()=>{if(l.isClosePausedRef.current){const O=new CustomEvent(ON);P.dispatchEvent(O),l.isClosePausedRef.current=!1}},U=O=>{!C.contains(O.relatedTarget)&&D()},L=()=>{C.contains(document.activeElement)||D()};return C.addEventListener("focusin",j),C.addEventListener("focusout",U),C.addEventListener("pointermove",j),C.addEventListener("pointerleave",L),window.addEventListener("blur",j),window.addEventListener("focus",D),()=>{C.removeEventListener("focusin",j),C.removeEventListener("focusout",U),C.removeEventListener("pointermove",j),C.removeEventListener("pointerleave",L),window.removeEventListener("blur",j),window.removeEventListener("focus",D)}}},[E,l.isClosePausedRef]);const T=k.useCallback(({tabbingDirection:C})=>{const j=c().map(D=>{const U=D.ref.current,L=[U,...B7(U)];return C==="forwards"?L:L.reverse()});return(C==="forwards"?j.reverse():j).flat()},[c]);return k.useEffect(()=>{const C=m.current;if(C){const P=j=>{var L,O,Y;const D=j.altKey||j.ctrlKey||j.metaKey;if(j.key==="Tab"&&!D){const ne=document.activeElement,Q=j.shiftKey;if(j.target===C&&Q){(L=h.current)==null||L.focus();return}const ue=T({tabbingDirection:Q?"backwards":"forwards"}),me=ue.findIndex(le=>le===ne);$_(ue.slice(me+1))?j.preventDefault():Q?(O=h.current)==null||O.focus():(Y=p.current)==null||Y.focus()}};return C.addEventListener("keydown",P),()=>C.removeEventListener("keydown",P)}},[c,T]),je.jsxs(m7,{ref:f,role:"region","aria-label":s.replace("{hotkey}",w),tabIndex:-1,style:{pointerEvents:E?void 0:"none"},children:[E&&je.jsx(UN,{ref:h,onFocusFromOutsideViewport:()=>{const C=T({tabbingDirection:"forwards"});$_(C)}}),je.jsx(mE.Slot,{scope:n,children:je.jsx(jt.ol,{tabIndex:-1,...o,ref:x})}),E&&je.jsx(UN,{ref:p,onFocusFromOutsideViewport:()=>{const C=T({tabbingDirection:"backwards"});$_(C)}})]})});qI.displayName=WI;var XI="ToastFocusProxy",UN=k.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,o=By(XI,n);return je.jsx(hE,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:l=>{var h;const c=l.relatedTarget;!((h=o.viewport)!=null&&h.contains(c))&&r()}})});UN.displayName=XI;var gm="Toast",C7="toast.swipeStart",R7="toast.swipeMove",k7="toast.swipeCancel",D7="toast.swipeEnd",YI=k.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:o,...l}=t,[c,f]=su({prop:r,defaultProp:s??!0,onChange:o,caller:gm});return je.jsx($l,{present:n||c,children:je.jsx(M7,{open:c,...l,ref:e,onClose:()=>f(!1),onPause:ji(t.onPause),onResume:ji(t.onResume),onSwipeStart:Bt(t.onSwipeStart,h=>{h.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Bt(t.onSwipeMove,h=>{const{x:p,y:m}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","move"),h.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${p}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:Bt(t.onSwipeCancel,h=>{h.currentTarget.setAttribute("data-swipe","cancel"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Bt(t.onSwipeEnd,h=>{const{x:p,y:m}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","end"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${p}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),f(!1)})})})});YI.displayName=gm;var[P7,j7]=$I(gm,{onClose(){}}),M7=k.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:o,onClose:l,onEscapeKeyDown:c,onPause:f,onResume:h,onSwipeStart:p,onSwipeMove:m,onSwipeCancel:x,onSwipeEnd:w,...E}=t,T=By(gm,n),[C,P]=k.useState(null),j=Zn(e,le=>P(le)),D=k.useRef(null),U=k.useRef(null),L=s||T.duration,O=k.useRef(0),Y=k.useRef(L),ne=k.useRef(0),{onToastAdd:Q,onToastRemove:K}=T,G=ji(()=>{var ye;(C==null?void 0:C.contains(document.activeElement))&&((ye=T.viewport)==null||ye.focus()),l()}),ue=k.useCallback(le=>{!le||le===1/0||(window.clearTimeout(ne.current),O.current=new Date().getTime(),ne.current=window.setTimeout(G,le))},[G]);k.useEffect(()=>{const le=T.viewport;if(le){const ye=()=>{ue(Y.current),h==null||h()},ge=()=>{const Me=new Date().getTime()-O.current;Y.current=Y.current-Me,window.clearTimeout(ne.current),f==null||f()};return le.addEventListener(IN,ge),le.addEventListener(ON,ye),()=>{le.removeEventListener(IN,ge),le.removeEventListener(ON,ye)}}},[T.viewport,L,f,h,ue]),k.useEffect(()=>{o&&!T.isClosePausedRef.current&&ue(L)},[o,L,T.isClosePausedRef,ue]),k.useEffect(()=>(Q(),()=>K()),[Q,K]);const me=k.useMemo(()=>C?tO(C):null,[C]);return T.viewport?je.jsxs(je.Fragment,{children:[me&&je.jsx(I7,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:me}),je.jsx(P7,{scope:n,onClose:G,children:Dd.createPortal(je.jsx(mE.ItemSlot,{scope:n,children:je.jsx(p7,{asChild:!0,onEscapeKeyDown:Bt(c,()=>{T.isFocusedToastEscapeKeyDownRef.current||G(),T.isFocusedToastEscapeKeyDownRef.current=!1}),children:je.jsx(jt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":T.swipeDirection,...E,ref:j,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Bt(t.onKeyDown,le=>{le.key==="Escape"&&(c==null||c(le.nativeEvent),le.nativeEvent.defaultPrevented||(T.isFocusedToastEscapeKeyDownRef.current=!0,G()))}),onPointerDown:Bt(t.onPointerDown,le=>{le.button===0&&(D.current={x:le.clientX,y:le.clientY})}),onPointerMove:Bt(t.onPointerMove,le=>{if(!D.current)return;const ye=le.clientX-D.current.x,ge=le.clientY-D.current.y,Me=!!U.current,we=["left","right"].includes(T.swipeDirection),Ke=["left","up"].includes(T.swipeDirection)?Math.min:Math.max,V=we?Ke(0,ye):0,fe=we?0:Ke(0,ge),se=le.pointerType==="touch"?10:2,B={x:V,y:fe},ce={originalEvent:le,delta:B};Me?(U.current=B,Pb(R7,m,ce,{discrete:!1})):uP(B,T.swipeDirection,se)?(U.current=B,Pb(C7,p,ce,{discrete:!1}),le.target.setPointerCapture(le.pointerId)):(Math.abs(ye)>se||Math.abs(ge)>se)&&(D.current=null)}),onPointerUp:Bt(t.onPointerUp,le=>{const ye=U.current,ge=le.target;if(ge.hasPointerCapture(le.pointerId)&&ge.releasePointerCapture(le.pointerId),U.current=null,D.current=null,ye){const Me=le.currentTarget,we={originalEvent:le,delta:ye};uP(ye,T.swipeDirection,T.swipeThreshold)?Pb(D7,w,we,{discrete:!0}):Pb(k7,x,we,{discrete:!0}),Me.addEventListener("click",Ke=>Ke.preventDefault(),{once:!0})}})})})}),T.viewport)})]}):null}),I7=t=>{const{__scopeToast:e,children:n,...r}=t,s=By(gm,e),[o,l]=k.useState(!1),[c,f]=k.useState(!1);return V7(()=>l(!0)),k.useEffect(()=>{const h=window.setTimeout(()=>f(!0),1e3);return()=>window.clearTimeout(h)},[]),c?null:je.jsx(mm,{asChild:!0,children:je.jsx(hE,{...r,children:o&&je.jsxs(je.Fragment,{children:[s.label," ",n]})})})},O7="ToastTitle",KI=k.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return je.jsx(jt.div,{...r,ref:e})});KI.displayName=O7;var U7="ToastDescription",ZI=k.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return je.jsx(jt.div,{...r,ref:e})});ZI.displayName=U7;var QI="ToastAction",GI=k.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?je.jsx(eO,{altText:n,asChild:!0,children:je.jsx(gE,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${QI}\`. Expected non-empty \`string\`.`),null)});GI.displayName=QI;var JI="ToastClose",gE=k.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=j7(JI,n);return je.jsx(eO,{asChild:!0,children:je.jsx(jt.button,{type:"button",...r,ref:e,onClick:Bt(t.onClick,s.onClose)})})});gE.displayName=JI;var eO=k.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return je.jsx(jt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function tO(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),F7(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const l=r.dataset.radixToastAnnounceAlt;l&&e.push(l)}else e.push(...tO(r))}}),e}function Pb(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,o=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?VI(s,o):s.dispatchEvent(o)}var uP=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),o=r>s;return e==="left"||e==="right"?o&&r>n:!o&&s>n};function V7(t=()=>{}){const e=ji(t);ns(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function F7(t){return t.nodeType===t.ELEMENT_NODE}function B7(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function $_(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var L7=HI,nO=qI,rO=YI,sO=KI,iO=ZI,oO=GI,aO=gE;function lO(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=lO(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function cO(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=lO(t))&&(r&&(r+=" "),r+=e);return r}const fP=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,dP=cO,Ly=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return dP(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:o}=e,l=Object.keys(s).map(h=>{const p=n==null?void 0:n[h],m=o==null?void 0:o[h];if(p===null)return null;const x=fP(p)||fP(m);return s[h][x]}),c=n&&Object.entries(n).reduce((h,p)=>{let[m,x]=p;return x===void 0||(h[m]=x),h},{}),f=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((h,p)=>{let{class:m,className:x,...w}=p;return Object.entries(w).every(E=>{let[T,C]=E;return Array.isArray(C)?C.includes({...o,...c}[T]):{...o,...c}[T]===C})?[...h,m,x]:h},[]);return dP(t,l,f,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z7=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$7=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),hP=t=>{const e=$7(t);return e.charAt(0).toUpperCase()+e.slice(1)},uO=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),H7=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var W7={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q7=k.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:l,...c},f)=>k.createElement("svg",{ref:f,...W7,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:uO("lucide",s),...!o&&!H7(c)&&{"aria-hidden":"true"},...c},[...l.map(([h,p])=>k.createElement(h,p)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=(t,e)=>{const n=k.forwardRef(({className:r,...s},o)=>k.createElement(q7,{ref:o,iconNode:e,className:uO(`lucide-${z7(hP(t))}`,`lucide-${t}`,r),...s}));return n.displayName=hP(t),n};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X7=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],fO=kt("activity",X7);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y7=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],K7=kt("box",Y7);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z7=[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]],VN=kt("boxes",Z7);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q7=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],jp=kt("chart-column",Q7);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G7=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],dO=kt("check",G7);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J7=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],bm=kt("chevron-down",J7);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e$=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],hO=kt("chevron-right",e$);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t$=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],n$=kt("chevron-up",t$);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r$=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],s$=kt("chevrons-up-down",r$);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Mp=kt("circle-alert",i$);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o$=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Qi=kt("circle-check-big",o$);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],l$=kt("circle-help",a$);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],FN=kt("clock",c$);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u$=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],bE=kt("code",u$);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f$=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],pd=kt("copy",f$);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d$=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 15 21.84",key:"14ibmq"}],["path",{d:"M21 5V8",key:"1marbg"}],["path",{d:"M21 12L18 17H22L19 22",key:"zafso"}],["path",{d:"M3 12A9 3 0 0 0 14.59 14.87",key:"1y4wr8"}]],BN=kt("database-zap",d$);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h$=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],xE=kt("database",h$);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p$=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],kx=kt("download",p$);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m$=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],iu=kt("external-link",m$);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g$=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],pO=kt("eye",g$);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b$=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Kp=kt("file-text",b$);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x$=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],ba=kt("file",x$);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y$=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],v$=kt("folder-open",y$);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w$=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],_$=kt("folder",w$);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N$=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],mO=kt("funnel",N$);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S$=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],H_=kt("git-branch",S$);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],T$=kt("globe",E$);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A$=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],C$=kt("grip-vertical",A$);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],md=kt("info",R$);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k$=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],D$=kt("layers",k$);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P$=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ol=kt("loader-circle",P$);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j$=[["path",{d:"M5 12h14",key:"1ays0h"}]],M$=kt("minus",j$);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I$=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],O$=kt("moon",I$);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U$=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],pP=kt("network",U$);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V$=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],jb=kt("package",V$);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F$=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],B$=kt("panel-left",F$);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L$=[["path",{d:"M8 21s-4-3-4-9 4-9 4-9",key:"uto9ud"}],["path",{d:"M16 3s4 3 4 9-4 9-4 9",key:"4w2vsq"}]],z$=kt("parentheses",L$);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $$=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],H$=kt("pen-line",$$);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W$=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],gO=kt("play",W$);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q$=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Dx=kt("plus",q$);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X$=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Ds=kt("refresh-cw",X$);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y$=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],K$=kt("rotate-ccw",Y$);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z$=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Px=kt("save",Z$);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q$=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],jx=kt("search",Q$);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G$=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],J$=kt("server",G$);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e9=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],yE=kt("settings",e9);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t9=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],LN=kt("sparkles",t9);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n9=[["path",{d:"M4 16a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v3a1 1 0 0 0 1 1h3a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H10a2 2 0 0 1-2-2v-3a1 1 0 0 0-1-1z",key:"17jnth"}]],r9=kt("squares-unite",n9);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s9=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],i9=kt("sun",s9);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o9=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],a9=kt("terminal",o9);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l9=[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]],mP=kt("test-tube",l9);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c9=[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]],bO=kt("tree-pine",c9);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u9=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ai=kt("triangle-alert",u9);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f9=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ii=kt("x",f9);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d9=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],vE=kt("zap",d9),wE="-",h9=t=>{const e=m9(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:l=>{const c=l.split(wE);return c[0]===""&&c.length!==1&&c.shift(),xO(c,e)||p9(l)},getConflictingClassGroupIds:(l,c)=>{const f=n[l]||[];return c&&r[l]?[...f,...r[l]]:f}}},xO=(t,e)=>{var l;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?xO(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const o=t.join(wE);return(l=e.validators.find(({validator:c})=>c(o)))==null?void 0:l.classGroupId},gP=/^\[(.+)\]$/,p9=t=>{if(gP.test(t)){const e=gP.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},m9=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const s in n)zN(n[s],r,s,e);return r},zN=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const o=s===""?e:bP(e,s);o.classGroupId=n;return}if(typeof s=="function"){if(g9(s)){zN(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([o,l])=>{zN(l,bP(e,o),n,r)})})},bP=(t,e)=>{let n=t;return e.split(wE).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},g9=t=>t.isThemeGetter,b9=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(o,l)=>{n.set(o,l),e++,e>t&&(e=0,r=n,n=new Map)};return{get(o){let l=n.get(o);if(l!==void 0)return l;if((l=r.get(o))!==void 0)return s(o,l),l},set(o,l){n.has(o)?n.set(o,l):s(o,l)}}},$N="!",HN=":",x9=HN.length,y9=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=s=>{const o=[];let l=0,c=0,f=0,h;for(let E=0;E<s.length;E++){let T=s[E];if(l===0&&c===0){if(T===HN){o.push(s.slice(f,E)),f=E+x9;continue}if(T==="/"){h=E;continue}}T==="["?l++:T==="]"?l--:T==="("?c++:T===")"&&c--}const p=o.length===0?s:s.substring(f),m=v9(p),x=m!==p,w=h&&h>f?h-f:void 0;return{modifiers:o,hasImportantModifier:x,baseClassName:m,maybePostfixModifierPosition:w}};if(e){const s=e+HN,o=r;r=l=>l.startsWith(s)?o(l.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:l,maybePostfixModifierPosition:void 0}}if(n){const s=r;r=o=>n({className:o,parseClassName:s})}return r},v9=t=>t.endsWith($N)?t.substring(0,t.length-1):t.startsWith($N)?t.substring(1):t,w9=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const s=[];let o=[];return r.forEach(l=>{l[0]==="["||e[l]?(s.push(...o.sort(),l),o=[]):o.push(l)}),s.push(...o.sort()),s}},_9=t=>({cache:b9(t.cacheSize),parseClassName:y9(t),sortModifiers:w9(t),...h9(t)}),N9=/\s+/,S9=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:o}=e,l=[],c=t.trim().split(N9);let f="";for(let h=c.length-1;h>=0;h-=1){const p=c[h],{isExternal:m,modifiers:x,hasImportantModifier:w,baseClassName:E,maybePostfixModifierPosition:T}=n(p);if(m){f=p+(f.length>0?" "+f:f);continue}let C=!!T,P=r(C?E.substring(0,T):E);if(!P){if(!C){f=p+(f.length>0?" "+f:f);continue}if(P=r(E),!P){f=p+(f.length>0?" "+f:f);continue}C=!1}const j=o(x).join(":"),D=w?j+$N:j,U=D+P;if(l.includes(U))continue;l.push(U);const L=s(P,C);for(let O=0;O<L.length;++O){const Y=L[O];l.push(D+Y)}f=p+(f.length>0?" "+f:f)}return f};function E9(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=yO(e))&&(r&&(r+=" "),r+=n);return r}const yO=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=yO(t[r]))&&(n&&(n+=" "),n+=e);return n};function T9(t,...e){let n,r,s,o=l;function l(f){const h=e.reduce((p,m)=>m(p),t());return n=_9(h),r=n.cache.get,s=n.cache.set,o=c,c(f)}function c(f){const h=r(f);if(h)return h;const p=S9(f,n);return s(f,p),p}return function(){return o(E9.apply(null,arguments))}}const Ur=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},vO=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,wO=/^\((?:(\w[\w-]*):)?(.+)\)$/i,A9=/^\d+\/\d+$/,C9=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,R9=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,k9=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,D9=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,P9=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,vf=t=>A9.test(t),cn=t=>!!t&&!Number.isNaN(Number(t)),ol=t=>!!t&&Number.isInteger(Number(t)),W_=t=>t.endsWith("%")&&cn(t.slice(0,-1)),ma=t=>C9.test(t),j9=()=>!0,M9=t=>R9.test(t)&&!k9.test(t),_O=()=>!1,I9=t=>D9.test(t),O9=t=>P9.test(t),U9=t=>!St(t)&&!Et(t),V9=t=>Pd(t,EO,_O),St=t=>vO.test(t),Dc=t=>Pd(t,TO,M9),q_=t=>Pd(t,$9,cn),xP=t=>Pd(t,NO,_O),F9=t=>Pd(t,SO,O9),Mb=t=>Pd(t,AO,I9),Et=t=>wO.test(t),fp=t=>jd(t,TO),B9=t=>jd(t,H9),yP=t=>jd(t,NO),L9=t=>jd(t,EO),z9=t=>jd(t,SO),Ib=t=>jd(t,AO,!0),Pd=(t,e,n)=>{const r=vO.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},jd=(t,e,n=!1)=>{const r=wO.exec(t);return r?r[1]?e(r[1]):n:!1},NO=t=>t==="position"||t==="percentage",SO=t=>t==="image"||t==="url",EO=t=>t==="length"||t==="size"||t==="bg-size",TO=t=>t==="length",$9=t=>t==="number",H9=t=>t==="family-name",AO=t=>t==="shadow",W9=()=>{const t=Ur("color"),e=Ur("font"),n=Ur("text"),r=Ur("font-weight"),s=Ur("tracking"),o=Ur("leading"),l=Ur("breakpoint"),c=Ur("container"),f=Ur("spacing"),h=Ur("radius"),p=Ur("shadow"),m=Ur("inset-shadow"),x=Ur("text-shadow"),w=Ur("drop-shadow"),E=Ur("blur"),T=Ur("perspective"),C=Ur("aspect"),P=Ur("ease"),j=Ur("animate"),D=()=>["auto","avoid","all","avoid-page","page","left","right","column"],U=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],L=()=>[...U(),Et,St],O=()=>["auto","hidden","clip","visible","scroll"],Y=()=>["auto","contain","none"],ne=()=>[Et,St,f],Q=()=>[vf,"full","auto",...ne()],K=()=>[ol,"none","subgrid",Et,St],G=()=>["auto",{span:["full",ol,Et,St]},ol,Et,St],ue=()=>[ol,"auto",Et,St],me=()=>["auto","min","max","fr",Et,St],le=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ye=()=>["start","end","center","stretch","center-safe","end-safe"],ge=()=>["auto",...ne()],Me=()=>[vf,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...ne()],we=()=>[t,Et,St],Ke=()=>[...U(),yP,xP,{position:[Et,St]}],V=()=>["no-repeat",{repeat:["","x","y","space","round"]}],fe=()=>["auto","cover","contain",L9,V9,{size:[Et,St]}],se=()=>[W_,fp,Dc],B=()=>["","none","full",h,Et,St],ce=()=>["",cn,fp,Dc],Z=()=>["solid","dashed","dotted","double"],xe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],he=()=>[cn,W_,yP,xP],oe=()=>["","none",E,Et,St],De=()=>["none",cn,Et,St],qe=()=>["none",cn,Et,St],Ye=()=>[cn,Et,St],tt=()=>[vf,"full",...ne()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ma],breakpoint:[ma],color:[j9],container:[ma],"drop-shadow":[ma],ease:["in","out","in-out"],font:[U9],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ma],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ma],shadow:[ma],spacing:["px",cn],text:[ma],"text-shadow":[ma],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",vf,St,Et,C]}],container:["container"],columns:[{columns:[cn,St,Et,c]}],"break-after":[{"break-after":D()}],"break-before":[{"break-before":D()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:L()}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:Y()}],"overscroll-x":[{"overscroll-x":Y()}],"overscroll-y":[{"overscroll-y":Y()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:Q()}],"inset-x":[{"inset-x":Q()}],"inset-y":[{"inset-y":Q()}],start:[{start:Q()}],end:[{end:Q()}],top:[{top:Q()}],right:[{right:Q()}],bottom:[{bottom:Q()}],left:[{left:Q()}],visibility:["visible","invisible","collapse"],z:[{z:[ol,"auto",Et,St]}],basis:[{basis:[vf,"full","auto",c,...ne()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[cn,vf,"auto","initial","none",St]}],grow:[{grow:["",cn,Et,St]}],shrink:[{shrink:["",cn,Et,St]}],order:[{order:[ol,"first","last","none",Et,St]}],"grid-cols":[{"grid-cols":K()}],"col-start-end":[{col:G()}],"col-start":[{"col-start":ue()}],"col-end":[{"col-end":ue()}],"grid-rows":[{"grid-rows":K()}],"row-start-end":[{row:G()}],"row-start":[{"row-start":ue()}],"row-end":[{"row-end":ue()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":me()}],"auto-rows":[{"auto-rows":me()}],gap:[{gap:ne()}],"gap-x":[{"gap-x":ne()}],"gap-y":[{"gap-y":ne()}],"justify-content":[{justify:[...le(),"normal"]}],"justify-items":[{"justify-items":[...ye(),"normal"]}],"justify-self":[{"justify-self":["auto",...ye()]}],"align-content":[{content:["normal",...le()]}],"align-items":[{items:[...ye(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ye(),{baseline:["","last"]}]}],"place-content":[{"place-content":le()}],"place-items":[{"place-items":[...ye(),"baseline"]}],"place-self":[{"place-self":["auto",...ye()]}],p:[{p:ne()}],px:[{px:ne()}],py:[{py:ne()}],ps:[{ps:ne()}],pe:[{pe:ne()}],pt:[{pt:ne()}],pr:[{pr:ne()}],pb:[{pb:ne()}],pl:[{pl:ne()}],m:[{m:ge()}],mx:[{mx:ge()}],my:[{my:ge()}],ms:[{ms:ge()}],me:[{me:ge()}],mt:[{mt:ge()}],mr:[{mr:ge()}],mb:[{mb:ge()}],ml:[{ml:ge()}],"space-x":[{"space-x":ne()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":ne()}],"space-y-reverse":["space-y-reverse"],size:[{size:Me()}],w:[{w:[c,"screen",...Me()]}],"min-w":[{"min-w":[c,"screen","none",...Me()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[l]},...Me()]}],h:[{h:["screen","lh",...Me()]}],"min-h":[{"min-h":["screen","lh","none",...Me()]}],"max-h":[{"max-h":["screen","lh",...Me()]}],"font-size":[{text:["base",n,fp,Dc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Et,q_]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",W_,St]}],"font-family":[{font:[B9,St,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,Et,St]}],"line-clamp":[{"line-clamp":[cn,"none",Et,q_]}],leading:[{leading:[o,...ne()]}],"list-image":[{"list-image":["none",Et,St]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Et,St]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:we()}],"text-color":[{text:we()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Z(),"wavy"]}],"text-decoration-thickness":[{decoration:[cn,"from-font","auto",Et,Dc]}],"text-decoration-color":[{decoration:we()}],"underline-offset":[{"underline-offset":[cn,"auto",Et,St]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:ne()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Et,St]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Et,St]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Ke()}],"bg-repeat":[{bg:V()}],"bg-size":[{bg:fe()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ol,Et,St],radial:["",Et,St],conic:[ol,Et,St]},z9,F9]}],"bg-color":[{bg:we()}],"gradient-from-pos":[{from:se()}],"gradient-via-pos":[{via:se()}],"gradient-to-pos":[{to:se()}],"gradient-from":[{from:we()}],"gradient-via":[{via:we()}],"gradient-to":[{to:we()}],rounded:[{rounded:B()}],"rounded-s":[{"rounded-s":B()}],"rounded-e":[{"rounded-e":B()}],"rounded-t":[{"rounded-t":B()}],"rounded-r":[{"rounded-r":B()}],"rounded-b":[{"rounded-b":B()}],"rounded-l":[{"rounded-l":B()}],"rounded-ss":[{"rounded-ss":B()}],"rounded-se":[{"rounded-se":B()}],"rounded-ee":[{"rounded-ee":B()}],"rounded-es":[{"rounded-es":B()}],"rounded-tl":[{"rounded-tl":B()}],"rounded-tr":[{"rounded-tr":B()}],"rounded-br":[{"rounded-br":B()}],"rounded-bl":[{"rounded-bl":B()}],"border-w":[{border:ce()}],"border-w-x":[{"border-x":ce()}],"border-w-y":[{"border-y":ce()}],"border-w-s":[{"border-s":ce()}],"border-w-e":[{"border-e":ce()}],"border-w-t":[{"border-t":ce()}],"border-w-r":[{"border-r":ce()}],"border-w-b":[{"border-b":ce()}],"border-w-l":[{"border-l":ce()}],"divide-x":[{"divide-x":ce()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ce()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Z(),"hidden","none"]}],"divide-style":[{divide:[...Z(),"hidden","none"]}],"border-color":[{border:we()}],"border-color-x":[{"border-x":we()}],"border-color-y":[{"border-y":we()}],"border-color-s":[{"border-s":we()}],"border-color-e":[{"border-e":we()}],"border-color-t":[{"border-t":we()}],"border-color-r":[{"border-r":we()}],"border-color-b":[{"border-b":we()}],"border-color-l":[{"border-l":we()}],"divide-color":[{divide:we()}],"outline-style":[{outline:[...Z(),"none","hidden"]}],"outline-offset":[{"outline-offset":[cn,Et,St]}],"outline-w":[{outline:["",cn,fp,Dc]}],"outline-color":[{outline:we()}],shadow:[{shadow:["","none",p,Ib,Mb]}],"shadow-color":[{shadow:we()}],"inset-shadow":[{"inset-shadow":["none",m,Ib,Mb]}],"inset-shadow-color":[{"inset-shadow":we()}],"ring-w":[{ring:ce()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:we()}],"ring-offset-w":[{"ring-offset":[cn,Dc]}],"ring-offset-color":[{"ring-offset":we()}],"inset-ring-w":[{"inset-ring":ce()}],"inset-ring-color":[{"inset-ring":we()}],"text-shadow":[{"text-shadow":["none",x,Ib,Mb]}],"text-shadow-color":[{"text-shadow":we()}],opacity:[{opacity:[cn,Et,St]}],"mix-blend":[{"mix-blend":[...xe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":xe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[cn]}],"mask-image-linear-from-pos":[{"mask-linear-from":he()}],"mask-image-linear-to-pos":[{"mask-linear-to":he()}],"mask-image-linear-from-color":[{"mask-linear-from":we()}],"mask-image-linear-to-color":[{"mask-linear-to":we()}],"mask-image-t-from-pos":[{"mask-t-from":he()}],"mask-image-t-to-pos":[{"mask-t-to":he()}],"mask-image-t-from-color":[{"mask-t-from":we()}],"mask-image-t-to-color":[{"mask-t-to":we()}],"mask-image-r-from-pos":[{"mask-r-from":he()}],"mask-image-r-to-pos":[{"mask-r-to":he()}],"mask-image-r-from-color":[{"mask-r-from":we()}],"mask-image-r-to-color":[{"mask-r-to":we()}],"mask-image-b-from-pos":[{"mask-b-from":he()}],"mask-image-b-to-pos":[{"mask-b-to":he()}],"mask-image-b-from-color":[{"mask-b-from":we()}],"mask-image-b-to-color":[{"mask-b-to":we()}],"mask-image-l-from-pos":[{"mask-l-from":he()}],"mask-image-l-to-pos":[{"mask-l-to":he()}],"mask-image-l-from-color":[{"mask-l-from":we()}],"mask-image-l-to-color":[{"mask-l-to":we()}],"mask-image-x-from-pos":[{"mask-x-from":he()}],"mask-image-x-to-pos":[{"mask-x-to":he()}],"mask-image-x-from-color":[{"mask-x-from":we()}],"mask-image-x-to-color":[{"mask-x-to":we()}],"mask-image-y-from-pos":[{"mask-y-from":he()}],"mask-image-y-to-pos":[{"mask-y-to":he()}],"mask-image-y-from-color":[{"mask-y-from":we()}],"mask-image-y-to-color":[{"mask-y-to":we()}],"mask-image-radial":[{"mask-radial":[Et,St]}],"mask-image-radial-from-pos":[{"mask-radial-from":he()}],"mask-image-radial-to-pos":[{"mask-radial-to":he()}],"mask-image-radial-from-color":[{"mask-radial-from":we()}],"mask-image-radial-to-color":[{"mask-radial-to":we()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":U()}],"mask-image-conic-pos":[{"mask-conic":[cn]}],"mask-image-conic-from-pos":[{"mask-conic-from":he()}],"mask-image-conic-to-pos":[{"mask-conic-to":he()}],"mask-image-conic-from-color":[{"mask-conic-from":we()}],"mask-image-conic-to-color":[{"mask-conic-to":we()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Ke()}],"mask-repeat":[{mask:V()}],"mask-size":[{mask:fe()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Et,St]}],filter:[{filter:["","none",Et,St]}],blur:[{blur:oe()}],brightness:[{brightness:[cn,Et,St]}],contrast:[{contrast:[cn,Et,St]}],"drop-shadow":[{"drop-shadow":["","none",w,Ib,Mb]}],"drop-shadow-color":[{"drop-shadow":we()}],grayscale:[{grayscale:["",cn,Et,St]}],"hue-rotate":[{"hue-rotate":[cn,Et,St]}],invert:[{invert:["",cn,Et,St]}],saturate:[{saturate:[cn,Et,St]}],sepia:[{sepia:["",cn,Et,St]}],"backdrop-filter":[{"backdrop-filter":["","none",Et,St]}],"backdrop-blur":[{"backdrop-blur":oe()}],"backdrop-brightness":[{"backdrop-brightness":[cn,Et,St]}],"backdrop-contrast":[{"backdrop-contrast":[cn,Et,St]}],"backdrop-grayscale":[{"backdrop-grayscale":["",cn,Et,St]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[cn,Et,St]}],"backdrop-invert":[{"backdrop-invert":["",cn,Et,St]}],"backdrop-opacity":[{"backdrop-opacity":[cn,Et,St]}],"backdrop-saturate":[{"backdrop-saturate":[cn,Et,St]}],"backdrop-sepia":[{"backdrop-sepia":["",cn,Et,St]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":ne()}],"border-spacing-x":[{"border-spacing-x":ne()}],"border-spacing-y":[{"border-spacing-y":ne()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Et,St]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[cn,"initial",Et,St]}],ease:[{ease:["linear","initial",P,Et,St]}],delay:[{delay:[cn,Et,St]}],animate:[{animate:["none",j,Et,St]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[T,Et,St]}],"perspective-origin":[{"perspective-origin":L()}],rotate:[{rotate:De()}],"rotate-x":[{"rotate-x":De()}],"rotate-y":[{"rotate-y":De()}],"rotate-z":[{"rotate-z":De()}],scale:[{scale:qe()}],"scale-x":[{"scale-x":qe()}],"scale-y":[{"scale-y":qe()}],"scale-z":[{"scale-z":qe()}],"scale-3d":["scale-3d"],skew:[{skew:Ye()}],"skew-x":[{"skew-x":Ye()}],"skew-y":[{"skew-y":Ye()}],transform:[{transform:[Et,St,"","none","gpu","cpu"]}],"transform-origin":[{origin:L()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:tt()}],"translate-x":[{"translate-x":tt()}],"translate-y":[{"translate-y":tt()}],"translate-z":[{"translate-z":tt()}],"translate-none":["translate-none"],accent:[{accent:we()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:we()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Et,St]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":ne()}],"scroll-mx":[{"scroll-mx":ne()}],"scroll-my":[{"scroll-my":ne()}],"scroll-ms":[{"scroll-ms":ne()}],"scroll-me":[{"scroll-me":ne()}],"scroll-mt":[{"scroll-mt":ne()}],"scroll-mr":[{"scroll-mr":ne()}],"scroll-mb":[{"scroll-mb":ne()}],"scroll-ml":[{"scroll-ml":ne()}],"scroll-p":[{"scroll-p":ne()}],"scroll-px":[{"scroll-px":ne()}],"scroll-py":[{"scroll-py":ne()}],"scroll-ps":[{"scroll-ps":ne()}],"scroll-pe":[{"scroll-pe":ne()}],"scroll-pt":[{"scroll-pt":ne()}],"scroll-pr":[{"scroll-pr":ne()}],"scroll-pb":[{"scroll-pb":ne()}],"scroll-pl":[{"scroll-pl":ne()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Et,St]}],fill:[{fill:["none",...we()]}],"stroke-w":[{stroke:[cn,fp,Dc,q_]}],stroke:[{stroke:["none",...we()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},q9=T9(W9);function Wt(...t){return q9(cO(t))}const X9=Ly("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive border-destructive bg-card text-card-foreground",success:"border-[color:var(--color-success)] bg-card text-card-foreground",warning:"border-[color:var(--color-warning)] bg-card text-card-foreground",info:"border-[color:var(--color-info)] bg-card text-card-foreground"}},defaultVariants:{variant:"default"}}),Y9=L7,CO=k.forwardRef(({className:t,...e},n)=>b.jsxDEV(nO,{ref:n,className:Wt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px] gap-2",t),...e},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/toast.tsx",lineNumber:35,columnNumber:3},void 0));CO.displayName=nO.displayName;const RO=k.forwardRef(({className:t,variant:e,...n},r)=>b.jsxDEV(rO,{ref:r,className:Wt(X9({variant:e}),t),...n},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/toast.tsx",lineNumber:52,columnNumber:5},void 0));RO.displayName=rO.displayName;const K9=k.forwardRef(({className:t,...e},n)=>b.jsxDEV(oO,{ref:n,className:Wt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-thin ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/toast.tsx",lineNumber:65,columnNumber:3},void 0));K9.displayName=oO.displayName;const kO=k.forwardRef(({className:t,...e},n)=>b.jsxDEV(aO,{ref:n,className:Wt("absolute right-2 top-2 rounded-md p-1 text-foreground/30 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-80 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:b.jsxDEV(ii,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/toast.tsx",lineNumber:89,columnNumber:5},void 0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/toast.tsx",lineNumber:80,columnNumber:3},void 0));kO.displayName=aO.displayName;const DO=k.forwardRef(({className:t,...e},n)=>b.jsxDEV(sO,{ref:n,className:Wt("text-xs font-thin",t),...e},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/toast.tsx",lineNumber:98,columnNumber:3},void 0));DO.displayName=sO.displayName;const PO=k.forwardRef(({className:t,...e},n)=>b.jsxDEV(iO,{ref:n,className:Wt("text-xs opacity-70",t),...e},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/toast.tsx",lineNumber:110,columnNumber:3},void 0));PO.displayName=iO.displayName;const jO=k.forwardRef(({className:t,variant:e="default",...n},r)=>{const s={default:md,destructive:Mp,success:Qi,warning:Ai,info:md}[e],o={default:"text-muted-foreground",destructive:"text-destructive",success:"text-[color:var(--color-success)]",warning:"text-[color:var(--color-warning)]",info:"text-[color:var(--color-info)]"}[e];return b.jsxDEV("div",{ref:r,className:Wt("flex-shrink-0",t),...n,children:b.jsxDEV(s,{className:Wt("h-4 w-4",o)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/toast.tsx",lineNumber:144,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/toast.tsx",lineNumber:139,columnNumber:5},void 0)});jO.displayName="ToastIcon";const vP=(t,e)=>{const n={default:"text-foreground",destructive:"text-destructive",success:"text-[color:var(--color-success)]",warning:"text-[color:var(--color-warning)]",info:"text-[color:var(--color-info)]"},r={success:["added","created","saved","completed","success","done"],destructive:["error","failed","deleted","removed","warning"],warning:["warning","caution","alert"],info:["info","note","updated","changed"]};let s=t;return s=s.replace(/([^\s]+\.[a-zA-Z0-9]+)/g,"<strong>$1</strong>"),s=s.replace(/([^\s]*\/[^\s]+)/g,"<strong>$1</strong>"),Object.entries(r).forEach(([o,l])=>{l.forEach(c=>{const f=new RegExp(`\\b(${c})\\b`,"gi"),h=n[o];s=s.replace(f,`<span class="${h} font-medium">$1</span>`)})}),{__html:s}},Z9=3,Q9=5e3;let X_=0;function G9(){return X_=(X_+1)%Number.MAX_SAFE_INTEGER,X_.toString()}const Y_=new Map,wP=t=>{if(Y_.has(t))return;const e=setTimeout(()=>{Y_.delete(t),Ip({type:"REMOVE_TOAST",toastId:t})},Q9);Y_.set(t,e)},J9=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,Z9)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?wP(n):t.toasts.forEach(r=>{wP(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},fx=[];let dx={toasts:[]};function Ip(t){dx=J9(dx,t),fx.forEach(e=>{e(dx)})}function Sp({...t}){const e=G9(),n=s=>Ip({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Ip({type:"DISMISS_TOAST",toastId:e});return Ip({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function eH(){const[t,e]=k.useState(dx);return k.useEffect(()=>(fx.push(e),()=>{const n=fx.indexOf(e);n>-1&&fx.splice(n,1)}),[t]),{...t,toast:Sp,dismiss:n=>Ip({type:"DISMISS_TOAST",toastId:n})}}function tH(){const{toasts:t}=eH();return b.jsxDEV(Y9,{children:[t.map(function({id:e,title:n,description:r,action:s,variant:o,...l}){return b.jsxDEV(RO,{variant:o,...l,children:[b.jsxDEV("div",{className:"flex items-start gap-3",children:[b.jsxDEV(jO,{variant:o},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/toaster.tsx",lineNumber:22,columnNumber:15},this),b.jsxDEV("div",{className:"grid gap-1 flex-1",children:[n&&b.jsxDEV(DO,{dangerouslySetInnerHTML:vP(String(n))},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/toaster.tsx",lineNumber:25,columnNumber:19},this),r&&b.jsxDEV(PO,{dangerouslySetInnerHTML:vP(String(r))},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/toaster.tsx",lineNumber:28,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/toaster.tsx",lineNumber:23,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/toaster.tsx",lineNumber:21,columnNumber:13},this),s,b.jsxDEV(kO,{},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/toaster.tsx",lineNumber:33,columnNumber:13},this)]},e,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/toaster.tsx",lineNumber:20,columnNumber:11},this)}),b.jsxDEV(CO,{},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/toaster.tsx",lineNumber:37,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/toaster.tsx",lineNumber:17,columnNumber:5},this)}var nH=(t,e,n,r,s,o,l,c)=>{let f=document.documentElement,h=["light","dark"];function p(w){(Array.isArray(t)?t:[t]).forEach(E=>{let T=E==="class",C=T&&o?s.map(P=>o[P]||P):s;T?(f.classList.remove(...C),f.classList.add(o&&o[w]?o[w]:w)):f.setAttribute(E,w)}),m(w)}function m(w){c&&h.includes(w)&&(f.style.colorScheme=w)}function x(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)p(r);else try{let w=localStorage.getItem(e)||n,E=l&&w==="system"?x():w;p(E)}catch{}},_P=["light","dark"],MO="(prefers-color-scheme: dark)",rH=typeof window>"u",_E=k.createContext(void 0),sH={setTheme:t=>{},themes:[]},iH=()=>{var t;return(t=k.useContext(_E))!=null?t:sH},oH=t=>k.useContext(_E)?k.createElement(k.Fragment,null,t.children):k.createElement(lH,{...t}),aH=["light","dark"],lH=({forcedTheme:t,disableTransitionOnChange:e=!1,enableSystem:n=!0,enableColorScheme:r=!0,storageKey:s="theme",themes:o=aH,defaultTheme:l=n?"system":"light",attribute:c="data-theme",value:f,children:h,nonce:p,scriptProps:m})=>{let[x,w]=k.useState(()=>uH(s,l)),[E,T]=k.useState(()=>x==="system"?K_():x),C=f?Object.values(f):o,P=k.useCallback(L=>{let O=L;if(!O)return;L==="system"&&n&&(O=K_());let Y=f?f[O]:O,ne=e?fH(p):null,Q=document.documentElement,K=G=>{G==="class"?(Q.classList.remove(...C),Y&&Q.classList.add(Y)):G.startsWith("data-")&&(Y?Q.setAttribute(G,Y):Q.removeAttribute(G))};if(Array.isArray(c)?c.forEach(K):K(c),r){let G=_P.includes(l)?l:null,ue=_P.includes(O)?O:G;Q.style.colorScheme=ue}ne==null||ne()},[p]),j=k.useCallback(L=>{let O=typeof L=="function"?L(x):L;w(O);try{localStorage.setItem(s,O)}catch{}},[x]),D=k.useCallback(L=>{let O=K_(L);T(O),x==="system"&&n&&!t&&P("system")},[x,t]);k.useEffect(()=>{let L=window.matchMedia(MO);return L.addListener(D),D(L),()=>L.removeListener(D)},[D]),k.useEffect(()=>{let L=O=>{O.key===s&&(O.newValue?w(O.newValue):j(l))};return window.addEventListener("storage",L),()=>window.removeEventListener("storage",L)},[j]),k.useEffect(()=>{P(t??x)},[t,x]);let U=k.useMemo(()=>({theme:x,setTheme:j,forcedTheme:t,resolvedTheme:x==="system"?E:x,themes:n?[...o,"system"]:o,systemTheme:n?E:void 0}),[x,j,t,E,n,o]);return k.createElement(_E.Provider,{value:U},k.createElement(cH,{forcedTheme:t,storageKey:s,attribute:c,enableSystem:n,enableColorScheme:r,defaultTheme:l,value:f,themes:o,nonce:p,scriptProps:m}),h)},cH=k.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:o,value:l,themes:c,nonce:f,scriptProps:h})=>{let p=JSON.stringify([n,e,o,t,c,l,r,s]).slice(1,-1);return k.createElement("script",{...h,suppressHydrationWarning:!0,nonce:typeof window>"u"?f:"",dangerouslySetInnerHTML:{__html:`(${nH.toString()})(${p})`}})}),uH=(t,e)=>{if(rH)return;let n;try{n=localStorage.getItem(t)||void 0}catch{}return n||e},fH=t=>{let e=document.createElement("style");return t&&e.setAttribute("nonce",t),e.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},K_=t=>(t||(t=window.matchMedia(MO)),t.matches?"dark":"light");function dH({children:t,...e}){return b.jsxDEV(oH,{...e,children:t},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/theme-provider.tsx",lineNumber:13,columnNumber:10},this)}const hH=Ly("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-thin transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function Dt({className:t,variant:e,size:n,asChild:r=!1,...s}){const o=r?UI:"button";return b.jsxDEV(o,{"data-slot":"button",className:Wt(hH({variant:e,size:n,className:t})),...s},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/button.tsx",lineNumber:51,columnNumber:5},this)}const pH=Ly("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-thin w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function yn({className:t,variant:e,asChild:n=!1,...r}){const s=n?UI:"span";return b.jsxDEV(s,{"data-slot":"badge",className:Wt(pH({variant:e}),t),...r},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/badge.tsx",lineNumber:38,columnNumber:5},this)}var mH=lE[" useId ".trim().toString()]||(()=>{}),gH=0;function Ps(t){const[e,n]=k.useState(mH());return ns(()=>{n(r=>r??String(gH++))},[t]),e?`radix-${e}`:""}var bH=k.createContext(void 0);function NE(t){const e=k.useContext(bH);return t||e||"ltr"}var Z_="rovingFocusGroup.onEntryFocus",xH={bubbles:!1,cancelable:!0},xm="RovingFocusGroup",[WN,IO,yH]=dE(xm),[vH,OO]=Ra(xm,[yH]),[wH,_H]=vH(xm),UO=k.forwardRef((t,e)=>je.jsx(WN.Provider,{scope:t.__scopeRovingFocusGroup,children:je.jsx(WN.Slot,{scope:t.__scopeRovingFocusGroup,children:je.jsx(NH,{...t,ref:e})})}));UO.displayName=xm;var NH=k.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:o,currentTabStopId:l,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:f,onEntryFocus:h,preventScrollOnEntryFocus:p=!1,...m}=t,x=k.useRef(null),w=Zn(e,x),E=NE(o),[T,C]=su({prop:l,defaultProp:c??null,onChange:f,caller:xm}),[P,j]=k.useState(!1),D=ji(h),U=IO(n),L=k.useRef(!1),[O,Y]=k.useState(0);return k.useEffect(()=>{const ne=x.current;if(ne)return ne.addEventListener(Z_,D),()=>ne.removeEventListener(Z_,D)},[D]),je.jsx(wH,{scope:n,orientation:r,dir:E,loop:s,currentTabStopId:T,onItemFocus:k.useCallback(ne=>C(ne),[C]),onItemShiftTab:k.useCallback(()=>j(!0),[]),onFocusableItemAdd:k.useCallback(()=>Y(ne=>ne+1),[]),onFocusableItemRemove:k.useCallback(()=>Y(ne=>ne-1),[]),children:je.jsx(jt.div,{tabIndex:P||O===0?-1:0,"data-orientation":r,...m,ref:w,style:{outline:"none",...t.style},onMouseDown:Bt(t.onMouseDown,()=>{L.current=!0}),onFocus:Bt(t.onFocus,ne=>{const Q=!L.current;if(ne.target===ne.currentTarget&&Q&&!P){const K=new CustomEvent(Z_,xH);if(ne.currentTarget.dispatchEvent(K),!K.defaultPrevented){const G=U().filter(ge=>ge.focusable),ue=G.find(ge=>ge.active),me=G.find(ge=>ge.id===T),ye=[ue,me,...G].filter(Boolean).map(ge=>ge.ref.current);BO(ye,p)}}L.current=!1}),onBlur:Bt(t.onBlur,()=>j(!1))})})}),VO="RovingFocusGroupItem",FO=k.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:o,children:l,...c}=t,f=Ps(),h=o||f,p=_H(VO,n),m=p.currentTabStopId===h,x=IO(n),{onFocusableItemAdd:w,onFocusableItemRemove:E,currentTabStopId:T}=p;return k.useEffect(()=>{if(r)return w(),()=>E()},[r,w,E]),je.jsx(WN.ItemSlot,{scope:n,id:h,focusable:r,active:s,children:je.jsx(jt.span,{tabIndex:m?0:-1,"data-orientation":p.orientation,...c,ref:e,onMouseDown:Bt(t.onMouseDown,C=>{r?p.onItemFocus(h):C.preventDefault()}),onFocus:Bt(t.onFocus,()=>p.onItemFocus(h)),onKeyDown:Bt(t.onKeyDown,C=>{if(C.key==="Tab"&&C.shiftKey){p.onItemShiftTab();return}if(C.target!==C.currentTarget)return;const P=TH(C,p.orientation,p.dir);if(P!==void 0){if(C.metaKey||C.ctrlKey||C.altKey||C.shiftKey)return;C.preventDefault();let D=x().filter(U=>U.focusable).map(U=>U.ref.current);if(P==="last")D.reverse();else if(P==="prev"||P==="next"){P==="prev"&&D.reverse();const U=D.indexOf(C.currentTarget);D=p.loop?AH(D,U+1):D.slice(U+1)}setTimeout(()=>BO(D))}}),children:typeof l=="function"?l({isCurrentTabStop:m,hasTabStop:T!=null}):l})})});FO.displayName=VO;var SH={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function EH(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function TH(t,e,n){const r=EH(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return SH[r]}function BO(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function AH(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var CH=UO,RH=FO,zy="Tabs",[kH,Wme]=Ra(zy,[OO]),LO=OO(),[DH,SE]=kH(zy),zO=k.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:o,orientation:l="horizontal",dir:c,activationMode:f="automatic",...h}=t,p=NE(c),[m,x]=su({prop:r,onChange:s,defaultProp:o??"",caller:zy});return je.jsx(DH,{scope:n,baseId:Ps(),value:m,onValueChange:x,orientation:l,dir:p,activationMode:f,children:je.jsx(jt.div,{dir:p,"data-orientation":l,...h,ref:e})})});zO.displayName=zy;var $O="TabsList",HO=k.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,o=SE($O,n),l=LO(n);return je.jsx(CH,{asChild:!0,...l,orientation:o.orientation,dir:o.dir,loop:r,children:je.jsx(jt.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:e})})});HO.displayName=$O;var WO="TabsTrigger",qO=k.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...o}=t,l=SE(WO,n),c=LO(n),f=KO(l.baseId,r),h=ZO(l.baseId,r),p=r===l.value;return je.jsx(RH,{asChild:!0,...c,focusable:!s,active:p,children:je.jsx(jt.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":h,"data-state":p?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:f,...o,ref:e,onMouseDown:Bt(t.onMouseDown,m=>{!s&&m.button===0&&m.ctrlKey===!1?l.onValueChange(r):m.preventDefault()}),onKeyDown:Bt(t.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&l.onValueChange(r)}),onFocus:Bt(t.onFocus,()=>{const m=l.activationMode!=="manual";!p&&!s&&m&&l.onValueChange(r)})})})});qO.displayName=WO;var XO="TabsContent",YO=k.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:o,...l}=t,c=SE(XO,n),f=KO(c.baseId,r),h=ZO(c.baseId,r),p=r===c.value,m=k.useRef(p);return k.useEffect(()=>{const x=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(x)},[]),je.jsx($l,{present:s||p,children:({present:x})=>je.jsx(jt.div,{"data-state":p?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":f,hidden:!x,id:h,tabIndex:0,...l,ref:e,style:{...t.style,animationDuration:m.current?"0s":void 0},children:x&&o})})});YO.displayName=XO;function KO(t,e){return`${t}-trigger-${e}`}function ZO(t,e){return`${t}-content-${e}`}var PH=zO,jH=HO,MH=qO,IH=YO;function Hl({className:t,...e}){return b.jsxDEV(PH,{"data-slot":"tabs",className:Wt("flex flex-col gap-2",t),...e},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/tabs.tsx",lineNumber:11,columnNumber:5},this)}function Wl({className:t,...e}){return b.jsxDEV(jH,{"data-slot":"tabs-list",className:Wt("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",t),...e},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/tabs.tsx",lineNumber:24,columnNumber:5},this)}function sr({className:t,...e}){return b.jsxDEV(MH,{"data-slot":"tabs-trigger",className:Wt("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-thin whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...e},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/tabs.tsx",lineNumber:40,columnNumber:5},this)}function lr({className:t,...e}){return b.jsxDEV(IH,{"data-slot":"tabs-content",className:Wt("flex-1 outline-none",t),...e},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/tabs.tsx",lineNumber:56,columnNumber:5},this)}const Ft={success:(t,e)=>Sp({variant:"success",title:t,description:e}),error:(t,e)=>Sp({variant:"destructive",title:t,description:e}),info:(t,e)=>Sp({variant:"info",title:t,description:e}),warning:(t,e,n)=>Sp({variant:"warning",title:t,description:e,duration:n==null?void 0:n.duration})},OH="modulepreload",UH=function(t,e){return new URL(t,e).href},NP={},VH=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let l=function(p){return Promise.all(p.map(m=>Promise.resolve(m).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};const c=document.getElementsByTagName("link"),f=document.querySelector("meta[property=csp-nonce]"),h=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));s=l(n.map(p=>{if(p=UH(p,r),p in NP)return;NP[p]=!0;const m=p.endsWith(".css"),x=m?'[rel="stylesheet"]':"";if(!!r)for(let T=c.length-1;T>=0;T--){const C=c[T];if(C.href===p&&(!m||C.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${p}"]${x}`))return;const E=document.createElement("link");if(E.rel=m?"stylesheet":OH,m||(E.as="script"),E.crossOrigin="",E.href=p,h&&E.setAttribute("nonce",h),document.head.appendChild(E),m)return new Promise((T,C)=>{E.addEventListener("load",T),E.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${p}`)))})}))}function o(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return s.then(l=>{for(const c of l||[])c.status==="rejected"&&o(c.reason);return e().catch(o)})},Lf=t=>{if(t===0)return"0 B";const e=1024,n=["B","KB","MB","GB"],r=Math.floor(Math.log(t)/Math.log(e));return parseFloat((t/Math.pow(e,r)).toFixed(1))+" "+n[r]},FH=()=>{const{data:t={}}=Pi({queryKey:["fileSizes"],queryFn:async()=>{const e=await fetch("http://localhost:3333/api/files");if(!e.ok)throw new Error("Failed to fetch files");const n=await e.json(),r={};return n.forEach(s=>{r[s.path]=s.size||0}),r},refetchInterval:3e4});return t},BH=t=>{const[e,n]=k.useState([]),[r,s]=k.useState(!1);return k.useEffect(()=>{t&&(s(!0),zH(t).then(n).catch(o=>{console.warn("Failed to get suggestions for",t,o),n([])}).finally(()=>s(!1)))},[t]),{suggestions:e,loading:r}};let Q_=null;const LH=async()=>{if(!Q_){const{default:t}=await VH(async()=>{const{default:e}=await import("./heuristics-manager-browser-DfonOP5I.js");return{default:e}},[],import.meta.url);Q_=new t}return Q_},zH=async t=>{try{return await(await LH()).suggestBundlesForFile(t)}catch(e){console.warn("Failed to get bundle suggestions from heuristics manager, using fallback:",e);const n=t.toLowerCase(),r=n.split("/"),s=[];return(r.includes("web")||r.includes("components"))&&(s.push("frontend"),r.includes("components")&&s.push("ui-components")),(n.includes("server")||n.includes("api")||r.includes("bin"))&&s.push("server"),(n.includes("config")||n.includes("setup")||n.endsWith(".json")||n.endsWith(".sh")||n.includes("package"))&&s.push("config"),(n.endsWith(".md")||n.includes("doc")||n.includes("readme"))&&s.push("docs"),s.length===0&&(r.includes("web")?s.push("frontend"):s.push("server","config")),s}},qN=t=>{var r;const e=(r=t.split(".").pop())==null?void 0:r.toLowerCase(),n="w-4 h-4";switch(e){case"js":case"ts":case"jsx":case"tsx":return{className:`${n} text-[color:var(--color-warning)]`};case"json":return{className:`${n} text-[color:var(--color-success)]`};case"md":return{className:`${n} text-[color:var(--color-info)]/80`};case"css":case"scss":return{className:`${n} text-[color:var(--color-type-styles)]`};case"html":return{className:`${n} text-[color:var(--color-type-configuration)]`};default:return{className:`${n} text-muted-foreground`}}};function gn({className:t,...e}){return b.jsxDEV("div",{"data-slot":"card",className:Wt("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...e},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/card.tsx",lineNumber:7,columnNumber:5},this)}function Kn({className:t,...e}){return b.jsxDEV("div",{"data-slot":"card-header",className:Wt("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...e},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/card.tsx",lineNumber:20,columnNumber:5},this)}function Jn({className:t,...e}){return b.jsxDEV("div",{"data-slot":"card-title",className:Wt("leading-none font-thin",t),...e},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/card.tsx",lineNumber:33,columnNumber:5},this)}function Ob({className:t,...e}){return b.jsxDEV("div",{"data-slot":"card-description",className:Wt("text-muted-foreground text-sm",t),...e},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/card.tsx",lineNumber:43,columnNumber:5},this)}function vn({className:t,...e}){return b.jsxDEV("div",{"data-slot":"card-content",className:Wt("px-6",t),...e},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/card.tsx",lineNumber:66,columnNumber:5},this)}const $H=(t,e)=>{if(t.changed){if(!e)return"warning";const c=(new Date().getTime()-e.getTime())/(1e3*60);return c>5?"error":(c>1,"warning")}return!e||(new Date().getTime()-e.getTime())/(1e3*60)>10?"stale":"healthy"},HH=(t,e)=>{switch(t){case"healthy":return{label:"SYNCED",variant:"secondary",icon:Qi,className:"text-[color:var(--color-success)]"};case"warning":return{label:e.changed?"SYNCING":"SYNCED",variant:"outline",icon:FN,className:"text-[color:var(--color-warning)] border-[color:var(--color-warning)]/30"};case"error":return{label:"SYNC FAILED",variant:"destructive",icon:Mp,className:""};case"stale":return{label:"STALE",variant:"outline",icon:Ai,className:"text-muted-foreground border-muted-foreground/30"}}},WH=({bundle:t,isSelected:e,onSelect:n,onRegenerate:r,onCopy:s,onDownload:o,loadingButtons:l,successButtons:c,errorButtons:f,hasUnassignedFiles:h,lastRefresh:p})=>{const m=`copy-${t.name}`,x=`download-${t.name}`,w=`regen-${t.name}`,E=l.has(m),T=l.has(x),C=l.has(w),P=c.has(m),j=c.has(x),D=c.has(w),U=f.has(m),L=f.has(x),O=f.has(w),Y=$H(t,p),ne=HH(Y,t),Q=ne.icon;return b.jsxDEV(gn,{className:`cursor-pointer transition-all hover:shadow-md ${t.changed?"border-warning":""} ${e?"ring-2 ring-primary border-primary":""}`,onClick:()=>n(t.name),children:[b.jsxDEV(Kn,{className:"pb-2",children:b.jsxDEV("div",{className:"space-y-1.5",children:[b.jsxDEV("div",{className:"flex items-center gap-2",children:[b.jsxDEV(K7,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleCard.tsx",lineNumber:129,columnNumber:13},void 0),b.jsxDEV("h3",{className:"text-sm font-thin truncate",children:t.name},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleCard.tsx",lineNumber:130,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleCard.tsx",lineNumber:128,columnNumber:11},void 0),b.jsxDEV(yn,{variant:ne.variant,className:`text-xs font-thin h-4 w-fit flex items-center gap-1 ${ne.className}`,title:Y==="error"?"Bundle has been changed for >5min - sync may be failing":Y==="warning"?"Bundle is syncing or recently changed":Y==="stale"?"Data may be stale - no recent refresh":"Bundle is healthy and synced",children:[b.jsxDEV(Q,{className:"w-2.5 h-2.5"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleCard.tsx",lineNumber:140,columnNumber:13},void 0),ne.label]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleCard.tsx",lineNumber:132,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleCard.tsx",lineNumber:127,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleCard.tsx",lineNumber:126,columnNumber:7},void 0),b.jsxDEV(vn,{className:"pt-0",children:b.jsxDEV("div",{className:"space-y-2",children:[b.jsxDEV("div",{className:"text-xs text-muted-foreground",children:b.jsxDEV("div",{className:"flex flex-wrap gap-x-2 gap-y-1 items-center",children:[b.jsxDEV("span",{children:[t.fileCount," files"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleCard.tsx",lineNumber:149,columnNumber:15},void 0),b.jsxDEV("span",{children:"•"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleCard.tsx",lineNumber:150,columnNumber:15},void 0),b.jsxDEV("span",{children:Lf(t.size)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleCard.tsx",lineNumber:151,columnNumber:15},void 0),h&&b.jsxDEV(b.Fragment,{children:[b.jsxDEV("span",{children:"•"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleCard.tsx",lineNumber:154,columnNumber:19},void 0),b.jsxDEV("span",{className:"text-warning text-xs",children:[b.jsxDEV(Ai,{className:"w-2.5 h-2.5 inline mr-1"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleCard.tsx",lineNumber:156,columnNumber:21},void 0),"Files need assignment"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleCard.tsx",lineNumber:155,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleCard.tsx",lineNumber:153,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleCard.tsx",lineNumber:148,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleCard.tsx",lineNumber:147,columnNumber:11},void 0),b.jsxDEV("div",{className:"flex",onClick:K=>K.stopPropagation(),children:b.jsxDEV("div",{className:"inline-flex rounded-md border border-input bg-background shadow-sm",children:[b.jsxDEV(Dt,{variant:"ghost",size:"sm",onClick:()=>r(t.name),disabled:C,className:"h-6 px-1.5 rounded-none border-r border-input first:rounded-l-md last:rounded-r-md hover:bg-accent",children:C?b.jsxDEV(Ol,{className:"w-2.5 h-2.5 animate-spin"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleCard.tsx",lineNumber:174,columnNumber:19},void 0):D?b.jsxDEV(Qi,{className:"w-2.5 h-2.5"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleCard.tsx",lineNumber:176,columnNumber:19},void 0):O?b.jsxDEV(Mp,{className:"w-2.5 h-2.5"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleCard.tsx",lineNumber:178,columnNumber:19},void 0):b.jsxDEV(Ds,{className:"w-2.5 h-2.5"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleCard.tsx",lineNumber:180,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleCard.tsx",lineNumber:166,columnNumber:15},void 0),b.jsxDEV(Dt,{variant:"ghost",size:"sm",onClick:()=>s(t.name),disabled:E,className:"h-6 px-1.5 rounded-none border-r border-input first:rounded-l-md last:rounded-r-md hover:bg-accent",children:E?b.jsxDEV(Ol,{className:"w-2.5 h-2.5 animate-spin"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleCard.tsx",lineNumber:191,columnNumber:19},void 0):P?b.jsxDEV(Qi,{className:"w-2.5 h-2.5"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleCard.tsx",lineNumber:193,columnNumber:19},void 0):U?b.jsxDEV(Mp,{className:"w-2.5 h-2.5"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleCard.tsx",lineNumber:195,columnNumber:19},void 0):b.jsxDEV(pd,{className:"w-2.5 h-2.5"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleCard.tsx",lineNumber:197,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleCard.tsx",lineNumber:183,columnNumber:15},void 0),b.jsxDEV(Dt,{variant:"ghost",size:"sm",onClick:()=>o(t.name),disabled:T,className:"h-6 px-1.5 rounded-none first:rounded-l-md last:rounded-r-md hover:bg-accent",children:T?b.jsxDEV(Ol,{className:"w-2.5 h-2.5 animate-spin"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleCard.tsx",lineNumber:208,columnNumber:19},void 0):j?b.jsxDEV(Qi,{className:"w-2.5 h-2.5"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleCard.tsx",lineNumber:210,columnNumber:19},void 0):L?b.jsxDEV(Mp,{className:"w-2.5 h-2.5"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleCard.tsx",lineNumber:212,columnNumber:19},void 0):b.jsxDEV(kx,{className:"w-2.5 h-2.5"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleCard.tsx",lineNumber:214,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleCard.tsx",lineNumber:200,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleCard.tsx",lineNumber:165,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleCard.tsx",lineNumber:164,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleCard.tsx",lineNumber:146,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleCard.tsx",lineNumber:145,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleCard.tsx",lineNumber:121,columnNumber:5},void 0)};function SP(t,[e,n]){return Math.min(n,Math.max(e,t))}var G_=0;function EE(){k.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??EP()),document.body.insertAdjacentElement("beforeend",t[1]??EP()),G_++,()=>{G_===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),G_--}},[])}function EP(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var J_="focusScope.autoFocusOnMount",e1="focusScope.autoFocusOnUnmount",TP={bubbles:!1,cancelable:!0},qH="FocusScope",$y=k.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...l}=t,[c,f]=k.useState(null),h=ji(s),p=ji(o),m=k.useRef(null),x=Zn(e,T=>f(T)),w=k.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;k.useEffect(()=>{if(r){let T=function(D){if(w.paused||!c)return;const U=D.target;c.contains(U)?m.current=U:ml(m.current,{select:!0})},C=function(D){if(w.paused||!c)return;const U=D.relatedTarget;U!==null&&(c.contains(U)||ml(m.current,{select:!0}))},P=function(D){if(document.activeElement===document.body)for(const L of D)L.removedNodes.length>0&&ml(c)};document.addEventListener("focusin",T),document.addEventListener("focusout",C);const j=new MutationObserver(P);return c&&j.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",T),document.removeEventListener("focusout",C),j.disconnect()}}},[r,c,w.paused]),k.useEffect(()=>{if(c){CP.add(w);const T=document.activeElement;if(!c.contains(T)){const P=new CustomEvent(J_,TP);c.addEventListener(J_,h),c.dispatchEvent(P),P.defaultPrevented||(XH(GH(QO(c)),{select:!0}),document.activeElement===T&&ml(c))}return()=>{c.removeEventListener(J_,h),setTimeout(()=>{const P=new CustomEvent(e1,TP);c.addEventListener(e1,p),c.dispatchEvent(P),P.defaultPrevented||ml(T??document.body,{select:!0}),c.removeEventListener(e1,p),CP.remove(w)},0)}}},[c,h,p,w]);const E=k.useCallback(T=>{if(!n&&!r||w.paused)return;const C=T.key==="Tab"&&!T.altKey&&!T.ctrlKey&&!T.metaKey,P=document.activeElement;if(C&&P){const j=T.currentTarget,[D,U]=YH(j);D&&U?!T.shiftKey&&P===U?(T.preventDefault(),n&&ml(D,{select:!0})):T.shiftKey&&P===D&&(T.preventDefault(),n&&ml(U,{select:!0})):P===j&&T.preventDefault()}},[n,r,w.paused]);return je.jsx(jt.div,{tabIndex:-1,...l,ref:x,onKeyDown:E})});$y.displayName=qH;function XH(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(ml(r,{select:e}),document.activeElement!==n)return}function YH(t){const e=QO(t),n=AP(e,t),r=AP(e.reverse(),t);return[n,r]}function QO(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function AP(t,e){for(const n of t)if(!KH(n,{upTo:e}))return n}function KH(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function ZH(t){return t instanceof HTMLInputElement&&"select"in t}function ml(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&ZH(t)&&e&&t.select()}}var CP=QH();function QH(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=RP(t,e),t.unshift(e)},remove(e){var n;t=RP(t,e),(n=t[0])==null||n.resume()}}}function RP(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function GH(t){return t.filter(e=>e.tagName!=="A")}const JH=["top","right","bottom","left"],Fl=Math.min,ai=Math.max,Mx=Math.round,Ub=Math.floor,Vo=t=>({x:t,y:t}),eW={left:"right",right:"left",bottom:"top",top:"bottom"},tW={start:"end",end:"start"};function XN(t,e,n){return ai(t,Fl(e,n))}function Ta(t,e){return typeof t=="function"?t(e):t}function Aa(t){return t.split("-")[0]}function Md(t){return t.split("-")[1]}function TE(t){return t==="x"?"y":"x"}function AE(t){return t==="y"?"height":"width"}function Oo(t){return["top","bottom"].includes(Aa(t))?"y":"x"}function CE(t){return TE(Oo(t))}function nW(t,e,n){n===void 0&&(n=!1);const r=Md(t),s=CE(t),o=AE(s);let l=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(l=Ix(l)),[l,Ix(l)]}function rW(t){const e=Ix(t);return[YN(t),e,YN(e)]}function YN(t){return t.replace(/start|end/g,e=>tW[e])}function sW(t,e,n){const r=["left","right"],s=["right","left"],o=["top","bottom"],l=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?o:l;default:return[]}}function iW(t,e,n,r){const s=Md(t);let o=sW(Aa(t),n==="start",r);return s&&(o=o.map(l=>l+"-"+s),e&&(o=o.concat(o.map(YN)))),o}function Ix(t){return t.replace(/left|right|bottom|top/g,e=>eW[e])}function oW(t){return{top:0,right:0,bottom:0,left:0,...t}}function GO(t){return typeof t!="number"?oW(t):{top:t,right:t,bottom:t,left:t}}function Ox(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function kP(t,e,n){let{reference:r,floating:s}=t;const o=Oo(e),l=CE(e),c=AE(l),f=Aa(e),h=o==="y",p=r.x+r.width/2-s.width/2,m=r.y+r.height/2-s.height/2,x=r[c]/2-s[c]/2;let w;switch(f){case"top":w={x:p,y:r.y-s.height};break;case"bottom":w={x:p,y:r.y+r.height};break;case"right":w={x:r.x+r.width,y:m};break;case"left":w={x:r.x-s.width,y:m};break;default:w={x:r.x,y:r.y}}switch(Md(e)){case"start":w[l]-=x*(n&&h?-1:1);break;case"end":w[l]+=x*(n&&h?-1:1);break}return w}const aW=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:l}=n,c=o.filter(Boolean),f=await(l.isRTL==null?void 0:l.isRTL(e));let h=await l.getElementRects({reference:t,floating:e,strategy:s}),{x:p,y:m}=kP(h,r,f),x=r,w={},E=0;for(let T=0;T<c.length;T++){const{name:C,fn:P}=c[T],{x:j,y:D,data:U,reset:L}=await P({x:p,y:m,initialPlacement:r,placement:x,strategy:s,middlewareData:w,rects:h,platform:l,elements:{reference:t,floating:e}});p=j??p,m=D??m,w={...w,[C]:{...w[C],...U}},L&&E<=50&&(E++,typeof L=="object"&&(L.placement&&(x=L.placement),L.rects&&(h=L.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:s}):L.rects),{x:p,y:m}=kP(h,x,f)),T=-1)}return{x:p,y:m,placement:x,strategy:s,middlewareData:w}};async function Zp(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:o,rects:l,elements:c,strategy:f}=t,{boundary:h="clippingAncestors",rootBoundary:p="viewport",elementContext:m="floating",altBoundary:x=!1,padding:w=0}=Ta(e,t),E=GO(w),C=c[x?m==="floating"?"reference":"floating":m],P=Ox(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(C)))==null||n?C:C.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(c.floating)),boundary:h,rootBoundary:p,strategy:f})),j=m==="floating"?{x:r,y:s,width:l.floating.width,height:l.floating.height}:l.reference,D=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c.floating)),U=await(o.isElement==null?void 0:o.isElement(D))?await(o.getScale==null?void 0:o.getScale(D))||{x:1,y:1}:{x:1,y:1},L=Ox(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:j,offsetParent:D,strategy:f}):j);return{top:(P.top-L.top+E.top)/U.y,bottom:(L.bottom-P.bottom+E.bottom)/U.y,left:(P.left-L.left+E.left)/U.x,right:(L.right-P.right+E.right)/U.x}}const lW=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:o,platform:l,elements:c,middlewareData:f}=e,{element:h,padding:p=0}=Ta(t,e)||{};if(h==null)return{};const m=GO(p),x={x:n,y:r},w=CE(s),E=AE(w),T=await l.getDimensions(h),C=w==="y",P=C?"top":"left",j=C?"bottom":"right",D=C?"clientHeight":"clientWidth",U=o.reference[E]+o.reference[w]-x[w]-o.floating[E],L=x[w]-o.reference[w],O=await(l.getOffsetParent==null?void 0:l.getOffsetParent(h));let Y=O?O[D]:0;(!Y||!await(l.isElement==null?void 0:l.isElement(O)))&&(Y=c.floating[D]||o.floating[E]);const ne=U/2-L/2,Q=Y/2-T[E]/2-1,K=Fl(m[P],Q),G=Fl(m[j],Q),ue=K,me=Y-T[E]-G,le=Y/2-T[E]/2+ne,ye=XN(ue,le,me),ge=!f.arrow&&Md(s)!=null&&le!==ye&&o.reference[E]/2-(le<ue?K:G)-T[E]/2<0,Me=ge?le<ue?le-ue:le-me:0;return{[w]:x[w]+Me,data:{[w]:ye,centerOffset:le-ye-Me,...ge&&{alignmentOffset:Me}},reset:ge}}}),cW=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:o,rects:l,initialPlacement:c,platform:f,elements:h}=e,{mainAxis:p=!0,crossAxis:m=!0,fallbackPlacements:x,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:T=!0,...C}=Ta(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const P=Aa(s),j=Oo(c),D=Aa(c)===c,U=await(f.isRTL==null?void 0:f.isRTL(h.floating)),L=x||(D||!T?[Ix(c)]:rW(c)),O=E!=="none";!x&&O&&L.push(...iW(c,T,E,U));const Y=[c,...L],ne=await Zp(e,C),Q=[];let K=((r=o.flip)==null?void 0:r.overflows)||[];if(p&&Q.push(ne[P]),m){const le=nW(s,l,U);Q.push(ne[le[0]],ne[le[1]])}if(K=[...K,{placement:s,overflows:Q}],!Q.every(le=>le<=0)){var G,ue;const le=(((G=o.flip)==null?void 0:G.index)||0)+1,ye=Y[le];if(ye&&(!(m==="alignment"?j!==Oo(ye):!1)||K.every(we=>we.overflows[0]>0&&Oo(we.placement)===j)))return{data:{index:le,overflows:K},reset:{placement:ye}};let ge=(ue=K.filter(Me=>Me.overflows[0]<=0).sort((Me,we)=>Me.overflows[1]-we.overflows[1])[0])==null?void 0:ue.placement;if(!ge)switch(w){case"bestFit":{var me;const Me=(me=K.filter(we=>{if(O){const Ke=Oo(we.placement);return Ke===j||Ke==="y"}return!0}).map(we=>[we.placement,we.overflows.filter(Ke=>Ke>0).reduce((Ke,V)=>Ke+V,0)]).sort((we,Ke)=>we[1]-Ke[1])[0])==null?void 0:me[0];Me&&(ge=Me);break}case"initialPlacement":ge=c;break}if(s!==ge)return{reset:{placement:ge}}}return{}}}};function DP(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function PP(t){return JH.some(e=>t[e]>=0)}const uW=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Ta(t,e);switch(r){case"referenceHidden":{const o=await Zp(e,{...s,elementContext:"reference"}),l=DP(o,n.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:PP(l)}}}case"escaped":{const o=await Zp(e,{...s,altBoundary:!0}),l=DP(o,n.floating);return{data:{escapedOffsets:l,escaped:PP(l)}}}default:return{}}}}};async function fW(t,e){const{placement:n,platform:r,elements:s}=t,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),l=Aa(n),c=Md(n),f=Oo(n)==="y",h=["left","top"].includes(l)?-1:1,p=o&&f?-1:1,m=Ta(e,t);let{mainAxis:x,crossAxis:w,alignmentAxis:E}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return c&&typeof E=="number"&&(w=c==="end"?E*-1:E),f?{x:w*p,y:x*h}:{x:x*h,y:w*p}}const dW=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:o,placement:l,middlewareData:c}=e,f=await fW(e,t);return l===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:s+f.x,y:o+f.y,data:{...f,placement:l}}}}},hW=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:o=!0,crossAxis:l=!1,limiter:c={fn:C=>{let{x:P,y:j}=C;return{x:P,y:j}}},...f}=Ta(t,e),h={x:n,y:r},p=await Zp(e,f),m=Oo(Aa(s)),x=TE(m);let w=h[x],E=h[m];if(o){const C=x==="y"?"top":"left",P=x==="y"?"bottom":"right",j=w+p[C],D=w-p[P];w=XN(j,w,D)}if(l){const C=m==="y"?"top":"left",P=m==="y"?"bottom":"right",j=E+p[C],D=E-p[P];E=XN(j,E,D)}const T=c.fn({...e,[x]:w,[m]:E});return{...T,data:{x:T.x-n,y:T.y-r,enabled:{[x]:o,[m]:l}}}}}},pW=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:o,middlewareData:l}=e,{offset:c=0,mainAxis:f=!0,crossAxis:h=!0}=Ta(t,e),p={x:n,y:r},m=Oo(s),x=TE(m);let w=p[x],E=p[m];const T=Ta(c,e),C=typeof T=="number"?{mainAxis:T,crossAxis:0}:{mainAxis:0,crossAxis:0,...T};if(f){const D=x==="y"?"height":"width",U=o.reference[x]-o.floating[D]+C.mainAxis,L=o.reference[x]+o.reference[D]-C.mainAxis;w<U?w=U:w>L&&(w=L)}if(h){var P,j;const D=x==="y"?"width":"height",U=["top","left"].includes(Aa(s)),L=o.reference[m]-o.floating[D]+(U&&((P=l.offset)==null?void 0:P[m])||0)+(U?0:C.crossAxis),O=o.reference[m]+o.reference[D]+(U?0:((j=l.offset)==null?void 0:j[m])||0)-(U?C.crossAxis:0);E<L?E=L:E>O&&(E=O)}return{[x]:w,[m]:E}}}},mW=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:o,platform:l,elements:c}=e,{apply:f=()=>{},...h}=Ta(t,e),p=await Zp(e,h),m=Aa(s),x=Md(s),w=Oo(s)==="y",{width:E,height:T}=o.floating;let C,P;m==="top"||m==="bottom"?(C=m,P=x===(await(l.isRTL==null?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(P=m,C=x==="end"?"top":"bottom");const j=T-p.top-p.bottom,D=E-p.left-p.right,U=Fl(T-p[C],j),L=Fl(E-p[P],D),O=!e.middlewareData.shift;let Y=U,ne=L;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(ne=D),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(Y=j),O&&!x){const K=ai(p.left,0),G=ai(p.right,0),ue=ai(p.top,0),me=ai(p.bottom,0);w?ne=E-2*(K!==0||G!==0?K+G:ai(p.left,p.right)):Y=T-2*(ue!==0||me!==0?ue+me:ai(p.top,p.bottom))}await f({...e,availableWidth:ne,availableHeight:Y});const Q=await l.getDimensions(c.floating);return E!==Q.width||T!==Q.height?{reset:{rects:!0}}:{}}}};function Hy(){return typeof window<"u"}function Id(t){return JO(t)?(t.nodeName||"").toLowerCase():"#document"}function ci(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function zo(t){var e;return(e=(JO(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function JO(t){return Hy()?t instanceof Node||t instanceof ci(t).Node:!1}function no(t){return Hy()?t instanceof Element||t instanceof ci(t).Element:!1}function Fo(t){return Hy()?t instanceof HTMLElement||t instanceof ci(t).HTMLElement:!1}function jP(t){return!Hy()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ci(t).ShadowRoot}function ym(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=ro(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function gW(t){return["table","td","th"].includes(Id(t))}function Wy(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function RE(t){const e=kE(),n=no(t)?ro(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function bW(t){let e=Bl(t);for(;Fo(e)&&!gd(e);){if(RE(e))return e;if(Wy(e))return null;e=Bl(e)}return null}function kE(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function gd(t){return["html","body","#document"].includes(Id(t))}function ro(t){return ci(t).getComputedStyle(t)}function qy(t){return no(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Bl(t){if(Id(t)==="html")return t;const e=t.assignedSlot||t.parentNode||jP(t)&&t.host||zo(t);return jP(e)?e.host:e}function eU(t){const e=Bl(t);return gd(e)?t.ownerDocument?t.ownerDocument.body:t.body:Fo(e)&&ym(e)?e:eU(e)}function Qp(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=eU(t),o=s===((r=t.ownerDocument)==null?void 0:r.body),l=ci(s);if(o){const c=KN(l);return e.concat(l,l.visualViewport||[],ym(s)?s:[],c&&n?Qp(c):[])}return e.concat(s,Qp(s,[],n))}function KN(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function tU(t){const e=ro(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Fo(t),o=s?t.offsetWidth:n,l=s?t.offsetHeight:r,c=Mx(n)!==o||Mx(r)!==l;return c&&(n=o,r=l),{width:n,height:r,$:c}}function DE(t){return no(t)?t:t.contextElement}function Kf(t){const e=DE(t);if(!Fo(e))return Vo(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:o}=tU(e);let l=(o?Mx(n.width):n.width)/r,c=(o?Mx(n.height):n.height)/s;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const xW=Vo(0);function nU(t){const e=ci(t);return!kE()||!e.visualViewport?xW:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function yW(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==ci(t)?!1:e}function ou(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),o=DE(t);let l=Vo(1);e&&(r?no(r)&&(l=Kf(r)):l=Kf(t));const c=yW(o,n,r)?nU(o):Vo(0);let f=(s.left+c.x)/l.x,h=(s.top+c.y)/l.y,p=s.width/l.x,m=s.height/l.y;if(o){const x=ci(o),w=r&&no(r)?ci(r):r;let E=x,T=KN(E);for(;T&&r&&w!==E;){const C=Kf(T),P=T.getBoundingClientRect(),j=ro(T),D=P.left+(T.clientLeft+parseFloat(j.paddingLeft))*C.x,U=P.top+(T.clientTop+parseFloat(j.paddingTop))*C.y;f*=C.x,h*=C.y,p*=C.x,m*=C.y,f+=D,h+=U,E=ci(T),T=KN(E)}}return Ox({width:p,height:m,x:f,y:h})}function PE(t,e){const n=qy(t).scrollLeft;return e?e.left+n:ou(zo(t)).left+n}function rU(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:PE(t,r)),o=r.top+e.scrollTop;return{x:s,y:o}}function vW(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const o=s==="fixed",l=zo(r),c=e?Wy(e.floating):!1;if(r===l||c&&o)return n;let f={scrollLeft:0,scrollTop:0},h=Vo(1);const p=Vo(0),m=Fo(r);if((m||!m&&!o)&&((Id(r)!=="body"||ym(l))&&(f=qy(r)),Fo(r))){const w=ou(r);h=Kf(r),p.x=w.x+r.clientLeft,p.y=w.y+r.clientTop}const x=l&&!m&&!o?rU(l,f,!0):Vo(0);return{width:n.width*h.x,height:n.height*h.y,x:n.x*h.x-f.scrollLeft*h.x+p.x+x.x,y:n.y*h.y-f.scrollTop*h.y+p.y+x.y}}function wW(t){return Array.from(t.getClientRects())}function _W(t){const e=zo(t),n=qy(t),r=t.ownerDocument.body,s=ai(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=ai(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+PE(t);const c=-n.scrollTop;return ro(r).direction==="rtl"&&(l+=ai(e.clientWidth,r.clientWidth)-s),{width:s,height:o,x:l,y:c}}function NW(t,e){const n=ci(t),r=zo(t),s=n.visualViewport;let o=r.clientWidth,l=r.clientHeight,c=0,f=0;if(s){o=s.width,l=s.height;const h=kE();(!h||h&&e==="fixed")&&(c=s.offsetLeft,f=s.offsetTop)}return{width:o,height:l,x:c,y:f}}function SW(t,e){const n=ou(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,o=Fo(t)?Kf(t):Vo(1),l=t.clientWidth*o.x,c=t.clientHeight*o.y,f=s*o.x,h=r*o.y;return{width:l,height:c,x:f,y:h}}function MP(t,e,n){let r;if(e==="viewport")r=NW(t,n);else if(e==="document")r=_W(zo(t));else if(no(e))r=SW(e,n);else{const s=nU(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Ox(r)}function sU(t,e){const n=Bl(t);return n===e||!no(n)||gd(n)?!1:ro(n).position==="fixed"||sU(n,e)}function EW(t,e){const n=e.get(t);if(n)return n;let r=Qp(t,[],!1).filter(c=>no(c)&&Id(c)!=="body"),s=null;const o=ro(t).position==="fixed";let l=o?Bl(t):t;for(;no(l)&&!gd(l);){const c=ro(l),f=RE(l);!f&&c.position==="fixed"&&(s=null),(o?!f&&!s:!f&&c.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||ym(l)&&!f&&sU(t,l))?r=r.filter(p=>p!==l):s=c,l=Bl(l)}return e.set(t,r),r}function TW(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const l=[...n==="clippingAncestors"?Wy(e)?[]:EW(e,this._c):[].concat(n),r],c=l[0],f=l.reduce((h,p)=>{const m=MP(e,p,s);return h.top=ai(m.top,h.top),h.right=Fl(m.right,h.right),h.bottom=Fl(m.bottom,h.bottom),h.left=ai(m.left,h.left),h},MP(e,c,s));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function AW(t){const{width:e,height:n}=tU(t);return{width:e,height:n}}function CW(t,e,n){const r=Fo(e),s=zo(e),o=n==="fixed",l=ou(t,!0,o,e);let c={scrollLeft:0,scrollTop:0};const f=Vo(0);function h(){f.x=PE(s)}if(r||!r&&!o)if((Id(e)!=="body"||ym(s))&&(c=qy(e)),r){const w=ou(e,!0,o,e);f.x=w.x+e.clientLeft,f.y=w.y+e.clientTop}else s&&h();o&&!r&&s&&h();const p=s&&!r&&!o?rU(s,c):Vo(0),m=l.left+c.scrollLeft-f.x-p.x,x=l.top+c.scrollTop-f.y-p.y;return{x:m,y:x,width:l.width,height:l.height}}function t1(t){return ro(t).position==="static"}function IP(t,e){if(!Fo(t)||ro(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return zo(t)===n&&(n=n.ownerDocument.body),n}function iU(t,e){const n=ci(t);if(Wy(t))return n;if(!Fo(t)){let s=Bl(t);for(;s&&!gd(s);){if(no(s)&&!t1(s))return s;s=Bl(s)}return n}let r=IP(t,e);for(;r&&gW(r)&&t1(r);)r=IP(r,e);return r&&gd(r)&&t1(r)&&!RE(r)?n:r||bW(t)||n}const RW=async function(t){const e=this.getOffsetParent||iU,n=this.getDimensions,r=await n(t.floating);return{reference:CW(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function kW(t){return ro(t).direction==="rtl"}const DW={convertOffsetParentRelativeRectToViewportRelativeRect:vW,getDocumentElement:zo,getClippingRect:TW,getOffsetParent:iU,getElementRects:RW,getClientRects:wW,getDimensions:AW,getScale:Kf,isElement:no,isRTL:kW};function oU(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function PW(t,e){let n=null,r;const s=zo(t);function o(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function l(c,f){c===void 0&&(c=!1),f===void 0&&(f=1),o();const h=t.getBoundingClientRect(),{left:p,top:m,width:x,height:w}=h;if(c||e(),!x||!w)return;const E=Ub(m),T=Ub(s.clientWidth-(p+x)),C=Ub(s.clientHeight-(m+w)),P=Ub(p),D={rootMargin:-E+"px "+-T+"px "+-C+"px "+-P+"px",threshold:ai(0,Fl(1,f))||1};let U=!0;function L(O){const Y=O[0].intersectionRatio;if(Y!==f){if(!U)return l();Y?l(!1,Y):r=setTimeout(()=>{l(!1,1e-7)},1e3)}Y===1&&!oU(h,t.getBoundingClientRect())&&l(),U=!1}try{n=new IntersectionObserver(L,{...D,root:s.ownerDocument})}catch{n=new IntersectionObserver(L,D)}n.observe(t)}return l(!0),o}function jW(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:f=!1}=r,h=DE(t),p=s||o?[...h?Qp(h):[],...Qp(e)]:[];p.forEach(P=>{s&&P.addEventListener("scroll",n,{passive:!0}),o&&P.addEventListener("resize",n)});const m=h&&c?PW(h,n):null;let x=-1,w=null;l&&(w=new ResizeObserver(P=>{let[j]=P;j&&j.target===h&&w&&(w.unobserve(e),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var D;(D=w)==null||D.observe(e)})),n()}),h&&!f&&w.observe(h),w.observe(e));let E,T=f?ou(t):null;f&&C();function C(){const P=ou(t);T&&!oU(T,P)&&n(),T=P,E=requestAnimationFrame(C)}return n(),()=>{var P;p.forEach(j=>{s&&j.removeEventListener("scroll",n),o&&j.removeEventListener("resize",n)}),m==null||m(),(P=w)==null||P.disconnect(),w=null,f&&cancelAnimationFrame(E)}}const MW=dW,IW=hW,OW=cW,UW=mW,VW=uW,OP=lW,FW=pW,BW=(t,e,n)=>{const r=new Map,s={platform:DW,...n},o={...s.platform,_c:r};return aW(t,e,{...s,platform:o})};var LW=typeof document<"u",zW=function(){},hx=LW?k.useLayoutEffect:zW;function Ux(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Ux(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&t.$$typeof)&&!Ux(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function aU(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function UP(t,e){const n=aU(t);return Math.round(e*n)/n}function n1(t){const e=k.useRef(t);return hx(()=>{e.current=t}),e}function $W(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:l}={},transform:c=!0,whileElementsMounted:f,open:h}=t,[p,m]=k.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[x,w]=k.useState(r);Ux(x,r)||w(r);const[E,T]=k.useState(null),[C,P]=k.useState(null),j=k.useCallback(we=>{we!==O.current&&(O.current=we,T(we))},[]),D=k.useCallback(we=>{we!==Y.current&&(Y.current=we,P(we))},[]),U=o||E,L=l||C,O=k.useRef(null),Y=k.useRef(null),ne=k.useRef(p),Q=f!=null,K=n1(f),G=n1(s),ue=n1(h),me=k.useCallback(()=>{if(!O.current||!Y.current)return;const we={placement:e,strategy:n,middleware:x};G.current&&(we.platform=G.current),BW(O.current,Y.current,we).then(Ke=>{const V={...Ke,isPositioned:ue.current!==!1};le.current&&!Ux(ne.current,V)&&(ne.current=V,Dd.flushSync(()=>{m(V)}))})},[x,e,n,G,ue]);hx(()=>{h===!1&&ne.current.isPositioned&&(ne.current.isPositioned=!1,m(we=>({...we,isPositioned:!1})))},[h]);const le=k.useRef(!1);hx(()=>(le.current=!0,()=>{le.current=!1}),[]),hx(()=>{if(U&&(O.current=U),L&&(Y.current=L),U&&L){if(K.current)return K.current(U,L,me);me()}},[U,L,me,K,Q]);const ye=k.useMemo(()=>({reference:O,floating:Y,setReference:j,setFloating:D}),[j,D]),ge=k.useMemo(()=>({reference:U,floating:L}),[U,L]),Me=k.useMemo(()=>{const we={position:n,left:0,top:0};if(!ge.floating)return we;const Ke=UP(ge.floating,p.x),V=UP(ge.floating,p.y);return c?{...we,transform:"translate("+Ke+"px, "+V+"px)",...aU(ge.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Ke,top:V}},[n,c,ge.floating,p.x,p.y]);return k.useMemo(()=>({...p,update:me,refs:ye,elements:ge,floatingStyles:Me}),[p,me,ye,ge,Me])}const HW=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?OP({element:r.current,padding:s}).fn(n):{}:r?OP({element:r,padding:s}).fn(n):{}}}},WW=(t,e)=>({...MW(t),options:[t,e]}),qW=(t,e)=>({...IW(t),options:[t,e]}),XW=(t,e)=>({...FW(t),options:[t,e]}),YW=(t,e)=>({...OW(t),options:[t,e]}),KW=(t,e)=>({...UW(t),options:[t,e]}),ZW=(t,e)=>({...VW(t),options:[t,e]}),QW=(t,e)=>({...HW(t),options:[t,e]});var GW="Arrow",lU=k.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...o}=t;return je.jsx(jt.svg,{...o,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:je.jsx("polygon",{points:"0,0 30,0 15,10"})})});lU.displayName=GW;var JW=lU;function eq(t){const[e,n]=k.useState(void 0);return ns(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let l,c;if("borderBoxSize"in o){const f=o.borderBoxSize,h=Array.isArray(f)?f[0]:f;l=h.inlineSize,c=h.blockSize}else l=t.offsetWidth,c=t.offsetHeight;n({width:l,height:c})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var jE="Popper",[cU,Xy]=Ra(jE),[tq,uU]=cU(jE),fU=t=>{const{__scopePopper:e,children:n}=t,[r,s]=k.useState(null);return je.jsx(tq,{scope:e,anchor:r,onAnchorChange:s,children:n})};fU.displayName=jE;var dU="PopperAnchor",hU=k.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,o=uU(dU,n),l=k.useRef(null),c=Zn(e,l);return k.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||l.current)}),r?null:je.jsx(jt.div,{...s,ref:c})});hU.displayName=dU;var ME="PopperContent",[nq,rq]=cU(ME),pU=k.forwardRef((t,e)=>{var he,oe,De,qe,Ye,tt;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:l=0,arrowPadding:c=0,avoidCollisions:f=!0,collisionBoundary:h=[],collisionPadding:p=0,sticky:m="partial",hideWhenDetached:x=!1,updatePositionStrategy:w="optimized",onPlaced:E,...T}=t,C=uU(ME,n),[P,j]=k.useState(null),D=Zn(e,Ue=>j(Ue)),[U,L]=k.useState(null),O=eq(U),Y=(O==null?void 0:O.width)??0,ne=(O==null?void 0:O.height)??0,Q=r+(o!=="center"?"-"+o:""),K=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},G=Array.isArray(h)?h:[h],ue=G.length>0,me={padding:K,boundary:G.filter(iq),altBoundary:ue},{refs:le,floatingStyles:ye,placement:ge,isPositioned:Me,middlewareData:we}=$W({strategy:"fixed",placement:Q,whileElementsMounted:(...Ue)=>jW(...Ue,{animationFrame:w==="always"}),elements:{reference:C.anchor},middleware:[WW({mainAxis:s+ne,alignmentAxis:l}),f&&qW({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?XW():void 0,...me}),f&&YW({...me}),KW({...me,apply:({elements:Ue,rects:nt,availableWidth:lt,availableHeight:gt})=>{const{width:Lt,height:Yt}=nt.reference,Ot=Ue.floating.style;Ot.setProperty("--radix-popper-available-width",`${lt}px`),Ot.setProperty("--radix-popper-available-height",`${gt}px`),Ot.setProperty("--radix-popper-anchor-width",`${Lt}px`),Ot.setProperty("--radix-popper-anchor-height",`${Yt}px`)}}),U&&QW({element:U,padding:c}),oq({arrowWidth:Y,arrowHeight:ne}),x&&ZW({strategy:"referenceHidden",...me})]}),[Ke,V]=bU(ge),fe=ji(E);ns(()=>{Me&&(fe==null||fe())},[Me,fe]);const se=(he=we.arrow)==null?void 0:he.x,B=(oe=we.arrow)==null?void 0:oe.y,ce=((De=we.arrow)==null?void 0:De.centerOffset)!==0,[Z,xe]=k.useState();return ns(()=>{P&&xe(window.getComputedStyle(P).zIndex)},[P]),je.jsx("div",{ref:le.setFloating,"data-radix-popper-content-wrapper":"",style:{...ye,transform:Me?ye.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Z,"--radix-popper-transform-origin":[(qe=we.transformOrigin)==null?void 0:qe.x,(Ye=we.transformOrigin)==null?void 0:Ye.y].join(" "),...((tt=we.hide)==null?void 0:tt.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:je.jsx(nq,{scope:n,placedSide:Ke,onArrowChange:L,arrowX:se,arrowY:B,shouldHideArrow:ce,children:je.jsx(jt.div,{"data-side":Ke,"data-align":V,...T,ref:D,style:{...T.style,animation:Me?void 0:"none"}})})})});pU.displayName=ME;var mU="PopperArrow",sq={top:"bottom",right:"left",bottom:"top",left:"right"},gU=k.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,o=rq(mU,r),l=sq[o.placedSide];return je.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:je.jsx(JW,{...s,ref:n,style:{...s.style,display:"block"}})})});gU.displayName=mU;function iq(t){return t!==null}var oq=t=>({name:"transformOrigin",options:t,fn(e){var C,P,j;const{placement:n,rects:r,middlewareData:s}=e,l=((C=s.arrow)==null?void 0:C.centerOffset)!==0,c=l?0:t.arrowWidth,f=l?0:t.arrowHeight,[h,p]=bU(n),m={start:"0%",center:"50%",end:"100%"}[p],x=(((P=s.arrow)==null?void 0:P.x)??0)+c/2,w=(((j=s.arrow)==null?void 0:j.y)??0)+f/2;let E="",T="";return h==="bottom"?(E=l?m:`${x}px`,T=`${-f}px`):h==="top"?(E=l?m:`${x}px`,T=`${r.floating.height+f}px`):h==="right"?(E=`${-f}px`,T=l?m:`${w}px`):h==="left"&&(E=`${r.floating.width+f}px`,T=l?m:`${w}px`),{data:{x:E,y:T}}}});function bU(t){const[e,n="center"]=t.split("-");return[e,n]}var xU=fU,IE=hU,yU=pU,vU=gU;function aq(t){const e=k.useRef({value:t,previous:t});return k.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var lq=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},wf=new WeakMap,Vb=new WeakMap,Fb={},r1=0,wU=function(t){return t&&(t.host||wU(t.parentNode))},cq=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=wU(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},uq=function(t,e,n,r){var s=cq(e,Array.isArray(t)?t:[t]);Fb[n]||(Fb[n]=new WeakMap);var o=Fb[n],l=[],c=new Set,f=new Set(s),h=function(m){!m||c.has(m)||(c.add(m),h(m.parentNode))};s.forEach(h);var p=function(m){!m||f.has(m)||Array.prototype.forEach.call(m.children,function(x){if(c.has(x))p(x);else try{var w=x.getAttribute(r),E=w!==null&&w!=="false",T=(wf.get(x)||0)+1,C=(o.get(x)||0)+1;wf.set(x,T),o.set(x,C),l.push(x),T===1&&E&&Vb.set(x,!0),C===1&&x.setAttribute(n,"true"),E||x.setAttribute(r,"true")}catch(P){console.error("aria-hidden: cannot operate on ",x,P)}})};return p(e),c.clear(),r1++,function(){l.forEach(function(m){var x=wf.get(m)-1,w=o.get(m)-1;wf.set(m,x),o.set(m,w),x||(Vb.has(m)||m.removeAttribute(r),Vb.delete(m)),w||m.removeAttribute(n)}),r1--,r1||(wf=new WeakMap,wf=new WeakMap,Vb=new WeakMap,Fb={})}},OE=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=lq(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),uq(r,s,n,"aria-hidden")):function(){return null}},Po=function(){return Po=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Po.apply(this,arguments)};function _U(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function fq(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,o;r<s;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var px="right-scroll-bar-position",mx="width-before-scroll-bar",dq="with-scroll-bars-hidden",hq="--removed-body-scroll-bar-size";function s1(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function pq(t,e){var n=k.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var mq=typeof window<"u"?k.useLayoutEffect:k.useEffect,VP=new WeakMap;function gq(t,e){var n=pq(null,function(r){return t.forEach(function(s){return s1(s,r)})});return mq(function(){var r=VP.get(n);if(r){var s=new Set(r),o=new Set(t),l=n.current;s.forEach(function(c){o.has(c)||s1(c,null)}),o.forEach(function(c){s.has(c)||s1(c,l)})}VP.set(n,t)},[t]),n}function bq(t){return t}function xq(t,e){e===void 0&&(e=bq);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var l=e(o,r);return n.push(l),function(){n=n.filter(function(c){return c!==l})}},assignSyncMedium:function(o){for(r=!0;n.length;){var l=n;n=[],l.forEach(o)}n={push:function(c){return o(c)},filter:function(){return n}}},assignMedium:function(o){r=!0;var l=[];if(n.length){var c=n;n=[],c.forEach(o),l=n}var f=function(){var p=l;l=[],p.forEach(o)},h=function(){return Promise.resolve().then(f)};h(),n={push:function(p){l.push(p),h()},filter:function(p){return l=l.filter(p),n}}}};return s}function yq(t){t===void 0&&(t={});var e=xq(null);return e.options=Po({async:!0,ssr:!1},t),e}var NU=function(t){var e=t.sideCar,n=_U(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return k.createElement(r,Po({},n))};NU.isSideCarExport=!0;function vq(t,e){return t.useMedium(e),NU}var SU=yq(),i1=function(){},Yy=k.forwardRef(function(t,e){var n=k.useRef(null),r=k.useState({onScrollCapture:i1,onWheelCapture:i1,onTouchMoveCapture:i1}),s=r[0],o=r[1],l=t.forwardProps,c=t.children,f=t.className,h=t.removeScrollBar,p=t.enabled,m=t.shards,x=t.sideCar,w=t.noRelative,E=t.noIsolation,T=t.inert,C=t.allowPinchZoom,P=t.as,j=P===void 0?"div":P,D=t.gapMode,U=_U(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),L=x,O=gq([n,e]),Y=Po(Po({},U),s);return k.createElement(k.Fragment,null,p&&k.createElement(L,{sideCar:SU,removeScrollBar:h,shards:m,noRelative:w,noIsolation:E,inert:T,setCallbacks:o,allowPinchZoom:!!C,lockRef:n,gapMode:D}),l?k.cloneElement(k.Children.only(c),Po(Po({},Y),{ref:O})):k.createElement(j,Po({},Y,{className:f,ref:O}),c))});Yy.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Yy.classNames={fullWidth:mx,zeroRight:px};var wq=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function _q(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=wq();return e&&t.setAttribute("nonce",e),t}function Nq(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Sq(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Eq=function(){var t=0,e=null;return{add:function(n){t==0&&(e=_q())&&(Nq(e,n),Sq(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Tq=function(){var t=Eq();return function(e,n){k.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},EU=function(){var t=Tq(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},Aq={left:0,top:0,right:0,gap:0},o1=function(t){return parseInt(t||"",10)||0},Cq=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[o1(n),o1(r),o1(s)]},Rq=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Aq;var e=Cq(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},kq=EU(),Zf="data-scroll-locked",Dq=function(t,e,n,r){var s=t.left,o=t.top,l=t.right,c=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(dq,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(Zf,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(px,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(mx,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(px," .").concat(px,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(mx," .").concat(mx,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Zf,`] {
    `).concat(hq,": ").concat(c,`px;
  }
`)},FP=function(){var t=parseInt(document.body.getAttribute(Zf)||"0",10);return isFinite(t)?t:0},Pq=function(){k.useEffect(function(){return document.body.setAttribute(Zf,(FP()+1).toString()),function(){var t=FP()-1;t<=0?document.body.removeAttribute(Zf):document.body.setAttribute(Zf,t.toString())}},[])},jq=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;Pq();var o=k.useMemo(function(){return Rq(s)},[s]);return k.createElement(kq,{styles:Dq(o,!e,s,n?"":"!important")})},ZN=!1;if(typeof window<"u")try{var Bb=Object.defineProperty({},"passive",{get:function(){return ZN=!0,!0}});window.addEventListener("test",Bb,Bb),window.removeEventListener("test",Bb,Bb)}catch{ZN=!1}var _f=ZN?{passive:!1}:!1,Mq=function(t){return t.tagName==="TEXTAREA"},TU=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Mq(t)&&n[e]==="visible")},Iq=function(t){return TU(t,"overflowY")},Oq=function(t){return TU(t,"overflowX")},BP=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=AU(t,r);if(s){var o=CU(t,r),l=o[1],c=o[2];if(l>c)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Uq=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Vq=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},AU=function(t,e){return t==="v"?Iq(e):Oq(e)},CU=function(t,e){return t==="v"?Uq(e):Vq(e)},Fq=function(t,e){return t==="h"&&e==="rtl"?-1:1},Bq=function(t,e,n,r,s){var o=Fq(t,window.getComputedStyle(e).direction),l=o*r,c=n.target,f=e.contains(c),h=!1,p=l>0,m=0,x=0;do{if(!c)break;var w=CU(t,c),E=w[0],T=w[1],C=w[2],P=T-C-o*E;(E||P)&&AU(t,c)&&(m+=P,x+=E);var j=c.parentNode;c=j&&j.nodeType===Node.DOCUMENT_FRAGMENT_NODE?j.host:j}while(!f&&c!==document.body||f&&(e.contains(c)||e===c));return(p&&Math.abs(m)<1||!p&&Math.abs(x)<1)&&(h=!0),h},Lb=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},LP=function(t){return[t.deltaX,t.deltaY]},zP=function(t){return t&&"current"in t?t.current:t},Lq=function(t,e){return t[0]===e[0]&&t[1]===e[1]},zq=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},$q=0,Nf=[];function Hq(t){var e=k.useRef([]),n=k.useRef([0,0]),r=k.useRef(),s=k.useState($q++)[0],o=k.useState(EU)[0],l=k.useRef(t);k.useEffect(function(){l.current=t},[t]),k.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var T=fq([t.lockRef.current],(t.shards||[]).map(zP),!0).filter(Boolean);return T.forEach(function(C){return C.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),T.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var c=k.useCallback(function(T,C){if("touches"in T&&T.touches.length===2||T.type==="wheel"&&T.ctrlKey)return!l.current.allowPinchZoom;var P=Lb(T),j=n.current,D="deltaX"in T?T.deltaX:j[0]-P[0],U="deltaY"in T?T.deltaY:j[1]-P[1],L,O=T.target,Y=Math.abs(D)>Math.abs(U)?"h":"v";if("touches"in T&&Y==="h"&&O.type==="range")return!1;var ne=BP(Y,O);if(!ne)return!0;if(ne?L=Y:(L=Y==="v"?"h":"v",ne=BP(Y,O)),!ne)return!1;if(!r.current&&"changedTouches"in T&&(D||U)&&(r.current=L),!L)return!0;var Q=r.current||L;return Bq(Q,C,T,Q==="h"?D:U)},[]),f=k.useCallback(function(T){var C=T;if(!(!Nf.length||Nf[Nf.length-1]!==o)){var P="deltaY"in C?LP(C):Lb(C),j=e.current.filter(function(L){return L.name===C.type&&(L.target===C.target||C.target===L.shadowParent)&&Lq(L.delta,P)})[0];if(j&&j.should){C.cancelable&&C.preventDefault();return}if(!j){var D=(l.current.shards||[]).map(zP).filter(Boolean).filter(function(L){return L.contains(C.target)}),U=D.length>0?c(C,D[0]):!l.current.noIsolation;U&&C.cancelable&&C.preventDefault()}}},[]),h=k.useCallback(function(T,C,P,j){var D={name:T,delta:C,target:P,should:j,shadowParent:Wq(P)};e.current.push(D),setTimeout(function(){e.current=e.current.filter(function(U){return U!==D})},1)},[]),p=k.useCallback(function(T){n.current=Lb(T),r.current=void 0},[]),m=k.useCallback(function(T){h(T.type,LP(T),T.target,c(T,t.lockRef.current))},[]),x=k.useCallback(function(T){h(T.type,Lb(T),T.target,c(T,t.lockRef.current))},[]);k.useEffect(function(){return Nf.push(o),t.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:x}),document.addEventListener("wheel",f,_f),document.addEventListener("touchmove",f,_f),document.addEventListener("touchstart",p,_f),function(){Nf=Nf.filter(function(T){return T!==o}),document.removeEventListener("wheel",f,_f),document.removeEventListener("touchmove",f,_f),document.removeEventListener("touchstart",p,_f)}},[]);var w=t.removeScrollBar,E=t.inert;return k.createElement(k.Fragment,null,E?k.createElement(o,{styles:zq(s)}):null,w?k.createElement(jq,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function Wq(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const qq=vq(SU,Hq);var Ky=k.forwardRef(function(t,e){return k.createElement(Yy,Po({},t,{ref:e,sideCar:qq}))});Ky.classNames=Yy.classNames;var Xq=[" ","Enter","ArrowUp","ArrowDown"],Yq=[" ","Enter"],au="Select",[Zy,Qy,Kq]=dE(au),[Od,qme]=Ra(au,[Kq,Xy]),Gy=Xy(),[Zq,ql]=Od(au),[Qq,Gq]=Od(au),RU=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:o,value:l,defaultValue:c,onValueChange:f,dir:h,name:p,autoComplete:m,disabled:x,required:w,form:E}=t,T=Gy(e),[C,P]=k.useState(null),[j,D]=k.useState(null),[U,L]=k.useState(!1),O=NE(h),[Y,ne]=su({prop:r,defaultProp:s??!1,onChange:o,caller:au}),[Q,K]=su({prop:l,defaultProp:c,onChange:f,caller:au}),G=k.useRef(null),ue=C?E||!!C.closest("form"):!0,[me,le]=k.useState(new Set),ye=Array.from(me).map(ge=>ge.props.value).join(";");return je.jsx(xU,{...T,children:je.jsxs(Zq,{required:w,scope:e,trigger:C,onTriggerChange:P,valueNode:j,onValueNodeChange:D,valueNodeHasChildren:U,onValueNodeHasChildrenChange:L,contentId:Ps(),value:Q,onValueChange:K,open:Y,onOpenChange:ne,dir:O,triggerPointerDownPosRef:G,disabled:x,children:[je.jsx(Zy.Provider,{scope:e,children:je.jsx(Qq,{scope:t.__scopeSelect,onNativeOptionAdd:k.useCallback(ge=>{le(Me=>new Set(Me).add(ge))},[]),onNativeOptionRemove:k.useCallback(ge=>{le(Me=>{const we=new Set(Me);return we.delete(ge),we})},[]),children:n})}),ue?je.jsxs(QU,{"aria-hidden":!0,required:w,tabIndex:-1,name:p,autoComplete:m,value:Q,onChange:ge=>K(ge.target.value),disabled:x,form:E,children:[Q===void 0?je.jsx("option",{value:""}):null,Array.from(me)]},ye):null]})})};RU.displayName=au;var kU="SelectTrigger",DU=k.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,o=Gy(n),l=ql(kU,n),c=l.disabled||r,f=Zn(e,l.onTriggerChange),h=Qy(n),p=k.useRef("touch"),[m,x,w]=JU(T=>{const C=h().filter(D=>!D.disabled),P=C.find(D=>D.value===l.value),j=e4(C,T,P);j!==void 0&&l.onValueChange(j.value)}),E=T=>{c||(l.onOpenChange(!0),w()),T&&(l.triggerPointerDownPosRef.current={x:Math.round(T.pageX),y:Math.round(T.pageY)})};return je.jsx(IE,{asChild:!0,...o,children:je.jsx(jt.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":GU(l.value)?"":void 0,...s,ref:f,onClick:Bt(s.onClick,T=>{T.currentTarget.focus(),p.current!=="mouse"&&E(T)}),onPointerDown:Bt(s.onPointerDown,T=>{p.current=T.pointerType;const C=T.target;C.hasPointerCapture(T.pointerId)&&C.releasePointerCapture(T.pointerId),T.button===0&&T.ctrlKey===!1&&T.pointerType==="mouse"&&(E(T),T.preventDefault())}),onKeyDown:Bt(s.onKeyDown,T=>{const C=m.current!=="";!(T.ctrlKey||T.altKey||T.metaKey)&&T.key.length===1&&x(T.key),!(C&&T.key===" ")&&Xq.includes(T.key)&&(E(),T.preventDefault())})})})});DU.displayName=kU;var PU="SelectValue",jU=k.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:o,placeholder:l="",...c}=t,f=ql(PU,n),{onValueNodeHasChildrenChange:h}=f,p=o!==void 0,m=Zn(e,f.onValueNodeChange);return ns(()=>{h(p)},[h,p]),je.jsx(jt.span,{...c,ref:m,style:{pointerEvents:"none"},children:GU(f.value)?je.jsx(je.Fragment,{children:l}):o})});jU.displayName=PU;var Jq="SelectIcon",MU=k.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return je.jsx(jt.span,{"aria-hidden":!0,...s,ref:e,children:r||"▼"})});MU.displayName=Jq;var eX="SelectPortal",IU=t=>je.jsx(mm,{asChild:!0,...t});IU.displayName=eX;var lu="SelectContent",OU=k.forwardRef((t,e)=>{const n=ql(lu,t.__scopeSelect),[r,s]=k.useState();if(ns(()=>{s(new DocumentFragment)},[]),!n.open){const o=r;return o?Dd.createPortal(je.jsx(UU,{scope:t.__scopeSelect,children:je.jsx(Zy.Slot,{scope:t.__scopeSelect,children:je.jsx("div",{children:t.children})})}),o):null}return je.jsx(VU,{...t,ref:e})});OU.displayName=lu;var qi=10,[UU,Xl]=Od(lu),tX="SelectContentImpl",nX=ru("SelectContent.RemoveScroll"),VU=k.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:l,side:c,sideOffset:f,align:h,alignOffset:p,arrowPadding:m,collisionBoundary:x,collisionPadding:w,sticky:E,hideWhenDetached:T,avoidCollisions:C,...P}=t,j=ql(lu,n),[D,U]=k.useState(null),[L,O]=k.useState(null),Y=Zn(e,he=>U(he)),[ne,Q]=k.useState(null),[K,G]=k.useState(null),ue=Qy(n),[me,le]=k.useState(!1),ye=k.useRef(!1);k.useEffect(()=>{if(D)return OE(D)},[D]),EE();const ge=k.useCallback(he=>{const[oe,...De]=ue().map(tt=>tt.ref.current),[qe]=De.slice(-1),Ye=document.activeElement;for(const tt of he)if(tt===Ye||(tt==null||tt.scrollIntoView({block:"nearest"}),tt===oe&&L&&(L.scrollTop=0),tt===qe&&L&&(L.scrollTop=L.scrollHeight),tt==null||tt.focus(),document.activeElement!==Ye))return},[ue,L]),Me=k.useCallback(()=>ge([ne,D]),[ge,ne,D]);k.useEffect(()=>{me&&Me()},[me,Me]);const{onOpenChange:we,triggerPointerDownPosRef:Ke}=j;k.useEffect(()=>{if(D){let he={x:0,y:0};const oe=qe=>{var Ye,tt;he={x:Math.abs(Math.round(qe.pageX)-(((Ye=Ke.current)==null?void 0:Ye.x)??0)),y:Math.abs(Math.round(qe.pageY)-(((tt=Ke.current)==null?void 0:tt.y)??0))}},De=qe=>{he.x<=10&&he.y<=10?qe.preventDefault():D.contains(qe.target)||we(!1),document.removeEventListener("pointermove",oe),Ke.current=null};return Ke.current!==null&&(document.addEventListener("pointermove",oe),document.addEventListener("pointerup",De,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",oe),document.removeEventListener("pointerup",De,{capture:!0})}}},[D,we,Ke]),k.useEffect(()=>{const he=()=>we(!1);return window.addEventListener("blur",he),window.addEventListener("resize",he),()=>{window.removeEventListener("blur",he),window.removeEventListener("resize",he)}},[we]);const[V,fe]=JU(he=>{const oe=ue().filter(Ye=>!Ye.disabled),De=oe.find(Ye=>Ye.ref.current===document.activeElement),qe=e4(oe,he,De);qe&&setTimeout(()=>qe.ref.current.focus())}),se=k.useCallback((he,oe,De)=>{const qe=!ye.current&&!De;(j.value!==void 0&&j.value===oe||qe)&&(Q(he),qe&&(ye.current=!0))},[j.value]),B=k.useCallback(()=>D==null?void 0:D.focus(),[D]),ce=k.useCallback((he,oe,De)=>{const qe=!ye.current&&!De;(j.value!==void 0&&j.value===oe||qe)&&G(he)},[j.value]),Z=r==="popper"?QN:FU,xe=Z===QN?{side:c,sideOffset:f,align:h,alignOffset:p,arrowPadding:m,collisionBoundary:x,collisionPadding:w,sticky:E,hideWhenDetached:T,avoidCollisions:C}:{};return je.jsx(UU,{scope:n,content:D,viewport:L,onViewportChange:O,itemRefCallback:se,selectedItem:ne,onItemLeave:B,itemTextRefCallback:ce,focusSelectedItem:Me,selectedItemText:K,position:r,isPositioned:me,searchRef:V,children:je.jsx(Ky,{as:nX,allowPinchZoom:!0,children:je.jsx($y,{asChild:!0,trapped:j.open,onMountAutoFocus:he=>{he.preventDefault()},onUnmountAutoFocus:Bt(s,he=>{var oe;(oe=j.trigger)==null||oe.focus({preventScroll:!0}),he.preventDefault()}),children:je.jsx(pm,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:he=>he.preventDefault(),onDismiss:()=>j.onOpenChange(!1),children:je.jsx(Z,{role:"listbox",id:j.contentId,"data-state":j.open?"open":"closed",dir:j.dir,onContextMenu:he=>he.preventDefault(),...P,...xe,onPlaced:()=>le(!0),ref:Y,style:{display:"flex",flexDirection:"column",outline:"none",...P.style},onKeyDown:Bt(P.onKeyDown,he=>{const oe=he.ctrlKey||he.altKey||he.metaKey;if(he.key==="Tab"&&he.preventDefault(),!oe&&he.key.length===1&&fe(he.key),["ArrowUp","ArrowDown","Home","End"].includes(he.key)){let qe=ue().filter(Ye=>!Ye.disabled).map(Ye=>Ye.ref.current);if(["ArrowUp","End"].includes(he.key)&&(qe=qe.slice().reverse()),["ArrowUp","ArrowDown"].includes(he.key)){const Ye=he.target,tt=qe.indexOf(Ye);qe=qe.slice(tt+1)}setTimeout(()=>ge(qe)),he.preventDefault()}})})})})})})});VU.displayName=tX;var rX="SelectItemAlignedPosition",FU=k.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,o=ql(lu,n),l=Xl(lu,n),[c,f]=k.useState(null),[h,p]=k.useState(null),m=Zn(e,Y=>p(Y)),x=Qy(n),w=k.useRef(!1),E=k.useRef(!0),{viewport:T,selectedItem:C,selectedItemText:P,focusSelectedItem:j}=l,D=k.useCallback(()=>{if(o.trigger&&o.valueNode&&c&&h&&T&&C&&P){const Y=o.trigger.getBoundingClientRect(),ne=h.getBoundingClientRect(),Q=o.valueNode.getBoundingClientRect(),K=P.getBoundingClientRect();if(o.dir!=="rtl"){const Ye=K.left-ne.left,tt=Q.left-Ye,Ue=Y.left-tt,nt=Y.width+Ue,lt=Math.max(nt,ne.width),gt=window.innerWidth-qi,Lt=SP(tt,[qi,Math.max(qi,gt-lt)]);c.style.minWidth=nt+"px",c.style.left=Lt+"px"}else{const Ye=ne.right-K.right,tt=window.innerWidth-Q.right-Ye,Ue=window.innerWidth-Y.right-tt,nt=Y.width+Ue,lt=Math.max(nt,ne.width),gt=window.innerWidth-qi,Lt=SP(tt,[qi,Math.max(qi,gt-lt)]);c.style.minWidth=nt+"px",c.style.right=Lt+"px"}const G=x(),ue=window.innerHeight-qi*2,me=T.scrollHeight,le=window.getComputedStyle(h),ye=parseInt(le.borderTopWidth,10),ge=parseInt(le.paddingTop,10),Me=parseInt(le.borderBottomWidth,10),we=parseInt(le.paddingBottom,10),Ke=ye+ge+me+we+Me,V=Math.min(C.offsetHeight*5,Ke),fe=window.getComputedStyle(T),se=parseInt(fe.paddingTop,10),B=parseInt(fe.paddingBottom,10),ce=Y.top+Y.height/2-qi,Z=ue-ce,xe=C.offsetHeight/2,he=C.offsetTop+xe,oe=ye+ge+he,De=Ke-oe;if(oe<=ce){const Ye=G.length>0&&C===G[G.length-1].ref.current;c.style.bottom="0px";const tt=h.clientHeight-T.offsetTop-T.offsetHeight,Ue=Math.max(Z,xe+(Ye?B:0)+tt+Me),nt=oe+Ue;c.style.height=nt+"px"}else{const Ye=G.length>0&&C===G[0].ref.current;c.style.top="0px";const Ue=Math.max(ce,ye+T.offsetTop+(Ye?se:0)+xe)+De;c.style.height=Ue+"px",T.scrollTop=oe-ce+T.offsetTop}c.style.margin=`${qi}px 0`,c.style.minHeight=V+"px",c.style.maxHeight=ue+"px",r==null||r(),requestAnimationFrame(()=>w.current=!0)}},[x,o.trigger,o.valueNode,c,h,T,C,P,o.dir,r]);ns(()=>D(),[D]);const[U,L]=k.useState();ns(()=>{h&&L(window.getComputedStyle(h).zIndex)},[h]);const O=k.useCallback(Y=>{Y&&E.current===!0&&(D(),j==null||j(),E.current=!1)},[D,j]);return je.jsx(iX,{scope:n,contentWrapper:c,shouldExpandOnScrollRef:w,onScrollButtonChange:O,children:je.jsx("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:U},children:je.jsx(jt.div,{...s,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});FU.displayName=rX;var sX="SelectPopperPosition",QN=k.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=qi,...o}=t,l=Gy(n);return je.jsx(yU,{...l,...o,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});QN.displayName=sX;var[iX,UE]=Od(lu,{}),GN="SelectViewport",BU=k.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,o=Xl(GN,n),l=UE(GN,n),c=Zn(e,o.onViewportChange),f=k.useRef(0);return je.jsxs(je.Fragment,{children:[je.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),je.jsx(Zy.Slot,{scope:n,children:je.jsx(jt.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Bt(s.onScroll,h=>{const p=h.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:x}=l;if(x!=null&&x.current&&m){const w=Math.abs(f.current-p.scrollTop);if(w>0){const E=window.innerHeight-qi*2,T=parseFloat(m.style.minHeight),C=parseFloat(m.style.height),P=Math.max(T,C);if(P<E){const j=P+w,D=Math.min(E,j),U=j-D;m.style.height=D+"px",m.style.bottom==="0px"&&(p.scrollTop=U>0?U:0,m.style.justifyContent="flex-end")}}}f.current=p.scrollTop})})})]})});BU.displayName=GN;var LU="SelectGroup",[oX,aX]=Od(LU),lX=k.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Ps();return je.jsx(oX,{scope:n,id:s,children:je.jsx(jt.div,{role:"group","aria-labelledby":s,...r,ref:e})})});lX.displayName=LU;var zU="SelectLabel",$U=k.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=aX(zU,n);return je.jsx(jt.div,{id:s.id,...r,ref:e})});$U.displayName=zU;var Vx="SelectItem",[cX,HU]=Od(Vx),WU=k.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:o,...l}=t,c=ql(Vx,n),f=Xl(Vx,n),h=c.value===r,[p,m]=k.useState(o??""),[x,w]=k.useState(!1),E=Zn(e,j=>{var D;return(D=f.itemRefCallback)==null?void 0:D.call(f,j,r,s)}),T=Ps(),C=k.useRef("touch"),P=()=>{s||(c.onValueChange(r),c.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return je.jsx(cX,{scope:n,value:r,disabled:s,textId:T,isSelected:h,onItemTextChange:k.useCallback(j=>{m(D=>D||((j==null?void 0:j.textContent)??"").trim())},[]),children:je.jsx(Zy.ItemSlot,{scope:n,value:r,disabled:s,textValue:p,children:je.jsx(jt.div,{role:"option","aria-labelledby":T,"data-highlighted":x?"":void 0,"aria-selected":h&&x,"data-state":h?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...l,ref:E,onFocus:Bt(l.onFocus,()=>w(!0)),onBlur:Bt(l.onBlur,()=>w(!1)),onClick:Bt(l.onClick,()=>{C.current!=="mouse"&&P()}),onPointerUp:Bt(l.onPointerUp,()=>{C.current==="mouse"&&P()}),onPointerDown:Bt(l.onPointerDown,j=>{C.current=j.pointerType}),onPointerMove:Bt(l.onPointerMove,j=>{var D;C.current=j.pointerType,s?(D=f.onItemLeave)==null||D.call(f):C.current==="mouse"&&j.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Bt(l.onPointerLeave,j=>{var D;j.currentTarget===document.activeElement&&((D=f.onItemLeave)==null||D.call(f))}),onKeyDown:Bt(l.onKeyDown,j=>{var U;((U=f.searchRef)==null?void 0:U.current)!==""&&j.key===" "||(Yq.includes(j.key)&&P(),j.key===" "&&j.preventDefault())})})})})});WU.displayName=Vx;var Ep="SelectItemText",qU=k.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...o}=t,l=ql(Ep,n),c=Xl(Ep,n),f=HU(Ep,n),h=Gq(Ep,n),[p,m]=k.useState(null),x=Zn(e,P=>m(P),f.onItemTextChange,P=>{var j;return(j=c.itemTextRefCallback)==null?void 0:j.call(c,P,f.value,f.disabled)}),w=p==null?void 0:p.textContent,E=k.useMemo(()=>je.jsx("option",{value:f.value,disabled:f.disabled,children:w},f.value),[f.disabled,f.value,w]),{onNativeOptionAdd:T,onNativeOptionRemove:C}=h;return ns(()=>(T(E),()=>C(E)),[T,C,E]),je.jsxs(je.Fragment,{children:[je.jsx(jt.span,{id:f.textId,...o,ref:x}),f.isSelected&&l.valueNode&&!l.valueNodeHasChildren?Dd.createPortal(o.children,l.valueNode):null]})});qU.displayName=Ep;var XU="SelectItemIndicator",YU=k.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return HU(XU,n).isSelected?je.jsx(jt.span,{"aria-hidden":!0,...r,ref:e}):null});YU.displayName=XU;var JN="SelectScrollUpButton",uX=k.forwardRef((t,e)=>{const n=Xl(JN,t.__scopeSelect),r=UE(JN,t.__scopeSelect),[s,o]=k.useState(!1),l=Zn(e,r.onScrollButtonChange);return ns(()=>{if(n.viewport&&n.isPositioned){let c=function(){const h=f.scrollTop>0;o(h)};const f=n.viewport;return c(),f.addEventListener("scroll",c),()=>f.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),s?je.jsx(KU,{...t,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:f}=n;c&&f&&(c.scrollTop=c.scrollTop-f.offsetHeight)}}):null});uX.displayName=JN;var eS="SelectScrollDownButton",fX=k.forwardRef((t,e)=>{const n=Xl(eS,t.__scopeSelect),r=UE(eS,t.__scopeSelect),[s,o]=k.useState(!1),l=Zn(e,r.onScrollButtonChange);return ns(()=>{if(n.viewport&&n.isPositioned){let c=function(){const h=f.scrollHeight-f.clientHeight,p=Math.ceil(f.scrollTop)<h;o(p)};const f=n.viewport;return c(),f.addEventListener("scroll",c),()=>f.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),s?je.jsx(KU,{...t,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:f}=n;c&&f&&(c.scrollTop=c.scrollTop+f.offsetHeight)}}):null});fX.displayName=eS;var KU=k.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,o=Xl("SelectScrollButton",n),l=k.useRef(null),c=Qy(n),f=k.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return k.useEffect(()=>()=>f(),[f]),ns(()=>{var p;const h=c().find(m=>m.ref.current===document.activeElement);(p=h==null?void 0:h.ref.current)==null||p.scrollIntoView({block:"nearest"})},[c]),je.jsx(jt.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:Bt(s.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(r,50))}),onPointerMove:Bt(s.onPointerMove,()=>{var h;(h=o.onItemLeave)==null||h.call(o),l.current===null&&(l.current=window.setInterval(r,50))}),onPointerLeave:Bt(s.onPointerLeave,()=>{f()})})}),dX="SelectSeparator",ZU=k.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return je.jsx(jt.div,{"aria-hidden":!0,...r,ref:e})});ZU.displayName=dX;var tS="SelectArrow",hX=k.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Gy(n),o=ql(tS,n),l=Xl(tS,n);return o.open&&l.position==="popper"?je.jsx(vU,{...s,...r,ref:e}):null});hX.displayName=tS;var pX="SelectBubbleInput",QU=k.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=k.useRef(null),o=Zn(r,s),l=aq(e);return k.useEffect(()=>{const c=s.current;if(!c)return;const f=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(f,"value").set;if(l!==e&&p){const m=new Event("change",{bubbles:!0});p.call(c,e),c.dispatchEvent(m)}},[l,e]),je.jsx(jt.select,{...n,style:{...zI,...n.style},ref:o,defaultValue:e})});QU.displayName=pX;function GU(t){return t===""||t===void 0}function JU(t){const e=ji(t),n=k.useRef(""),r=k.useRef(0),s=k.useCallback(l=>{const c=n.current+l;e(c),function f(h){n.current=h,window.clearTimeout(r.current),h!==""&&(r.current=window.setTimeout(()=>f(""),1e3))}(c)},[e]),o=k.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return k.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,o]}function e4(t,e,n){const s=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let l=mX(t,Math.max(o,0));s.length===1&&(l=l.filter(h=>h!==n));const f=l.find(h=>h.textValue.toLowerCase().startsWith(s.toLowerCase()));return f!==n?f:void 0}function mX(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var gX=RU,t4=DU,bX=jU,xX=MU,yX=IU,n4=OU,vX=BU,r4=$U,s4=WU,wX=qU,_X=YU,i4=ZU;const _a=gX,yl=bX,jo=k.forwardRef(({className:t,children:e,...n},r)=>b.jsxDEV(t4,{ref:r,className:Wt("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...n,children:[e,b.jsxDEV(xX,{asChild:!0,children:b.jsxDEV(bm,{className:"h-4 w-4 opacity-50"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/select.tsx",lineNumber:26,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/select.tsx",lineNumber:25,columnNumber:5},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/select.tsx",lineNumber:16,columnNumber:3},void 0));jo.displayName=t4.displayName;const Mo=k.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>b.jsxDEV(yX,{children:b.jsxDEV(n4,{ref:s,className:Wt("relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:b.jsxDEV(vX,{className:Wt("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/select.tsx",lineNumber:48,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/select.tsx",lineNumber:37,columnNumber:5},void 0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/select.tsx",lineNumber:36,columnNumber:3},void 0));Mo.displayName=n4.displayName;const NX=k.forwardRef(({className:t,...e},n)=>b.jsxDEV(r4,{ref:n,className:Wt("py-1.5 pl-8 pr-2 text-sm font-thin",t),...e},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/select.tsx",lineNumber:66,columnNumber:3},void 0));NX.displayName=r4.displayName;const Nr=k.forwardRef(({className:t,children:e,...n},r)=>b.jsxDEV(s4,{ref:r,className:Wt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[b.jsxDEV("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:b.jsxDEV(_X,{children:b.jsxDEV(dO,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/select.tsx",lineNumber:88,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/select.tsx",lineNumber:87,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/select.tsx",lineNumber:86,columnNumber:5},void 0),b.jsxDEV(wX,{children:e},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/select.tsx",lineNumber:92,columnNumber:5},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/select.tsx",lineNumber:78,columnNumber:3},void 0));Nr.displayName=s4.displayName;const SX=k.forwardRef(({className:t,...e},n)=>b.jsxDEV(i4,{ref:n,className:Wt("-mx-1 my-1 h-px bg-muted",t),...e},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/select.tsx",lineNumber:101,columnNumber:3},void 0));SX.displayName=i4.displayName;const Jy=k.createContext(null);Jy.displayName="PanelGroupContext";const br={group:"data-panel-group",groupDirection:"data-panel-group-direction",groupId:"data-panel-group-id",panel:"data-panel",panelCollapsible:"data-panel-collapsible",panelId:"data-panel-id",panelSize:"data-panel-size",resizeHandle:"data-resize-handle",resizeHandleActive:"data-resize-handle-active",resizeHandleEnabled:"data-panel-resize-handle-enabled",resizeHandleId:"data-panel-resize-handle-id",resizeHandleState:"data-resize-handle-state"},VE=10,Yc=k.useLayoutEffect,$P=lE.useId,EX=typeof $P=="function"?$P:()=>null;let TX=0;function FE(t=null){const e=EX(),n=k.useRef(t||e||null);return n.current===null&&(n.current=""+TX++),t??n.current}function o4({children:t,className:e="",collapsedSize:n,collapsible:r,defaultSize:s,forwardedRef:o,id:l,maxSize:c,minSize:f,onCollapse:h,onExpand:p,onResize:m,order:x,style:w,tagName:E="div",...T}){const C=k.useContext(Jy);if(C===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:P,expandPanel:j,getPanelSize:D,getPanelStyle:U,groupId:L,isPanelCollapsed:O,reevaluatePanelConstraints:Y,registerPanel:ne,resizePanel:Q,unregisterPanel:K}=C,G=FE(l),ue=k.useRef({callbacks:{onCollapse:h,onExpand:p,onResize:m},constraints:{collapsedSize:n,collapsible:r,defaultSize:s,maxSize:c,minSize:f},id:G,idIsFromProps:l!==void 0,order:x});k.useRef({didLogMissingDefaultSizeWarning:!1}).current.didLogMissingDefaultSizeWarning,Yc(()=>{const{callbacks:ye,constraints:ge}=ue.current,Me={...ge};ue.current.id=G,ue.current.idIsFromProps=l!==void 0,ue.current.order=x,ye.onCollapse=h,ye.onExpand=p,ye.onResize=m,ge.collapsedSize=n,ge.collapsible=r,ge.defaultSize=s,ge.maxSize=c,ge.minSize=f,(Me.collapsedSize!==ge.collapsedSize||Me.collapsible!==ge.collapsible||Me.maxSize!==ge.maxSize||Me.minSize!==ge.minSize)&&Y(ue.current,Me)}),Yc(()=>{const ye=ue.current;return ne(ye),()=>{K(ye)}},[x,G,ne,K]),k.useImperativeHandle(o,()=>({collapse:()=>{P(ue.current)},expand:ye=>{j(ue.current,ye)},getId(){return G},getSize(){return D(ue.current)},isCollapsed(){return O(ue.current)},isExpanded(){return!O(ue.current)},resize:ye=>{Q(ue.current,ye)}}),[P,j,D,O,G,Q]);const le=U(ue.current,s);return k.createElement(E,{...T,children:t,className:e,id:G,style:{...le,...w},[br.groupId]:L,[br.panel]:"",[br.panelCollapsible]:r||void 0,[br.panelId]:G,[br.panelSize]:parseFloat(""+le.flexGrow).toFixed(1)})}const a4=k.forwardRef((t,e)=>k.createElement(o4,{...t,forwardedRef:e}));o4.displayName="Panel";a4.displayName="forwardRef(Panel)";let nS=null,gx=-1,vl=null;function AX(t,e){if(e){const n=(e&d4)!==0,r=(e&h4)!==0,s=(e&p4)!==0,o=(e&m4)!==0;if(n)return s?"se-resize":o?"ne-resize":"e-resize";if(r)return s?"sw-resize":o?"nw-resize":"w-resize";if(s)return"s-resize";if(o)return"n-resize"}switch(t){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function CX(){vl!==null&&(document.head.removeChild(vl),nS=null,vl=null,gx=-1)}function a1(t,e){var n,r;const s=AX(t,e);if(nS!==s){if(nS=s,vl===null&&(vl=document.createElement("style"),document.head.appendChild(vl)),gx>=0){var o;(o=vl.sheet)===null||o===void 0||o.removeRule(gx)}gx=(n=(r=vl.sheet)===null||r===void 0?void 0:r.insertRule(`*{cursor: ${s} !important;}`))!==null&&n!==void 0?n:-1}}function l4(t){return t.type==="keydown"}function c4(t){return t.type.startsWith("pointer")}function u4(t){return t.type.startsWith("mouse")}function ev(t){if(c4(t)){if(t.isPrimary)return{x:t.clientX,y:t.clientY}}else if(u4(t))return{x:t.clientX,y:t.clientY};return{x:1/0,y:1/0}}function RX(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function kX(t,e,n){return t.x<e.x+e.width&&t.x+t.width>e.x&&t.y<e.y+e.height&&t.y+t.height>e.y}function DX(t,e){if(t===e)throw new Error("Cannot compare node with itself");const n={a:qP(t),b:qP(e)};let r;for(;n.a.at(-1)===n.b.at(-1);)t=n.a.pop(),e=n.b.pop(),r=t;en(r,"Stacking order can only be calculated for elements with a common ancestor");const s={a:WP(HP(n.a)),b:WP(HP(n.b))};if(s.a===s.b){const o=r.childNodes,l={a:n.a.at(-1),b:n.b.at(-1)};let c=o.length;for(;c--;){const f=o[c];if(f===l.a)return 1;if(f===l.b)return-1}}return Math.sign(s.a-s.b)}const PX=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function jX(t){var e;const n=getComputedStyle((e=f4(t))!==null&&e!==void 0?e:t).display;return n==="flex"||n==="inline-flex"}function MX(t){const e=getComputedStyle(t);return!!(e.position==="fixed"||e.zIndex!=="auto"&&(e.position!=="static"||jX(t))||+e.opacity<1||"transform"in e&&e.transform!=="none"||"webkitTransform"in e&&e.webkitTransform!=="none"||"mixBlendMode"in e&&e.mixBlendMode!=="normal"||"filter"in e&&e.filter!=="none"||"webkitFilter"in e&&e.webkitFilter!=="none"||"isolation"in e&&e.isolation==="isolate"||PX.test(e.willChange)||e.webkitOverflowScrolling==="touch")}function HP(t){let e=t.length;for(;e--;){const n=t[e];if(en(n,"Missing node"),MX(n))return n}return null}function WP(t){return t&&Number(getComputedStyle(t).zIndex)||0}function qP(t){const e=[];for(;t;)e.push(t),t=f4(t);return e}function f4(t){const{parentNode:e}=t;return e&&e instanceof ShadowRoot?e.host:e}const d4=1,h4=2,p4=4,m4=8,IX=RX()==="coarse";let eo=[],Qf=!1,wl=new Map,tv=new Map;const Gp=new Set;function OX(t,e,n,r,s){var o;const{ownerDocument:l}=e,c={direction:n,element:e,hitAreaMargins:r,setResizeHandlerState:s},f=(o=wl.get(l))!==null&&o!==void 0?o:0;return wl.set(l,f+1),Gp.add(c),Fx(),function(){var p;tv.delete(t),Gp.delete(c);const m=(p=wl.get(l))!==null&&p!==void 0?p:1;if(wl.set(l,m-1),Fx(),m===1&&wl.delete(l),eo.includes(c)){const x=eo.indexOf(c);x>=0&&eo.splice(x,1),LE(),s("up",!0,null)}}}function UX(t){const{target:e}=t,{x:n,y:r}=ev(t);Qf=!0,BE({target:e,x:n,y:r}),Fx(),eo.length>0&&(Bx("down",t),t.preventDefault(),g4(e)||t.stopImmediatePropagation())}function l1(t){const{x:e,y:n}=ev(t);if(Qf&&t.buttons===0&&(Qf=!1,Bx("up",t)),!Qf){const{target:r}=t;BE({target:r,x:e,y:n})}Bx("move",t),LE(),eo.length>0&&t.preventDefault()}function c1(t){const{target:e}=t,{x:n,y:r}=ev(t);tv.clear(),Qf=!1,eo.length>0&&(t.preventDefault(),g4(e)||t.stopImmediatePropagation()),Bx("up",t),BE({target:e,x:n,y:r}),LE(),Fx()}function g4(t){let e=t;for(;e;){if(e.hasAttribute(br.resizeHandle))return!0;e=e.parentElement}return!1}function BE({target:t,x:e,y:n}){eo.splice(0);let r=null;(t instanceof HTMLElement||t instanceof SVGElement)&&(r=t),Gp.forEach(s=>{const{element:o,hitAreaMargins:l}=s,c=o.getBoundingClientRect(),{bottom:f,left:h,right:p,top:m}=c,x=IX?l.coarse:l.fine;if(e>=h-x&&e<=p+x&&n>=m-x&&n<=f+x){if(r!==null&&document.contains(r)&&o!==r&&!o.contains(r)&&!r.contains(o)&&DX(r,o)>0){let E=r,T=!1;for(;E&&!E.contains(o);){if(kX(E.getBoundingClientRect(),c)){T=!0;break}E=E.parentElement}if(T)return}eo.push(s)}})}function u1(t,e){tv.set(t,e)}function LE(){let t=!1,e=!1;eo.forEach(r=>{const{direction:s}=r;s==="horizontal"?t=!0:e=!0});let n=0;tv.forEach(r=>{n|=r}),t&&e?a1("intersection",n):t?a1("horizontal",n):e?a1("vertical",n):CX()}let f1;function Fx(){var t;(t=f1)===null||t===void 0||t.abort(),f1=new AbortController;const e={capture:!0,signal:f1.signal};Gp.size&&(Qf?(eo.length>0&&wl.forEach((n,r)=>{const{body:s}=r;n>0&&(s.addEventListener("contextmenu",c1,e),s.addEventListener("pointerleave",l1,e),s.addEventListener("pointermove",l1,e))}),wl.forEach((n,r)=>{const{body:s}=r;s.addEventListener("pointerup",c1,e),s.addEventListener("pointercancel",c1,e)})):wl.forEach((n,r)=>{const{body:s}=r;n>0&&(s.addEventListener("pointerdown",UX,e),s.addEventListener("pointermove",l1,e))}))}function Bx(t,e){Gp.forEach(n=>{const{setResizeHandlerState:r}=n,s=eo.includes(n);r(t,s,e)})}function VX(){const[t,e]=k.useState(0);return k.useCallback(()=>e(n=>n+1),[])}function en(t,e){if(!t)throw console.error(e),Error(e)}function cu(t,e,n=VE){return t.toFixed(n)===e.toFixed(n)?0:t>e?1:-1}function Na(t,e,n=VE){return cu(t,e,n)===0}function si(t,e,n){return cu(t,e,n)===0}function FX(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){const s=t[r],o=e[r];if(!si(s,o,n))return!1}return!0}function zf({panelConstraints:t,panelIndex:e,size:n}){const r=t[e];en(r!=null,`Panel constraints not found for index ${e}`);let{collapsedSize:s=0,collapsible:o,maxSize:l=100,minSize:c=0}=r;if(cu(n,c)<0)if(o){const f=(s+c)/2;cu(n,f)<0?n=s:n=c}else n=c;return n=Math.min(l,n),n=parseFloat(n.toFixed(VE)),n}function Tp({delta:t,initialLayout:e,panelConstraints:n,pivotIndices:r,prevLayout:s,trigger:o}){if(si(t,0))return e;const l=[...e],[c,f]=r;en(c!=null,"Invalid first pivot index"),en(f!=null,"Invalid second pivot index");let h=0;if(o==="keyboard"){{const m=t<0?f:c,x=n[m];en(x,`Panel constraints not found for index ${m}`);const{collapsedSize:w=0,collapsible:E,minSize:T=0}=x;if(E){const C=e[m];if(en(C!=null,`Previous layout not found for panel index ${m}`),si(C,w)){const P=T-C;cu(P,Math.abs(t))>0&&(t=t<0?0-P:P)}}}{const m=t<0?c:f,x=n[m];en(x,`No panel constraints found for index ${m}`);const{collapsedSize:w=0,collapsible:E,minSize:T=0}=x;if(E){const C=e[m];if(en(C!=null,`Previous layout not found for panel index ${m}`),si(C,T)){const P=C-w;cu(P,Math.abs(t))>0&&(t=t<0?0-P:P)}}}}{const m=t<0?1:-1;let x=t<0?f:c,w=0;for(;;){const T=e[x];en(T!=null,`Previous layout not found for panel index ${x}`);const P=zf({panelConstraints:n,panelIndex:x,size:100})-T;if(w+=P,x+=m,x<0||x>=n.length)break}const E=Math.min(Math.abs(t),Math.abs(w));t=t<0?0-E:E}{let x=t<0?c:f;for(;x>=0&&x<n.length;){const w=Math.abs(t)-Math.abs(h),E=e[x];en(E!=null,`Previous layout not found for panel index ${x}`);const T=E-w,C=zf({panelConstraints:n,panelIndex:x,size:T});if(!si(E,C)&&(h+=E-C,l[x]=C,h.toPrecision(3).localeCompare(Math.abs(t).toPrecision(3),void 0,{numeric:!0})>=0))break;t<0?x--:x++}}if(FX(s,l))return s;{const m=t<0?f:c,x=e[m];en(x!=null,`Previous layout not found for panel index ${m}`);const w=x+h,E=zf({panelConstraints:n,panelIndex:m,size:w});if(l[m]=E,!si(E,w)){let T=w-E,P=t<0?f:c;for(;P>=0&&P<n.length;){const j=l[P];en(j!=null,`Previous layout not found for panel index ${P}`);const D=j+T,U=zf({panelConstraints:n,panelIndex:P,size:D});if(si(j,U)||(T-=U-j,l[P]=U),si(T,0))break;t>0?P--:P++}}}const p=l.reduce((m,x)=>x+m,0);return si(p,100)?l:s}function BX({layout:t,panelsArray:e,pivotIndices:n}){let r=0,s=100,o=0,l=0;const c=n[0];en(c!=null,"No pivot index found"),e.forEach((m,x)=>{const{constraints:w}=m,{maxSize:E=100,minSize:T=0}=w;x===c?(r=T,s=E):(o+=T,l+=E)});const f=Math.min(s,100-o),h=Math.max(r,100-l),p=t[c];return{valueMax:f,valueMin:h,valueNow:p}}function Jp(t,e=document){return Array.from(e.querySelectorAll(`[${br.resizeHandleId}][data-panel-group-id="${t}"]`))}function b4(t,e,n=document){const s=Jp(t,n).findIndex(o=>o.getAttribute(br.resizeHandleId)===e);return s??null}function x4(t,e,n){const r=b4(t,e,n);return r!=null?[r,r+1]:[-1,-1]}function LX(t){return t instanceof HTMLElement?!0:typeof t=="object"&&t!==null&&"tagName"in t&&"getAttribute"in t}function y4(t,e=document){if(LX(e)&&e.dataset.panelGroupId==t)return e;const n=e.querySelector(`[data-panel-group][data-panel-group-id="${t}"]`);return n||null}function nv(t,e=document){const n=e.querySelector(`[${br.resizeHandleId}="${t}"]`);return n||null}function zX(t,e,n,r=document){var s,o,l,c;const f=nv(e,r),h=Jp(t,r),p=f?h.indexOf(f):-1,m=(s=(o=n[p])===null||o===void 0?void 0:o.id)!==null&&s!==void 0?s:null,x=(l=(c=n[p+1])===null||c===void 0?void 0:c.id)!==null&&l!==void 0?l:null;return[m,x]}function $X({committedValuesRef:t,eagerValuesRef:e,groupId:n,layout:r,panelDataArray:s,panelGroupElement:o,setLayout:l}){const c=k.useRef({didWarnAboutMissingResizeHandle:!1});Yc(()=>{if(!o)return;const f=Jp(n,o);for(let h=0;h<s.length-1;h++){const{valueMax:p,valueMin:m,valueNow:x}=BX({layout:r,panelsArray:s,pivotIndices:[h,h+1]}),w=f[h];if(w==null){const{didWarnAboutMissingResizeHandle:E}=c.current;E||(c.current.didWarnAboutMissingResizeHandle=!0,console.warn(`WARNING: Missing resize handle for PanelGroup "${n}"`))}else{const E=s[h];en(E,`No panel data found for index "${h}"`),w.setAttribute("aria-controls",E.id),w.setAttribute("aria-valuemax",""+Math.round(p)),w.setAttribute("aria-valuemin",""+Math.round(m)),w.setAttribute("aria-valuenow",x!=null?""+Math.round(x):"")}}return()=>{f.forEach((h,p)=>{h.removeAttribute("aria-controls"),h.removeAttribute("aria-valuemax"),h.removeAttribute("aria-valuemin"),h.removeAttribute("aria-valuenow")})}},[n,r,s,o]),k.useEffect(()=>{if(!o)return;const f=e.current;en(f,"Eager values not found");const{panelDataArray:h}=f,p=y4(n,o);en(p!=null,`No group found for id "${n}"`);const m=Jp(n,o);en(m,`No resize handles found for group id "${n}"`);const x=m.map(w=>{const E=w.getAttribute(br.resizeHandleId);en(E,"Resize handle element has no handle id attribute");const[T,C]=zX(n,E,h,o);if(T==null||C==null)return()=>{};const P=j=>{if(!j.defaultPrevented)switch(j.key){case"Enter":{j.preventDefault();const D=h.findIndex(U=>U.id===T);if(D>=0){const U=h[D];en(U,`No panel data found for index ${D}`);const L=r[D],{collapsedSize:O=0,collapsible:Y,minSize:ne=0}=U.constraints;if(L!=null&&Y){const Q=Tp({delta:si(L,O)?ne-O:O-L,initialLayout:r,panelConstraints:h.map(K=>K.constraints),pivotIndices:x4(n,E,o),prevLayout:r,trigger:"keyboard"});r!==Q&&l(Q)}}break}}};return w.addEventListener("keydown",P),()=>{w.removeEventListener("keydown",P)}});return()=>{x.forEach(w=>w())}},[o,t,e,n,r,s,l])}function d1(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function v4(t,e){const n=t==="horizontal",{x:r,y:s}=ev(e);return n?r:s}function HX(t,e,n,r,s){const o=n==="horizontal",l=nv(e,s);en(l,`No resize handle element found for id "${e}"`);const c=l.getAttribute(br.groupId);en(c,"Resize handle element has no group id attribute");let{initialCursorPosition:f}=r;const h=v4(n,t),p=y4(c,s);en(p,`No group element found for id "${c}"`);const m=p.getBoundingClientRect(),x=o?m.width:m.height;return(h-f)/x*100}function WX(t,e,n,r,s,o){if(l4(t)){const l=n==="horizontal";let c=0;t.shiftKey?c=100:s!=null?c=s:c=10;let f=0;switch(t.key){case"ArrowDown":f=l?0:c;break;case"ArrowLeft":f=l?-c:0;break;case"ArrowRight":f=l?c:0;break;case"ArrowUp":f=l?0:-c;break;case"End":f=100;break;case"Home":f=-100;break}return f}else return r==null?0:HX(t,e,n,r,o)}function qX({panelDataArray:t}){const e=Array(t.length),n=t.map(o=>o.constraints);let r=0,s=100;for(let o=0;o<t.length;o++){const l=n[o];en(l,`Panel constraints not found for index ${o}`);const{defaultSize:c}=l;c!=null&&(r++,e[o]=c,s-=c)}for(let o=0;o<t.length;o++){const l=n[o];en(l,`Panel constraints not found for index ${o}`);const{defaultSize:c}=l;if(c!=null)continue;const f=t.length-r,h=s/f;r++,e[o]=h,s-=h}return e}function Sf(t,e,n){e.forEach((r,s)=>{const o=t[s];en(o,`Panel data not found for index ${s}`);const{callbacks:l,constraints:c,id:f}=o,{collapsedSize:h=0,collapsible:p}=c,m=n[f];if(m==null||r!==m){n[f]=r;const{onCollapse:x,onExpand:w,onResize:E}=l;E&&E(r,m),p&&(x||w)&&(w&&(m==null||Na(m,h))&&!Na(r,h)&&w(),x&&(m==null||!Na(m,h))&&Na(r,h)&&x())}})}function zb(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n])return!1;return!0}function XX({defaultSize:t,dragState:e,layout:n,panelData:r,panelIndex:s,precision:o=3}){const l=n[s];let c;return l==null?c=t!=null?t.toPrecision(o):"1":r.length===1?c="1":c=l.toPrecision(o),{flexBasis:0,flexGrow:c,flexShrink:1,overflow:"hidden",pointerEvents:e!==null?"none":void 0}}function YX(t,e=10){let n=null;return(...s)=>{n!==null&&clearTimeout(n),n=setTimeout(()=>{t(...s)},e)}}function XP(t){try{if(typeof localStorage<"u")t.getItem=e=>localStorage.getItem(e),t.setItem=(e,n)=>{localStorage.setItem(e,n)};else throw new Error("localStorage not supported in this environment")}catch(e){console.error(e),t.getItem=()=>null,t.setItem=()=>{}}}function w4(t){return`react-resizable-panels:${t}`}function _4(t){return t.map(e=>{const{constraints:n,id:r,idIsFromProps:s,order:o}=e;return s?r:o?`${o}:${JSON.stringify(n)}`:JSON.stringify(n)}).sort((e,n)=>e.localeCompare(n)).join(",")}function N4(t,e){try{const n=w4(t),r=e.getItem(n);if(r){const s=JSON.parse(r);if(typeof s=="object"&&s!=null)return s}}catch{}return null}function KX(t,e,n){var r,s;const o=(r=N4(t,n))!==null&&r!==void 0?r:{},l=_4(e);return(s=o[l])!==null&&s!==void 0?s:null}function ZX(t,e,n,r,s){var o;const l=w4(t),c=_4(e),f=(o=N4(t,s))!==null&&o!==void 0?o:{};f[c]={expandToSizes:Object.fromEntries(n.entries()),layout:r};try{s.setItem(l,JSON.stringify(f))}catch(h){console.error(h)}}function QX({panelConstraints:t,panelId:e,panelIndex:n}){{const r=[],s=t[n];en(s,`No panel constraints found for index ${n}`);const{collapsedSize:o=0,collapsible:l=!1,defaultSize:c,maxSize:f=100,minSize:h=0}=s;if(h>f&&r.push(`min size (${h}%) should not be greater than max size (${f}%)`),c!=null&&(c<0?r.push("default size should not be less than 0"):c<h&&(!l||c!==o)&&r.push("default size should not be less than min size"),c>100?r.push("default size should not be greater than 100"):c>f&&r.push("default size should not be greater than max size")),o>h&&r.push("collapsed size should not be greater than min size"),r.length>0){const p=e!=null?`Panel "${e}"`:"Panel";return console.warn(`${p} has an invalid configuration:

${r.join(`
`)}`),!1}}return!0}function YP({layout:t,panelConstraints:e}){const n=[...t],r=n.reduce((o,l)=>o+l,0);if(n.length!==e.length)throw Error(`Invalid ${e.length} panel layout: ${n.map(o=>`${o}%`).join(", ")}`);if(!si(r,100)&&n.length>0){console.warn(`WARNING: Invalid layout total size: ${n.map(o=>`${o}%`).join(", ")}. Layout normalization will be applied.`);for(let o=0;o<e.length;o++){const l=n[o];en(l!=null,`No layout data found for index ${o}`);const c=100/r*l;n[o]=c}}let s=0;for(let o=0;o<e.length;o++){const l=n[o];en(l!=null,`No layout data found for index ${o}`);const c=zf({panelConstraints:e,panelIndex:o,size:l});l!=c&&(s+=l-c,n[o]=c)}if(!si(s,0))for(let o=0;o<e.length;o++){const l=n[o];en(l!=null,`No layout data found for index ${o}`);const c=l+s,f=zf({panelConstraints:e,panelIndex:o,size:c});if(l!==f&&(s-=f-l,n[o]=f,si(s,0)))break}return n}const GX=100,Ap={getItem:t=>(XP(Ap),Ap.getItem(t)),setItem:(t,e)=>{XP(Ap),Ap.setItem(t,e)}},KP={};function S4({autoSaveId:t=null,children:e,className:n="",direction:r,forwardedRef:s,id:o=null,onLayout:l=null,keyboardResizeBy:c=null,storage:f=Ap,style:h,tagName:p="div",...m}){const x=FE(o),w=k.useRef(null),[E,T]=k.useState(null),[C,P]=k.useState([]),j=VX(),D=k.useRef({}),U=k.useRef(new Map),L=k.useRef(0),O=k.useRef({autoSaveId:t,direction:r,dragState:E,id:x,keyboardResizeBy:c,onLayout:l,storage:f}),Y=k.useRef({layout:C,panelDataArray:[],panelDataArrayChanged:!1}),ne=k.useRef({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]});k.useImperativeHandle(s,()=>({getId:()=>O.current.id,getLayout:()=>{const{layout:ce}=Y.current;return ce},setLayout:ce=>{const{onLayout:Z}=O.current,{layout:xe,panelDataArray:he}=Y.current,oe=YP({layout:ce,panelConstraints:he.map(De=>De.constraints)});d1(xe,oe)||(P(oe),Y.current.layout=oe,Z&&Z(oe),Sf(he,oe,D.current))}}),[]),Yc(()=>{O.current.autoSaveId=t,O.current.direction=r,O.current.dragState=E,O.current.id=x,O.current.onLayout=l,O.current.storage=f}),$X({committedValuesRef:O,eagerValuesRef:Y,groupId:x,layout:C,panelDataArray:Y.current.panelDataArray,setLayout:P,panelGroupElement:w.current}),k.useEffect(()=>{const{panelDataArray:ce}=Y.current;if(t){if(C.length===0||C.length!==ce.length)return;let Z=KP[t];Z==null&&(Z=YX(ZX,GX),KP[t]=Z);const xe=[...ce],he=new Map(U.current);Z(t,xe,he,C,f)}},[t,C,f]),k.useEffect(()=>{{const{panelDataArray:ce}=Y.current,{didLogIdAndOrderWarning:Z,didLogPanelConstraintsWarning:xe,prevPanelIds:he}=ne.current;if(!Z){const oe=ce.map(({id:qe})=>qe);ne.current.prevPanelIds=oe,he.length>0&&!d1(he,oe)&&ce.find(({idIsFromProps:qe,order:Ye})=>!qe||Ye==null)&&(ne.current.didLogIdAndOrderWarning=!0,console.warn("WARNING: Panel id and order props recommended when panels are dynamically rendered"))}if(!xe){const oe=ce.map(De=>De.constraints);for(let De=0;De<oe.length;De++){const qe=ce[De];if(en(qe,`Panel data not found for index ${De}`),!QX({panelConstraints:oe,panelId:qe.id,panelIndex:De})){ne.current.didLogPanelConstraintsWarning=!0;break}}}}});const Q=k.useCallback(ce=>{const{onLayout:Z}=O.current,{layout:xe,panelDataArray:he}=Y.current;if(ce.constraints.collapsible){const oe=he.map(tt=>tt.constraints),{collapsedSize:De=0,panelSize:qe,pivotIndices:Ye}=Pc(he,ce,xe);if(en(qe!=null,`Panel size not found for panel "${ce.id}"`),!Na(qe,De)){U.current.set(ce.id,qe);const Ue=Of(he,ce)===he.length-1?qe-De:De-qe,nt=Tp({delta:Ue,initialLayout:xe,panelConstraints:oe,pivotIndices:Ye,prevLayout:xe,trigger:"imperative-api"});zb(xe,nt)||(P(nt),Y.current.layout=nt,Z&&Z(nt),Sf(he,nt,D.current))}}},[]),K=k.useCallback((ce,Z)=>{const{onLayout:xe}=O.current,{layout:he,panelDataArray:oe}=Y.current;if(ce.constraints.collapsible){const De=oe.map(lt=>lt.constraints),{collapsedSize:qe=0,panelSize:Ye=0,minSize:tt=0,pivotIndices:Ue}=Pc(oe,ce,he),nt=Z??tt;if(Na(Ye,qe)){const lt=U.current.get(ce.id),gt=lt!=null&&lt>=nt?lt:nt,Yt=Of(oe,ce)===oe.length-1?Ye-gt:gt-Ye,Ot=Tp({delta:Yt,initialLayout:he,panelConstraints:De,pivotIndices:Ue,prevLayout:he,trigger:"imperative-api"});zb(he,Ot)||(P(Ot),Y.current.layout=Ot,xe&&xe(Ot),Sf(oe,Ot,D.current))}}},[]),G=k.useCallback(ce=>{const{layout:Z,panelDataArray:xe}=Y.current,{panelSize:he}=Pc(xe,ce,Z);return en(he!=null,`Panel size not found for panel "${ce.id}"`),he},[]),ue=k.useCallback((ce,Z)=>{const{panelDataArray:xe}=Y.current,he=Of(xe,ce);return XX({defaultSize:Z,dragState:E,layout:C,panelData:xe,panelIndex:he})},[E,C]),me=k.useCallback(ce=>{const{layout:Z,panelDataArray:xe}=Y.current,{collapsedSize:he=0,collapsible:oe,panelSize:De}=Pc(xe,ce,Z);return en(De!=null,`Panel size not found for panel "${ce.id}"`),oe===!0&&Na(De,he)},[]),le=k.useCallback(ce=>{const{layout:Z,panelDataArray:xe}=Y.current,{collapsedSize:he=0,collapsible:oe,panelSize:De}=Pc(xe,ce,Z);return en(De!=null,`Panel size not found for panel "${ce.id}"`),!oe||cu(De,he)>0},[]),ye=k.useCallback(ce=>{const{panelDataArray:Z}=Y.current;Z.push(ce),Z.sort((xe,he)=>{const oe=xe.order,De=he.order;return oe==null&&De==null?0:oe==null?-1:De==null?1:oe-De}),Y.current.panelDataArrayChanged=!0,j()},[j]);Yc(()=>{if(Y.current.panelDataArrayChanged){Y.current.panelDataArrayChanged=!1;const{autoSaveId:ce,onLayout:Z,storage:xe}=O.current,{layout:he,panelDataArray:oe}=Y.current;let De=null;if(ce){const Ye=KX(ce,oe,xe);Ye&&(U.current=new Map(Object.entries(Ye.expandToSizes)),De=Ye.layout)}De==null&&(De=qX({panelDataArray:oe}));const qe=YP({layout:De,panelConstraints:oe.map(Ye=>Ye.constraints)});d1(he,qe)||(P(qe),Y.current.layout=qe,Z&&Z(qe),Sf(oe,qe,D.current))}}),Yc(()=>{const ce=Y.current;return()=>{ce.layout=[]}},[]);const ge=k.useCallback(ce=>{let Z=!1;const xe=w.current;return xe&&window.getComputedStyle(xe,null).getPropertyValue("direction")==="rtl"&&(Z=!0),function(oe){oe.preventDefault();const De=w.current;if(!De)return()=>null;const{direction:qe,dragState:Ye,id:tt,keyboardResizeBy:Ue,onLayout:nt}=O.current,{layout:lt,panelDataArray:gt}=Y.current,{initialLayout:Lt}=Ye??{},Yt=x4(tt,ce,De);let Ot=WX(oe,ce,qe,Ye,Ue,De);const Pt=qe==="horizontal";Pt&&Z&&(Ot=-Ot);const cr=gt.map(ms=>ms.constraints),Cn=Tp({delta:Ot,initialLayout:Lt??lt,panelConstraints:cr,pivotIndices:Yt,prevLayout:lt,trigger:l4(oe)?"keyboard":"mouse-or-touch"}),Wr=!zb(lt,Cn);(c4(oe)||u4(oe))&&L.current!=Ot&&(L.current=Ot,!Wr&&Ot!==0?Pt?u1(ce,Ot<0?d4:h4):u1(ce,Ot<0?p4:m4):u1(ce,0)),Wr&&(P(Cn),Y.current.layout=Cn,nt&&nt(Cn),Sf(gt,Cn,D.current))}},[]),Me=k.useCallback((ce,Z)=>{const{onLayout:xe}=O.current,{layout:he,panelDataArray:oe}=Y.current,De=oe.map(lt=>lt.constraints),{panelSize:qe,pivotIndices:Ye}=Pc(oe,ce,he);en(qe!=null,`Panel size not found for panel "${ce.id}"`);const Ue=Of(oe,ce)===oe.length-1?qe-Z:Z-qe,nt=Tp({delta:Ue,initialLayout:he,panelConstraints:De,pivotIndices:Ye,prevLayout:he,trigger:"imperative-api"});zb(he,nt)||(P(nt),Y.current.layout=nt,xe&&xe(nt),Sf(oe,nt,D.current))},[]),we=k.useCallback((ce,Z)=>{const{layout:xe,panelDataArray:he}=Y.current,{collapsedSize:oe=0,collapsible:De}=Z,{collapsedSize:qe=0,collapsible:Ye,maxSize:tt=100,minSize:Ue=0}=ce.constraints,{panelSize:nt}=Pc(he,ce,xe);nt!=null&&(De&&Ye&&Na(nt,oe)?Na(oe,qe)||Me(ce,qe):nt<Ue?Me(ce,Ue):nt>tt&&Me(ce,tt))},[Me]),Ke=k.useCallback((ce,Z)=>{const{direction:xe}=O.current,{layout:he}=Y.current;if(!w.current)return;const oe=nv(ce,w.current);en(oe,`Drag handle element not found for id "${ce}"`);const De=v4(xe,Z);T({dragHandleId:ce,dragHandleRect:oe.getBoundingClientRect(),initialCursorPosition:De,initialLayout:he})},[]),V=k.useCallback(()=>{T(null)},[]),fe=k.useCallback(ce=>{const{panelDataArray:Z}=Y.current,xe=Of(Z,ce);xe>=0&&(Z.splice(xe,1),delete D.current[ce.id],Y.current.panelDataArrayChanged=!0,j())},[j]),se=k.useMemo(()=>({collapsePanel:Q,direction:r,dragState:E,expandPanel:K,getPanelSize:G,getPanelStyle:ue,groupId:x,isPanelCollapsed:me,isPanelExpanded:le,reevaluatePanelConstraints:we,registerPanel:ye,registerResizeHandle:ge,resizePanel:Me,startDragging:Ke,stopDragging:V,unregisterPanel:fe,panelGroupElement:w.current}),[Q,E,r,K,G,ue,x,me,le,we,ye,ge,Me,Ke,V,fe]),B={display:"flex",flexDirection:r==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return k.createElement(Jy.Provider,{value:se},k.createElement(p,{...m,children:e,className:n,id:o,ref:w,style:{...B,...h},[br.group]:"",[br.groupDirection]:r,[br.groupId]:x}))}const E4=k.forwardRef((t,e)=>k.createElement(S4,{...t,forwardedRef:e}));S4.displayName="PanelGroup";E4.displayName="forwardRef(PanelGroup)";function Of(t,e){return t.findIndex(n=>n===e||n.id===e.id)}function Pc(t,e,n){const r=Of(t,e),o=r===t.length-1?[r-1,r]:[r,r+1],l=n[r];return{...e.constraints,panelSize:l,pivotIndices:o}}function JX({disabled:t,handleId:e,resizeHandler:n,panelGroupElement:r}){k.useEffect(()=>{if(t||n==null||r==null)return;const s=nv(e,r);if(s==null)return;const o=l=>{if(!l.defaultPrevented)switch(l.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{l.preventDefault(),n(l);break}case"F6":{l.preventDefault();const c=s.getAttribute(br.groupId);en(c,`No group element found for id "${c}"`);const f=Jp(c,r),h=b4(c,e,r);en(h!==null,`No resize element found for id "${e}"`);const p=l.shiftKey?h>0?h-1:f.length-1:h+1<f.length?h+1:0;f[p].focus();break}}};return s.addEventListener("keydown",o),()=>{s.removeEventListener("keydown",o)}},[r,t,e,n])}function T4({children:t=null,className:e="",disabled:n=!1,hitAreaMargins:r,id:s,onBlur:o,onClick:l,onDragging:c,onFocus:f,onPointerDown:h,onPointerUp:p,style:m={},tabIndex:x=0,tagName:w="div",...E}){var T,C;const P=k.useRef(null),j=k.useRef({onClick:l,onDragging:c,onPointerDown:h,onPointerUp:p});k.useEffect(()=>{j.current.onClick=l,j.current.onDragging=c,j.current.onPointerDown=h,j.current.onPointerUp=p});const D=k.useContext(Jy);if(D===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:U,groupId:L,registerResizeHandle:O,startDragging:Y,stopDragging:ne,panelGroupElement:Q}=D,K=FE(s),[G,ue]=k.useState("inactive"),[me,le]=k.useState(!1),[ye,ge]=k.useState(null),Me=k.useRef({state:G});Yc(()=>{Me.current.state=G}),k.useEffect(()=>{if(n)ge(null);else{const fe=O(K);ge(()=>fe)}},[n,K,O]);const we=(T=r==null?void 0:r.coarse)!==null&&T!==void 0?T:15,Ke=(C=r==null?void 0:r.fine)!==null&&C!==void 0?C:5;k.useEffect(()=>{if(n||ye==null)return;const fe=P.current;en(fe,"Element ref not attached");let se=!1;return OX(K,fe,U,{coarse:we,fine:Ke},(ce,Z,xe)=>{if(!Z){ue("inactive");return}switch(ce){case"down":{ue("drag"),se=!1,en(xe,'Expected event to be defined for "down" action'),Y(K,xe);const{onDragging:he,onPointerDown:oe}=j.current;he==null||he(!0),oe==null||oe();break}case"move":{const{state:he}=Me.current;se=!0,he!=="drag"&&ue("hover"),en(xe,'Expected event to be defined for "move" action'),ye(xe);break}case"up":{ue("hover"),ne();const{onClick:he,onDragging:oe,onPointerUp:De}=j.current;oe==null||oe(!1),De==null||De(),se||he==null||he();break}}})},[we,U,n,Ke,O,K,ye,Y,ne]),JX({disabled:n,handleId:K,resizeHandler:ye,panelGroupElement:Q});const V={touchAction:"none",userSelect:"none"};return k.createElement(w,{...E,children:t,className:e,id:s,onBlur:()=>{le(!1),o==null||o()},onFocus:()=>{le(!0),f==null||f()},ref:P,role:"separator",style:{...V,...m},tabIndex:x,[br.groupDirection]:U,[br.groupId]:L,[br.resizeHandle]:"",[br.resizeHandleActive]:G==="drag"?"pointer":me?"keyboard":void 0,[br.resizeHandleEnabled]:!n,[br.resizeHandleId]:K,[br.resizeHandleState]:G})}T4.displayName="PanelResizeHandle";function eY({className:t,...e}){return b.jsxDEV(E4,{"data-slot":"resizable-panel-group",className:Wt("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",t),...e},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/resizable.tsx",lineNumber:12,columnNumber:5},this)}function ZP({...t}){return b.jsxDEV(a4,{"data-slot":"resizable-panel",...t},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/resizable.tsx",lineNumber:26,columnNumber:10},this)}function tY({withHandle:t,className:e,...n}){return b.jsxDEV(T4,{"data-slot":"resizable-handle",className:Wt("bg-border focus-visible:ring-ring relative flex w-px items-center justify-center after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:ring-1 focus-visible:ring-offset-1 focus-visible:outline-hidden data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:translate-x-0 data-[panel-group-direction=vertical]:after:-translate-y-1/2 [&[data-panel-group-direction=vertical]>div]:rotate-90",e),...n,children:t&&b.jsxDEV("div",{className:"bg-border z-10 flex h-4 w-3 items-center justify-center rounded-xs border",children:b.jsxDEV(C$,{className:"size-2.5"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/resizable.tsx",lineNumber:47,columnNumber:11},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/resizable.tsx",lineNumber:46,columnNumber:9},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/resizable.tsx",lineNumber:37,columnNumber:5},this)}const nY=({bundle:t,bundles:e,selectedBundleName:n,editingBundles:r,availableFiles:s,loadingButtons:o,toggleEditMode:l,removeFileFromBundle:c,addFileToBundle:f,addFilesToBundle:h,removeFilesFromBundle:p,getFileBundles:m,fileSizes:x,onBundleSelect:w})=>{const E=(e==null?void 0:e.find(Ue=>Ue.name===n))||t,[T,C]=k.useState(""),[P,j]=k.useState(-1),[D,U]=k.useState(!1),L=k.useRef(null),O=k.useRef(null),[Y,ne]=k.useState(""),[Q,K]=k.useState(!1),[G,ue]=k.useState(-1),me=k.useRef(null),le=k.useRef(null),[ye,ge]=k.useState(-1),[Me,we]=k.useState(-1),[Ke,V]=k.useState(-1),[fe,se]=k.useState(-1),[B,ce]=k.useState(!1),Z=T,xe=C,he=k.useMemo(()=>s.filter(Ue=>!E.files.includes(Ue)).filter(Ue=>Z===""||Ue.toLowerCase().includes(Z.toLowerCase())),[s,E.files,Z]),oe=k.useMemo(()=>E.files.filter(Ue=>Y===""||Ue.toLowerCase().includes(Y.toLowerCase())),[E.files,Y]);k.useEffect(()=>{D||j(-1)},[D]),k.useEffect(()=>{Q||ue(-1)},[Q]),k.useEffect(()=>{if(P>=0&&O.current){const Ue=O.current.children[P];Ue&&Ue.scrollIntoView({behavior:"smooth",block:"nearest"})}},[P]),k.useEffect(()=>{if(G>=0&&le.current){const Ue=le.current.children[G];Ue&&Ue.scrollIntoView({behavior:"smooth",block:"nearest"})}},[G]);const De=k.useCallback(Ue=>{var nt;if(D){if(Ue.key==="Escape"){Ue.preventDefault(),xe(""),j(-1),ge(-1),we(-1),(nt=L.current)==null||nt.blur();return}if(he.length!==0){if(Ue.key==="ArrowDown")if(Ue.preventDefault(),Ue.shiftKey){ye===-1&&ge(P>=0?P:0);const lt=Math.min(P+1,he.length-1);j(lt),we(lt)}else ge(-1),we(-1),j(lt=>Math.min(lt+1,he.length-1));else if(Ue.key==="ArrowUp")if(Ue.preventDefault(),Ue.shiftKey){ye===-1&&ge(P>=0?P:0);const lt=Math.max(P-1,0);j(lt),we(lt)}else ge(-1),we(-1),P<=0?j(-1):j(lt=>lt-1);else if(Ue.key==="Enter"){if(Ue.preventDefault(),ye!==-1&&Me!==-1){const lt=Math.min(ye,Me),gt=Math.max(ye,Me),Lt=[];for(let Yt=lt;Yt<=gt;Yt++)Yt<he.length&&Lt.push(he[Yt]);h(Lt,E.name),ge(-1),we(-1),j(-1)}else if(P>=0&&P<he.length){const lt=he[P];f(lt,E.name),j(-1)}}}}},[D,he,P,ye,Me,xe,h,f,E.name]),qe=k.useCallback(Ue=>{var nt;if(Q){if(Ue.key==="Escape"){Ue.preventDefault(),ne(""),ue(-1),V(-1),se(-1),(nt=me.current)==null||nt.blur();return}if(oe.length!==0){if(Ue.key==="ArrowDown")if(Ue.preventDefault(),Ue.shiftKey){Ke===-1&&V(G>=0?G:0);const lt=Math.min(G+1,oe.length-1);ue(lt),se(lt)}else V(-1),se(-1),ue(lt=>Math.min(lt+1,oe.length-1));else if(Ue.key==="ArrowUp")if(Ue.preventDefault(),Ue.shiftKey){Ke===-1&&V(G>=0?G:0);const lt=Math.max(G-1,0);ue(lt),se(lt)}else V(-1),se(-1),G<=0?ue(-1):ue(lt=>lt-1);else if((Ue.key==="Delete"||Ue.key==="Backspace")&&G>=0){if(Ue.preventDefault(),Ke!==-1&&fe!==-1){const lt=Math.min(Ke,fe),gt=Math.max(Ke,fe),Lt=[];for(let Yt=lt;Yt<=gt;Yt++)Yt<oe.length&&Lt.push(oe[Yt]);p(Lt,E.name),V(-1),se(-1),ue(-1)}else if(G>=0&&G<oe.length){const lt=oe[G];c(lt,E.name),ue(-1)}}}}},[Q,oe,G,Ke,fe,ne,p,c,E.name]),Ye=k.useCallback(async Ue=>{try{const nt=await fetch("http://localhost:3333/api/open-file",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({filePath:Ue})});if(!nt.ok){const lt=await nt.json();throw new Error(lt.error||"Failed to open file")}Ft.success(`Opening ${Ue} in editor...`)}catch(nt){console.error("Failed to open in editor:",nt),Ft.error(`Could not open file: ${nt instanceof Error?nt.message:"Unknown error"}`)}},[]),tt=k.useCallback(Ue=>{const nt=Ue.split("/").pop()||Ue,lt=Ue.substring(0,Ue.lastIndexOf("/")+1),gt=m(Ue);return{fileName:nt,filePath:lt,fileBundles:gt}},[m]);return b.jsxDEV("div",{className:"h-full flex flex-col bg-background border border-border rounded-lg",children:[b.jsxDEV("div",{className:"p-6 border-b",children:b.jsxDEV("div",{className:"flex items-center justify-between",children:[b.jsxDEV("div",{className:"space-y-1 flex-1",children:[w?b.jsxDEV(_a,{value:E.name,onValueChange:w,onOpenChange:ce,children:[b.jsxDEV(jo,{className:"w-fit border-0 p-0 h-auto bg-transparent hover:bg-muted/50 focus:ring-0 focus:ring-offset-0 [&>svg]:hidden",children:b.jsxDEV(yl,{children:b.jsxDEV("div",{className:"flex items-center gap-2",children:[b.jsxDEV("h3",{className:"text-lg font-thin",children:E.name},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:320,columnNumber:23},void 0),b.jsxDEV(bm,{className:`w-4 h-4 text-muted-foreground transition-transform duration-200 ${B?"rotate-180":""}`},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:321,columnNumber:23},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:319,columnNumber:21},void 0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:318,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:317,columnNumber:17},void 0),b.jsxDEV(Mo,{children:e.map(Ue=>b.jsxDEV(Nr,{value:Ue.name,children:b.jsxDEV("div",{className:"flex items-center gap-2",children:[b.jsxDEV("span",{className:"font-medium",children:Ue.name},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:329,columnNumber:25},void 0),b.jsxDEV("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[b.jsxDEV("span",{children:[Ue.fileCount," files"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:331,columnNumber:27},void 0),b.jsxDEV("span",{children:"•"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:332,columnNumber:27},void 0),b.jsxDEV("span",{children:Lf(Ue.size)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:333,columnNumber:27},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:330,columnNumber:25},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:328,columnNumber:23},void 0)},Ue.name,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:327,columnNumber:21},void 0))},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:325,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:312,columnNumber:15},void 0):b.jsxDEV("h3",{className:"text-lg font-thin",children:E.name},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:341,columnNumber:15},void 0),b.jsxDEV("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[b.jsxDEV("span",{children:[E.fileCount," files"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:344,columnNumber:15},void 0),b.jsxDEV("span",{children:"•"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:345,columnNumber:15},void 0),b.jsxDEV("span",{children:Lf(E.size)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:346,columnNumber:15},void 0),E.lastGenerated&&b.jsxDEV(b.Fragment,{children:[b.jsxDEV("span",{children:"•"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:349,columnNumber:19},void 0),b.jsxDEV("span",{children:["Last generated: ",new Date(E.lastGenerated).toLocaleDateString()]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:350,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:348,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:343,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:310,columnNumber:11},void 0),b.jsxDEV(Dt,{variant:"outline",size:"sm",onClick:()=>l(E.name),className:"h-8 px-3",children:[b.jsxDEV(H$,{className:"w-3 h-3 mr-1"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:361,columnNumber:13},void 0),r.has(E.name)?"Done":"Edit"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:355,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:309,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:308,columnNumber:7},void 0),b.jsxDEV("div",{className:"flex-1 min-h-0 px-6",children:b.jsxDEV(eY,{direction:"vertical",className:"h-full",children:[b.jsxDEV(ZP,{defaultSize:r.has(E.name)?60:100,minSize:20,children:b.jsxDEV("div",{className:"space-y-2 h-full",children:[b.jsxDEV("div",{className:"flex items-center gap-2 flex-wrap pt-6",children:[b.jsxDEV(yn,{variant:"outline",className:"bg-primary/10 text-primary border-primary/20 text-xs font-thin h-5",children:"Bundle Files"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:372,columnNumber:17},void 0),b.jsxDEV("span",{className:"text-xs text-muted-foreground",children:r.has(E.name)?"(Click - to remove from bundle)":""},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:375,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:371,columnNumber:15},void 0),r.has(E.name)&&b.jsxDEV("div",{className:"mb-2",children:[b.jsxDEV("div",{className:"relative",children:[b.jsxDEV(jx,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 text-muted-foreground w-3 h-3"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:383,columnNumber:21},void 0),b.jsxDEV("input",{ref:me,type:"text",placeholder:"Search bundle files...",value:Y,onChange:Ue=>ne(Ue.target.value),onKeyDown:qe,onFocus:()=>K(!0),onBlur:()=>K(!1),className:"w-full pl-7 pr-3 py-1 text-xs border border-input rounded-md bg-background text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:384,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:382,columnNumber:19},void 0),Y&&b.jsxDEV("div",{className:"mt-2 ml-2 text-xs text-muted-foreground/55 flex items-center gap-2",children:b.jsxDEV("span",{children:["Press ",b.jsxDEV("kbd",{className:"px-1 py-0.5 bg-muted rounded border text-xs",children:"Delete"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:398,columnNumber:35},void 0)," to remove, ",b.jsxDEV("kbd",{className:"px-1 py-0.5 bg-muted rounded border text-xs",children:"↑"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:398,columnNumber:120},void 0),"/",b.jsxDEV("kbd",{className:"px-1 py-0.5 bg-muted rounded border text-xs",children:"↓"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:398,columnNumber:189},void 0)," to navigate, ",b.jsxDEV("kbd",{className:"px-1 py-0.5 bg-muted rounded border text-xs",children:"Shift+↑/↓"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:398,columnNumber:271},void 0)," to select range, ",b.jsxDEV("kbd",{className:"px-1 py-0.5 bg-muted rounded border text-xs",children:"Esc"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:398,columnNumber:365},void 0)," to exit"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:398,columnNumber:23},void 0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:397,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:381,columnNumber:17},void 0),b.jsxDEV("div",{className:"space-y-1 overflow-y-auto h-full",ref:le,onMouseLeave:()=>ue(-1),children:oe.length===0?b.jsxDEV("div",{className:"text-center py-4 text-muted-foreground",children:b.jsxDEV("p",{className:"text-xs",children:Y?"No files match your search":"No files in this bundle"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:409,columnNumber:25},void 0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:408,columnNumber:23},void 0):oe.map((Ue,nt)=>{const lt=`remove-${E.name}-${Ue}`,gt=o.has(lt),{fileName:Lt,filePath:Yt,fileBundles:Ot}=tt(Ue),Pt=Q&&nt===G,cr=Ke!==-1&&fe!==-1&&nt>=Math.min(Ke,fe)&&nt<=Math.max(Ke,fe);return b.jsxDEV("div",{className:`bundle-file-row flex items-center gap-2 py-0.5 px-1 rounded-sm group cursor-default transition-all duration-200 ${cr?"bg-destructive/20 ring-1 ring-destructive":Pt?"bg-destructive/10 ring-2 ring-destructive":"hover:bg-muted/50 hover:shadow-sm"}`,onMouseEnter:()=>ue(nt),tabIndex:-1,children:[b.jsxDEV(Dt,{variant:"ghost",size:"sm",onClick:()=>c(Ue,E.name),disabled:gt,className:"h-4 w-4 p-0 opacity-0 group-hover:opacity-100 hover:bg-destructive/10 hover:scale-110 transition-all duration-200 flex-shrink-0 cursor-pointer",title:"Remove from bundle",children:gt?b.jsxDEV(Ol,{className:"w-2.5 h-2.5 animate-spin"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:442,columnNumber:29},void 0):b.jsxDEV(M$,{className:"w-2.5 h-2.5 text-destructive"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:444,columnNumber:29},void 0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:433,columnNumber:25},void 0),b.jsxDEV("div",{className:"flex items-center gap-1.5 flex-1",children:[b.jsxDEV("div",{className:"flex-shrink-0",children:b.jsxDEV(ba,{className:qN(Ue).className},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:449,columnNumber:29},void 0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:448,columnNumber:27},void 0),b.jsxDEV("div",{className:"flex items-center gap-1.5 min-w-0 cursor-pointer group/file-link flex-1",onClick:()=>Ye(Ue),title:`Open ${Ue} in editor`,children:[b.jsxDEV("span",{className:"text-xs text-muted-foreground font-thin group-hover/file-link:text-foreground/70 transition-colors duration-200",children:Yt},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:456,columnNumber:29},void 0),b.jsxDEV("span",{className:"text-xs text-foreground font-medium group-hover/file-link:text-primary transition-colors duration-200",children:Lt},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:457,columnNumber:29},void 0),b.jsxDEV(iu,{className:"w-3 h-3 text-muted-foreground opacity-0 group-hover/file-link:opacity-100 transition-opacity duration-200 flex-shrink-0"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:458,columnNumber:29},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:451,columnNumber:27},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:447,columnNumber:25},void 0),b.jsxDEV("div",{className:"flex items-center gap-2 flex-shrink-0",children:[b.jsxDEV("span",{className:"text-xs text-muted-foreground",children:Lf(x[Ue]||0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:462,columnNumber:27},void 0),Ot.length>0&&b.jsxDEV("div",{className:"flex gap-1 flex-wrap",children:Ot.map(Cn=>b.jsxDEV(yn,{variant:"outline",className:"text-xs font-thin h-4 px-1.5",children:Cn},Cn,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:468,columnNumber:33},void 0))},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:466,columnNumber:29},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:461,columnNumber:25},void 0)]},Ue,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:424,columnNumber:23},void 0)})},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:404,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:370,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:369,columnNumber:11},void 0),r.has(E.name)&&b.jsxDEV(b.Fragment,{children:[b.jsxDEV(tY,{withHandle:!0},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:486,columnNumber:15},void 0),b.jsxDEV(ZP,{defaultSize:40,minSize:20,children:b.jsxDEV("div",{className:"space-y-2 h-full",children:[b.jsxDEV("div",{className:"flex items-center gap-2 flex-wrap pt-6",children:[b.jsxDEV(yn,{variant:"outline",className:"bg-muted text-muted-foreground border-border text-xs font-thin h-5",children:[b.jsxDEV(Dx,{className:"w-2.5 h-2.5 mr-1"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:491,columnNumber:23},void 0),"Available Files"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:490,columnNumber:21},void 0),b.jsxDEV("span",{className:"text-xs text-muted-foreground",children:"(Click + to add to bundle)"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:494,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:489,columnNumber:19},void 0),b.jsxDEV("div",{className:"mb-2",children:[b.jsxDEV("div",{className:"relative",children:[b.jsxDEV(jx,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 text-muted-foreground w-3 h-3"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:500,columnNumber:23},void 0),b.jsxDEV("input",{ref:L,type:"text",placeholder:"Search files...",value:Z,onChange:Ue=>xe(Ue.target.value),onKeyDown:De,onFocus:()=>U(!0),onBlur:()=>U(!1),className:"w-full pl-7 pr-3 py-1 text-xs border border-input rounded-md bg-background text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:501,columnNumber:23},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:499,columnNumber:21},void 0),Z&&b.jsxDEV("div",{className:"mt-2 ml-2 text-xs text-muted-foreground/55 flex items-center gap-2",children:b.jsxDEV("span",{children:["Press ",b.jsxDEV("kbd",{className:"px-1 py-0.5 bg-muted rounded border text-xs",children:"Enter"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:515,columnNumber:37},void 0)," to add, ",b.jsxDEV("kbd",{className:"px-1 py-0.5 bg-muted rounded border text-xs",children:"↑"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:515,columnNumber:118},void 0),"/",b.jsxDEV("kbd",{className:"px-1 py-0.5 bg-muted rounded border text-xs",children:"↓"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:515,columnNumber:187},void 0)," to navigate, ",b.jsxDEV("kbd",{className:"px-1 py-0.5 bg-muted rounded border text-xs",children:"Shift+↑/↓"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:515,columnNumber:269},void 0)," to select range, ",b.jsxDEV("kbd",{className:"px-1 py-0.5 bg-muted rounded border text-xs",children:"Esc"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:515,columnNumber:363},void 0)," to exit"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:515,columnNumber:25},void 0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:514,columnNumber:23},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:498,columnNumber:19},void 0),b.jsxDEV("div",{className:"space-y-1 overflow-y-auto h-full",ref:O,onMouseLeave:()=>j(-1),children:he.length===0?b.jsxDEV("div",{className:"text-center py-4 text-muted-foreground",children:b.jsxDEV("p",{className:"text-xs",children:Z?"No files match your search":"All files are already in this bundle"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:524,columnNumber:29},void 0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:523,columnNumber:27},void 0):he.map((Ue,nt)=>{const lt=`add-${E.name}-${Ue}`,gt=o.has(lt),{fileName:Lt,filePath:Yt,fileBundles:Ot}=tt(Ue),Pt=D&&nt===P,cr=ye!==-1&&Me!==-1&&nt>=Math.min(ye,Me)&&nt<=Math.max(ye,Me);return b.jsxDEV("div",{className:`available-file-row flex items-center gap-2 py-0.5 px-1 rounded-sm group cursor-default transition-all duration-200 ${cr?"bg-primary/20 ring-1 ring-primary":Pt?"bg-primary/10 ring-2 ring-primary":"hover:bg-muted/50 hover:shadow-sm"}`,onMouseEnter:()=>j(nt),tabIndex:-1,children:[b.jsxDEV(Dt,{variant:"ghost",size:"sm",onClick:()=>f(Ue,E.name),disabled:gt,className:"h-4 w-4 p-0 opacity-0 group-hover:opacity-100 hover:bg-primary/10 hover:scale-110 transition-all duration-200 flex-shrink-0 cursor-pointer",title:"Add to bundle",children:gt?b.jsxDEV(Ol,{className:"w-2.5 h-2.5 animate-spin"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:557,columnNumber:33},void 0):b.jsxDEV(Dx,{className:"w-2.5 h-2.5 text-primary"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:559,columnNumber:33},void 0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:548,columnNumber:29},void 0),b.jsxDEV("div",{className:"flex items-center gap-1.5 flex-1",children:[b.jsxDEV("div",{className:"flex-shrink-0",children:b.jsxDEV(ba,{className:qN(Ue).className},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:564,columnNumber:33},void 0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:563,columnNumber:31},void 0),b.jsxDEV("div",{className:"flex items-center gap-1.5 min-w-0 cursor-pointer group/file-link flex-1",onClick:()=>Ye(Ue),title:`Open ${Ue} in editor`,children:[b.jsxDEV("span",{className:"text-xs text-muted-foreground font-thin group-hover/file-link:text-foreground/70 transition-colors duration-200",children:Yt},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:571,columnNumber:33},void 0),b.jsxDEV("span",{className:"text-xs text-foreground font-medium group-hover/file-link:text-primary transition-colors duration-200",children:Lt},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:572,columnNumber:33},void 0),b.jsxDEV(iu,{className:"w-3 h-3 text-muted-foreground opacity-0 group-hover/file-link:opacity-100 transition-opacity duration-200 flex-shrink-0"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:573,columnNumber:33},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:566,columnNumber:31},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:562,columnNumber:29},void 0),b.jsxDEV("div",{className:"flex items-center gap-2 flex-shrink-0",children:[b.jsxDEV("span",{className:"text-xs text-muted-foreground",children:Lf(x[Ue]||0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:577,columnNumber:31},void 0),Ot.length>0&&b.jsxDEV("div",{className:"flex gap-1 flex-wrap",children:Ot.map(Cn=>b.jsxDEV(yn,{variant:"outline",className:"text-xs font-thin h-4 px-1.5",children:Cn},Cn,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:583,columnNumber:37},void 0))},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:581,columnNumber:33},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:576,columnNumber:29},void 0)]},Ue,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:539,columnNumber:27},void 0)})},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:519,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:488,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:487,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:485,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:367,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:366,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/BundleDetails.tsx",lineNumber:307,columnNumber:5},void 0)},rY=async()=>{const t=await fetch("http://localhost:3333/api/bundles");if(!t.ok)throw new Error("Failed to fetch bundles");return t.json()},QP=t=>{const e={name:"",path:"",type:"directory",children:[]},n=new Set,r=new Map;t.forEach(o=>{o.files.forEach(l=>{n.add(l),r.has(l)||r.set(l,[]),r.get(l).push(o.name)})}),n.forEach(o=>{const l=o.split("/");let c=e;l.forEach((f,h)=>{const p=h===l.length-1,m=l.slice(0,h+1).join("/");c.children||(c.children=[]);let x=c.children.find(w=>w.name===f);x||(x={name:f,path:m,type:p?"file":"directory",children:p?void 0:[],bundles:p?r.get(o):void 0},c.children.push(x)),p||(c=x)})});const s=o=>{o.children&&(o.children.sort((l,c)=>l.type!==c.type?l.type==="directory"?-1:1:l.name.localeCompare(c.name)),o.children.forEach(s))};return s(e),e},sY=t=>{if(t===0)return"0 B";const e=1024,n=["B","KB","MB","GB"],r=Math.floor(Math.log(t)/Math.log(e));return parseFloat((t/Math.pow(e,r)).toFixed(1))+" "+n[r]};function A4({node:t,level:e,expandedDirs:n,onToggleDir:r}){const s=n.has(t.path),o=e*16;if(t.type==="directory")return b.jsxDEV("div",{children:[b.jsxDEV("div",{className:"flex items-center gap-2 py-1 px-2 hover:bg-muted/50 rounded cursor-pointer",style:{paddingLeft:`${o+8}px`},onClick:()=>r(t.path),children:[s?b.jsxDEV(bm,{className:"w-4 h-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/FileTree.tsx",lineNumber:119,columnNumber:13},this):b.jsxDEV(hO,{className:"w-4 h-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/FileTree.tsx",lineNumber:121,columnNumber:13},this),s?b.jsxDEV(v$,{className:"w-4 h-4 text-[color:var(--color-info)]"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/FileTree.tsx",lineNumber:124,columnNumber:13},this):b.jsxDEV(_$,{className:"w-4 h-4 text-[color:var(--color-info)]"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/FileTree.tsx",lineNumber:126,columnNumber:13},this),b.jsxDEV("span",{className:"text-xs font-thin",children:t.name},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/FileTree.tsx",lineNumber:128,columnNumber:11},this),t.children&&b.jsxDEV("span",{className:"text-xs text-muted-foreground ml-auto",children:[t.children.length," items"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/FileTree.tsx",lineNumber:130,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/FileTree.tsx",lineNumber:113,columnNumber:9},this),s&&t.children&&b.jsxDEV("div",{children:t.children.map(c=>b.jsxDEV(A4,{node:c,level:e+1,expandedDirs:n,onToggleDir:r},c.path,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/FileTree.tsx",lineNumber:139,columnNumber:15},this))},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/FileTree.tsx",lineNumber:137,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/FileTree.tsx",lineNumber:112,columnNumber:7},this);const l=c=>{var p;const f=(p=c.split(".").pop())==null?void 0:p.toLowerCase(),h="w-4 h-4";switch(f){case"js":case"ts":case"jsx":case"tsx":return b.jsxDEV(ba,{className:`${h} text-[color:var(--color-warning)]`},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/FileTree.tsx",lineNumber:163,columnNumber:16},this);case"json":return b.jsxDEV(ba,{className:`${h} text-[color:var(--color-success)]`},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/FileTree.tsx",lineNumber:165,columnNumber:16},this);case"md":return b.jsxDEV(ba,{className:`${h} text-[color:var(--color-info)]/80`},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/FileTree.tsx",lineNumber:167,columnNumber:16},this);case"css":case"scss":return b.jsxDEV(ba,{className:`${h} text-[color:var(--color-type-styles)]`},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/FileTree.tsx",lineNumber:170,columnNumber:16},this);case"html":return b.jsxDEV(ba,{className:`${h} text-[color:var(--color-type-configuration)]`},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/FileTree.tsx",lineNumber:172,columnNumber:16},this);default:return b.jsxDEV(ba,{className:`${h} text-muted-foreground`},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/FileTree.tsx",lineNumber:174,columnNumber:16},this)}};return b.jsxDEV("div",{className:"flex items-center gap-2 py-1 px-2 hover:bg-muted/50 rounded",style:{paddingLeft:`${o+24}px`},children:[l(t.name),b.jsxDEV("span",{className:"text-xs font-mono",children:t.name},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/FileTree.tsx",lineNumber:184,columnNumber:7},this),t.bundles&&t.bundles.length>0&&b.jsxDEV("div",{className:"flex gap-1 ml-2",children:t.bundles.map(c=>b.jsxDEV(yn,{variant:"outline",className:"text-xs px-1 py-0 h-4",children:c},c,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/FileTree.tsx",lineNumber:189,columnNumber:13},this))},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/FileTree.tsx",lineNumber:187,columnNumber:9},this),t.size&&b.jsxDEV("span",{className:"text-xs text-muted-foreground ml-auto",children:sY(t.size)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/FileTree.tsx",lineNumber:201,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/FileTree.tsx",lineNumber:179,columnNumber:5},this)}function iY(){const[t,e]=k.useState(new Set([""])),{data:n,isLoading:r}=Pi({queryKey:["bundles"],queryFn:rY,refetchInterval:5e3}),s=h=>{const p=new Set(t);p.has(h)?p.delete(h):p.add(h),e(p)},o=()=>{if(!n)return;const h=QP(n),p=new Set,m=x=>{var w;x.type==="directory"&&(p.add(x.path),(w=x.children)==null||w.forEach(m))};m(h),e(p)},l=()=>{e(new Set([""]))};if(r)return b.jsxDEV("div",{children:"Loading file tree..."},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/FileTree.tsx",lineNumber:250,columnNumber:25},this);if(!n)return b.jsxDEV("div",{children:"No bundles found"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/FileTree.tsx",lineNumber:251,columnNumber:24},this);const c=QP(n),f=n.reduce((h,p)=>h+p.files.length,0);return b.jsxDEV("div",{className:"space-y-4",children:[b.jsxDEV("div",{className:"flex items-center justify-between",children:[b.jsxDEV("div",{className:"flex gap-1",children:[b.jsxDEV(Dt,{variant:"outline",size:"sm",className:"h-7 text-xs",onClick:o,children:"Expand All"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/FileTree.tsx",lineNumber:261,columnNumber:11},this),b.jsxDEV(Dt,{variant:"outline",size:"sm",className:"h-7 text-xs",onClick:l,children:"Collapse All"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/FileTree.tsx",lineNumber:264,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/FileTree.tsx",lineNumber:260,columnNumber:9},this),b.jsxDEV("div",{className:"text-xs text-muted-foreground font-thin",children:[f," files tracked"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/FileTree.tsx",lineNumber:269,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/FileTree.tsx",lineNumber:259,columnNumber:7},this),b.jsxDEV(gn,{className:"p-4",children:b.jsxDEV("div",{className:"space-y-1 max-h-96 overflow-y-auto",children:c.children&&c.children.length>0?c.children.map(h=>b.jsxDEV(A4,{node:h,level:0,expandedDirs:t,onToggleDir:s},h.path,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/FileTree.tsx",lineNumber:279,columnNumber:15},this)):b.jsxDEV("div",{className:"text-center text-muted-foreground py-8",children:"No files found"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/FileTree.tsx",lineNumber:288,columnNumber:13},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/FileTree.tsx",lineNumber:276,columnNumber:9},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/FileTree.tsx",lineNumber:275,columnNumber:7},this),b.jsxDEV(gn,{className:"p-4",children:[b.jsxDEV("h3",{className:"text-xs font-thin mb-2",children:"Bundle Legend"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/FileTree.tsx",lineNumber:297,columnNumber:9},this),b.jsxDEV("div",{className:"flex flex-wrap gap-2",children:n.map(h=>b.jsxDEV(yn,{variant:"outline",children:[h.name," (",h.files.length,")"]},h.name,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/FileTree.tsx",lineNumber:300,columnNumber:13},this))},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/FileTree.tsx",lineNumber:298,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/FileTree.tsx",lineNumber:296,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/FileTree.tsx",lineNumber:257,columnNumber:5},this)}const oY=()=>b.jsxDEV(gn,{children:[b.jsxDEV(Kn,{children:[b.jsxDEV(Jn,{className:"flex items-center gap-2",children:[b.jsxDEV(bO,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/ProjectFiles.tsx",lineNumber:11,columnNumber:11},void 0),"Project Files"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/ProjectFiles.tsx",lineNumber:10,columnNumber:9},void 0),b.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Browse and explore all files in your project with bundle information."},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/ProjectFiles.tsx",lineNumber:14,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/ProjectFiles.tsx",lineNumber:9,columnNumber:7},void 0),b.jsxDEV(vn,{children:b.jsxDEV(iY,{},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/ProjectFiles.tsx",lineNumber:19,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/ProjectFiles.tsx",lineNumber:18,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/ProjectFiles.tsx",lineNumber:8,columnNumber:5},void 0);var rv="Dialog",[C4,Xme]=Ra(rv),[aY,so]=C4(rv),R4=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:l=!0}=t,c=k.useRef(null),f=k.useRef(null),[h,p]=su({prop:r,defaultProp:s??!1,onChange:o,caller:rv});return je.jsx(aY,{scope:e,triggerRef:c,contentRef:f,contentId:Ps(),titleId:Ps(),descriptionId:Ps(),open:h,onOpenChange:p,onOpenToggle:k.useCallback(()=>p(m=>!m),[p]),modal:l,children:n})};R4.displayName=rv;var k4="DialogTrigger",lY=k.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=so(k4,n),o=Zn(e,s.triggerRef);return je.jsx(jt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":HE(s.open),...r,ref:o,onClick:Bt(t.onClick,s.onOpenToggle)})});lY.displayName=k4;var zE="DialogPortal",[cY,D4]=C4(zE,{forceMount:void 0}),P4=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,o=so(zE,e);return je.jsx(cY,{scope:e,forceMount:n,children:k.Children.map(r,l=>je.jsx($l,{present:n||o.open,children:je.jsx(mm,{asChild:!0,container:s,children:l})}))})};P4.displayName=zE;var Lx="DialogOverlay",j4=k.forwardRef((t,e)=>{const n=D4(Lx,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,o=so(Lx,t.__scopeDialog);return o.modal?je.jsx($l,{present:r||o.open,children:je.jsx(fY,{...s,ref:e})}):null});j4.displayName=Lx;var uY=ru("DialogOverlay.RemoveScroll"),fY=k.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=so(Lx,n);return je.jsx(Ky,{as:uY,allowPinchZoom:!0,shards:[s.contentRef],children:je.jsx(jt.div,{"data-state":HE(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),uu="DialogContent",M4=k.forwardRef((t,e)=>{const n=D4(uu,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,o=so(uu,t.__scopeDialog);return je.jsx($l,{present:r||o.open,children:o.modal?je.jsx(dY,{...s,ref:e}):je.jsx(hY,{...s,ref:e})})});M4.displayName=uu;var dY=k.forwardRef((t,e)=>{const n=so(uu,t.__scopeDialog),r=k.useRef(null),s=Zn(e,n.contentRef,r);return k.useEffect(()=>{const o=r.current;if(o)return OE(o)},[]),je.jsx(I4,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Bt(t.onCloseAutoFocus,o=>{var l;o.preventDefault(),(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Bt(t.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0;(l.button===2||c)&&o.preventDefault()}),onFocusOutside:Bt(t.onFocusOutside,o=>o.preventDefault())})}),hY=k.forwardRef((t,e)=>{const n=so(uu,t.__scopeDialog),r=k.useRef(!1),s=k.useRef(!1);return je.jsx(I4,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var l,c;(l=t.onCloseAutoFocus)==null||l.call(t,o),o.defaultPrevented||(r.current||(c=n.triggerRef.current)==null||c.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var f,h;(f=t.onInteractOutside)==null||f.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const l=o.target;((h=n.triggerRef.current)==null?void 0:h.contains(l))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),I4=k.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...l}=t,c=so(uu,n),f=k.useRef(null),h=Zn(e,f);return EE(),je.jsxs(je.Fragment,{children:[je.jsx($y,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:je.jsx(pm,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":HE(c.open),...l,ref:h,onDismiss:()=>c.onOpenChange(!1)})}),je.jsxs(je.Fragment,{children:[je.jsx(mY,{titleId:c.titleId}),je.jsx(bY,{contentRef:f,descriptionId:c.descriptionId})]})]})}),$E="DialogTitle",O4=k.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=so($E,n);return je.jsx(jt.h2,{id:s.titleId,...r,ref:e})});O4.displayName=$E;var U4="DialogDescription",pY=k.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=so(U4,n);return je.jsx(jt.p,{id:s.descriptionId,...r,ref:e})});pY.displayName=U4;var V4="DialogClose",F4=k.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=so(V4,n);return je.jsx(jt.button,{type:"button",...r,ref:e,onClick:Bt(t.onClick,()=>s.onOpenChange(!1))})});F4.displayName=V4;function HE(t){return t?"open":"closed"}var B4="DialogTitleWarning",[Yme,L4]=J8(B4,{contentName:uu,titleName:$E,docsSlug:"dialog"}),mY=({titleId:t})=>{const e=L4(B4),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return k.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},gY="DialogDescriptionWarning",bY=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${L4(gY).contentName}}.`;return k.useEffect(()=>{var o;const s=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},z4=R4,$4=P4,H4=j4,W4=M4,xY=O4,yY=F4;function vY({...t}){return b.jsxDEV(z4,{"data-slot":"dialog",...t},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/dialog.tsx",lineNumber:12,columnNumber:10},this)}function wY({...t}){return b.jsxDEV($4,{"data-slot":"dialog-portal",...t},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/dialog.tsx",lineNumber:24,columnNumber:10},this)}function _Y({className:t,...e}){return b.jsxDEV(H4,{"data-slot":"dialog-overlay",className:Wt("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/dialog.tsx",lineNumber:38,columnNumber:5},this)}function NY({className:t,children:e,showCloseButton:n=!0,...r}){return b.jsxDEV(wY,{"data-slot":"dialog-portal",children:[b.jsxDEV(_Y,{},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/dialog.tsx",lineNumber:59,columnNumber:7},this),b.jsxDEV(W4,{"data-slot":"dialog-content",className:Wt("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...r,children:[e,n&&b.jsxDEV(yY,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[b.jsxDEV(ii,{},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/dialog.tsx",lineNumber:74,columnNumber:13},this),b.jsxDEV("span",{className:"sr-only",children:"Close"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/dialog.tsx",lineNumber:75,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/dialog.tsx",lineNumber:70,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/dialog.tsx",lineNumber:60,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/dialog.tsx",lineNumber:58,columnNumber:5},this)}function SY({className:t,...e}){return b.jsxDEV("div",{"data-slot":"dialog-header",className:Wt("flex flex-col gap-2 text-center sm:text-left",t),...e},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/dialog.tsx",lineNumber:85,columnNumber:5},this)}function EY({className:t,...e}){return b.jsxDEV("div",{"data-slot":"dialog-footer",className:Wt("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...e},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/dialog.tsx",lineNumber:95,columnNumber:5},this)}function TY({className:t,...e}){return b.jsxDEV(xY,{"data-slot":"dialog-title",className:Wt("text-lg leading-none font-thin",t),...e},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/dialog.tsx",lineNumber:111,columnNumber:5},this)}function WE({className:t,type:e,...n}){return b.jsxDEV("input",{type:e,"data-slot":"input",className:Wt("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-thin disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/input.tsx",lineNumber:7,columnNumber:5},this)}const AY=({fileInfo:t,bundles:e,addFileToBundle:n,loadFileAnalysis:r,loadingButtons:s,setButtonState:o,onRemove:l,fileSizes:c})=>{const{suggestions:f,loading:h}=BH(t.path);t.bundles.length===0||t.bundles.join(", ");const[p,m]=k.useState(""),[x,w]=k.useState(!1),[E,T]=k.useState(""),[C,P]=k.useState(!1),[j,D]=k.useState(!1),[U,L]=k.useState(!1),O=e.map(ye=>ye.name).filter(ye=>ye!=="master"&&!t.bundles.includes(ye)),Y=async ye=>{if(ye==="__create__")w(!0),m("");else if(ye==="__ignore__")await K(),m("");else if(ye){L(!0);const ge=`add-${ye}-${t.path}`;o(ge,"loading"),await n(t.path,ye),o(ge,"idle"),m(""),D(!0),setTimeout(()=>{L(!1),l(t.path)},300)}},ne=async ye=>{const ge=`add-${ye}-${t.path}`;o(ge,"loading"),await n(t.path,ye),o(ge,"idle"),G()},Q=async()=>{if(E.trim()){if(e.some(ye=>ye.name===E.trim())){alert("Bundle already exists!");return}P(!0),await n(t.path,E.trim()),P(!1),w(!1),T(""),G()}},K=async()=>{o(`ignore-${t.path}`,"loading"),await fetch("http://localhost:3333/api/hidden-files",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"toggle",filePath:t.path,forceHide:!0})}),o(`ignore-${t.path}`,"idle"),G()},G=()=>{D(!0),setTimeout(()=>l(t.path),300)},ue=async ye=>{try{const ge=await fetch("http://localhost:3333/api/open-file",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({filePath:ye})});if(!ge.ok){const Me=await ge.json();throw new Error(Me.error||"Failed to open file")}Ft.success(`Opening ${ye} in editor...`)}catch(ge){console.error("Failed to open in editor:",ge),Ft.error(`Could not open file: ${ge instanceof Error?ge.message:"Unknown error"}`)}},me=t.path.split("/").pop()||t.path,le=t.path.substring(0,t.path.lastIndexOf("/")+1);return b.jsxDEV("div",{className:`flex items-center gap-2 py-0.5 px-1 rounded-sm group cursor-default transition-all duration-300 border border-warning/20 bg-warning/5 hover:bg-warning/10 ${j?"opacity-0 h-0 overflow-hidden p-0 m-0":""}`,children:[b.jsxDEV("div",{className:"flex items-center gap-1.5 flex-1",children:[b.jsxDEV("div",{className:"flex-shrink-0",children:b.jsxDEV(ba,{className:qN(t.path).className},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/UndercategorizedFileRow.tsx",lineNumber:126,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/UndercategorizedFileRow.tsx",lineNumber:125,columnNumber:9},void 0),b.jsxDEV("div",{className:"flex items-center gap-1.5 min-w-0 cursor-pointer group/file-link flex-1",onClick:()=>ue(t.path),title:`Open ${t.path} in editor`,children:[b.jsxDEV("span",{className:"text-xs text-muted-foreground font-thin group-hover/file-link:text-foreground/70 transition-colors duration-200",children:le},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/UndercategorizedFileRow.tsx",lineNumber:133,columnNumber:11},void 0),b.jsxDEV("span",{className:"text-xs text-foreground font-medium group-hover/file-link:text-primary transition-colors duration-200",children:me},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/UndercategorizedFileRow.tsx",lineNumber:134,columnNumber:11},void 0),b.jsxDEV(iu,{className:"w-3 h-3 text-muted-foreground opacity-0 group-hover/file-link:opacity-100 transition-opacity duration-200 flex-shrink-0"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/UndercategorizedFileRow.tsx",lineNumber:135,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/UndercategorizedFileRow.tsx",lineNumber:128,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/UndercategorizedFileRow.tsx",lineNumber:124,columnNumber:7},void 0),b.jsxDEV("div",{className:"flex items-center gap-2 flex-shrink-0",children:[b.jsxDEV("span",{className:"text-xs text-muted-foreground",children:Lf(c[t.path]||0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/UndercategorizedFileRow.tsx",lineNumber:141,columnNumber:9},void 0),h?b.jsxDEV("div",{className:"flex items-center gap-1",children:[b.jsxDEV(Ol,{className:"w-3 h-3 animate-spin"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/UndercategorizedFileRow.tsx",lineNumber:148,columnNumber:13},void 0),b.jsxDEV("span",{className:"text-xs text-muted-foreground",children:"Loading..."},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/UndercategorizedFileRow.tsx",lineNumber:149,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/UndercategorizedFileRow.tsx",lineNumber:147,columnNumber:11},void 0):f.length>0&&b.jsxDEV("div",{className:"flex gap-1",children:f.slice(0,2).map(ye=>{const ge=`add-${ye}-${t.path}`,Me=s.has(ge);return b.jsxDEV(yn,{variant:"outline",className:"text-xs font-thin h-4 px-1.5 bg-primary/10 cursor-pointer hover:bg-primary/20 transition-colors duration-200 flex items-center gap-1",onClick:()=>ne(ye),title:`Add to ${ye} bundle`,children:[Me?b.jsxDEV(Ol,{className:"w-2.5 h-2.5 animate-spin"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/UndercategorizedFileRow.tsx",lineNumber:165,columnNumber:21},void 0):b.jsxDEV(Dx,{className:"w-2.5 h-2.5"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/UndercategorizedFileRow.tsx",lineNumber:167,columnNumber:21},void 0),ye]},`suggestion-${ye}`,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/UndercategorizedFileRow.tsx",lineNumber:157,columnNumber:17},void 0)})},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/UndercategorizedFileRow.tsx",lineNumber:152,columnNumber:11},void 0),b.jsxDEV("div",{className:"flex gap-1 items-center",children:b.jsxDEV(_a,{value:p,onValueChange:Y,disabled:j||U,children:[b.jsxDEV(jo,{className:"h-4 w-4 p-0 border-0 bg-transparent hover:bg-muted/50 opacity-60 hover:opacity-100 transition-all duration-200 [&>svg]:hidden",children:U?b.jsxDEV(Ol,{className:"w-2.5 h-2.5 animate-spin"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/UndercategorizedFileRow.tsx",lineNumber:182,columnNumber:17},void 0):b.jsxDEV("span",{className:"text-xs",children:"⋯"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/UndercategorizedFileRow.tsx",lineNumber:184,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/UndercategorizedFileRow.tsx",lineNumber:180,columnNumber:13},void 0),b.jsxDEV(Mo,{children:[O.map(ye=>b.jsxDEV(Nr,{value:ye,className:"text-xs",children:b.jsxDEV("div",{className:"flex items-center gap-1",children:[b.jsxDEV(Dx,{className:"w-3 h-3"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/UndercategorizedFileRow.tsx",lineNumber:191,columnNumber:21},void 0),"Add to ",ye]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/UndercategorizedFileRow.tsx",lineNumber:190,columnNumber:19},void 0)},ye,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/UndercategorizedFileRow.tsx",lineNumber:189,columnNumber:17},void 0)),b.jsxDEV(Nr,{value:"__create__",className:"text-xs italic text-muted-foreground",children:"+ Create new bundle…"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/UndercategorizedFileRow.tsx",lineNumber:196,columnNumber:15},void 0),b.jsxDEV(Nr,{value:"__ignore__",className:"text-xs text-muted-foreground",children:"Ignore file"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/UndercategorizedFileRow.tsx",lineNumber:199,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/UndercategorizedFileRow.tsx",lineNumber:187,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/UndercategorizedFileRow.tsx",lineNumber:179,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/UndercategorizedFileRow.tsx",lineNumber:177,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/UndercategorizedFileRow.tsx",lineNumber:140,columnNumber:7},void 0),b.jsxDEV(vY,{open:x,onOpenChange:w,children:b.jsxDEV(NY,{className:"max-w-xs",children:[b.jsxDEV(SY,{children:b.jsxDEV(TY,{children:"Create New Bundle"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/UndercategorizedFileRow.tsx",lineNumber:211,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/UndercategorizedFileRow.tsx",lineNumber:210,columnNumber:11},void 0),b.jsxDEV(WE,{autoFocus:!0,placeholder:"Bundle name",value:E,onChange:ye=>T(ye.target.value),onKeyDown:ye=>{ye.key==="Enter"&&Q()},className:"mt-2",disabled:C||s.has(`add-${E}-${t.path}`)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/UndercategorizedFileRow.tsx",lineNumber:213,columnNumber:11},void 0),b.jsxDEV(EY,{children:b.jsxDEV(Dt,{onClick:Q,disabled:C||!E.trim(),children:C?"Creating…":"Create"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/UndercategorizedFileRow.tsx",lineNumber:223,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/UndercategorizedFileRow.tsx",lineNumber:222,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/UndercategorizedFileRow.tsx",lineNumber:209,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/UndercategorizedFileRow.tsx",lineNumber:208,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/UndercategorizedFileRow.tsx",lineNumber:122,columnNumber:5},void 0)},CY=({undercategorizedFiles:t,bundles:e,addFileToBundle:n,loadFileAnalysis:r,loadingButtons:s,setButtonState:o,onRemoveFile:l,fileSizes:c})=>t.length===0?null:b.jsxDEV(gn,{className:"border-warning/20 bg-warning/5",children:[b.jsxDEV(Kn,{className:"pb-3",children:[b.jsxDEV(Jn,{className:"flex items-center gap-2 text-warning text-sm font-medium",children:[b.jsxDEV(Ai,{className:"w-3 h-3"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/FileAnalysis.tsx",lineNumber:26,columnNumber:11},void 0),"Files Needing Bundle Assignment (",t.length,")"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/FileAnalysis.tsx",lineNumber:25,columnNumber:9},void 0),b.jsxDEV("p",{className:"text-xs text-muted-foreground font-thin",children:"These files are only in the 'master' bundle and should be assigned to more specific bundles for better organization."},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/FileAnalysis.tsx",lineNumber:29,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/FileAnalysis.tsx",lineNumber:24,columnNumber:7},void 0),b.jsxDEV(vn,{className:"pt-0",children:[b.jsxDEV("div",{className:"space-y-1 max-h-80 overflow-y-auto",children:t.map(f=>b.jsxDEV(AY,{fileInfo:f,bundles:e,addFileToBundle:n,loadFileAnalysis:r,loadingButtons:s,setButtonState:o,onRemove:l,fileSizes:c},f.path,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/FileAnalysis.tsx",lineNumber:36,columnNumber:13},void 0))},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/FileAnalysis.tsx",lineNumber:34,columnNumber:9},void 0),b.jsxDEV("div",{className:"flex justify-between items-center pt-3 mt-3 border-t border-warning/20",children:[b.jsxDEV("span",{className:"text-xs text-muted-foreground",children:[t.length," files need better bundle assignment"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/FileAnalysis.tsx",lineNumber:51,columnNumber:11},void 0),b.jsxDEV(Dt,{variant:"outline",size:"sm",onClick:r,className:"h-6 px-2 text-xs",children:[b.jsxDEV(Ds,{className:"w-2.5 h-2.5 mr-1"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/FileAnalysis.tsx",lineNumber:60,columnNumber:13},void 0),"Refresh"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/FileAnalysis.tsx",lineNumber:54,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/FileAnalysis.tsx",lineNumber:50,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/FileAnalysis.tsx",lineNumber:33,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/bundles/FileAnalysis.tsx",lineNumber:23,columnNumber:5},void 0),RY=async()=>{const t=await fetch("http://localhost:3333/api/bundles");if(!t.ok)throw new Error("Failed to fetch bundles");return t.json()},kY=async()=>{const t=await fetch("http://localhost:3333/api/files");if(!t.ok)throw new Error("Failed to fetch files");return(await t.json()).map(n=>n.path)};function DY(){const t=kd(),[e,n]=k.useState(null),[r,s]=k.useState(new Set),[o,l]=k.useState(new Set),[c,f]=k.useState(null),[h,p]=k.useState(new Map),[m,x]=k.useState(!1),w=FH(),{data:E=[],isLoading:T,isFetching:C,dataUpdatedAt:P}=Pi({queryKey:["bundles"],queryFn:RY,refetchInterval:5e3,refetchOnWindowFocus:!0}),{data:j=[],isFetching:D,dataUpdatedAt:U}=Pi({queryKey:["allFiles"],queryFn:kY,refetchInterval:3e4,refetchOnWindowFocus:!0});k.useEffect(()=>{const B=Math.max(P,U);B>0&&f(new Date(B))},[P,U]),k.useEffect(()=>{const B=new WebSocket("ws://localhost:3333");return B.onopen=()=>{console.log("Bundle updates WebSocket connected")},B.onmessage=ce=>{try{const Z=JSON.parse(ce.data);switch(console.log("WebSocket message received:",Z),Z.type){case"bundle-sync-started":p(xe=>new Map(xe).set(Z.bundleName,{changed:!0,lastSync:new Date(Z.timestamp)})),Ft.info(`Syncing ${Z.bundleName}`);break;case"bundle-sync-completed":p(xe=>new Map(xe).set(Z.bundleName,{changed:!1,lastSync:new Date(Z.timestamp)})),Ft.success(`Synced ${Z.bundleName}`),t.invalidateQueries({queryKey:["bundles"]});break;case"bundle-sync-failed":p(xe=>new Map(xe).set(Z.bundleName,{changed:!0,lastSync:new Date(Z.timestamp)})),Ft.error(`Sync failed for ${Z.bundleName}`,Z.error);break;case"bundle-file-changed":p(xe=>new Map(xe).set(Z.bundleName,{changed:!0,lastSync:new Date(Z.timestamp)}));break}}catch(Z){console.error("Error parsing bundle update:",Z)}},B.onclose=()=>{console.log("Bundle updates WebSocket disconnected")},B.onerror=ce=>{console.error("Bundle updates WebSocket error:",ce)},()=>{B.close()}},[t]);const L=!j||!E?[]:j,O=k.useCallback(B=>{n(e===B?null:B)},[e]),Y=k.useCallback(B=>{s(ce=>{const Z=new Set(ce);return Z.has(B)?Z.delete(B):Z.add(B),Z})},[]),ne=k.useCallback(B=>E.filter(ce=>ce.files.includes(B)).map(ce=>ce.name),[E]),Q=k.useCallback(B=>{const ce=ne(B);return ce.length===1&&ce[0]==="master"},[ne]),K=k.useCallback(B=>B.files.some(ce=>Q(ce)),[Q]),G=k.useMemo(()=>E.filter(B=>B.name==="master").flatMap(B=>B.files.filter(ce=>Q(ce))).map(B=>({path:B,bundles:["master"]})),[E]),ue=k.useMemo(()=>G.length,[G]),me=k.useMemo(()=>E.map(B=>{const ce=h.get(B.name);return{...B,changed:(ce==null?void 0:ce.changed)??B.changed,lastSync:ce==null?void 0:ce.lastSync}}),[E,h]),le=k.useMemo(()=>E.map(B=>({name:B.name,hasUnassignedFiles:K(B)})),[E]),ye=k.useCallback(async()=>{x(!0);try{await Promise.all([t.invalidateQueries({queryKey:["bundles"]}),t.invalidateQueries({queryKey:["allFiles"]})]),Ft.success("Data refreshed")}catch{Ft.error("Failed to refresh data")}finally{x(!1)}},[t]),ge=k.useCallback(async B=>{const ce=`regen-${B}`;l(Z=>new Set(Z).add(ce));try{const Z=await fetch(`http://localhost:3333/api/regenerate/${B}`,{method:"POST",headers:{"Content-Type":"application/json"}});if(!Z.ok){const xe=await Z.text();throw new Error(`Failed to regenerate bundle: ${Z.status} ${xe}`)}await ye(),Ft.success(`Regenerated ${B}`)}catch(Z){console.error("Regenerate bundle error:",Z),Ft.error(`Failed to regenerate bundle: ${Z instanceof Error?Z.message:"Unknown error"}`)}finally{l(Z=>{const xe=new Set(Z);return xe.delete(ce),xe})}},[ye]),Me=k.useCallback(async B=>{const ce=`copy-${B}`;l(Z=>new Set(Z).add(ce));try{Ft.error("Copy functionality not yet implemented")}catch(Z){console.error("Copy bundle error:",Z),Ft.error(`Failed to copy bundle: ${Z instanceof Error?Z.message:"Unknown error"}`)}finally{l(Z=>{const xe=new Set(Z);return xe.delete(ce),xe})}},[]),we=k.useCallback(async B=>{const ce=`download-${B}`;l(Z=>new Set(Z).add(ce));try{Ft.error("Download functionality not yet implemented")}catch(Z){console.error("Download bundle error:",Z),Ft.error(`Failed to download bundle: ${Z instanceof Error?Z.message:"Unknown error"}`)}finally{l(Z=>{const xe=new Set(Z);return xe.delete(ce),xe})}},[]),Ke=k.useCallback(async(B,ce)=>{const Z=`remove-${ce}-${B}`;l(xe=>new Set(xe).add(Z));try{const xe=await fetch("http://localhost:3333/api/bundles",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"remove-file",bundleName:ce,fileName:B})});if(!xe.ok){const he=await xe.text();throw new Error(`Failed to remove file from bundle: ${xe.status} ${he}`)}await ye(),Ft.success(`Removed ${B} from ${ce}`)}catch(xe){console.error("Remove file error:",xe),Ft.error(`Failed to remove file: ${xe instanceof Error?xe.message:"Unknown error"}`)}finally{l(xe=>{const he=new Set(xe);return he.delete(Z),he})}},[ye]),V=k.useCallback(async(B,ce)=>{const Z=`add-${ce}-${B}`;l(xe=>new Set(xe).add(Z));try{const xe=await fetch("http://localhost:3333/api/bundles",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"add-file",bundleName:ce,fileName:B})});if(!xe.ok){const he=await xe.text();throw new Error(`Failed to add file to bundle: ${xe.status} ${he}`)}await ye(),Ft.success(`Added ${B} to ${ce}`)}catch(xe){console.error("Add file error:",xe),Ft.error(`Failed to add file: ${xe instanceof Error?xe.message:"Unknown error"}`)}finally{l(xe=>{const he=new Set(xe);return he.delete(Z),he})}},[ye]),fe=k.useCallback(async(B,ce)=>{const Z=`bulk-add-${ce}`;l(xe=>new Set(xe).add(Z));try{const xe=await fetch("http://localhost:3333/api/bundles",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"bulk-add-files",bundleName:ce,fileNames:B})});if(!xe.ok){const he=await xe.text();throw new Error(`Failed to add files to bundle: ${xe.status} ${he}`)}await ye(),Ft.success(`Added ${B.length} files to ${ce}`)}catch(xe){console.error("Bulk add files error:",xe),Ft.error(`Failed to add files: ${xe instanceof Error?xe.message:"Unknown error"}`)}finally{l(xe=>{const he=new Set(xe);return he.delete(Z),he})}},[ye]),se=k.useCallback(async(B,ce)=>{const Z=`bulk-remove-${ce}`;l(xe=>new Set(xe).add(Z));try{const xe=await fetch("http://localhost:3333/api/bundles",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"bulk-remove-files",bundleName:ce,fileNames:B})});if(!xe.ok){const he=await xe.text();throw new Error(`Failed to remove files from bundle: ${xe.status} ${he}`)}await ye(),Ft.success(`Removed ${B.length} files from ${ce}`)}catch(xe){console.error("Bulk remove files error:",xe),Ft.error(`Failed to remove files: ${xe instanceof Error?xe.message:"Unknown error"}`)}finally{l(xe=>{const he=new Set(xe);return he.delete(Z),he})}},[ye]);return T?b.jsxDEV("div",{children:"Loading bundles..."},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/BundleList.tsx",lineNumber:361,columnNumber:25},this):E?b.jsxDEV("div",{className:"h-full flex flex-col relative",children:[b.jsxDEV(Hl,{defaultValue:"bundles",className:"w-full flex-1 flex flex-col min-h-0",children:[b.jsxDEV(Wl,{className:"grid w-full grid-cols-3 bg-background",children:[b.jsxDEV(sr,{value:"bundles",className:"flex items-center gap-2",children:[b.jsxDEV(VN,{className:"w-4 h-4 text-muted-foreground/75"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/BundleList.tsx",lineNumber:369,columnNumber:13},this),"Bundles"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/BundleList.tsx",lineNumber:368,columnNumber:11},this),b.jsxDEV(sr,{value:"files",className:"flex items-center gap-2",children:[b.jsxDEV(bO,{className:"w-4 h-4 text-muted-foreground/75"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/BundleList.tsx",lineNumber:373,columnNumber:13},this),"Project Files"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/BundleList.tsx",lineNumber:372,columnNumber:11},this),b.jsxDEV(sr,{value:"analysis",className:"flex items-center gap-2",children:[b.jsxDEV(jp,{className:"w-4 h-4 text-muted-foreground/75"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/BundleList.tsx",lineNumber:377,columnNumber:13},this),"File Analysis",ue>0&&b.jsxDEV(yn,{variant:"outline",className:"ml-1 bg-warning/10 text-warning border-warning/20 h-4 px-1 py-1 text-xs",children:[b.jsxDEV(Ai,{className:"w-3 h-3 mr-1"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/BundleList.tsx",lineNumber:381,columnNumber:17},this),ue]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/BundleList.tsx",lineNumber:380,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/BundleList.tsx",lineNumber:376,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/BundleList.tsx",lineNumber:367,columnNumber:9},this),b.jsxDEV(lr,{value:"bundles",className:"flex-1 overflow-y-auto",children:b.jsxDEV("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:me&&Array.isArray(me)?me.map(B=>{const ce=le.find(Z=>Z.name===B.name);return b.jsxDEV(WH,{bundle:B,isSelected:e===B.name,onSelect:O,onRegenerate:ge,onCopy:Me,onDownload:we,loadingButtons:o,successButtons:new Set,errorButtons:new Set,hasUnassignedFiles:(ce==null?void 0:ce.hasUnassignedFiles)??!1,lastRefresh:c},B.name,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/BundleList.tsx",lineNumber:392,columnNumber:17},this)}):b.jsxDEV("div",{children:"No bundles available"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/BundleList.tsx",lineNumber:407,columnNumber:18},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/BundleList.tsx",lineNumber:388,columnNumber:11},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/BundleList.tsx",lineNumber:387,columnNumber:9},this),b.jsxDEV(lr,{value:"files",className:"space-y-4",children:b.jsxDEV(oY,{},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/BundleList.tsx",lineNumber:411,columnNumber:11},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/BundleList.tsx",lineNumber:410,columnNumber:9},this),b.jsxDEV(lr,{value:"analysis",className:"space-y-4",children:b.jsxDEV(CY,{undercategorizedFiles:G,bundles:E,addFileToBundle:V,loadFileAnalysis:ye,loadingButtons:o,setButtonState:()=>{},onRemoveFile:()=>{},fileSizes:w},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/BundleList.tsx",lineNumber:414,columnNumber:11},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/BundleList.tsx",lineNumber:413,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/BundleList.tsx",lineNumber:366,columnNumber:7},this),e&&(()=>{const B=E.find(ce=>ce.name===e);return B?b.jsxDEV("div",{className:"fixed top-0 left-0 right-0 bottom-10 z-50 bg-background flex flex-col",children:[b.jsxDEV("div",{className:"sticky top-0 bg-background border-b p-4 flex justify-between items-center flex-shrink-0",children:[b.jsxDEV("h3",{className:"font-thin text-sm flex items-center gap-2",children:[b.jsxDEV(VN,{className:"w-4 h-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/BundleList.tsx",lineNumber:436,columnNumber:17},this),"Bundle Details"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/BundleList.tsx",lineNumber:435,columnNumber:15},this),b.jsxDEV(Dt,{variant:"ghost",size:"sm",onClick:()=>n(null),children:b.jsxDEV(ii,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/BundleList.tsx",lineNumber:440,columnNumber:17},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/BundleList.tsx",lineNumber:439,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/BundleList.tsx",lineNumber:434,columnNumber:13},this),b.jsxDEV("div",{className:"flex-1 min-h-0 overflow-hidden",children:b.jsxDEV(nY,{bundle:B,bundles:E,selectedBundleName:e,editingBundles:r,availableFiles:L,loadingButtons:o,toggleEditMode:Y,removeFileFromBundle:Ke,addFileToBundle:V,addFilesToBundle:fe,removeFilesFromBundle:se,getFileBundles:ne,fileSizes:w,onBundleSelect:O},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/BundleList.tsx",lineNumber:444,columnNumber:15},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/BundleList.tsx",lineNumber:443,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/BundleList.tsx",lineNumber:433,columnNumber:11},this):null})()]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/BundleList.tsx",lineNumber:365,columnNumber:5},this):b.jsxDEV("div",{children:"No bundles found"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/BundleList.tsx",lineNumber:362,columnNumber:24},this)}function zx({className:t,...e}){return b.jsxDEV("textarea",{"data-slot":"textarea",className:Wt("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...e},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/textarea.tsx",lineNumber:7,columnNumber:5},this)}const PY=Ly("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function em({className:t,variant:e,...n}){return b.jsxDEV("div",{"data-slot":"alert",role:"alert",className:Wt(PY({variant:e}),t),...n},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/alert.tsx",lineNumber:28,columnNumber:5},this)}function tm({className:t,...e}){return b.jsxDEV("div",{"data-slot":"alert-description",className:Wt("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t),...e},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/alert.tsx",lineNumber:55,columnNumber:5},this)}const jY=async()=>{const t=await fetch("http://localhost:3333/api/cursor-rules");if(!t.ok)throw new Error("Failed to fetch cursor rules");return t.text()},MY=async t=>{if(!(await fetch("http://localhost:3333/api/cursor-rules",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:t})})).ok)throw new Error("Failed to save cursor rules")},IY=async()=>{const t=await fetch("http://localhost:3333/api/claude-md");if(!t.ok)throw new Error("Failed to fetch CLAUDE.md");return t.text()},OY=async t=>{if(!(await fetch("http://localhost:3333/api/claude-md",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:t})})).ok)throw new Error("Failed to save CLAUDE.md")};function UY(){const t=kd(),[e,n]=k.useState(""),[r,s]=k.useState(""),[o,l]=k.useState("cursor"),{data:c,isLoading:f}=Pi({queryKey:["cursor-rules"],queryFn:jY}),h=Rx({mutationFn:MY,onSuccess:()=>{t.invalidateQueries({queryKey:["cursor-rules"]}),Ft.success(".cursorrules saved successfully!")},onError:P=>{Ft.error(`Failed to save .cursorrules: ${P.message}`)}}),{data:p,isLoading:m}=Pi({queryKey:["claude-md"],queryFn:IY}),x=Rx({mutationFn:OY,onSuccess:()=>{t.invalidateQueries({queryKey:["claude-md"]}),Ft.success("CLAUDE.md saved successfully!")},onError:P=>{Ft.error(`Failed to save CLAUDE.md: ${P.message}`)}});k.useEffect(()=>{c&&!e&&n(c)},[c]),k.useEffect(()=>{p&&!r&&s(p)},[p]);const w=()=>{h.mutate(e)},E=()=>{x.mutate(r)},T=(P,j)=>{navigator.clipboard.writeText(P),Ft.success(`${j} copied to clipboard!`)},C=(P,j)=>{const D=new Blob([P],{type:"text/plain"}),U=URL.createObjectURL(D),L=document.createElement("a");L.href=U,L.download=j,document.body.appendChild(L),L.click(),document.body.removeChild(L),URL.revokeObjectURL(U),Ft.success(`${j} downloaded!`)};return b.jsxDEV(gn,{children:[b.jsxDEV(Kn,{children:b.jsxDEV(Jn,{className:"flex items-center gap-2 text-sm font-thin",children:[b.jsxDEV(LN,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:126,columnNumber:11},this),"AI Rules & Context"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:125,columnNumber:9},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:124,columnNumber:7},this),b.jsxDEV(vn,{children:[b.jsxDEV(em,{className:"mb-4",children:[b.jsxDEV(md,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:132,columnNumber:11},this),b.jsxDEV(tm,{children:["Configure AI context files for better assistance. ",b.jsxDEV("strong",{children:".cursorrules"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:134,columnNumber:63},this)," works with Cursor, while ",b.jsxDEV("strong",{children:"CLAUDE.md"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:135,columnNumber:19},this)," provides project context for Claude."]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:133,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:131,columnNumber:9},this),b.jsxDEV(Hl,{value:o,onValueChange:P=>l(P),className:"space-y-4",children:[b.jsxDEV(Wl,{className:"grid w-full grid-cols-2",children:[b.jsxDEV(sr,{value:"cursor",className:"flex items-center gap-2",children:[b.jsxDEV(Kp,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:142,columnNumber:15},this),".cursorrules"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:141,columnNumber:13},this),b.jsxDEV(sr,{value:"claude",className:"flex items-center gap-2",children:[b.jsxDEV(LN,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:146,columnNumber:15},this),"CLAUDE.md"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:145,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:140,columnNumber:11},this),b.jsxDEV(lr,{value:"cursor",className:"space-y-4",children:[b.jsxDEV("div",{className:"flex justify-between items-center",children:[b.jsxDEV("div",{children:[b.jsxDEV("h3",{className:"text-sm font-thin",children:"Cursor AI Assistant Rules"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:154,columnNumber:17},this),b.jsxDEV("p",{className:"text-xs text-muted-foreground font-thin",children:"Configure how Cursor's AI understands your project"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:155,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:153,columnNumber:15},this),b.jsxDEV("div",{className:"flex gap-2",children:[b.jsxDEV(Dt,{variant:"outline",size:"sm",className:"h-7 text-xs",onClick:()=>T(e,".cursorrules"),children:[b.jsxDEV(pd,{className:"w-3 h-3 mr-1"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:166,columnNumber:19},this),"Copy"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:160,columnNumber:17},this),b.jsxDEV(Dt,{variant:"outline",size:"sm",className:"h-7 text-xs",onClick:()=>C(e,".cursorrules"),children:[b.jsxDEV(kx,{className:"w-3 h-3 mr-1"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:175,columnNumber:19},this),"Download"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:169,columnNumber:17},this),b.jsxDEV(Dt,{onClick:w,disabled:h.isPending,size:"sm",className:"h-7 text-xs",children:[b.jsxDEV(Px,{className:"w-3 h-3 mr-1"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:184,columnNumber:19},this),"Save"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:178,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:159,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:152,columnNumber:13},this),f?b.jsxDEV("div",{className:"flex items-center justify-center p-8",children:[b.jsxDEV(Ds,{className:"w-6 h-6 animate-spin mr-2"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:192,columnNumber:17},this),"Loading..."]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:191,columnNumber:15},this):b.jsxDEV(zx,{value:e,onChange:P=>n(P.target.value),placeholder:"Enter your Cursor AI rules here...",className:"min-h-[300px] font-mono text-sm"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:196,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:151,columnNumber:11},this),b.jsxDEV(lr,{value:"claude",className:"space-y-4",children:[b.jsxDEV("div",{className:"flex justify-between items-center",children:[b.jsxDEV("div",{children:[b.jsxDEV("h3",{className:"text-sm font-thin",children:"Claude Project Context"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:208,columnNumber:17},this),b.jsxDEV("p",{className:"text-xs text-muted-foreground font-thin",children:"Markdown file explaining your project structure and guidelines"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:209,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:207,columnNumber:15},this),b.jsxDEV("div",{className:"flex gap-2",children:[b.jsxDEV(Dt,{variant:"outline",size:"sm",className:"h-7 text-xs",onClick:()=>T(r,"CLAUDE.md"),children:[b.jsxDEV(pd,{className:"w-3 h-3 mr-1"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:220,columnNumber:19},this),"Copy"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:214,columnNumber:17},this),b.jsxDEV(Dt,{variant:"outline",size:"sm",className:"h-7 text-xs",onClick:()=>C(r,"CLAUDE.md"),children:[b.jsxDEV(kx,{className:"w-3 h-3 mr-1"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:229,columnNumber:19},this),"Download"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:223,columnNumber:17},this),b.jsxDEV(Dt,{onClick:E,disabled:x.isPending,size:"sm",className:"h-7 text-xs",children:[b.jsxDEV(Px,{className:"w-3 h-3 mr-1"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:238,columnNumber:19},this),"Save"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:232,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:213,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:206,columnNumber:13},this),m?b.jsxDEV("div",{className:"flex items-center justify-center p-8",children:[b.jsxDEV(Ds,{className:"w-6 h-6 animate-spin mr-2"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:246,columnNumber:17},this),"Loading..."]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:245,columnNumber:15},this):b.jsxDEV(zx,{value:r,onChange:P=>s(P.target.value),placeholder:"Enter your Claude project context here...",className:"min-h-[300px] font-mono text-sm"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:250,columnNumber:15},this),b.jsxDEV(em,{children:[b.jsxDEV(md,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:259,columnNumber:15},this),b.jsxDEV(tm,{children:"This file helps Claude understand your project. Include project structure, coding conventions, key concepts, and any important context."},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:260,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:258,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:205,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:139,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:130,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/AIRulesManager.tsx",lineNumber:123,columnNumber:5},this)}const GP=[{path:"/api/status",method:"GET",description:"Server status and health"},{path:"/api/bundles",method:"GET",description:"List all bundles"},{path:"/api/config",method:"GET",description:"Get bundle configuration"},{path:"/api/files",method:"GET",description:"Get file tree"},{path:"/api/semantic-chunks",method:"GET",description:"Get semantic analysis"},{path:"/api/vector-db/status",method:"GET",description:"Vector database status"},{path:"/api/cursor-rules",method:"GET",description:"Cursor rules configuration"},{path:"/api/claude-md",method:"GET",description:"Claude.md file content"},{path:"/api/activities",method:"GET",description:"Available activities"},{path:"/api/mcp-status",method:"GET",description:"MCP server status"}],Ef=[{name:"list_bundles",description:"List all available file bundles",group:"Bundle Management"},{name:"get_bundle",description:"Get the content of a specific bundle",group:"Bundle Management"},{name:"generate_bundle",description:"Regenerate a specific bundle",group:"Bundle Management"},{name:"create_bundle",description:"Create a new bundle with specified patterns",group:"Bundle Management"},{name:"update_bundle",description:"Update an existing bundle's patterns",group:"Bundle Management"},{name:"delete_bundle",description:"Delete an existing bundle",group:"Bundle Management"},{name:"get_file_tree",description:"Get the project file tree",group:"Project Exploration"},{name:"get_project_status",description:"Get current project status and bundle information",group:"Project Exploration"},{name:"update_cntxignore",description:"Update the .cntxignore file with new ignore patterns",group:"Project Exploration"},{name:"get_semantic_chunks",description:"Get function-level semantic chunks from the codebase",group:"Semantic Analysis"},{name:"get_semantic_chunks_filtered",description:"Get semantic chunks filtered by purpose, type, complexity, or bundle",group:"Semantic Analysis"},{name:"analyze_bundle_suggestions",description:"Analyze codebase and suggest optimal bundle organization",group:"Semantic Analysis"},{name:"agent_discover",description:"Agent Discovery Mode: Get comprehensive codebase overview",group:"Agent Modes"},{name:"agent_query",description:"Agent Query Mode: Answer specific questions about the codebase",group:"Agent Modes"},{name:"agent_investigate",description:"Agent Investigation Mode: Investigate existing implementations for a feature",group:"Agent Modes"},{name:"agent_discuss",description:"Agent Passive Mode: Engage in discussion about codebase architecture",group:"Agent Modes"},{name:"agent_organize",description:"Agent Project Organizer Mode: Setup and maintenance of project organization",group:"Agent Modes"},{name:"read_file",description:"Read contents of a specific file with bundle context and metadata",group:"File Operations"},{name:"write_file",description:"Write content to a file with validation and safety checks",group:"File Operations"},{name:"manage_activities",description:"CRUD operations for project activities",group:"Activities Management"}],VY=async()=>{const t=await fetch("http://localhost:3333/api/status");if(!t.ok)throw new Error("Failed to fetch server status");return t.json()},FY=async t=>{const e=Date.now();try{const n=await fetch(`http://localhost:3333${t.path}`),r=Date.now()-e;return n.ok?{...t,status:"success",responseTime:r}:{...t,status:"error",responseTime:r,error:`HTTP ${n.status}`}}catch(n){const r=Date.now()-e;return{...t,status:"error",responseTime:r,error:n instanceof Error?n.message:"Unknown error"}}},BY=async t=>{try{const e=await fetch("http://localhost:3333/api/mcp-status");return e.ok?(await e.json()).enabled?{...t,status:"available"}:{...t,status:"error",error:"MCP server not enabled"}:{...t,status:"error",error:"MCP status unavailable"}}catch(e){return{...t,status:"error",error:e instanceof Error?e.message:"Unknown error"}}};function LY(){var L,O,Y,ne,Q,K;const[t,e]=k.useState([]),[n,r]=k.useState([]),[s,o]=k.useState(!1),[l,c]=k.useState("All"),{data:f,isLoading:h,error:p,refetch:m}=Pi({queryKey:["server-status"],queryFn:VY,refetchInterval:5e3}),x=async()=>{o(!0);try{const G=await Promise.all(GP.map(ue=>FY(ue)));e(G)}catch(G){console.error("Failed to run endpoint tests:",G)}finally{o(!1)}},w=async()=>{o(!0);try{const G=await Promise.all(Ef.map(ue=>BY(ue)));r(G)}catch(G){console.error("Failed to run MCP tests:",G)}finally{o(!1)}},E=G=>{if(G<60)return`${Math.floor(G)}s`;if(G<3600)return`${Math.floor(G/60)}m ${Math.floor(G%60)}s`;const ue=Math.floor(G/3600),me=Math.floor(G%3600/60);return`${ue}h ${me}m`},T=G=>{const ue=G/1024/1024;return`${Math.round(ue)}MB`},C=()=>["All",...new Set(Ef.map(ue=>ue.group))],P=()=>l==="All"?Ef:Ef.filter(G=>G.group===l),j=()=>P().reduce((me,le)=>(me[le.group]||(me[le.group]=[]),me[le.group].push(le),me),{}),D=(G,ue)=>{var me,le,ye,ge,Me;if(typeof G=="string")return G.length>100?G.substring(0,100)+"...":G;if(Array.isArray(G))return`Array with ${G.length} items`;if(typeof G=="object"&&G!==null){const we=Object.keys(G);if(ue.includes("/api/status"))return`Uptime: ${Math.floor(G.uptime||0)}s, Memory: ${Math.round((((me=G.memory)==null?void 0:me.heapUsed)||0)/1024/1024)}MB, Files: ${G.totalFiles||0}`;if(ue.includes("/api/bundles"))return`${G.length||we.length} bundles found`;if(ue.includes("/api/semantic-chunks"))return`${((le=G.chunks)==null?void 0:le.length)||0} chunks, ${((ye=G.summary)==null?void 0:ye.totalFunctions)||0} functions`;if(ue.includes("/api/vector-db/status"))return`${((ge=G.stats)==null?void 0:ge.totalChunks)||0} chunks indexed with ${((Me=G.stats)==null?void 0:Me.modelName)||"unknown model"}`;if(ue.includes("/api/activities"))return`${G.length||we.length} activities found`;const Ke=we.slice(0,3).map(V=>{const fe=G[V];return typeof fe=="object"?`${V}: ${Array.isArray(fe)?`[${fe.length}]`:"{object}"}`:`${V}: ${String(fe).substring(0,20)}`}).join(", ");return we.length>3?`${Ke}... (+${we.length-3} more)`:Ke}return String(G).substring(0,100)},U=async G=>{const ue=Date.now();try{const me=await fetch(`http://localhost:3333${G.path}`),le=Date.now()-ue;if(me.ok){const ye=await me.json(),ge=D(ye,G.path);Ft.success(`${G.path} (${le}ms)`,ge)}else Ft.error(`${G.path} failed`,`HTTP ${me.status} (${le}ms)`)}catch(me){const le=Date.now()-ue;Ft.error(`${G.path} error`,`${me instanceof Error?me.message:"Unknown error"} (${le}ms)`)}};return h?b.jsxDEV(gn,{children:b.jsxDEV(vn,{className:"pt-6",children:b.jsxDEV("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[b.jsxDEV(Ds,{className:"w-4 h-4 animate-spin"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:291,columnNumber:13},this),"Checking system status..."]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:290,columnNumber:11},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:289,columnNumber:9},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:288,columnNumber:7},this):p?b.jsxDEV(gn,{children:b.jsxDEV(vn,{className:"p-4",children:b.jsxDEV("div",{className:"text-center space-y-2",children:[b.jsxDEV(Ai,{className:"h-6 w-6 mx-auto text-red-500"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:304,columnNumber:13},this),b.jsxDEV("p",{className:"text-sm font-medium",children:"Failed to connect to server"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:305,columnNumber:13},this),b.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Make sure the cntx-ui server is running on localhost:3333"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:306,columnNumber:13},this),b.jsxDEV(Dt,{variant:"outline",size:"sm",onClick:()=>m(),children:[b.jsxDEV(Ds,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:310,columnNumber:15},this),"Retry"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:309,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:303,columnNumber:11},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:302,columnNumber:9},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:301,columnNumber:7},this):b.jsxDEV("div",{className:"space-y-4",children:[b.jsxDEV(gn,{children:[b.jsxDEV(Kn,{children:b.jsxDEV(Jn,{className:"flex items-center gap-2",children:[b.jsxDEV(J$,{className:"w-5 h-5"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:325,columnNumber:13},this),"Server Status",b.jsxDEV(Qi,{className:"w-4 h-4 text-green-600"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:327,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:324,columnNumber:11},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:323,columnNumber:9},this),b.jsxDEV(vn,{children:[b.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[b.jsxDEV("div",{children:[b.jsxDEV("div",{className:"text-muted-foreground",children:"Uptime"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:333,columnNumber:15},this),b.jsxDEV("div",{className:"font-medium",children:E((f==null?void 0:f.uptime)||0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:334,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:332,columnNumber:13},this),b.jsxDEV("div",{children:[b.jsxDEV("div",{className:"text-muted-foreground",children:"Memory"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:337,columnNumber:15},this),b.jsxDEV("div",{className:"font-medium",children:T(((L=f==null?void 0:f.memory)==null?void 0:L.heapUsed)||0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:338,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:336,columnNumber:13},this),b.jsxDEV("div",{children:[b.jsxDEV("div",{className:"text-muted-foreground",children:"Total Files"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:341,columnNumber:15},this),b.jsxDEV("div",{className:"font-medium",children:(f==null?void 0:f.totalFiles)||0},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:342,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:340,columnNumber:13},this),b.jsxDEV("div",{children:[b.jsxDEV("div",{className:"text-muted-foreground",children:"Bundles"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:345,columnNumber:15},this),b.jsxDEV("div",{className:"font-medium",children:((O=f==null?void 0:f.bundles)==null?void 0:O.length)||0},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:346,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:344,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:331,columnNumber:11},this),b.jsxDEV("div",{className:"mt-4 flex flex-wrap gap-2",children:[b.jsxDEV(yn,{variant:f!=null&&f.scanning?"destructive":"secondary",children:f!=null&&f.scanning?"Scanning":"Idle"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:351,columnNumber:13},this),b.jsxDEV(yn,{variant:(Y=f==null?void 0:f.mcp)!=null&&Y.enabled?"default":"secondary",children:["MCP: ",(ne=f==null?void 0:f.mcp)!=null&&ne.enabled?"Enabled":"Disabled"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:354,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:350,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:330,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:322,columnNumber:7},this),b.jsxDEV(Hl,{defaultValue:"endpoints",className:"w-full",children:[b.jsxDEV(Wl,{className:"grid w-full grid-cols-3",children:[b.jsxDEV(sr,{value:"endpoints",className:"flex items-center gap-2",children:[b.jsxDEV(xE,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:365,columnNumber:13},this),"API Endpoints"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:364,columnNumber:11},this),b.jsxDEV(sr,{value:"mcp",className:"flex items-center gap-2",children:[b.jsxDEV(vE,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:369,columnNumber:13},this),"MCP Tools"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:368,columnNumber:11},this),b.jsxDEV(sr,{value:"bundle-sync",className:"flex items-center gap-2",children:[b.jsxDEV(md,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:373,columnNumber:13},this),"Bundle Sync"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:372,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:363,columnNumber:9},this),b.jsxDEV(lr,{value:"endpoints",className:"space-y-4",children:b.jsxDEV(gn,{children:[b.jsxDEV(Kn,{children:b.jsxDEV("div",{className:"flex items-center justify-between",children:[b.jsxDEV(Jn,{className:"text-lg",children:"API Endpoints"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:382,columnNumber:17},this),b.jsxDEV(Dt,{onClick:x,disabled:s,size:"sm",variant:"outline",children:[b.jsxDEV(mP,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:389,columnNumber:19},this),s?"Testing...":"Test All"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:383,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:381,columnNumber:15},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:380,columnNumber:13},this),b.jsxDEV(vn,{children:b.jsxDEV("div",{className:"space-y-2",children:GP.map(G=>{const ue=t.find(me=>me.path===G.path);return b.jsxDEV("div",{className:"flex items-center justify-between py-2 px-3 bg-muted/30 rounded-lg",children:[b.jsxDEV("div",{className:"flex-1",children:[b.jsxDEV("div",{className:"flex items-center gap-2",children:[b.jsxDEV(yn,{variant:"outline",className:"text-xs",children:G.method},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:402,columnNumber:27},this),b.jsxDEV("code",{className:"text-sm",children:G.path},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:405,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:401,columnNumber:25},this),b.jsxDEV("div",{className:"text-xs text-muted-foreground mt-1",children:G.description},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:407,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:400,columnNumber:23},this),b.jsxDEV("div",{className:"flex items-center gap-2",children:[b.jsxDEV(Dt,{variant:"ghost",size:"sm",onClick:()=>U(G),className:"h-7 w-7 p-0",title:`Test ${G.path}`,children:b.jsxDEV(gO,{className:"w-3 h-3"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:419,columnNumber:27},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:412,columnNumber:25},this),ue&&b.jsxDEV(b.Fragment,{children:[b.jsxDEV("span",{className:"text-xs text-muted-foreground",children:[ue.responseTime,"ms"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:423,columnNumber:29},this),ue.status==="success"?b.jsxDEV(Qi,{className:"w-4 h-4 text-green-600"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:427,columnNumber:31},this):ue.status==="error"?b.jsxDEV("div",{title:ue.error,children:b.jsxDEV(Ai,{className:"w-4 h-4 text-red-600"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:430,columnNumber:33},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:429,columnNumber:31},this):b.jsxDEV("div",{className:"w-4 h-4 bg-gray-300 rounded-full"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:433,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:422,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:411,columnNumber:23},this)]},G.path,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:399,columnNumber:21},this)})},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:395,columnNumber:15},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:394,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:379,columnNumber:11},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:378,columnNumber:9},this),b.jsxDEV(lr,{value:"mcp",className:"space-y-4",children:b.jsxDEV(gn,{children:[b.jsxDEV(Kn,{children:b.jsxDEV("div",{className:"flex items-center justify-between",children:[b.jsxDEV(Jn,{className:"text-lg",children:"MCP Tools"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:450,columnNumber:17},this),b.jsxDEV("div",{className:"flex items-center gap-3",children:[b.jsxDEV(_a,{value:l,onValueChange:c,children:[b.jsxDEV(jo,{className:"w-48",children:b.jsxDEV(yl,{placeholder:"Filter by group"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:454,columnNumber:23},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:453,columnNumber:21},this),b.jsxDEV(Mo,{children:C().map(G=>b.jsxDEV(Nr,{value:G,children:[G," ",G==="All"?`(${Ef.length})`:`(${Ef.filter(ue=>ue.group===G).length})`]},G,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:458,columnNumber:25},this))},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:456,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:452,columnNumber:19},this),b.jsxDEV(Dt,{onClick:w,disabled:s||!((Q=f==null?void 0:f.mcp)!=null&&Q.enabled),size:"sm",variant:"outline",children:[b.jsxDEV(mP,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:470,columnNumber:21},this),s?"Testing...":"Test All"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:464,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:451,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:449,columnNumber:15},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:448,columnNumber:13},this),b.jsxDEV(vn,{children:[!((K=f==null?void 0:f.mcp)!=null&&K.enabled)&&b.jsxDEV(em,{className:"mb-4",children:[b.jsxDEV(md,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:479,columnNumber:19},this),b.jsxDEV(tm,{children:"MCP server is not enabled. MCP tools will not be available."},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:480,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:478,columnNumber:17},this),b.jsxDEV("div",{className:"space-y-4",children:l==="All"?Object.entries(j()).map(([G,ue])=>b.jsxDEV("div",{className:"space-y-2",children:[b.jsxDEV("div",{className:"flex items-center gap-2 pb-2 border-b",children:[b.jsxDEV("h4",{className:"text-sm font-medium text-muted-foreground",children:G},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:492,columnNumber:25},this),b.jsxDEV(yn,{variant:"outline",className:"text-xs",children:[ue.length," tools"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:493,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:491,columnNumber:23},this),b.jsxDEV("div",{className:"space-y-2",children:ue.map(me=>{const le=n.find(ye=>ye.name===me.name);return b.jsxDEV("div",{className:"flex items-center justify-between py-2 px-3 bg-muted/30 rounded-lg",children:[b.jsxDEV("div",{className:"flex-1",children:[b.jsxDEV("div",{className:"font-medium text-sm",children:me.name},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:503,columnNumber:33},this),b.jsxDEV("div",{className:"text-xs text-muted-foreground mt-1",children:me.description},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:504,columnNumber:33},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:502,columnNumber:31},this),b.jsxDEV("div",{className:"flex items-center gap-2",children:le?le.status==="available"?b.jsxDEV(Qi,{className:"w-4 h-4 text-green-600"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:511,columnNumber:37},this):b.jsxDEV("div",{title:le.error,children:b.jsxDEV(Ai,{className:"w-4 h-4 text-red-600"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:514,columnNumber:39},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:513,columnNumber:37},this):b.jsxDEV("div",{className:"w-4 h-4 bg-gray-300 rounded-full"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:518,columnNumber:35},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:508,columnNumber:31},this)]},me.name,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:501,columnNumber:29},this)})},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:497,columnNumber:23},this)]},G,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:490,columnNumber:21},this)):b.jsxDEV("div",{className:"space-y-2",children:P().map(G=>{const ue=n.find(me=>me.name===G.name);return b.jsxDEV("div",{className:"flex items-center justify-between py-2 px-3 bg-muted/30 rounded-lg",children:[b.jsxDEV("div",{className:"flex-1",children:[b.jsxDEV("div",{className:"font-medium text-sm",children:G.name},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:535,columnNumber:29},this),b.jsxDEV("div",{className:"text-xs text-muted-foreground mt-1",children:G.description},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:536,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:534,columnNumber:27},this),b.jsxDEV("div",{className:"flex items-center gap-2",children:ue?ue.status==="available"?b.jsxDEV(Qi,{className:"w-4 h-4 text-green-600"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:543,columnNumber:33},this):b.jsxDEV("div",{title:ue.error,children:b.jsxDEV(Ai,{className:"w-4 h-4 text-red-600"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:546,columnNumber:35},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:545,columnNumber:33},this):b.jsxDEV("div",{className:"w-4 h-4 bg-gray-300 rounded-full"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:550,columnNumber:31},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:540,columnNumber:27},this)]},G.name,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:533,columnNumber:25},this)})},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:529,columnNumber:19},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:486,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:476,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:447,columnNumber:11},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:446,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:362,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemStatus.tsx",lineNumber:320,columnNumber:5},this)}var h1={exports:{}},JP;function zY(){return JP||(JP=1,function(t){var e=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var n=function(r){var s=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,o=0,l={},c={manual:r.Prism&&r.Prism.manual,disableWorkerMessageHandler:r.Prism&&r.Prism.disableWorkerMessageHandler,util:{encode:function j(D){return D instanceof f?new f(D.type,j(D.content),D.alias):Array.isArray(D)?D.map(j):D.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(j){return Object.prototype.toString.call(j).slice(8,-1)},objId:function(j){return j.__id||Object.defineProperty(j,"__id",{value:++o}),j.__id},clone:function j(D,U){U=U||{};var L,O;switch(c.util.type(D)){case"Object":if(O=c.util.objId(D),U[O])return U[O];L={},U[O]=L;for(var Y in D)D.hasOwnProperty(Y)&&(L[Y]=j(D[Y],U));return L;case"Array":return O=c.util.objId(D),U[O]?U[O]:(L=[],U[O]=L,D.forEach(function(ne,Q){L[Q]=j(ne,U)}),L);default:return D}},getLanguage:function(j){for(;j;){var D=s.exec(j.className);if(D)return D[1].toLowerCase();j=j.parentElement}return"none"},setLanguage:function(j,D){j.className=j.className.replace(RegExp(s,"gi"),""),j.classList.add("language-"+D)},currentScript:function(){if(typeof document>"u")return null;if(document.currentScript&&document.currentScript.tagName==="SCRIPT")return document.currentScript;try{throw new Error}catch(L){var j=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(L.stack)||[])[1];if(j){var D=document.getElementsByTagName("script");for(var U in D)if(D[U].src==j)return D[U]}return null}},isActive:function(j,D,U){for(var L="no-"+D;j;){var O=j.classList;if(O.contains(D))return!0;if(O.contains(L))return!1;j=j.parentElement}return!!U}},languages:{plain:l,plaintext:l,text:l,txt:l,extend:function(j,D){var U=c.util.clone(c.languages[j]);for(var L in D)U[L]=D[L];return U},insertBefore:function(j,D,U,L){L=L||c.languages;var O=L[j],Y={};for(var ne in O)if(O.hasOwnProperty(ne)){if(ne==D)for(var Q in U)U.hasOwnProperty(Q)&&(Y[Q]=U[Q]);U.hasOwnProperty(ne)||(Y[ne]=O[ne])}var K=L[j];return L[j]=Y,c.languages.DFS(c.languages,function(G,ue){ue===K&&G!=j&&(this[G]=Y)}),Y},DFS:function j(D,U,L,O){O=O||{};var Y=c.util.objId;for(var ne in D)if(D.hasOwnProperty(ne)){U.call(D,ne,D[ne],L||ne);var Q=D[ne],K=c.util.type(Q);K==="Object"&&!O[Y(Q)]?(O[Y(Q)]=!0,j(Q,U,null,O)):K==="Array"&&!O[Y(Q)]&&(O[Y(Q)]=!0,j(Q,U,ne,O))}}},plugins:{},highlightAll:function(j,D){c.highlightAllUnder(document,j,D)},highlightAllUnder:function(j,D,U){var L={callback:U,container:j,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};c.hooks.run("before-highlightall",L),L.elements=Array.prototype.slice.apply(L.container.querySelectorAll(L.selector)),c.hooks.run("before-all-elements-highlight",L);for(var O=0,Y;Y=L.elements[O++];)c.highlightElement(Y,D===!0,L.callback)},highlightElement:function(j,D,U){var L=c.util.getLanguage(j),O=c.languages[L];c.util.setLanguage(j,L);var Y=j.parentElement;Y&&Y.nodeName.toLowerCase()==="pre"&&c.util.setLanguage(Y,L);var ne=j.textContent,Q={element:j,language:L,grammar:O,code:ne};function K(ue){Q.highlightedCode=ue,c.hooks.run("before-insert",Q),Q.element.innerHTML=Q.highlightedCode,c.hooks.run("after-highlight",Q),c.hooks.run("complete",Q),U&&U.call(Q.element)}if(c.hooks.run("before-sanity-check",Q),Y=Q.element.parentElement,Y&&Y.nodeName.toLowerCase()==="pre"&&!Y.hasAttribute("tabindex")&&Y.setAttribute("tabindex","0"),!Q.code){c.hooks.run("complete",Q),U&&U.call(Q.element);return}if(c.hooks.run("before-highlight",Q),!Q.grammar){K(c.util.encode(Q.code));return}if(D&&r.Worker){var G=new Worker(c.filename);G.onmessage=function(ue){K(ue.data)},G.postMessage(JSON.stringify({language:Q.language,code:Q.code,immediateClose:!0}))}else K(c.highlight(Q.code,Q.grammar,Q.language))},highlight:function(j,D,U){var L={code:j,grammar:D,language:U};if(c.hooks.run("before-tokenize",L),!L.grammar)throw new Error('The language "'+L.language+'" has no grammar.');return L.tokens=c.tokenize(L.code,L.grammar),c.hooks.run("after-tokenize",L),f.stringify(c.util.encode(L.tokens),L.language)},tokenize:function(j,D){var U=D.rest;if(U){for(var L in U)D[L]=U[L];delete D.rest}var O=new m;return x(O,O.head,j),p(j,O,D,O.head,0),E(O)},hooks:{all:{},add:function(j,D){var U=c.hooks.all;U[j]=U[j]||[],U[j].push(D)},run:function(j,D){var U=c.hooks.all[j];if(!(!U||!U.length))for(var L=0,O;O=U[L++];)O(D)}},Token:f};r.Prism=c;function f(j,D,U,L){this.type=j,this.content=D,this.alias=U,this.length=(L||"").length|0}f.stringify=function j(D,U){if(typeof D=="string")return D;if(Array.isArray(D)){var L="";return D.forEach(function(K){L+=j(K,U)}),L}var O={type:D.type,content:j(D.content,U),tag:"span",classes:["token",D.type],attributes:{},language:U},Y=D.alias;Y&&(Array.isArray(Y)?Array.prototype.push.apply(O.classes,Y):O.classes.push(Y)),c.hooks.run("wrap",O);var ne="";for(var Q in O.attributes)ne+=" "+Q+'="'+(O.attributes[Q]||"").replace(/"/g,"&quot;")+'"';return"<"+O.tag+' class="'+O.classes.join(" ")+'"'+ne+">"+O.content+"</"+O.tag+">"};function h(j,D,U,L){j.lastIndex=D;var O=j.exec(U);if(O&&L&&O[1]){var Y=O[1].length;O.index+=Y,O[0]=O[0].slice(Y)}return O}function p(j,D,U,L,O,Y){for(var ne in U)if(!(!U.hasOwnProperty(ne)||!U[ne])){var Q=U[ne];Q=Array.isArray(Q)?Q:[Q];for(var K=0;K<Q.length;++K){if(Y&&Y.cause==ne+","+K)return;var G=Q[K],ue=G.inside,me=!!G.lookbehind,le=!!G.greedy,ye=G.alias;if(le&&!G.pattern.global){var ge=G.pattern.toString().match(/[imsuy]*$/)[0];G.pattern=RegExp(G.pattern.source,ge+"g")}for(var Me=G.pattern||G,we=L.next,Ke=O;we!==D.tail&&!(Y&&Ke>=Y.reach);Ke+=we.value.length,we=we.next){var V=we.value;if(D.length>j.length)return;if(!(V instanceof f)){var fe=1,se;if(le){if(se=h(Me,Ke,j,me),!se||se.index>=j.length)break;var xe=se.index,B=se.index+se[0].length,ce=Ke;for(ce+=we.value.length;xe>=ce;)we=we.next,ce+=we.value.length;if(ce-=we.value.length,Ke=ce,we.value instanceof f)continue;for(var Z=we;Z!==D.tail&&(ce<B||typeof Z.value=="string");Z=Z.next)fe++,ce+=Z.value.length;fe--,V=j.slice(Ke,ce),se.index-=Ke}else if(se=h(Me,0,V,me),!se)continue;var xe=se.index,he=se[0],oe=V.slice(0,xe),De=V.slice(xe+he.length),qe=Ke+V.length;Y&&qe>Y.reach&&(Y.reach=qe);var Ye=we.prev;oe&&(Ye=x(D,Ye,oe),Ke+=oe.length),w(D,Ye,fe);var tt=new f(ne,ue?c.tokenize(he,ue):he,ye,he);if(we=x(D,Ye,tt),De&&x(D,we,De),fe>1){var Ue={cause:ne+","+K,reach:qe};p(j,D,U,we.prev,Ke,Ue),Y&&Ue.reach>Y.reach&&(Y.reach=Ue.reach)}}}}}}function m(){var j={value:null,prev:null,next:null},D={value:null,prev:j,next:null};j.next=D,this.head=j,this.tail=D,this.length=0}function x(j,D,U){var L=D.next,O={value:U,prev:D,next:L};return D.next=O,L.prev=O,j.length++,O}function w(j,D,U){for(var L=D.next,O=0;O<U&&L!==j.tail;O++)L=L.next;D.next=L,L.prev=D,j.length-=O}function E(j){for(var D=[],U=j.head.next;U!==j.tail;)D.push(U.value),U=U.next;return D}if(!r.document)return r.addEventListener&&(c.disableWorkerMessageHandler||r.addEventListener("message",function(j){var D=JSON.parse(j.data),U=D.language,L=D.code,O=D.immediateClose;r.postMessage(c.highlight(L,c.languages[U],U)),O&&r.close()},!1)),c;var T=c.util.currentScript();T&&(c.filename=T.src,T.hasAttribute("data-manual")&&(c.manual=!0));function C(){c.manual||c.highlightAll()}if(!c.manual){var P=document.readyState;P==="loading"||P==="interactive"&&T&&T.defer?document.addEventListener("DOMContentLoaded",C):window.requestAnimationFrame?window.requestAnimationFrame(C):window.setTimeout(C,16)}return c}(e);t.exports&&(t.exports=n),typeof FD<"u"&&(FD.Prism=n),n.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},n.languages.markup.tag.inside["attr-value"].inside.entity=n.languages.markup.entity,n.languages.markup.doctype.inside["internal-subset"].inside=n.languages.markup,n.hooks.add("wrap",function(r){r.type==="entity"&&(r.attributes.title=r.content.replace(/&amp;/,"&"))}),Object.defineProperty(n.languages.markup.tag,"addInlined",{value:function(s,o){var l={};l["language-"+o]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:n.languages[o]},l.cdata=/^<!\[CDATA\[|\]\]>$/i;var c={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:l}};c["language-"+o]={pattern:/[\s\S]+/,inside:n.languages[o]};var f={};f[s]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return s}),"i"),lookbehind:!0,greedy:!0,inside:c},n.languages.insertBefore("markup","cdata",f)}}),Object.defineProperty(n.languages.markup.tag,"addAttribute",{value:function(r,s){n.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+r+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[s,"language-"+s],inside:n.languages[s]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),n.languages.html=n.languages.markup,n.languages.mathml=n.languages.markup,n.languages.svg=n.languages.markup,n.languages.xml=n.languages.extend("markup",{}),n.languages.ssml=n.languages.xml,n.languages.atom=n.languages.xml,n.languages.rss=n.languages.xml,function(r){var s=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;r.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+s.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+s.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+s.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+s.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:s,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},r.languages.css.atrule.inside.rest=r.languages.css;var o=r.languages.markup;o&&(o.tag.addInlined("style","css"),o.tag.addAttribute("style","css"))}(n),n.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},n.languages.javascript=n.languages.extend("clike",{"class-name":[n.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),n.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,n.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:n.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:n.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:n.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:n.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:n.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),n.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:n.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),n.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),n.languages.markup&&(n.languages.markup.tag.addInlined("script","javascript"),n.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),n.languages.js=n.languages.javascript,function(){if(typeof n>"u"||typeof document>"u")return;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var r="Loading…",s=function(T,C){return"✖ Error "+T+" while fetching file: "+C},o="✖ Error: File does not exist or is empty",l={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},c="data-src-status",f="loading",h="loaded",p="failed",m="pre[data-src]:not(["+c+'="'+h+'"]):not(['+c+'="'+f+'"])';function x(T,C,P){var j=new XMLHttpRequest;j.open("GET",T,!0),j.onreadystatechange=function(){j.readyState==4&&(j.status<400&&j.responseText?C(j.responseText):j.status>=400?P(s(j.status,j.statusText)):P(o))},j.send(null)}function w(T){var C=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(T||"");if(C){var P=Number(C[1]),j=C[2],D=C[3];return j?D?[P,Number(D)]:[P,void 0]:[P,P]}}n.hooks.add("before-highlightall",function(T){T.selector+=", "+m}),n.hooks.add("before-sanity-check",function(T){var C=T.element;if(C.matches(m)){T.code="",C.setAttribute(c,f);var P=C.appendChild(document.createElement("CODE"));P.textContent=r;var j=C.getAttribute("data-src"),D=T.language;if(D==="none"){var U=(/\.(\w+)$/.exec(j)||[,"none"])[1];D=l[U]||U}n.util.setLanguage(P,D),n.util.setLanguage(C,D);var L=n.plugins.autoloader;L&&L.loadLanguages(D),x(j,function(O){C.setAttribute(c,h);var Y=w(C.getAttribute("data-range"));if(Y){var ne=O.split(/\r\n?|\n/g),Q=Y[0],K=Y[1]==null?ne.length:Y[1];Q<0&&(Q+=ne.length),Q=Math.max(0,Math.min(Q-1,ne.length)),K<0&&(K+=ne.length),K=Math.max(0,Math.min(K,ne.length)),O=ne.slice(Q,K).join(`
`),C.hasAttribute("data-start")||C.setAttribute("data-start",String(Q+1))}P.textContent=O,n.highlightElement(P)},function(O){C.setAttribute(c,p),P.textContent=O})}}),n.plugins.fileHighlight={highlight:function(C){for(var P=(C||document).querySelectorAll(m),j=0,D;D=P[j++];)n.highlightElement(D)}};var E=!1;n.fileHighlight=function(){E||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),E=!0),n.plugins.fileHighlight.highlight.apply(this,arguments)}}()}(h1)),h1.exports}var $Y=zY();const p1=bu($Y);Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/});Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/;Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/});Prism.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}});Prism.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}});Prism.languages.markup&&(Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript"));Prism.languages.js=Prism.languages.javascript;var e2={},t2;function HY(){return t2||(t2=1,function(t){t.languages.typescript=t.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),t.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete t.languages.typescript.parameter,delete t.languages.typescript["literal-property"];var e=t.languages.extend("typescript",{});delete e["class-name"],t.languages.typescript["class-name"].inside=e,t.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:e}}}}),t.languages.ts=t.languages.typescript}(Prism)),e2}HY();(function(t){var e=t.util.clone(t.languages.javascript),n=/(?:\s|\/\/.*(?!.)|\/\*(?:[^*]|\*(?!\/))\*\/)/.source,r=/(?:\{(?:\{(?:\{[^{}]*\}|[^{}])*\}|[^{}])*\})/.source,s=/(?:\{<S>*\.{3}(?:[^{}]|<BRACES>)*\})/.source;function o(f,h){return f=f.replace(/<S>/g,function(){return n}).replace(/<BRACES>/g,function(){return r}).replace(/<SPREAD>/g,function(){return s}),RegExp(f,h)}s=o(s).source,t.languages.jsx=t.languages.extend("markup",e),t.languages.jsx.tag.pattern=o(/<\/?(?:[\w.:-]+(?:<S>+(?:[\w.:$-]+(?:=(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s{'"/>=]+|<BRACES>))?|<SPREAD>))*<S>*\/?)?>/.source),t.languages.jsx.tag.inside.tag.pattern=/^<\/?[^\s>\/]*/,t.languages.jsx.tag.inside["attr-value"].pattern=/=(?!\{)(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s'">]+)/,t.languages.jsx.tag.inside.tag.inside["class-name"]=/^[A-Z]\w*(?:\.[A-Z]\w*)*$/,t.languages.jsx.tag.inside.comment=e.comment,t.languages.insertBefore("inside","attr-name",{spread:{pattern:o(/<SPREAD>/.source),inside:t.languages.jsx}},t.languages.jsx.tag),t.languages.insertBefore("inside","special-attr",{script:{pattern:o(/=<BRACES>/.source),alias:"language-javascript",inside:{"script-punctuation":{pattern:/^=(?=\{)/,alias:"punctuation"},rest:t.languages.jsx}}},t.languages.jsx.tag);var l=function(f){return f?typeof f=="string"?f:typeof f.content=="string"?f.content:f.content.map(l).join(""):""},c=function(f){for(var h=[],p=0;p<f.length;p++){var m=f[p],x=!1;if(typeof m!="string"&&(m.type==="tag"&&m.content[0]&&m.content[0].type==="tag"?m.content[0].content[0].content==="</"?h.length>0&&h[h.length-1].tagName===l(m.content[0].content[1])&&h.pop():m.content[m.content.length-1].content==="/>"||h.push({tagName:l(m.content[0].content[1]),openedBraces:0}):h.length>0&&m.type==="punctuation"&&m.content==="{"?h[h.length-1].openedBraces++:h.length>0&&h[h.length-1].openedBraces>0&&m.type==="punctuation"&&m.content==="}"?h[h.length-1].openedBraces--:x=!0),(x||typeof m=="string")&&h.length>0&&h[h.length-1].openedBraces===0){var w=l(m);p<f.length-1&&(typeof f[p+1]=="string"||f[p+1].type==="plain-text")&&(w+=l(f[p+1]),f.splice(p+1,1)),p>0&&(typeof f[p-1]=="string"||f[p-1].type==="plain-text")&&(w=l(f[p-1])+w,f.splice(p-1,1),p--),f[p]=new t.Token("plain-text",w,null,w)}m.content&&typeof m.content!="string"&&c(m.content)}};t.hooks.add("after-tokenize",function(f){f.language!=="jsx"&&f.language!=="tsx"||c(f.tokens)})})(Prism);(function(t){var e=t.util.clone(t.languages.typescript);t.languages.tsx=t.languages.extend("jsx",e),delete t.languages.tsx.parameter,delete t.languages.tsx["literal-property"];var n=t.languages.tsx.tag;n.pattern=RegExp(/(^|[^\w$]|(?=<\/))/.source+"(?:"+n.pattern.source+")",n.pattern.flags),n.lookbehind=!0})(Prism);Prism.languages.json={property:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}};Prism.languages.webmanifest=Prism.languages.json;(function(t){var e=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;t.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+e.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+e.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+e.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+e.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:e,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},t.languages.css.atrule.inside.rest=t.languages.css;var n=t.languages.markup;n&&(n.tag.addInlined("style","css"),n.tag.addAttribute("style","css"))})(Prism);var n2={},r2;function WY(){return r2||(r2=1,Prism.languages.scss=Prism.languages.extend("css",{comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:!0},atrule:{pattern:/@[\w-](?:\([^()]+\)|[^()\s]|\s+(?!\s))*?(?=\s+[{;])/,inside:{rule:/@[\w-]+/}},url:/(?:[-a-z]+-)?url(?=\()/i,selector:{pattern:/(?=\S)[^@;{}()]?(?:[^@;{}()\s]|\s+(?!\s)|#\{\$[-\w]+\})+(?=\s*\{(?:\}|\s|[^}][^:{}]*[:{][^}]))/,inside:{parent:{pattern:/&/,alias:"important"},placeholder:/%[-\w]+/,variable:/\$[-\w]+|#\{\$[-\w]+\}/}},property:{pattern:/(?:[-\w]|\$[-\w]|#\{\$[-\w]+\})+(?=\s*:)/,inside:{variable:/\$[-\w]+|#\{\$[-\w]+\}/}}}),Prism.languages.insertBefore("scss","atrule",{keyword:[/@(?:content|debug|each|else(?: if)?|extend|for|forward|function|if|import|include|mixin|return|use|warn|while)\b/i,{pattern:/( )(?:from|through)(?= )/,lookbehind:!0}]}),Prism.languages.insertBefore("scss","important",{variable:/\$[-\w]+|#\{\$[-\w]+\}/}),Prism.languages.insertBefore("scss","function",{"module-modifier":{pattern:/\b(?:as|hide|show|with)\b/i,alias:"keyword"},placeholder:{pattern:/%[-\w]+/,alias:"selector"},statement:{pattern:/\B!(?:default|optional)\b/i,alias:"keyword"},boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"},operator:{pattern:/(\s)(?:[-+*\/%]|[=!]=|<=?|>=?|and|not|or)(?=\s)/,lookbehind:!0}}),Prism.languages.scss.atrule.inside.rest=Prism.languages.scss),n2}WY();(function(t){var e=/(?:\\.|[^\\\n\r]|(?:\n|\r\n?)(?![\r\n]))/.source;function n(p){return p=p.replace(/<inner>/g,function(){return e}),RegExp(/((?:^|[^\\])(?:\\{2})*)/.source+"(?:"+p+")")}var r=/(?:\\.|``(?:[^`\r\n]|`(?!`))+``|`[^`\r\n]+`|[^\\|\r\n`])+/.source,s=/\|?__(?:\|__)+\|?(?:(?:\n|\r\n?)|(?![\s\S]))/.source.replace(/__/g,function(){return r}),o=/\|?[ \t]*:?-{3,}:?[ \t]*(?:\|[ \t]*:?-{3,}:?[ \t]*)+\|?(?:\n|\r\n?)/.source;t.languages.markdown=t.languages.extend("markup",{}),t.languages.insertBefore("markdown","prolog",{"front-matter-block":{pattern:/(^(?:\s*[\r\n])?)---(?!.)[\s\S]*?[\r\n]---(?!.)/,lookbehind:!0,greedy:!0,inside:{punctuation:/^---|---$/,"front-matter":{pattern:/\S+(?:\s+\S+)*/,alias:["yaml","language-yaml"],inside:t.languages.yaml}}},blockquote:{pattern:/^>(?:[\t ]*>)*/m,alias:"punctuation"},table:{pattern:RegExp("^"+s+o+"(?:"+s+")*","m"),inside:{"table-data-rows":{pattern:RegExp("^("+s+o+")(?:"+s+")*$"),lookbehind:!0,inside:{"table-data":{pattern:RegExp(r),inside:t.languages.markdown},punctuation:/\|/}},"table-line":{pattern:RegExp("^("+s+")"+o+"$"),lookbehind:!0,inside:{punctuation:/\||:?-{3,}:?/}},"table-header-row":{pattern:RegExp("^"+s+"$"),inside:{"table-header":{pattern:RegExp(r),alias:"important",inside:t.languages.markdown},punctuation:/\|/}}}},code:[{pattern:/((?:^|\n)[ \t]*\n|(?:^|\r\n?)[ \t]*\r\n?)(?: {4}|\t).+(?:(?:\n|\r\n?)(?: {4}|\t).+)*/,lookbehind:!0,alias:"keyword"},{pattern:/^```[\s\S]*?^```$/m,greedy:!0,inside:{"code-block":{pattern:/^(```.*(?:\n|\r\n?))[\s\S]+?(?=(?:\n|\r\n?)^```$)/m,lookbehind:!0},"code-language":{pattern:/^(```).+/,lookbehind:!0},punctuation:/```/}}],title:[{pattern:/\S.*(?:\n|\r\n?)(?:==+|--+)(?=[ \t]*$)/m,alias:"important",inside:{punctuation:/==+$|--+$/}},{pattern:/(^\s*)#.+/m,lookbehind:!0,alias:"important",inside:{punctuation:/^#+|#+$/}}],hr:{pattern:/(^\s*)([*-])(?:[\t ]*\2){2,}(?=\s*$)/m,lookbehind:!0,alias:"punctuation"},list:{pattern:/(^\s*)(?:[*+-]|\d+\.)(?=[\t ].)/m,lookbehind:!0,alias:"punctuation"},"url-reference":{pattern:/!?\[[^\]]+\]:[\t ]+(?:\S+|<(?:\\.|[^>\\])+>)(?:[\t ]+(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\)))?/,inside:{variable:{pattern:/^(!?\[)[^\]]+/,lookbehind:!0},string:/(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\))$/,punctuation:/^[\[\]!:]|[<>]/},alias:"url"},bold:{pattern:n(/\b__(?:(?!_)<inner>|_(?:(?!_)<inner>)+_)+__\b|\*\*(?:(?!\*)<inner>|\*(?:(?!\*)<inner>)+\*)+\*\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^..)[\s\S]+(?=..$)/,lookbehind:!0,inside:{}},punctuation:/\*\*|__/}},italic:{pattern:n(/\b_(?:(?!_)<inner>|__(?:(?!_)<inner>)+__)+_\b|\*(?:(?!\*)<inner>|\*\*(?:(?!\*)<inner>)+\*\*)+\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^.)[\s\S]+(?=.$)/,lookbehind:!0,inside:{}},punctuation:/[*_]/}},strike:{pattern:n(/(~~?)(?:(?!~)<inner>)+\2/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^~~?)[\s\S]+(?=\1$)/,lookbehind:!0,inside:{}},punctuation:/~~?/}},"code-snippet":{pattern:/(^|[^\\`])(?:``[^`\r\n]+(?:`[^`\r\n]+)*``(?!`)|`[^`\r\n]+`(?!`))/,lookbehind:!0,greedy:!0,alias:["code","keyword"]},url:{pattern:n(/!?\[(?:(?!\])<inner>)+\](?:\([^\s)]+(?:[\t ]+"(?:\\.|[^"\\])*")?\)|[ \t]?\[(?:(?!\])<inner>)+\])/.source),lookbehind:!0,greedy:!0,inside:{operator:/^!/,content:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0,inside:{}},variable:{pattern:/(^\][ \t]?\[)[^\]]+(?=\]$)/,lookbehind:!0},url:{pattern:/(^\]\()[^\s)]+/,lookbehind:!0},string:{pattern:/(^[ \t]+)"(?:\\.|[^"\\])*"(?=\)$)/,lookbehind:!0}}}}),["url","bold","italic","strike"].forEach(function(p){["url","bold","italic","strike","code-snippet"].forEach(function(m){p!==m&&(t.languages.markdown[p].inside.content.inside[m]=t.languages.markdown[m])})}),t.hooks.add("after-tokenize",function(p){if(p.language!=="markdown"&&p.language!=="md")return;function m(x){if(!(!x||typeof x=="string"))for(var w=0,E=x.length;w<E;w++){var T=x[w];if(T.type!=="code"){m(T.content);continue}var C=T.content[1],P=T.content[3];if(C&&P&&C.type==="code-language"&&P.type==="code-block"&&typeof C.content=="string"){var j=C.content.replace(/\b#/g,"sharp").replace(/\b\+\+/g,"pp");j=(/[a-z][\w-]*/i.exec(j)||[""])[0].toLowerCase();var D="language-"+j;P.alias?typeof P.alias=="string"?P.alias=[P.alias,D]:P.alias.push(D):P.alias=[D]}}}m(p.tokens)}),t.hooks.add("wrap",function(p){if(p.type==="code-block"){for(var m="",x=0,w=p.classes.length;x<w;x++){var E=p.classes[x],T=/language-(.+)/.exec(E);if(T){m=T[1];break}}var C=t.languages[m];if(C)p.content=t.highlight(h(p.content),C,m);else if(m&&m!=="none"&&t.plugins.autoloader){var P="md-"+new Date().valueOf()+"-"+Math.floor(Math.random()*1e16);p.attributes.id=P,t.plugins.autoloader.loadLanguages(m,function(){var j=document.getElementById(P);j&&(j.innerHTML=t.highlight(j.textContent,t.languages[m],m))})}}});var l=RegExp(t.languages.markup.tag.pattern.source,"gi"),c={amp:"&",lt:"<",gt:">",quot:'"'},f=String.fromCodePoint||String.fromCharCode;function h(p){var m=p.replace(l,"");return m=m.replace(/&(\w{1,8}|#x?[\da-f]{1,8});/gi,function(x,w){if(w=w.toLowerCase(),w[0]==="#"){var E;return w[1]==="x"?E=parseInt(w.slice(2),16):E=Number(w.slice(1)),f(E)}else{var T=c[w];return T||x}}),m}t.languages.md=t.languages.markdown})(Prism);(function(t){var e="\\b(?:BASH|BASHOPTS|BASH_ALIASES|BASH_ARGC|BASH_ARGV|BASH_CMDS|BASH_COMPLETION_COMPAT_DIR|BASH_LINENO|BASH_REMATCH|BASH_SOURCE|BASH_VERSINFO|BASH_VERSION|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|EUID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_ADDRESS|LC_ALL|LC_IDENTIFICATION|LC_MEASUREMENT|LC_MONETARY|LC_NAME|LC_NUMERIC|LC_PAPER|LC_TELEPHONE|LC_TIME|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS1|PS2|PS3|PS4|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UID|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_CONFIG_DIRS|XDG_CURRENT_DESKTOP|XDG_DATA_DIRS|XDG_GREETER_DATA_DIR|XDG_MENU_PREFIX|XDG_RUNTIME_DIR|XDG_SEAT|XDG_SEAT_PATH|XDG_SESSION_DESKTOP|XDG_SESSION_ID|XDG_SESSION_PATH|XDG_SESSION_TYPE|XDG_VTNR|XMODIFIERS)\\b",n={pattern:/(^(["']?)\w+\2)[ \t]+\S.*/,lookbehind:!0,alias:"punctuation",inside:null},r={bash:n,environment:{pattern:RegExp("\\$"+e),alias:"constant"},variable:[{pattern:/\$?\(\([\s\S]+?\)\)/,greedy:!0,inside:{variable:[{pattern:/(^\$\(\([\s\S]+)\)\)/,lookbehind:!0},/^\$\(\(/],number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--|\+\+|\*\*=?|<<=?|>>=?|&&|\|\||[=!+\-*/%<>^&|]=?|[?~:]/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\((?:\([^)]+\)|[^()])+\)|`[^`]+`/,greedy:!0,inside:{variable:/^\$\(|^`|\)$|`$/}},{pattern:/\$\{[^}]+\}/,greedy:!0,inside:{operator:/:[-=?+]?|[!\/]|##?|%%?|\^\^?|,,?/,punctuation:/[\[\]]/,environment:{pattern:RegExp("(\\{)"+e),lookbehind:!0,alias:"constant"}}},/\$(?:\w+|[#?*!@$])/],entity:/\\(?:[abceEfnrtv\\"]|O?[0-7]{1,3}|U[0-9a-fA-F]{8}|u[0-9a-fA-F]{4}|x[0-9a-fA-F]{1,2})/};t.languages.bash={shebang:{pattern:/^#!\s*\/.*/,alias:"important"},comment:{pattern:/(^|[^"{\\$])#.*/,lookbehind:!0},"function-name":[{pattern:/(\bfunction\s+)[\w-]+(?=(?:\s*\(?:\s*\))?\s*\{)/,lookbehind:!0,alias:"function"},{pattern:/\b[\w-]+(?=\s*\(\s*\)\s*\{)/,alias:"function"}],"for-or-select":{pattern:/(\b(?:for|select)\s+)\w+(?=\s+in\s)/,alias:"variable",lookbehind:!0},"assign-left":{pattern:/(^|[\s;|&]|[<>]\()\w+(?:\.\w+)*(?=\+?=)/,inside:{environment:{pattern:RegExp("(^|[\\s;|&]|[<>]\\()"+e),lookbehind:!0,alias:"constant"}},alias:"variable",lookbehind:!0},parameter:{pattern:/(^|\s)-{1,2}(?:\w+:[+-]?)?\w+(?:\.\w+)*(?=[=\s]|$)/,alias:"variable",lookbehind:!0},string:[{pattern:/((?:^|[^<])<<-?\s*)(\w+)\s[\s\S]*?(?:\r?\n|\r)\2/,lookbehind:!0,greedy:!0,inside:r},{pattern:/((?:^|[^<])<<-?\s*)(["'])(\w+)\2\s[\s\S]*?(?:\r?\n|\r)\3/,lookbehind:!0,greedy:!0,inside:{bash:n}},{pattern:/(^|[^\\](?:\\\\)*)"(?:\\[\s\S]|\$\([^)]+\)|\$(?!\()|`[^`]+`|[^"\\`$])*"/,lookbehind:!0,greedy:!0,inside:r},{pattern:/(^|[^$\\])'[^']*'/,lookbehind:!0,greedy:!0},{pattern:/\$'(?:[^'\\]|\\[\s\S])*'/,greedy:!0,inside:{entity:r.entity}}],environment:{pattern:RegExp("\\$?"+e),alias:"constant"},variable:r.variable,function:{pattern:/(^|[\s;|&]|[<>]\()(?:add|apropos|apt|apt-cache|apt-get|aptitude|aspell|automysqlbackup|awk|basename|bash|bc|bconsole|bg|bzip2|cal|cargo|cat|cfdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|composer|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|docker|docker-compose|du|egrep|eject|env|ethtool|expand|expect|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|git|gparted|grep|groupadd|groupdel|groupmod|groups|grub-mkconfig|gzip|halt|head|hg|history|host|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|ip|java|jobs|join|kill|killall|less|link|ln|locate|logname|logrotate|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mmv|more|most|mount|mtools|mtr|mutt|mv|nano|nc|netstat|nice|nl|node|nohup|notify-send|npm|nslookup|op|open|parted|passwd|paste|pathchk|ping|pkill|pnpm|podman|podman-compose|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ram|rar|rcp|reboot|remsync|rename|renice|rev|rm|rmdir|rpm|rsync|scp|screen|sdiff|sed|sendmail|seq|service|sftp|sh|shellcheck|shuf|shutdown|sleep|slocate|sort|split|ssh|stat|strace|su|sudo|sum|suspend|swapon|sync|sysctl|tac|tail|tar|tee|time|timeout|top|touch|tr|traceroute|tsort|tty|umount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vcpkg|vdir|vi|vim|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|zip|zsh|zypper)(?=$|[)\s;|&])/,lookbehind:!0},keyword:{pattern:/(^|[\s;|&]|[<>]\()(?:case|do|done|elif|else|esac|fi|for|function|if|in|select|then|until|while)(?=$|[)\s;|&])/,lookbehind:!0},builtin:{pattern:/(^|[\s;|&]|[<>]\()(?:\.|:|alias|bind|break|builtin|caller|cd|command|continue|declare|echo|enable|eval|exec|exit|export|getopts|hash|help|let|local|logout|mapfile|printf|pwd|read|readarray|readonly|return|set|shift|shopt|source|test|times|trap|type|typeset|ulimit|umask|unalias|unset)(?=$|[)\s;|&])/,lookbehind:!0,alias:"class-name"},boolean:{pattern:/(^|[\s;|&]|[<>]\()(?:false|true)(?=$|[)\s;|&])/,lookbehind:!0},"file-descriptor":{pattern:/\B&\d\b/,alias:"important"},operator:{pattern:/\d?<>|>\||\+=|=[=~]?|!=?|<<[<-]?|[&\d]?>>|\d[<>]&?|[<>][&=]?|&[>&]?|\|[&|]?/,inside:{"file-descriptor":{pattern:/^\d/,alias:"important"}}},punctuation:/\$?\(\(?|\)\)?|\.\.|[{}[\];\\]/,number:{pattern:/(^|\s)(?:[1-9]\d*|0)(?:[.,]\d+)?\b/,lookbehind:!0}},n.inside=t.languages.bash;for(var s=["comment","function-name","for-or-select","assign-left","parameter","string","environment","function","keyword","builtin","boolean","file-descriptor","operator","punctuation","number"],o=r.variable[1].inside,l=0;l<s.length;l++)o[s[l]]=t.languages.bash[s[l]];t.languages.sh=t.languages.bash,t.languages.shell=t.languages.bash})(Prism);(function(t){var e=/[*&][^\s[\]{},]+/,n=/!(?:<[\w\-%#;/?:@&=+$,.!~*'()[\]]+>|(?:[a-zA-Z\d-]*!)?[\w\-%#;/?:@&=+$.~*'()]+)?/,r="(?:"+n.source+"(?:[ 	]+"+e.source+")?|"+e.source+"(?:[ 	]+"+n.source+")?)",s=/(?:[^\s\x00-\x08\x0e-\x1f!"#%&'*,\-:>?@[\]`{|}\x7f-\x84\x86-\x9f\ud800-\udfff\ufffe\uffff]|[?:-]<PLAIN>)(?:[ \t]*(?:(?![#:])<PLAIN>|:<PLAIN>))*/.source.replace(/<PLAIN>/g,function(){return/[^\s\x00-\x08\x0e-\x1f,[\]{}\x7f-\x84\x86-\x9f\ud800-\udfff\ufffe\uffff]/.source}),o=/"(?:[^"\\\r\n]|\\.)*"|'(?:[^'\\\r\n]|\\.)*'/.source;function l(c,f){f=(f||"").replace(/m/g,"")+"m";var h=/([:\-,[{]\s*(?:\s<<prop>>[ \t]+)?)(?:<<value>>)(?=[ \t]*(?:$|,|\]|\}|(?:[\r\n]\s*)?#))/.source.replace(/<<prop>>/g,function(){return r}).replace(/<<value>>/g,function(){return c});return RegExp(h,f)}t.languages.yaml={scalar:{pattern:RegExp(/([\-:]\s*(?:\s<<prop>>[ \t]+)?[|>])[ \t]*(?:((?:\r?\n|\r)[ \t]+)\S[^\r\n]*(?:\2[^\r\n]+)*)/.source.replace(/<<prop>>/g,function(){return r})),lookbehind:!0,alias:"string"},comment:/#.*/,key:{pattern:RegExp(/((?:^|[:\-,[{\r\n?])[ \t]*(?:<<prop>>[ \t]+)?)<<key>>(?=\s*:\s)/.source.replace(/<<prop>>/g,function(){return r}).replace(/<<key>>/g,function(){return"(?:"+s+"|"+o+")"})),lookbehind:!0,greedy:!0,alias:"atrule"},directive:{pattern:/(^[ \t]*)%.+/m,lookbehind:!0,alias:"important"},datetime:{pattern:l(/\d{4}-\d\d?-\d\d?(?:[tT]|[ \t]+)\d\d?:\d{2}:\d{2}(?:\.\d*)?(?:[ \t]*(?:Z|[-+]\d\d?(?::\d{2})?))?|\d{4}-\d{2}-\d{2}|\d\d?:\d{2}(?::\d{2}(?:\.\d*)?)?/.source),lookbehind:!0,alias:"number"},boolean:{pattern:l(/false|true/.source,"i"),lookbehind:!0,alias:"important"},null:{pattern:l(/null|~/.source,"i"),lookbehind:!0,alias:"important"},string:{pattern:l(o),lookbehind:!0,greedy:!0},number:{pattern:l(/[+-]?(?:0x[\da-f]+|0o[0-7]+|(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?|\.inf|\.nan)/.source,"i"),lookbehind:!0},tag:n,important:e,punctuation:/---|[:[\]{}\-,|>?]|\.\.\./},t.languages.yml=t.languages.yaml})(Prism);const qY=async()=>{const t=await fetch("http://localhost:3333/api/semantic-chunks");if(!t.ok)throw new Error("Failed to fetch semantic analysis");return t.json()};function XY({chunk:t,isOpen:e,onClose:n}){const[r,s]=k.useState("");k.useEffect(()=>{if(e&&(t!=null&&t.code)){const c=(h=>{var m;switch((m=h.split(".").pop())==null?void 0:m.toLowerCase()){case"js":return"javascript";case"jsx":return"jsx";case"ts":return"typescript";case"tsx":return"tsx";case"json":return"json";case"css":return"css";case"scss":return"scss";case"md":return"markdown";case"sh":case"bash":return"bash";case"yml":case"yaml":return"yaml";default:return"javascript"}})(t.filePath),f=p1.highlight(t.code,p1.languages[c]||p1.languages.javascript,c);s(f)}},[e,t]);const o=async()=>{if(t)try{const l=await fetch("http://localhost:3333/api/open-file",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({filePath:t.filePath})});if(!l.ok){const c=await l.json();throw new Error(c.error||"Failed to open file")}Ft.success(`Opening ${t.filePath} in editor...`)}catch(l){console.error("Failed to open in editor:",l),Ft.error(`Could not open file: ${l instanceof Error?l.message:"Unknown error"}`)}};return!e||!t?null:b.jsxDEV("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:b.jsxDEV("div",{className:"bg-background border rounded-lg shadow-lg w-full max-w-3xl max-h-[80vh] flex flex-col",children:[b.jsxDEV("div",{className:"flex items-center justify-between p-3 border-b",children:[b.jsxDEV("div",{children:[b.jsxDEV("h3",{className:"font-semibold text-base",children:t.name},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:151,columnNumber:13},this),b.jsxDEV("p",{className:"text-xs text-muted-foreground",children:[t.filePath,t.startLine?`:${t.startLine}`:""]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:152,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:150,columnNumber:11},this),b.jsxDEV("div",{className:"flex items-center gap-2",children:[b.jsxDEV(Dt,{variant:"outline",size:"sm",onClick:o,title:"Open in external editor",children:[b.jsxDEV(iu,{className:"w-3 h-3 mr-1"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:161,columnNumber:15},this),"Open"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:155,columnNumber:13},this),b.jsxDEV(Dt,{variant:"outline",size:"sm",onClick:()=>{navigator.clipboard.writeText(t.code||""),Ft.success("Code copied to clipboard!")},children:[b.jsxDEV(pd,{className:"w-3 h-3 mr-1"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:172,columnNumber:15},this),"Copy"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:164,columnNumber:13},this),b.jsxDEV(Dt,{variant:"outline",size:"sm",onClick:n,children:b.jsxDEV(ii,{className:"w-3 h-3"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:180,columnNumber:15},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:175,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:154,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:149,columnNumber:9},this),b.jsxDEV("div",{className:"flex-1 overflow-auto p-3",children:t.code?b.jsxDEV("div",{className:"bg-muted/30 rounded p-3",children:b.jsxDEV("pre",{className:"text-xs font-mono overflow-x-auto",children:b.jsxDEV("code",{className:"language-javascript",dangerouslySetInnerHTML:{__html:r}},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:190,columnNumber:17},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:189,columnNumber:15},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:188,columnNumber:13},this):b.jsxDEV("div",{className:"text-center text-muted-foreground py-6",children:"No code available for this chunk"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:197,columnNumber:13},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:186,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:147,columnNumber:7},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:146,columnNumber:5},this)}function YY(){var Me,we,Ke,V;const[t,e]=k.useState(!1),[n,r]=k.useState(null),[s,o]=k.useState(!1),[l,c]=k.useState(""),[f,h]=k.useState("all"),[p,m]=k.useState("all"),[x,w]=k.useState("all"),[E,T]=k.useState("all"),[C,P]=k.useState("all"),[j,D]=k.useState("all"),{data:U,isLoading:L,error:O,refetch:Y}=Pi({queryKey:["semantic-analysis"],queryFn:qY,staleTime:3e4,refetchInterval:6e4}),{data:ne}=Pi({queryKey:["bundle-states"],queryFn:async()=>{const fe=await fetch("/api/bundles");if(!fe.ok)throw new Error("Failed to fetch bundles");return fe.json()},staleTime:3e4}),Q=k.useMemo(()=>U!=null&&U.chunks?U.chunks.filter(se=>{var B,ce,Z;if(l){const xe=l.toLowerCase();if(!(se.name.toLowerCase().includes(xe)||se.purpose.toLowerCase().includes(xe)||se.filePath.toLowerCase().includes(xe)||((B=se.code)==null?void 0:B.toLowerCase().includes(xe))))return!1}return!(f!=="all"&&se.semanticType!==f||p!=="all"&&((ce=se.complexity)==null?void 0:ce.level)!==p||x!=="all"&&!se.purpose.toLowerCase().includes(x.toLowerCase())||E==="async"&&!se.isAsync||E==="sync"&&se.isAsync||C==="exported"&&!se.isExported||C==="internal"&&se.isExported||j!=="all"&&!((Z=se.bundles)!=null&&Z.includes(j)))}):[],[U==null?void 0:U.chunks,l,f,p,x,E,C,j]),K=k.useMemo(()=>{if(!(U!=null&&U.chunks))return{types:[],purposes:[],complexities:[],bundles:[]};const fe=[...new Set(U.chunks.map(Z=>Z.semanticType).filter(Boolean))].sort(),se=[...new Set(U.chunks.map(Z=>Z.purpose))].sort(),B=[...new Set(U.chunks.map(Z=>{var xe;return(xe=Z.complexity)==null?void 0:xe.level}).filter(Boolean))].sort(),ce=ne?ne.map(Z=>Z.name).sort():[];return console.log("Bundle states data:",ne),console.log("Extracted bundles:",ce),{types:fe,purposes:se,complexities:B,bundles:ce}},[U==null?void 0:U.chunks,ne]),G=()=>{c(""),h("all"),m("all"),w("all"),T("all"),P("all"),D("all")},ue=l||f!=="all"||p!=="all"||x!=="all"||E!=="all"||C!=="all"||j!=="all",me=fe=>{r(fe),o(!0)},le=async(fe,se)=>{try{const B={filePath:fe};se&&(B.line=se);const ce=await fetch("http://localhost:3333/api/open-file",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(B)});if(!ce.ok){const Z=await ce.json();throw new Error(Z.error||"Failed to open file")}Ft.success(`Opening ${fe} in editor...`)}catch(B){console.error("Failed to open in editor:",B),Ft.error(`Could not open file: ${B instanceof Error?B.message:"Unknown error"}`)}},ye=fe=>{var se,B;return fe.subtype==="react_component"||(se=fe.tags)!=null&&se.includes("react_component")?b.jsxDEV(bE,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:341,columnNumber:96},this):(B=fe.purpose)!=null&&B.includes("React hook")?b.jsxDEV(vE,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:342,columnNumber:55},this):fe.subtype==="arrow_function"?b.jsxDEV(Kp,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:343,columnNumber:52},this):fe.subtype==="method"?b.jsxDEV(jb,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:344,columnNumber:44},this):b.jsxDEV(Kp,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:345,columnNumber:12},this)},ge=fe=>{switch(fe){case"low":return"text-green-600";case"medium":return"text-yellow-600";case"high":return"text-red-600";default:return"text-gray-600"}};return L?b.jsxDEV(gn,{children:b.jsxDEV(vn,{className:"pt-6",children:b.jsxDEV("div",{className:"flex items-center justify-center py-8",children:[b.jsxDEV(Ds,{className:"w-6 h-6 animate-spin mr-2"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:362,columnNumber:13},this),b.jsxDEV("span",{className:"text-sm",children:"Analyzing code semantics..."},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:363,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:361,columnNumber:11},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:360,columnNumber:9},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:359,columnNumber:7},this):O?b.jsxDEV(gn,{children:b.jsxDEV(vn,{className:"pt-6",children:b.jsxDEV(em,{children:[b.jsxDEV(Ai,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:375,columnNumber:13},this),b.jsxDEV(tm,{children:["Failed to load semantic analysis. Make sure the server supports semantic chunking.",b.jsxDEV(Dt,{variant:"outline",size:"sm",className:"ml-2",onClick:()=>Y(),children:"Retry"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:378,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:376,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:374,columnNumber:11},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:373,columnNumber:9},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:372,columnNumber:7},this):U?b.jsxDEV("div",{className:"space-y-6",children:[b.jsxDEV(gn,{children:[b.jsxDEV(Kn,{children:b.jsxDEV(Jn,{className:"flex items-center justify-between text-sm font-thin",children:[b.jsxDEV("div",{className:"flex items-center gap-2",children:[b.jsxDEV(mO,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:402,columnNumber:15},this),"Filters"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:401,columnNumber:13},this),b.jsxDEV("div",{className:"flex items-center gap-2",children:[ue&&b.jsxDEV(Dt,{variant:"outline",size:"sm",className:"h-7 text-xs",onClick:G,children:[b.jsxDEV(ii,{className:"w-3 h-3 mr-1"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:413,columnNumber:19},this),"Clear All"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:407,columnNumber:17},this),b.jsxDEV(Dt,{variant:"outline",size:"sm",className:"h-7 text-xs md:hidden",onClick:()=>e(!t),children:t?b.jsxDEV(n$,{className:"w-3 h-3"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:423,columnNumber:32},this):b.jsxDEV(bm,{className:"w-3 h-3"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:423,columnNumber:68},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:417,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:405,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:400,columnNumber:11},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:399,columnNumber:9},this),b.jsxDEV(vn,{className:`${t?"block":"hidden"} md:block`,children:[b.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:[b.jsxDEV("div",{className:"md:col-span-2 lg:col-span-2 xl:col-span-2",children:b.jsxDEV("div",{className:"relative",children:[b.jsxDEV(jx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:433,columnNumber:17},this),b.jsxDEV(WE,{placeholder:"Search functions...",value:l,onChange:fe=>c(fe.target.value),className:"pl-10 h-8 text-xs"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:434,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:432,columnNumber:15},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:431,columnNumber:13},this),b.jsxDEV("div",{children:b.jsxDEV(_a,{value:f,onValueChange:h,children:[b.jsxDEV(jo,{className:"h-8 text-xs",children:b.jsxDEV(yl,{placeholder:"Type"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:447,columnNumber:19},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:446,columnNumber:17},this),b.jsxDEV(Mo,{children:[b.jsxDEV(Nr,{value:"all",children:"All Types"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:450,columnNumber:19},this),K.types.map(fe=>b.jsxDEV(Nr,{value:fe,children:fe},fe,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:452,columnNumber:21},this))]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:449,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:445,columnNumber:15},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:444,columnNumber:13},this),b.jsxDEV("div",{children:b.jsxDEV(_a,{value:p,onValueChange:m,children:[b.jsxDEV(jo,{className:"h-8 text-xs",children:b.jsxDEV(yl,{placeholder:"Complexity"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:462,columnNumber:19},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:461,columnNumber:17},this),b.jsxDEV(Mo,{children:[b.jsxDEV(Nr,{value:"all",children:"All Complexity"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:465,columnNumber:19},this),K.complexities.map(fe=>b.jsxDEV(Nr,{value:fe,children:fe},fe,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:467,columnNumber:21},this))]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:464,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:460,columnNumber:15},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:459,columnNumber:13},this),b.jsxDEV("div",{children:b.jsxDEV(_a,{value:x,onValueChange:w,children:[b.jsxDEV(jo,{className:"h-8 text-xs",children:b.jsxDEV(yl,{placeholder:"Purpose"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:477,columnNumber:19},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:476,columnNumber:17},this),b.jsxDEV(Mo,{children:[b.jsxDEV(Nr,{value:"all",children:"All Purposes"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:480,columnNumber:19},this),K.purposes.map(fe=>b.jsxDEV(Nr,{value:fe,children:fe},fe,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:482,columnNumber:21},this))]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:479,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:475,columnNumber:15},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:474,columnNumber:13},this),b.jsxDEV("div",{children:b.jsxDEV(_a,{value:E,onValueChange:T,children:[b.jsxDEV(jo,{className:"h-8 text-xs",children:b.jsxDEV(yl,{placeholder:"Async"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:492,columnNumber:19},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:491,columnNumber:17},this),b.jsxDEV(Mo,{children:[b.jsxDEV(Nr,{value:"all",children:"All Functions"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:495,columnNumber:19},this),b.jsxDEV(Nr,{value:"async",children:"Async Only"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:496,columnNumber:19},this),b.jsxDEV(Nr,{value:"sync",children:"Sync Only"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:497,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:494,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:490,columnNumber:15},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:489,columnNumber:13},this),b.jsxDEV("div",{children:b.jsxDEV(_a,{value:j,onValueChange:D,children:[b.jsxDEV(jo,{className:"h-8 text-xs",children:b.jsxDEV(yl,{placeholder:"Bundle"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:506,columnNumber:19},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:505,columnNumber:17},this),b.jsxDEV(Mo,{children:[b.jsxDEV(Nr,{value:"all",children:"All Bundles"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:509,columnNumber:19},this),K.bundles.map(fe=>b.jsxDEV(Nr,{value:fe,children:fe},fe,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:511,columnNumber:21},this))]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:508,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:504,columnNumber:15},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:503,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:429,columnNumber:11},this),ue&&b.jsxDEV("div",{className:"flex flex-wrap gap-2 mt-4 pt-4 border-t",children:[l&&b.jsxDEV(yn,{variant:"secondary",className:"text-xs flex items-center gap-1",children:['Search: "',l,'"',b.jsxDEV("button",{onClick:fe=>{fe.preventDefault(),fe.stopPropagation(),c("")},className:"ml-1 hover:bg-muted rounded-sm p-0.5",children:b.jsxDEV(ii,{className:"w-3 h-3"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:532,columnNumber:21},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:524,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:522,columnNumber:17},this),f!=="all"&&b.jsxDEV(yn,{variant:"secondary",className:"text-xs flex items-center gap-1",children:["Type: ",f,b.jsxDEV("button",{onClick:fe=>{fe.preventDefault(),fe.stopPropagation(),h("all")},className:"ml-1 hover:bg-muted rounded-sm p-0.5",children:b.jsxDEV(ii,{className:"w-3 h-3"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:547,columnNumber:21},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:539,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:537,columnNumber:17},this),p!=="all"&&b.jsxDEV(yn,{variant:"secondary",className:"text-xs flex items-center gap-1",children:["Complexity: ",p,b.jsxDEV("button",{onClick:fe=>{fe.preventDefault(),fe.stopPropagation(),m("all")},className:"ml-1 hover:bg-muted rounded-sm p-0.5",children:b.jsxDEV(ii,{className:"w-3 h-3"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:562,columnNumber:21},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:554,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:552,columnNumber:17},this),x!=="all"&&b.jsxDEV(yn,{variant:"secondary",className:"text-xs flex items-center gap-1",children:["Purpose: ",x,b.jsxDEV("button",{onClick:fe=>{fe.preventDefault(),fe.stopPropagation(),w("all")},className:"ml-1 hover:bg-muted rounded-sm p-0.5",children:b.jsxDEV(ii,{className:"w-3 h-3"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:577,columnNumber:21},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:569,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:567,columnNumber:17},this),E!=="all"&&b.jsxDEV(yn,{variant:"secondary",className:"text-xs flex items-center gap-1",children:[E==="async"?"Async Only":"Sync Only",b.jsxDEV("button",{onClick:fe=>{fe.preventDefault(),fe.stopPropagation(),T("all")},className:"ml-1 hover:bg-muted rounded-sm p-0.5",children:b.jsxDEV(ii,{className:"w-3 h-3"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:592,columnNumber:21},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:584,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:582,columnNumber:17},this),j!=="all"&&b.jsxDEV(yn,{variant:"secondary",className:"text-xs flex items-center gap-1",children:["Bundle: ",j,b.jsxDEV("button",{onClick:fe=>{fe.preventDefault(),fe.stopPropagation(),D("all")},className:"ml-1 hover:bg-muted rounded-sm p-0.5",children:b.jsxDEV(ii,{className:"w-3 h-3"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:607,columnNumber:21},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:599,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:597,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:520,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:428,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:398,columnNumber:7},this),b.jsxDEV(gn,{children:[b.jsxDEV(Kn,{children:b.jsxDEV(Jn,{className:"flex items-center justify-between text-sm font-thin",children:[b.jsxDEV("div",{className:"flex items-center gap-2",children:[b.jsxDEV(jp,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:621,columnNumber:15},this),"Project Analysis"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:620,columnNumber:13},this),b.jsxDEV(Dt,{variant:"outline",size:"sm",className:"h-7 text-xs",onClick:()=>Y(),disabled:L,children:[b.jsxDEV(Ds,{className:"w-3 h-3 mr-1"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:631,columnNumber:15},this),"Refresh"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:624,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:619,columnNumber:11},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:618,columnNumber:9},this),b.jsxDEV(vn,{children:b.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[b.jsxDEV("div",{children:[b.jsxDEV("div",{className:"text-lg font-thin",children:((Me=U.summary)==null?void 0:Me.totalFiles)||0},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:639,columnNumber:15},this),b.jsxDEV("div",{className:"text-xs text-muted-foreground font-thin",children:"Files Analyzed"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:640,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:638,columnNumber:13},this),b.jsxDEV("div",{children:[b.jsxDEV("div",{className:"text-lg font-thin",children:((we=U.summary)==null?void 0:we.totalFunctions)||0},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:643,columnNumber:15},this),b.jsxDEV("div",{className:"text-xs text-muted-foreground font-thin",children:"Functions Extracted"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:644,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:642,columnNumber:13},this),b.jsxDEV("div",{children:[b.jsxDEV("div",{className:"text-lg font-thin",children:[Q.length,ue&&b.jsxDEV("span",{className:"text-sm text-muted-foreground",children:[" / ",((Ke=U.summary)==null?void 0:Ke.totalChunks)||0]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:650,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:647,columnNumber:15},this),b.jsxDEV("div",{className:"text-xs text-muted-foreground font-thin",children:[ue?"Filtered":"Total"," Chunks"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:653,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:646,columnNumber:13},this),b.jsxDEV("div",{children:[b.jsxDEV("div",{className:"text-lg font-thin",children:Math.round(((V=U.summary)==null?void 0:V.averageChunkSize)||0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:658,columnNumber:15},this),b.jsxDEV("div",{className:"text-xs text-muted-foreground font-thin",children:"Avg Chunk Size"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:659,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:657,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:637,columnNumber:11},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:636,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:617,columnNumber:7},this),Q.length===0?b.jsxDEV(gn,{children:b.jsxDEV(vn,{className:"pt-6",children:b.jsxDEV("div",{className:"text-center py-8",children:[b.jsxDEV(jb,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:670,columnNumber:15},this),b.jsxDEV("h3",{className:"text-lg font-thin mb-2",children:"No chunks match your filters"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:671,columnNumber:15},this),b.jsxDEV("p",{className:"text-sm text-muted-foreground mb-4",children:"Try adjusting your search criteria or clearing the filters."},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:672,columnNumber:15},this),ue&&b.jsxDEV(Dt,{variant:"outline",onClick:G,children:"Clear All Filters"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:676,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:669,columnNumber:13},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:668,columnNumber:11},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:667,columnNumber:9},this):b.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Q.map((fe,se)=>{var B,ce,Z,xe,he,oe,De,qe,Ye,tt;return b.jsxDEV(gn,{className:"relative",children:[b.jsxDEV(Kn,{children:b.jsxDEV("div",{className:"flex items-start justify-between",children:[b.jsxDEV("div",{className:"flex items-start gap-3 flex-1 min-w-0",children:[b.jsxDEV("div",{className:"mt-1 flex-shrink-0",children:ye(fe)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:690,columnNumber:21},this),b.jsxDEV("div",{className:"flex-1 min-w-0",children:[b.jsxDEV(Jn,{className:"text-sm font-thin tracking-wide truncate",children:fe.name},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:694,columnNumber:23},this),b.jsxDEV("div",{className:"flex items-center gap-1 mt-1 flex-wrap",children:[b.jsxDEV(yn,{variant:"outline",className:"text-xs h-4",children:fe.subtype||fe.type},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:698,columnNumber:25},this),b.jsxDEV(yn,{variant:"outline",className:"text-xs h-4",children:[fe.size," chars"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:701,columnNumber:25},this),b.jsxDEV(yn,{variant:"outline",className:`text-xs h-4 ${ge(((B=fe.complexity)==null?void 0:B.level)||"unknown")}`,children:[((ce=fe.complexity)==null?void 0:ce.level)||"unknown"," complexity"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:704,columnNumber:25},this),fe.isAsync&&b.jsxDEV(yn,{variant:"outline",className:"text-xs h-4 bg-blue-50",children:"async"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:711,columnNumber:27},this),fe.isExported&&b.jsxDEV(yn,{variant:"outline",className:"text-xs h-4 bg-green-50",children:"exported"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:716,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:697,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:693,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:689,columnNumber:19},this),b.jsxDEV("div",{className:"flex gap-1 flex-shrink-0",children:[b.jsxDEV(Dt,{variant:"outline",size:"sm",className:"h-7 text-xs",onClick:()=>le(fe.filePath,fe.startLine),title:"Open in external editor",children:b.jsxDEV(iu,{className:"w-3 h-3"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:731,columnNumber:23},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:724,columnNumber:21},this),b.jsxDEV(Dt,{variant:"outline",size:"sm",className:"h-7 text-xs",onClick:()=>me(fe),title:"View code preview",children:b.jsxDEV(pO,{className:"w-3 h-3"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:740,columnNumber:23},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:733,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:723,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:688,columnNumber:17},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:687,columnNumber:15},this),b.jsxDEV(vn,{children:b.jsxDEV("div",{className:"space-y-3",children:[b.jsxDEV("div",{children:[b.jsxDEV("p",{className:"text-xs text-muted-foreground font-thin mb-2 line-clamp-2",children:[b.jsxDEV(z$,{className:"w-3 h-3 inline mr-1"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:750,columnNumber:23},this),fe.purpose]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:749,columnNumber:21},this),b.jsxDEV("div",{className:"flex flex-wrap gap-1",children:[(fe.tags||[]).slice(0,4).map(Ue=>b.jsxDEV(yn,{variant:"secondary",className:"text-xs h-4",children:Ue},Ue,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:755,columnNumber:25},this)),(fe.tags||[]).length>4&&b.jsxDEV(yn,{variant:"secondary",className:"text-xs h-4",children:["+",(fe.tags||[]).length-4," more"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:760,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:753,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:748,columnNumber:19},this),b.jsxDEV("div",{children:[b.jsxDEV("div",{className:"text-xs font-thin mb-1",children:"Location:"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:769,columnNumber:21},this),b.jsxDEV("div",{className:"text-xs text-muted-foreground font-thin font-mono truncate",children:[fe.filePath,fe.startLine?`:${fe.startLine}`:""]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:770,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:768,columnNumber:19},this),(((Z=fe.bundles)==null?void 0:Z.length)||0)>0&&b.jsxDEV("div",{className:"flex items-start gap-2 p-2 bg-blue-50 rounded text-xs",children:[b.jsxDEV(jb,{className:"w-3 h-3 mt-0.5 text-blue-600 flex-shrink-0"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:778,columnNumber:23},this),b.jsxDEV("div",{className:"min-w-0",children:[b.jsxDEV("div",{className:"font-thin text-blue-800",children:"Bundles:"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:780,columnNumber:25},this),b.jsxDEV("div",{className:"flex flex-wrap gap-1 mt-1",children:[(xe=fe.bundles)==null?void 0:xe.slice(0,2).map(Ue=>b.jsxDEV(yn,{variant:"outline",className:"text-xs h-4 bg-blue-100 text-blue-700 border-blue-200",children:Ue},Ue,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:783,columnNumber:29},this)),(((he=fe.bundles)==null?void 0:he.length)||0)>2&&b.jsxDEV(yn,{variant:"outline",className:"text-xs h-4 bg-blue-100 text-blue-700 border-blue-200",children:["+",(((oe=fe.bundles)==null?void 0:oe.length)||0)-2," more"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:788,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:781,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:779,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:777,columnNumber:21},this),(((De=fe.includes)==null?void 0:De.imports.length)||0)>0&&b.jsxDEV("div",{className:"flex items-start gap-2 p-2 bg-muted/50 rounded text-xs",children:[b.jsxDEV(jb,{className:"w-3 h-3 mt-0.5 text-blue-500 flex-shrink-0"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:800,columnNumber:23},this),b.jsxDEV("div",{className:"min-w-0",children:[b.jsxDEV("div",{className:"font-thin",children:"Imports:"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:802,columnNumber:25},this),b.jsxDEV("div",{className:"font-thin truncate",children:(qe=fe.includes)==null?void 0:qe.imports.slice(0,2).join(", ")},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:803,columnNumber:25},this),(((Ye=fe.includes)==null?void 0:Ye.imports.length)||0)>2&&b.jsxDEV("div",{className:"text-muted-foreground",children:["+",(((tt=fe.includes)==null?void 0:tt.imports.length)||0)-2," more"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:805,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:801,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:799,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:746,columnNumber:17},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:745,columnNumber:15},this)]},`${fe.filePath}-${fe.name}-${se}`,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:686,columnNumber:13},this)})},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:684,columnNumber:9},this),b.jsxDEV(XY,{chunk:n,isOpen:s,onClose:()=>{o(!1),r(null)}},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:818,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SemanticChunks.tsx",lineNumber:396,columnNumber:5},this):null}function s2(){const{theme:t,setTheme:e}=iH();return b.jsxDEV(Dt,{variant:"ghost",size:"sm",onClick:()=>e(t==="light"?"dark":"light"),className:"h-8 w-8 p-0",children:[b.jsxDEV(i9,{className:"h-4 w-4 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/theme-toggle.tsx",lineNumber:19,columnNumber:7},this),b.jsxDEV(O$,{className:"absolute h-4 w-4 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/theme-toggle.tsx",lineNumber:20,columnNumber:7},this),b.jsxDEV("span",{className:"sr-only",children:"Toggle theme"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/theme-toggle.tsx",lineNumber:21,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/theme-toggle.tsx",lineNumber:13,columnNumber:5},this)}var i2=1,KY=.9,ZY=.8,QY=.17,m1=.1,g1=.999,GY=.9999,JY=.99,eK=/[\\\/_+.#"@\[\(\{&]/,tK=/[\\\/_+.#"@\[\(\{&]/g,nK=/[\s-]/,q4=/[\s-]/g;function rS(t,e,n,r,s,o,l){if(o===e.length)return s===t.length?i2:JY;var c=`${s},${o}`;if(l[c]!==void 0)return l[c];for(var f=r.charAt(o),h=n.indexOf(f,s),p=0,m,x,w,E;h>=0;)m=rS(t,e,n,r,h+1,o+1,l),m>p&&(h===s?m*=i2:eK.test(t.charAt(h-1))?(m*=ZY,w=t.slice(s,h-1).match(tK),w&&s>0&&(m*=Math.pow(g1,w.length))):nK.test(t.charAt(h-1))?(m*=KY,E=t.slice(s,h-1).match(q4),E&&s>0&&(m*=Math.pow(g1,E.length))):(m*=QY,s>0&&(m*=Math.pow(g1,h-s))),t.charAt(h)!==e.charAt(o)&&(m*=GY)),(m<m1&&n.charAt(h-1)===r.charAt(o+1)||r.charAt(o+1)===r.charAt(o)&&n.charAt(h-1)!==r.charAt(o))&&(x=rS(t,e,n,r,h+1,o+2,l),x*m1>m&&(m=x*m1)),m>p&&(p=m),h=n.indexOf(f,h+1);return l[c]=p,p}function o2(t){return t.toLowerCase().replace(q4," ")}function rK(t,e,n){return t=n&&n.length>0?`${t+" "+n.join(" ")}`:t,rS(t,e,o2(t),o2(e),0,0,{})}var dp='[cmdk-group=""]',b1='[cmdk-group-items=""]',sK='[cmdk-group-heading=""]',X4='[cmdk-item=""]',a2=`${X4}:not([aria-disabled="true"])`,sS="cmdk-item-select",Uf="data-value",iK=(t,e,n)=>rK(t,e,n),Y4=k.createContext(void 0),vm=()=>k.useContext(Y4),K4=k.createContext(void 0),qE=()=>k.useContext(K4),Z4=k.createContext(void 0),Q4=k.forwardRef((t,e)=>{let n=Vf(()=>{var se,B;return{search:"",value:(B=(se=t.value)!=null?se:t.defaultValue)!=null?B:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),r=Vf(()=>new Set),s=Vf(()=>new Map),o=Vf(()=>new Map),l=Vf(()=>new Set),c=G4(t),{label:f,children:h,value:p,onValueChange:m,filter:x,shouldFilter:w,loop:E,disablePointerSelection:T=!1,vimBindings:C=!0,...P}=t,j=Ps(),D=Ps(),U=Ps(),L=k.useRef(null),O=gK();fu(()=>{if(p!==void 0){let se=p.trim();n.current.value=se,Y.emit()}},[p]),fu(()=>{O(6,me)},[]);let Y=k.useMemo(()=>({subscribe:se=>(l.current.add(se),()=>l.current.delete(se)),snapshot:()=>n.current,setState:(se,B,ce)=>{var Z,xe,he,oe;if(!Object.is(n.current[se],B)){if(n.current[se]=B,se==="search")ue(),K(),O(1,G);else if(se==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let De=document.getElementById(U);De?De.focus():(Z=document.getElementById(j))==null||Z.focus()}if(O(7,()=>{var De;n.current.selectedItemId=(De=le())==null?void 0:De.id,Y.emit()}),ce||O(5,me),((xe=c.current)==null?void 0:xe.value)!==void 0){let De=B??"";(oe=(he=c.current).onValueChange)==null||oe.call(he,De);return}}Y.emit()}},emit:()=>{l.current.forEach(se=>se())}}),[]),ne=k.useMemo(()=>({value:(se,B,ce)=>{var Z;B!==((Z=o.current.get(se))==null?void 0:Z.value)&&(o.current.set(se,{value:B,keywords:ce}),n.current.filtered.items.set(se,Q(B,ce)),O(2,()=>{K(),Y.emit()}))},item:(se,B)=>(r.current.add(se),B&&(s.current.has(B)?s.current.get(B).add(se):s.current.set(B,new Set([se]))),O(3,()=>{ue(),K(),n.current.value||G(),Y.emit()}),()=>{o.current.delete(se),r.current.delete(se),n.current.filtered.items.delete(se);let ce=le();O(4,()=>{ue(),(ce==null?void 0:ce.getAttribute("id"))===se&&G(),Y.emit()})}),group:se=>(s.current.has(se)||s.current.set(se,new Set),()=>{o.current.delete(se),s.current.delete(se)}),filter:()=>c.current.shouldFilter,label:f||t["aria-label"],getDisablePointerSelection:()=>c.current.disablePointerSelection,listId:j,inputId:U,labelId:D,listInnerRef:L}),[]);function Q(se,B){var ce,Z;let xe=(Z=(ce=c.current)==null?void 0:ce.filter)!=null?Z:iK;return se?xe(se,n.current.search,B):0}function K(){if(!n.current.search||c.current.shouldFilter===!1)return;let se=n.current.filtered.items,B=[];n.current.filtered.groups.forEach(Z=>{let xe=s.current.get(Z),he=0;xe.forEach(oe=>{let De=se.get(oe);he=Math.max(De,he)}),B.push([Z,he])});let ce=L.current;ye().sort((Z,xe)=>{var he,oe;let De=Z.getAttribute("id"),qe=xe.getAttribute("id");return((he=se.get(qe))!=null?he:0)-((oe=se.get(De))!=null?oe:0)}).forEach(Z=>{let xe=Z.closest(b1);xe?xe.appendChild(Z.parentElement===xe?Z:Z.closest(`${b1} > *`)):ce.appendChild(Z.parentElement===ce?Z:Z.closest(`${b1} > *`))}),B.sort((Z,xe)=>xe[1]-Z[1]).forEach(Z=>{var xe;let he=(xe=L.current)==null?void 0:xe.querySelector(`${dp}[${Uf}="${encodeURIComponent(Z[0])}"]`);he==null||he.parentElement.appendChild(he)})}function G(){let se=ye().find(ce=>ce.getAttribute("aria-disabled")!=="true"),B=se==null?void 0:se.getAttribute(Uf);Y.setState("value",B||void 0)}function ue(){var se,B,ce,Z;if(!n.current.search||c.current.shouldFilter===!1){n.current.filtered.count=r.current.size;return}n.current.filtered.groups=new Set;let xe=0;for(let he of r.current){let oe=(B=(se=o.current.get(he))==null?void 0:se.value)!=null?B:"",De=(Z=(ce=o.current.get(he))==null?void 0:ce.keywords)!=null?Z:[],qe=Q(oe,De);n.current.filtered.items.set(he,qe),qe>0&&xe++}for(let[he,oe]of s.current)for(let De of oe)if(n.current.filtered.items.get(De)>0){n.current.filtered.groups.add(he);break}n.current.filtered.count=xe}function me(){var se,B,ce;let Z=le();Z&&(((se=Z.parentElement)==null?void 0:se.firstChild)===Z&&((ce=(B=Z.closest(dp))==null?void 0:B.querySelector(sK))==null||ce.scrollIntoView({block:"nearest"})),Z.scrollIntoView({block:"nearest"}))}function le(){var se;return(se=L.current)==null?void 0:se.querySelector(`${X4}[aria-selected="true"]`)}function ye(){var se;return Array.from(((se=L.current)==null?void 0:se.querySelectorAll(a2))||[])}function ge(se){let B=ye()[se];B&&Y.setState("value",B.getAttribute(Uf))}function Me(se){var B;let ce=le(),Z=ye(),xe=Z.findIndex(oe=>oe===ce),he=Z[xe+se];(B=c.current)!=null&&B.loop&&(he=xe+se<0?Z[Z.length-1]:xe+se===Z.length?Z[0]:Z[xe+se]),he&&Y.setState("value",he.getAttribute(Uf))}function we(se){let B=le(),ce=B==null?void 0:B.closest(dp),Z;for(;ce&&!Z;)ce=se>0?pK(ce,dp):mK(ce,dp),Z=ce==null?void 0:ce.querySelector(a2);Z?Y.setState("value",Z.getAttribute(Uf)):Me(se)}let Ke=()=>ge(ye().length-1),V=se=>{se.preventDefault(),se.metaKey?Ke():se.altKey?we(1):Me(1)},fe=se=>{se.preventDefault(),se.metaKey?ge(0):se.altKey?we(-1):Me(-1)};return k.createElement(jt.div,{ref:e,tabIndex:-1,...P,"cmdk-root":"",onKeyDown:se=>{var B;(B=P.onKeyDown)==null||B.call(P,se);let ce=se.nativeEvent.isComposing||se.keyCode===229;if(!(se.defaultPrevented||ce))switch(se.key){case"n":case"j":{C&&se.ctrlKey&&V(se);break}case"ArrowDown":{V(se);break}case"p":case"k":{C&&se.ctrlKey&&fe(se);break}case"ArrowUp":{fe(se);break}case"Home":{se.preventDefault(),ge(0);break}case"End":{se.preventDefault(),Ke();break}case"Enter":{se.preventDefault();let Z=le();if(Z){let xe=new Event(sS);Z.dispatchEvent(xe)}}}}},k.createElement("label",{"cmdk-label":"",htmlFor:ne.inputId,id:ne.labelId,style:xK},f),sv(t,se=>k.createElement(K4.Provider,{value:Y},k.createElement(Y4.Provider,{value:ne},se))))}),oK=k.forwardRef((t,e)=>{var n,r;let s=Ps(),o=k.useRef(null),l=k.useContext(Z4),c=vm(),f=G4(t),h=(r=(n=f.current)==null?void 0:n.forceMount)!=null?r:l==null?void 0:l.forceMount;fu(()=>{if(!h)return c.item(s,l==null?void 0:l.id)},[h]);let p=J4(s,o,[t.value,t.children,o],t.keywords),m=qE(),x=Ll(O=>O.value&&O.value===p.current),w=Ll(O=>h||c.filter()===!1?!0:O.search?O.filtered.items.get(s)>0:!0);k.useEffect(()=>{let O=o.current;if(!(!O||t.disabled))return O.addEventListener(sS,E),()=>O.removeEventListener(sS,E)},[w,t.onSelect,t.disabled]);function E(){var O,Y;T(),(Y=(O=f.current).onSelect)==null||Y.call(O,p.current)}function T(){m.setState("value",p.current,!0)}if(!w)return null;let{disabled:C,value:P,onSelect:j,forceMount:D,keywords:U,...L}=t;return k.createElement(jt.div,{ref:nu(o,e),...L,id:s,"cmdk-item":"",role:"option","aria-disabled":!!C,"aria-selected":!!x,"data-disabled":!!C,"data-selected":!!x,onPointerMove:C||c.getDisablePointerSelection()?void 0:T,onClick:C?void 0:E},t.children)}),aK=k.forwardRef((t,e)=>{let{heading:n,children:r,forceMount:s,...o}=t,l=Ps(),c=k.useRef(null),f=k.useRef(null),h=Ps(),p=vm(),m=Ll(w=>s||p.filter()===!1?!0:w.search?w.filtered.groups.has(l):!0);fu(()=>p.group(l),[]),J4(l,c,[t.value,t.heading,f]);let x=k.useMemo(()=>({id:l,forceMount:s}),[s]);return k.createElement(jt.div,{ref:nu(c,e),...o,"cmdk-group":"",role:"presentation",hidden:m?void 0:!0},n&&k.createElement("div",{ref:f,"cmdk-group-heading":"","aria-hidden":!0,id:h},n),sv(t,w=>k.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?h:void 0},k.createElement(Z4.Provider,{value:x},w))))}),lK=k.forwardRef((t,e)=>{let{alwaysRender:n,...r}=t,s=k.useRef(null),o=Ll(l=>!l.search);return!n&&!o?null:k.createElement(jt.div,{ref:nu(s,e),...r,"cmdk-separator":"",role:"separator"})}),cK=k.forwardRef((t,e)=>{let{onValueChange:n,...r}=t,s=t.value!=null,o=qE(),l=Ll(h=>h.search),c=Ll(h=>h.selectedItemId),f=vm();return k.useEffect(()=>{t.value!=null&&o.setState("search",t.value)},[t.value]),k.createElement(jt.input,{ref:e,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":f.listId,"aria-labelledby":f.labelId,"aria-activedescendant":c,id:f.inputId,type:"text",value:s?t.value:l,onChange:h=>{s||o.setState("search",h.target.value),n==null||n(h.target.value)}})}),uK=k.forwardRef((t,e)=>{let{children:n,label:r="Suggestions",...s}=t,o=k.useRef(null),l=k.useRef(null),c=Ll(h=>h.selectedItemId),f=vm();return k.useEffect(()=>{if(l.current&&o.current){let h=l.current,p=o.current,m,x=new ResizeObserver(()=>{m=requestAnimationFrame(()=>{let w=h.offsetHeight;p.style.setProperty("--cmdk-list-height",w.toFixed(1)+"px")})});return x.observe(h),()=>{cancelAnimationFrame(m),x.unobserve(h)}}},[]),k.createElement(jt.div,{ref:nu(o,e),...s,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":c,"aria-label":r,id:f.listId},sv(t,h=>k.createElement("div",{ref:nu(l,f.listInnerRef),"cmdk-list-sizer":""},h)))}),fK=k.forwardRef((t,e)=>{let{open:n,onOpenChange:r,overlayClassName:s,contentClassName:o,container:l,...c}=t;return k.createElement(z4,{open:n,onOpenChange:r},k.createElement($4,{container:l},k.createElement(H4,{"cmdk-overlay":"",className:s}),k.createElement(W4,{"aria-label":t.label,"cmdk-dialog":"",className:o},k.createElement(Q4,{ref:e,...c}))))}),dK=k.forwardRef((t,e)=>Ll(n=>n.filtered.count===0)?k.createElement(jt.div,{ref:e,...t,"cmdk-empty":"",role:"presentation"}):null),hK=k.forwardRef((t,e)=>{let{progress:n,children:r,label:s="Loading...",...o}=t;return k.createElement(jt.div,{ref:e,...o,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":s},sv(t,l=>k.createElement("div",{"aria-hidden":!0},l)))}),wm=Object.assign(Q4,{List:uK,Item:oK,Input:cK,Group:aK,Separator:lK,Dialog:fK,Empty:dK,Loading:hK});function pK(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return n;n=n.nextElementSibling}}function mK(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return n;n=n.previousElementSibling}}function G4(t){let e=k.useRef(t);return fu(()=>{e.current=t}),e}var fu=typeof window>"u"?k.useEffect:k.useLayoutEffect;function Vf(t){let e=k.useRef();return e.current===void 0&&(e.current=t()),e}function Ll(t){let e=qE(),n=()=>t(e.snapshot());return k.useSyncExternalStore(e.subscribe,n,n)}function J4(t,e,n,r=[]){let s=k.useRef(),o=vm();return fu(()=>{var l;let c=(()=>{var h;for(let p of n){if(typeof p=="string")return p.trim();if(typeof p=="object"&&"current"in p)return p.current?(h=p.current.textContent)==null?void 0:h.trim():s.current}})(),f=r.map(h=>h.trim());o.value(t,c,f),(l=e.current)==null||l.setAttribute(Uf,c),s.current=c}),s}var gK=()=>{let[t,e]=k.useState(),n=Vf(()=>new Map);return fu(()=>{n.current.forEach(r=>r()),n.current=new Map},[t]),(r,s)=>{n.current.set(r,s),e({})}};function bK(t){let e=t.type;return typeof e=="function"?e(t.props):"render"in e?e.render(t.props):t}function sv({asChild:t,children:e},n){return t&&k.isValidElement(e)?k.cloneElement(bK(e),{ref:e.ref},n(e.props.children)):n(e)}var xK={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function yK({className:t,...e}){return b.jsxDEV(wm,{"data-slot":"command",className:Wt("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",t),...e},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/command.tsx",lineNumber:19,columnNumber:5},this)}function vK({className:t,...e}){return b.jsxDEV("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[b.jsxDEV(jx,{className:"size-4 shrink-0 opacity-50"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/command.tsx",lineNumber:70,columnNumber:7},this),b.jsxDEV(wm.Input,{"data-slot":"command-input",className:Wt("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",t),...e},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/command.tsx",lineNumber:71,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/command.tsx",lineNumber:66,columnNumber:5},this)}function wK({...t}){return b.jsxDEV(wm.Empty,{"data-slot":"command-empty",className:"py-6 text-center text-sm",...t},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/command.tsx",lineNumber:103,columnNumber:5},this)}function _K({className:t,...e}){return b.jsxDEV(wm.Group,{"data-slot":"command-group",className:Wt("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-thin",t),...e},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/command.tsx",lineNumber:116,columnNumber:5},this)}function l2({className:t,...e}){return b.jsxDEV(wm.Item,{"data-slot":"command-item",className:Wt("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...e},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/command.tsx",lineNumber:145,columnNumber:5},this)}var iv="Popover",[eV,Kme]=Ra(iv,[Xy]),_m=Xy(),[NK,Yl]=eV(iv),tV=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:l=!1}=t,c=_m(e),f=k.useRef(null),[h,p]=k.useState(!1),[m,x]=su({prop:r,defaultProp:s??!1,onChange:o,caller:iv});return je.jsx(xU,{...c,children:je.jsx(NK,{scope:e,contentId:Ps(),triggerRef:f,open:m,onOpenChange:x,onOpenToggle:k.useCallback(()=>x(w=>!w),[x]),hasCustomAnchor:h,onCustomAnchorAdd:k.useCallback(()=>p(!0),[]),onCustomAnchorRemove:k.useCallback(()=>p(!1),[]),modal:l,children:n})})};tV.displayName=iv;var nV="PopoverAnchor",SK=k.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Yl(nV,n),o=_m(n),{onCustomAnchorAdd:l,onCustomAnchorRemove:c}=s;return k.useEffect(()=>(l(),()=>c()),[l,c]),je.jsx(IE,{...o,...r,ref:e})});SK.displayName=nV;var rV="PopoverTrigger",sV=k.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Yl(rV,n),o=_m(n),l=Zn(e,s.triggerRef),c=je.jsx(jt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":cV(s.open),...r,ref:l,onClick:Bt(t.onClick,s.onOpenToggle)});return s.hasCustomAnchor?c:je.jsx(IE,{asChild:!0,...o,children:c})});sV.displayName=rV;var XE="PopoverPortal",[EK,TK]=eV(XE,{forceMount:void 0}),iV=t=>{const{__scopePopover:e,forceMount:n,children:r,container:s}=t,o=Yl(XE,e);return je.jsx(EK,{scope:e,forceMount:n,children:je.jsx($l,{present:n||o.open,children:je.jsx(mm,{asChild:!0,container:s,children:r})})})};iV.displayName=XE;var bd="PopoverContent",oV=k.forwardRef((t,e)=>{const n=TK(bd,t.__scopePopover),{forceMount:r=n.forceMount,...s}=t,o=Yl(bd,t.__scopePopover);return je.jsx($l,{present:r||o.open,children:o.modal?je.jsx(CK,{...s,ref:e}):je.jsx(RK,{...s,ref:e})})});oV.displayName=bd;var AK=ru("PopoverContent.RemoveScroll"),CK=k.forwardRef((t,e)=>{const n=Yl(bd,t.__scopePopover),r=k.useRef(null),s=Zn(e,r),o=k.useRef(!1);return k.useEffect(()=>{const l=r.current;if(l)return OE(l)},[]),je.jsx(Ky,{as:AK,allowPinchZoom:!0,children:je.jsx(aV,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Bt(t.onCloseAutoFocus,l=>{var c;l.preventDefault(),o.current||(c=n.triggerRef.current)==null||c.focus()}),onPointerDownOutside:Bt(t.onPointerDownOutside,l=>{const c=l.detail.originalEvent,f=c.button===0&&c.ctrlKey===!0,h=c.button===2||f;o.current=h},{checkForDefaultPrevented:!1}),onFocusOutside:Bt(t.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1})})})}),RK=k.forwardRef((t,e)=>{const n=Yl(bd,t.__scopePopover),r=k.useRef(!1),s=k.useRef(!1);return je.jsx(aV,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var l,c;(l=t.onCloseAutoFocus)==null||l.call(t,o),o.defaultPrevented||(r.current||(c=n.triggerRef.current)==null||c.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var f,h;(f=t.onInteractOutside)==null||f.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const l=o.target;((h=n.triggerRef.current)==null?void 0:h.contains(l))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),aV=k.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEscapeKeyDown:c,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:p,...m}=t,x=Yl(bd,n),w=_m(n);return EE(),je.jsx($y,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:je.jsx(pm,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:p,onEscapeKeyDown:c,onPointerDownOutside:f,onFocusOutside:h,onDismiss:()=>x.onOpenChange(!1),children:je.jsx(yU,{"data-state":cV(x.open),role:"dialog",id:x.contentId,...w,...m,ref:e,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),lV="PopoverClose",kK=k.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Yl(lV,n);return je.jsx(jt.button,{type:"button",...r,ref:e,onClick:Bt(t.onClick,()=>s.onOpenChange(!1))})});kK.displayName=lV;var DK="PopoverArrow",PK=k.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=_m(n);return je.jsx(vU,{...s,...r,ref:e})});PK.displayName=DK;function cV(t){return t?"open":"closed"}var jK=tV,MK=sV,IK=iV,OK=oV;function UK({...t}){return b.jsxDEV(jK,{"data-slot":"popover",...t},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/popover.tsx",lineNumber:9,columnNumber:10},this)}function VK({...t}){return b.jsxDEV(MK,{"data-slot":"popover-trigger",...t},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/popover.tsx",lineNumber:15,columnNumber:10},this)}function FK({className:t,align:e="center",sideOffset:n=4,...r}){return b.jsxDEV(IK,{children:b.jsxDEV(OK,{"data-slot":"popover-content",align:e,sideOffset:n,className:Wt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",t),...r},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/popover.tsx",lineNumber:26,columnNumber:7},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/popover.tsx",lineNumber:25,columnNumber:5},this)}function c2({options:t,selected:e,onSelectedChange:n,placeholder:r="Select items...",className:s}){const[o,l]=k.useState(!1),c=m=>{e.includes(m)?n(e.filter(x=>x!==m)):n([...e,m])},f=m=>{n(e.filter(x=>x!==m))},h=()=>{n([])},p=t.filter(m=>e.includes(m.value));return b.jsxDEV(UK,{open:o,onOpenChange:l,children:[b.jsxDEV(VK,{asChild:!0,children:b.jsxDEV(Dt,{variant:"outline",role:"combobox","aria-expanded":o,className:Wt("w-full justify-between h-8 px-2 py-1 text-sm",s),children:[b.jsxDEV("div",{className:"flex items-center gap-1 flex-1 overflow-hidden",children:p.length===0?b.jsxDEV("span",{className:"text-muted-foreground",children:r},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/multi-select.tsx",lineNumber:71,columnNumber:15},this):b.jsxDEV("div",{className:"flex items-center gap-1 overflow-x-auto scrollbar-hide flex-1 min-w-0",children:b.jsxDEV("div",{className:"flex items-center gap-1 flex-nowrap",children:p.map(m=>b.jsxDEV(yn,{variant:"secondary",className:"flex-shrink-0 whitespace-nowrap px-1 py-0.5 text-xs",style:m.color?{backgroundColor:m.color+"20",borderColor:m.color,color:m.color}:void 0,children:[m.label,b.jsxDEV("button",{className:"ml-1 ring-offset-background rounded-full outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",onKeyDown:x=>{x.key==="Enter"&&f(m.value)},onMouseDown:x=>{x.preventDefault(),x.stopPropagation()},onClick:()=>f(m.value),children:b.jsxDEV(ii,{className:"h-2.5 w-2.5 text-muted-foreground hover:text-foreground"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/multi-select.tsx",lineNumber:100,columnNumber:25},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/multi-select.tsx",lineNumber:87,columnNumber:23},this)]},m.value,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/multi-select.tsx",lineNumber:76,columnNumber:21},this))},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/multi-select.tsx",lineNumber:74,columnNumber:17},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/multi-select.tsx",lineNumber:73,columnNumber:15},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/multi-select.tsx",lineNumber:69,columnNumber:11},this),b.jsxDEV(s$,{className:"h-4 w-4 shrink-0 opacity-50 ml-2"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/multi-select.tsx",lineNumber:108,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/multi-select.tsx",lineNumber:63,columnNumber:9},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/multi-select.tsx",lineNumber:62,columnNumber:7},this),b.jsxDEV(FK,{className:"w-full p-0",align:"start",children:b.jsxDEV(yK,{children:[b.jsxDEV(vK,{placeholder:"Search...",className:"h-8 text-sm"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/multi-select.tsx",lineNumber:113,columnNumber:11},this),b.jsxDEV(wK,{children:"No options found."},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/multi-select.tsx",lineNumber:114,columnNumber:11},this),b.jsxDEV(_K,{className:"max-h-64 overflow-auto",children:[t.map(m=>b.jsxDEV(l2,{value:m.value,onSelect:()=>c(m.value),className:"text-sm",children:[b.jsxDEV(dO,{className:Wt("mr-2 h-4 w-4",e.includes(m.value)?"opacity-100":"opacity-0")},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/multi-select.tsx",lineNumber:123,columnNumber:17},this),b.jsxDEV("div",{className:"flex items-center gap-2 flex-1",children:[m.color&&b.jsxDEV("div",{className:"w-3 h-3 rounded-full border border-border/50",style:{backgroundColor:m.color}},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/multi-select.tsx",lineNumber:131,columnNumber:21},this),b.jsxDEV("span",{children:m.label},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/multi-select.tsx",lineNumber:136,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/multi-select.tsx",lineNumber:129,columnNumber:17},this)]},m.value,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/multi-select.tsx",lineNumber:117,columnNumber:15},this)),e.length>0&&b.jsxDEV(l2,{onSelect:h,className:"justify-center text-center text-muted-foreground",children:"Clear all selections"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/multi-select.tsx",lineNumber:141,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/multi-select.tsx",lineNumber:115,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/multi-select.tsx",lineNumber:112,columnNumber:9},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/multi-select.tsx",lineNumber:111,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/multi-select.tsx",lineNumber:61,columnNumber:5},this)}function $x(t,e){if(!t)throw new Error(e||"loader assertion failed.")}const YE=!!(typeof process!="object"||String(process)!=="[object process]"||process.browser),u2=typeof process<"u"&&process.version&&/v([0-9]*)/.exec(process.version);u2&&parseFloat(u2[1]);const $b=globalThis,Tf=globalThis.process||{},BK=globalThis.navigator||{};function uV(t){var r,s;if(typeof window<"u"&&((r=window.process)==null?void 0:r.type)==="renderer"||typeof process<"u"&&((s=process.versions)!=null&&s.electron))return!0;const n=typeof navigator<"u"&&navigator.userAgent;return!!(n&&n.indexOf("Electron")>=0)}function xu(){return!(typeof process=="object"&&String(process)==="[object process]"&&!(process!=null&&process.browser))||uV()}function LK(t){return xu()?uV()?"Electron":(BK.userAgent||"").indexOf("Edge")>-1?"Edge":globalThis.chrome?"Chrome":globalThis.safari?"Safari":globalThis.mozInnerScreenX?"Firefox":"Unknown":"Node"}const fV="4.1.0";function zK(t){try{const e=window[t],n="__storage_test__";return e.setItem(n,n),e.removeItem(n),e}catch{return null}}class $K{constructor(e,n,r="sessionStorage"){this.storage=zK(r),this.id=e,this.config=n,this._loadConfiguration()}getConfiguration(){return this.config}setConfiguration(e){if(Object.assign(this.config,e),this.storage){const n=JSON.stringify(this.config);this.storage.setItem(this.id,n)}}_loadConfiguration(){let e={};if(this.storage){const n=this.storage.getItem(this.id);e=n?JSON.parse(n):{}}return Object.assign(this.config,e),this}}function HK(t){let e;return t<10?e=`${t.toFixed(2)}ms`:t<100?e=`${t.toFixed(1)}ms`:t<1e3?e=`${t.toFixed(0)}ms`:e=`${(t/1e3).toFixed(2)}s`,e}function WK(t,e=8){const n=Math.max(e-t.length,0);return`${" ".repeat(n)}${t}`}var Hx;(function(t){t[t.BLACK=30]="BLACK",t[t.RED=31]="RED",t[t.GREEN=32]="GREEN",t[t.YELLOW=33]="YELLOW",t[t.BLUE=34]="BLUE",t[t.MAGENTA=35]="MAGENTA",t[t.CYAN=36]="CYAN",t[t.WHITE=37]="WHITE",t[t.BRIGHT_BLACK=90]="BRIGHT_BLACK",t[t.BRIGHT_RED=91]="BRIGHT_RED",t[t.BRIGHT_GREEN=92]="BRIGHT_GREEN",t[t.BRIGHT_YELLOW=93]="BRIGHT_YELLOW",t[t.BRIGHT_BLUE=94]="BRIGHT_BLUE",t[t.BRIGHT_MAGENTA=95]="BRIGHT_MAGENTA",t[t.BRIGHT_CYAN=96]="BRIGHT_CYAN",t[t.BRIGHT_WHITE=97]="BRIGHT_WHITE"})(Hx||(Hx={}));const qK=10;function f2(t){return typeof t!="string"?t:(t=t.toUpperCase(),Hx[t]||Hx.WHITE)}function XK(t,e,n){return!xu&&typeof t=="string"&&(e&&(t=`\x1B[${f2(e)}m${t}\x1B[39m`),n&&(t=`\x1B[${f2(n)+qK}m${t}\x1B[49m`)),t}function YK(t,e=["constructor"]){const n=Object.getPrototypeOf(t),r=Object.getOwnPropertyNames(n),s=t;for(const o of r){const l=s[o];typeof l=="function"&&(e.find(c=>o===c)||(s[o]=l.bind(t)))}}function KE(t,e){if(!t)throw new Error("Assertion failed")}function Af(){var e,n,r;let t;if(xu()&&$b.performance)t=(n=(e=$b==null?void 0:$b.performance)==null?void 0:e.now)==null?void 0:n.call(e);else if("hrtime"in Tf){const s=(r=Tf==null?void 0:Tf.hrtime)==null?void 0:r.call(Tf);t=s[0]*1e3+s[1]/1e6}else t=Date.now();return t}const Cf={debug:xu()&&console.debug||console.log,log:console.log,info:console.info,warn:console.warn,error:console.error},KK={enabled:!0,level:0};function Rf(){}const d2={},h2={once:!0};class Nm{constructor({id:e}={id:""}){this.VERSION=fV,this._startTs=Af(),this._deltaTs=Af(),this.userData={},this.LOG_THROTTLE_TIMEOUT=0,this.id=e,this.userData={},this._storage=new $K(`__probe-${this.id}__`,KK),this.timeStamp(`${this.id} started`),YK(this),Object.seal(this)}set level(e){this.setLevel(e)}get level(){return this.getLevel()}isEnabled(){return this._storage.config.enabled}getLevel(){return this._storage.config.level}getTotal(){return Number((Af()-this._startTs).toPrecision(10))}getDelta(){return Number((Af()-this._deltaTs).toPrecision(10))}set priority(e){this.level=e}get priority(){return this.level}getPriority(){return this.level}enable(e=!0){return this._storage.setConfiguration({enabled:e}),this}setLevel(e){return this._storage.setConfiguration({level:e}),this}get(e){return this._storage.config[e]}set(e,n){this._storage.setConfiguration({[e]:n})}settings(){console.table?console.table(this._storage.config):console.log(this._storage.config)}assert(e,n){if(!e)throw new Error(n||"Assertion failed")}warn(e){return this._getLogFunction(0,e,Cf.warn,arguments,h2)}error(e){return this._getLogFunction(0,e,Cf.error,arguments)}deprecated(e,n){return this.warn(`\`${e}\` is deprecated and will be removed in a later version. Use \`${n}\` instead`)}removed(e,n){return this.error(`\`${e}\` has been removed. Use \`${n}\` instead`)}probe(e,n){return this._getLogFunction(e,n,Cf.log,arguments,{time:!0,once:!0})}log(e,n){return this._getLogFunction(e,n,Cf.debug,arguments)}info(e,n){return this._getLogFunction(e,n,console.info,arguments)}once(e,n){return this._getLogFunction(e,n,Cf.debug||Cf.info,arguments,h2)}table(e,n,r){return n?this._getLogFunction(e,n,console.table||Rf,r&&[r],{tag:QK(n)}):Rf}time(e,n){return this._getLogFunction(e,n,console.time?console.time:console.info)}timeEnd(e,n){return this._getLogFunction(e,n,console.timeEnd?console.timeEnd:console.info)}timeStamp(e,n){return this._getLogFunction(e,n,console.timeStamp||Rf)}group(e,n,r={collapsed:!1}){const s=p2({logLevel:e,message:n,opts:r}),{collapsed:o}=r;return s.method=(o?console.groupCollapsed:console.group)||console.info,this._getLogFunction(s)}groupCollapsed(e,n,r={}){return this.group(e,n,Object.assign({},r,{collapsed:!0}))}groupEnd(e){return this._getLogFunction(e,"",console.groupEnd||Rf)}withGroup(e,n,r){this.group(e,n)();try{r()}finally{this.groupEnd(e)()}}trace(){console.trace&&console.trace()}_shouldLog(e){return this.isEnabled()&&this.getLevel()>=dV(e)}_getLogFunction(e,n,r,s,o){if(this._shouldLog(e)){o=p2({logLevel:e,message:n,args:s,opts:o}),r=r||o.method,KE(r),o.total=this.getTotal(),o.delta=this.getDelta(),this._deltaTs=Af();const l=o.tag||o.message;if(o.once&&l)if(!d2[l])d2[l]=Af();else return Rf;return n=ZK(this.id,o.message,o),r.bind(console,n,...o.args)}return Rf}}Nm.VERSION=fV;function dV(t){if(!t)return 0;let e;switch(typeof t){case"number":e=t;break;case"object":e=t.logLevel||t.priority||0;break;default:return 0}return KE(Number.isFinite(e)&&e>=0),e}function p2(t){const{logLevel:e,message:n}=t;t.logLevel=dV(e);const r=t.args?Array.from(t.args):[];for(;r.length&&r.shift()!==n;);switch(typeof e){case"string":case"function":n!==void 0&&r.unshift(n),t.message=e;break;case"object":Object.assign(t,e);break}typeof t.message=="function"&&(t.message=t.message());const s=typeof t.message;return KE(s==="string"||s==="object"),Object.assign(t,{args:r},t.opts)}function ZK(t,e,n){if(typeof e=="string"){const r=n.time?WK(HK(n.total)):"";e=n.time?`${t}: ${r}  ${e}`:`${t}: ${e}`,e=XK(e,n.color,n.background)}return e}function QK(t){for(const e in t)for(const n in t[e])return n||"untitled";return"empty"}const x1="4.3.3",GK=x1[0]>="0"&&x1[0]<="9"?`v${x1}`:"";function JK(){const t=new Nm({id:"loaders.gl"});return globalThis.loaders=globalThis.loaders||{},globalThis.loaders.log=t,globalThis.loaders.version=GK,globalThis.probe=globalThis.probe||{},globalThis.probe.loaders=t,t}const eZ=JK();function tZ(t,e){return hV(t||{},e)}function hV(t,e,n=0){if(n>3)return e;const r={...t};for(const[s,o]of Object.entries(e))o&&typeof o=="object"&&!Array.isArray(o)?r[s]=hV(r[s]||{},e[s],n+1):r[s]=e[s];return r}const nZ="latest";function rZ(){var t;return(t=globalThis._loadersgl_)!=null&&t.version||(globalThis._loadersgl_=globalThis._loadersgl_||{},globalThis._loadersgl_.version="4.3.3"),globalThis._loadersgl_.version}const sZ=rZ();function zl(t,e){if(!t)throw new Error(e||"loaders.gl assertion failed.")}const Kc=typeof process!="object"||String(process)!=="[object process]"||process.browser,iZ=typeof window<"u"&&typeof window.orientation<"u",m2=typeof process<"u"&&process.version&&/v([0-9]*)/.exec(process.version);m2&&parseFloat(m2[1]);class oZ{constructor(e,n){H(this,"name");H(this,"workerThread");H(this,"isRunning",!0);H(this,"result");H(this,"_resolve",()=>{});H(this,"_reject",()=>{});this.name=e,this.workerThread=n,this.result=new Promise((r,s)=>{this._resolve=r,this._reject=s})}postMessage(e,n){this.workerThread.postMessage({source:"loaders.gl",type:e,payload:n})}done(e){zl(this.isRunning),this.isRunning=!1,this._resolve(e)}error(e){zl(this.isRunning),this.isRunning=!1,this._reject(e)}}class y1{terminate(){}}const v1=new Map;function aZ(t){zl(t.source&&!t.url||!t.source&&t.url);let e=v1.get(t.source||t.url);return e||(t.url&&(e=lZ(t.url),v1.set(t.url,e)),t.source&&(e=pV(t.source),v1.set(t.source,e))),zl(e),e}function lZ(t){if(!t.startsWith("http"))return t;const e=cZ(t);return pV(e)}function pV(t){const e=new Blob([t],{type:"application/javascript"});return URL.createObjectURL(e)}function cZ(t){return`try {
  importScripts('${t}');
} catch (error) {
  console.error(error);
  throw error;
}`}function mV(t,e=!0,n){const r=n||new Set;if(t){if(g2(t))r.add(t);else if(g2(t.buffer))r.add(t.buffer);else if(!ArrayBuffer.isView(t)){if(e&&typeof t=="object")for(const s in t)mV(t[s],e,r)}}return n===void 0?Array.from(r):[]}function g2(t){return t?t instanceof ArrayBuffer||typeof MessagePort<"u"&&t instanceof MessagePort||typeof ImageBitmap<"u"&&t instanceof ImageBitmap||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas:!1}const w1=()=>{};class iS{constructor(e){H(this,"name");H(this,"source");H(this,"url");H(this,"terminated",!1);H(this,"worker");H(this,"onMessage");H(this,"onError");H(this,"_loadableURL","");const{name:n,source:r,url:s}=e;zl(r||s),this.name=n,this.source=r,this.url=s,this.onMessage=w1,this.onError=o=>console.log(o),this.worker=Kc?this._createBrowserWorker():this._createNodeWorker()}static isSupported(){return typeof Worker<"u"&&Kc||typeof y1<"u"&&!Kc}destroy(){this.onMessage=w1,this.onError=w1,this.worker.terminate(),this.terminated=!0}get isRunning(){return!!this.onMessage}postMessage(e,n){n=n||mV(e),this.worker.postMessage(e,n)}_getErrorFromErrorEvent(e){let n="Failed to load ";return n+=`worker ${this.name} from ${this.url}. `,e.message&&(n+=`${e.message} in `),e.lineno&&(n+=`:${e.lineno}:${e.colno}`),new Error(n)}_createBrowserWorker(){this._loadableURL=aZ({source:this.source,url:this.url});const e=new Worker(this._loadableURL,{name:this.name});return e.onmessage=n=>{n.data?this.onMessage(n.data):this.onError(new Error("No data received"))},e.onerror=n=>{this.onError(this._getErrorFromErrorEvent(n)),this.terminated=!0},e.onmessageerror=n=>console.error(n),e}_createNodeWorker(){let e;if(this.url){const r=this.url.includes(":/")||this.url.startsWith("/")?this.url:`./${this.url}`;e=new y1(r,{eval:!1})}else if(this.source)e=new y1(this.source,{eval:!0});else throw new Error("no worker");return e.on("message",n=>{this.onMessage(n)}),e.on("error",n=>{this.onError(n)}),e.on("exit",n=>{}),e}}class uZ{constructor(e){H(this,"name","unnamed");H(this,"source");H(this,"url");H(this,"maxConcurrency",1);H(this,"maxMobileConcurrency",1);H(this,"onDebug",()=>{});H(this,"reuseWorkers",!0);H(this,"props",{});H(this,"jobQueue",[]);H(this,"idleQueue",[]);H(this,"count",0);H(this,"isDestroyed",!1);this.source=e.source,this.url=e.url,this.setProps(e)}static isSupported(){return iS.isSupported()}destroy(){this.idleQueue.forEach(e=>e.destroy()),this.isDestroyed=!0}setProps(e){this.props={...this.props,...e},e.name!==void 0&&(this.name=e.name),e.maxConcurrency!==void 0&&(this.maxConcurrency=e.maxConcurrency),e.maxMobileConcurrency!==void 0&&(this.maxMobileConcurrency=e.maxMobileConcurrency),e.reuseWorkers!==void 0&&(this.reuseWorkers=e.reuseWorkers),e.onDebug!==void 0&&(this.onDebug=e.onDebug)}async startJob(e,n=(s,o,l)=>s.done(l),r=(s,o)=>s.error(o)){const s=new Promise(o=>(this.jobQueue.push({name:e,onMessage:n,onError:r,onStart:o}),this));return this._startQueuedJob(),await s}async _startQueuedJob(){if(!this.jobQueue.length)return;const e=this._getAvailableWorker();if(!e)return;const n=this.jobQueue.shift();if(n){this.onDebug({message:"Starting job",name:n.name,workerThread:e,backlog:this.jobQueue.length});const r=new oZ(n.name,e);e.onMessage=s=>n.onMessage(r,s.type,s.payload),e.onError=s=>n.onError(r,s),n.onStart(r);try{await r.result}catch(s){console.error(`Worker exception: ${s}`)}finally{this.returnWorkerToQueue(e)}}}returnWorkerToQueue(e){!Kc||this.isDestroyed||!this.reuseWorkers||this.count>this._getMaxConcurrency()?(e.destroy(),this.count--):this.idleQueue.push(e),this.isDestroyed||this._startQueuedJob()}_getAvailableWorker(){if(this.idleQueue.length>0)return this.idleQueue.shift()||null;if(this.count<this._getMaxConcurrency()){this.count++;const e=`${this.name.toLowerCase()} (#${this.count} of ${this.maxConcurrency})`;return new iS({name:e,source:this.source,url:this.url})}return null}_getMaxConcurrency(){return iZ?this.maxMobileConcurrency:this.maxConcurrency}}const fZ={maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:!0,onDebug:()=>{}},bl=class bl{constructor(e){H(this,"props");H(this,"workerPools",new Map);this.props={...fZ},this.setProps(e),this.workerPools=new Map}static isSupported(){return iS.isSupported()}static getWorkerFarm(e={}){return bl._workerFarm=bl._workerFarm||new bl({}),bl._workerFarm.setProps(e),bl._workerFarm}destroy(){for(const e of this.workerPools.values())e.destroy();this.workerPools=new Map}setProps(e){this.props={...this.props,...e};for(const n of this.workerPools.values())n.setProps(this._getWorkerPoolProps())}getWorkerPool(e){const{name:n,source:r,url:s}=e;let o=this.workerPools.get(n);return o||(o=new uZ({name:n,source:r,url:s}),o.setProps(this._getWorkerPoolProps()),this.workerPools.set(n,o)),o}_getWorkerPoolProps(){return{maxConcurrency:this.props.maxConcurrency,maxMobileConcurrency:this.props.maxMobileConcurrency,reuseWorkers:this.props.reuseWorkers,onDebug:this.props.onDebug}}};H(bl,"_workerFarm");let Wx=bl;function dZ(t,e={}){const n=e[t.id]||{},r=Kc?`${t.id}-worker.js`:`${t.id}-worker-node.js`;let s=n.workerUrl;if(!s&&t.id==="compression"&&(s=e.workerUrl),e._workerType==="test"&&(Kc?s=`modules/${t.module}/dist/${r}`:s=`modules/${t.module}/src/workers/${t.id}-worker-node.ts`),!s){let o=t.version;o==="latest"&&(o=nZ);const l=o?`@${o}`:"";s=`https://unpkg.com/@loaders.gl/${t.module}${l}/dist/${r}`}return zl(s),s}function hZ(t,e=sZ){zl(t,"no worker provided");const n=t.version;return!(!e||!n)}function pZ(t,e){return!Wx.isSupported()||!Kc&&!(e!=null&&e._nodeWorkers)?!1:t.worker&&(e==null?void 0:e.worker)}async function mZ(t,e,n,r,s){const o=t.id,l=dZ(t,n),f=Wx.getWorkerFarm(n).getWorkerPool({name:o,url:l});n=JSON.parse(JSON.stringify(n)),r=JSON.parse(JSON.stringify(r||{}));const h=await f.startJob("process-on-worker",gZ.bind(null,s));return h.postMessage("process",{input:e,options:n,context:r}),await(await h.result).result}async function gZ(t,e,n,r){switch(n){case"done":e.done(r);break;case"error":e.error(new Error(r.error));break;case"process":const{id:s,input:o,options:l}=r;try{const c=await t(o,l);e.postMessage("done",{id:s,result:c})}catch(c){const f=c instanceof Error?c.message:"unknown error";e.postMessage("error",{id:s,error:f})}break;default:console.warn(`parse-with-worker unknown message ${n}`)}}function bZ(t,e,n){if(n=n||t.byteLength,t.byteLength<n||e.byteLength<n)return!1;const r=new Uint8Array(t),s=new Uint8Array(e);for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0}function xZ(...t){return yZ(t)}function yZ(t){const e=t.map(o=>o instanceof ArrayBuffer?new Uint8Array(o):o),n=e.reduce((o,l)=>o+l.byteLength,0),r=new Uint8Array(n);let s=0;for(const o of e)r.set(o,s),s+=o.byteLength;return r.buffer}async function vZ(t){const e=[];for await(const n of t)e.push(n);return xZ(...e)}function b2(){let t;if(typeof window<"u"&&window.performance)t=window.performance.now();else if(typeof process<"u"&&process.hrtime){const e=process.hrtime();t=e[0]*1e3+e[1]/1e6}else t=Date.now();return t}class x2{constructor(e,n){this.sampleSize=1,this.time=0,this.count=0,this.samples=0,this.lastTiming=0,this.lastSampleTime=0,this.lastSampleCount=0,this._count=0,this._time=0,this._samples=0,this._startTime=0,this._timerPending=!1,this.name=e,this.type=n,this.reset()}reset(){return this.time=0,this.count=0,this.samples=0,this.lastTiming=0,this.lastSampleTime=0,this.lastSampleCount=0,this._count=0,this._time=0,this._samples=0,this._startTime=0,this._timerPending=!1,this}setSampleSize(e){return this.sampleSize=e,this}incrementCount(){return this.addCount(1),this}decrementCount(){return this.subtractCount(1),this}addCount(e){return this._count+=e,this._samples++,this._checkSampling(),this}subtractCount(e){return this._count-=e,this._samples++,this._checkSampling(),this}addTime(e){return this._time+=e,this.lastTiming=e,this._samples++,this._checkSampling(),this}timeStart(){return this._startTime=b2(),this._timerPending=!0,this}timeEnd(){return this._timerPending?(this.addTime(b2()-this._startTime),this._timerPending=!1,this._checkSampling(),this):this}getSampleAverageCount(){return this.sampleSize>0?this.lastSampleCount/this.sampleSize:0}getSampleAverageTime(){return this.sampleSize>0?this.lastSampleTime/this.sampleSize:0}getSampleHz(){return this.lastSampleTime>0?this.sampleSize/(this.lastSampleTime/1e3):0}getAverageCount(){return this.samples>0?this.count/this.samples:0}getAverageTime(){return this.samples>0?this.time/this.samples:0}getHz(){return this.time>0?this.samples/(this.time/1e3):0}_checkSampling(){this._samples===this.sampleSize&&(this.lastSampleTime=this._time,this.lastSampleCount=this._count,this.count+=this._count,this.time+=this._time,this.samples+=this._samples,this._time=0,this._count=0,this._samples=0)}}class ov{constructor(e){this.stats={},this.id=e.id,this.stats={},this._initializeStats(e.stats),Object.seal(this)}get(e,n="count"){return this._getOrCreate({name:e,type:n})}get size(){return Object.keys(this.stats).length}reset(){for(const e of Object.values(this.stats))e.reset();return this}forEach(e){for(const n of Object.values(this.stats))e(n)}getTable(){const e={};return this.forEach(n=>{e[n.name]={time:n.time||0,count:n.count||0,average:n.getAverageTime()||0,hz:n.getHz()||0}}),e}_initializeStats(e=[]){e.forEach(n=>this._getOrCreate(n))}_getOrCreate(e){const{name:n,type:r}=e;let s=this.stats[n];return s||(e instanceof x2?s=e:s=new x2(n,r),this.stats[n]=s),s}}let wZ="";const y2={};function _Z(t){for(const e in y2)if(t.startsWith(e)){const n=y2[e];t=t.replace(e,n)}return!t.startsWith("http://")&&!t.startsWith("https://")&&(t=`${wZ}${t}`),t}function NZ(t){return t&&typeof t=="object"&&t.isBuffer}function gV(t){if(NZ(t))return t;if(t instanceof ArrayBuffer)return t;if(ArrayBuffer.isView(t))return t.byteOffset===0&&t.byteLength===t.buffer.byteLength?t.buffer:t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength);if(typeof t=="string"){const e=t;return new TextEncoder().encode(e).buffer}if(t&&typeof t=="object"&&t._toArrayBuffer)return t._toArrayBuffer();throw new Error("toArrayBuffer")}function bV(t){const e=t?t.lastIndexOf("/"):-1;return e>=0?t.substr(e+1):""}function SZ(t){const e=t?t.lastIndexOf("/"):-1;return e>=0?t.substr(0,e):""}const EZ=t=>typeof t=="boolean",Op=t=>typeof t=="function",Sm=t=>t!==null&&typeof t=="object",v2=t=>Sm(t)&&t.constructor==={}.constructor,TZ=t=>!!t&&typeof t[Symbol.iterator]=="function",AZ=t=>t&&typeof t[Symbol.asyncIterator]=="function",yu=t=>typeof Response<"u"&&t instanceof Response||t&&t.arrayBuffer&&t.text&&t.json,vu=t=>typeof Blob<"u"&&t instanceof Blob,CZ=t=>t&&typeof t=="object"&&t.isBuffer,RZ=t=>typeof ReadableStream<"u"&&t instanceof ReadableStream||Sm(t)&&Op(t.tee)&&Op(t.cancel)&&Op(t.getReader),kZ=t=>Sm(t)&&Op(t.read)&&Op(t.pipe)&&EZ(t.readable),xV=t=>RZ(t)||kZ(t);class DZ extends Error{constructor(n,r){super(n);H(this,"reason");H(this,"url");H(this,"response");this.reason=r.reason,this.url=r.url,this.response=r.response}}const PZ=/^data:([-\w.]+\/[-\w.+]+)(;|,)/,jZ=/^([-\w.]+\/[-\w.+]+)/;function w2(t,e){return t.toLowerCase()===e.toLowerCase()}function MZ(t){const e=jZ.exec(t);return e?e[1]:t}function _2(t){const e=PZ.exec(t);return e?e[1]:""}const yV=/\?.*/;function IZ(t){const e=t.match(yV);return e&&e[0]}function ZE(t){return t.replace(yV,"")}function OZ(t){if(t.length<50)return t;const e=t.slice(t.length-15);return`${t.substr(0,32)}...${e}`}function av(t){return yu(t)?t.url:vu(t)?t.name||"":typeof t=="string"?t:""}function QE(t){if(yu(t)){const e=t,n=e.headers.get("content-type")||"",r=ZE(e.url);return MZ(n)||_2(r)}return vu(t)?t.type||"":typeof t=="string"?_2(t):""}function UZ(t){return yu(t)?t.headers["content-length"]||-1:vu(t)?t.size:typeof t=="string"?t.length:t instanceof ArrayBuffer||ArrayBuffer.isView(t)?t.byteLength:-1}async function vV(t){if(yu(t))return t;const e={},n=UZ(t);n>=0&&(e["content-length"]=String(n));const r=av(t),s=QE(t);s&&(e["content-type"]=s);const o=await BZ(t);o&&(e["x-first-bytes"]=o),typeof t=="string"&&(t=new TextEncoder().encode(t));const l=new Response(t,{headers:e});return Object.defineProperty(l,"url",{value:r}),l}async function VZ(t){if(!t.ok)throw await FZ(t)}async function FZ(t){const e=OZ(t.url);let n=`Failed to fetch resource (${t.status}) ${t.statusText}: ${e}`;n=n.length>100?`${n.slice(0,100)}...`:n;const r={reason:t.statusText,url:t.url,response:t};try{const s=t.headers.get("Content-Type");r.reason=!t.bodyUsed&&(s!=null&&s.includes("application/json"))?await t.json():await t.text()}catch{}return new DZ(n,r)}async function BZ(t){if(typeof t=="string")return`data:,${t.slice(0,5)}`;if(t instanceof Blob){const n=t.slice(0,5);return await new Promise(r=>{const s=new FileReader;s.onload=o=>{var l;return r((l=o==null?void 0:o.target)==null?void 0:l.result)},s.readAsDataURL(n)})}if(t instanceof ArrayBuffer){const n=t.slice(0,5);return`data:base64,${LZ(n)}`}return null}function LZ(t){let e="";const n=new Uint8Array(t);for(let r=0;r<n.byteLength;r++)e+=String.fromCharCode(n[r]);return btoa(e)}function zZ(t){return!$Z(t)&&!HZ(t)}function $Z(t){return t.startsWith("http:")||t.startsWith("https:")}function HZ(t){return t.startsWith("data:")}async function N2(t,e){var n,r;if(typeof t=="string"){const s=_Z(t);return zZ(s)&&(n=globalThis.loaders)!=null&&n.fetchNode?(r=globalThis.loaders)==null?void 0:r.fetchNode(s,e):await fetch(s,e)}return await vV(t)}const S2=new Nm({id:"loaders.gl"});class WZ{log(){return()=>{}}info(){return()=>{}}warn(){return()=>{}}error(){return()=>{}}}class qZ{constructor(){H(this,"console");this.console=console}log(...e){return this.console.log.bind(this.console,...e)}info(...e){return this.console.info.bind(this.console,...e)}warn(...e){return this.console.warn.bind(this.console,...e)}error(...e){return this.console.error.bind(this.console,...e)}}const wV={fetch:null,mimeType:void 0,nothrow:!1,log:new qZ,useLocalLibraries:!1,CDN:"https://unpkg.com/@loaders.gl",worker:!0,maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:YE,_nodeWorkers:!1,_workerType:"",limit:0,_limitMB:0,batchSize:"auto",batchDebounceMs:0,metadata:!1,transforms:[]},XZ={throws:"nothrow",dataType:"(no longer used)",uri:"baseUri",method:"fetch.method",headers:"fetch.headers",body:"fetch.body",mode:"fetch.mode",credentials:"fetch.credentials",cache:"fetch.cache",redirect:"fetch.redirect",referrer:"fetch.referrer",referrerPolicy:"fetch.referrerPolicy",integrity:"fetch.integrity",keepalive:"fetch.keepalive",signal:"fetch.signal"};function _V(){globalThis.loaders=globalThis.loaders||{};const{loaders:t}=globalThis;return t._state||(t._state={}),t._state}function NV(){const t=_V();return t.globalOptions=t.globalOptions||{...wV},t.globalOptions}function YZ(t,e,n,r){return n=n||[],n=Array.isArray(n)?n:[n],KZ(t,n),QZ(e,t,r)}function KZ(t,e){E2(t,null,wV,XZ,e);for(const n of e){const r=t&&t[n.id]||{},s=n.options&&n.options[n.id]||{},o=n.deprecatedOptions&&n.deprecatedOptions[n.id]||{};E2(r,n.id,s,o,e)}}function E2(t,e,n,r,s){const o=e||"Top level",l=e?`${e}.`:"";for(const c in t){const f=!e&&Sm(t[c]),h=c==="baseUri"&&!e,p=c==="workerUrl"&&e;if(!(c in n)&&!h&&!p){if(c in r)S2.warn(`${o} loader option '${l}${c}' no longer supported, use '${r[c]}'`)();else if(!f){const m=ZZ(c,s);S2.warn(`${o} loader option '${l}${c}' not recognized. ${m}`)()}}}}function ZZ(t,e){const n=t.toLowerCase();let r="";for(const s of e)for(const o in s.options){if(t===o)return`Did you mean '${s.id}.${o}'?`;const l=o.toLowerCase();(n.startsWith(l)||l.startsWith(n))&&(r=r||`Did you mean '${s.id}.${o}'?`)}return r}function QZ(t,e,n){const s={...t.options||{}};return GZ(s,n),s.log===null&&(s.log=new WZ),T2(s,NV()),T2(s,e),s}function T2(t,e){for(const n in e)if(n in e){const r=e[n];v2(r)&&v2(t[n])?t[n]={...t[n],...e[n]}:t[n]=e[n]}}function GZ(t,e){e&&!("baseUri"in t)&&(t.baseUri=e)}function GE(t){return t?(Array.isArray(t)&&(t=t[0]),Array.isArray(t==null?void 0:t.extensions)):!1}function JE(t){$x(t,"null loader"),$x(GE(t),"invalid loader");let e;return Array.isArray(t)&&(e=t[1],t=t[0],t={...t,options:{...t.options,...e}}),(t!=null&&t.parseTextSync||t!=null&&t.parseText)&&(t.text=!0),t.text||(t.binary=!0),t}const SV=()=>{const t=_V();return t.loaderRegistry=t.loaderRegistry||[],t.loaderRegistry};function JZ(t){const e=SV();t=Array.isArray(t)?t:[t];for(const n of t){const r=JE(n);e.find(s=>r===s)||e.unshift(r)}}function eQ(){return SV()}const tQ=/\.([^.]+)$/;async function nQ(t,e=[],n,r){if(!EV(t))return null;let s=A2(t,e,{...n,nothrow:!0},r);if(s)return s;if(vu(t)&&(t=await t.slice(0,10).arrayBuffer(),s=A2(t,e,n,r)),!s&&!(n!=null&&n.nothrow))throw new Error(TV(t));return s}function A2(t,e=[],n,r){if(!EV(t))return null;if(e&&!Array.isArray(e))return JE(e);let s=[];e&&(s=s.concat(e)),n!=null&&n.ignoreRegisteredLoaders||s.push(...eQ()),sQ(s);const o=rQ(t,s,n,r);if(!o&&!(n!=null&&n.nothrow))throw new Error(TV(t));return o}function rQ(t,e,n,r){const s=av(t),o=QE(t),l=ZE(s)||(r==null?void 0:r.url);let c=null,f="";return n!=null&&n.mimeType&&(c=_1(e,n==null?void 0:n.mimeType),f=`match forced by supplied MIME type ${n==null?void 0:n.mimeType}`),c=c||iQ(e,l),f=f||(c?`matched url ${l}`:""),c=c||_1(e,o),f=f||(c?`matched MIME type ${o}`:""),c=c||aQ(e,t),f=f||(c?`matched initial data ${AV(t)}`:""),n!=null&&n.fallbackMimeType&&(c=c||_1(e,n==null?void 0:n.fallbackMimeType),f=f||(c?`matched fallback MIME type ${o}`:"")),f&&eZ.log(1,`selectLoader selected ${c==null?void 0:c.name}: ${f}.`),c}function EV(t){return!(t instanceof Response&&t.status===204)}function TV(t){const e=av(t),n=QE(t);let r="No valid loader found (";r+=e?`${bV(e)}, `:"no url provided, ",r+=`MIME type: ${n?`"${n}"`:"not provided"}, `;const s=t?AV(t):"";return r+=s?` first bytes: "${s}"`:"first bytes: not available",r+=")",r}function sQ(t){for(const e of t)JE(e)}function iQ(t,e){const n=e&&tQ.exec(e),r=n&&n[1];return r?oQ(t,r):null}function oQ(t,e){e=e.toLowerCase();for(const n of t)for(const r of n.extensions)if(r.toLowerCase()===e)return n;return null}function _1(t,e){var n;for(const r of t)if((n=r.mimeTypes)!=null&&n.some(s=>w2(e,s))||w2(e,`application/x.${r.id}`))return r;return null}function aQ(t,e){if(!e)return null;for(const n of t)if(typeof e=="string"){if(lQ(e,n))return n}else if(ArrayBuffer.isView(e)){if(C2(e.buffer,e.byteOffset,n))return n}else if(e instanceof ArrayBuffer&&C2(e,0,n))return n;return null}function lQ(t,e){return e.testText?e.testText(t):(Array.isArray(e.tests)?e.tests:[e.tests]).some(r=>t.startsWith(r))}function C2(t,e,n){return(Array.isArray(n.tests)?n.tests:[n.tests]).some(s=>cQ(t,e,n,s))}function cQ(t,e,n,r){if(r instanceof ArrayBuffer)return bZ(r,t,r.byteLength);switch(typeof r){case"function":return r(t);case"string":const s=oS(t,e,r.length);return r===s;default:return!1}}function AV(t,e=5){return typeof t=="string"?t.slice(0,e):ArrayBuffer.isView(t)?oS(t.buffer,t.byteOffset,e):t instanceof ArrayBuffer?oS(t,0,e):""}function oS(t,e,n){if(t.byteLength<e+n)return"";const r=new DataView(t);let s="";for(let o=0;o<n;o++)s+=String.fromCharCode(r.getUint8(e+o));return s}const uQ=256*1024;function*fQ(t,e){const n=(e==null?void 0:e.chunkSize)||uQ;let r=0;const s=new TextEncoder;for(;r<t.length;){const o=Math.min(t.length-r,n),l=t.slice(r,r+o);r+=o,yield s.encode(l)}}const dQ=256*1024;function*hQ(t,e={}){const{chunkSize:n=dQ}=e;let r=0;for(;r<t.byteLength;){const s=Math.min(t.byteLength-r,n),o=new ArrayBuffer(s),l=new Uint8Array(t,r,s);new Uint8Array(o).set(l),r+=s,yield o}}const pQ=1024*1024;async function*mQ(t,e){const n=(e==null?void 0:e.chunkSize)||pQ;let r=0;for(;r<t.size;){const s=r+n,o=await t.slice(r,s).arrayBuffer();r=s,yield o}}function R2(t,e){return YE?gQ(t,e):bQ(t)}async function*gQ(t,e){const n=t.getReader();let r;try{for(;;){const s=r||n.read();e!=null&&e._streamReadAhead&&(r=n.read());const{done:o,value:l}=await s;if(o)return;yield gV(l)}}catch{n.releaseLock()}}async function*bQ(t,e){for await(const n of t)yield gV(n)}function xQ(t,e){if(typeof t=="string")return fQ(t,e);if(t instanceof ArrayBuffer)return hQ(t,e);if(vu(t))return mQ(t,e);if(xV(t))return R2(t,e);if(yu(t))return R2(t.body,e);throw new Error("makeIterator")}const CV="Cannot convert supplied data type";function yQ(t,e,n){if(e.text&&typeof t=="string")return t;if(CZ(t)&&(t=t.buffer),t instanceof ArrayBuffer){const r=t;return e.text&&!e.binary?new TextDecoder("utf8").decode(r):r}if(ArrayBuffer.isView(t)){if(e.text&&!e.binary)return new TextDecoder("utf8").decode(t);let r=t.buffer;const s=t.byteLength||t.length;return(t.byteOffset!==0||s!==r.byteLength)&&(r=r.slice(t.byteOffset,t.byteOffset+s)),r}throw new Error(CV)}async function vQ(t,e,n){const r=t instanceof ArrayBuffer||ArrayBuffer.isView(t);if(typeof t=="string"||r)return yQ(t,e);if(vu(t)&&(t=await vV(t)),yu(t)){const s=t;return await VZ(s),e.binary?await s.arrayBuffer():await s.text()}if(xV(t)&&(t=xQ(t,n)),TZ(t)||AZ(t))return vZ(t);throw new Error(CV)}function RV(t,e){const n=NV(),r=t||n;return typeof r.fetch=="function"?r.fetch:Sm(r.fetch)?s=>N2(s,r.fetch):e!=null&&e.fetch?e==null?void 0:e.fetch:N2}function wQ(t,e,n){if(n)return n;const r={fetch:RV(e,t),...t};if(r.url){const s=ZE(r.url);r.baseUrl=s,r.queryString=IZ(r.url),r.filename=bV(s),r.baseUrl=SZ(s)}return Array.isArray(r.loaders)||(r.loaders=null),r}function _Q(t,e){if(t&&!Array.isArray(t))return t;let n;if(t&&(n=Array.isArray(t)?t:[t]),e&&e.loaders){const r=Array.isArray(e.loaders)?e.loaders:[e.loaders];n=n?[...n,...r]:r}return n&&n.length?n:void 0}async function qx(t,e,n,r){e&&!Array.isArray(e)&&!GE(e)&&(r=void 0,n=e,e=void 0),t=await t,n=n||{};const s=av(t),l=_Q(e,r),c=await nQ(t,l,n);return c?(n=YZ(n,c,l,s),r=wQ({url:s,_parse:qx,loaders:l},n,r||null),await NQ(c,t,n,r)):null}async function NQ(t,e,n,r){if(hZ(t),n=tZ(t.options,n),yu(e)){const o=e,{ok:l,redirected:c,status:f,statusText:h,type:p,url:m}=o,x=Object.fromEntries(o.headers.entries());r.response={headers:x,ok:l,redirected:c,status:f,statusText:h,type:p,url:m}}e=await vQ(e,t,n);const s=t;if(s.parseTextSync&&typeof e=="string")return s.parseTextSync(e,n,r);if(pZ(t,n))return await mZ(t,e,n,r,qx);if(s.parseText&&typeof e=="string")return await s.parseText(e,n,r);if(s.parse)return await s.parse(e,n,r);throw zl(!s.parseSync),new Error(`${t.id} loader - no parser found and worker is disabled`)}async function aS(t,e,n,r){let s,o;!Array.isArray(e)&&!GE(e)?(s=[],o=e):(s=e,o=n);const l=RV(o);let c=t;return typeof t=="string"&&(c=await l(t)),vu(t)&&(c=await l(t)),Array.isArray(s)?await qx(c,s,o):await qx(c,s,o)}const SQ="4.3.3";var vI;const EQ=(vI=globalThis.loaders)==null?void 0:vI.parseImageNode,lS=typeof Image<"u",cS=typeof ImageBitmap<"u",TQ=!!EQ,uS=YE?!0:TQ;function AQ(t){switch(t){case"auto":return cS||lS||uS;case"imagebitmap":return cS;case"image":return lS;case"data":return uS;default:throw new Error(`@loaders.gl/images: image ${t} not supported in this environment`)}}function CQ(){if(cS)return"imagebitmap";if(lS)return"image";if(uS)return"data";throw new Error("Install '@loaders.gl/polyfills' to parse images under Node.js")}function RQ(t){const e=DQ(t);if(!e)throw new Error("Not an image");return e}function kQ(t){switch(RQ(t)){case"data":return t;case"image":case"imagebitmap":const e=document.createElement("canvas"),n=e.getContext("2d");if(!n)throw new Error("getImageData");return e.width=t.width,e.height=t.height,n.drawImage(t,0,0),n.getImageData(0,0,t.width,t.height);default:throw new Error("getImageData")}}function DQ(t){return typeof ImageBitmap<"u"&&t instanceof ImageBitmap?"imagebitmap":typeof Image<"u"&&t instanceof Image?"image":t&&typeof t=="object"&&t.data&&t.width&&t.height?"data":null}const PQ=/^data:image\/svg\+xml/,jQ=/\.svg((\?|#).*)?$/;function eT(t){return t&&(PQ.test(t)||jQ.test(t))}function MQ(t,e){if(eT(e)){let r=new TextDecoder().decode(t);try{typeof unescape=="function"&&typeof encodeURIComponent=="function"&&(r=unescape(encodeURIComponent(r)))}catch(o){throw new Error(o.message)}return`data:image/svg+xml;base64,${btoa(r)}`}return kV(t,e)}function kV(t,e){if(eT(e))throw new Error("SVG cannot be parsed directly to imagebitmap");return new Blob([new Uint8Array(t)])}async function DV(t,e,n){const r=MQ(t,n),s=self.URL||self.webkitURL,o=typeof r!="string"&&s.createObjectURL(r);try{return await IQ(o||r,e)}finally{o&&s.revokeObjectURL(o)}}async function IQ(t,e){const n=new Image;return n.src=t,e.image&&e.image.decode&&n.decode?(await n.decode(),n):await new Promise((r,s)=>{try{n.onload=()=>r(n),n.onerror=o=>{const l=o instanceof Error?o.message:"error";s(new Error(l))}}catch(o){s(o)}})}const OQ={};let k2=!0;async function UQ(t,e,n){let r;eT(n)?r=await DV(t,e,n):r=kV(t,n);const s=e&&e.imagebitmap;return await VQ(r,s)}async function VQ(t,e=null){if((FQ(e)||!k2)&&(e=null),e)try{return await createImageBitmap(t,e)}catch(n){console.warn(n),k2=!1}return await createImageBitmap(t)}function FQ(t){for(const e in t||OQ)return!1;return!0}function BQ(t){return!HQ(t,"ftyp",4)||(t[8]&96)===0?null:LQ(t)}function LQ(t){switch(zQ(t,8,12).replace("\0"," ").trim()){case"avif":case"avis":return{extension:"avif",mimeType:"image/avif"};default:return null}}function zQ(t,e,n){return String.fromCharCode(...t.slice(e,n))}function $Q(t){return[...t].map(e=>e.charCodeAt(0))}function HQ(t,e,n=0){const r=$Q(e);for(let s=0;s<r.length;++s)if(r[s]!==t[s+n])return!1;return!0}const Io=!1,Up=!0;function PV(t){const e=Em(t);return qQ(e)||KQ(e)||XQ(e)||YQ(e)||WQ(e)}function WQ(t){const e=new Uint8Array(t instanceof DataView?t.buffer:t),n=BQ(e);return n?{mimeType:n.mimeType,width:0,height:0}:null}function qQ(t){const e=Em(t);return e.byteLength>=24&&e.getUint32(0,Io)===2303741511?{mimeType:"image/png",width:e.getUint32(16,Io),height:e.getUint32(20,Io)}:null}function XQ(t){const e=Em(t);return e.byteLength>=10&&e.getUint32(0,Io)===1195984440?{mimeType:"image/gif",width:e.getUint16(6,Up),height:e.getUint16(8,Up)}:null}function YQ(t){const e=Em(t);return e.byteLength>=14&&e.getUint16(0,Io)===16973&&e.getUint32(2,Up)===e.byteLength?{mimeType:"image/bmp",width:e.getUint32(18,Up),height:e.getUint32(22,Up)}:null}function KQ(t){const e=Em(t);if(!(e.byteLength>=3&&e.getUint16(0,Io)===65496&&e.getUint8(2)===255))return null;const{tableMarkers:r,sofMarkers:s}=ZQ();let o=2;for(;o+9<e.byteLength;){const l=e.getUint16(o,Io);if(s.has(l))return{mimeType:"image/jpeg",height:e.getUint16(o+5,Io),width:e.getUint16(o+7,Io)};if(!r.has(l))return null;o+=2,o+=e.getUint16(o,Io)}return null}function ZQ(){const t=new Set([65499,65476,65484,65501,65534]);for(let n=65504;n<65520;++n)t.add(n);return{tableMarkers:t,sofMarkers:new Set([65472,65473,65474,65475,65477,65478,65479,65481,65482,65483,65485,65486,65487,65502])}}function Em(t){if(t instanceof DataView)return t;if(ArrayBuffer.isView(t))return new DataView(t.buffer);if(t instanceof ArrayBuffer)return new DataView(t);throw new Error("toDataView")}async function QQ(t,e){var s;const{mimeType:n}=PV(t)||{},r=(s=globalThis.loaders)==null?void 0:s.parseImageNode;return $x(r),await r(t,n)}async function GQ(t,e,n){e=e||{};const s=(e.image||{}).type||"auto",{url:o}=n||{},l=JQ(s);let c;switch(l){case"imagebitmap":c=await UQ(t,e,o);break;case"image":c=await DV(t,e,o);break;case"data":c=await QQ(t);break;default:$x(!1)}return s==="data"&&(c=kQ(c)),c}function JQ(t){switch(t){case"auto":case"data":return CQ();default:return AQ(t),t}}const eG=["png","jpg","jpeg","gif","webp","bmp","ico","svg","avif"],tG=["image/png","image/jpeg","image/gif","image/webp","image/avif","image/bmp","image/vnd.microsoft.icon","image/svg+xml"],nG={image:{type:"auto",decode:!0}},rG={dataType:null,batchType:null,id:"image",module:"images",name:"Images",version:SQ,mimeTypes:tG,extensions:eG,parse:GQ,tests:[t=>!!PV(new DataView(t))],options:nG},Hn=new Nm({id:"deck"}),al={attributeUpdateStart:-1,attributeManagerUpdateStart:-1,attributeUpdateMessages:[]},N1=1,hp=2,S1=3,E1=4,sG=2,iG=t=>({"layer.changeFlag":(e,n,r)=>{t.log(S1,`${e.id} ${n}: `,r[n])()},"layer.initialize":e=>{t.log(N1,`Initializing ${e}`)()},"layer.update":(e,n)=>{if(n){const r=e.getChangeFlags();t.log(hp,`Updating ${e} because: ${Object.keys(r).filter(s=>r[s]).join(", ")}`)()}else t.log(E1,`${e} does not need update`)()},"layer.matched":(e,n)=>{n&&t.log(E1,`Matched ${e}, state transfered`)()},"layer.finalize":e=>{t.log(N1,`Finalizing ${e}`)()},"compositeLayer.renderLayers":(e,n,r)=>{n?t.log(hp,`Composite layer rendered new subLayers ${e}`,r)():t.log(E1,`Composite layer reused subLayers ${e}`,r)()},"layerManager.setLayers":(e,n,r)=>{n&&t.log(hp,`Updating ${r.length} deck layers`)()},"layerManager.activateViewport":(e,n)=>{t.log(S1,"Viewport changed",n)()},"attributeManager.invalidate":(e,n,r)=>{t.log(N1,r?`invalidated attributes ${r} (${n}) for ${e.id}`:`invalidated all attributes for ${e.id}`)()},"attributeManager.updateStart":e=>{al.attributeUpdateMessages.length=0,al.attributeManagerUpdateStart=Date.now()},"attributeManager.updateEnd":(e,n)=>{const r=Math.round(Date.now()-al.attributeManagerUpdateStart);t.groupCollapsed(hp,`Updated attributes for ${n} instances in ${e.id} in ${r}ms`)();for(const s of al.attributeUpdateMessages)t.log(S1,s)();t.groupEnd(hp)()},"attribute.updateStart":e=>{al.attributeUpdateStart=Date.now()},"attribute.allocate":(e,n)=>{const r=`${e.id} allocated ${n}`;al.attributeUpdateMessages.push(r)},"attribute.updateEnd":(e,n)=>{const r=Math.round(Date.now()-al.attributeUpdateStart),s=`${e.id} updated ${n} in ${r}ms`;al.attributeUpdateMessages.push(s)},"deckRenderer.renderLayers":(e,n,r)=>{const{pass:s,redrawReason:o,stats:l}=r;for(const c of n){const{totalCount:f,visibleCount:h,compositeCount:p,pickableCount:m}=c,w=f-p-h;t.log(sG,`RENDER #${e.renderCount}   ${h} (of ${f} layers) to ${s} because ${o}   (${w} hidden, ${p} composite ${m} pickable)`)(),l&&l.get("Redraw Layers").add(h)}}});let Xx={};Xx=iG(Hn);function oG(t){Xx=t}function Rs(t,e,n,r){Hn.level>0&&Xx[t]&&Xx[t].call(null,e,n,r)}function aG(t){const e=t[0],n=t[t.length-1];return e==="{"&&n==="}"||e==="["&&n==="]"}const lG={dataType:null,batchType:null,id:"JSON",name:"JSON",module:"",version:"",options:{},extensions:["json","geojson"],mimeTypes:["application/json","application/geo+json"],testText:aG,parseTextSync:JSON.parse};function cG(){const t="9.1.12",e=globalThis.deck&&globalThis.deck.VERSION;if(e&&e!==t)throw new Error(`deck.gl - multiple versions detected: ${e} vs ${t}`);return e||(Hn.log(1,`deck.gl ${t}`)(),globalThis.deck={...globalThis.deck,VERSION:t,version:t,log:Hn,_registerLoggers:oG},JZ([lG,[rG,{imagebitmap:{premultiplyAlpha:"none"}}]])),t}const uG=cG();function tT(t,e){if(!t)throw new Error(e||"shadertools: assertion failed.")}const T1={number:{type:"number",validate(t,e){return Number.isFinite(t)&&typeof e=="object"&&(e.max===void 0||t<=e.max)&&(e.min===void 0||t>=e.min)}},array:{type:"array",validate(t,e){return Array.isArray(t)||ArrayBuffer.isView(t)}}};function fG(t){const e={};for(const[n,r]of Object.entries(t))e[n]=dG(r);return e}function dG(t){let e=D2(t);if(e!=="object")return{value:t,...T1[e],type:e};if(typeof t=="object")return t?t.type!==void 0?{...t,...T1[t.type],type:t.type}:t.value===void 0?{type:"object",value:t}:(e=D2(t.value),{...t,...T1[e],type:e}):{type:"object",value:null};throw new Error("props")}function D2(t){return Array.isArray(t)||ArrayBuffer.isView(t)?"array":typeof t}const hG=`#ifdef MODULE_LOGDEPTH
  logdepth_adjustPosition(gl_Position);
#endif
`,pG=`#ifdef MODULE_MATERIAL
  fragColor = material_filterColor(fragColor);
#endif

#ifdef MODULE_LIGHTING
  fragColor = lighting_filterColor(fragColor);
#endif

#ifdef MODULE_FOG
  fragColor = fog_filterColor(fragColor);
#endif

#ifdef MODULE_PICKING
  fragColor = picking_filterHighlightColor(fragColor);
  fragColor = picking_filterPickingColor(fragColor);
#endif

#ifdef MODULE_LOGDEPTH
  logdepth_setFragDepth();
#endif
`,mG={vertex:hG,fragment:pG},P2=/void\s+main\s*\([^)]*\)\s*\{\n?/,j2=/}\n?[^{}]*$/,A1=[],bx="__LUMA_INJECT_DECLARATIONS__";function gG(t){const e={vertex:{},fragment:{}};for(const n in t){let r=t[n];const s=bG(n);typeof r=="string"&&(r={order:0,injection:r}),e[s][n]=r}return e}function bG(t){const e=t.slice(0,2);switch(e){case"vs":return"vertex";case"fs":return"fragment";default:throw new Error(e)}}function Yx(t,e,n,r=!1){const s=e==="vertex";for(const o in n){const l=n[o];l.sort((f,h)=>f.order-h.order),A1.length=l.length;for(let f=0,h=l.length;f<h;++f)A1[f]=l[f].injection;const c=`${A1.join(`
`)}
`;switch(o){case"vs:#decl":s&&(t=t.replace(bx,c));break;case"vs:#main-start":s&&(t=t.replace(P2,f=>f+c));break;case"vs:#main-end":s&&(t=t.replace(j2,f=>c+f));break;case"fs:#decl":s||(t=t.replace(bx,c));break;case"fs:#main-start":s||(t=t.replace(P2,f=>f+c));break;case"fs:#main-end":s||(t=t.replace(j2,f=>c+f));break;default:t=t.replace(o,f=>f+c)}}return t=t.replace(bx,""),r&&(t=t.replace(/\}\s*$/,o=>o+mG[e])),t}function Kx(t){t.map(e=>xG(e))}function xG(t){if(t.instance)return;Kx(t.dependencies||[]);const{propTypes:e={},deprecations:n=[],inject:r={}}=t,s={normalizedInjections:gG(r),parsedDeprecations:yG(n)};e&&(s.propValidators=fG(e)),t.instance=s;let o={};e&&(o=Object.entries(e).reduce((l,[c,f])=>{const h=f==null?void 0:f.value;return h&&(l[c]=h),l},{})),t.defaultUniforms={...t.defaultUniforms,...o}}function jV(t,e,n){var r;(r=t.deprecations)==null||r.forEach(s=>{var o;(o=s.regex)!=null&&o.test(e)&&(s.deprecated?n.deprecated(s.old,s.new)():n.removed(s.old,s.new)())})}function yG(t){return t.forEach(e=>{switch(e.type){case"function":e.regex=new RegExp(`\\b${e.old}\\(`);break;default:e.regex=new RegExp(`${e.type} ${e.old};`)}}),t}function nT(t){Kx(t);const e={},n={};MV({modules:t,level:0,moduleMap:e,moduleDepth:n});const r=Object.keys(n).sort((s,o)=>n[o]-n[s]).map(s=>e[s]);return Kx(r),r}function MV(t){const{modules:e,level:n,moduleMap:r,moduleDepth:s}=t;if(n>=5)throw new Error("Possible loop in shader dependency graph");for(const o of e)r[o.name]=o,(s[o.name]===void 0||s[o.name]<n)&&(s[o.name]=n);for(const o of e)o.dependencies&&MV({modules:o.dependencies,level:n+1,moduleMap:r,moduleDepth:s})}function vG(t){switch(t==null?void 0:t.gpu.toLowerCase()){case"apple":return`#define APPLE_GPU
// Apple optimizes away the calculation necessary for emulated fp64
#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1
#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1
// Intel GPU doesn't have full 32 bits precision in same cases, causes overflow
#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1
`;case"nvidia":return`#define NVIDIA_GPU
// Nvidia optimizes away the calculation necessary for emulated fp64
#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1
`;case"intel":return`#define INTEL_GPU
// Intel optimizes away the calculation necessary for emulated fp64
#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1
// Intel's built-in 'tan' function doesn't have acceptable precision
#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1
// Intel GPU doesn't have full 32 bits precision in same cases, causes overflow
#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1
`;case"amd":return`#define AMD_GPU
`;default:return`#define DEFAULT_GPU
// Prevent driver from optimizing away the calculation necessary for emulated fp64
#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1
// Headless Chrome's software shader 'tan' function doesn't have acceptable precision
#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1
// If the GPU doesn't have full 32 bits precision, will causes overflow
#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1
`}}function wG(t,e){var r;if(Number(((r=t.match(/^#version[ \t]+(\d+)/m))==null?void 0:r[1])||100)!==300)throw new Error("luma.gl v9 only supports GLSL 3.00 shader sources");switch(e){case"vertex":return t=M2(t,_G),t;case"fragment":return t=M2(t,NG),t;default:throw new Error(e)}}const IV=[[/^(#version[ \t]+(100|300[ \t]+es))?[ \t]*\n/,`#version 300 es
`],[/\btexture(2D|2DProj|Cube)Lod(EXT)?\(/g,"textureLod("],[/\btexture(2D|2DProj|Cube)(EXT)?\(/g,"texture("]],_G=[...IV,[fS("attribute"),"in $1"],[fS("varying"),"out $1"]],NG=[...IV,[fS("varying"),"in $1"]];function M2(t,e){for(const[n,r]of e)t=t.replace(n,r);return t}function fS(t){return new RegExp(`\\b${t}[ \\t]+(\\w+[ \\t]+\\w+(\\[\\w+\\])?;)`,"g")}function OV(t,e){let n="";for(const r in t){const s=t[r];if(n+=`void ${s.signature} {
`,s.header&&(n+=`  ${s.header}`),e[r]){const o=e[r];o.sort((l,c)=>l.order-c.order);for(const l of o)n+=`  ${l.injection}
`}s.footer&&(n+=`  ${s.footer}`),n+=`}
`}return n}function UV(t){const e={vertex:{},fragment:{}};for(const n of t){let r,s;typeof n!="string"?(r=n,s=r.hook):(r={},s=n),s=s.trim();const[o,l]=s.split(":"),c=s.replace(/\(.+/,""),f=Object.assign(r,{signature:l});switch(o){case"vs":e.vertex[c]=f;break;case"fs":e.fragment[c]=f;break;default:throw new Error(o)}}return e}function SG(t,e){return{name:EG(t,e),language:"glsl",version:TG(t)}}function EG(t,e="unnamed"){const r=/#define[^\S\r\n]*SHADER_NAME[^\S\r\n]*([A-Za-z0-9_-]+)\s*/.exec(t);return r?r[1]:e}function TG(t){let e=100;const n=t.match(/[^\s]+/g);if(n&&n.length>=2&&n[0]==="#version"){const r=parseInt(n[1],10);Number.isFinite(r)&&(e=r)}if(e!==100&&e!==300)throw new Error(`Invalid GLSL version ${e}`);return e}const VV=`

${bx}
`,AG=`precision highp float;
`;function CG(t){const e=nT(t.modules||[]);return{source:kG(t.platformInfo,{...t,source:t.source,stage:"vertex",modules:e}),getUniforms:FV(e)}}function RG(t){const{vs:e,fs:n}=t,r=nT(t.modules||[]);return{vs:I2(t.platformInfo,{...t,source:e,stage:"vertex",modules:r}),fs:I2(t.platformInfo,{...t,source:n,stage:"fragment",modules:r}),getUniforms:FV(r)}}function kG(t,e){var T;const{source:n,stage:r,modules:s,hookFunctions:o=[],inject:l={},log:c}=e;tT(typeof n=="string","shader source must be a string");const f=n;let h="";const p=UV(o),m={},x={},w={};for(const C in l){const P=typeof l[C]=="string"?{injection:l[C],order:0}:l[C],j=/^(v|f)s:(#)?([\w-]+)$/.exec(C);if(j){const D=j[2],U=j[3];D?U==="decl"?x[C]=[P]:w[C]=[P]:m[C]=[P]}else w[C]=[P]}const E=s;for(const C of E){c&&jV(C,f,c);const P=BV(C,"wgsl");h+=P;const j=((T=C.injections)==null?void 0:T[r])||{};for(const D in j){const U=/^(v|f)s:#([\w-]+)$/.exec(D);if(U){const O=U[2]==="decl"?x:w;O[D]=O[D]||[],O[D].push(j[D])}else m[D]=m[D]||[],m[D].push(j[D])}}return h+=VV,h=Yx(h,r,x),h+=OV(p[r],m),h+=f,h=Yx(h,r,w),h}function I2(t,e){var Y;const{id:n,source:r,stage:s,language:o="glsl",modules:l,defines:c={},hookFunctions:f=[],inject:h={},prologue:p=!0,log:m}=e;tT(typeof r=="string","shader source must be a string");const x=o==="glsl"?SG(r).version:-1,w=t.shaderLanguageVersion,E=x===100?"#version 100":"#version 300 es",C=r.split(`
`).slice(1).join(`
`),P={};l.forEach(ne=>{Object.assign(P,ne.defines)}),Object.assign(P,c);let j="";switch(o){case"wgsl":break;case"glsl":j=p?`${E}

// ----- PROLOGUE -------------------------
${DG({id:n,source:r,stage:s})}
${`#define SHADER_TYPE_${s.toUpperCase()}`}

${vG(t)}
${s==="fragment"?AG:""}

// ----- APPLICATION DEFINES -------------------------

${PG(P)}

`:`${E}
`;break}const D=UV(f),U={},L={},O={};for(const ne in h){const Q=typeof h[ne]=="string"?{injection:h[ne],order:0}:h[ne],K=/^(v|f)s:(#)?([\w-]+)$/.exec(ne);if(K){const G=K[2],ue=K[3];G?ue==="decl"?L[ne]=[Q]:O[ne]=[Q]:U[ne]=[Q]}else O[ne]=[Q]}for(const ne of l){m&&jV(ne,C,m);const Q=BV(ne,s);j+=Q;const K=((Y=ne.instance)==null?void 0:Y.normalizedInjections[s])||{};for(const G in K){const ue=/^(v|f)s:#([\w-]+)$/.exec(G);if(ue){const le=ue[2]==="decl"?L:O;le[G]=le[G]||[],le[G].push(K[G])}else U[G]=U[G]||[],U[G].push(K[G])}}return j+="// ----- MAIN SHADER SOURCE -------------------------",j+=VV,j=Yx(j,s,L),j+=OV(D[s],U),j+=C,j=Yx(j,s,O),o==="glsl"&&x!==w&&(j=wG(j,s)),j.trim()}function FV(t){return function(n){var s;const r={};for(const o of t){const l=(s=o.getUniforms)==null?void 0:s.call(o,n,r);Object.assign(r,l)}return r}}function DG(t){const{id:e,source:n,stage:r}=t;return e&&n.indexOf("SHADER_NAME")===-1?`
#define SHADER_NAME ${e}_${r}`:""}function PG(t={}){let e="";for(const n in t){const r=t[n];(r||Number.isFinite(r))&&(e+=`#define ${n.toUpperCase()} ${t[n]}
`)}return e}function BV(t,e){let n;switch(e){case"vertex":n=t.vs||"";break;case"fragment":n=t.fs||"";break;case"wgsl":n=t.source||"";break;default:tT(!1)}if(!t.name)throw new Error("Shader module must have a name");const r=t.name.toUpperCase().replace(/[^0-9a-z]/gi,"_");let s=`// ----- MODULE ${t.name} ---------------

`;return e!=="wgsl"&&(s+=`#define MODULE_${r}
`),s+=`${n}
`,s}const jG=/^\s*\#\s*ifdef\s*([a-zA-Z_]+)\s*$/,MG=/^\s*\#\s*endif\s*$/;function IG(t,e){var l;const n=t.split(`
`),r=[];let s=!0,o=null;for(const c of n){const f=c.match(jG),h=c.match(MG);f?(o=f[1],s=!!((l=e==null?void 0:e.defines)!=null&&l[o])):h?s=!0:s&&r.push(c)}return r.join(`
`)}const Vc=class Vc{constructor(){H(this,"_hookFunctions",[]);H(this,"_defaultModules",[])}static getDefaultShaderAssembler(){return Vc.defaultShaderAssembler=Vc.defaultShaderAssembler||new Vc,Vc.defaultShaderAssembler}addDefaultModule(e){this._defaultModules.find(n=>n.name===(typeof e=="string"?e:e.name))||this._defaultModules.push(e)}removeDefaultModule(e){const n=typeof e=="string"?e:e.name;this._defaultModules=this._defaultModules.filter(r=>r.name!==n)}addShaderHook(e,n){n&&(e=Object.assign(n,{hook:e})),this._hookFunctions.push(e)}assembleWGSLShader(e){const n=this._getModuleList(e.modules),r=this._hookFunctions,{source:s,getUniforms:o}=CG({...e,source:e.source,modules:n,hookFunctions:r});return{source:e.platformInfo.shaderLanguage==="wgsl"?IG(s):s,getUniforms:o,modules:n}}assembleGLSLShaderPair(e){const n=this._getModuleList(e.modules),r=this._hookFunctions;return{...RG({...e,vs:e.vs,fs:e.fs,modules:n,hookFunctions:r}),modules:n}}_getModuleList(e=[]){const n=new Array(this._defaultModules.length+e.length),r={};let s=0;for(let o=0,l=this._defaultModules.length;o<l;++o){const c=this._defaultModules[o],f=c.name;n[s++]=c,r[f]=!0}for(let o=0,l=e.length;o<l;++o){const c=e[o],f=c.name;r[f]||(n[s++]=c,r[f]=!0)}return n.length=s,Kx(n),n}};H(Vc,"defaultShaderAssembler");let Zx=Vc;const OG=`out vec4 transform_output;
void main() {
  transform_output = vec4(0);
}`,UG=`#version 300 es
${OG}`;function VG(t){const{input:e,inputChannels:n,output:r}={};if(!e)return UG;if(!n)throw new Error("inputChannels");const s=FG(n),o=BG(e,n);return`#version 300 es
in ${s} ${e};
out vec4 ${r};
void main() {
  ${r} = ${o};
}`}function FG(t){switch(t){case 1:return"float";case 2:return"vec2";case 3:return"vec3";case 4:return"vec4";default:throw new Error(`invalid channels: ${t}`)}}function BG(t,e){switch(e){case 1:return`vec4(${t}, 0.0, 0.0, 1.0)`;case 2:return`vec4(${t}, 0.0, 1.0)`;case 3:return`vec4(${t}, 1.0)`;case 4:return t;default:throw new Error(`invalid channels: ${e}`)}}class LG{constructor(){H(this,"stats",new Map)}getStats(e){return this.get(e)}get(e){return this.stats.has(e)||this.stats.set(e,new ov({id:e})),this.stats.get(e)}}const LV=new LG,ot=new Nm({id:"luma.gl"}),C1={};function lv(t="id"){C1[t]=C1[t]||1;const e=C1[t]++;return`${t}-${e}`}var yN;let Vn=(yN=class{constructor(e,n,r){H(this,"id");H(this,"props");H(this,"userData",{});H(this,"_device");H(this,"destroyed",!1);H(this,"allocatedBytes",0);H(this,"_attachedResources",new Set);if(!e)throw new Error("no device");this._device=e,this.props=zG(n,r);const s=this.props.id!=="undefined"?this.props.id:lv(this[Symbol.toStringTag]);this.props.id=s,this.id=s,this.userData=this.props.userData||{},this.addStats()}toString(){return`${this[Symbol.toStringTag]||this.constructor.name}:"${this.id}"`}destroy(){this.destroyResource()}delete(){return this.destroy(),this}getProps(){return this.props}attachResource(e){this._attachedResources.add(e)}detachResource(e){this._attachedResources.delete(e)}destroyAttachedResource(e){this._attachedResources.delete(e)&&e.destroy()}destroyAttachedResources(){for(const e of Object.values(this._attachedResources))e.destroy();this._attachedResources=new Set}destroyResource(){this.destroyAttachedResources(),this.removeStats(),this.destroyed=!0}removeStats(){const e=this._device.statsManager.getStats("Resource Counts"),n=this[Symbol.toStringTag];e.get(`${n}s Active`).decrementCount()}trackAllocatedMemory(e,n=this[Symbol.toStringTag]){const r=this._device.statsManager.getStats("Resource Counts");r.get("GPU Memory").addCount(e),r.get(`${n} Memory`).addCount(e),this.allocatedBytes=e}trackDeallocatedMemory(e=this[Symbol.toStringTag]){const n=this._device.statsManager.getStats("Resource Counts");n.get("GPU Memory").subtractCount(this.allocatedBytes),n.get(`${e} Memory`).subtractCount(this.allocatedBytes),this.allocatedBytes=0}addStats(){const e=this._device.statsManager.getStats("Resource Counts"),n=this[Symbol.toStringTag];e.get("Resources Created").incrementCount(),e.get(`${n}s Created`).incrementCount(),e.get(`${n}s Active`).incrementCount()}},H(yN,"defaultProps",{id:"undefined",handle:void 0,userData:void 0}),yN);function zG(t,e){const n={...e};for(const r in t)t[r]!==void 0&&(n[r]=t[r]);return n}const es=class es extends Vn{constructor(n,r){const s={...r};(r.usage||0)&es.INDEX&&!r.indexType&&(r.data instanceof Uint32Array?s.indexType="uint32":r.data instanceof Uint16Array&&(s.indexType="uint16")),delete s.data;super(n,s,es.defaultProps);H(this,"usage");H(this,"indexType");H(this,"updateTimestamp");H(this,"debugData",new ArrayBuffer(0));this.usage=s.usage||0,this.indexType=s.indexType,this.updateTimestamp=n.incrementTimestamp()}get[Symbol.toStringTag](){return"Buffer"}clone(n){return this.device.createBuffer({...this.props,...n})}readSyncWebGL(n,r){throw new Error("not implemented")}_setDebugData(n,r,s){const o=ArrayBuffer.isView(n)?n.buffer:n,l=Math.min(n?n.byteLength:s,es.DEBUG_DATA_MAX_LENGTH);o===null?this.debugData=new ArrayBuffer(l):r===0&&s===o.byteLength?this.debugData=o.slice(0,l):this.debugData=o.slice(r,r+l)}};H(es,"defaultProps",{...Vn.defaultProps,usage:0,byteLength:0,byteOffset:0,data:null,indexType:"uint16",mappedAtCreation:!1}),H(es,"MAP_READ",1),H(es,"MAP_WRITE",2),H(es,"COPY_SRC",4),H(es,"COPY_DST",8),H(es,"INDEX",16),H(es,"VERTEX",32),H(es,"UNIFORM",64),H(es,"STORAGE",128),H(es,"INDIRECT",256),H(es,"QUERY_RESOLVE",512),H(es,"DEBUG_DATA_MAX_LENGTH",32);let ir=es;function zV(t){const e=O2[t],n=$G(e),r=t.includes("norm"),s=!r&&!t.startsWith("float"),o=t.startsWith("s");return{dataType:O2[t],byteLength:n,integer:s,signed:o,normalized:r}}function $G(t){return HG[t]}const O2={uint8:"uint8",sint8:"sint8",unorm8:"uint8",snorm8:"sint8",uint16:"uint16",sint16:"sint16",unorm16:"uint16",snorm16:"sint16",float16:"float16",float32:"float32",uint32:"uint32",sint32:"sint32"},HG={uint8:1,sint8:1,uint16:2,sint16:2,float16:2,float32:4,uint32:4,sint32:4},ls="texture-compression-bc",Un="texture-compression-astc",So="texture-compression-etc2",WG="texture-compression-etc1-webgl",Hb="texture-compression-pvrtc-webgl",R1="texture-compression-atc-webgl",Wb="float32-renderable-webgl",k1="float16-renderable-webgl",qG="rgb9e5ufloat-renderable-webgl",D1="snorm8-renderable-webgl",pp="norm16-renderable-webgl",P1="snorm16-renderable-webgl",qb="float32-filterable",U2="float16-filterable-webgl";function $V(t){const e=XG[t];if(!e)throw new Error(`Unsupported texture format ${t}`);return e}const XG={r8unorm:{},r8snorm:{render:D1},r8uint:{},r8sint:{},rg8unorm:{},rg8snorm:{render:D1},rg8uint:{},rg8sint:{},r16uint:{},r16sint:{},r16float:{render:k1,filter:"float16-filterable-webgl"},"r16unorm-webgl":{f:pp},"r16snorm-webgl":{f:P1},"rgba4unorm-webgl":{channels:"rgba",bitsPerChannel:[4,4,4,4],packed:!0},"rgb565unorm-webgl":{channels:"rgb",bitsPerChannel:[5,6,5,0],packed:!0},"rgb5a1unorm-webgl":{channels:"rgba",bitsPerChannel:[5,5,5,1],packed:!0},"rgb8unorm-webgl":{},"rgb8snorm-webgl":{},rgba8unorm:{},"rgba8unorm-srgb":{},rgba8snorm:{render:D1},rgba8uint:{},rgba8sint:{},bgra8unorm:{},"bgra8unorm-srgb":{},rg16uint:{},rg16sint:{},rg16float:{render:k1,filter:U2},"rg16unorm-webgl":{render:pp},"rg16snorm-webgl":{render:P1},r32uint:{},r32sint:{},r32float:{render:Wb,filter:qb},rgb9e5ufloat:{channels:"rgb",packed:!0,render:qG},rg11b10ufloat:{channels:"rgb",bitsPerChannel:[11,11,10,0],packed:!0,p:1,render:Wb},rgb10a2unorm:{channels:"rgba",bitsPerChannel:[10,10,10,2],packed:!0,p:1},"rgb10a2uint-webgl":{channels:"rgba",bitsPerChannel:[10,10,10,2],packed:!0,p:1,wgpu:!1},"rgb16unorm-webgl":{f:pp},"rgb16snorm-webgl":{f:pp},rg32uint:{},rg32sint:{},rg32float:{render:!1,filter:qb},rgba16uint:{},rgba16sint:{},rgba16float:{render:k1,filter:U2},"rgba16unorm-webgl":{render:pp},"rgba16snorm-webgl":{render:P1},"rgb32float-webgl":{render:Wb,filter:qb},rgba32uint:{},rgba32sint:{},rgba32float:{render:Wb,filter:qb},stencil8:{attachment:"stencil",bitsPerChannel:[8,0,0,0],dataType:"uint8"},depth16unorm:{attachment:"depth",bitsPerChannel:[16,0,0,0],dataType:"uint16"},depth24plus:{attachment:"depth",bitsPerChannel:[24,0,0,0],dataType:"uint32"},depth32float:{attachment:"depth",bitsPerChannel:[32,0,0,0],dataType:"float32"},"depth24plus-stencil8":{attachment:"depth-stencil",bitsPerChannel:[24,8,0,0],packed:!0},"depth32float-stencil8":{attachment:"depth-stencil",bitsPerChannel:[32,8,0,0],packed:!0},"bc1-rgb-unorm-webgl":{f:ls},"bc1-rgb-unorm-srgb-webgl":{f:ls},"bc1-rgba-unorm":{f:ls},"bc1-rgba-unorm-srgb":{f:ls},"bc2-rgba-unorm":{f:ls},"bc2-rgba-unorm-srgb":{f:ls},"bc3-rgba-unorm":{f:ls},"bc3-rgba-unorm-srgb":{f:ls},"bc4-r-unorm":{f:ls},"bc4-r-snorm":{f:ls},"bc5-rg-unorm":{f:ls},"bc5-rg-snorm":{f:ls},"bc6h-rgb-ufloat":{f:ls},"bc6h-rgb-float":{f:ls},"bc7-rgba-unorm":{f:ls},"bc7-rgba-unorm-srgb":{f:ls},"etc2-rgb8unorm":{f:So},"etc2-rgb8unorm-srgb":{f:So},"etc2-rgb8a1unorm":{f:So},"etc2-rgb8a1unorm-srgb":{f:So},"etc2-rgba8unorm":{f:So},"etc2-rgba8unorm-srgb":{f:So},"eac-r11unorm":{f:So},"eac-r11snorm":{f:So},"eac-rg11unorm":{f:So},"eac-rg11snorm":{f:So},"astc-4x4-unorm":{f:Un},"astc-4x4-unorm-srgb":{f:Un},"astc-5x4-unorm":{f:Un},"astc-5x4-unorm-srgb":{f:Un},"astc-5x5-unorm":{f:Un},"astc-5x5-unorm-srgb":{f:Un},"astc-6x5-unorm":{f:Un},"astc-6x5-unorm-srgb":{f:Un},"astc-6x6-unorm":{f:Un},"astc-6x6-unorm-srgb":{f:Un},"astc-8x5-unorm":{f:Un},"astc-8x5-unorm-srgb":{f:Un},"astc-8x6-unorm":{f:Un},"astc-8x6-unorm-srgb":{f:Un},"astc-8x8-unorm":{f:Un},"astc-8x8-unorm-srgb":{f:Un},"astc-10x5-unorm":{f:Un},"astc-10x5-unorm-srgb":{f:Un},"astc-10x6-unorm":{f:Un},"astc-10x6-unorm-srgb":{f:Un},"astc-10x8-unorm":{f:Un},"astc-10x8-unorm-srgb":{f:Un},"astc-10x10-unorm":{f:Un},"astc-10x10-unorm-srgb":{f:Un},"astc-12x10-unorm":{f:Un},"astc-12x10-unorm-srgb":{f:Un},"astc-12x12-unorm":{f:Un},"astc-12x12-unorm-srgb":{f:Un},"pvrtc-rgb4unorm-webgl":{f:Hb},"pvrtc-rgba4unorm-webgl":{f:Hb},"pvrtc-rbg2unorm-webgl":{f:Hb},"pvrtc-rgba2unorm-webgl":{f:Hb},"etc1-rbg-unorm-webgl":{f:WG},"atc-rgb-unorm-webgl":{f:R1},"atc-rgba-unorm-webgl":{f:R1},"atc-rgbai-unorm-webgl":{f:R1}},YG=["bc1","bc2","bc3","bc4","bc5","bc6","bc7","etc1","etc2","eac","atc","astc","pvrtc"],KG=/^(r|rg|rgb|rgba|bgra)([0-9]*)([a-z]*)(-srgb)?(-webgl)?$/;function HV(t){return YG.some(e=>t.startsWith(e))}function rT(t){let e=ZG(t);if(HV(t)){e.channels="rgb",e.components=3,e.bytesPerPixel=1,e.srgb=!1,e.compressed=!0;const r=QG(t);r&&(e.blockWidth=r.blockWidth,e.blockHeight=r.blockHeight)}const n=KG.exec(t);if(n){const[,r,s,o,l,c]=n,f=`${o}${s}`,h=zV(f),p=h.byteLength*8,m=r.length,x=[p,m>=2?p:0,m>=3?p:0,m>=4?p:0];e={format:t,attachment:e.attachment,dataType:h.dataType,components:m,channels:r,integer:h.integer,signed:h.signed,normalized:h.normalized,bitsPerChannel:x,bytesPerPixel:h.byteLength*r.length,packed:e.packed,srgb:e.srgb},c==="-webgl"&&(e.webgl=!0),l==="-srgb"&&(e.srgb=!0)}return t.endsWith("-webgl")&&(e.webgl=!0),t.endsWith("-srgb")&&(e.srgb=!0),e}function ZG(t){var o;const e=$V(t),n=e.bytesPerPixel||1,r=e.bitsPerChannel||[8,8,8,8];return delete e.bitsPerChannel,delete e.bytesPerPixel,delete e.f,delete e.render,delete e.filter,delete e.blend,delete e.store,{...e,format:t,attachment:e.attachment||"color",channels:e.channels||"r",components:e.components||((o=e.channels)==null?void 0:o.length)||1,bytesPerPixel:n,bitsPerChannel:r,dataType:e.dataType||"uint8",srgb:e.srgb??!1,packed:e.packed??!1,webgl:e.webgl??!1,integer:e.integer??!1,signed:e.signed??!1,normalized:e.normalized??!1,compressed:e.compressed??!1}}function QG(t){const n=/.*-(\d+)x(\d+)-.*/.exec(t);if(n){const[,r,s]=n;return{blockWidth:Number(r),blockHeight:Number(s)}}return null}function GG(t){const e=$V(t),n={format:t,create:e.f??!0,render:e.render??!0,filter:e.filter??!0,blend:e.blend??!0,store:e.store??!0},r=rT(t),s=t.startsWith("depth")||t.startsWith("stencil"),o=r==null?void 0:r.signed,l=r==null?void 0:r.integer,c=r==null?void 0:r.webgl;return n.render&&(n.render=!o),n.filter&&(n.filter=!s&&!o&&!l&&!c),n}class JG{}class eJ{constructor(e=[],n){H(this,"features");H(this,"disabledFeatures");this.features=new Set(e),this.disabledFeatures=n||{}}*[Symbol.iterator](){yield*this.features}has(e){var n;return!((n=this.disabledFeatures)!=null&&n[e])&&this.features.has(e)}}const Ey=class Ey{constructor(e){H(this,"id");H(this,"props");H(this,"userData",{});H(this,"statsManager",LV);H(this,"timestamp",0);H(this,"_reused",!1);H(this,"_lumaData",{});this.props={...Ey.defaultProps,...e},this.id=this.props.id||lv(this[Symbol.toStringTag].toLowerCase())}get[Symbol.toStringTag](){return"Device"}getTextureFormatCapabilities(e){const n=GG(e),r=l=>(typeof l=="string"?this.features.has(l):l)??!0,s=r(n.create),o={format:e,create:s,render:s&&r(n.render),filter:s&&r(n.filter),blend:s&&r(n.blend),store:s&&r(n.store)};return this._getDeviceSpecificTextureFormatCapabilities(o)}isTextureFormatSupported(e,n){return this.getTextureFormatCapabilities(e).create}isTextureFormatFilterable(e){return this.getTextureFormatCapabilities(e).filter}isTextureFormatRenderable(e){return this.getTextureFormatCapabilities(e).render}isTextureFormatCompressed(e){return HV(e)}loseDevice(){return!1}reportError(e){this.props.onError(e)}getDefaultCanvasContext(){if(!this.canvasContext)throw new Error("Device has no default CanvasContext. See props.createCanvasContext");return this.canvasContext}createCommandEncoder(e={}){throw new Error("not implemented")}incrementTimestamp(){return this.timestamp++}onError(e){this.props.onError(e)}getCanvasContext(){return this.getDefaultCanvasContext()}readPixelsToArrayWebGL(e,n){throw new Error("not implemented")}readPixelsToBufferWebGL(e,n){throw new Error("not implemented")}setParametersWebGL(e){throw new Error("not implemented")}getParametersWebGL(e){throw new Error("not implemented")}withParametersWebGL(e,n){throw new Error("not implemented")}clearWebGL(e){throw new Error("not implemented")}resetWebGL(){throw new Error("not implemented")}static _getCanvasContextProps(e){return e.createCanvasContext===!0?{}:e.createCanvasContext}_normalizeBufferProps(e){(e instanceof ArrayBuffer||ArrayBuffer.isView(e))&&(e={data:e});const n={...e};return(e.usage||0)&ir.INDEX&&!e.indexType&&(e.data instanceof Uint32Array?n.indexType="uint32":e.data instanceof Uint16Array?n.indexType="uint16":ot.warn("indices buffer content must be of integer type")()),n}};H(Ey,"defaultProps",{id:null,powerPreference:"high-performance",failIfMajorPerformanceCaveat:!1,createCanvasContext:void 0,onError:e=>ot.error(e.message)(),_reuseDevices:!1,_requestMaxLimits:!0,_factoryDestroyPolicy:"unused",_initializeFeatures:!0,_disabledFeatures:{"compilation-status-async-webgl":!0},_resourceDefaults:{},webgl:{},debug:ot.get("debug")||void 0,debugShaders:ot.get("debug-shaders")||void 0,debugFramebuffers:!!ot.get("debug-framebuffers"),debugWebGL:!!ot.get("debug-webgl"),debugSpectorJS:void 0,debugSpectorJSUrl:void 0,_handle:void 0});let Ul=Ey;const tJ=xu()&&typeof document<"u",nJ=()=>tJ&&document.readyState==="complete",rJ="set luma.log.level=1 (or higher) to trace rendering",V2="No matching device found. Ensure `@luma.gl/webgl` and/or `@luma.gl/webgpu` modules are imported.",xl=class xl{constructor(){H(this,"stats",LV);H(this,"log",ot);H(this,"VERSION","9.1.9");H(this,"spector");H(this,"preregisteredAdapters",new Map);if(globalThis.luma){if(globalThis.luma.VERSION!==this.VERSION)throw ot.error(`Found luma.gl ${globalThis.luma.VERSION} while initialzing ${this.VERSION}`)(),ot.error("'yarn why @luma.gl/core' can help identify the source of the conflict")(),new Error("luma.gl - multiple versions detected: see console log");ot.error("This version of luma.gl has already been initialized")()}ot.log(1,`${this.VERSION} - ${rJ}`)(),globalThis.luma=this}registerAdapters(e){for(const n of e)this.preregisteredAdapters.set(n.type,n)}getSupportedAdapters(e=[]){const n=this.getAdapterMap(e);return Array.from(n).map(([,r])=>r).filter(r=>{var s;return(s=r.isSupported)==null?void 0:s.call(r)}).map(r=>r.type)}getBestAvailableAdapter(e=[]){var r,s,o,l;const n=this.getAdapterMap(e);return(s=(r=n.get("webgpu"))==null?void 0:r.isSupported)!=null&&s.call(r)?"webgpu":(l=(o=n.get("webgl"))==null?void 0:o.isSupported)!=null&&l.call(o)?"webgl":null}setDefaultDeviceProps(e){Object.assign(xl.defaultProps,e)}async createDevice(e={}){var c;e={...xl.defaultProps,...e},e.waitForPageLoad&&await xl.pageLoaded;const n=this.getAdapterMap(e.adapters);let r=e.type||"";r==="best-available"&&(r=this.getBestAvailableAdapter(e.adapters)||r);const o=(this.getAdapterMap(e.adapters)||n).get(r),l=await((c=o==null?void 0:o.create)==null?void 0:c.call(o,e));if(l)return l;throw new Error(V2)}async attachDevice(e){var l;const n=this.getAdapterMap(e.adapters);let r="";e.handle instanceof WebGL2RenderingContext&&(r="webgl"),e.createCanvasContext&&await xl.pageLoaded,e.handle===null&&(r="unknown");const s=n.get(r),o=await((l=s==null?void 0:s.attach)==null?void 0:l.call(s,null));if(o)return o;throw new Error(V2)}enforceWebGL2(e=!0,n=[]){var o;const s=this.getAdapterMap(n).get("webgl");s||ot.warn("enforceWebGL2: webgl adapter not found")(),(o=s==null?void 0:s.enforceWebGL2)==null||o.call(s,e)}getAdapterMap(e=[]){const n=new Map(this.preregisteredAdapters);for(const r of e)n.set(r.type,r);return n}registerDevices(e){ot.warn("luma.registerDevices() is deprecated, use luma.registerAdapters() instead");for(const n of e){const r=n.adapter;r&&this.preregisteredAdapters.set(r.type,r)}}};H(xl,"defaultProps",{...Ul.defaultProps,type:"best-available",adapters:void 0,waitForPageLoad:!0}),H(xl,"pageLoaded",sJ().then(()=>{ot.probe(2,"DOM is loaded")()}));let dS=xl;const hS=new dS;function sJ(){return nJ()||typeof window>"u"?Promise.resolve():new Promise(t=>{window.addEventListener("load",()=>t())})}class iJ{}const Ty=class Ty{constructor(e){H(this,"id");H(this,"props");H(this,"canvas");H(this,"htmlCanvas");H(this,"offscreenCanvas");H(this,"type");H(this,"width",1);H(this,"height",1);H(this,"resizeObserver");H(this,"_canvasSizeInfo",{clientWidth:0,clientHeight:0,devicePixelRatio:1});if(this.props={...Ty.defaultProps,...e},e=this.props,!xu()){this.id="node-canvas-context",this.type="node",this.width=this.props.width,this.height=this.props.height,this.canvas=null;return}if(e.canvas)typeof e.canvas=="string"?this.canvas=aJ(e.canvas):this.canvas=e.canvas;else{const n=lJ(e),r=oJ((e==null?void 0:e.container)||null);r.insertBefore(n,r.firstChild),this.canvas=n,e!=null&&e.visible||(this.canvas.style.visibility="hidden")}this.canvas instanceof HTMLCanvasElement?(this.id=this.canvas.id,this.type="html-canvas",this.htmlCanvas=this.canvas):(this.id="offscreen-canvas",this.type="offscreen-canvas",this.offscreenCanvas=this.canvas),this.canvas instanceof HTMLCanvasElement&&e.autoResize&&(this.resizeObserver=new ResizeObserver(n=>{for(const r of n)r.target===this.canvas&&this.update()}),this.resizeObserver.observe(this.canvas))}toString(){return`${this[Symbol.toStringTag]}(${this.id})`}getDevicePixelRatio(e){return typeof OffscreenCanvas<"u"&&this.canvas instanceof OffscreenCanvas||(e=e===void 0?this.props.useDevicePixels:e,!e||e<=0)?1:e===!0?typeof window<"u"&&window.devicePixelRatio||1:e}getPixelSize(){switch(this.type){case"node":return[this.width,this.height];case"offscreen-canvas":return[this.canvas.width,this.canvas.height];case"html-canvas":const e=this.getDevicePixelRatio(),n=this.canvas;return n.parentElement?[n.clientWidth*e,n.clientHeight*e]:[this.canvas.width,this.canvas.height];default:throw new Error(this.type)}}getAspect(){const[e,n]=this.getPixelSize();return e/n}cssToDeviceRatio(){var e;try{const[n]=this.getDrawingBufferSize(),r=this._canvasSizeInfo.clientWidth||((e=this.htmlCanvas)==null?void 0:e.clientWidth);return r?n/r:1}catch{return 1}}cssToDevicePixels(e,n=!0){const r=this.cssToDeviceRatio(),[s,o]=this.getDrawingBufferSize();return cJ(e,r,s,o,n)}setDevicePixelRatio(e,n={}){if(!this.htmlCanvas)return;let r="width"in n?n.width:this.htmlCanvas.clientWidth,s="height"in n?n.height:this.htmlCanvas.clientHeight;(!r||!s)&&(ot.log(1,"Canvas clientWidth/clientHeight is 0")(),e=1,r=this.htmlCanvas.width||1,s=this.htmlCanvas.height||1);const o=this._canvasSizeInfo;if(o.clientWidth!==r||o.clientHeight!==s||o.devicePixelRatio!==e){let l=e;const c=Math.floor(r*l),f=Math.floor(s*l);if(this.htmlCanvas.width=c,this.htmlCanvas.height=f,this.device.gl){const[p,m]=this.getDrawingBufferSize();(p!==c||m!==f)&&(l=Math.min(p/r,m/s),this.htmlCanvas.width=Math.floor(r*l),this.htmlCanvas.height=Math.floor(s*l),ot.warn("Device pixel ratio clamped")()),this._canvasSizeInfo.clientWidth=r,this._canvasSizeInfo.clientHeight=s,this._canvasSizeInfo.devicePixelRatio=e}}}getDrawingBufferSize(){const e=this.device.gl;return e?[e.drawingBufferWidth,e.drawingBufferHeight]:this.getPixelSize()}_setAutoCreatedCanvasId(e){var n;((n=this.htmlCanvas)==null?void 0:n.id)==="lumagl-auto-created-canvas"&&(this.htmlCanvas.id=e)}};H(Ty,"defaultProps",{canvas:null,width:800,height:600,useDevicePixels:!0,autoResize:!0,container:null,visible:!0,alphaMode:"opaque",colorSpace:"srgb"});let pS=Ty;function oJ(t){if(typeof t=="string"){const e=document.getElementById(t);if(!e)throw new Error(`${t} is not an HTML element`);return e}else if(t)return t;return document.body}function aJ(t){const e=document.getElementById(t);if(!(e instanceof HTMLCanvasElement))throw new Error("Object is not a canvas element");return e}function lJ(t){const{width:e,height:n}=t,r=document.createElement("canvas");return r.id=lv("lumagl-auto-created-canvas"),r.width=e||1,r.height=n||1,r.style.width=Number.isFinite(e)?`${e}px`:"100%",r.style.height=Number.isFinite(n)?`${n}px`:"100%",r}function cJ(t,e,n,r,s){const o=t,l=F2(o[0],e,n);let c=B2(o[1],e,r,s),f=F2(o[0]+1,e,n);const h=f===n-1?f:f-1;f=B2(o[1]+1,e,r,s);let p;return s?(f=f===0?f:f+1,p=c,c=f):p=f===r-1?f:f-1,{x:l,y:c,width:Math.max(h-l+1,1),height:Math.max(p-c+1,1)}}function F2(t,e,n){return Math.min(Math.round(t*e),n-1)}function B2(t,e,n,r){return r?Math.max(0,n-1-Math.round(t*e)):Math.min(Math.round(t*e),n-1)}const ts=class ts extends Vn{constructor(n,r){r=ts.normalizeProps(n,r);super(n,r,ts.defaultProps);H(this,"dimension");H(this,"format");H(this,"width");H(this,"height");H(this,"depth");H(this,"mipLevels");H(this,"updateTimestamp");if(this.dimension=this.props.dimension,this.format=this.props.format,this.width=this.props.width,this.height=this.props.height,this.depth=this.props.depth,this.props.width===void 0||this.props.height===void 0){const s=ts.getTextureDataSize(this.props.data);this.width=(s==null?void 0:s.width)||1,this.height=(s==null?void 0:s.height)||1}this.props.mipmaps&&this.props.mipLevels===void 0&&(this.props.mipLevels="pyramid"),this.mipLevels=this.props.mipLevels==="pyramid"?ts.getMipLevelCount(this.width,this.height):this.props.mipLevels||1,this.updateTimestamp=n.incrementTimestamp()}get[Symbol.toStringTag](){return"Texture"}toString(){return`Texture(${this.id},${this.format},${this.width}x${this.height})`}clone(n){return this.device.createTexture({...this.props,...n})}static isExternalImage(n){return typeof ImageData<"u"&&n instanceof ImageData||typeof ImageBitmap<"u"&&n instanceof ImageBitmap||typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLVideoElement<"u"&&n instanceof HTMLVideoElement||typeof VideoFrame<"u"&&n instanceof VideoFrame||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas}static getExternalImageSize(n){if(typeof ImageData<"u"&&n instanceof ImageData||typeof ImageBitmap<"u"&&n instanceof ImageBitmap||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height};if(typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement)return{width:n.naturalWidth,height:n.naturalHeight};if(typeof HTMLVideoElement<"u"&&n instanceof HTMLVideoElement)return{width:n.videoWidth,height:n.videoHeight};if(typeof VideoFrame<"u"&&n instanceof VideoFrame)return{width:n.displayWidth,height:n.displayHeight};throw new Error("Unknown image type")}static isTextureLevelData(n){const r=n==null?void 0:n.data;return ArrayBuffer.isView(r)}static getTextureDataSize(n){if(!n||ArrayBuffer.isView(n))return null;if(Array.isArray(n))return ts.getTextureDataSize(n[0]);if(ts.isExternalImage(n))return ts.getExternalImageSize(n);if(n&&typeof n=="object"&&n.constructor===Object){const s=Object.values(n)[0];return{width:s.width,height:s.height}}throw new Error("texture size deduction failed")}static normalizeTextureData(n,r){let s;return ArrayBuffer.isView(n)?s=[{data:n,width:r.width,height:r.height}]:Array.isArray(n)?s=n:s=[n],s}static getMipLevelCount(n,r){return Math.floor(Math.log2(Math.max(n,r)))+1}static getCubeFaceDepth(n){switch(n){case"+X":return 0;case"-X":return 1;case"+Y":return 2;case"-Y":return 3;case"+Z":return 4;case"-Z":return 5;default:throw new Error(n)}}static normalizeProps(n,r){var f,h;const s={...r},o=((h=(f=n==null?void 0:n.props)==null?void 0:f._resourceDefaults)==null?void 0:h.texture)||{};Object.assign(s,o);const{width:l,height:c}=s;return typeof l=="number"&&(s.width=Math.max(1,Math.ceil(l))),typeof c=="number"&&(s.height=Math.max(1,Math.ceil(c))),s}};H(ts,"COPY_SRC",1),H(ts,"COPY_DST",2),H(ts,"TEXTURE",4),H(ts,"STORAGE",8),H(ts,"RENDER_ATTACHMENT",16),H(ts,"CubeFaces",["+X","-X","+Y","-Y","+Z","-Z"]),H(ts,"defaultProps",{...Vn.defaultProps,data:null,dimension:"2d",format:"rgba8unorm",width:void 0,height:void 0,depth:1,mipmaps:!1,compressed:!1,usage:0,mipLevels:void 0,samples:void 0,sampler:{},view:void 0,flipY:void 0}),H(ts,"defaultCopyExternalImageOptions",{image:void 0,sourceX:0,sourceY:0,width:void 0,height:void 0,depth:1,mipLevel:0,x:0,y:0,z:0,aspect:"all",colorSpace:"srgb",premultipliedAlpha:!1,flipY:!1});let mr=ts;const Ay=class Ay extends Vn{get[Symbol.toStringTag](){return"TextureView"}constructor(e,n){super(e,n,Ay.defaultProps)}};H(Ay,"defaultProps",{...Vn.defaultProps,format:void 0,dimension:void 0,aspect:"all",baseMipLevel:0,mipLevelCount:void 0,baseArrayLayer:0,arrayLayerCount:void 0});let Qx=Ay;function uJ(t,e,n){let r="";const s=e.split(/\r?\n/),o=t.slice().sort((l,c)=>l.lineNum-c.lineNum);switch((n==null?void 0:n.showSourceCode)||"no"){case"all":let l=0;for(let c=1;c<=s.length;c++)for(r+=WV(s[c-1],c,n);o.length>l&&o[l].lineNum===c;){const f=o[l++];r+=L2(f,s,f.lineNum,{...n,inlineSource:!1})}return r;case"issues":case"no":for(const c of t)r+=L2(c,s,c.lineNum,{inlineSource:(n==null?void 0:n.showSourceCode)!=="no"});return r}}function L2(t,e,n,r){if(r!=null&&r.inlineSource){const o=fJ(e,n),l=t.linePos>0?`${" ".repeat(t.linePos+5)}^^^
`:"";return`
${o}${l}${t.type.toUpperCase()}: ${t.message}

`}const s=t.type==="error"?"red":"#8B4000";return r!=null&&r.html?`<div class='luma-compiler-log-error' style="color:${s};"><b> ${t.type.toUpperCase()}: ${t.message}</b></div>`:`${t.type.toUpperCase()}: ${t.message}`}function fJ(t,e,n){let r="";for(let s=e-2;s<=e;s++){const o=t[s-1];o!==void 0&&(r+=WV(o,e,n))}return r}function WV(t,e,n){const r=n!=null&&n.html?hJ(t):t;return`${dJ(String(e),4)}: ${r}${n!=null&&n.html?"<br/>":`
`}`}function dJ(t,e){let n="";for(let r=t.length;r<e;++r)n+=" ";return n+t}function hJ(t){return t.replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;").replaceAll('"',"&quot;").replaceAll("'","&#039;")}const Cy=class Cy extends Vn{constructor(n,r){r={...r,debugShaders:r.debugShaders||n.props.debugShaders||"errors"};super(n,{id:pJ(r),...r},Cy.defaultProps);H(this,"stage");H(this,"source");H(this,"compilationStatus","pending");this.stage=this.props.stage,this.source=this.props.source}get[Symbol.toStringTag](){return"Shader"}getCompilationInfoSync(){return null}getTranslatedSource(){return null}async debugShader(){const n=this.props.debugShaders;switch(n){case"never":return;case"errors":if(this.compilationStatus==="success")return;break}const r=await this.getCompilationInfo();n==="warnings"&&(r==null?void 0:r.length)===0||this._displayShaderLog(r)}_displayShaderLog(n){var h;if(typeof document>"u"||!(document!=null&&document.createElement))return;const r=qV(this.source),s=`${this.stage} ${r}`;let o=uJ(n,this.source,{showSourceCode:"all",html:!0});const l=this.getTranslatedSource();l&&(o+=`<br /><br /><h1>Translated Source</h1><br /><br /><code style="user-select:text;"><pre>${l}</pre></code>`);const c=document.createElement("Button");c.innerHTML=`
<h1>Shader Compilation Error in ${s}</h1><br /><br />
<code style="user-select:text;"><pre>
${o}
</pre></code>`,c.style.top="10px",c.style.left="10px",c.style.position="absolute",c.style.zIndex="9999",c.style.width="100%",c.style.textAlign="left",document.body.appendChild(c),(h=document.getElementsByClassName("luma-compiler-log-error")[0])==null||h.scrollIntoView(),c.onclick=()=>{const p=`data:text/plain,${encodeURIComponent(this.source)}`;navigator.clipboard.writeText(p)}}};H(Cy,"defaultProps",{...Vn.defaultProps,language:"auto",stage:void 0,source:"",sourceMap:null,entryPoint:"main",debugShaders:void 0});let Gx=Cy;function pJ(t){return qV(t.source)||t.id||lv(`unnamed ${t.stage}-shader`)}function qV(t,e="unnamed"){const r=/#define[\s*]SHADER_NAME[\s*]([A-Za-z0-9_-]+)[\s*]/.exec(t);return r?r[1]:e}const qp=class qp extends Vn{get[Symbol.toStringTag](){return"Sampler"}constructor(e,n){n=qp.normalizeProps(e,n),super(e,n,qp.defaultProps)}static normalizeProps(e,n){var o,l;const r=((l=(o=e==null?void 0:e.props)==null?void 0:o._resourceDefaults)==null?void 0:l.sampler)||{};return{...n,...r}}};H(qp,"defaultProps",{...Vn.defaultProps,type:"color-sampler",addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge",addressModeW:"clamp-to-edge",magFilter:"nearest",minFilter:"nearest",mipmapFilter:"none",lodMinClamp:0,lodMaxClamp:32,compare:"less-equal",maxAnisotropy:1});let Jx=qp;const Ry=class Ry extends Vn{constructor(n,r={}){super(n,r,Ry.defaultProps);H(this,"width");H(this,"height");this.width=this.props.width,this.height=this.props.height}get[Symbol.toStringTag](){return"Framebuffer"}clone(n){const r=this.colorAttachments.map(o=>o.texture.clone(n)),s=this.depthStencilAttachment&&this.depthStencilAttachment.texture.clone(n);return this.device.createFramebuffer({...this.props,colorAttachments:r,depthStencilAttachment:s})}resize(n){let r=!n;if(n){const[s,o]=Array.isArray(n)?n:[n.width,n.height];r=r||o!==this.height||s!==this.width,this.width=s,this.height=o}r&&(ot.log(2,`Resizing framebuffer ${this.id} to ${this.width}x${this.height}`)(),this.resizeAttachments(this.width,this.height))}autoCreateAttachmentTextures(){if(this.props.colorAttachments.length===0&&!this.props.depthStencilAttachment)throw new Error("Framebuffer has noattachments");this.colorAttachments=this.props.colorAttachments.map((r,s)=>{if(typeof r=="string"){const o=this.createColorTexture(r,s);return this.attachResource(o),o.view}return r instanceof mr?r.view:r});const n=this.props.depthStencilAttachment;if(n)if(typeof n=="string"){const r=this.createDepthStencilTexture(n);this.attachResource(r),this.depthStencilAttachment=r.view}else n instanceof mr?this.depthStencilAttachment=n.view:this.depthStencilAttachment=n}createColorTexture(n,r){return this.device.createTexture({id:`${this.id}-color-attachment-${r}`,usage:mr.RENDER_ATTACHMENT,format:n,width:this.width,height:this.height,sampler:{magFilter:"linear",minFilter:"linear"}})}createDepthStencilTexture(n){return this.device.createTexture({id:`${this.id}-depth-stencil-attachment`,usage:mr.RENDER_ATTACHMENT,format:n,width:this.width,height:this.height,mipmaps:!1})}resizeAttachments(n,r){for(let s=0;s<this.colorAttachments.length;++s)if(this.colorAttachments[s]){const o=this.colorAttachments[s].texture.clone({width:n,height:r});this.destroyAttachedResource(this.colorAttachments[s]),this.colorAttachments[s]=o.view,this.attachResource(o.view)}if(this.depthStencilAttachment){const s=this.depthStencilAttachment.texture.clone({width:n,height:r});this.destroyAttachedResource(this.depthStencilAttachment),this.depthStencilAttachment=s.view,this.attachResource(s)}this.updateAttachments()}};H(Ry,"defaultProps",{...Vn.defaultProps,width:1,height:1,colorAttachments:[],depthStencilAttachment:null});let ey=Ry;const ky=class ky extends Vn{constructor(n,r){super(n,r,ky.defaultProps);H(this,"shaderLayout");H(this,"bufferLayout");H(this,"linkStatus","pending");H(this,"hash","");this.shaderLayout=this.props.shaderLayout,this.bufferLayout=this.props.bufferLayout||[]}get[Symbol.toStringTag](){return"RenderPipeline"}setUniformsWebGL(n){throw new Error("Use uniform blocks")}};H(ky,"defaultProps",{...Vn.defaultProps,vs:null,vertexEntryPoint:"vertexMain",vsConstants:{},fs:null,fragmentEntryPoint:"fragmentMain",fsConstants:{},shaderLayout:null,bufferLayout:[],topology:"triangle-list",parameters:{},bindings:{},uniforms:{}});let xd=ky;const Xi=class Xi extends Vn{get[Symbol.toStringTag](){return"RenderPass"}constructor(e,n){n=Xi.normalizeProps(e,n),super(e,n,Xi.defaultProps)}static normalizeProps(e,n){var o;return{...(o=e.props._resourceDefaults)==null?void 0:o.renderPass,...n}}};H(Xi,"defaultClearColor",[0,0,0,1]),H(Xi,"defaultClearDepth",1),H(Xi,"defaultClearStencil",0),H(Xi,"defaultProps",{...Vn.defaultProps,framebuffer:null,parameters:void 0,clearColor:Xi.defaultClearColor,clearColors:void 0,clearDepth:Xi.defaultClearDepth,clearStencil:Xi.defaultClearStencil,depthReadOnly:!1,stencilReadOnly:!1,discard:!1,occlusionQuerySet:void 0,timestampQuerySet:void 0,beginTimestampIndex:void 0,endTimestampIndex:void 0});let mS=Xi;const Dy=class Dy extends Vn{constructor(n,r){super(n,r,Dy.defaultProps);H(this,"hash","");H(this,"shaderLayout");this.shaderLayout=r.shaderLayout}get[Symbol.toStringTag](){return"ComputePipeline"}};H(Dy,"defaultProps",{...Vn.defaultProps,shader:void 0,entryPoint:void 0,constants:{},shaderLayout:void 0});let ty=Dy;const Py=class Py extends Vn{get[Symbol.toStringTag](){return"CommandEncoder"}constructor(e,n){super(e,n,Py.defaultProps)}};H(Py,"defaultProps",{...Vn.defaultProps,measureExecutionTime:void 0});let gS=Py;const jy=class jy extends Vn{get[Symbol.toStringTag](){return"CommandBuffer"}constructor(e,n){super(e,n,jy.defaultProps)}};H(jy,"defaultProps",{...Vn.defaultProps});let bS=jy;function mJ(t){const[e,n]=bJ[t],r=e==="i32"||e==="u32",s=e!=="u32",o=xJ[e]*n,l=gJ(e,n);return{dataType:e,components:n,defaultVertexFormat:l,byteLength:o,integer:r,signed:s}}function gJ(t,e){let n;switch(t){case"f32":n="float32";break;case"i32":n="sint32";break;case"u32":n="uint32";break;case"f16":return e<=2?"float16x2":"float16x4"}return e===1?n:`${n}x${e}`}const bJ={f32:["f32",1],"vec2<f32>":["f32",2],"vec3<f32>":["f32",3],"vec4<f32>":["f32",4],f16:["f16",1],"vec2<f16>":["f16",2],"vec3<f16>":["f16",3],"vec4<f16>":["f16",4],i32:["i32",1],"vec2<i32>":["i32",2],"vec3<i32>":["i32",3],"vec4<i32>":["i32",4],u32:["u32",1],"vec2<u32>":["u32",2],"vec3<u32>":["u32",3],"vec4<u32>":["u32",4]},xJ={f32:4,f16:2,i32:4,u32:4};function XV(t){let e;t.endsWith("-webgl")&&(t.replace("-webgl",""),e=!0);const[n,r]=t.split("x"),s=n,o=r?parseInt(r):1,l=zV(s),c={type:s,components:o,byteLength:l.byteLength*o,integer:l.integer,signed:l.signed,normalized:l.normalized};return e&&(c.webglOnly=!0),c}function YV(t,e){const n={};for(const r of t.attributes){const s=vJ(t,e,r.name);s&&(n[r.name]=s)}return n}function yJ(t,e,n=16){const r=YV(t,e),s=new Array(n).fill(null);for(const o of Object.values(r))s[o.location]=o;return s}function vJ(t,e,n){const r=wJ(t,n),s=_J(e,n);if(!r)return null;const o=mJ(r.type),l=(s==null?void 0:s.vertexFormat)||o.defaultVertexFormat,c=XV(l);return{attributeName:(s==null?void 0:s.attributeName)||r.name,bufferName:(s==null?void 0:s.bufferName)||r.name,location:r.location,shaderType:r.type,shaderDataType:o.dataType,shaderComponents:o.components,vertexFormat:l,bufferDataType:c.type,bufferComponents:c.components,normalized:c.normalized,integer:o.integer,stepMode:(s==null?void 0:s.stepMode)||r.stepMode||"vertex",byteOffset:(s==null?void 0:s.byteOffset)||0,byteStride:(s==null?void 0:s.byteStride)||0}}function wJ(t,e){const n=t.attributes.find(r=>r.name===e);return n||ot.warn(`shader layout attribute "${e}" not present in shader`),n||null}function _J(t,e){NJ(t);let n=SJ(t,e);return n||(n=EJ(t,e),n)?n:(ot.warn(`layout for attribute "${e}" not present in buffer layout`),null)}function NJ(t){for(const e of t)(e.attributes&&e.format||!e.attributes&&!e.format)&&ot.warn(`BufferLayout ${name} must have either 'attributes' or 'format' field`)}function SJ(t,e){for(const n of t)if(n.format&&n.name===e)return{attributeName:n.name,bufferName:e,stepMode:n.stepMode,vertexFormat:n.format,byteOffset:0,byteStride:n.byteStride||0};return null}function EJ(t,e){var n;for(const r of t){let s=r.byteStride;if(typeof r.byteStride!="number")for(const l of r.attributes||[]){const c=XV(l.format);s+=c.byteLength}const o=(n=r.attributes)==null?void 0:n.find(l=>l.attribute===e);if(o)return{attributeName:o.attribute,bufferName:r.name,stepMode:r.stepMode,vertexFormat:o.format,byteOffset:o.byteOffset,byteStride:s}}return null}const My=class My extends Vn{constructor(n,r){super(n,r,My.defaultProps);H(this,"maxVertexAttributes");H(this,"attributeInfos");H(this,"indexBuffer",null);H(this,"attributes");this.maxVertexAttributes=n.limits.maxVertexAttributes,this.attributes=new Array(this.maxVertexAttributes).fill(null);const{shaderLayout:s,bufferLayout:o}=r.renderPipeline||{};if(!s||!o)throw new Error("VertexArray");this.attributeInfos=yJ(s,o,this.maxVertexAttributes)}get[Symbol.toStringTag](){return"VertexArray"}setConstantWebGL(n,r){this.device.reportError(new Error("constant attributes not supported"))}};H(My,"defaultProps",{...Vn.defaultProps,renderPipeline:null});let xS=My;const Iy=class Iy extends Vn{get[Symbol.toStringTag](){return"TransformFeedback"}constructor(e,n){super(e,n,Iy.defaultProps)}};H(Iy,"defaultProps",{...Vn.defaultProps,layout:void 0,buffers:{}});let yS=Iy;const Oy=class Oy extends Vn{get[Symbol.toStringTag](){return"QuerySet"}constructor(e,n){super(e,n,Oy.defaultProps)}};H(Oy,"defaultProps",{...Vn.defaultProps,type:void 0,count:void 0});let vS=Oy;const TJ={f32:{type:"f32",components:1},i32:{type:"i32",components:1},u32:{type:"u32",components:1},"vec2<f32>":{type:"f32",components:2},"vec3<f32>":{type:"f32",components:3},"vec4<f32>":{type:"f32",components:4},"vec2<i32>":{type:"i32",components:2},"vec3<i32>":{type:"i32",components:3},"vec4<i32>":{type:"i32",components:4},"vec2<u32>":{type:"u32",components:2},"vec3<u32>":{type:"u32",components:3},"vec4<u32>":{type:"u32",components:4},"mat2x2<f32>":{type:"f32",components:4},"mat2x3<f32>":{type:"f32",components:6},"mat2x4<f32>":{type:"f32",components:8},"mat3x2<f32>":{type:"f32",components:6},"mat3x3<f32>":{type:"f32",components:9},"mat3x4<f32>":{type:"f32",components:12},"mat4x2<f32>":{type:"f32",components:8},"mat4x3<f32>":{type:"f32",components:12},"mat4x4<f32>":{type:"f32",components:16}};function AJ(t){return TJ[t]}function CJ(t,e){switch(e){case 1:return t;case 2:return t+t%2;default:return t+(4-t%4)%4}}let Xb;function KV(t){return(!Xb||Xb.byteLength<t)&&(Xb=new ArrayBuffer(t)),Xb}function RJ(t,e){const n=KV(t.BYTES_PER_ELEMENT*e);return new t(n,0,e)}function kJ(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function ny(t){return Array.isArray(t)?t.length===0||typeof t[0]=="number":kJ(t)}const z2=1024;class DJ{constructor(e){H(this,"layout",{});H(this,"byteLength");let n=0;for(const[s,o]of Object.entries(e)){const l=AJ(o),{type:c,components:f}=l;n=CJ(n,f);const h=n;n+=f,this.layout[s]={type:c,size:f,offset:h}}n+=(4-n%4)%4;const r=n*4;this.byteLength=Math.max(r,z2)}getData(e){const n=Math.max(this.byteLength,z2),r=KV(n),s={i32:new Int32Array(r),u32:new Uint32Array(r),f32:new Float32Array(r),f16:new Uint16Array(r)};for(const[o,l]of Object.entries(e)){const c=this.layout[o];if(!c){ot.warn(`Supplied uniform value ${o} not present in uniform block layout`)();continue}const{type:f,size:h,offset:p}=c,m=s[f];if(h===1){if(typeof l!="number"&&typeof l!="boolean"){ot.warn(`Supplied value for single component uniform ${o} is not a number: ${l}`)();continue}m[p]=Number(l)}else{if(!ny(l)){ot.warn(`Supplied value for multi component / array uniform ${o} is not a numeric array: ${l}`)();continue}m.set(l,p)}}return new Uint8Array(r)}has(e){return!!this.layout[e]}get(e){return this.layout[e]}}function PJ(t,e,n=16){if(t!==e)return!1;const r=t,s=e;if(!ny(r))return!1;if(ny(s)&&r.length===s.length){for(let o=0;o<r.length;++o)if(s[o]!==r[o])return!1}return!0}function jJ(t){return ny(t)?t.slice():t}class MJ{constructor(e){H(this,"name");H(this,"uniforms",{});H(this,"modifiedUniforms",{});H(this,"modified",!0);H(this,"bindingLayout",{});H(this,"needsRedraw","initialized");var n;if(this.name=(e==null?void 0:e.name)||"unnamed",e!=null&&e.name&&(e!=null&&e.shaderLayout)){const r=(n=e==null?void 0:e.shaderLayout.bindings)==null?void 0:n.find(o=>o.type==="uniform"&&o.name===(e==null?void 0:e.name));if(!r)throw new Error(e==null?void 0:e.name);const s=r;for(const o of s.uniforms||[])this.bindingLayout[o.name]=o}}setUniforms(e){for(const[n,r]of Object.entries(e))this._setUniform(n,r),this.needsRedraw||this.setNeedsRedraw(`${this.name}.${n}=${r}`)}setNeedsRedraw(e){this.needsRedraw=this.needsRedraw||e}getAllUniforms(){return this.modifiedUniforms={},this.needsRedraw=!1,this.uniforms||{}}_setUniform(e,n){PJ(this.uniforms[e],n)||(this.uniforms[e]=jJ(n),this.modifiedUniforms[e]=!0,this.modified=!0)}}class IJ{constructor(e){H(this,"uniformBlocks",new Map);H(this,"uniformBufferLayouts",new Map);H(this,"uniformBuffers",new Map);for(const[n,r]of Object.entries(e)){const s=n,o=new DJ(r.uniformTypes||{});this.uniformBufferLayouts.set(s,o);const l=new MJ({name:n});l.setUniforms(r.defaultUniforms||{}),this.uniformBlocks.set(s,l)}}destroy(){for(const e of this.uniformBuffers.values())e.destroy()}setUniforms(e){var n;for(const[r,s]of Object.entries(e))(n=this.uniformBlocks.get(r))==null||n.setUniforms(s);this.updateUniformBuffers()}getUniformBufferByteLength(e){var n;return((n=this.uniformBufferLayouts.get(e))==null?void 0:n.byteLength)||0}getUniformBufferData(e){var r,s;const n=((r=this.uniformBlocks.get(e))==null?void 0:r.getAllUniforms())||{};return(s=this.uniformBufferLayouts.get(e))==null?void 0:s.getData(n)}createUniformBuffer(e,n,r){r&&this.setUniforms(r);const s=this.getUniformBufferByteLength(n),o=e.createBuffer({usage:ir.UNIFORM|ir.COPY_DST,byteLength:s}),l=this.getUniformBufferData(n);return o.write(l),o}getManagedUniformBuffer(e,n){if(!this.uniformBuffers.get(n)){const r=this.getUniformBufferByteLength(n),s=e.createBuffer({usage:ir.UNIFORM|ir.COPY_DST,byteLength:r});this.uniformBuffers.set(n,s)}return this.uniformBuffers.get(n)}updateUniformBuffers(){let e=!1;for(const n of this.uniformBlocks.keys()){const r=this.updateUniformBuffer(n);e||(e=r)}return e&&ot.log(3,`UniformStore.updateUniformBuffers(): ${e}`)(),e}updateUniformBuffer(e){var o;const n=this.uniformBlocks.get(e);let r=this.uniformBuffers.get(e),s=!1;if(r&&(n!=null&&n.needsRedraw)){s||(s=n.needsRedraw);const l=this.getUniformBufferData(e);r=this.uniformBuffers.get(e),r==null||r.write(l);const c=(o=this.uniformBlocks.get(e))==null?void 0:o.getAllUniforms();ot.log(4,`Writing to uniform buffer ${String(e)}`,l,c)()}return s}}function ZV(t){const e=ArrayBuffer.isView(t)?t.constructor:t;switch(e){case Float32Array:return"float32";case Uint16Array:return"uint16";case Uint32Array:return"uint32";case Uint8Array:case Uint8ClampedArray:return"uint8";case Int8Array:return"sint8";case Int16Array:return"sint16";case Int32Array:return"sint32";default:throw new Error(e.constructor.name)}}function QV(t){switch(t){case"float32":return Float32Array;case"uint32":return Uint32Array;case"sint32":return Int32Array;case"uint16":case"unorm16":return Uint16Array;case"sint16":case"snorm16":return Int16Array;case"uint8":case"unorm8":return Uint8Array;case"sint8":case"snorm8":return Int8Array;default:throw new Error(t)}}function OJ(t,e,n){if(!e||e>4)throw new Error(`size ${e}`);const r=e;let s=ZV(t);if(s==="uint8"&&n&&r===1)return"unorm8-webgl";if(s==="uint8"&&n&&r===3)return"unorm8x3-webgl";if(s==="uint8"||s==="sint8"){if(r===1||r===3)throw new Error(`size: ${e}`);return n&&(s=s.replace("int","norm")),`${s}x${r}`}if(s==="uint16"||s==="sint16"){if(r===1||r===3)throw new Error(`size: ${e}`);return n&&(s=s.replace("int","norm")),`${s}x${r}`}return r===1?s:`${s}x${r}`}class j1{constructor(e){H(this,"bufferLayouts");this.bufferLayouts=e}getBufferLayout(e){return this.bufferLayouts.find(n=>n.name===e)||null}getAttributeNamesForBuffer(e){var n;return e.attributes?(n=e.attributes)==null?void 0:n.map(r=>r.attribute):[e.name]}mergeBufferLayouts(e,n){const r=[...e];for(const s of n){const o=r.findIndex(l=>l.name===s.name);o<0?r.push(s):r[o]=s}return r}getBufferIndex(e){const n=this.bufferLayouts.findIndex(r=>r.name===e);return n===-1&&ot.warn(`BufferLayout: Missing buffer for "${e}".`)(),n}}function UJ(t,e){const n=Object.fromEntries(t.attributes.map(s=>[s.name,s.location])),r=e.slice();return r.sort((s,o)=>{const l=s.attributes?s.attributes.map(p=>p.attribute):[s.name],c=o.attributes?o.attributes.map(p=>p.attribute):[o.name],f=Math.min(...l.map(p=>n[p])),h=Math.min(...c.map(p=>n[p]));return f-h}),r}class Ri{constructor(e,n){this.name=e,this.attributes=n,this.size=0}get isArray(){return!1}get isStruct(){return!1}get isTemplate(){return!1}get isPointer(){return!1}getTypeName(){return this.name}}class $2{constructor(e,n,r){this.name=e,this.type=n,this.attributes=r,this.offset=0,this.size=0}get isArray(){return this.type.isArray}get isStruct(){return this.type.isStruct}get isTemplate(){return this.type.isTemplate}get align(){return this.type.isStruct?this.type.align:0}get members(){return this.type.isStruct?this.type.members:null}get format(){return this.type.isArray||this.type.isTemplate?this.type.format:null}get count(){return this.type.isArray?this.type.count:0}get stride(){return this.type.isArray?this.type.stride:this.size}}class Pl extends Ri{constructor(e,n){super(e,n),this.members=[],this.align=0,this.startLine=-1,this.endLine=-1,this.inUse=!1}get isStruct(){return!0}}class Vl extends Ri{constructor(e,n){super(e,n),this.count=0,this.stride=0}get isArray(){return!0}getTypeName(){return`array<${this.format.getTypeName()}, ${this.count}>`}}class wS extends Ri{constructor(e,n,r){super(e,r),this.format=n}get isPointer(){return!0}getTypeName(){return`&${this.format.getTypeName()}`}}class du extends Ri{constructor(e,n,r,s){super(e,r),this.format=n,this.access=s}get isTemplate(){return!0}getTypeName(){let e=this.name;if(this.format!==null){if(e==="vec2"||e==="vec3"||e==="vec4"||e==="mat2x2"||e==="mat2x3"||e==="mat2x4"||e==="mat3x2"||e==="mat3x3"||e==="mat3x4"||e==="mat4x2"||e==="mat4x3"||e==="mat4x4"){if(this.format.name==="f32")return e+="f",e;if(this.format.name==="i32")return e+="i",e;if(this.format.name==="u32")return e+="u",e;if(this.format.name==="bool")return e+="b",e;if(this.format.name==="f16")return e+="h",e}e+=`<${this.format.name}>`}else if(e==="vec2"||e==="vec3"||e==="vec4")return e;return e}}var gl;(t=>{t[t.Uniform=0]="Uniform",t[t.Storage=1]="Storage",t[t.Texture=2]="Texture",t[t.Sampler=3]="Sampler",t[t.StorageTexture=4]="StorageTexture"})(gl||(gl={}));class Yb{constructor(e,n,r,s,o,l,c){this.name=e,this.type=n,this.group=r,this.binding=s,this.attributes=o,this.resourceType=l,this.access=c}get isArray(){return this.type.isArray}get isStruct(){return this.type.isStruct}get isTemplate(){return this.type.isTemplate}get size(){return this.type.size}get align(){return this.type.isStruct?this.type.align:0}get members(){return this.type.isStruct?this.type.members:null}get format(){return this.type.isArray||this.type.isTemplate?this.type.format:null}get count(){return this.type.isArray?this.type.count:0}get stride(){return this.type.isArray?this.type.stride:this.size}}class VJ{constructor(e,n){this.name=e,this.type=n}}class FJ{constructor(e,n,r,s){this.name=e,this.type=n,this.locationType=r,this.location=s,this.interpolation=null}}class H2{constructor(e,n,r,s){this.name=e,this.type=n,this.locationType=r,this.location=s}}class BJ{constructor(e,n,r,s){this.name=e,this.type=n,this.attributes=r,this.id=s}}class LJ{constructor(e,n,r){this.name=e,this.type=n,this.attributes=r}}class zJ{constructor(e,n=null,r){this.stage=null,this.inputs=[],this.outputs=[],this.arguments=[],this.returnType=null,this.resources=[],this.overrides=[],this.startLine=-1,this.endLine=-1,this.inUse=!1,this.calls=new Set,this.name=e,this.stage=n,this.attributes=r}}class $J{constructor(){this.vertex=[],this.fragment=[],this.compute=[]}}const GV=new Float32Array(1),HJ=new Int32Array(GV.buffer),cs=new Uint16Array(1);function WJ(t){GV[0]=t;const e=HJ[0],n=e>>31&1;let r=e>>23&255,s=8388607&e;if(r===255)return cs[0]=n<<15|31744|(s!==0?512:0),cs[0];if(r===0){if(s===0)return cs[0]=n<<15,cs[0];s|=8388608;let o=113;for(;!(8388608&s);)s<<=1,o--;return r=127-o,s&=8388607,r>0?(s=(s>>126-r)+(s>>127-r&1),cs[0]=n<<15|r<<10|s>>13,cs[0]):(cs[0]=n<<15,cs[0])}return r=r-127+15,r>=31?(cs[0]=n<<15|31744,cs[0]):r<=0?r<-10?(cs[0]=n<<15,cs[0]):(s=(8388608|s)>>1-r,cs[0]=n<<15|s>>13,cs[0]):(s>>=13,cs[0]=n<<15|r<<10|s,cs[0])}const sT=new Uint32Array(1),JV=new Float32Array(sT.buffer,0,1);function W2(t){const e=112+(t>>6&31)<<23|(63&t)<<17;return sT[0]=e,JV[0]}function qJ(t,e,n,r,s,o,l,c,f){const h=r*(l>>=s)*(o>>=s)+n*l+e*c;switch(f){case"r8unorm":return[Tn(t,h,"8unorm",1)[0]];case"r8snorm":return[Tn(t,h,"8snorm",1)[0]];case"r8uint":return[Tn(t,h,"8uint",1)[0]];case"r8sint":return[Tn(t,h,"8sint",1)[0]];case"rg8unorm":{const p=Tn(t,h,"8unorm",2);return[p[0],p[1]]}case"rg8snorm":{const p=Tn(t,h,"8snorm",2);return[p[0],p[1]]}case"rg8uint":{const p=Tn(t,h,"8uint",2);return[p[0],p[1]]}case"rg8sint":{const p=Tn(t,h,"8sint",2);return[p[0],p[1]]}case"rgba8unorm-srgb":case"rgba8unorm":{const p=Tn(t,h,"8unorm",4);return[p[0],p[1],p[2],p[3]]}case"rgba8snorm":{const p=Tn(t,h,"8snorm",4);return[p[0],p[1],p[2],p[3]]}case"rgba8uint":{const p=Tn(t,h,"8uint",4);return[p[0],p[1],p[2],p[3]]}case"rgba8sint":{const p=Tn(t,h,"8sint",4);return[p[0],p[1],p[2],p[3]]}case"bgra8unorm-srgb":case"bgra8unorm":{const p=Tn(t,h,"8unorm",4);return[p[2],p[1],p[0],p[3]]}case"r16uint":return[Tn(t,h,"16uint",1)[0]];case"r16sint":return[Tn(t,h,"16sint",1)[0]];case"r16float":return[Tn(t,h,"16float",1)[0]];case"rg16uint":{const p=Tn(t,h,"16uint",2);return[p[0],p[1]]}case"rg16sint":{const p=Tn(t,h,"16sint",2);return[p[0],p[1]]}case"rg16float":{const p=Tn(t,h,"16float",2);return[p[0],p[1]]}case"rgba16uint":{const p=Tn(t,h,"16uint",4);return[p[0],p[1],p[2],p[3]]}case"rgba16sint":{const p=Tn(t,h,"16sint",4);return[p[0],p[1],p[2],p[3]]}case"rgba16float":{const p=Tn(t,h,"16float",4);return[p[0],p[1],p[2],p[3]]}case"r32uint":return[Tn(t,h,"32uint",1)[0]];case"r32sint":return[Tn(t,h,"32sint",1)[0]];case"depth16unorm":case"depth24plus":case"depth24plus-stencil8":case"depth32float":case"depth32float-stencil8":case"r32float":return[Tn(t,h,"32float",1)[0]];case"rg32uint":{const p=Tn(t,h,"32uint",2);return[p[0],p[1]]}case"rg32sint":{const p=Tn(t,h,"32sint",2);return[p[0],p[1]]}case"rg32float":{const p=Tn(t,h,"32float",2);return[p[0],p[1]]}case"rgba32uint":{const p=Tn(t,h,"32uint",4);return[p[0],p[1],p[2],p[3]]}case"rgba32sint":{const p=Tn(t,h,"32sint",4);return[p[0],p[1],p[2],p[3]]}case"rgba32float":{const p=Tn(t,h,"32float",4);return[p[0],p[1],p[2],p[3]]}case"rg11b10ufloat":{const p=new Uint32Array(t.buffer,h,1)[0],m=(4192256&p)>>11,x=(4290772992&p)>>22;return[W2(2047&p),W2(m),function(w){const E=112+(w>>5&31)<<23|(31&w)<<18;return sT[0]=E,JV[0]}(x),1]}}return null}function Tn(t,e,n,r){const s=[0,0,0,0];for(let h=0;h<r;++h)switch(n){case"8unorm":s[h]=t[e]/255,e++;break;case"8snorm":s[h]=t[e]/255*2-1,e++;break;case"8uint":s[h]=t[e],e++;break;case"8sint":s[h]=t[e]-127,e++;break;case"16uint":s[h]=t[e]|t[e+1]<<8,e+=2;break;case"16sint":s[h]=(t[e]|t[e+1]<<8)-32768,e+=2;break;case"16float":s[h]=(o=t[e]|t[e+1]<<8,l=void 0,c=void 0,f=void 0,l=(32768&o)>>15,f=1023&o,(c=(31744&o)>>10)==0?(l?-1:1)*Math.pow(2,-14)*(f/Math.pow(2,10)):c==31?f?NaN:1/0*(l?-1:1):(l?-1:1)*Math.pow(2,c-15)*(1+f/Math.pow(2,10))),e+=2;break;case"32uint":case"32sint":s[h]=t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24,e+=4;break;case"32float":s[h]=new Float32Array(t.buffer,e,1)[0],e+=4}var o,l,c,f;return s}function Dn(t,e,n,r,s){for(let o=0;o<r;++o)switch(n){case"8unorm":t[e]=255*s[o],e++;break;case"8snorm":t[e]=.5*(s[o]+1)*255,e++;break;case"8uint":t[e]=s[o],e++;break;case"8sint":t[e]=s[o]+127,e++;break;case"16uint":new Uint16Array(t.buffer,e,1)[0]=s[o],e+=2;break;case"16sint":new Int16Array(t.buffer,e,1)[0]=s[o],e+=2;break;case"16float":{const l=WJ(s[o]);new Uint16Array(t.buffer,e,1)[0]=l,e+=2;break}case"32uint":new Uint32Array(t.buffer,e,1)[0]=s[o],e+=4;break;case"32sint":new Int32Array(t.buffer,e,1)[0]=s[o],e+=4;break;case"32float":new Float32Array(t.buffer,e,1)[0]=s[o],e+=4}return s}const M1={r8unorm:{bytesPerBlock:1,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r8snorm:{bytesPerBlock:1,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r8uint:{bytesPerBlock:1,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r8sint:{bytesPerBlock:1,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},rg8unorm:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg8snorm:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg8uint:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg8sint:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rgba8unorm:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},"rgba8unorm-srgb":{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba8snorm:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba8uint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba8sint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},bgra8unorm:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},"bgra8unorm-srgb":{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},r16uint:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r16sint:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r16float:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},rg16uint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg16sint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg16float:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rgba16uint:{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba16sint:{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba16float:{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},r32uint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r32sint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r32float:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},rg32uint:{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg32sint:{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg32float:{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rgba32uint:{bytesPerBlock:16,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba32sint:{bytesPerBlock:16,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba32float:{bytesPerBlock:16,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgb10a2uint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgb10a2unorm:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rg11b10ufloat:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},stencil8:{bytesPerBlock:1,blockWidth:1,blockHeight:1,isCompressed:!1,isDepthStencil:!0,hasDepth:!1,hasStencil:!0,channels:1},depth16unorm:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,isDepthStencil:!0,hasDepth:!0,hasStencil:!1,channels:1},depth24plus:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,isDepthStencil:!0,hasDepth:!0,hasStencil:!1,depthOnlyFormat:"depth32float",channels:1},"depth24plus-stencil8":{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,isDepthStencil:!0,hasDepth:!0,hasStencil:!0,depthOnlyFormat:"depth32float",channels:1},depth32float:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,isDepthStencil:!0,hasDepth:!0,hasStencil:!1,channels:1},"depth32float-stencil8":{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,isDepthStencil:!0,hasDepth:!0,hasStencil:!0,stencilOnlyFormat:"depth32float",channels:1},rgb9e5ufloat:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},"bc1-rgba-unorm":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc1-rgba-unorm-srgb":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc2-rgba-unorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc2-rgba-unorm-srgb":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc3-rgba-unorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc3-rgba-unorm-srgb":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc4-r-unorm":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:1},"bc4-r-snorm":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:1},"bc5-rg-unorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:2},"bc5-rg-snorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:2},"bc6h-rgb-ufloat":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc6h-rgb-float":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc7-rgba-unorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc7-rgba-unorm-srgb":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"etc2-rgb8unorm":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"etc2-rgb8unorm-srgb":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"etc2-rgb8a1unorm":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"etc2-rgb8a1unorm-srgb":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"etc2-rgba8unorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"etc2-rgba8unorm-srgb":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"eac-r11unorm":{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!0,channels:1},"eac-r11snorm":{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!0,channels:1},"eac-rg11unorm":{bytesPerBlock:16,blockWidth:1,blockHeight:1,isCompressed:!0,channels:2},"eac-rg11snorm":{bytesPerBlock:16,blockWidth:1,blockHeight:1,isCompressed:!0,channels:2},"astc-4x4-unorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"astc-4x4-unorm-srgb":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"astc-5x4-unorm":{bytesPerBlock:16,blockWidth:5,blockHeight:4,isCompressed:!0,channels:4},"astc-5x4-unorm-srgb":{bytesPerBlock:16,blockWidth:5,blockHeight:4,isCompressed:!0,channels:4},"astc-5x5-unorm":{bytesPerBlock:16,blockWidth:5,blockHeight:5,isCompressed:!0,channels:4},"astc-5x5-unorm-srgb":{bytesPerBlock:16,blockWidth:5,blockHeight:5,isCompressed:!0,channels:4},"astc-6x5-unorm":{bytesPerBlock:16,blockWidth:6,blockHeight:5,isCompressed:!0,channels:4},"astc-6x5-unorm-srgb":{bytesPerBlock:16,blockWidth:6,blockHeight:5,isCompressed:!0,channels:4},"astc-6x6-unorm":{bytesPerBlock:16,blockWidth:6,blockHeight:6,isCompressed:!0,channels:4},"astc-6x6-unorm-srgb":{bytesPerBlock:16,blockWidth:6,blockHeight:6,isCompressed:!0,channels:4},"astc-8x5-unorm":{bytesPerBlock:16,blockWidth:8,blockHeight:5,isCompressed:!0,channels:4},"astc-8x5-unorm-srgb":{bytesPerBlock:16,blockWidth:8,blockHeight:5,isCompressed:!0,channels:4},"astc-8x6-unorm":{bytesPerBlock:16,blockWidth:8,blockHeight:6,isCompressed:!0,channels:4},"astc-8x6-unorm-srgb":{bytesPerBlock:16,blockWidth:8,blockHeight:6,isCompressed:!0,channels:4},"astc-8x8-unorm":{bytesPerBlock:16,blockWidth:8,blockHeight:8,isCompressed:!0,channels:4},"astc-8x8-unorm-srgb":{bytesPerBlock:16,blockWidth:8,blockHeight:8,isCompressed:!0,channels:4},"astc-10x5-unorm":{bytesPerBlock:16,blockWidth:10,blockHeight:5,isCompressed:!0,channels:4},"astc-10x5-unorm-srgb":{bytesPerBlock:16,blockWidth:10,blockHeight:5,isCompressed:!0,channels:4},"astc-10x6-unorm":{bytesPerBlock:16,blockWidth:10,blockHeight:6,isCompressed:!0,channels:4},"astc-10x6-unorm-srgb":{bytesPerBlock:16,blockWidth:10,blockHeight:6,isCompressed:!0,channels:4},"astc-10x8-unorm":{bytesPerBlock:16,blockWidth:10,blockHeight:8,isCompressed:!0,channels:4},"astc-10x8-unorm-srgb":{bytesPerBlock:16,blockWidth:10,blockHeight:8,isCompressed:!0,channels:4},"astc-10x10-unorm":{bytesPerBlock:16,blockWidth:10,blockHeight:10,isCompressed:!0,channels:4},"astc-10x10-unorm-srgb":{bytesPerBlock:16,blockWidth:10,blockHeight:10,isCompressed:!0,channels:4},"astc-12x10-unorm":{bytesPerBlock:16,blockWidth:12,blockHeight:10,isCompressed:!0,channels:4},"astc-12x10-unorm-srgb":{bytesPerBlock:16,blockWidth:12,blockHeight:10,isCompressed:!0,channels:4},"astc-12x12-unorm":{bytesPerBlock:16,blockWidth:12,blockHeight:12,isCompressed:!0,channels:4},"astc-12x12-unorm-srgb":{bytesPerBlock:16,blockWidth:12,blockHeight:12,isCompressed:!0,channels:4}};class Ii{constructor(){this.id=Ii._id++,this.line=0}get isAstNode(){return!0}get astNodeType(){return""}search(e){e(this)}searchBlock(e,n){if(e){n(ry.instance);for(const r of e)r instanceof Array?this.searchBlock(r,n):r.search(n);n(sy.instance)}}constEvaluate(e,n){throw new Error("Cannot evaluate node")}constEvaluateString(e){return this.constEvaluate(e).toString()}}Ii._id=0;class ry extends Ii{}ry.instance=new ry;class sy extends Ii{}sy.instance=new sy;const eF=new Set(["all","all","any","select","arrayLength","abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","clamp","cos","cosh","countLeadingZeros","countOneBits","countTrailingZeros","cross","degrees","determinant","distance","dot","dot4U8Packed","dot4I8Packed","exp","exp2","extractBits","faceForward","firstLeadingBit","firstTrailingBit","floor","fma","fract","frexp","insertBits","inverseSqrt","ldexp","length","log","log2","max","min","mix","modf","normalize","pow","quantizeToF16","radians","reflect","refract","reverseBits","round","saturate","sign","sin","sinh","smoothStep","sqrt","step","tan","tanh","transpose","trunc","dpdx","dpdxCoarse","dpdxFine","dpdy","dpdyCoarse","dpdyFine","fwidth","fwidthCoarse","fwidthFine","textureDimensions","textureGather","textureGatherCompare","textureLoad","textureNumLayers","textureNumLevels","textureNumSamples","textureSample","textureSampleBias","textureSampleCompare","textureSampleCompareLevel","textureSampleGrad","textureSampleLevel","textureSampleBaseClampToEdge","textureStore","atomicLoad","atomicStore","atomicAdd","atomicSub","atomicMax","atomicMin","atomicAnd","atomicOr","atomicXor","atomicExchange","atomicCompareExchangeWeak","pack4x8snorm","pack4x8unorm","pack4xI8","pack4xU8","pack4x8Clamp","pack4xU8Clamp","pack2x16snorm","pack2x16unorm","pack2x16float","unpack4x8snorm","unpack4x8unorm","unpack4xI8","unpack4xU8","unpack2x16snorm","unpack2x16unorm","unpack2x16float","storageBarrier","textureBarrier","workgroupBarrier","workgroupUniformLoad","subgroupAdd","subgroupExclusiveAdd","subgroupInclusiveAdd","subgroupAll","subgroupAnd","subgroupAny","subgroupBallot","subgroupBroadcast","subgroupBroadcastFirst","subgroupElect","subgroupMax","subgroupMin","subgroupMul","subgroupExclusiveMul","subgroupInclusiveMul","subgroupOr","subgroupShuffle","subgroupShuffleDown","subgroupShuffleUp","subgroupShuffleXor","subgroupXor","quadBroadcast","quadSwapDiagonal","quadSwapX","quadSwapY"]);class or extends Ii{constructor(){super()}}class nm extends or{constructor(e,n,r,s,o,l){super(),this.calls=new Set,this.name=e,this.args=n,this.returnType=r,this.body=s,this.startLine=o,this.endLine=l}get astNodeType(){return"function"}search(e){if(this.attributes)for(const n of this.attributes)e(n);e(this);for(const n of this.args)e(n);this.searchBlock(this.body,e)}}class XJ extends or{constructor(e){super(),this.expression=e}get astNodeType(){return"staticAssert"}search(e){this.expression.search(e)}}class tF extends or{constructor(e,n){super(),this.condition=e,this.body=n}get astNodeType(){return"while"}search(e){this.condition.search(e),this.searchBlock(this.body,e)}}class _S extends or{constructor(e,n){super(),this.body=e,this.loopId=n}get astNodeType(){return"continuing"}search(e){this.searchBlock(this.body,e)}}class nF extends or{constructor(e,n,r,s){super(),this.init=e,this.condition=n,this.increment=r,this.body=s}get astNodeType(){return"for"}search(e){var n,r,s;(n=this.init)===null||n===void 0||n.search(e),(r=this.condition)===null||r===void 0||r.search(e),(s=this.increment)===null||s===void 0||s.search(e),this.searchBlock(this.body,e)}}class Sa extends or{constructor(e,n,r,s,o){super(),this.attributes=null,this.name=e,this.type=n,this.storage=r,this.access=s,this.value=o}get astNodeType(){return"var"}search(e){var n;e(this),(n=this.value)===null||n===void 0||n.search(e)}}class iT extends or{constructor(e,n,r){super(),this.attributes=null,this.name=e,this.type=n,this.value=r}get astNodeType(){return"override"}search(e){var n;(n=this.value)===null||n===void 0||n.search(e)}}class Vp extends or{constructor(e,n,r,s,o){super(),this.attributes=null,this.name=e,this.type=n,this.storage=r,this.access=s,this.value=o}get astNodeType(){return"let"}search(e){var n;e(this),(n=this.value)===null||n===void 0||n.search(e)}}class xx extends or{constructor(e,n,r,s,o){super(),this.attributes=null,this.name=e,this.type=n,this.storage=r,this.access=s,this.value=o}get astNodeType(){return"const"}constEvaluate(e,n){return this.value.constEvaluate(e,n)}search(e){var n;e(this),(n=this.value)===null||n===void 0||n.search(e)}}var $f,Cp,Pe,Ae;(t=>{t.increment="++",t.decrement="--"})($f||($f={})),(t=>{t.parse=function(e){const n=e;if(n=="parse")throw new Error("Invalid value for IncrementOperator");return t[n]}})($f||($f={}));class rF extends or{constructor(e,n){super(),this.operator=e,this.variable=n}get astNodeType(){return"increment"}search(e){this.variable.search(e)}}(t=>{t.assign="=",t.addAssign="+=",t.subtractAssin="-=",t.multiplyAssign="*=",t.divideAssign="/=",t.moduloAssign="%=",t.andAssign="&=",t.orAssign="|=",t.xorAssign="^=",t.shiftLeftAssign="<<=",t.shiftRightAssign=">>="})(Cp||(Cp={})),(t=>{t.parse=function(e){const n=e;if(n=="parse")throw new Error("Invalid value for AssignOperator");return n}})(Cp||(Cp={}));class sF extends or{constructor(e,n,r){super(),this.operator=e,this.variable=n,this.value=r}get astNodeType(){return"assign"}search(e){this.variable.search(e),this.value.search(e)}}class oT extends or{constructor(e,n){super(),this.name=e,this.args=n}get astNodeType(){return"call"}isBuiltin(){return eF.has(this.name)}search(e){for(const n of this.args)n.search(e);e(this)}}class iF extends or{constructor(e,n){super(),this.body=e,this.continuing=n}get astNodeType(){return"loop"}}class oF extends or{constructor(e,n){super(),this.condition=e,this.cases=n}get astNodeType(){return"switch"}search(e){e(this);for(const n of this.cases)n.search(e)}}class aF extends or{constructor(e,n,r,s){super(),this.condition=e,this.body=n,this.elseif=r,this.else=s}get astNodeType(){return"if"}search(e){this.condition.search(e),this.searchBlock(this.body,e),this.searchBlock(this.elseif,e),this.searchBlock(this.else,e)}}class lF extends or{constructor(e){super(),this.value=e}get astNodeType(){return"return"}search(e){var n;(n=this.value)===null||n===void 0||n.search(e)}}class YJ extends or{constructor(e){super(),this.name=e}get astNodeType(){return"enable"}}class KJ extends or{constructor(e){super(),this.extensions=e}get astNodeType(){return"requires"}}class cF extends or{constructor(e,n){super(),this.severity=e,this.rule=n}get astNodeType(){return"diagnostic"}}class aT extends or{constructor(e,n){super(),this.name=e,this.type=n}get astNodeType(){return"alias"}}class ZJ extends or{constructor(){super()}get astNodeType(){return"discard"}}class uF extends or{constructor(){super(),this.condition=null,this.loopId=-1}get astNodeType(){return"break"}}class fF extends or{constructor(){super(),this.loopId=-1}get astNodeType(){return"continue"}}let Qe=class yx extends or{constructor(e){super(),this.attributes=null,this.name=e}get astNodeType(){return"type"}get isStruct(){return!1}get isArray(){return!1}static maxFormatType(e){let n=e[0];if(n.name==="f32")return n;for(let r=1;r<e.length;++r){const s=yx._priority.get(n.name);yx._priority.get(e[r].name)<s&&(n=e[r])}return n.name==="x32"?yx.i32:n}getTypeName(){return this.name}};Qe.x32=new Qe("x32"),Qe.f32=new Qe("f32"),Qe.i32=new Qe("i32"),Qe.u32=new Qe("u32"),Qe.f16=new Qe("f16"),Qe.bool=new Qe("bool"),Qe.void=new Qe("void"),Qe._priority=new Map([["f32",0],["f16",1],["u32",2],["i32",3],["x32",3]]);class q2 extends Qe{constructor(e){super(e)}}class xa extends Qe{constructor(e,n,r,s){super(e),this.members=n,this.startLine=r,this.endLine=s}get astNodeType(){return"struct"}get isStruct(){return!0}getMemberIndex(e){for(let n=0;n<this.members.length;n++)if(this.members[n].name==e)return n;return-1}search(e){for(const n of this.members)e(n)}}class ke extends Qe{constructor(e,n,r){super(e),this.format=n,this.access=r}get astNodeType(){return"template"}getTypeName(){let e=this.name;if(this.format!==null){if(e==="vec2"||e==="vec3"||e==="vec4"||e==="mat2x2"||e==="mat2x3"||e==="mat2x4"||e==="mat3x2"||e==="mat3x3"||e==="mat3x4"||e==="mat4x2"||e==="mat4x3"||e==="mat4x4"){if(this.format.name==="f32")return e+="f",e;if(this.format.name==="i32")return e+="i",e;if(this.format.name==="u32")return e+="u",e;if(this.format.name==="bool")return e+="b",e;if(this.format.name==="f16")return e+="h",e}e+=`<${this.format.name}>`}else if(e==="vec2"||e==="vec3"||e==="vec4")return e;return e}}ke.vec2f=new ke("vec2",Qe.f32,null),ke.vec3f=new ke("vec3",Qe.f32,null),ke.vec4f=new ke("vec4",Qe.f32,null),ke.vec2i=new ke("vec2",Qe.i32,null),ke.vec3i=new ke("vec3",Qe.i32,null),ke.vec4i=new ke("vec4",Qe.i32,null),ke.vec2u=new ke("vec2",Qe.u32,null),ke.vec3u=new ke("vec3",Qe.u32,null),ke.vec4u=new ke("vec4",Qe.u32,null),ke.vec2h=new ke("vec2",Qe.f16,null),ke.vec3h=new ke("vec3",Qe.f16,null),ke.vec4h=new ke("vec4",Qe.f16,null),ke.vec2b=new ke("vec2",Qe.bool,null),ke.vec3b=new ke("vec3",Qe.bool,null),ke.vec4b=new ke("vec4",Qe.bool,null),ke.mat2x2f=new ke("mat2x2",Qe.f32,null),ke.mat2x3f=new ke("mat2x3",Qe.f32,null),ke.mat2x4f=new ke("mat2x4",Qe.f32,null),ke.mat3x2f=new ke("mat3x2",Qe.f32,null),ke.mat3x3f=new ke("mat3x3",Qe.f32,null),ke.mat3x4f=new ke("mat3x4",Qe.f32,null),ke.mat4x2f=new ke("mat4x2",Qe.f32,null),ke.mat4x3f=new ke("mat4x3",Qe.f32,null),ke.mat4x4f=new ke("mat4x4",Qe.f32,null),ke.mat2x2h=new ke("mat2x2",Qe.f16,null),ke.mat2x3h=new ke("mat2x3",Qe.f16,null),ke.mat2x4h=new ke("mat2x4",Qe.f16,null),ke.mat3x2h=new ke("mat3x2",Qe.f16,null),ke.mat3x3h=new ke("mat3x3",Qe.f16,null),ke.mat3x4h=new ke("mat3x4",Qe.f16,null),ke.mat4x2h=new ke("mat4x2",Qe.f16,null),ke.mat4x3h=new ke("mat4x3",Qe.f16,null),ke.mat4x4h=new ke("mat4x4",Qe.f16,null),ke.mat2x2i=new ke("mat2x2",Qe.i32,null),ke.mat2x3i=new ke("mat2x3",Qe.i32,null),ke.mat2x4i=new ke("mat2x4",Qe.i32,null),ke.mat3x2i=new ke("mat3x2",Qe.i32,null),ke.mat3x3i=new ke("mat3x3",Qe.i32,null),ke.mat3x4i=new ke("mat3x4",Qe.i32,null),ke.mat4x2i=new ke("mat4x2",Qe.i32,null),ke.mat4x3i=new ke("mat4x3",Qe.i32,null),ke.mat4x4i=new ke("mat4x4",Qe.i32,null),ke.mat2x2u=new ke("mat2x2",Qe.u32,null),ke.mat2x3u=new ke("mat2x3",Qe.u32,null),ke.mat2x4u=new ke("mat2x4",Qe.u32,null),ke.mat3x2u=new ke("mat3x2",Qe.u32,null),ke.mat3x3u=new ke("mat3x3",Qe.u32,null),ke.mat3x4u=new ke("mat3x4",Qe.u32,null),ke.mat4x2u=new ke("mat4x2",Qe.u32,null),ke.mat4x3u=new ke("mat4x3",Qe.u32,null),ke.mat4x4u=new ke("mat4x4",Qe.u32,null);class vx extends Qe{constructor(e,n,r,s){super(e),this.storage=n,this.type=r,this.access=s}get astNodeType(){return"pointer"}}class Fp extends Qe{constructor(e,n,r,s){super(e),this.attributes=n,this.format=r,this.count=s}get astNodeType(){return"array"}get isArray(){return!0}}class Rp extends Qe{constructor(e,n,r){super(e),this.format=n,this.access=r}get astNodeType(){return"sampler"}}class io extends Ii{constructor(){super(),this.postfix=null}}class hu extends io{constructor(e){super(),this.value=e}get astNodeType(){return"stringExpr"}toString(){return this.value}constEvaluateString(){return this.value}}class Ao extends io{constructor(e,n){super(),this.type=e,this.args=n}get astNodeType(){return"createExpr"}search(e){if(e(this),this.args)for(const n of this.args)n.search(e)}constEvaluate(e,n){return n&&(n[0]=this.type),e.evalExpression(this,e.context)}}class lT extends io{constructor(e,n){super(),this.cachedReturnValue=null,this.name=e,this.args=n}get astNodeType(){return"callExpr"}setCachedReturnValue(e){this.cachedReturnValue=e}get isBuiltin(){return eF.has(this.name)}constEvaluate(e,n){return e.evalExpression(this,e.context)}search(e){for(const n of this.args)n.search(e);e(this)}}class li extends io{constructor(e){super(),this.name=e}get astNodeType(){return"varExpr"}search(e){e(this),this.postfix&&this.postfix.search(e)}constEvaluate(e,n){return e.evalExpression(this,e.context)}}class dF extends io{constructor(e,n){super(),this.name=e,this.initializer=n}get astNodeType(){return"constExpr"}constEvaluate(e,n){if(this.initializer){const r=e.evalExpression(this.initializer,e.context);return r!==null&&this.postfix?r.getSubData(e,this.postfix,e.context):r}return null}search(e){this.initializer.search(e)}}class Vr extends io{constructor(e,n){super(),this.value=e,this.type=n}get astNodeType(){return"literalExpr"}constEvaluate(e,n){return n!==void 0&&(n[0]=this.type),this.value}get isScalar(){return this.value instanceof Te}get isVector(){return this.value instanceof ae||this.value instanceof It}get scalarValue(){return this.value instanceof Te?this.value.value:(console.error("Value is not scalar."),0)}get vectorValue(){return this.value instanceof ae||this.value instanceof It?this.value.data:(console.error("Value is not a vector or matrix."),new Float32Array(0))}}class hF extends io{constructor(e,n){super(),this.type=e,this.value=n}get astNodeType(){return"bitcastExpr"}search(e){this.value.search(e)}}class yd extends io{constructor(e){super(),this.index=e}search(e){this.index.search(e)}}class pF extends io{constructor(){super()}}class Dr extends pF{constructor(e,n){super(),this.operator=e,this.right=n}get astNodeType(){return"unaryOp"}constEvaluate(e,n){return e.evalExpression(this,e.context)}search(e){this.right.search(e)}}class Wi extends pF{constructor(e,n,r){super(),this.operator=e,this.left=n,this.right=r}get astNodeType(){return"binaryOp"}_getPromotedType(e,n){return e.name===n.name?e:e.name==="f32"||n.name==="f32"?Qe.f32:e.name==="u32"||n.name==="u32"?Qe.u32:Qe.i32}constEvaluate(e,n){return e.evalExpression(this,e.context)}search(e){this.left.search(e),this.right.search(e)}}class mF extends Ii{constructor(e){super(),this.body=e}search(e){e(this),this.searchBlock(this.body,e)}}class wx extends io{constructor(){super()}get astNodeType(){return"default"}}class gF extends mF{constructor(e,n){super(n),this.selectors=e}get astNodeType(){return"case"}search(e){this.searchBlock(this.body,e)}}class bF extends mF{constructor(e){super(e)}get astNodeType(){return"default"}search(e){this.searchBlock(this.body,e)}}class X2 extends Ii{constructor(e,n,r){super(),this.name=e,this.type=n,this.attributes=r}get astNodeType(){return"argument"}}class QJ extends Ii{constructor(e,n){super(),this.condition=e,this.body=n}get astNodeType(){return"elseif"}search(e){this.condition.search(e),this.searchBlock(this.body,e)}}class Y2 extends Ii{constructor(e,n,r){super(),this.name=e,this.type=n,this.attributes=r}get astNodeType(){return"member"}}class xF extends Ii{constructor(e,n){super(),this.name=e,this.value=n}get astNodeType(){return"attribute"}}class Mi{constructor(e,n){this.parent=null,this.typeInfo=e,this.parent=n,this.id=Mi._id++}clone(){throw`Clone: Not implemented for ${this.constructor.name}`}setDataValue(e,n,r,s){console.error(`SetDataValue: Not implemented for ${this.constructor.name}`)}getSubData(e,n,r){return console.error(`GetDataValue: Not implemented for ${this.constructor.name}`),null}toString(){return`<${this.typeInfo.getTypeName()}>`}}Mi._id=0;class NS extends Mi{constructor(){super(new Ri("void",null),null)}toString(){return"void"}}NS.void=new NS;class kf extends Mi{constructor(e){super(new wS("pointer",e.typeInfo,null),null),this.reference=e}clone(){return this}setDataValue(e,n,r,s){this.reference.setDataValue(e,n,r,s)}getSubData(e,n,r){return n?this.reference.getSubData(e,n,r):this}toString(){return`&${this.reference.toString()}`}}class Te extends Mi{constructor(e,n,r=null){super(n,r),e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array?this.data=e:this.typeInfo.name==="x32"?e-Math.floor(e)!=0?this.data=new Float32Array([e]):this.data=e>=0?new Uint32Array([e]):new Int32Array([e]):this.typeInfo.name==="i32"||this.typeInfo.name==="bool"?this.data=new Int32Array([e]):this.typeInfo.name==="u32"?this.data=new Uint32Array([e]):this.typeInfo.name==="f32"||this.typeInfo.name==="f16"?this.data=new Float32Array([e]):console.error("ScalarData2: Invalid type",n)}clone(){if(this.data instanceof Float32Array)return new Te(new Float32Array(this.data),this.typeInfo,null);if(this.data instanceof Int32Array)return new Te(new Int32Array(this.data),this.typeInfo,null);if(this.data instanceof Uint32Array)return new Te(new Uint32Array(this.data),this.typeInfo,null);throw"ScalarData: Invalid data type"}get value(){return this.data[0]}set value(e){this.data[0]=e}setDataValue(e,n,r,s){if(r)return void console.error("SetDataValue: Scalar data does not support postfix",r);if(!(n instanceof Te))return void console.error("SetDataValue: Invalid value",n);let o=n.data[0];this.typeInfo.name==="i32"||this.typeInfo.name==="u32"?o=Math.floor(o):this.typeInfo.name==="bool"&&(o=o?1:0),this.data[0]=o}getSubData(e,n,r){return n?(console.error("getSubData: Scalar data does not support postfix",n),null):this}toString(){return`${this.value}`}}function GJ(t,e,n){const r=e.length;return r===2?n==="f32"?new ae(new Float32Array(e),t.getTypeInfo("vec2f")):n==="i32"||n==="bool"?new ae(new Int32Array(e),t.getTypeInfo("vec2i")):n==="u32"?new ae(new Uint32Array(e),t.getTypeInfo("vec2u")):n==="f16"?new ae(new Float32Array(e),t.getTypeInfo("vec2h")):(console.error(`getSubData: Unknown format ${n}`),null):r===3?n==="f32"?new ae(new Float32Array(e),t.getTypeInfo("vec3f")):n==="i32"||n==="bool"?new ae(new Int32Array(e),t.getTypeInfo("vec3i")):n==="u32"?new ae(new Uint32Array(e),t.getTypeInfo("vec3u")):n==="f16"?new ae(new Float32Array(e),t.getTypeInfo("vec3h")):(console.error(`getSubData: Unknown format ${n}`),null):r===4?n==="f32"?new ae(new Float32Array(e),t.getTypeInfo("vec4f")):n==="i32"||n==="bool"?new ae(new Int32Array(e),t.getTypeInfo("vec4i")):n==="u32"?new ae(new Uint32Array(e),t.getTypeInfo("vec4u")):n==="f16"?new ae(new Float32Array(e),t.getTypeInfo("vec4h")):(console.error(`getSubData: Unknown format ${n}`),null):(console.error(`getSubData: Invalid vector size ${e.length}`),null)}class ae extends Mi{constructor(e,n,r=null){if(super(n,r),e instanceof Float32Array||e instanceof Uint32Array||e instanceof Int32Array)this.data=e;else{const s=this.typeInfo.name;s==="vec2f"||s==="vec3f"||s==="vec4f"?this.data=new Float32Array(e):s==="vec2i"||s==="vec3i"||s==="vec4i"?this.data=new Int32Array(e):s==="vec2u"||s==="vec3u"||s==="vec4u"?this.data=new Uint32Array(e):s==="vec2h"||s==="vec3h"||s==="vec4h"?this.data=new Float32Array(e):s==="vec2b"||s==="vec3b"||s==="vec4b"?this.data=new Int32Array(e):s==="vec2"||s==="vec3"||s==="vec4"?this.data=new Float32Array(e):console.error(`VectorData: Invalid type ${s}`)}}clone(){if(this.data instanceof Float32Array)return new ae(new Float32Array(this.data),this.typeInfo,null);if(this.data instanceof Int32Array)return new ae(new Int32Array(this.data),this.typeInfo,null);if(this.data instanceof Uint32Array)return new ae(new Uint32Array(this.data),this.typeInfo,null);throw"VectorData: Invalid data type"}setDataValue(e,n,r,s){r instanceof hu?console.error("TODO: Set vector postfix"):n instanceof ae?this.data=n.data:console.error("SetDataValue: Invalid value",n)}getSubData(e,n,r){if(n===null)return this;let s=e.getTypeInfo("f32");if(this.typeInfo instanceof du)s=this.typeInfo.format||s;else{const l=this.typeInfo.name;l==="vec2f"||l==="vec3f"||l==="vec4f"?s=e.getTypeInfo("f32"):l==="vec2i"||l==="vec3i"||l==="vec4i"?s=e.getTypeInfo("i32"):l==="vec2b"||l==="vec3b"||l==="vec4b"?s=e.getTypeInfo("bool"):l==="vec2u"||l==="vec3u"||l==="vec4u"?s=e.getTypeInfo("u32"):l==="vec2h"||l==="vec3h"||l==="vec4h"?s=e.getTypeInfo("f16"):console.error(`GetSubData: Unknown type ${l}`)}let o=this;for(;n!==null&&o!==null;){if(n instanceof yd){const l=n.index;let c=-1;if(l instanceof Vr){if(!(l.value instanceof Te))return console.error(`GetSubData: Invalid array index ${l.value}`),null;c=l.value.value}else{const f=e.evalExpression(l,r);if(!(f instanceof Te))return console.error("GetSubData: Unknown index type",l),null;c=f.value}if(c<0||c>=o.data.length)return console.error("GetSubData: Index out of range",c),null;if(o.data instanceof Float32Array){const f=new Float32Array(o.data.buffer,o.data.byteOffset+4*c,1);return new Te(f,s)}if(o.data instanceof Int32Array){const f=new Int32Array(o.data.buffer,o.data.byteOffset+4*c,1);return new Te(f,s)}if(o.data instanceof Uint32Array){const f=new Uint32Array(o.data.buffer,o.data.byteOffset+4*c,1);return new Te(f,s)}throw"GetSubData: Invalid data type"}if(!(n instanceof hu))return console.error("GetSubData: Unknown postfix",n),null;{const l=n.value.toLowerCase();if(l.length===1){let f=0;if(l==="x"||l==="r")f=0;else if(l==="y"||l==="g")f=1;else if(l==="z"||l==="b")f=2;else{if(l!=="w"&&l!=="a")return console.error(`GetSubData: Unknown member ${l}`),null;f=3}if(this.data instanceof Float32Array){let h=new Float32Array(this.data.buffer,this.data.byteOffset+4*f,1);return new Te(h,s,this)}if(this.data instanceof Int32Array){let h=new Int32Array(this.data.buffer,this.data.byteOffset+4*f,1);return new Te(h,s,this)}if(this.data instanceof Uint32Array){let h=new Uint32Array(this.data.buffer,this.data.byteOffset+4*f,1);return new Te(h,s,this)}}const c=[];for(const f of l)f==="x"||f==="r"?c.push(this.data[0]):f==="y"||f==="g"?c.push(this.data[1]):f==="z"||f==="b"?c.push(this.data[2]):f==="w"||f==="a"?c.push(this.data[3]):console.error(`GetDataValue: Unknown member ${f}`);o=GJ(e,c,s.name)}n=n.postfix}return o}toString(){let e=`${this.data[0]}`;for(let n=1;n<this.data.length;++n)e+=`, ${this.data[n]}`;return e}}class It extends Mi{constructor(e,n,r=null){super(n,r),e instanceof Float32Array?this.data=e:this.data=new Float32Array(e)}clone(){return new It(new Float32Array(this.data),this.typeInfo,null)}setDataValue(e,n,r,s){r instanceof hu?console.error("TODO: Set matrix postfix"):n instanceof It?this.data=n.data:console.error("SetDataValue: Invalid value",n)}getSubData(e,n,r){if(n===null)return this;const s=this.typeInfo.name;if(e.getTypeInfo("f32"),this.typeInfo instanceof du)this.typeInfo.format;else if(s.endsWith("f"))e.getTypeInfo("f32");else if(s.endsWith("i"))e.getTypeInfo("i32");else if(s.endsWith("u"))e.getTypeInfo("u32");else{if(!s.endsWith("h"))return console.error(`GetDataValue: Unknown type ${s}`),null;e.getTypeInfo("f16")}if(n instanceof yd){const o=n.index;let l=-1;if(o instanceof Vr){if(!(o.value instanceof Te))return console.error(`GetDataValue: Invalid array index ${o.value}`),null;l=o.value.value}else{const h=e.evalExpression(o,r);if(!(h instanceof Te))return console.error("GetDataValue: Unknown index type",o),null;l=h.value}if(l<0||l>=this.data.length)return console.error("GetDataValue: Index out of range",l),null;const c=s.endsWith("h")?"h":"f";let f;if(s==="mat2x2"||s==="mat2x2f"||s==="mat2x2h"||s==="mat3x2"||s==="mat3x2f"||s==="mat3x2h"||s==="mat4x2"||s==="mat4x2f"||s==="mat4x2h")f=new ae(new Float32Array(this.data.buffer,this.data.byteOffset+2*l*4,2),e.getTypeInfo(`vec2${c}`));else if(s==="mat2x3"||s==="mat2x3f"||s==="mat2x3h"||s==="mat3x3"||s==="mat3x3f"||s==="mat3x3h"||s==="mat4x3"||s==="mat4x3f"||s==="mat4x3h")f=new ae(new Float32Array(this.data.buffer,this.data.byteOffset+3*l*4,3),e.getTypeInfo(`vec3${c}`));else{if(s!=="mat2x4"&&s!=="mat2x4f"&&s!=="mat2x4h"&&s!=="mat3x4"&&s!=="mat3x4f"&&s!=="mat3x4h"&&s!=="mat4x4"&&s!=="mat4x4f"&&s!=="mat4x4h")return console.error(`GetDataValue: Unknown type ${s}`),null;f=new ae(new Float32Array(this.data.buffer,this.data.byteOffset+4*l*4,4),e.getTypeInfo(`vec4${c}`))}return n.postfix?f.getSubData(e,n.postfix,r):f}return console.error("GetDataValue: Invalid postfix",n),null}toString(){let e=`${this.data[0]}`;for(let n=1;n<this.data.length;++n)e+=`, ${this.data[n]}`;return e}}class gr extends Mi{constructor(e,n,r=0,s=null){super(n,s),this.buffer=e instanceof ArrayBuffer?e:e.buffer,this.offset=r}clone(){const e=new Uint8Array(new Uint8Array(this.buffer,this.offset,this.typeInfo.size));return new gr(e.buffer,this.typeInfo,0,null)}setDataValue(e,n,r,s){if(n===null)return void console.log("setDataValue: NULL data.");let o=this.offset,l=this.typeInfo;for(;r;){if(r instanceof yd)if(l instanceof Vl){const c=r.index;if(c instanceof Vr){if(!(c.value instanceof Te))return void console.error(`SetDataValue: Invalid index type ${c.value}`);o+=c.value.value*l.stride}else{const f=e.evalExpression(c,s);if(!(f instanceof Te))return void console.error("SetDataValue: Unknown index type",c);o+=f.value*l.stride}l=l.format}else console.error(`SetDataValue: Type ${l.getTypeName()} is not an array`);else{if(!(r instanceof hu))return void console.error("SetDataValue: Unknown postfix type",r);{const c=r.value;if(l instanceof Pl){let f=!1;for(const h of l.members)if(h.name===c){o+=h.offset,l=h.type,f=!0;break}if(!f)return void console.error(`SetDataValue: Member ${c} not found`)}else if(l instanceof Ri){const f=l.getTypeName();let h=0;if(c==="x"||c==="r")h=0;else if(c==="y"||c==="g")h=1;else if(c==="z"||c==="b")h=2;else{if(c!=="w"&&c!=="a")return void console.error(`SetDataValue: Unknown member ${c}`);h=3}if(!(n instanceof Te))return void console.error("SetDataValue: Invalid value",n);const p=n.value;return f==="vec2f"?void(new Float32Array(this.buffer,o,2)[h]=p):f==="vec3f"?void(new Float32Array(this.buffer,o,3)[h]=p):f==="vec4f"?void(new Float32Array(this.buffer,o,4)[h]=p):f==="vec2i"?void(new Int32Array(this.buffer,o,2)[h]=p):f==="vec3i"?void(new Int32Array(this.buffer,o,3)[h]=p):f==="vec4i"?void(new Int32Array(this.buffer,o,4)[h]=p):f==="vec2u"?void(new Uint32Array(this.buffer,o,2)[h]=p):f==="vec3u"?void(new Uint32Array(this.buffer,o,3)[h]=p):f==="vec4u"?void(new Uint32Array(this.buffer,o,4)[h]=p):void console.error(`SetDataValue: Type ${f} is not a struct`)}}}r=r.postfix}this.setData(e,n,l,o,s)}setData(e,n,r,s,o){const l=r.getTypeName();if(l!=="f32"&&l!=="f16")if(l!=="i32"&&l!=="atomic<i32>"&&l!=="x32")if(l!=="u32"&&l!=="atomic<u32>")if(l!=="bool")if(l!=="vec2f"&&l!=="vec2h")if(l!=="vec3f"&&l!=="vec3h")if(l!=="vec4f"&&l!=="vec4h")if(l!=="vec2i")if(l!=="vec3i")if(l!=="vec4i")if(l!=="vec2u")if(l!=="vec3u")if(l!=="vec4u")if(l!=="vec2b")if(l!=="vec3b")if(l!=="vec4b")if(l!=="mat2x2f"&&l!=="mat2x2h")if(l!=="mat2x3f"&&l!=="mat2x3h")if(l!=="mat2x4f"&&l!=="mat2x4h")if(l!=="mat3x2f"&&l!=="mat3x2h")if(l!=="mat3x3f"&&l!=="mat3x3h")if(l!=="mat3x4f"&&l!=="mat3x4h")if(l!=="mat4x2f"&&l!=="mat4x2h")if(l!=="mat4x3f"&&l!=="mat4x3h")if(l!=="mat4x4f"&&l!=="mat4x4h")if(n instanceof gr){if(r===n.typeInfo)return void new Uint8Array(this.buffer,s,n.buffer.byteLength).set(new Uint8Array(n.buffer));console.error("SetDataValue: Type mismatch",l,n.typeInfo.getTypeName())}else console.error(`SetData: Unknown type ${l}`);else{const c=new Float32Array(this.buffer,s,16);n instanceof It?(c[0]=n.data[0],c[1]=n.data[1],c[2]=n.data[2],c[3]=n.data[3],c[4]=n.data[4],c[5]=n.data[5],c[6]=n.data[6],c[7]=n.data[7],c[8]=n.data[8],c[9]=n.data[9],c[10]=n.data[10],c[11]=n.data[11],c[12]=n.data[12],c[13]=n.data[13],c[14]=n.data[14],c[15]=n.data[15]):(c[0]=n[0],c[1]=n[1],c[2]=n[2],c[3]=n[3],c[4]=n[4],c[5]=n[5],c[6]=n[6],c[7]=n[7],c[8]=n[8],c[9]=n[9],c[10]=n[10],c[11]=n[11],c[12]=n[12],c[13]=n[13],c[14]=n[14],c[15]=n[15])}else{const c=new Float32Array(this.buffer,s,12);n instanceof It?(c[0]=n.data[0],c[1]=n.data[1],c[2]=n.data[2],c[3]=n.data[3],c[4]=n.data[4],c[5]=n.data[5],c[6]=n.data[6],c[7]=n.data[7],c[8]=n.data[8],c[9]=n.data[9],c[10]=n.data[10],c[11]=n.data[11]):(c[0]=n[0],c[1]=n[1],c[2]=n[2],c[3]=n[3],c[4]=n[4],c[5]=n[5],c[6]=n[6],c[7]=n[7],c[8]=n[8],c[9]=n[9],c[10]=n[10],c[11]=n[11])}else{const c=new Float32Array(this.buffer,s,8);n instanceof It?(c[0]=n.data[0],c[1]=n.data[1],c[2]=n.data[2],c[3]=n.data[3],c[4]=n.data[4],c[5]=n.data[5],c[6]=n.data[6],c[7]=n.data[7]):(c[0]=n[0],c[1]=n[1],c[2]=n[2],c[3]=n[3],c[4]=n[4],c[5]=n[5],c[6]=n[6],c[7]=n[7])}else{const c=new Float32Array(this.buffer,s,12);n instanceof It?(c[0]=n.data[0],c[1]=n.data[1],c[2]=n.data[2],c[3]=n.data[3],c[4]=n.data[4],c[5]=n.data[5],c[6]=n.data[6],c[7]=n.data[7],c[8]=n.data[8],c[9]=n.data[9],c[10]=n.data[10],c[11]=n.data[11]):(c[0]=n[0],c[1]=n[1],c[2]=n[2],c[3]=n[3],c[4]=n[4],c[5]=n[5],c[6]=n[6],c[7]=n[7],c[8]=n[8],c[9]=n[9],c[10]=n[10],c[11]=n[11])}else{const c=new Float32Array(this.buffer,s,9);n instanceof It?(c[0]=n.data[0],c[1]=n.data[1],c[2]=n.data[2],c[3]=n.data[3],c[4]=n.data[4],c[5]=n.data[5],c[6]=n.data[6],c[7]=n.data[7],c[8]=n.data[8]):(c[0]=n[0],c[1]=n[1],c[2]=n[2],c[3]=n[3],c[4]=n[4],c[5]=n[5],c[6]=n[6],c[7]=n[7],c[8]=n[8])}else{const c=new Float32Array(this.buffer,s,6);n instanceof It?(c[0]=n.data[0],c[1]=n.data[1],c[2]=n.data[2],c[3]=n.data[3],c[4]=n.data[4],c[5]=n.data[5]):(c[0]=n[0],c[1]=n[1],c[2]=n[2],c[3]=n[3],c[4]=n[4],c[5]=n[5])}else{const c=new Float32Array(this.buffer,s,8);n instanceof It?(c[0]=n.data[0],c[1]=n.data[1],c[2]=n.data[2],c[3]=n.data[3],c[4]=n.data[4],c[5]=n.data[5],c[6]=n.data[6],c[7]=n.data[7]):(c[0]=n[0],c[1]=n[1],c[2]=n[2],c[3]=n[3],c[4]=n[4],c[5]=n[5],c[6]=n[6],c[7]=n[7])}else{const c=new Float32Array(this.buffer,s,6);n instanceof It?(c[0]=n.data[0],c[1]=n.data[1],c[2]=n.data[2],c[3]=n.data[3],c[4]=n.data[4],c[5]=n.data[5]):(c[0]=n[0],c[1]=n[1],c[2]=n[2],c[3]=n[3],c[4]=n[4],c[5]=n[5])}else{const c=new Float32Array(this.buffer,s,4);n instanceof It?(c[0]=n.data[0],c[1]=n.data[1],c[2]=n.data[2],c[3]=n.data[3]):(c[0]=n[0],c[1]=n[1],c[2]=n[2],c[3]=n[3])}else{const c=new Uint32Array(this.buffer,s,4);n instanceof ae?(c[0]=n.data[0],c[1]=n.data[1],c[2]=n.data[2],c[3]=n.data[3]):(c[0]=n[0],c[1]=n[1],c[2]=n[2],c[3]=n[3])}else{const c=new Uint32Array(this.buffer,s,3);n instanceof ae?(c[0]=n.data[0],c[1]=n.data[1],c[2]=n.data[2]):(c[0]=n[0],c[1]=n[1],c[2]=n[2])}else{const c=new Uint32Array(this.buffer,s,2);n instanceof ae?(c[0]=n.data[0],c[1]=n.data[1]):(c[0]=n[0],c[1]=n[1])}else{const c=new Uint32Array(this.buffer,s,4);n instanceof ae?(c[0]=n.data[0],c[1]=n.data[1],c[2]=n.data[2],c[3]=n.data[3]):(c[0]=n[0],c[1]=n[1],c[2]=n[2],c[3]=n[3])}else{const c=new Uint32Array(this.buffer,s,3);n instanceof ae?(c[0]=n.data[0],c[1]=n.data[1],c[2]=n.data[2]):(c[0]=n[0],c[1]=n[1],c[2]=n[2])}else{const c=new Uint32Array(this.buffer,s,2);n instanceof ae?(c[0]=n.data[0],c[1]=n.data[1]):(c[0]=n[0],c[1]=n[1])}else{const c=new Int32Array(this.buffer,s,4);n instanceof ae?(c[0]=n.data[0],c[1]=n.data[1],c[2]=n.data[2],c[3]=n.data[3]):(c[0]=n[0],c[1]=n[1],c[2]=n[2],c[3]=n[3])}else{const c=new Int32Array(this.buffer,s,3);n instanceof ae?(c[0]=n.data[0],c[1]=n.data[1],c[2]=n.data[2]):(c[0]=n[0],c[1]=n[1],c[2]=n[2])}else{const c=new Int32Array(this.buffer,s,2);n instanceof ae?(c[0]=n.data[0],c[1]=n.data[1]):(c[0]=n[0],c[1]=n[1])}else{const c=new Float32Array(this.buffer,s,4);n instanceof ae?(c[0]=n.data[0],c[1]=n.data[1],c[2]=n.data[2],c[3]=n.data[3]):(c[0]=n[0],c[1]=n[1],c[2]=n[2],c[3]=n[3])}else{const c=new Float32Array(this.buffer,s,3);n instanceof ae?(c[0]=n.data[0],c[1]=n.data[1],c[2]=n.data[2]):(c[0]=n[0],c[1]=n[1],c[2]=n[2])}else{const c=new Float32Array(this.buffer,s,2);n instanceof ae?(c[0]=n.data[0],c[1]=n.data[1]):(c[0]=n[0],c[1]=n[1])}else n instanceof Te&&(new Int32Array(this.buffer,s,1)[0]=n.value);else n instanceof Te&&(new Uint32Array(this.buffer,s,1)[0]=n.value);else n instanceof Te&&(new Int32Array(this.buffer,s,1)[0]=n.value);else n instanceof Te&&(new Float32Array(this.buffer,s,1)[0]=n.value)}getSubData(e,n,r){var s,o,l;if(n===null)return this;let c=this.offset,f=this.typeInfo;for(;n;){if(n instanceof yd){const p=n.index,m=p instanceof io?e.evalExpression(p,r):p;let x=0;if(m instanceof Te?x=m.value:typeof m=="number"?x=m:console.error("GetDataValue: Invalid index type",p),f instanceof Vl)c+=x*f.stride,f=f.format;else{const w=f.getTypeName();w==="mat4x4"||w==="mat4x4f"||w==="mat4x4h"?(c+=16*x,f=e.getTypeInfo("vec4f")):console.error(`getDataValue: Type ${f.getTypeName()} is not an array`)}}else{if(!(n instanceof hu))return console.error("GetDataValue: Unknown postfix type",n),null;{const p=n.value;if(f instanceof Pl){let m=!1;for(const x of f.members)if(x.name===p){c+=x.offset,f=x.type,m=!0;break}if(!m)return console.error(`GetDataValue: Member ${p} not found`),null}else if(f instanceof Ri){const m=f.getTypeName();if(m==="vec2f"||m==="vec3f"||m==="vec4f"||m==="vec2i"||m==="vec3i"||m==="vec4i"||m==="vec2u"||m==="vec3u"||m==="vec4u"||m==="vec2b"||m==="vec3b"||m==="vec4b"||m==="vec2h"||m==="vec3h"||m==="vec4h"||m==="vec2"||m==="vec3"||m==="vec4"){if(p.length>0&&p.length<5){let x="f";const w=[];for(let E=0;E<p.length;++E){const T=p[E].toLowerCase();let C=0;if(T==="x"||T==="r")C=0;else if(T==="y"||T==="g")C=1;else if(T==="z"||T==="b")C=2;else{if(T!=="w"&&T!=="a")return console.error(`Unknown member ${p}`),null;C=3}if(p.length===1){if(m.endsWith("f"))return this.buffer.byteLength<c+4*C+4?(console.log("Insufficient buffer data"),null):new Te(new Float32Array(this.buffer,c+4*C,1),e.getTypeInfo("f32"),this);if(m.endsWith("h"))return new Te(new Float32Array(this.buffer,c+4*C,1),e.getTypeInfo("f16"),this);if(m.endsWith("i"))return new Te(new Int32Array(this.buffer,c+4*C,1),e.getTypeInfo("i32"),this);if(m.endsWith("b"))return new Te(new Int32Array(this.buffer,c+4*C,1),e.getTypeInfo("bool"),this);if(m.endsWith("u"))return new Te(new Uint32Array(this.buffer,c+4*C,1),e.getTypeInfo("i32"),this)}if(m==="vec2f")w.push(new Float32Array(this.buffer,c,2)[C]);else if(m==="vec3f"){if(c+12>=this.buffer.byteLength)return console.log("Insufficient buffer data"),null;const P=new Float32Array(this.buffer,c,3);w.push(P[C])}else if(m==="vec4f")w.push(new Float32Array(this.buffer,c,4)[C]);else if(m==="vec2i")x="i",w.push(new Int32Array(this.buffer,c,2)[C]);else if(m==="vec3i")x="i",w.push(new Int32Array(this.buffer,c,3)[C]);else if(m==="vec4i")x="i",w.push(new Int32Array(this.buffer,c,4)[C]);else if(m==="vec2u"){x="u";const P=new Uint32Array(this.buffer,c,2);w.push(P[C])}else m==="vec3u"?(x="u",w.push(new Uint32Array(this.buffer,c,3)[C])):m==="vec4u"&&(x="u",w.push(new Uint32Array(this.buffer,c,4)[C]))}return w.length===2?f=e.getTypeInfo(`vec2${x}`):w.length===3?f=e.getTypeInfo(`vec3${x}`):w.length===4?f=e.getTypeInfo(`vec4${x}`):console.error(`GetDataValue: Invalid vector length ${w.length}`),new ae(w,f,null)}return console.error(`GetDataValue: Unknown member ${p}`),null}return console.error(`GetDataValue: Type ${m} is not a struct`),null}}}n=n.postfix}const h=f.getTypeName();return h==="f32"?new Te(new Float32Array(this.buffer,c,1),f,this):h==="i32"?new Te(new Int32Array(this.buffer,c,1),f,this):h==="u32"?new Te(new Uint32Array(this.buffer,c,1),f,this):h==="vec2f"?new ae(new Float32Array(this.buffer,c,2),f,this):h==="vec3f"?new ae(new Float32Array(this.buffer,c,3),f,this):h==="vec4f"?new ae(new Float32Array(this.buffer,c,4),f,this):h==="vec2i"?new ae(new Int32Array(this.buffer,c,2),f,this):h==="vec3i"?new ae(new Int32Array(this.buffer,c,3),f,this):h==="vec4i"?new ae(new Int32Array(this.buffer,c,4),f,this):h==="vec2u"?new ae(new Uint32Array(this.buffer,c,2),f,this):h==="vec3u"?new ae(new Uint32Array(this.buffer,c,3),f,this):h==="vec4u"?new ae(new Uint32Array(this.buffer,c,4),f,this):f instanceof du&&f.name==="atomic"?((s=f.format)===null||s===void 0?void 0:s.name)==="u32"?new Te(new Uint32Array(this.buffer,c,1)[0],f.format,this):((o=f.format)===null||o===void 0?void 0:o.name)==="i32"?new Te(new Int32Array(this.buffer,c,1)[0],f.format,this):(console.error(`GetDataValue: Invalid atomic format ${(l=f.format)===null||l===void 0?void 0:l.name}`),null):new gr(this.buffer,f,c,this)}toString(){let e="";if(this.typeInfo instanceof Vl)if(this.typeInfo.format.name==="f32"){const n=new Float32Array(this.buffer,this.offset);e=`[${n[0]}`;for(let r=1;r<n.length;++r)e+=`, ${n[r]}`}else if(this.typeInfo.format.name==="i32"){const n=new Int32Array(this.buffer,this.offset);e=`[${n[0]}`;for(let r=1;r<n.length;++r)e+=`, ${n[r]}`}else if(this.typeInfo.format.name==="u32"){const n=new Uint32Array(this.buffer,this.offset);e=`[${n[0]}`;for(let r=1;r<n.length;++r)e+=`, ${n[r]}`}else if(this.typeInfo.format.name==="vec2f"){const n=new Float32Array(this.buffer,this.offset);e=`[${n[0]}, ${n[1]}]`;for(let r=1;r<n.length/2;++r)e+=`, [${n[2*r]}, ${n[2*r+1]}]`}else if(this.typeInfo.format.name==="vec3f"){const n=new Float32Array(this.buffer,this.offset);e=`[${n[0]}, ${n[1]}, ${n[2]}]`;for(let r=4;r<n.length;r+=4)e+=`, [${n[r]}, ${n[r+1]}, ${n[r+2]}]`}else if(this.typeInfo.format.name==="vec4f"){const n=new Float32Array(this.buffer,this.offset);e=`[${n[0]}, ${n[1]}, ${n[2]}, ${n[3]}]`;for(let r=4;r<n.length;r+=4)e+=`, [${n[r]}, ${n[r+1]}, ${n[r+2]}, ${n[r+3]}]`}else e="[...]";else this.typeInfo instanceof Pl?e+="{...}":e="[...]";return e}}class ya extends Mi{constructor(e,n,r,s){super(n,null),this.data=e,this.descriptor=r,this.view=s}clone(){return new ya(this.data,this.typeInfo,this.descriptor,this.view)}get width(){var e,n;const r=this.descriptor.size;return r instanceof Array&&r.length>0?(e=r[0])!==null&&e!==void 0?e:0:r instanceof Object&&(n=r.width)!==null&&n!==void 0?n:0}get height(){var e,n;const r=this.descriptor.size;return r instanceof Array&&r.length>1?(e=r[1])!==null&&e!==void 0?e:0:r instanceof Object&&(n=r.height)!==null&&n!==void 0?n:0}get depthOrArrayLayers(){var e,n;const r=this.descriptor.size;return r instanceof Array&&r.length>2?(e=r[2])!==null&&e!==void 0?e:0:r instanceof Object&&(n=r.depthOrArrayLayers)!==null&&n!==void 0?n:0}get format(){var e;return this.descriptor&&(e=this.descriptor.format)!==null&&e!==void 0?e:"rgba8unorm"}get sampleCount(){var e;return this.descriptor&&(e=this.descriptor.sampleCount)!==null&&e!==void 0?e:1}get mipLevelCount(){var e;return this.descriptor&&(e=this.descriptor.mipLevelCount)!==null&&e!==void 0?e:1}get dimension(){var e;return this.descriptor&&(e=this.descriptor.dimension)!==null&&e!==void 0?e:"2d"}getMipLevelSize(e){if(e>=this.mipLevelCount)return[0,0,0];const n=[this.width,this.height,this.depthOrArrayLayers];for(let r=0;r<n.length;++r)n[r]=Math.max(1,n[r]>>e);return n}get texelByteSize(){const e=this.format,n=M1[e];return n?n.isDepthStencil?4:n.bytesPerBlock:0}get bytesPerRow(){return this.width*this.texelByteSize}get isDepthStencil(){const e=this.format,n=M1[e];return!!n&&n.isDepthStencil}getGpuSize(){const e=this.format,n=M1[e],r=this.width;if(!e||r<=0||!n)return-1;const s=this.height,o=this.depthOrArrayLayers,l=this.dimension;return r/n.blockWidth*(l==="1d"?1:s/n.blockHeight)*n.bytesPerBlock*o}getPixel(e,n,r=0,s=0){const o=this.texelByteSize,l=this.bytesPerRow,c=this.height,f=this.data[s];return qJ(new Uint8Array(f),e,n,r,s,c,l,o,this.format)}setPixel(e,n,r,s,o){const l=this.texelByteSize,c=this.bytesPerRow,f=this.height,h=this.data[s];(function(p,m,x,w,E,T,C,P,j,D){const U=w*(C>>=E)*(T>>=E)+x*C+m*P;switch(j){case"r8unorm":return void Dn(p,U,"8unorm",1,D);case"r8snorm":return void Dn(p,U,"8snorm",1,D);case"r8uint":return void Dn(p,U,"8uint",1,D);case"r8sint":return void Dn(p,U,"8sint",1,D);case"rg8unorm":return void Dn(p,U,"8unorm",2,D);case"rg8snorm":return void Dn(p,U,"8snorm",2,D);case"rg8uint":return void Dn(p,U,"8uint",2,D);case"rg8sint":return void Dn(p,U,"8sint",2,D);case"rgba8unorm-srgb":case"rgba8unorm":case"bgra8unorm-srgb":case"bgra8unorm":return void Dn(p,U,"8unorm",4,D);case"rgba8snorm":return void Dn(p,U,"8snorm",4,D);case"rgba8uint":return void Dn(p,U,"8uint",4,D);case"rgba8sint":return void Dn(p,U,"8sint",4,D);case"r16uint":return void Dn(p,U,"16uint",1,D);case"r16sint":return void Dn(p,U,"16sint",1,D);case"r16float":return void Dn(p,U,"16float",1,D);case"rg16uint":return void Dn(p,U,"16uint",2,D);case"rg16sint":return void Dn(p,U,"16sint",2,D);case"rg16float":return void Dn(p,U,"16float",2,D);case"rgba16uint":return void Dn(p,U,"16uint",4,D);case"rgba16sint":return void Dn(p,U,"16sint",4,D);case"rgba16float":return void Dn(p,U,"16float",4,D);case"r32uint":return void Dn(p,U,"32uint",1,D);case"r32sint":return void Dn(p,U,"32sint",1,D);case"depth16unorm":case"depth24plus":case"depth24plus-stencil8":case"depth32float":case"depth32float-stencil8":case"r32float":return void Dn(p,U,"32float",1,D);case"rg32uint":return void Dn(p,U,"32uint",2,D);case"rg32sint":return void Dn(p,U,"32sint",2,D);case"rg32float":return void Dn(p,U,"32float",2,D);case"rgba32uint":return void Dn(p,U,"32uint",4,D);case"rgba32sint":return void Dn(p,U,"32sint",4,D);case"rgba32float":return void Dn(p,U,"32float",4,D);case"rg11b10ufloat":console.error("TODO: rg11b10ufloat not supported for writing")}})(new Uint8Array(h),e,n,r,s,f,c,l,this.format,o)}}(t=>{t[t.token=0]="token",t[t.keyword=1]="keyword",t[t.reserved=2]="reserved"})(Ae||(Ae={}));class Ce{constructor(e,n,r){this.name=e,this.type=n,this.rule=r}toString(){return this.name}}class ee{}Pe=ee,ee.none=new Ce("",Ae.reserved,""),ee.eof=new Ce("EOF",Ae.token,""),ee.reserved={asm:new Ce("asm",Ae.reserved,"asm"),bf16:new Ce("bf16",Ae.reserved,"bf16"),do:new Ce("do",Ae.reserved,"do"),enum:new Ce("enum",Ae.reserved,"enum"),f16:new Ce("f16",Ae.reserved,"f16"),f64:new Ce("f64",Ae.reserved,"f64"),handle:new Ce("handle",Ae.reserved,"handle"),i8:new Ce("i8",Ae.reserved,"i8"),i16:new Ce("i16",Ae.reserved,"i16"),i64:new Ce("i64",Ae.reserved,"i64"),mat:new Ce("mat",Ae.reserved,"mat"),premerge:new Ce("premerge",Ae.reserved,"premerge"),regardless:new Ce("regardless",Ae.reserved,"regardless"),typedef:new Ce("typedef",Ae.reserved,"typedef"),u8:new Ce("u8",Ae.reserved,"u8"),u16:new Ce("u16",Ae.reserved,"u16"),u64:new Ce("u64",Ae.reserved,"u64"),unless:new Ce("unless",Ae.reserved,"unless"),using:new Ce("using",Ae.reserved,"using"),vec:new Ce("vec",Ae.reserved,"vec"),void:new Ce("void",Ae.reserved,"void")},ee.keywords={array:new Ce("array",Ae.keyword,"array"),atomic:new Ce("atomic",Ae.keyword,"atomic"),bool:new Ce("bool",Ae.keyword,"bool"),f32:new Ce("f32",Ae.keyword,"f32"),i32:new Ce("i32",Ae.keyword,"i32"),mat2x2:new Ce("mat2x2",Ae.keyword,"mat2x2"),mat2x3:new Ce("mat2x3",Ae.keyword,"mat2x3"),mat2x4:new Ce("mat2x4",Ae.keyword,"mat2x4"),mat3x2:new Ce("mat3x2",Ae.keyword,"mat3x2"),mat3x3:new Ce("mat3x3",Ae.keyword,"mat3x3"),mat3x4:new Ce("mat3x4",Ae.keyword,"mat3x4"),mat4x2:new Ce("mat4x2",Ae.keyword,"mat4x2"),mat4x3:new Ce("mat4x3",Ae.keyword,"mat4x3"),mat4x4:new Ce("mat4x4",Ae.keyword,"mat4x4"),ptr:new Ce("ptr",Ae.keyword,"ptr"),sampler:new Ce("sampler",Ae.keyword,"sampler"),sampler_comparison:new Ce("sampler_comparison",Ae.keyword,"sampler_comparison"),struct:new Ce("struct",Ae.keyword,"struct"),texture_1d:new Ce("texture_1d",Ae.keyword,"texture_1d"),texture_2d:new Ce("texture_2d",Ae.keyword,"texture_2d"),texture_2d_array:new Ce("texture_2d_array",Ae.keyword,"texture_2d_array"),texture_3d:new Ce("texture_3d",Ae.keyword,"texture_3d"),texture_cube:new Ce("texture_cube",Ae.keyword,"texture_cube"),texture_cube_array:new Ce("texture_cube_array",Ae.keyword,"texture_cube_array"),texture_multisampled_2d:new Ce("texture_multisampled_2d",Ae.keyword,"texture_multisampled_2d"),texture_storage_1d:new Ce("texture_storage_1d",Ae.keyword,"texture_storage_1d"),texture_storage_2d:new Ce("texture_storage_2d",Ae.keyword,"texture_storage_2d"),texture_storage_2d_array:new Ce("texture_storage_2d_array",Ae.keyword,"texture_storage_2d_array"),texture_storage_3d:new Ce("texture_storage_3d",Ae.keyword,"texture_storage_3d"),texture_depth_2d:new Ce("texture_depth_2d",Ae.keyword,"texture_depth_2d"),texture_depth_2d_array:new Ce("texture_depth_2d_array",Ae.keyword,"texture_depth_2d_array"),texture_depth_cube:new Ce("texture_depth_cube",Ae.keyword,"texture_depth_cube"),texture_depth_cube_array:new Ce("texture_depth_cube_array",Ae.keyword,"texture_depth_cube_array"),texture_depth_multisampled_2d:new Ce("texture_depth_multisampled_2d",Ae.keyword,"texture_depth_multisampled_2d"),texture_external:new Ce("texture_external",Ae.keyword,"texture_external"),u32:new Ce("u32",Ae.keyword,"u32"),vec2:new Ce("vec2",Ae.keyword,"vec2"),vec3:new Ce("vec3",Ae.keyword,"vec3"),vec4:new Ce("vec4",Ae.keyword,"vec4"),bitcast:new Ce("bitcast",Ae.keyword,"bitcast"),block:new Ce("block",Ae.keyword,"block"),break:new Ce("break",Ae.keyword,"break"),case:new Ce("case",Ae.keyword,"case"),continue:new Ce("continue",Ae.keyword,"continue"),continuing:new Ce("continuing",Ae.keyword,"continuing"),default:new Ce("default",Ae.keyword,"default"),diagnostic:new Ce("diagnostic",Ae.keyword,"diagnostic"),discard:new Ce("discard",Ae.keyword,"discard"),else:new Ce("else",Ae.keyword,"else"),enable:new Ce("enable",Ae.keyword,"enable"),fallthrough:new Ce("fallthrough",Ae.keyword,"fallthrough"),false:new Ce("false",Ae.keyword,"false"),fn:new Ce("fn",Ae.keyword,"fn"),for:new Ce("for",Ae.keyword,"for"),function:new Ce("function",Ae.keyword,"function"),if:new Ce("if",Ae.keyword,"if"),let:new Ce("let",Ae.keyword,"let"),const:new Ce("const",Ae.keyword,"const"),loop:new Ce("loop",Ae.keyword,"loop"),while:new Ce("while",Ae.keyword,"while"),private:new Ce("private",Ae.keyword,"private"),read:new Ce("read",Ae.keyword,"read"),read_write:new Ce("read_write",Ae.keyword,"read_write"),return:new Ce("return",Ae.keyword,"return"),requires:new Ce("requires",Ae.keyword,"requires"),storage:new Ce("storage",Ae.keyword,"storage"),switch:new Ce("switch",Ae.keyword,"switch"),true:new Ce("true",Ae.keyword,"true"),alias:new Ce("alias",Ae.keyword,"alias"),type:new Ce("type",Ae.keyword,"type"),uniform:new Ce("uniform",Ae.keyword,"uniform"),var:new Ce("var",Ae.keyword,"var"),override:new Ce("override",Ae.keyword,"override"),workgroup:new Ce("workgroup",Ae.keyword,"workgroup"),write:new Ce("write",Ae.keyword,"write"),r8unorm:new Ce("r8unorm",Ae.keyword,"r8unorm"),r8snorm:new Ce("r8snorm",Ae.keyword,"r8snorm"),r8uint:new Ce("r8uint",Ae.keyword,"r8uint"),r8sint:new Ce("r8sint",Ae.keyword,"r8sint"),r16uint:new Ce("r16uint",Ae.keyword,"r16uint"),r16sint:new Ce("r16sint",Ae.keyword,"r16sint"),r16float:new Ce("r16float",Ae.keyword,"r16float"),rg8unorm:new Ce("rg8unorm",Ae.keyword,"rg8unorm"),rg8snorm:new Ce("rg8snorm",Ae.keyword,"rg8snorm"),rg8uint:new Ce("rg8uint",Ae.keyword,"rg8uint"),rg8sint:new Ce("rg8sint",Ae.keyword,"rg8sint"),r32uint:new Ce("r32uint",Ae.keyword,"r32uint"),r32sint:new Ce("r32sint",Ae.keyword,"r32sint"),r32float:new Ce("r32float",Ae.keyword,"r32float"),rg16uint:new Ce("rg16uint",Ae.keyword,"rg16uint"),rg16sint:new Ce("rg16sint",Ae.keyword,"rg16sint"),rg16float:new Ce("rg16float",Ae.keyword,"rg16float"),rgba8unorm:new Ce("rgba8unorm",Ae.keyword,"rgba8unorm"),rgba8unorm_srgb:new Ce("rgba8unorm_srgb",Ae.keyword,"rgba8unorm_srgb"),rgba8snorm:new Ce("rgba8snorm",Ae.keyword,"rgba8snorm"),rgba8uint:new Ce("rgba8uint",Ae.keyword,"rgba8uint"),rgba8sint:new Ce("rgba8sint",Ae.keyword,"rgba8sint"),bgra8unorm:new Ce("bgra8unorm",Ae.keyword,"bgra8unorm"),bgra8unorm_srgb:new Ce("bgra8unorm_srgb",Ae.keyword,"bgra8unorm_srgb"),rgb10a2unorm:new Ce("rgb10a2unorm",Ae.keyword,"rgb10a2unorm"),rg11b10float:new Ce("rg11b10float",Ae.keyword,"rg11b10float"),rg32uint:new Ce("rg32uint",Ae.keyword,"rg32uint"),rg32sint:new Ce("rg32sint",Ae.keyword,"rg32sint"),rg32float:new Ce("rg32float",Ae.keyword,"rg32float"),rgba16uint:new Ce("rgba16uint",Ae.keyword,"rgba16uint"),rgba16sint:new Ce("rgba16sint",Ae.keyword,"rgba16sint"),rgba16float:new Ce("rgba16float",Ae.keyword,"rgba16float"),rgba32uint:new Ce("rgba32uint",Ae.keyword,"rgba32uint"),rgba32sint:new Ce("rgba32sint",Ae.keyword,"rgba32sint"),rgba32float:new Ce("rgba32float",Ae.keyword,"rgba32float"),static_assert:new Ce("static_assert",Ae.keyword,"static_assert")},ee.tokens={decimal_float_literal:new Ce("decimal_float_literal",Ae.token,/((-?[0-9]*\.[0-9]+|-?[0-9]+\.[0-9]*)((e|E)(\+|-)?[0-9]+)?[fh]?)|(-?[0-9]+(e|E)(\+|-)?[0-9]+[fh]?)|(-?[0-9]+[fh])/),hex_float_literal:new Ce("hex_float_literal",Ae.token,/-?0x((([0-9a-fA-F]*\.[0-9a-fA-F]+|[0-9a-fA-F]+\.[0-9a-fA-F]*)((p|P)(\+|-)?[0-9]+[fh]?)?)|([0-9a-fA-F]+(p|P)(\+|-)?[0-9]+[fh]?))/),int_literal:new Ce("int_literal",Ae.token,/-?0x[0-9a-fA-F]+|0i?|-?[1-9][0-9]*i?/),uint_literal:new Ce("uint_literal",Ae.token,/0x[0-9a-fA-F]+u|0u|[1-9][0-9]*u/),name:new Ce("name",Ae.token,/([_\p{XID_Start}][\p{XID_Continue}]+)|([\p{XID_Start}])/u),ident:new Ce("ident",Ae.token,/[_a-zA-Z][0-9a-zA-Z_]*/),and:new Ce("and",Ae.token,"&"),and_and:new Ce("and_and",Ae.token,"&&"),arrow:new Ce("arrow ",Ae.token,"->"),attr:new Ce("attr",Ae.token,"@"),forward_slash:new Ce("forward_slash",Ae.token,"/"),bang:new Ce("bang",Ae.token,"!"),bracket_left:new Ce("bracket_left",Ae.token,"["),bracket_right:new Ce("bracket_right",Ae.token,"]"),brace_left:new Ce("brace_left",Ae.token,"{"),brace_right:new Ce("brace_right",Ae.token,"}"),colon:new Ce("colon",Ae.token,":"),comma:new Ce("comma",Ae.token,","),equal:new Ce("equal",Ae.token,"="),equal_equal:new Ce("equal_equal",Ae.token,"=="),not_equal:new Ce("not_equal",Ae.token,"!="),greater_than:new Ce("greater_than",Ae.token,">"),greater_than_equal:new Ce("greater_than_equal",Ae.token,">="),shift_right:new Ce("shift_right",Ae.token,">>"),less_than:new Ce("less_than",Ae.token,"<"),less_than_equal:new Ce("less_than_equal",Ae.token,"<="),shift_left:new Ce("shift_left",Ae.token,"<<"),modulo:new Ce("modulo",Ae.token,"%"),minus:new Ce("minus",Ae.token,"-"),minus_minus:new Ce("minus_minus",Ae.token,"--"),period:new Ce("period",Ae.token,"."),plus:new Ce("plus",Ae.token,"+"),plus_plus:new Ce("plus_plus",Ae.token,"++"),or:new Ce("or",Ae.token,"|"),or_or:new Ce("or_or",Ae.token,"||"),paren_left:new Ce("paren_left",Ae.token,"("),paren_right:new Ce("paren_right",Ae.token,")"),semicolon:new Ce("semicolon",Ae.token,";"),star:new Ce("star",Ae.token,"*"),tilde:new Ce("tilde",Ae.token,"~"),underscore:new Ce("underscore",Ae.token,"_"),xor:new Ce("xor",Ae.token,"^"),plus_equal:new Ce("plus_equal",Ae.token,"+="),minus_equal:new Ce("minus_equal",Ae.token,"-="),times_equal:new Ce("times_equal",Ae.token,"*="),division_equal:new Ce("division_equal",Ae.token,"/="),modulo_equal:new Ce("modulo_equal",Ae.token,"%="),and_equal:new Ce("and_equal",Ae.token,"&="),or_equal:new Ce("or_equal",Ae.token,"|="),xor_equal:new Ce("xor_equal",Ae.token,"^="),shift_right_equal:new Ce("shift_right_equal",Ae.token,">>="),shift_left_equal:new Ce("shift_left_equal",Ae.token,"<<=")},ee.simpleTokens={"@":Pe.tokens.attr,"{":Pe.tokens.brace_left,"}":Pe.tokens.brace_right,":":Pe.tokens.colon,",":Pe.tokens.comma,"(":Pe.tokens.paren_left,")":Pe.tokens.paren_right,";":Pe.tokens.semicolon},ee.literalTokens={"&":Pe.tokens.and,"&&":Pe.tokens.and_and,"->":Pe.tokens.arrow,"/":Pe.tokens.forward_slash,"!":Pe.tokens.bang,"[":Pe.tokens.bracket_left,"]":Pe.tokens.bracket_right,"=":Pe.tokens.equal,"==":Pe.tokens.equal_equal,"!=":Pe.tokens.not_equal,">":Pe.tokens.greater_than,">=":Pe.tokens.greater_than_equal,">>":Pe.tokens.shift_right,"<":Pe.tokens.less_than,"<=":Pe.tokens.less_than_equal,"<<":Pe.tokens.shift_left,"%":Pe.tokens.modulo,"-":Pe.tokens.minus,"--":Pe.tokens.minus_minus,".":Pe.tokens.period,"+":Pe.tokens.plus,"++":Pe.tokens.plus_plus,"|":Pe.tokens.or,"||":Pe.tokens.or_or,"*":Pe.tokens.star,"~":Pe.tokens.tilde,_:Pe.tokens.underscore,"^":Pe.tokens.xor,"+=":Pe.tokens.plus_equal,"-=":Pe.tokens.minus_equal,"*=":Pe.tokens.times_equal,"/=":Pe.tokens.division_equal,"%=":Pe.tokens.modulo_equal,"&=":Pe.tokens.and_equal,"|=":Pe.tokens.or_equal,"^=":Pe.tokens.xor_equal,">>=":Pe.tokens.shift_right_equal,"<<=":Pe.tokens.shift_left_equal},ee.regexTokens={decimal_float_literal:Pe.tokens.decimal_float_literal,hex_float_literal:Pe.tokens.hex_float_literal,int_literal:Pe.tokens.int_literal,uint_literal:Pe.tokens.uint_literal,ident:Pe.tokens.ident},ee.storage_class=[Pe.keywords.function,Pe.keywords.private,Pe.keywords.workgroup,Pe.keywords.uniform,Pe.keywords.storage],ee.access_mode=[Pe.keywords.read,Pe.keywords.write,Pe.keywords.read_write],ee.sampler_type=[Pe.keywords.sampler,Pe.keywords.sampler_comparison],ee.sampled_texture_type=[Pe.keywords.texture_1d,Pe.keywords.texture_2d,Pe.keywords.texture_2d_array,Pe.keywords.texture_3d,Pe.keywords.texture_cube,Pe.keywords.texture_cube_array],ee.multisampled_texture_type=[Pe.keywords.texture_multisampled_2d],ee.storage_texture_type=[Pe.keywords.texture_storage_1d,Pe.keywords.texture_storage_2d,Pe.keywords.texture_storage_2d_array,Pe.keywords.texture_storage_3d],ee.depth_texture_type=[Pe.keywords.texture_depth_2d,Pe.keywords.texture_depth_2d_array,Pe.keywords.texture_depth_cube,Pe.keywords.texture_depth_cube_array,Pe.keywords.texture_depth_multisampled_2d],ee.texture_external_type=[Pe.keywords.texture_external],ee.any_texture_type=[...Pe.sampled_texture_type,...Pe.multisampled_texture_type,...Pe.storage_texture_type,...Pe.depth_texture_type,...Pe.texture_external_type],ee.texel_format=[Pe.keywords.r8unorm,Pe.keywords.r8snorm,Pe.keywords.r8uint,Pe.keywords.r8sint,Pe.keywords.r16uint,Pe.keywords.r16sint,Pe.keywords.r16float,Pe.keywords.rg8unorm,Pe.keywords.rg8snorm,Pe.keywords.rg8uint,Pe.keywords.rg8sint,Pe.keywords.r32uint,Pe.keywords.r32sint,Pe.keywords.r32float,Pe.keywords.rg16uint,Pe.keywords.rg16sint,Pe.keywords.rg16float,Pe.keywords.rgba8unorm,Pe.keywords.rgba8unorm_srgb,Pe.keywords.rgba8snorm,Pe.keywords.rgba8uint,Pe.keywords.rgba8sint,Pe.keywords.bgra8unorm,Pe.keywords.bgra8unorm_srgb,Pe.keywords.rgb10a2unorm,Pe.keywords.rg11b10float,Pe.keywords.rg32uint,Pe.keywords.rg32sint,Pe.keywords.rg32float,Pe.keywords.rgba16uint,Pe.keywords.rgba16sint,Pe.keywords.rgba16float,Pe.keywords.rgba32uint,Pe.keywords.rgba32sint,Pe.keywords.rgba32float],ee.const_literal=[Pe.tokens.int_literal,Pe.tokens.uint_literal,Pe.tokens.decimal_float_literal,Pe.tokens.hex_float_literal,Pe.keywords.true,Pe.keywords.false],ee.literal_or_ident=[Pe.tokens.ident,Pe.tokens.int_literal,Pe.tokens.uint_literal,Pe.tokens.decimal_float_literal,Pe.tokens.hex_float_literal,Pe.tokens.name],ee.element_count_expression=[Pe.tokens.int_literal,Pe.tokens.uint_literal,Pe.tokens.ident],ee.template_types=[Pe.keywords.vec2,Pe.keywords.vec3,Pe.keywords.vec4,Pe.keywords.mat2x2,Pe.keywords.mat2x3,Pe.keywords.mat2x4,Pe.keywords.mat3x2,Pe.keywords.mat3x3,Pe.keywords.mat3x4,Pe.keywords.mat4x2,Pe.keywords.mat4x3,Pe.keywords.mat4x4,Pe.keywords.atomic,Pe.keywords.bitcast,...Pe.any_texture_type],ee.attribute_name=[Pe.tokens.ident,Pe.keywords.block,Pe.keywords.diagnostic],ee.assignment_operators=[Pe.tokens.equal,Pe.tokens.plus_equal,Pe.tokens.minus_equal,Pe.tokens.times_equal,Pe.tokens.division_equal,Pe.tokens.modulo_equal,Pe.tokens.and_equal,Pe.tokens.or_equal,Pe.tokens.xor_equal,Pe.tokens.shift_right_equal,Pe.tokens.shift_left_equal],ee.increment_operators=[Pe.tokens.plus_plus,Pe.tokens.minus_minus];class K2{constructor(e,n,r,s,o){this.type=e,this.lexeme=n,this.line=r,this.start=s,this.end=o}toString(){return this.lexeme}isTemplateType(){return ee.template_types.indexOf(this.type)!=-1}isArrayType(){return this.type==ee.keywords.array}isArrayOrTemplateType(){return this.isArrayType()||this.isTemplateType()}}class JJ{constructor(e){this._tokens=[],this._start=0,this._current=0,this._line=1,this._source=e??""}scanTokens(){for(;!this._isAtEnd();)if(this._start=this._current,!this.scanToken())throw`Invalid syntax at line ${this._line}`;return this._tokens.push(new K2(ee.eof,"",this._line,this._current,this._current)),this._tokens}scanToken(){let e=this._advance();if(e==`
`)return this._line++,!0;if(this._isWhitespace(e))return!0;if(e=="/"){if(this._peekAhead()=="/"){for(;e!=`
`;){if(this._isAtEnd())return!0;e=this._advance()}return this._line++,!0}if(this._peekAhead()=="*"){this._advance();let l=1;for(;l>0;){if(this._isAtEnd())return!0;if(e=this._advance(),e==`
`)this._line++;else if(e=="*"){if(this._peekAhead()=="/"&&(this._advance(),l--,l==0))return!0}else e=="/"&&this._peekAhead()=="*"&&(this._advance(),l++)}return!0}}const n=ee.simpleTokens[e];if(n)return this._addToken(n),!0;let r=ee.none;const s=this._isAlpha(e),o=e==="_";if(this._isAlphaNumeric(e)){let l=this._peekAhead();for(;this._isAlphaNumeric(l);)e+=this._advance(),l=this._peekAhead()}if(s){const l=ee.keywords[e];if(l)return this._addToken(l),!0}if(s||o)return this._addToken(ee.tokens.ident),!0;for(;;){let l=this._findType(e);const c=this._peekAhead();if(e=="-"&&this._tokens.length>0){if(c=="=")return this._current++,e+=c,this._addToken(ee.tokens.minus_equal),!0;if(c=="-")return this._current++,e+=c,this._addToken(ee.tokens.minus_minus),!0;const f=this._tokens.length-1;if((ee.literal_or_ident.indexOf(this._tokens[f].type)!=-1||this._tokens[f].type==ee.tokens.paren_right)&&c!=">")return this._addToken(l),!0}if(e==">"&&(c==">"||c=="=")){let f=!1,h=this._tokens.length-1;for(let p=0;p<5&&h>=0&&ee.assignment_operators.indexOf(this._tokens[h].type)===-1;++p,--h)if(this._tokens[h].type===ee.tokens.less_than){h>0&&this._tokens[h-1].isArrayOrTemplateType()&&(f=!0);break}if(f)return this._addToken(l),!0}if(l===ee.none){let f=e,h=0;const p=2;for(let m=0;m<p;++m)if(f+=this._peekAhead(m),l=this._findType(f),l!==ee.none){h=m;break}if(l===ee.none)return r!==ee.none&&(this._current--,this._addToken(r),!0);e=f,this._current+=h+1}if(r=l,this._isAtEnd())break;e+=this._advance()}return r!==ee.none&&(this._addToken(r),!0)}_findType(e){for(const r in ee.regexTokens){const s=ee.regexTokens[r];if(this._match(e,s.rule))return s}return ee.literalTokens[e]||ee.none}_match(e,n){const r=n.exec(e);return r&&r.index==0&&r[0]==e}_isAtEnd(){return this._current>=this._source.length}_isAlpha(e){return!this._isNumeric(e)&&!this._isWhitespace(e)&&e!=="_"&&e!=="."&&e!=="("&&e!==")"&&e!=="["&&e!=="]"&&e!=="{"&&e!=="}"&&e!==","&&e!==";"&&e!==":"&&e!=="="&&e!=="!"&&e!=="<"&&e!==">"&&e!=="+"&&e!=="-"&&e!=="*"&&e!=="/"&&e!=="%"&&e!=="&"&&e!=="|"&&e!=="^"&&e!=="~"&&e!=="@"&&e!=="#"&&e!=="?"&&e!=="'"&&e!=="`"&&e!=='"'&&e!=="\\"&&e!==`
`&&e!=="\r"&&e!=="	"&&e!=="\0"}_isNumeric(e){return e>="0"&&e<="9"}_isAlphaNumeric(e){return this._isAlpha(e)||this._isNumeric(e)||e==="_"}_isWhitespace(e){return e==" "||e=="	"||e=="\r"}_advance(e=0){let n=this._source[this._current];return e=e||0,e++,this._current+=e,n}_peekAhead(e=0){return e=e||0,this._current+e>=this._source.length?"\0":this._source[this._current+e]}_addToken(e){const n=this._source.substring(this._start,this._current);this._tokens.push(new K2(e,n,this._line,this._start,this._current))}}function pt(t){return Array.isArray(t)||(t==null?void 0:t.buffer)instanceof ArrayBuffer}const iy=new Float32Array(1),eee=new Uint32Array(iy.buffer),tee=new Uint32Array(iy.buffer),oy=new Int32Array(1),nee=new Float32Array(oy.buffer),ree=new Uint32Array(oy.buffer),ay=new Uint32Array(1),see=new Float32Array(ay.buffer),iee=new Int32Array(ay.buffer);function Z2(t,e,n){if(e===n)return t;if(e==="f32"){if(n==="i32"||n==="x32")return iy[0]=t,eee[0];if(n==="u32")return iy[0]=t,tee[0]}else if(e==="i32"||e==="x32"){if(n==="f32")return oy[0]=t,nee[0];if(n==="u32")return oy[0]=t,ree[0]}else if(e==="u32"){if(n==="f32")return ay[0]=t,see[0];if(n==="i32"||n==="x32")return ay[0]=t,iee[0]}return console.error(`Unsupported cast from ${e} to ${n}`),t}class oee{constructor(e){this.resources=null,this.inUse=!1,this.info=null,this.node=e}}class Kb{constructor(e,n){this.align=e,this.size=n}}class Uo{constructor(){this.uniforms=[],this.storage=[],this.textures=[],this.samplers=[],this.aliases=[],this.overrides=[],this.structs=[],this.entry=new $J,this.functions=[],this._types=new Map,this._functions=new Map}_isStorageTexture(e){return e.name=="texture_storage_1d"||e.name=="texture_storage_2d"||e.name=="texture_storage_2d_array"||e.name=="texture_storage_3d"}updateAST(e){for(const n of e)n instanceof nm&&this._functions.set(n.name,new oee(n));for(const n of e)if(n instanceof xa){const r=this.getTypeInfo(n,null);r instanceof Pl&&this.structs.push(r)}for(const n of e)if(n instanceof aT)this.aliases.push(this._getAliasInfo(n));else if(n instanceof iT){const r=n,s=this._getAttributeNum(r.attributes,"id",0),o=r.type!=null?this.getTypeInfo(r.type,r.attributes):null;this.overrides.push(new BJ(r.name,o,r.attributes,s))}else if(this._isUniformVar(n)){const r=n,s=this._getAttributeNum(r.attributes,"group",0),o=this._getAttributeNum(r.attributes,"binding",0),l=this.getTypeInfo(r.type,r.attributes),c=new Yb(r.name,l,s,o,r.attributes,gl.Uniform,r.access);c.access||(c.access="read"),this.uniforms.push(c)}else if(this._isStorageVar(n)){const r=n,s=this._getAttributeNum(r.attributes,"group",0),o=this._getAttributeNum(r.attributes,"binding",0),l=this.getTypeInfo(r.type,r.attributes),c=this._isStorageTexture(l),f=new Yb(r.name,l,s,o,r.attributes,c?gl.StorageTexture:gl.Storage,r.access);f.access||(f.access="read"),this.storage.push(f)}else if(this._isTextureVar(n)){const r=n,s=this._getAttributeNum(r.attributes,"group",0),o=this._getAttributeNum(r.attributes,"binding",0),l=this.getTypeInfo(r.type,r.attributes),c=this._isStorageTexture(l),f=new Yb(r.name,l,s,o,r.attributes,c?gl.StorageTexture:gl.Texture,r.access);f.access||(f.access="read"),c?this.storage.push(f):this.textures.push(f)}else if(this._isSamplerVar(n)){const r=n,s=this._getAttributeNum(r.attributes,"group",0),o=this._getAttributeNum(r.attributes,"binding",0),l=this.getTypeInfo(r.type,r.attributes),c=new Yb(r.name,l,s,o,r.attributes,gl.Sampler,r.access);this.samplers.push(c)}for(const n of e)if(n instanceof nm){const r=this._getAttribute(n,"vertex"),s=this._getAttribute(n,"fragment"),o=this._getAttribute(n,"compute"),l=r||s||o,c=new zJ(n.name,l==null?void 0:l.name,n.attributes);c.attributes=n.attributes,c.startLine=n.startLine,c.endLine=n.endLine,this.functions.push(c),this._functions.get(n.name).info=c,l&&(this._functions.get(n.name).inUse=!0,c.inUse=!0,c.resources=this._findResources(n,!!l),c.inputs=this._getInputs(n.args),c.outputs=this._getOutputs(n.returnType),this.entry[l.name].push(c)),c.arguments=n.args.map(f=>new LJ(f.name,this.getTypeInfo(f.type,f.attributes),f.attributes)),c.returnType=n.returnType?this.getTypeInfo(n.returnType,n.attributes):null}for(const n of this._functions.values())n.info&&(n.info.inUse=n.inUse,this._addCalls(n.node,n.info.calls));for(const n of this._functions.values())n.node.search(r=>{var s,o,l;if(r instanceof xF){if(r.value)if(pt(r.value))for(const c of r.value)for(const f of this.overrides)c===f.name&&((s=n.info)===null||s===void 0||s.overrides.push(f));else for(const c of this.overrides)r.value===c.name&&((o=n.info)===null||o===void 0||o.overrides.push(c))}else if(r instanceof li)for(const c of this.overrides)r.name===c.name&&((l=n.info)===null||l===void 0||l.overrides.push(c))});for(const n of this.uniforms)this._markStructsInUse(n.type);for(const n of this.storage)this._markStructsInUse(n.type)}getStructInfo(e){for(const n of this.structs)if(n.name==e)return n;return null}getOverrideInfo(e){for(const n of this.overrides)if(n.name==e)return n;return null}_markStructsInUse(e){if(e)if(e.isStruct){if(e.inUse=!0,e.members)for(const n of e.members)this._markStructsInUse(n.type)}else if(e.isArray)this._markStructsInUse(e.format);else if(e.isTemplate)e.format&&this._markStructsInUse(e.format);else{const n=this._getAlias(e.name);n&&this._markStructsInUse(n)}}_addCalls(e,n){var r;for(const s of e.calls){const o=(r=this._functions.get(s.name))===null||r===void 0?void 0:r.info;o&&n.add(o)}}findResource(e,n,r){if(r){for(const s of this.entry.compute)if(s.name===r){for(const o of s.resources)if(o.group==e&&o.binding==n)return o}for(const s of this.entry.vertex)if(s.name===r){for(const o of s.resources)if(o.group==e&&o.binding==n)return o}for(const s of this.entry.fragment)if(s.name===r){for(const o of s.resources)if(o.group==e&&o.binding==n)return o}}for(const s of this.uniforms)if(s.group==e&&s.binding==n)return s;for(const s of this.storage)if(s.group==e&&s.binding==n)return s;for(const s of this.textures)if(s.group==e&&s.binding==n)return s;for(const s of this.samplers)if(s.group==e&&s.binding==n)return s;return null}_findResource(e){for(const n of this.uniforms)if(n.name==e)return n;for(const n of this.storage)if(n.name==e)return n;for(const n of this.textures)if(n.name==e)return n;for(const n of this.samplers)if(n.name==e)return n;return null}_markStructsFromAST(e){const n=this.getTypeInfo(e,null);this._markStructsInUse(n)}_findResources(e,n){const r=[],s=this,o=[];return e.search(l=>{if(l instanceof ry)o.push({});else if(l instanceof sy)o.pop();else if(l instanceof Sa){const c=l;n&&c.type!==null&&this._markStructsFromAST(c.type),o.length>0&&(o[o.length-1][c.name]=c)}else if(l instanceof Ao){const c=l;n&&c.type!==null&&this._markStructsFromAST(c.type)}else if(l instanceof Vp){const c=l;n&&c.type!==null&&this._markStructsFromAST(c.type),o.length>0&&(o[o.length-1][c.name]=c)}else if(l instanceof li){const c=l;if(o.length>0&&o[o.length-1][c.name])return;const f=s._findResource(c.name);f&&r.push(f)}else if(l instanceof lT){const c=l,f=s._functions.get(c.name);f&&(n&&(f.inUse=!0),e.calls.add(f.node),f.resources===null&&(f.resources=s._findResources(f.node,n)),r.push(...f.resources))}else if(l instanceof oT){const c=l,f=s._functions.get(c.name);f&&(n&&(f.inUse=!0),e.calls.add(f.node),f.resources===null&&(f.resources=s._findResources(f.node,n)),r.push(...f.resources))}}),[...new Map(r.map(l=>[l.name,l])).values()]}getBindGroups(){const e=[];function n(r,s){r>=e.length&&(e.length=r+1),e[r]===void 0&&(e[r]=[]),s>=e[r].length&&(e[r].length=s+1)}for(const r of this.uniforms)n(r.group,r.binding),e[r.group][r.binding]=r;for(const r of this.storage)n(r.group,r.binding),e[r.group][r.binding]=r;for(const r of this.textures)n(r.group,r.binding),e[r.group][r.binding]=r;for(const r of this.samplers)n(r.group,r.binding),e[r.group][r.binding]=r;return e}_getOutputs(e,n=void 0){if(n===void 0&&(n=[]),e instanceof xa)this._getStructOutputs(e,n);else{const r=this._getOutputInfo(e);r!==null&&n.push(r)}return n}_getStructOutputs(e,n){for(const r of e.members)if(r.type instanceof xa)this._getStructOutputs(r.type,n);else{const s=this._getAttribute(r,"location")||this._getAttribute(r,"builtin");if(s!==null){const o=this.getTypeInfo(r.type,r.type.attributes),l=this._parseInt(s.value),c=new H2(r.name,o,s.name,l);n.push(c)}}}_getOutputInfo(e){const n=this._getAttribute(e,"location")||this._getAttribute(e,"builtin");if(n!==null){const r=this.getTypeInfo(e,e.attributes),s=this._parseInt(n.value);return new H2("",r,n.name,s)}return null}_getInputs(e,n=void 0){n===void 0&&(n=[]);for(const r of e)if(r.type instanceof xa)this._getStructInputs(r.type,n);else{const s=this._getInputInfo(r);s!==null&&n.push(s)}return n}_getStructInputs(e,n){for(const r of e.members)if(r.type instanceof xa)this._getStructInputs(r.type,n);else{const s=this._getInputInfo(r);s!==null&&n.push(s)}}_getInputInfo(e){const n=this._getAttribute(e,"location")||this._getAttribute(e,"builtin");if(n!==null){const r=this._getAttribute(e,"interpolation"),s=this.getTypeInfo(e.type,e.attributes),o=this._parseInt(n.value),l=new FJ(e.name,s,n.name,o);return r!==null&&(l.interpolation=this._parseString(r.value)),l}return null}_parseString(e){return e instanceof Array&&(e=e[0]),e}_parseInt(e){e instanceof Array&&(e=e[0]);const n=parseInt(e);return isNaN(n)?e:n}_getAlias(e){for(const n of this.aliases)if(n.name==e)return n.type;return null}_getAliasInfo(e){return new VJ(e.name,this.getTypeInfo(e.type,null))}getTypeInfoByName(e){for(const n of this.structs)if(n.name==e)return n;for(const n of this.aliases)if(n.name==e)return n.type;return null}getTypeInfo(e,n=null){if(this._types.has(e))return this._types.get(e);if(e instanceof vx){const s=e.type?this.getTypeInfo(e.type,e.attributes):null,o=new wS(e.name,s,n);return this._types.set(e,o),this._updateTypeInfo(o),o}if(e instanceof Fp){const s=e,o=s.format?this.getTypeInfo(s.format,s.attributes):null,l=new Vl(s.name,n);return l.format=o,l.count=s.count,this._types.set(e,l),this._updateTypeInfo(l),l}if(e instanceof xa){const s=e,o=new Pl(s.name,n);o.startLine=s.startLine,o.endLine=s.endLine;for(const l of s.members){const c=this.getTypeInfo(l.type,l.attributes);o.members.push(new $2(l.name,c,l.attributes))}return this._types.set(e,o),this._updateTypeInfo(o),o}if(e instanceof Rp){const s=e,o=s.format instanceof Qe,l=s.format?o?this.getTypeInfo(s.format,null):new Ri(s.format,null):null,c=new du(s.name,l,n,s.access);return this._types.set(e,c),this._updateTypeInfo(c),c}if(e instanceof ke){const s=e,o=s.format?this.getTypeInfo(s.format,null):null,l=new du(s.name,o,n,s.access);return this._types.set(e,l),this._updateTypeInfo(l),l}const r=new Ri(e.name,n);return this._types.set(e,r),this._updateTypeInfo(r),r}_updateTypeInfo(e){var n,r,s;const o=this._getTypeSize(e);if(e.size=(n=o==null?void 0:o.size)!==null&&n!==void 0?n:0,e instanceof Vl&&e.format){const l=this._getTypeSize(e.format);e.stride=Math.max((r=l==null?void 0:l.size)!==null&&r!==void 0?r:0,(s=l==null?void 0:l.align)!==null&&s!==void 0?s:0),this._updateTypeInfo(e.format)}e instanceof wS&&this._updateTypeInfo(e.format),e instanceof Pl&&this._updateStructInfo(e)}_updateStructInfo(e){var n;let r=0,s=0,o=0,l=0;for(let c=0,f=e.members.length;c<f;++c){const h=e.members[c],p=this._getTypeSize(h);if(!p)continue;(n=this._getAlias(h.type.name))!==null&&n!==void 0||h.type;const m=p.align,x=p.size;r=this._roundUp(m,r+s),s=x,o=r,l=Math.max(l,m),h.offset=r,h.size=x,this._updateTypeInfo(h.type)}e.size=this._roundUp(l,o+s),e.align=l}_getTypeSize(e){var n,r;if(e==null)return null;const s=this._getAttributeNum(e.attributes,"size",0),o=this._getAttributeNum(e.attributes,"align",0);if(e instanceof $2&&(e=e.type),e instanceof Ri){const l=this._getAlias(e.name);l!==null&&(e=l)}{const l=Uo._typeInfo[e.name];if(l!==void 0){const c=((n=e.format)===null||n===void 0?void 0:n.name)==="f16"?2:1;return new Kb(Math.max(o,l.align/c),Math.max(s,l.size/c))}}{const l=Uo._typeInfo[e.name.substring(0,e.name.length-1)];if(l){const c=e.name[e.name.length-1]==="h"?2:1;return new Kb(Math.max(o,l.align/c),Math.max(s,l.size/c))}}if(e instanceof Vl){let l=e,c=8,f=8;const h=this._getTypeSize(l.format);return h!==null&&(f=h.size,c=h.align),f=l.count*this._getAttributeNum((r=e==null?void 0:e.attributes)!==null&&r!==void 0?r:null,"stride",this._roundUp(c,f)),s&&(f=s),new Kb(Math.max(o,c),Math.max(s,f))}if(e instanceof Pl){let l=0,c=0,f=0,h=0,p=0;for(const m of e.members){const x=this._getTypeSize(m.type);x!==null&&(l=Math.max(x.align,l),f=this._roundUp(x.align,f+h),h=x.size,p=f)}return c=this._roundUp(l,p+h),new Kb(Math.max(o,l),Math.max(s,c))}return null}_isUniformVar(e){return e instanceof Sa&&e.storage=="uniform"}_isStorageVar(e){return e instanceof Sa&&e.storage=="storage"}_isTextureVar(e){return e instanceof Sa&&e.type!==null&&Uo._textureTypes.indexOf(e.type.name)!=-1}_isSamplerVar(e){return e instanceof Sa&&e.type!==null&&Uo._samplerTypes.indexOf(e.type.name)!=-1}_getAttribute(e,n){const r=e;if(!r||!r.attributes)return null;const s=r.attributes;for(let o of s)if(o.name==n)return o;return null}_getAttributeNum(e,n,r){if(e===null)return r;for(let s of e)if(s.name==n){let o=s!==null&&s.value!==null?s.value:r;return o instanceof Array&&(o=o[0]),typeof o=="number"?o:typeof o=="string"?parseInt(o):r}return r}_roundUp(e,n){return Math.ceil(n/e)*e}}Uo._typeInfo={f16:{align:2,size:2},i32:{align:4,size:4},u32:{align:4,size:4},f32:{align:4,size:4},atomic:{align:4,size:4},vec2:{align:8,size:8},vec3:{align:16,size:12},vec4:{align:16,size:16},mat2x2:{align:8,size:16},mat3x2:{align:8,size:24},mat4x2:{align:8,size:32},mat2x3:{align:16,size:32},mat3x3:{align:16,size:48},mat4x3:{align:16,size:64},mat2x4:{align:16,size:32},mat3x4:{align:16,size:48},mat4x4:{align:16,size:64}},Uo._textureTypes=ee.any_texture_type.map(t=>t.name),Uo._samplerTypes=ee.sampler_type.map(t=>t.name);let cT=0;class uT{constructor(e,n,r){this.id=cT++,this.name=e,this.value=n,this.node=r}clone(){return new uT(this.name,this.value,this.node)}}class fT{constructor(e){this.id=cT++,this.name=e.name,this.node=e}clone(){return new fT(this.node)}}class dT{constructor(e){this.parent=null,this.variables=new Map,this.functions=new Map,this.currentFunctionName="",this.id=cT++,e&&(this.parent=e,this.currentFunctionName=e.currentFunctionName)}getVariable(e){var n;return this.variables.has(e)?(n=this.variables.get(e))!==null&&n!==void 0?n:null:this.parent?this.parent.getVariable(e):null}getFunction(e){var n;return this.functions.has(e)?(n=this.functions.get(e))!==null&&n!==void 0?n:null:this.parent?this.parent.getFunction(e):null}createVariable(e,n,r){this.variables.set(e,new uT(e,n,r??null))}setVariable(e,n,r){const s=this.getVariable(e);s!==null?s.value=n:this.createVariable(e,n,r)}getVariableValue(e){var n;const r=this.getVariable(e);return(n=r==null?void 0:r.value)!==null&&n!==void 0?n:null}clone(){return new dT(this)}}class aee{evalExpression(e,n){return null}getTypeInfo(e){return null}getVariableName(e,n){return""}}class lee{constructor(e){this.exec=e}getTypeInfo(e){return this.exec.getTypeInfo(e)}All(e,n){const r=this.exec.evalExpression(e.args[0],n);let s=!0;if(r instanceof ae)return r.data.forEach(o=>{o||(s=!1)}),new Te(s?1:0,this.getTypeInfo("bool"));throw new Error(`All() expects a vector argument. Line ${e.line}`)}Any(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof ae){const s=r.data.some(o=>o);return new Te(s?1:0,this.getTypeInfo("bool"))}throw new Error(`Any() expects a vector argument. Line ${e.line}`)}Select(e,n){const r=this.exec.evalExpression(e.args[2],n);if(!(r instanceof Te))throw new Error(`Select() expects a bool condition. Line ${e.line}`);return r.value?this.exec.evalExpression(e.args[1],n):this.exec.evalExpression(e.args[0],n)}ArrayLength(e,n){let r=e.args[0];r instanceof Dr&&(r=r.right);const s=this.exec.evalExpression(r,n);if(s instanceof gr&&s.typeInfo.size===0){const o=s.typeInfo,l=s.buffer.byteLength/o.stride;return new Te(l,this.getTypeInfo("u32"))}return new Te(s.typeInfo.size,this.getTypeInfo("u32"))}Abs(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof ae)return new ae(r.data.map(o=>Math.abs(o)),r.typeInfo);const s=r;return new Te(Math.abs(s.value),s.typeInfo)}Acos(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof ae)return new ae(r.data.map(o=>Math.acos(o)),r.typeInfo);const s=r;return new Te(Math.acos(s.value),r.typeInfo)}Acosh(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof ae)return new ae(r.data.map(o=>Math.acosh(o)),r.typeInfo);const s=r;return new Te(Math.acosh(s.value),r.typeInfo)}Asin(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof ae)return new ae(r.data.map(o=>Math.asin(o)),r.typeInfo);const s=r;return new Te(Math.asin(s.value),r.typeInfo)}Asinh(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof ae)return new ae(r.data.map(o=>Math.asinh(o)),r.typeInfo);const s=r;return new Te(Math.asinh(s.value),r.typeInfo)}Atan(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof ae)return new ae(r.data.map(o=>Math.atan(o)),r.typeInfo);const s=r;return new Te(Math.atan(s.value),r.typeInfo)}Atanh(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof ae)return new ae(r.data.map(o=>Math.atanh(o)),r.typeInfo);const s=r;return new Te(Math.atanh(s.value),r.typeInfo)}Atan2(e,n){const r=this.exec.evalExpression(e.args[0],n),s=this.exec.evalExpression(e.args[1],n);if(r instanceof ae&&s instanceof ae)return new ae(r.data.map((c,f)=>Math.atan2(c,s.data[f])),r.typeInfo);const o=r,l=s;return new Te(Math.atan2(o.value,l.value),r.typeInfo)}Ceil(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof ae)return new ae(r.data.map(o=>Math.ceil(o)),r.typeInfo);const s=r;return new Te(Math.ceil(s.value),r.typeInfo)}_clamp(e,n,r){return Math.min(Math.max(e,n),r)}Clamp(e,n){const r=this.exec.evalExpression(e.args[0],n),s=this.exec.evalExpression(e.args[1],n),o=this.exec.evalExpression(e.args[2],n);if(r instanceof ae&&s instanceof ae&&o instanceof ae)return new ae(r.data.map((h,p)=>this._clamp(h,s.data[p],o.data[p])),r.typeInfo);const l=r,c=s,f=o;return new Te(this._clamp(l.value,c.value,f.value),r.typeInfo)}Cos(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof ae)return new ae(r.data.map(o=>Math.cos(o)),r.typeInfo);const s=r;return new Te(Math.cos(s.value),r.typeInfo)}Cosh(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof ae)return new ae(r.data.map(o=>Math.cosh(o)),r.typeInfo);const s=r;return new Te(Math.cos(s.value),r.typeInfo)}CountLeadingZeros(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof ae)return new ae(r.data.map(o=>Math.clz32(o)),r.typeInfo);const s=r;return new Te(Math.clz32(s.value),r.typeInfo)}_countOneBits(e){let n=0;for(;e!==0;)1&e&&n++,e>>=1;return n}CountOneBits(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof ae)return new ae(r.data.map(o=>this._countOneBits(o)),r.typeInfo);const s=r;return new Te(this._countOneBits(s.value),r.typeInfo)}_countTrailingZeros(e){if(e===0)return 32;let n=0;for(;!(1&e);)e>>=1,n++;return n}CountTrailingZeros(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof ae)return new ae(r.data.map(o=>this._countTrailingZeros(o)),r.typeInfo);const s=r;return new Te(this._countTrailingZeros(s.value),r.typeInfo)}Cross(e,n){const r=this.exec.evalExpression(e.args[0],n),s=this.exec.evalExpression(e.args[1],n);if(r instanceof ae&&s instanceof ae){if(r.data.length!==3||s.data.length!==3)return console.error(`Cross() expects 3D vectors. Line ${e.line}`),null;const o=r.data,l=s.data;return new ae([o[1]*l[2]-l[1]*o[2],o[2]*l[0]-l[2]*o[0],o[0]*l[1]-l[0]*o[1]],r.typeInfo)}return console.error(`Cross() expects vector arguments. Line ${e.line}`),null}Degrees(e,n){const r=this.exec.evalExpression(e.args[0],n),s=180/Math.PI;return r instanceof ae?new ae(r.data.map(o=>o*s),r.typeInfo):new Te(r.value*s,this.getTypeInfo("f32"))}Determinant(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof It){const s=r.data,o=r.typeInfo.getTypeName(),l=o.endsWith("h")?this.getTypeInfo("f16"):this.getTypeInfo("f32");if(o==="mat2x2"||o==="mat2x2f"||o==="mat2x2h")return new Te(s[0]*s[3]-s[1]*s[2],l);if(o==="mat2x3"||o==="mat2x3f"||o==="mat2x3h")return new Te(s[0]*(s[4]*s[8]-s[5]*s[7])-s[1]*(s[3]*s[8]-s[5]*s[6])+s[2]*(s[3]*s[7]-s[4]*s[6]),l);if(o==="mat2x4"||o==="mat2x4f"||o==="mat2x4h")console.error(`TODO: Determinant for ${o}`);else if(o==="mat3x2"||o==="mat3x2f"||o==="mat3x2h")console.error(`TODO: Determinant for ${o}`);else{if(o==="mat3x3"||o==="mat3x3f"||o==="mat3x3h")return new Te(s[0]*(s[4]*s[8]-s[5]*s[7])-s[1]*(s[3]*s[8]-s[5]*s[6])+s[2]*(s[3]*s[7]-s[4]*s[6]),l);o==="mat3x4"||o==="mat3x4f"||o==="mat3x4h"||o==="mat4x2"||o==="mat4x2f"||o==="mat4x2h"||o==="mat4x3"||o==="mat4x3f"||o==="mat4x3h"?console.error(`TODO: Determinant for ${o}`):o!=="mat4x4"&&o!=="mat4x4f"&&o!=="mat4x4h"||console.error(`TODO: Determinant for ${o}`)}}return console.error(`Determinant expects a matrix argument. Line ${e.line}`),null}Distance(e,n){const r=this.exec.evalExpression(e.args[0],n),s=this.exec.evalExpression(e.args[1],n);if(r instanceof ae&&s instanceof ae){let c=0;for(let f=0;f<r.data.length;++f)c+=(r.data[f]-s.data[f])*(r.data[f]-s.data[f]);return new Te(Math.sqrt(c),this.getTypeInfo("f32"))}const o=r,l=s;return new Te(Math.abs(o.value-l.value),r.typeInfo)}_dot(e,n){let r=0;for(let s=0;s<e.length;++s)r+=n[s]*e[s];return r}Dot(e,n){const r=this.exec.evalExpression(e.args[0],n),s=this.exec.evalExpression(e.args[1],n);return r instanceof ae&&s instanceof ae?new Te(this._dot(r.data,s.data),this.getTypeInfo("f32")):(console.error(`Dot() expects vector arguments. Line ${e.line}`),null)}Dot4U8Packed(e,n){return console.error(`TODO: dot4U8Packed. Line ${e.line}`),null}Dot4I8Packed(e,n){return console.error(`TODO: dot4I8Packed. Line ${e.line}`),null}Exp(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof ae)return new ae(r.data.map(o=>Math.exp(o)),r.typeInfo);const s=r;return new Te(Math.exp(s.value),r.typeInfo)}Exp2(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof ae)return new ae(r.data.map(o=>Math.pow(2,o)),r.typeInfo);const s=r;return new Te(Math.pow(2,s.value),r.typeInfo)}ExtractBits(e,n){const r=this.exec.evalExpression(e.args[0],n),s=this.exec.evalExpression(e.args[1],n),o=this.exec.evalExpression(e.args[2],n);if(s.typeInfo.name!=="u32"&&s.typeInfo.name!=="x32")return console.error(`ExtractBits() expects an i32 offset argument. Line ${e.line}`),null;if(o.typeInfo.name!=="u32"&&o.typeInfo.name!=="x32")return console.error(`ExtractBits() expects an i32 count argument. Line ${e.line}`),null;const l=s.value,c=o.value;if(r instanceof ae)return new ae(r.data.map(h=>h>>l&(1<<c)-1),r.typeInfo);if(r.typeInfo.name!=="i32"&&r.typeInfo.name!=="x32")return console.error(`ExtractBits() expects an i32 argument. Line ${e.line}`),null;const f=r.value;return new Te(f>>l&(1<<c)-1,this.getTypeInfo("i32"))}FaceForward(e,n){const r=this.exec.evalExpression(e.args[0],n),s=this.exec.evalExpression(e.args[1],n),o=this.exec.evalExpression(e.args[2],n);if(r instanceof ae&&s instanceof ae&&o instanceof ae){const l=this._dot(s.data,o.data);return new ae(l<0?Array.from(r.data):r.data.map(c=>-c),r.typeInfo)}return console.error(`FaceForward() expects vector arguments. Line ${e.line}`),null}_firstLeadingBit(e){return e===0?-1:31-Math.clz32(e)}FirstLeadingBit(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof ae)return new ae(r.data.map(o=>this._firstLeadingBit(o)),r.typeInfo);const s=r;return new Te(this._firstLeadingBit(s.value),r.typeInfo)}_firstTrailingBit(e){return e===0?-1:Math.log2(e&-e)}FirstTrailingBit(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof ae)return new ae(r.data.map(o=>this._firstTrailingBit(o)),r.typeInfo);const s=r;return new Te(this._firstTrailingBit(s.value),r.typeInfo)}Floor(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof ae)return new ae(r.data.map(o=>Math.floor(o)),r.typeInfo);const s=r;return new Te(Math.floor(s.value),r.typeInfo)}Fma(e,n){const r=this.exec.evalExpression(e.args[0],n),s=this.exec.evalExpression(e.args[1],n),o=this.exec.evalExpression(e.args[2],n);if(r instanceof ae&&s instanceof ae&&o instanceof ae)return r.data.length!==s.data.length||r.data.length!==o.data.length?(console.error(`Fma() expects vectors of the same length. Line ${e.line}`),null):new ae(r.data.map((h,p)=>h*s.data[p]+o.data[p]),r.typeInfo);const l=r,c=s,f=o;return new Te(l.value*c.value+f.value,l.typeInfo)}Fract(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof ae)return new ae(r.data.map(o=>o-Math.floor(o)),r.typeInfo);const s=r;return new Te(s.value-Math.floor(s.value),r.typeInfo)}Frexp(e,n){return console.error(`TODO: frexp. Line ${e.line}`),null}InsertBits(e,n){const r=this.exec.evalExpression(e.args[0],n),s=this.exec.evalExpression(e.args[1],n),o=this.exec.evalExpression(e.args[2],n),l=this.exec.evalExpression(e.args[3],n);if(o.typeInfo.name!=="u32"&&o.typeInfo.name!=="x32")return console.error(`InsertBits() expects an i32 offset argument. Line ${e.line}`),null;const c=o.value,f=(1<<l.value)-1<<c,h=~f;if(r instanceof ae&&s instanceof ae)return new ae(r.data.map((x,w)=>x&h|s.data[w]<<c&f),r.typeInfo);const p=r.value,m=s.value;return new Te(p&h|m<<c&f,r.typeInfo)}InverseSqrt(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof ae)return new ae(r.data.map(o=>1/Math.sqrt(o)),r.typeInfo);const s=r;return new Te(1/Math.sqrt(s.value),r.typeInfo)}Ldexp(e,n){return console.error(`TODO: ldexp. Line ${e.line}`),null}Length(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof ae){let o=0;return r.data.forEach(l=>{o+=l*l}),new Te(Math.sqrt(o),this.getTypeInfo("f32"))}const s=r;return new Te(Math.abs(s.value),r.typeInfo)}Log(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof ae)return new ae(r.data.map(o=>Math.log(o)),r.typeInfo);const s=r;return new Te(Math.log(s.value),r.typeInfo)}Log2(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof ae)return new ae(r.data.map(o=>Math.log2(o)),r.typeInfo);const s=r;return new Te(Math.log2(s.value),r.typeInfo)}Max(e,n){const r=this.exec.evalExpression(e.args[0],n),s=this.exec.evalExpression(e.args[1],n);if(r instanceof ae&&s instanceof ae)return new ae(r.data.map((c,f)=>Math.max(c,s.data[f])),r.typeInfo);const o=r,l=s;return new Te(Math.max(o.value,l.value),r.typeInfo)}Min(e,n){const r=this.exec.evalExpression(e.args[0],n),s=this.exec.evalExpression(e.args[1],n);if(r instanceof ae&&s instanceof ae)return new ae(r.data.map((c,f)=>Math.min(c,s.data[f])),r.typeInfo);const o=r,l=s;return new Te(Math.min(o.value,l.value),r.typeInfo)}Mix(e,n){const r=this.exec.evalExpression(e.args[0],n),s=this.exec.evalExpression(e.args[1],n),o=this.exec.evalExpression(e.args[2],n);if(r instanceof ae&&s instanceof ae&&o instanceof ae)return new ae(r.data.map((f,h)=>r.data[h]*(1-o.data[h])+s.data[h]*o.data[h]),r.typeInfo);const l=s,c=o;return new Te(r.value*(1-c.value)+l.value*c.value,r.typeInfo)}Modf(e,n){const r=this.exec.evalExpression(e.args[0],n),s=this.exec.evalExpression(e.args[1],n);if(r instanceof ae&&s instanceof ae)return new ae(r.data.map((l,c)=>l%s.data[c]),r.typeInfo);const o=s;return new Te(r.value%o.value,r.typeInfo)}Normalize(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof ae){const s=this.Length(e,n).value;return new ae(r.data.map(o=>o/s),r.typeInfo)}return console.error(`Normalize() expects a vector argument. Line ${e.line}`),null}Pow(e,n){const r=this.exec.evalExpression(e.args[0],n),s=this.exec.evalExpression(e.args[1],n);if(r instanceof ae&&s instanceof ae)return new ae(r.data.map((c,f)=>Math.pow(c,s.data[f])),r.typeInfo);const o=r,l=s;return new Te(Math.pow(o.value,l.value),r.typeInfo)}QuantizeToF16(e,n){const r=this.exec.evalExpression(e.args[0],n);return r instanceof ae?new ae(r.data.map(s=>s),r.typeInfo):new Te(r.value,r.typeInfo)}Radians(e,n){const r=this.exec.evalExpression(e.args[0],n);return r instanceof ae?new ae(r.data.map(s=>s*Math.PI/180),r.typeInfo):new Te(r.value*Math.PI/180,this.getTypeInfo("f32"))}Reflect(e,n){let r=this.exec.evalExpression(e.args[0],n),s=this.exec.evalExpression(e.args[1],n);if(r instanceof ae&&s instanceof ae){const o=this._dot(r.data,s.data);return new ae(r.data.map((l,c)=>l-2*o*s.data[c]),r.typeInfo)}return console.error(`Reflect() expects vector arguments. Line ${e.line}`),null}Refract(e,n){let r=this.exec.evalExpression(e.args[0],n),s=this.exec.evalExpression(e.args[1],n),o=this.exec.evalExpression(e.args[2],n);if(r instanceof ae&&s instanceof ae&&o instanceof Te){const l=this._dot(s.data,r.data);return new ae(r.data.map((c,f)=>{const h=1-o.value*o.value*(1-l*l);if(h<0)return 0;const p=Math.sqrt(h);return o.value*c-(o.value*l+p)*s.data[f]}),r.typeInfo)}return console.error(`Refract() expects vector arguments and a scalar argument. Line ${e.line}`),null}ReverseBits(e,n){return console.error(`TODO: reverseBits. Line ${e.line}`),null}Round(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof ae)return new ae(r.data.map(o=>Math.round(o)),r.typeInfo);const s=r;return new Te(Math.round(s.value),r.typeInfo)}Saturate(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof ae)return new ae(r.data.map(o=>Math.min(Math.max(o,0),1)),r.typeInfo);const s=r;return new Te(Math.min(Math.max(s.value,0),1),r.typeInfo)}Sign(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof ae)return new ae(r.data.map(o=>Math.sign(o)),r.typeInfo);const s=r;return new Te(Math.sign(s.value),r.typeInfo)}Sin(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof ae)return new ae(r.data.map(o=>Math.sin(o)),r.typeInfo);const s=r;return new Te(Math.sin(s.value),r.typeInfo)}Sinh(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof ae)return new ae(r.data.map(o=>Math.sinh(o)),r.typeInfo);const s=r;return new Te(Math.sinh(s.value),r.typeInfo)}_smoothstep(e,n,r){const s=Math.min(Math.max((r-e)/(n-e),0),1);return s*s*(3-2*s)}SmoothStep(e,n){const r=this.exec.evalExpression(e.args[0],n),s=this.exec.evalExpression(e.args[1],n),o=this.exec.evalExpression(e.args[2],n);if(o instanceof ae&&r instanceof ae&&s instanceof ae)return new ae(o.data.map((h,p)=>this._smoothstep(r.data[p],s.data[p],h)),o.typeInfo);const l=r,c=s,f=o;return new Te(this._smoothstep(l.value,c.value,f.value),o.typeInfo)}Sqrt(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof ae)return new ae(r.data.map(o=>Math.sqrt(o)),r.typeInfo);const s=r;return new Te(Math.sqrt(s.value),r.typeInfo)}Step(e,n){const r=this.exec.evalExpression(e.args[0],n),s=this.exec.evalExpression(e.args[1],n);if(s instanceof ae&&r instanceof ae)return new ae(s.data.map((l,c)=>l<r.data[c]?0:1),s.typeInfo);const o=r;return new Te(s.value<o.value?0:1,o.typeInfo)}Tan(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof ae)return new ae(r.data.map(o=>Math.tan(o)),r.typeInfo);const s=r;return new Te(Math.tan(s.value),r.typeInfo)}Tanh(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof ae)return new ae(r.data.map(o=>Math.tanh(o)),r.typeInfo);const s=r;return new Te(Math.tanh(s.value),r.typeInfo)}_getTransposeType(e){const n=e.getTypeName();return n==="mat2x2f"||n==="mat2x2h"?e:n==="mat2x3f"?this.getTypeInfo("mat3x2f"):n==="mat2x3h"?this.getTypeInfo("mat3x2h"):n==="mat2x4f"?this.getTypeInfo("mat4x2f"):n==="mat2x4h"?this.getTypeInfo("mat4x2h"):n==="mat3x2f"?this.getTypeInfo("mat2x3f"):n==="mat3x2h"?this.getTypeInfo("mat2x3h"):n==="mat3x3f"||n==="mat3x3h"?e:n==="mat3x4f"?this.getTypeInfo("mat4x3f"):n==="mat3x4h"?this.getTypeInfo("mat4x3h"):n==="mat4x2f"?this.getTypeInfo("mat2x4f"):n==="mat4x2h"?this.getTypeInfo("mat2x4h"):n==="mat4x3f"?this.getTypeInfo("mat3x4f"):n==="mat4x3h"?this.getTypeInfo("mat3x4h"):(n==="mat4x4f"||n==="mat4x4h"||console.error(`Invalid matrix type ${n}`),e)}Transpose(e,n){const r=this.exec.evalExpression(e.args[0],n);if(!(r instanceof It))return console.error(`Transpose() expects a matrix argument. Line ${e.line}`),null;const s=this._getTransposeType(r.typeInfo);if(r.typeInfo.name==="mat2x2"||r.typeInfo.name==="mat2x2f"||r.typeInfo.name==="mat2x2h"){const o=r.data;return new It([o[0],o[2],o[1],o[3]],s)}if(r.typeInfo.name==="mat2x3"||r.typeInfo.name==="mat2x3f"||r.typeInfo.name==="mat2x3h"){const o=r.data;return new It([o[0],o[3],o[6],o[1],o[4],o[7]],s)}if(r.typeInfo.name==="mat2x4"||r.typeInfo.name==="mat2x4f"||r.typeInfo.name==="mat2x4h"){const o=r.data;return new It([o[0],o[4],o[8],o[12],o[1],o[5],o[9],o[13]],s)}if(r.typeInfo.name==="mat3x2"||r.typeInfo.name==="mat3x2f"||r.typeInfo.name==="mat3x2h"){const o=r.data;return new It([o[0],o[3],o[1],o[4],o[2],o[5]],s)}if(r.typeInfo.name==="mat3x3"||r.typeInfo.name==="mat3x3f"||r.typeInfo.name==="mat3x3h"){const o=r.data;return new It([o[0],o[3],o[6],o[1],o[4],o[7],o[2],o[5],o[8]],s)}if(r.typeInfo.name==="mat3x4"||r.typeInfo.name==="mat3x4f"||r.typeInfo.name==="mat3x4h"){const o=r.data;return new It([o[0],o[4],o[8],o[12],o[1],o[5],o[9],o[13],o[2],o[6],o[10],o[14]],s)}if(r.typeInfo.name==="mat4x2"||r.typeInfo.name==="mat4x2f"||r.typeInfo.name==="mat4x2h"){const o=r.data;return new It([o[0],o[4],o[1],o[5],o[2],o[6]],s)}if(r.typeInfo.name==="mat4x3"||r.typeInfo.name==="mat4x3f"||r.typeInfo.name==="mat4x3h"){const o=r.data;return new It([o[0],o[4],o[8],o[1],o[5],o[9],o[2],o[6],o[10]],s)}if(r.typeInfo.name==="mat4x4"||r.typeInfo.name==="mat4x4f"||r.typeInfo.name==="mat4x4h"){const o=r.data;return new It([o[0],o[4],o[8],o[12],o[1],o[5],o[9],o[13],o[2],o[6],o[10],o[14],o[3],o[7],o[11],o[15]],s)}return console.error(`Invalid matrix type ${r.typeInfo.name}`),null}Trunc(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof ae)return new ae(r.data.map(o=>Math.trunc(o)),r.typeInfo);const s=r;return new Te(Math.trunc(s.value),r.typeInfo)}Dpdx(e,n){return console.error(`TODO: dpdx. Line ${e.line}`),null}DpdxCoarse(e,n){return console.error(`TODO: dpdxCoarse. Line ${e.line}`),null}DpdxFine(e,n){return console.error("TODO: dpdxFine"),null}Dpdy(e,n){return console.error("TODO: dpdy"),null}DpdyCoarse(e,n){return console.error("TODO: dpdyCoarse"),null}DpdyFine(e,n){return console.error("TODO: dpdyFine"),null}Fwidth(e,n){return console.error("TODO: fwidth"),null}FwidthCoarse(e,n){return console.error("TODO: fwidthCoarse"),null}FwidthFine(e,n){return console.error("TODO: fwidthFine"),null}TextureDimensions(e,n){const r=e.args[0],s=e.args.length>1?this.exec.evalExpression(e.args[1],n).value:0;if(r instanceof li){const o=r.name,l=n.getVariableValue(o);if(l instanceof ya){if(s<0||s>=l.mipLevelCount)return console.error(`Invalid mip level for textureDimensions. Line ${e.line}`),null;const c=l.getMipLevelSize(s),f=l.dimension;return f==="1d"?new Te(c[0],this.getTypeInfo("u32")):f==="3d"?new ae(c,this.getTypeInfo("vec3u")):f==="2d"?new ae(c.slice(0,2),this.getTypeInfo("vec2u")):(console.error(`Invalid texture dimension ${f} not found. Line ${e.line}`),null)}return console.error(`Texture ${o} not found. Line ${e.line}`),null}return console.error(`Invalid texture argument for textureDimensions. Line ${e.line}`),null}TextureGather(e,n){return console.error("TODO: textureGather"),null}TextureGatherCompare(e,n){return console.error("TODO: textureGatherCompare"),null}TextureLoad(e,n){const r=e.args[0],s=this.exec.evalExpression(e.args[1],n),o=e.args.length>2?this.exec.evalExpression(e.args[2],n).value:0;if(!(s instanceof ae)||s.data.length!==2)return console.error(`Invalid UV argument for textureLoad. Line ${e.line}`),null;if(r instanceof li){const l=r.name,c=n.getVariableValue(l);if(c instanceof ya){const f=Math.floor(s.data[0]),h=Math.floor(s.data[1]);if(f<0||f>=c.width||h<0||h>=c.height)return console.error(`Texture ${l} out of bounds. Line ${e.line}`),null;const p=c.getPixel(f,h,0,o);return p===null?(console.error(`Invalid texture format for textureLoad. Line ${e.line}`),null):new ae(p,this.getTypeInfo("vec4f"))}return console.error(`Texture ${l} not found. Line ${e.line}`),null}return console.error(`Invalid texture argument for textureLoad. Line ${e.line}`),null}TextureNumLayers(e,n){const r=e.args[0];if(r instanceof li){const s=r.name,o=n.getVariableValue(s);return o instanceof ya?new Te(o.depthOrArrayLayers,this.getTypeInfo("u32")):(console.error(`Texture ${s} not found. Line ${e.line}`),null)}return console.error(`Invalid texture argument for textureNumLayers. Line ${e.line}`),null}TextureNumLevels(e,n){const r=e.args[0];if(r instanceof li){const s=r.name,o=n.getVariableValue(s);return o instanceof ya?new Te(o.mipLevelCount,this.getTypeInfo("u32")):(console.error(`Texture ${s} not found. Line ${e.line}`),null)}return console.error(`Invalid texture argument for textureNumLevels. Line ${e.line}`),null}TextureNumSamples(e,n){const r=e.args[0];if(r instanceof li){const s=r.name,o=n.getVariableValue(s);return o instanceof ya?new Te(o.sampleCount,this.getTypeInfo("u32")):(console.error(`Texture ${s} not found. Line ${e.line}`),null)}return console.error(`Invalid texture argument for textureNumSamples. Line ${e.line}`),null}TextureSample(e,n){return console.error("TODO: textureSample"),null}TextureSampleBias(e,n){return console.error("TODO: textureSampleBias"),null}TextureSampleCompare(e,n){return console.error("TODO: textureSampleCompare"),null}TextureSampleCompareLevel(e,n){return console.error("TODO: textureSampleCompareLevel"),null}TextureSampleGrad(e,n){return console.error("TODO: textureSampleGrad"),null}TextureSampleLevel(e,n){return console.error("TODO: textureSampleLevel"),null}TextureSampleBaseClampToEdge(e,n){return console.error("TODO: textureSampleBaseClampToEdge"),null}TextureStore(e,n){const r=e.args[0],s=this.exec.evalExpression(e.args[1],n),o=e.args.length===4?this.exec.evalExpression(e.args[2],n).value:0,l=e.args.length===4?this.exec.evalExpression(e.args[3],n).data:this.exec.evalExpression(e.args[2],n).data;if(l.length!==4)return console.error(`Invalid value argument for textureStore. Line ${e.line}`),null;if(!(s instanceof ae)||s.data.length!==2)return console.error(`Invalid UV argument for textureStore. Line ${e.line}`),null;if(r instanceof li){const c=r.name,f=n.getVariableValue(c);if(f instanceof ya){const h=f.getMipLevelSize(0),p=Math.floor(s.data[0]),m=Math.floor(s.data[1]);return p<0||p>=h[0]||m<0||m>=h[1]?(console.error(`Texture ${c} out of bounds. Line ${e.line}`),null):(f.setPixel(p,m,0,o,Array.from(l)),null)}return console.error(`Texture ${c} not found. Line ${e.line}`),null}return console.error(`Invalid texture argument for textureStore. Line ${e.line}`),null}AtomicLoad(e,n){let r=e.args[0];r instanceof Dr&&(r=r.right);const s=this.exec.getVariableName(r,n);return n.getVariable(s).value.getSubData(this.exec,r.postfix,n)}AtomicStore(e,n){let r=e.args[0];r instanceof Dr&&(r=r.right);const s=this.exec.getVariableName(r,n),o=n.getVariable(s);let l=e.args[1];const c=this.exec.evalExpression(l,n),f=o.value.getSubData(this.exec,r.postfix,n);return f instanceof Te&&c instanceof Te&&(f.value=c.value),o.value instanceof gr&&o.value.setDataValue(this.exec,f,r.postfix,n),null}AtomicAdd(e,n){let r=e.args[0];r instanceof Dr&&(r=r.right);const s=this.exec.getVariableName(r,n),o=n.getVariable(s);let l=e.args[1];const c=this.exec.evalExpression(l,n),f=o.value.getSubData(this.exec,r.postfix,n),h=new Te(f.value,f.typeInfo);return f instanceof Te&&c instanceof Te&&(f.value+=c.value),o.value instanceof gr&&o.value.setDataValue(this.exec,f,r.postfix,n),h}AtomicSub(e,n){let r=e.args[0];r instanceof Dr&&(r=r.right);const s=this.exec.getVariableName(r,n),o=n.getVariable(s);let l=e.args[1];const c=this.exec.evalExpression(l,n),f=o.value.getSubData(this.exec,r.postfix,n),h=new Te(f.value,f.typeInfo);return f instanceof Te&&c instanceof Te&&(f.value-=c.value),o.value instanceof gr&&o.value.setDataValue(this.exec,f,r.postfix,n),h}AtomicMax(e,n){let r=e.args[0];r instanceof Dr&&(r=r.right);const s=this.exec.getVariableName(r,n),o=n.getVariable(s);let l=e.args[1];const c=this.exec.evalExpression(l,n),f=o.value.getSubData(this.exec,r.postfix,n),h=new Te(f.value,f.typeInfo);return f instanceof Te&&c instanceof Te&&(f.value=Math.max(f.value,c.value)),o.value instanceof gr&&o.value.setDataValue(this.exec,f,r.postfix,n),h}AtomicMin(e,n){let r=e.args[0];r instanceof Dr&&(r=r.right);const s=this.exec.getVariableName(r,n),o=n.getVariable(s);let l=e.args[1];const c=this.exec.evalExpression(l,n),f=o.value.getSubData(this.exec,r.postfix,n),h=new Te(f.value,f.typeInfo);return f instanceof Te&&c instanceof Te&&(f.value=Math.min(f.value,c.value)),o.value instanceof gr&&o.value.setDataValue(this.exec,f,r.postfix,n),h}AtomicAnd(e,n){let r=e.args[0];r instanceof Dr&&(r=r.right);const s=this.exec.getVariableName(r,n),o=n.getVariable(s);let l=e.args[1];const c=this.exec.evalExpression(l,n),f=o.value.getSubData(this.exec,r.postfix,n),h=new Te(f.value,f.typeInfo);return f instanceof Te&&c instanceof Te&&(f.value=f.value&c.value),o.value instanceof gr&&o.value.setDataValue(this.exec,f,r.postfix,n),h}AtomicOr(e,n){let r=e.args[0];r instanceof Dr&&(r=r.right);const s=this.exec.getVariableName(r,n),o=n.getVariable(s);let l=e.args[1];const c=this.exec.evalExpression(l,n),f=o.value.getSubData(this.exec,r.postfix,n),h=new Te(f.value,f.typeInfo);return f instanceof Te&&c instanceof Te&&(f.value=f.value|c.value),o.value instanceof gr&&o.value.setDataValue(this.exec,f,r.postfix,n),h}AtomicXor(e,n){let r=e.args[0];r instanceof Dr&&(r=r.right);const s=this.exec.getVariableName(r,n),o=n.getVariable(s);let l=e.args[1];const c=this.exec.evalExpression(l,n),f=o.value.getSubData(this.exec,r.postfix,n),h=new Te(f.value,f.typeInfo);return f instanceof Te&&c instanceof Te&&(f.value=f.value^c.value),o.value instanceof gr&&o.value.setDataValue(this.exec,f,r.postfix,n),h}AtomicExchange(e,n){let r=e.args[0];r instanceof Dr&&(r=r.right);const s=this.exec.getVariableName(r,n),o=n.getVariable(s);let l=e.args[1];const c=this.exec.evalExpression(l,n),f=o.value.getSubData(this.exec,r.postfix,n),h=new Te(f.value,f.typeInfo);return f instanceof Te&&c instanceof Te&&(f.value=c.value),o.value instanceof gr&&o.value.setDataValue(this.exec,f,r.postfix,n),h}AtomicCompareExchangeWeak(e,n){return console.error("TODO: atomicCompareExchangeWeak"),null}Pack4x8snorm(e,n){return console.error("TODO: pack4x8snorm"),null}Pack4x8unorm(e,n){return console.error("TODO: pack4x8unorm"),null}Pack4xI8(e,n){return console.error("TODO: pack4xI8"),null}Pack4xU8(e,n){return console.error("TODO: pack4xU8"),null}Pack4x8Clamp(e,n){return console.error("TODO: pack4x8Clamp"),null}Pack4xU8Clamp(e,n){return console.error("TODO: pack4xU8Clamp"),null}Pack2x16snorm(e,n){return console.error("TODO: pack2x16snorm"),null}Pack2x16unorm(e,n){return console.error("TODO: pack2x16unorm"),null}Pack2x16float(e,n){return console.error("TODO: pack2x16float"),null}Unpack4x8snorm(e,n){return console.error("TODO: unpack4x8snorm"),null}Unpack4x8unorm(e,n){return console.error("TODO: unpack4x8unorm"),null}Unpack4xI8(e,n){return console.error("TODO: unpack4xI8"),null}Unpack4xU8(e,n){return console.error("TODO: unpack4xU8"),null}Unpack2x16snorm(e,n){return console.error("TODO: unpack2x16snorm"),null}Unpack2x16unorm(e,n){return console.error("TODO: unpack2x16unorm"),null}Unpack2x16float(e,n){return console.error("TODO: unpack2x16float"),null}StorageBarrier(e,n){return null}TextureBarrier(e,n){return null}WorkgroupBarrier(e,n){return null}WorkgroupUniformLoad(e,n){return null}SubgroupAdd(e,n){return console.error("TODO: subgroupAdd"),null}SubgroupExclusiveAdd(e,n){return console.error("TODO: subgroupExclusiveAdd"),null}SubgroupInclusiveAdd(e,n){return console.error("TODO: subgroupInclusiveAdd"),null}SubgroupAll(e,n){return console.error("TODO: subgroupAll"),null}SubgroupAnd(e,n){return console.error("TODO: subgroupAnd"),null}SubgroupAny(e,n){return console.error("TODO: subgroupAny"),null}SubgroupBallot(e,n){return console.error("TODO: subgroupBallot"),null}SubgroupBroadcast(e,n){return console.error("TODO: subgroupBroadcast"),null}SubgroupBroadcastFirst(e,n){return console.error("TODO: subgroupBroadcastFirst"),null}SubgroupElect(e,n){return console.error("TODO: subgroupElect"),null}SubgroupMax(e,n){return console.error("TODO: subgroupMax"),null}SubgroupMin(e,n){return console.error("TODO: subgroupMin"),null}SubgroupMul(e,n){return console.error("TODO: subgroupMul"),null}SubgroupExclusiveMul(e,n){return console.error("TODO: subgroupExclusiveMul"),null}SubgroupInclusiveMul(e,n){return console.error("TODO: subgroupInclusiveMul"),null}SubgroupOr(e,n){return console.error("TODO: subgroupOr"),null}SubgroupShuffle(e,n){return console.error("TODO: subgroupShuffle"),null}SubgroupShuffleDown(e,n){return console.error("TODO: subgroupShuffleDown"),null}SubgroupShuffleUp(e,n){return console.error("TODO: subgroupShuffleUp"),null}SubgroupShuffleXor(e,n){return console.error("TODO: subgroupShuffleXor"),null}SubgroupXor(e,n){return console.error("TODO: subgroupXor"),null}QuadBroadcast(e,n){return console.error("TODO: quadBroadcast"),null}QuadSwapDiagonal(e,n){return console.error("TODO: quadSwapDiagonal"),null}QuadSwapX(e,n){return console.error("TODO: quadSwapX"),null}QuadSwapY(e,n){return console.error("TODO: quadSwapY"),null}}const I1={vec2:2,vec2f:2,vec2i:2,vec2u:2,vec2b:2,vec2h:2,vec3:3,vec3f:3,vec3i:3,vec3u:3,vec3b:3,vec3h:3,vec4:4,vec4f:4,vec4i:4,vec4u:4,vec4b:4,vec4h:4},Es={mat2x2:[2,2,4],mat2x2f:[2,2,4],mat2x2h:[2,2,4],mat2x3:[2,3,6],mat2x3f:[2,3,6],mat2x3h:[2,3,6],mat2x4:[2,4,8],mat2x4f:[2,4,8],mat2x4h:[2,4,8],mat3x2:[3,2,6],mat3x2f:[3,2,6],mat3x2h:[3,2,6],mat3x3:[3,3,9],mat3x3f:[3,3,9],mat3x3h:[3,3,9],mat3x4:[3,4,12],mat3x4f:[3,4,12],mat3x4h:[3,4,12],mat4x2:[4,2,8],mat4x2f:[4,2,8],mat4x2h:[4,2,8],mat4x3:[4,3,12],mat4x3f:[4,3,12],mat4x3h:[4,3,12],mat4x4:[4,4,16],mat4x4f:[4,4,16],mat4x4h:[4,4,16]};class fs extends aee{constructor(e,n){var r;super(),this.ast=e??[],this.reflection=new Uo,this.reflection.updateAST(this.ast),this.context=(r=n==null?void 0:n.clone())!==null&&r!==void 0?r:new dT,this.builtins=new lee(this),this.typeInfo={bool:this.getTypeInfo(Qe.bool),i32:this.getTypeInfo(Qe.i32),u32:this.getTypeInfo(Qe.u32),f32:this.getTypeInfo(Qe.f32),f16:this.getTypeInfo(Qe.f16),vec2f:this.getTypeInfo(ke.vec2f),vec2u:this.getTypeInfo(ke.vec2u),vec2i:this.getTypeInfo(ke.vec2i),vec2h:this.getTypeInfo(ke.vec2h),vec3f:this.getTypeInfo(ke.vec3f),vec3u:this.getTypeInfo(ke.vec3u),vec3i:this.getTypeInfo(ke.vec3i),vec3h:this.getTypeInfo(ke.vec3h),vec4f:this.getTypeInfo(ke.vec4f),vec4u:this.getTypeInfo(ke.vec4u),vec4i:this.getTypeInfo(ke.vec4i),vec4h:this.getTypeInfo(ke.vec4h),mat2x2f:this.getTypeInfo(ke.mat2x2f),mat2x3f:this.getTypeInfo(ke.mat2x3f),mat2x4f:this.getTypeInfo(ke.mat2x4f),mat3x2f:this.getTypeInfo(ke.mat3x2f),mat3x3f:this.getTypeInfo(ke.mat3x3f),mat3x4f:this.getTypeInfo(ke.mat3x4f),mat4x2f:this.getTypeInfo(ke.mat4x2f),mat4x3f:this.getTypeInfo(ke.mat4x3f),mat4x4f:this.getTypeInfo(ke.mat4x4f)}}getVariableValue(e){var n,r;const s=(r=(n=this.context.getVariable(e))===null||n===void 0?void 0:n.value)!==null&&r!==void 0?r:null;if(s===null)return null;if(s instanceof Te)return s.value;if(s instanceof ae||s instanceof It)return Array.from(s.data);if(s instanceof gr&&s.typeInfo instanceof Vl){if(s.typeInfo.format.name==="u32")return Array.from(new Uint32Array(s.buffer,s.offset,s.typeInfo.count));if(s.typeInfo.format.name==="i32")return Array.from(new Int32Array(s.buffer,s.offset,s.typeInfo.count));if(s.typeInfo.format.name==="f32")return Array.from(new Float32Array(s.buffer,s.offset,s.typeInfo.count))}return console.error(`Unsupported return variable type ${s.typeInfo.name}`),null}execute(e){(e=e??{}).constants&&this._setOverrides(e.constants,this.context),this._execStatements(this.ast,this.context)}dispatchWorkgroups(e,n,r,s){const o=this.context.clone();(s=s??{}).constants&&this._setOverrides(s.constants,o),this._execStatements(this.ast,o);const l=o.getFunction(e);if(!l)return void console.error(`Function ${e} not found`);if(typeof n=="number")n=[n,1,1];else{if(n.length===0)return void console.error("Invalid dispatch count");n.length===1?n=[n[0],1,1]:n.length===2?n=[n[0],n[1],1]:n.length>3&&(n=[n[0],n[1],n[2]])}const c=n[0],f=n[1],h=n[2],p=this.getTypeInfo("vec3u");o.setVariable("@num_workgroups",new ae(n,p));for(const m in r)for(const x in r[m]){const w=r[m][x];o.variables.forEach(E=>{var T;const C=E.node;if(C!=null&&C.attributes){let P=null,j=null;for(const D of C.attributes)D.name==="binding"?P=D.value:D.name==="group"&&(j=D.value);if(x==P&&m==j)if(w.texture!==void 0&&w.descriptor!==void 0){const D=new ya(w.texture,this.getTypeInfo(C.type),w.descriptor,(T=w.texture.view)!==null&&T!==void 0?T:null);E.value=D}else w.uniform!==void 0?E.value=new gr(w.uniform,this.getTypeInfo(C.type)):E.value=new gr(w,this.getTypeInfo(C.type))}})}for(let m=0;m<h;++m)for(let x=0;x<f;++x)for(let w=0;w<c;++w)o.setVariable("@workgroup_id",new ae([w,x,m],this.getTypeInfo("vec3u"))),this._dispatchWorkgroup(l,[w,x,m],o)}execStatement(e,n){if(e instanceof lF)return this.evalExpression(e.value,n);if(e instanceof uF){if(e.condition){const r=this.evalExpression(e.condition,n);if(!(r instanceof Te))throw new Error("Invalid break-if condition");if(!r.value)return null}return fs._breakObj}if(e instanceof fF)return fs._continueObj;if(e instanceof Vp)this._let(e,n);else if(e instanceof Sa)this._var(e,n);else if(e instanceof xx)this._const(e,n);else if(e instanceof nm)this._function(e,n);else{if(e instanceof aF)return this._if(e,n);if(e instanceof oF)return this._switch(e,n);if(e instanceof nF)return this._for(e,n);if(e instanceof tF)return this._while(e,n);if(e instanceof iF)return this._loop(e,n);if(e instanceof _S){const r=n.clone();return r.currentFunctionName=n.currentFunctionName,this._execStatements(e.body,r)}if(e instanceof sF)this._assign(e,n);else if(e instanceof rF)this._increment(e,n);else{if(e instanceof xa)return null;if(e instanceof iT){const r=e.name;n.getVariable(r)===null&&n.setVariable(r,new Te(0,this.getTypeInfo("u32")))}else if(e instanceof oT)this._call(e,n);else{if(e instanceof cF||e instanceof aT)return null;console.error("Invalid statement type.",e,`Line ${e.line}`)}}}return null}evalExpression(e,n){return e instanceof Wi?this._evalBinaryOp(e,n):e instanceof Vr?this._evalLiteral(e,n):e instanceof li?this._evalVariable(e,n):e instanceof lT?this._evalCall(e,n):e instanceof Ao?this._evalCreate(e,n):e instanceof dF?this._evalConst(e,n):e instanceof hF?this._evalBitcast(e,n):e instanceof Dr?this._evalUnaryOp(e,n):(console.error("Invalid expression type",e,`Line ${e.line}`),null)}getTypeInfo(e){var n;if(e instanceof Qe){const s=this.reflection.getTypeInfo(e);if(s!==null)return s}let r=(n=this.typeInfo[e])!==null&&n!==void 0?n:null;return r!==null||(r=this.reflection.getTypeInfoByName(e)),r}_setOverrides(e,n){for(const r in e){const s=e[r],o=this.reflection.getOverrideInfo(r);o!==null?(o.type===null&&(o.type=this.getTypeInfo("u32")),o.type.name==="u32"||o.type.name==="i32"||o.type.name==="f32"||o.type.name==="f16"?n.setVariable(r,new Te(s,o.type)):o.type.name==="bool"?n.setVariable(r,new Te(s?1:0,o.type)):o.type.name==="vec2"||o.type.name==="vec3"||o.type.name==="vec4"||o.type.name==="vec2f"||o.type.name==="vec3f"||o.type.name==="vec4f"||o.type.name==="vec2i"||o.type.name==="vec3i"||o.type.name==="vec4i"||o.type.name==="vec2u"||o.type.name==="vec3u"||o.type.name==="vec4u"||o.type.name==="vec2h"||o.type.name==="vec3h"||o.type.name==="vec4h"?n.setVariable(r,new ae(s,o.type)):console.error(`Invalid constant type for ${r}`)):console.error(`Override ${r} does not exist in the shader.`)}}_dispatchWorkgroup(e,n,r){const s=[1,1,1];for(const p of e.node.attributes)if(p.name==="workgroup_size"){if(p.value.length>0){const m=r.getVariableValue(p.value[0]);s[0]=m instanceof Te?m.value:parseInt(p.value[0])}if(p.value.length>1){const m=r.getVariableValue(p.value[1]);s[1]=m instanceof Te?m.value:parseInt(p.value[1])}if(p.value.length>2){const m=r.getVariableValue(p.value[2]);s[2]=m instanceof Te?m.value:parseInt(p.value[2])}}const o=this.getTypeInfo("vec3u"),l=this.getTypeInfo("u32");r.setVariable("@workgroup_size",new ae(s,o));const c=s[0],f=s[1],h=s[2];for(let p=0,m=0;p<h;++p)for(let x=0;x<f;++x)for(let w=0;w<c;++w,++m){const E=[w,x,p],T=[w+n[0]*s[0],x+n[1]*s[1],p+n[2]*s[2]];r.setVariable("@local_invocation_id",new ae(E,o)),r.setVariable("@global_invocation_id",new ae(T,o)),r.setVariable("@local_invocation_index",new Te(m,l)),this._dispatchExec(e,r)}}_dispatchExec(e,n){for(const r of e.node.args)for(const s of r.attributes)if(s.name==="builtin"){const o=`@${s.value}`,l=n.getVariable(o);l!==void 0&&n.variables.set(r.name,l)}this._execStatements(e.node.body,n)}getVariableName(e,n){for(;e instanceof Dr;)e=e.right;return e instanceof li?e.name:(console.error("Unknown variable type",e,"Line",e.line),null)}_execStatements(e,n){for(const r of e){if(r instanceof Array){const o=n.clone(),l=this._execStatements(r,o);if(l)return l;continue}const s=this.execStatement(r,n);if(s)return s}return null}_call(e,n){const r=n.clone();r.currentFunctionName=e.name;const s=n.getFunction(e.name);if(s){for(let o=0;o<s.node.args.length;++o){const l=s.node.args[o],c=this.evalExpression(e.args[o],r);r.setVariable(l.name,c,l)}this._execStatements(s.node.body,r)}else e.isBuiltin?this._callBuiltinFunction(e,r):this.getTypeInfo(e.name)&&this._evalCreate(e,n)}_increment(e,n){const r=this.getVariableName(e.variable,n),s=n.getVariable(r);s?e.operator==="++"?s.value instanceof Te?s.value.value++:console.error(`Variable ${r} is not a scalar. Line ${e.line}`):e.operator==="--"?s.value instanceof Te?s.value.value--:console.error(`Variable ${r} is not a scalar. Line ${e.line}`):console.error(`Unknown increment operator ${e.operator}. Line ${e.line}`):console.error(`Variable ${r} not found. Line ${e.line}`)}_getVariableData(e,n){if(e instanceof li){const r=this.getVariableName(e,n),s=n.getVariable(r);return s===null?(console.error(`Variable ${r} not found. Line ${e.line}`),null):s.value.getSubData(this,e.postfix,n)}if(e instanceof Dr){if(e.operator==="*"){const r=this._getVariableData(e.right,n);return r instanceof kf?r.reference.getSubData(this,e.postfix,n):(console.error(`Variable ${e.right} is not a pointer. Line ${e.line}`),null)}if(e.operator==="&"){const r=this._getVariableData(e.right,n);return new kf(r)}}return null}_assign(e,n){let r=null,s="<var>",o=null;if(e.variable instanceof Dr){const f=this._getVariableData(e.variable,n),h=this.evalExpression(e.value,n),p=e.operator;if(p==="="){if(f instanceof Te||f instanceof ae||f instanceof It){if(h instanceof Te||h instanceof ae||h instanceof It&&f.data.length===h.data.length)return void f.data.set(h.data);console.error(`Invalid assignment. Line ${e.line}`)}else if(f instanceof gr&&h instanceof gr&&f.buffer.byteLength-f.offset>=h.buffer.byteLength-h.offset)return void(f.buffer.byteLength%4==0?new Uint32Array(f.buffer,f.offset,f.typeInfo.size/4).set(new Uint32Array(h.buffer,h.offset,h.typeInfo.size/4)):new Uint8Array(f.buffer,f.offset,f.typeInfo.size).set(new Uint8Array(h.buffer,h.offset,h.typeInfo.size)));return console.error(`Invalid assignment. Line ${e.line}`),null}if(p==="+=")return f instanceof Te||f instanceof ae||f instanceof It?h instanceof Te||h instanceof ae||h instanceof It?void f.data.set(h.data.map((m,x)=>f.data[x]+m)):void console.error(`Invalid assignment . Line ${e.line}`):void console.error(`Invalid assignment. Line ${e.line}`);if(p==="-=")return(f instanceof Te||f instanceof ae||f instanceof It)&&(h instanceof Te||h instanceof ae||h instanceof It)?void f.data.set(h.data.map((m,x)=>f.data[x]-m)):void console.error(`Invalid assignment. Line ${e.line}`)}if(e.variable instanceof Dr){if(e.variable.operator==="*"){s=this.getVariableName(e.variable.right,n);const f=n.getVariable(s);if(!(f&&f.value instanceof kf))return void console.error(`Variable ${s} is not a pointer. Line ${e.line}`);r=f.value.reference;let h=e.variable.postfix;if(!h){let p=e.variable.right;for(;p instanceof Dr;){if(p.postfix){h=p.postfix;break}p=p.right}}h&&(r=r.getSubData(this,h,n))}}else{o=e.variable.postfix,s=this.getVariableName(e.variable,n);const f=n.getVariable(s);if(f===null)return void console.error(`Variable ${s} not found. Line ${e.line}`);r=f.value}if(r instanceof kf&&(r=r.reference),r===null)return void console.error(`Variable ${s} not found. Line ${e.line}`);const l=this.evalExpression(e.value,n),c=e.operator;if(c==="=")if(r instanceof gr)r.setDataValue(this,l,o,n);else if(o){if(!(r instanceof ae||r instanceof It))return void console.error(`Variable ${s} is not a vector or matrix. Line ${e.line}`);if(o instanceof yd){const f=this.evalExpression(o.index,n).value;if(r instanceof ae){if(!(l instanceof Te))return void console.error(`Invalid assignment to ${s}. Line ${e.line}`);r.data[f]=l.value}else{if(!(r instanceof It))return void console.error(`Invalid assignment to ${s}. Line ${e.line}`);{const h=this.evalExpression(o.index,n).value;if(h<0)return void console.error(`Invalid assignment to ${s}. Line ${e.line}`);if(!(l instanceof ae))return void console.error(`Invalid assignment to ${s}. Line ${e.line}`);{const p=r.typeInfo.getTypeName();if(p==="mat2x2"||p==="mat2x2f"||p==="mat2x2h"){if(!(h<2&&l.data.length===2))return void console.error(`Invalid assignment to ${s}. Line ${e.line}`);r.data[2*h]=l.data[0],r.data[2*h+1]=l.data[1]}else if(p==="mat2x3"||p==="mat2x3f"||p==="mat2x3h"){if(!(h<2&&l.data.length===3))return void console.error(`Invalid assignment to ${s}. Line ${e.line}`);r.data[3*h]=l.data[0],r.data[3*h+1]=l.data[1],r.data[3*h+2]=l.data[2]}else if(p==="mat2x4"||p==="mat2x4f"||p==="mat2x4h"){if(!(h<2&&l.data.length===4))return void console.error(`Invalid assignment to ${s}. Line ${e.line}`);r.data[4*h]=l.data[0],r.data[4*h+1]=l.data[1],r.data[4*h+2]=l.data[2],r.data[4*h+3]=l.data[3]}else if(p==="mat3x2"||p==="mat3x2f"||p==="mat3x2h"){if(!(h<3&&l.data.length===2))return void console.error(`Invalid assignment to ${s}. Line ${e.line}`);r.data[2*h]=l.data[0],r.data[2*h+1]=l.data[1]}else if(p==="mat3x3"||p==="mat3x3f"||p==="mat3x3h"){if(!(h<3&&l.data.length===3))return void console.error(`Invalid assignment to ${s}. Line ${e.line}`);r.data[3*h]=l.data[0],r.data[3*h+1]=l.data[1],r.data[3*h+2]=l.data[2]}else if(p==="mat3x4"||p==="mat3x4f"||p==="mat3x4h"){if(!(h<3&&l.data.length===4))return void console.error(`Invalid assignment to ${s}. Line ${e.line}`);r.data[4*h]=l.data[0],r.data[4*h+1]=l.data[1],r.data[4*h+2]=l.data[2],r.data[4*h+3]=l.data[3]}else if(p==="mat4x2"||p==="mat4x2f"||p==="mat4x2h"){if(!(h<4&&l.data.length===2))return void console.error(`Invalid assignment to ${s}. Line ${e.line}`);r.data[2*h]=l.data[0],r.data[2*h+1]=l.data[1]}else if(p==="mat4x3"||p==="mat4x3f"||p==="mat4x3h"){if(!(h<4&&l.data.length===3))return void console.error(`Invalid assignment to ${s}. Line ${e.line}`);r.data[3*h]=l.data[0],r.data[3*h+1]=l.data[1],r.data[3*h+2]=l.data[2]}else{if(p!=="mat4x4"&&p!=="mat4x4f"&&p!=="mat4x4h")return void console.error(`Invalid assignment to ${s}. Line ${e.line}`);if(!(h<4&&l.data.length===4))return void console.error(`Invalid assignment to ${s}. Line ${e.line}`);r.data[4*h]=l.data[0],r.data[4*h+1]=l.data[1],r.data[4*h+2]=l.data[2],r.data[4*h+3]=l.data[3]}}}}}else if(o instanceof hu){const f=o.value;if(!(r instanceof ae))return void console.error(`Invalid assignment to ${f}. Variable ${s} is not a vector. Line ${e.line}`);if(l instanceof Te){if(f.length>1)return void console.error(`Invalid assignment to ${f} for variable ${s}. Line ${e.line}`);if(f==="x")r.data[0]=l.value;else if(f==="y"){if(r.data.length<2)return void console.error(`Invalid assignment to ${f} for variable ${s}. Line ${e.line}`);r.data[1]=l.value}else if(f==="z"){if(r.data.length<3)return void console.error(`Invalid assignment to ${f} for variable ${s}. Line ${e.line}`);r.data[2]=l.value}else if(f==="w"){if(r.data.length<4)return void console.error(`Invalid assignment to ${f} for variable ${s}. Line ${e.line}`);r.data[3]=l.value}}else{if(!(l instanceof ae))return void console.error(`Invalid assignment to ${s}. Line ${e.line}`);if(f.length!==l.data.length)return void console.error(`Invalid assignment to ${f} for variable ${s}. Line ${e.line}`);for(let h=0;h<f.length;++h){const p=f[h];if(p==="x"||p==="r")r.data[0]=l.data[h];else if(p==="y"||p==="g"){if(l.data.length<2)return void console.error(`Invalid assignment to ${p} for variable ${s}. Line ${e.line}`);r.data[1]=l.data[h]}else if(p==="z"||p==="b"){if(l.data.length<3)return void console.error(`Invalid assignment to ${p} for variable ${s}. Line ${e.line}`);r.data[2]=l.data[h]}else{if(p!=="w"&&p!=="a")return void console.error(`Invalid assignment to ${p} for variable ${s}. Line ${e.line}`);if(l.data.length<4)return void console.error(`Invalid assignment to ${p} for variable ${s}. Line ${e.line}`);r.data[3]=l.data[h]}}}}}else r instanceof Te&&l instanceof Te?r.value=l.value:r instanceof ae&&l instanceof ae||r instanceof It&&l instanceof It?r.data.set(l.data):console.error(`Invalid assignment to ${s}. Line ${e.line}`);else{const f=r.getSubData(this,o,n);if(f instanceof ae&&l instanceof Te){const h=f.data,p=l.value;if(c==="+=")for(let m=0;m<h.length;++m)h[m]+=p;else if(c==="-=")for(let m=0;m<h.length;++m)h[m]-=p;else if(c==="*=")for(let m=0;m<h.length;++m)h[m]*=p;else if(c==="/=")for(let m=0;m<h.length;++m)h[m]/=p;else if(c==="%=")for(let m=0;m<h.length;++m)h[m]%=p;else if(c==="&=")for(let m=0;m<h.length;++m)h[m]&=p;else if(c==="|=")for(let m=0;m<h.length;++m)h[m]|=p;else if(c==="^=")for(let m=0;m<h.length;++m)h[m]^=p;else if(c==="<<=")for(let m=0;m<h.length;++m)h[m]<<=p;else if(c===">>=")for(let m=0;m<h.length;++m)h[m]>>=p;else console.error(`Invalid operator ${c}. Line ${e.line}`)}else if(f instanceof ae&&l instanceof ae){const h=f.data,p=l.data;if(h.length!==p.length)return void console.error(`Vector length mismatch. Line ${e.line}`);if(c==="+=")for(let m=0;m<h.length;++m)h[m]+=p[m];else if(c==="-=")for(let m=0;m<h.length;++m)h[m]-=p[m];else if(c==="*=")for(let m=0;m<h.length;++m)h[m]*=p[m];else if(c==="/=")for(let m=0;m<h.length;++m)h[m]/=p[m];else if(c==="%=")for(let m=0;m<h.length;++m)h[m]%=p[m];else if(c==="&=")for(let m=0;m<h.length;++m)h[m]&=p[m];else if(c==="|=")for(let m=0;m<h.length;++m)h[m]|=p[m];else if(c==="^=")for(let m=0;m<h.length;++m)h[m]^=p[m];else if(c==="<<=")for(let m=0;m<h.length;++m)h[m]<<=p[m];else if(c===">>=")for(let m=0;m<h.length;++m)h[m]>>=p[m];else console.error(`Invalid operator ${c}. Line ${e.line}`)}else{if(!(f instanceof Te&&l instanceof Te))return void console.error(`Invalid type for ${e.operator} operator. Line ${e.line}`);c==="+="?f.value+=l.value:c==="-="?f.value-=l.value:c==="*="?f.value*=l.value:c==="/="?f.value/=l.value:c==="%="?f.value%=l.value:c==="&="?f.value&=l.value:c==="|="?f.value|=l.value:c==="^="?f.value^=l.value:c==="<<="?f.value<<=l.value:c===">>="?f.value>>=l.value:console.error(`Invalid operator ${c}. Line ${e.line}`)}r instanceof gr&&r.setDataValue(this,f,o,n)}}_function(e,n){const r=new fT(e);n.functions.set(e.name,r)}_const(e,n){let r=null;e.value!==null&&(r=this.evalExpression(e.value,n)),n.createVariable(e.name,r,e)}_let(e,n){let r=null;if(e.value!==null){if(r=this.evalExpression(e.value,n),r===null)return void console.error(`Invalid value for variable ${e.name}. Line ${e.line}`);e.value instanceof Dr||(r=r.clone())}else{const s=e.type.name;if(s==="f32"||s==="i32"||s==="u32"||s==="bool"||s==="f16"||s==="vec2"||s==="vec3"||s==="vec4"||s==="vec2f"||s==="vec3f"||s==="vec4f"||s==="vec2i"||s==="vec3i"||s==="vec4i"||s==="vec2u"||s==="vec3u"||s==="vec4u"||s==="vec2h"||s==="vec3h"||s==="vec4h"||s==="vec2b"||s==="vec3b"||s==="vec4b"||s==="mat2x2"||s==="mat2x3"||s==="mat2x4"||s==="mat3x2"||s==="mat3x3"||s==="mat3x4"||s==="mat4x2"||s==="mat4x3"||s==="mat4x4"||s==="mat2x2f"||s==="mat2x3f"||s==="mat2x4f"||s==="mat3x2f"||s==="mat3x3f"||s==="mat3x4f"||s==="mat4x2f"||s==="mat4x3f"||s==="mat4x4f"||s==="mat2x2h"||s==="mat2x3h"||s==="mat2x4h"||s==="mat3x2h"||s==="mat3x3h"||s==="mat3x4h"||s==="mat4x2h"||s==="mat4x3h"||s==="mat4x4h"||s==="array"){const o=new Ao(e.type,[]);r=this._evalCreate(o,n)}}n.createVariable(e.name,r,e)}_var(e,n){let r=null;if(e.value!==null){if(r=this.evalExpression(e.value,n),r===null)return void console.error(`Invalid value for variable ${e.name}. Line ${e.line}`);e.value instanceof Dr||(r=r.clone())}else{if(e.type===null)return void console.error(`Variable ${e.name} has no type. Line ${e.line}`);const s=e.type.name;if(s==="f32"||s==="i32"||s==="u32"||s==="bool"||s==="f16"||s==="vec2"||s==="vec3"||s==="vec4"||s==="vec2f"||s==="vec3f"||s==="vec4f"||s==="vec2i"||s==="vec3i"||s==="vec4i"||s==="vec2u"||s==="vec3u"||s==="vec4u"||s==="vec2h"||s==="vec3h"||s==="vec4h"||s==="vec2b"||s==="vec3b"||s==="vec4b"||s==="mat2x2"||s==="mat2x3"||s==="mat2x4"||s==="mat3x2"||s==="mat3x3"||s==="mat3x4"||s==="mat4x2"||s==="mat4x3"||s==="mat4x4"||s==="mat2x2f"||s==="mat2x3f"||s==="mat2x4f"||s==="mat3x2f"||s==="mat3x3f"||s==="mat3x4f"||s==="mat4x2f"||s==="mat4x3f"||s==="mat4x4f"||s==="mat2x2h"||s==="mat2x3h"||s==="mat2x4h"||s==="mat3x2h"||s==="mat3x3h"||s==="mat3x4h"||s==="mat4x2h"||s==="mat4x3h"||s==="mat4x4h"||e.type instanceof Fp||e.type instanceof xa||e.type instanceof ke){const o=new Ao(e.type,[]);r=this._evalCreate(o,n)}}n.createVariable(e.name,r,e)}_switch(e,n){n=n.clone();const r=this.evalExpression(e.condition,n);if(!(r instanceof Te))return console.error(`Invalid if condition. Line ${e.line}`),null;let s=null;for(const o of e.cases)if(o instanceof gF)for(const l of o.selectors){if(l instanceof wx){s=o;continue}const c=this.evalExpression(l,n);if(!(c instanceof Te))return console.error(`Invalid case selector. Line ${e.line}`),null;if(c.value===r.value)return this._execStatements(o.body,n)}else o instanceof bF&&(s=o);return s?this._execStatements(s.body,n):null}_if(e,n){n=n.clone();const r=this.evalExpression(e.condition,n);if(!(r instanceof Te))return console.error(`Invalid if condition. Line ${e.line}`),null;if(r.value)return this._execStatements(e.body,n);for(const s of e.elseif){const o=this.evalExpression(s.condition,n);if(!(o instanceof Te))return console.error(`Invalid if condition. Line ${e.line}`),null;if(o.value)return this._execStatements(s.body,n)}return e.else?this._execStatements(e.else,n):null}_getScalarValue(e){return e instanceof Te?e.value:(console.error("Expected scalar value.",e),0)}_for(e,n){for(n=n.clone(),this.execStatement(e.init,n);this._getScalarValue(this.evalExpression(e.condition,n));){const r=this._execStatements(e.body,n);if(r===fs._breakObj)break;if(r!==null&&r!==fs._continueObj)return r;this.execStatement(e.increment,n)}return null}_loop(e,n){for(n=n.clone();;){const r=this._execStatements(e.body,n);if(r===fs._breakObj)break;if(r===fs._continueObj){if(e.continuing&&this._execStatements(e.continuing.body,n)===fs._breakObj)break}else if(r!==null)return r}return null}_while(e,n){for(n=n.clone();this._getScalarValue(this.evalExpression(e.condition,n));){const r=this._execStatements(e.body,n);if(r===fs._breakObj)break;if(r!==fs._continueObj&&r!==null)return r}return null}_evalBitcast(e,n){const r=this.evalExpression(e.value,n),s=e.type;if(r instanceof Te){const o=Z2(r.value,r.typeInfo.name,s.name);return new Te(o,this.getTypeInfo(s))}if(r instanceof ae){const o=r.typeInfo.getTypeName();let l="";if(o.endsWith("f"))l="f32";else if(o.endsWith("i"))l="i32";else if(o.endsWith("u"))l="u32";else if(o.endsWith("b"))l="bool";else{if(!o.endsWith("h"))return console.error(`Unknown vector type ${o}. Line ${e.line}`),null;l="f16"}const c=s.getTypeName();let f="";if(c.endsWith("f"))f="f32";else if(c.endsWith("i"))f="i32";else if(c.endsWith("u"))f="u32";else if(c.endsWith("b"))f="bool";else{if(!c.endsWith("h"))return console.error(`Unknown vector type ${f}. Line ${e.line}`),null;f="f16"}const h=function(p,m,x){if(m===x)return p;const w=new Array(p.length);for(let E=0;E<p.length;E++)w[E]=Z2(p[E],m,x);return w}(Array.from(r.data),l,f);return new ae(h,this.getTypeInfo(s))}return console.error(`TODO: bitcast for ${r.typeInfo.name}. Line ${e.line}`),null}_evalConst(e,n){return n.getVariableValue(e.name).clone().getSubData(this,e.postfix,n)}_evalCreate(e,n){var r;if(e instanceof Ao){if(e.type===null)return NS.void;switch(e.type.getTypeName()){case"bool":case"i32":case"u32":case"f32":case"f16":return this._callConstructorValue(e,n);case"vec2":case"vec3":case"vec4":case"vec2f":case"vec3f":case"vec4f":case"vec2h":case"vec3h":case"vec4h":case"vec2i":case"vec3i":case"vec4i":case"vec2u":case"vec3u":case"vec4u":case"vec2b":case"vec3b":case"vec4b":return this._callConstructorVec(e,n);case"mat2x2":case"mat2x2f":case"mat2x2h":case"mat2x3":case"mat2x3f":case"mat2x3h":case"mat2x4":case"mat2x4f":case"mat2x4h":case"mat3x2":case"mat3x2f":case"mat3x2h":case"mat3x3":case"mat3x3f":case"mat3x3h":case"mat3x4":case"mat3x4f":case"mat3x4h":case"mat4x2":case"mat4x2f":case"mat4x2h":case"mat4x3":case"mat4x3f":case"mat4x3h":case"mat4x4":case"mat4x4f":case"mat4x4h":return this._callConstructorMatrix(e,n)}}const s=e instanceof Ao?e.type.name:e.name,o=e instanceof Ao?this.getTypeInfo(e.type):this.getTypeInfo(e.name);if(o===null)return console.error(`Unknown type ${s}. Line ${e.line}`),null;if(o.size===0)return null;const l=new gr(new ArrayBuffer(o.size),o,0);if(o instanceof Pl){if(e.args)for(let c=0;c<e.args.length;++c){const f=o.members[c],h=e.args[c],p=this.evalExpression(h,n);l.setData(this,p,f.type,f.offset,n)}}else if(o instanceof Vl){let c=0;if(e.args)for(let f=0;f<e.args.length;++f){const h=e.args[f],p=this.evalExpression(h,n);o.format===null&&(((r=p.typeInfo)===null||r===void 0?void 0:r.name)==="x32"?o.format=this.getTypeInfo("i32"):o.format=p.typeInfo),l.setData(this,p,o.format,c,n),c+=o.stride}}else console.error(`Unknown type "${s}". Line ${e.line}`);return e instanceof Ao?l.getSubData(this,e.postfix,n):l}_evalLiteral(e,n){const r=this.getTypeInfo(e.type),s=r.name;return s==="x32"||s==="u32"||s==="f32"||s==="f16"||s==="i32"||s==="bool"?new Te(e.scalarValue,r):s==="vec2"||s==="vec3"||s==="vec4"||s==="vec2f"||s==="vec3f"||s==="vec4f"||s==="vec2h"||s==="vec3h"||s==="vec4h"||s==="vec2i"||s==="vec3i"||s==="vec4i"||s==="vec2u"||s==="vec3u"||s==="vec4u"?this._callConstructorVec(e,n):s==="mat2x2"||s==="mat2x3"||s==="mat2x4"||s==="mat3x2"||s==="mat3x3"||s==="mat3x4"||s==="mat4x2"||s==="mat4x3"||s==="mat4x4"||s==="mat2x2f"||s==="mat2x3f"||s==="mat2x4f"||s==="mat3x2f"||s==="mat3x3f"||s==="mat3x4f"||s==="mat4x2f"||s==="mat4x3f"||s==="mat4x4f"||s==="mat2x2h"||s==="mat2x3h"||s==="mat2x4h"||s==="mat3x2h"||s==="mat3x3h"||s==="mat3x4h"||s==="mat4x2h"||s==="mat4x3h"||s==="mat4x4h"?this._callConstructorMatrix(e,n):e.value}_evalVariable(e,n){const r=n.getVariableValue(e.name);return r===null?r:r.getSubData(this,e.postfix,n)}_maxFormatTypeInfo(e){let n=e[0];if(n.name==="f32")return n;for(let r=1;r<e.length;++r){const s=fs._priority.get(n.name);fs._priority.get(e[r].name)<s&&(n=e[r])}return n.name==="x32"?this.getTypeInfo("i32"):n}_evalUnaryOp(e,n){const r=this.evalExpression(e.right,n);if(e.operator==="&")return new kf(r);if(e.operator==="*")return r instanceof kf?r.reference.getSubData(this,e.postfix,n):(console.error(`Invalid dereference. Line ${e.line}`),null);const s=r instanceof Te?r.value:r instanceof ae?Array.from(r.data):null;switch(e.operator){case"+":{if(pt(s)){const c=s.map((f,h)=>+f);return new ae(c,r.typeInfo)}const o=s,l=this._maxFormatTypeInfo([r.typeInfo,r.typeInfo]);return new Te(+o,l)}case"-":{if(pt(s)){const c=s.map((f,h)=>-f);return new ae(c,r.typeInfo)}const o=s,l=this._maxFormatTypeInfo([r.typeInfo,r.typeInfo]);return new Te(-o,l)}case"!":{if(pt(s)){const c=s.map((f,h)=>f?0:1);return new ae(c,r.typeInfo)}const o=s,l=this._maxFormatTypeInfo([r.typeInfo,r.typeInfo]);return new Te(o?0:1,l)}case"~":{if(pt(s)){const c=s.map((f,h)=>~f);return new ae(c,r.typeInfo)}const o=s,l=this._maxFormatTypeInfo([r.typeInfo,r.typeInfo]);return new Te(~o,l)}}return console.error(`Invalid unary operator ${e.operator}. Line ${e.line}`),null}_evalBinaryOp(e,n){const r=this.evalExpression(e.left,n),s=this.evalExpression(e.right,n),o=r instanceof Te?r.value:r instanceof ae||r instanceof It?Array.from(r.data):null,l=s instanceof Te?s.value:s instanceof ae||s instanceof It?Array.from(s.data):null;switch(e.operator){case"+":{if(pt(o)&&pt(l)){const p=o,m=l;if(p.length!==m.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const x=p.map((w,E)=>w+m[E]);return new ae(x,r.typeInfo)}if(pt(o)){const p=l,m=o.map((x,w)=>x+p);return new ae(m,r.typeInfo)}if(pt(l)){const p=o,m=l.map((x,w)=>p+x);return new ae(m,s.typeInfo)}const c=o,f=l,h=this._maxFormatTypeInfo([r.typeInfo,s.typeInfo]);return new Te(c+f,h)}case"-":{if(pt(o)&&pt(l)){const p=o,m=l;if(p.length!==m.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const x=p.map((w,E)=>w-m[E]);return new ae(x,r.typeInfo)}if(pt(o)){const p=l,m=o.map((x,w)=>x-p);return new ae(m,r.typeInfo)}if(pt(l)){const p=o,m=l.map((x,w)=>p-x);return new ae(m,s.typeInfo)}const c=o,f=l,h=this._maxFormatTypeInfo([r.typeInfo,s.typeInfo]);return new Te(c-f,h)}case"*":{if(pt(o)&&pt(l)){const p=o,m=l;if(r instanceof It&&s instanceof It){const x=function(C,P,j,D){if(Es[P.name]===void 0||Es[D.name]===void 0)return null;const U=Es[P.name][0],L=Es[P.name][1],O=Es[D.name][0];if(U!==Es[D.name][1])return null;const Y=new Array(O*L);for(let ne=0;ne<L;ne++)for(let Q=0;Q<O;Q++){let K=0;for(let G=0;G<U;G++)K+=C[G*L+ne]*j[Q*U+G];Y[ne*O+Q]=K}return Y}(p,r.typeInfo,m,s.typeInfo);if(x===null)return console.error(`Matrix multiplication failed. Line ${e.line}.`),null;const w=Es[s.typeInfo.name][0],E=Es[r.typeInfo.name][1],T=this.getTypeInfo(`mat${w}x${E}f`);return new It(x,T)}if(r instanceof It&&s instanceof ae){const x=function(w,E,T,C){if(Es[E.name]===void 0||I1[C.name]===void 0)return null;const P=Es[E.name][0],j=Es[E.name][1];if(P!==T.length)return null;const D=new Array(j);for(let U=0;U<j;U++){let L=0;for(let O=0;O<P;O++)L+=w[O*j+U]*T[O];D[U]=L}return D}(p,r.typeInfo,m,s.typeInfo);return x===null?(console.error(`Matrix vector multiplication failed. Line ${e.line}.`),null):new ae(x,s.typeInfo)}if(r instanceof ae&&s instanceof It){const x=function(w,E,T,C){if(I1[E.name]===void 0||Es[C.name]===void 0)return null;const P=Es[C.name][0],j=Es[C.name][1];if(j!==w.length)return null;const D=[];for(let U=0;U<P;U++){let L=0;for(let O=0;O<j;O++)L+=w[O]*T[O*P+U];D[U]=L}return D}(p,r.typeInfo,m,s.typeInfo);return x===null?(console.error(`Matrix vector multiplication failed. Line ${e.line}.`),null):new ae(x,r.typeInfo)}{if(p.length!==m.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const x=p.map((w,E)=>w*m[E]);return new ae(x,r.typeInfo)}}if(pt(o)){const p=l,m=o.map((x,w)=>x*p);return r instanceof It?new It(m,r.typeInfo):new ae(m,r.typeInfo)}if(pt(l)){const p=o,m=l.map((x,w)=>p*x);return s instanceof It?new It(m,s.typeInfo):new ae(m,s.typeInfo)}const c=o,f=l,h=this._maxFormatTypeInfo([r.typeInfo,s.typeInfo]);return new Te(c*f,h)}case"%":{if(pt(o)&&pt(l)){const p=o,m=l;if(p.length!==m.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const x=p.map((w,E)=>w%m[E]);return new ae(x,r.typeInfo)}if(pt(o)){const p=l,m=o.map((x,w)=>x%p);return new ae(m,r.typeInfo)}if(pt(l)){const p=o,m=l.map((x,w)=>p%x);return new ae(m,s.typeInfo)}const c=o,f=l,h=this._maxFormatTypeInfo([r.typeInfo,s.typeInfo]);return new Te(c%f,h)}case"/":{if(pt(o)&&pt(l)){const p=o,m=l;if(p.length!==m.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const x=p.map((w,E)=>w/m[E]);return new ae(x,r.typeInfo)}if(pt(o)){const p=l,m=o.map((x,w)=>x/p);return new ae(m,r.typeInfo)}if(pt(l)){const p=o,m=l.map((x,w)=>p/x);return new ae(m,s.typeInfo)}const c=o,f=l,h=this._maxFormatTypeInfo([r.typeInfo,s.typeInfo]);return new Te(c/f,h)}case"&":{if(pt(o)&&pt(l)){const p=o,m=l;if(p.length!==m.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const x=p.map((w,E)=>w&m[E]);return new ae(x,r.typeInfo)}if(pt(o)){const p=l,m=o.map((x,w)=>x&p);return new ae(m,r.typeInfo)}if(pt(l)){const p=o,m=l.map((x,w)=>p&x);return new ae(m,s.typeInfo)}const c=o,f=l,h=this._maxFormatTypeInfo([r.typeInfo,s.typeInfo]);return new Te(c&f,h)}case"|":{if(pt(o)&&pt(l)){const p=o,m=l;if(p.length!==m.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const x=p.map((w,E)=>w|m[E]);return new ae(x,r.typeInfo)}if(pt(o)){const p=l,m=o.map((x,w)=>x|p);return new ae(m,r.typeInfo)}if(pt(l)){const p=o,m=l.map((x,w)=>p|x);return new ae(m,s.typeInfo)}const c=o,f=l,h=this._maxFormatTypeInfo([r.typeInfo,s.typeInfo]);return new Te(c|f,h)}case"^":{if(pt(o)&&pt(l)){const p=o,m=l;if(p.length!==m.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const x=p.map((w,E)=>w^m[E]);return new ae(x,r.typeInfo)}if(pt(o)){const p=l,m=o.map((x,w)=>x^p);return new ae(m,r.typeInfo)}if(pt(l)){const p=o,m=l.map((x,w)=>p^x);return new ae(m,s.typeInfo)}const c=o,f=l,h=this._maxFormatTypeInfo([r.typeInfo,s.typeInfo]);return new Te(c^f,h)}case"<<":{if(pt(o)&&pt(l)){const p=o,m=l;if(p.length!==m.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const x=p.map((w,E)=>w<<m[E]);return new ae(x,r.typeInfo)}if(pt(o)){const p=l,m=o.map((x,w)=>x<<p);return new ae(m,r.typeInfo)}if(pt(l)){const p=o,m=l.map((x,w)=>p<<x);return new ae(m,s.typeInfo)}const c=o,f=l,h=this._maxFormatTypeInfo([r.typeInfo,s.typeInfo]);return new Te(c<<f,h)}case">>":{if(pt(o)&&pt(l)){const p=o,m=l;if(p.length!==m.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const x=p.map((w,E)=>w>>m[E]);return new ae(x,r.typeInfo)}if(pt(o)){const p=l,m=o.map((x,w)=>x>>p);return new ae(m,r.typeInfo)}if(pt(l)){const p=o,m=l.map((x,w)=>p>>x);return new ae(m,s.typeInfo)}const c=o,f=l,h=this._maxFormatTypeInfo([r.typeInfo,s.typeInfo]);return new Te(c>>f,h)}case">":if(pt(o)&&pt(l)){const c=o,f=l;if(c.length!==f.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const h=c.map((p,m)=>p>f[m]?1:0);return new ae(h,r.typeInfo)}if(pt(o)){const c=l,f=o.map((h,p)=>h>c?1:0);return new ae(f,r.typeInfo)}if(pt(l)){const c=o,f=l.map((h,p)=>c>h?1:0);return new ae(f,s.typeInfo)}return new Te(o>l?1:0,this.getTypeInfo("bool"));case"<":if(pt(o)&&pt(l)){const c=o,f=l;if(c.length!==f.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const h=c.map((p,m)=>p<f[m]?1:0);return new ae(h,r.typeInfo)}if(pt(o)){const c=l,f=o.map((h,p)=>h<c?1:0);return new ae(f,r.typeInfo)}if(pt(l)){const c=o,f=l.map((h,p)=>c<h?1:0);return new ae(f,s.typeInfo)}return new Te(o<l?1:0,this.getTypeInfo("bool"));case"==":if(pt(o)&&pt(l)){const c=o,f=l;if(c.length!==f.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const h=c.map((p,m)=>p===f[m]?1:0);return new ae(h,r.typeInfo)}if(pt(o)){const c=l,f=o.map((h,p)=>h==c?1:0);return new ae(f,r.typeInfo)}if(pt(l)){const c=o,f=l.map((h,p)=>c==h?1:0);return new ae(f,s.typeInfo)}return new Te(o===l?1:0,this.getTypeInfo("bool"));case"!=":if(pt(o)&&pt(l)){const c=o,f=l;if(c.length!==f.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const h=c.map((p,m)=>p!==f[m]?1:0);return new ae(h,r.typeInfo)}if(pt(o)){const c=l,f=o.map((h,p)=>h!==c?1:0);return new ae(f,r.typeInfo)}if(pt(l)){const c=o,f=l.map((h,p)=>c!==h?1:0);return new ae(f,s.typeInfo)}return new Te(o!==l?1:0,this.getTypeInfo("bool"));case">=":if(pt(o)&&pt(l)){const c=o,f=l;if(c.length!==f.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const h=c.map((p,m)=>p>=f[m]?1:0);return new ae(h,r.typeInfo)}if(pt(o)){const c=l,f=o.map((h,p)=>h>=c?1:0);return new ae(f,r.typeInfo)}if(pt(l)){const c=o,f=l.map((h,p)=>c>=h?1:0);return new ae(f,s.typeInfo)}return new Te(o>=l?1:0,this.getTypeInfo("bool"));case"<=":if(pt(o)&&pt(l)){const c=o,f=l;if(c.length!==f.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const h=c.map((p,m)=>p<=f[m]?1:0);return new ae(h,r.typeInfo)}if(pt(o)){const c=l,f=o.map((h,p)=>h<=c?1:0);return new ae(f,r.typeInfo)}if(pt(l)){const c=o,f=l.map((h,p)=>c<=h?1:0);return new ae(f,s.typeInfo)}return new Te(o<=l?1:0,this.getTypeInfo("bool"));case"&&":if(pt(o)&&pt(l)){const c=o,f=l;if(c.length!==f.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const h=c.map((p,m)=>p&&f[m]?1:0);return new ae(h,r.typeInfo)}if(pt(o)){const c=l,f=o.map((h,p)=>h&&c?1:0);return new ae(f,r.typeInfo)}if(pt(l)){const c=o,f=l.map((h,p)=>c&&h?1:0);return new ae(f,s.typeInfo)}return new Te(o&&l?1:0,this.getTypeInfo("bool"));case"||":if(pt(o)&&pt(l)){const c=o,f=l;if(c.length!==f.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const h=c.map((p,m)=>p||f[m]?1:0);return new ae(h,r.typeInfo)}if(pt(o)){const c=l,f=o.map((h,p)=>h||c?1:0);return new ae(f,r.typeInfo)}if(pt(l)){const c=o,f=l.map((h,p)=>c||h?1:0);return new ae(f,s.typeInfo)}return new Te(o||l?1:0,this.getTypeInfo("bool"))}return console.error(`Unknown operator ${e.operator}. Line ${e.line}`),null}_evalCall(e,n){if(e.cachedReturnValue!==null)return e.cachedReturnValue;const r=n.clone();r.currentFunctionName=e.name;const s=n.getFunction(e.name);if(!s)return e.isBuiltin?this._callBuiltinFunction(e,r):this.getTypeInfo(e.name)?this._evalCreate(e,n):(console.error(`Unknown function "${e.name}". Line ${e.line}`),null);for(let o=0;o<s.node.args.length;++o){const l=s.node.args[o],c=this.evalExpression(e.args[o],r);r.createVariable(l.name,c,l)}return this._execStatements(s.node.body,r)}_callBuiltinFunction(e,n){switch(e.name){case"all":return this.builtins.All(e,n);case"any":return this.builtins.Any(e,n);case"select":return this.builtins.Select(e,n);case"arrayLength":return this.builtins.ArrayLength(e,n);case"abs":return this.builtins.Abs(e,n);case"acos":return this.builtins.Acos(e,n);case"acosh":return this.builtins.Acosh(e,n);case"asin":return this.builtins.Asin(e,n);case"asinh":return this.builtins.Asinh(e,n);case"atan":return this.builtins.Atan(e,n);case"atanh":return this.builtins.Atanh(e,n);case"atan2":return this.builtins.Atan2(e,n);case"ceil":return this.builtins.Ceil(e,n);case"clamp":return this.builtins.Clamp(e,n);case"cos":return this.builtins.Cos(e,n);case"cosh":return this.builtins.Cosh(e,n);case"countLeadingZeros":return this.builtins.CountLeadingZeros(e,n);case"countOneBits":return this.builtins.CountOneBits(e,n);case"countTrailingZeros":return this.builtins.CountTrailingZeros(e,n);case"cross":return this.builtins.Cross(e,n);case"degrees":return this.builtins.Degrees(e,n);case"determinant":return this.builtins.Determinant(e,n);case"distance":return this.builtins.Distance(e,n);case"dot":return this.builtins.Dot(e,n);case"dot4U8Packed":return this.builtins.Dot4U8Packed(e,n);case"dot4I8Packed":return this.builtins.Dot4I8Packed(e,n);case"exp":return this.builtins.Exp(e,n);case"exp2":return this.builtins.Exp2(e,n);case"extractBits":return this.builtins.ExtractBits(e,n);case"faceForward":return this.builtins.FaceForward(e,n);case"firstLeadingBit":return this.builtins.FirstLeadingBit(e,n);case"firstTrailingBit":return this.builtins.FirstTrailingBit(e,n);case"floor":return this.builtins.Floor(e,n);case"fma":return this.builtins.Fma(e,n);case"fract":return this.builtins.Fract(e,n);case"frexp":return this.builtins.Frexp(e,n);case"insertBits":return this.builtins.InsertBits(e,n);case"inverseSqrt":return this.builtins.InverseSqrt(e,n);case"ldexp":return this.builtins.Ldexp(e,n);case"length":return this.builtins.Length(e,n);case"log":return this.builtins.Log(e,n);case"log2":return this.builtins.Log2(e,n);case"max":return this.builtins.Max(e,n);case"min":return this.builtins.Min(e,n);case"mix":return this.builtins.Mix(e,n);case"modf":return this.builtins.Modf(e,n);case"normalize":return this.builtins.Normalize(e,n);case"pow":return this.builtins.Pow(e,n);case"quantizeToF16":return this.builtins.QuantizeToF16(e,n);case"radians":return this.builtins.Radians(e,n);case"reflect":return this.builtins.Reflect(e,n);case"refract":return this.builtins.Refract(e,n);case"reverseBits":return this.builtins.ReverseBits(e,n);case"round":return this.builtins.Round(e,n);case"saturate":return this.builtins.Saturate(e,n);case"sign":return this.builtins.Sign(e,n);case"sin":return this.builtins.Sin(e,n);case"sinh":return this.builtins.Sinh(e,n);case"smoothStep":return this.builtins.SmoothStep(e,n);case"sqrt":return this.builtins.Sqrt(e,n);case"step":return this.builtins.Step(e,n);case"tan":return this.builtins.Tan(e,n);case"tanh":return this.builtins.Tanh(e,n);case"transpose":return this.builtins.Transpose(e,n);case"trunc":return this.builtins.Trunc(e,n);case"dpdx":return this.builtins.Dpdx(e,n);case"dpdxCoarse":return this.builtins.DpdxCoarse(e,n);case"dpdxFine":return this.builtins.DpdxFine(e,n);case"dpdy":return this.builtins.Dpdy(e,n);case"dpdyCoarse":return this.builtins.DpdyCoarse(e,n);case"dpdyFine":return this.builtins.DpdyFine(e,n);case"fwidth":return this.builtins.Fwidth(e,n);case"fwidthCoarse":return this.builtins.FwidthCoarse(e,n);case"fwidthFine":return this.builtins.FwidthFine(e,n);case"textureDimensions":return this.builtins.TextureDimensions(e,n);case"textureGather":return this.builtins.TextureGather(e,n);case"textureGatherCompare":return this.builtins.TextureGatherCompare(e,n);case"textureLoad":return this.builtins.TextureLoad(e,n);case"textureNumLayers":return this.builtins.TextureNumLayers(e,n);case"textureNumLevels":return this.builtins.TextureNumLevels(e,n);case"textureNumSamples":return this.builtins.TextureNumSamples(e,n);case"textureSample":return this.builtins.TextureSample(e,n);case"textureSampleBias":return this.builtins.TextureSampleBias(e,n);case"textureSampleCompare":return this.builtins.TextureSampleCompare(e,n);case"textureSampleCompareLevel":return this.builtins.TextureSampleCompareLevel(e,n);case"textureSampleGrad":return this.builtins.TextureSampleGrad(e,n);case"textureSampleLevel":return this.builtins.TextureSampleLevel(e,n);case"textureSampleBaseClampToEdge":return this.builtins.TextureSampleBaseClampToEdge(e,n);case"textureStore":return this.builtins.TextureStore(e,n);case"atomicLoad":return this.builtins.AtomicLoad(e,n);case"atomicStore":return this.builtins.AtomicStore(e,n);case"atomicAdd":return this.builtins.AtomicAdd(e,n);case"atomicSub":return this.builtins.AtomicSub(e,n);case"atomicMax":return this.builtins.AtomicMax(e,n);case"atomicMin":return this.builtins.AtomicMin(e,n);case"atomicAnd":return this.builtins.AtomicAnd(e,n);case"atomicOr":return this.builtins.AtomicOr(e,n);case"atomicXor":return this.builtins.AtomicXor(e,n);case"atomicExchange":return this.builtins.AtomicExchange(e,n);case"atomicCompareExchangeWeak":return this.builtins.AtomicCompareExchangeWeak(e,n);case"pack4x8snorm":return this.builtins.Pack4x8snorm(e,n);case"pack4x8unorm":return this.builtins.Pack4x8unorm(e,n);case"pack4xI8":return this.builtins.Pack4xI8(e,n);case"pack4xU8":return this.builtins.Pack4xU8(e,n);case"pack4x8Clamp":return this.builtins.Pack4x8Clamp(e,n);case"pack4xU8Clamp":return this.builtins.Pack4xU8Clamp(e,n);case"pack2x16snorm":return this.builtins.Pack2x16snorm(e,n);case"pack2x16unorm":return this.builtins.Pack2x16unorm(e,n);case"pack2x16float":return this.builtins.Pack2x16float(e,n);case"unpack4x8snorm":return this.builtins.Unpack4x8snorm(e,n);case"unpack4x8unorm":return this.builtins.Unpack4x8unorm(e,n);case"unpack4xI8":return this.builtins.Unpack4xI8(e,n);case"unpack4xU8":return this.builtins.Unpack4xU8(e,n);case"unpack2x16snorm":return this.builtins.Unpack2x16snorm(e,n);case"unpack2x16unorm":return this.builtins.Unpack2x16unorm(e,n);case"unpack2x16float":return this.builtins.Unpack2x16float(e,n);case"storageBarrier":return this.builtins.StorageBarrier(e,n);case"textureBarrier":return this.builtins.TextureBarrier(e,n);case"workgroupBarrier":return this.builtins.WorkgroupBarrier(e,n);case"workgroupUniformLoad":return this.builtins.WorkgroupUniformLoad(e,n);case"subgroupAdd":return this.builtins.SubgroupAdd(e,n);case"subgroupExclusiveAdd":return this.builtins.SubgroupExclusiveAdd(e,n);case"subgroupInclusiveAdd":return this.builtins.SubgroupInclusiveAdd(e,n);case"subgroupAll":return this.builtins.SubgroupAll(e,n);case"subgroupAnd":return this.builtins.SubgroupAnd(e,n);case"subgroupAny":return this.builtins.SubgroupAny(e,n);case"subgroupBallot":return this.builtins.SubgroupBallot(e,n);case"subgroupBroadcast":return this.builtins.SubgroupBroadcast(e,n);case"subgroupBroadcastFirst":return this.builtins.SubgroupBroadcastFirst(e,n);case"subgroupElect":return this.builtins.SubgroupElect(e,n);case"subgroupMax":return this.builtins.SubgroupMax(e,n);case"subgroupMin":return this.builtins.SubgroupMin(e,n);case"subgroupMul":return this.builtins.SubgroupMul(e,n);case"subgroupExclusiveMul":return this.builtins.SubgroupExclusiveMul(e,n);case"subgroupInclusiveMul":return this.builtins.SubgroupInclusiveMul(e,n);case"subgroupOr":return this.builtins.SubgroupOr(e,n);case"subgroupShuffle":return this.builtins.SubgroupShuffle(e,n);case"subgroupShuffleDown":return this.builtins.SubgroupShuffleDown(e,n);case"subgroupShuffleUp":return this.builtins.SubgroupShuffleUp(e,n);case"subgroupShuffleXor":return this.builtins.SubgroupShuffleXor(e,n);case"subgroupXor":return this.builtins.SubgroupXor(e,n);case"quadBroadcast":return this.builtins.QuadBroadcast(e,n);case"quadSwapDiagonal":return this.builtins.QuadSwapDiagonal(e,n);case"quadSwapX":return this.builtins.QuadSwapX(e,n);case"quadSwapY":return this.builtins.QuadSwapY(e,n)}const r=n.getFunction(e.name);if(r){const s=n.clone();for(let o=0;o<r.node.args.length;++o){const l=r.node.args[o],c=this.evalExpression(e.args[o],s);s.setVariable(l.name,c,l)}return this._execStatements(r.node.body,s)}return null}_callConstructorValue(e,n){if(!e.args||e.args.length===0)return new Te(0,this.getTypeInfo(e.type));const r=this.evalExpression(e.args[0],n);return r.typeInfo=this.getTypeInfo(e.type),r.getSubData(this,e.postfix,n).clone()}_callConstructorVec(e,n){const r=this.getTypeInfo(e.type),s=e.type.getTypeName(),o=I1[s];if(o===void 0)return console.error(`Invalid vec constructor ${s}. Line ${e.line}`),null;const l=[];if(e instanceof Vr)if(e.isVector){const c=e.vectorValue;for(const f of c)l.push(f)}else l.push(e.scalarValue);else if(e.args)for(const c of e.args){const f=this.evalExpression(c,n);if(f instanceof ae){const h=f.data;for(let p=0;p<h.length;++p){let m=h[p];l.push(m)}}else if(f instanceof Te){let h=f.value;l.push(h)}}if(e.type instanceof ke&&e.type.format===null&&(e.type.format=ke.f32),l.length===0){const c=new Array(o).fill(0);return new ae(c,r).getSubData(this,e.postfix,n)}if(l.length===1)for(;l.length<o;)l.push(l[0]);return l.length<o?(console.error(`Invalid vec constructor. Line ${e.line}`),null):new ae(l.length>o?l.slice(0,o):l,r).getSubData(this,e.postfix,n)}_callConstructorMatrix(e,n){const r=this.getTypeInfo(e.type),s=e.type.getTypeName(),o=Es[s];if(o===void 0)return console.error(`Invalid matrix constructor ${s}. Line ${e.line}`),null;const l=[];if(e instanceof Vr)if(e.isVector){const c=e.vectorValue;for(const f of c)l.push(f)}else l.push(e.scalarValue);else if(e.args)for(const c of e.args){const f=this.evalExpression(c,n);f instanceof ae?l.push(...f.data):f instanceof Te?l.push(f.value):f instanceof It&&l.push(...f.data)}if(r instanceof du&&r.format===null&&(r.format=this.getTypeInfo("f32")),l.length===0){const c=new Array(o[2]).fill(0);return new It(c,r).getSubData(this,e.postfix,n)}return l.length!==o[2]?(console.error(`Invalid matrix constructor. Line ${e.line}`),null):new It(l,r).getSubData(this,e.postfix,n)}}fs._breakObj=new Mi(new Ri("BREAK",null),null),fs._continueObj=new Mi(new Ri("CONTINUE",null),null),fs._priority=new Map([["f32",0],["f16",1],["u32",2],["i32",3],["x32",3]]);class cee{constructor(){this.constants=new Map,this.aliases=new Map,this.structs=new Map}}class uee{constructor(){this._tokens=[],this._current=0,this._currentLine=1,this._deferArrayCountEval=[],this._currentLoop=[],this._context=new cee,this._exec=new fs,this._forwardTypeCount=0}parse(e){this._initialize(e),this._deferArrayCountEval.length=0;const n=[];for(;!this._isAtEnd();){const r=this._global_decl_or_directive();if(!r)break;n.push(r)}if(this._deferArrayCountEval.length>0){for(const r of this._deferArrayCountEval){const s=r.arrayType,o=r.countNode;if(o instanceof li){const l=o.name,c=this._context.constants.get(l);if(c)try{const f=c.constEvaluate(this._exec);s.count=f}catch{}}}this._deferArrayCountEval.length=0}if(this._forwardTypeCount>0)for(const r of n)r.search(s=>{s instanceof Y2||s instanceof vx?s.type=this._forwardType(s.type):s instanceof Fp?s.format=this._forwardType(s.format):s instanceof Sa||s instanceof Vp||s instanceof xx?s.type=this._forwardType(s.type):s instanceof nm?s.returnType=this._forwardType(s.returnType):s instanceof X2&&(s.type=this._forwardType(s.type))});return n}_forwardType(e){if(e instanceof q2){const n=this._getType(e.name);if(n)return n}else e instanceof vx?e.type=this._forwardType(e.type):e instanceof Fp&&(e.format=this._forwardType(e.format));return e}_initialize(e){if(e)if(typeof e=="string"){const n=new JJ(e);this._tokens=n.scanTokens()}else this._tokens=e;else this._tokens=[];this._current=0}_updateNode(e,n){return e.line=n??this._currentLine,e}_error(e,n){return{token:e,message:n,toString:()=>`${n}`}}_isAtEnd(){return this._current>=this._tokens.length||this._peek().type==ee.eof}_match(e){if(e instanceof Ce)return!!this._check(e)&&(this._advance(),!0);for(let n=0,r=e.length;n<r;++n){const s=e[n];if(this._check(s))return this._advance(),!0}return!1}_consume(e,n){if(this._check(e))return this._advance();throw this._error(this._peek(),`${n}. Line:${this._currentLine}`)}_check(e){if(this._isAtEnd())return!1;const n=this._peek();if(e instanceof Array){const r=n.type;let s=!1;for(const o of e){if(r===o)return!0;o===ee.tokens.name&&(s=!0)}if(s){const o=ee.tokens.name.rule.exec(n.lexeme);if(o&&o.index==0&&o[0]==n.lexeme)return!0}return!1}if(n.type===e)return!0;if(e===ee.tokens.name){const r=ee.tokens.name.rule.exec(n.lexeme);return r&&r.index==0&&r[0]==n.lexeme}return!1}_advance(){var e,n;return this._currentLine=(n=(e=this._peek())===null||e===void 0?void 0:e.line)!==null&&n!==void 0?n:-1,this._isAtEnd()||this._current++,this._previous()}_peek(){return this._tokens[this._current]}_previous(){return this._tokens[this._current-1]}_global_decl_or_directive(){for(;this._match(ee.tokens.semicolon)&&!this._isAtEnd(););if(this._match(ee.keywords.alias)){const n=this._type_alias();return this._consume(ee.tokens.semicolon,"Expected ';'"),this._exec.reflection.updateAST([n]),n}if(this._match(ee.keywords.diagnostic)){const n=this._diagnostic();return this._consume(ee.tokens.semicolon,"Expected ';'"),this._exec.reflection.updateAST([n]),n}if(this._match(ee.keywords.requires)){const n=this._requires_directive();return this._consume(ee.tokens.semicolon,"Expected ';'"),this._exec.reflection.updateAST([n]),n}if(this._match(ee.keywords.enable)){const n=this._enable_directive();return this._consume(ee.tokens.semicolon,"Expected ';'"),this._exec.reflection.updateAST([n]),n}const e=this._attribute();if(this._check(ee.keywords.var)){const n=this._global_variable_decl();return n!=null&&(n.attributes=e),this._consume(ee.tokens.semicolon,"Expected ';'."),this._exec.reflection.updateAST([n]),n}if(this._check(ee.keywords.override)){const n=this._override_variable_decl();return n!=null&&(n.attributes=e),this._consume(ee.tokens.semicolon,"Expected ';'."),this._exec.reflection.updateAST([n]),n}if(this._check(ee.keywords.let)){const n=this._global_let_decl();return n!=null&&(n.attributes=e),this._consume(ee.tokens.semicolon,"Expected ';'."),this._exec.reflection.updateAST([n]),n}if(this._check(ee.keywords.const)){const n=this._global_const_decl();return n!=null&&(n.attributes=e),this._consume(ee.tokens.semicolon,"Expected ';'."),this._exec.reflection.updateAST([n]),n}if(this._check(ee.keywords.struct)){const n=this._struct_decl();return n!=null&&(n.attributes=e),this._exec.reflection.updateAST([n]),n}if(this._check(ee.keywords.fn)){const n=this._function_decl();return n!=null&&(n.attributes=e),this._exec.reflection.updateAST([n]),n}return null}_function_decl(){if(!this._match(ee.keywords.fn))return null;const e=this._currentLine,n=this._consume(ee.tokens.ident,"Expected function name.").toString();this._consume(ee.tokens.paren_left,"Expected '(' for function arguments.");const r=[];if(!this._check(ee.tokens.paren_right))do{if(this._check(ee.tokens.paren_right))break;const c=this._attribute(),f=this._consume(ee.tokens.name,"Expected argument name.").toString();this._consume(ee.tokens.colon,"Expected ':' for argument type.");const h=this._attribute(),p=this._type_decl();p!=null&&(p.attributes=h,r.push(this._updateNode(new X2(f,p,c))))}while(this._match(ee.tokens.comma));this._consume(ee.tokens.paren_right,"Expected ')' after function arguments.");let s=null;if(this._match(ee.tokens.arrow)){const c=this._attribute();s=this._type_decl(),s!=null&&(s.attributes=c)}const o=this._compound_statement(),l=this._currentLine;return this._updateNode(new nm(n,r,s,o,e,l),e)}_compound_statement(){const e=[];for(this._consume(ee.tokens.brace_left,"Expected '{' for block.");!this._check(ee.tokens.brace_right);){const n=this._statement();n!==null&&e.push(n)}return this._consume(ee.tokens.brace_right,"Expected '}' for block."),e}_statement(){for(;this._match(ee.tokens.semicolon)&&!this._isAtEnd(););if(this._check(ee.tokens.attr)&&this._attribute(),this._check(ee.keywords.if))return this._if_statement();if(this._check(ee.keywords.switch))return this._switch_statement();if(this._check(ee.keywords.loop))return this._loop_statement();if(this._check(ee.keywords.for))return this._for_statement();if(this._check(ee.keywords.while))return this._while_statement();if(this._check(ee.keywords.continuing))return this._continuing_statement();if(this._check(ee.keywords.static_assert))return this._static_assert_statement();if(this._check(ee.tokens.brace_left))return this._compound_statement();let e=null;if(this._check(ee.keywords.return))e=this._return_statement();else if(this._check([ee.keywords.var,ee.keywords.let,ee.keywords.const]))e=this._variable_statement();else if(this._match(ee.keywords.discard))e=this._updateNode(new ZJ);else if(this._match(ee.keywords.break)){const n=this._updateNode(new uF);if(this._currentLoop.length>0){const r=this._currentLoop[this._currentLoop.length-1];n.loopId=r.id}e=n,this._check(ee.keywords.if)&&(this._advance(),n.condition=this._optional_paren_expression())}else if(this._match(ee.keywords.continue)){const n=this._updateNode(new fF);if(!(this._currentLoop.length>0))throw this._error(this._peek(),`Continue statement must be inside a loop. Line: ${n.line}`);{const r=this._currentLoop[this._currentLoop.length-1];n.loopId=r.id}e=n}else e=this._increment_decrement_statement()||this._func_call_statement()||this._assignment_statement();return e!=null&&this._consume(ee.tokens.semicolon,"Expected ';' after statement."),e}_static_assert_statement(){if(!this._match(ee.keywords.static_assert))return null;const e=this._currentLine,n=this._optional_paren_expression();return this._updateNode(new XJ(n),e)}_while_statement(){if(!this._match(ee.keywords.while))return null;const e=this._updateNode(new tF(null,null));return this._currentLoop.push(e),e.condition=this._optional_paren_expression(),this._check(ee.tokens.attr)&&this._attribute(),e.body=this._compound_statement(),this._currentLoop.pop(),e}_continuing_statement(){const e=this._currentLoop.length>0?this._currentLoop[this._currentLoop.length-1].id:-1;if(!this._match(ee.keywords.continuing))return null;const n=this._currentLine,r=this._compound_statement();return this._updateNode(new _S(r,e),n)}_for_statement(){if(!this._match(ee.keywords.for))return null;this._consume(ee.tokens.paren_left,"Expected '('.");const e=this._updateNode(new nF(null,null,null,null));return this._currentLoop.push(e),e.init=this._check(ee.tokens.semicolon)?null:this._for_init(),this._consume(ee.tokens.semicolon,"Expected ';'."),e.condition=this._check(ee.tokens.semicolon)?null:this._short_circuit_or_expression(),this._consume(ee.tokens.semicolon,"Expected ';'."),e.increment=this._check(ee.tokens.paren_right)?null:this._for_increment(),this._consume(ee.tokens.paren_right,"Expected ')'."),this._check(ee.tokens.attr)&&this._attribute(),e.body=this._compound_statement(),this._currentLoop.pop(),e}_for_init(){return this._variable_statement()||this._func_call_statement()||this._assignment_statement()}_for_increment(){return this._func_call_statement()||this._increment_decrement_statement()||this._assignment_statement()}_variable_statement(){if(this._check(ee.keywords.var)){const e=this._variable_decl();if(e===null)throw this._error(this._peek(),"Variable declaration expected.");let n=null;return this._match(ee.tokens.equal)&&(n=this._short_circuit_or_expression()),this._updateNode(new Sa(e.name,e.type,e.storage,e.access,n),e.line)}if(this._match(ee.keywords.let)){const e=this._currentLine,n=this._consume(ee.tokens.name,"Expected name for let.").toString();let r=null;if(this._match(ee.tokens.colon)){const o=this._attribute();r=this._type_decl(),r!=null&&(r.attributes=o)}this._consume(ee.tokens.equal,"Expected '=' for let.");const s=this._short_circuit_or_expression();return this._updateNode(new Vp(n,r,null,null,s),e)}if(this._match(ee.keywords.const)){const e=this._currentLine,n=this._consume(ee.tokens.name,"Expected name for const.").toString();let r=null;if(this._match(ee.tokens.colon)){const o=this._attribute();r=this._type_decl(),r!=null&&(r.attributes=o)}this._consume(ee.tokens.equal,"Expected '=' for const.");const s=this._short_circuit_or_expression();return r===null&&s instanceof Vr&&(r=s.type),this._updateNode(new xx(n,r,null,null,s),e)}return null}_increment_decrement_statement(){const e=this._current,n=this._unary_expression();if(n==null)return null;if(!this._check(ee.increment_operators))return this._current=e,null;const r=this._consume(ee.increment_operators,"Expected increment operator");return this._updateNode(new rF(r.type===ee.tokens.plus_plus?$f.increment:$f.decrement,n))}_assignment_statement(){let e=null;const n=this._currentLine;if(this._check(ee.tokens.brace_right))return null;let r=this._match(ee.tokens.underscore);if(r||(e=this._unary_expression()),!r&&e==null)return null;const s=this._consume(ee.assignment_operators,"Expected assignment operator."),o=this._short_circuit_or_expression();return this._updateNode(new sF(Cp.parse(s.lexeme),e,o),n)}_func_call_statement(){if(!this._check(ee.tokens.ident))return null;const e=this._currentLine,n=this._current,r=this._consume(ee.tokens.ident,"Expected function name."),s=this._argument_expression_list();return s===null?(this._current=n,null):this._updateNode(new oT(r.lexeme,s),e)}_loop_statement(){if(!this._match(ee.keywords.loop))return null;this._check(ee.tokens.attr)&&this._attribute(),this._consume(ee.tokens.brace_left,"Expected '{' for loop.");const e=this._updateNode(new iF([],null));this._currentLoop.push(e);let n=this._statement();for(;n!==null;){if(Array.isArray(n))for(let r of n)e.body.push(r);else e.body.push(n);if(n instanceof _S){e.continuing=n;break}n=this._statement()}return this._currentLoop.pop(),this._consume(ee.tokens.brace_right,"Expected '}' for loop."),e}_switch_statement(){if(!this._match(ee.keywords.switch))return null;const e=this._updateNode(new oF(null,[]));if(this._currentLoop.push(e),e.condition=this._optional_paren_expression(),this._check(ee.tokens.attr)&&this._attribute(),this._consume(ee.tokens.brace_left,"Expected '{' for switch."),e.cases=this._switch_body(),e.cases==null||e.cases.length==0)throw this._error(this._previous(),"Expected 'case' or 'default'.");return this._consume(ee.tokens.brace_right,"Expected '}' for switch."),this._currentLoop.pop(),e}_switch_body(){const e=[];let n=!1;for(;this._check([ee.keywords.default,ee.keywords.case]);){if(this._match(ee.keywords.case)){const r=this._case_selectors();for(const o of r)if(o instanceof wx){if(n)throw this._error(this._previous(),"Multiple default cases in switch statement.");n=!0;break}this._match(ee.tokens.colon),this._check(ee.tokens.attr)&&this._attribute(),this._consume(ee.tokens.brace_left,"Exected '{' for switch case.");const s=this._case_body();this._consume(ee.tokens.brace_right,"Exected '}' for switch case."),e.push(this._updateNode(new gF(r,s)))}if(this._match(ee.keywords.default)){if(n)throw this._error(this._previous(),"Multiple default cases in switch statement.");this._match(ee.tokens.colon),this._check(ee.tokens.attr)&&this._attribute(),this._consume(ee.tokens.brace_left,"Exected '{' for switch default.");const r=this._case_body();this._consume(ee.tokens.brace_right,"Exected '}' for switch default."),e.push(this._updateNode(new bF(r)))}}return e}_case_selectors(){const e=[];for(this._match(ee.keywords.default)?e.push(this._updateNode(new wx)):e.push(this._shift_expression());this._match(ee.tokens.comma);)this._match(ee.keywords.default)?e.push(this._updateNode(new wx)):e.push(this._shift_expression());return e}_case_body(){if(this._match(ee.keywords.fallthrough))return this._consume(ee.tokens.semicolon,"Expected ';'"),[];let e=this._statement();if(e==null)return[];e instanceof Array||(e=[e]);const n=this._case_body();return n.length==0?e:[...e,n[0]]}_if_statement(){if(!this._match(ee.keywords.if))return null;const e=this._currentLine,n=this._optional_paren_expression();this._check(ee.tokens.attr)&&this._attribute();const r=this._compound_statement();let s=[];this._match_elseif()&&(this._check(ee.tokens.attr)&&this._attribute(),s=this._elseif_statement(s));let o=null;return this._match(ee.keywords.else)&&(this._check(ee.tokens.attr)&&this._attribute(),o=this._compound_statement()),this._updateNode(new aF(n,r,s,o),e)}_match_elseif(){return this._tokens[this._current].type===ee.keywords.else&&this._tokens[this._current+1].type===ee.keywords.if&&(this._advance(),this._advance(),!0)}_elseif_statement(e=[]){const n=this._optional_paren_expression(),r=this._compound_statement();return e.push(this._updateNode(new QJ(n,r))),this._match_elseif()&&(this._check(ee.tokens.attr)&&this._attribute(),this._elseif_statement(e)),e}_return_statement(){if(!this._match(ee.keywords.return))return null;const e=this._short_circuit_or_expression();return this._updateNode(new lF(e))}_short_circuit_or_expression(){let e=this._short_circuit_and_expr();for(;this._match(ee.tokens.or_or);)e=this._updateNode(new Wi(this._previous().toString(),e,this._short_circuit_and_expr()));return e}_short_circuit_and_expr(){let e=this._inclusive_or_expression();for(;this._match(ee.tokens.and_and);)e=this._updateNode(new Wi(this._previous().toString(),e,this._inclusive_or_expression()));return e}_inclusive_or_expression(){let e=this._exclusive_or_expression();for(;this._match(ee.tokens.or);)e=this._updateNode(new Wi(this._previous().toString(),e,this._exclusive_or_expression()));return e}_exclusive_or_expression(){let e=this._and_expression();for(;this._match(ee.tokens.xor);)e=this._updateNode(new Wi(this._previous().toString(),e,this._and_expression()));return e}_and_expression(){let e=this._equality_expression();for(;this._match(ee.tokens.and);)e=this._updateNode(new Wi(this._previous().toString(),e,this._equality_expression()));return e}_equality_expression(){const e=this._relational_expression();return this._match([ee.tokens.equal_equal,ee.tokens.not_equal])?this._updateNode(new Wi(this._previous().toString(),e,this._relational_expression())):e}_relational_expression(){let e=this._shift_expression();for(;this._match([ee.tokens.less_than,ee.tokens.greater_than,ee.tokens.less_than_equal,ee.tokens.greater_than_equal]);)e=this._updateNode(new Wi(this._previous().toString(),e,this._shift_expression()));return e}_shift_expression(){let e=this._additive_expression();for(;this._match([ee.tokens.shift_left,ee.tokens.shift_right]);)e=this._updateNode(new Wi(this._previous().toString(),e,this._additive_expression()));return e}_additive_expression(){let e=this._multiplicative_expression();for(;this._match([ee.tokens.plus,ee.tokens.minus]);)e=this._updateNode(new Wi(this._previous().toString(),e,this._multiplicative_expression()));return e}_multiplicative_expression(){let e=this._unary_expression();for(;this._match([ee.tokens.star,ee.tokens.forward_slash,ee.tokens.modulo]);)e=this._updateNode(new Wi(this._previous().toString(),e,this._unary_expression()));return e}_unary_expression(){return this._match([ee.tokens.minus,ee.tokens.bang,ee.tokens.tilde,ee.tokens.star,ee.tokens.and])?this._updateNode(new Dr(this._previous().toString(),this._unary_expression())):this._singular_expression()}_singular_expression(){const e=this._primary_expression(),n=this._postfix_expression();return n&&(e.postfix=n),e}_postfix_expression(){if(this._match(ee.tokens.bracket_left)){const e=this._short_circuit_or_expression();this._consume(ee.tokens.bracket_right,"Expected ']'.");const n=this._updateNode(new yd(e)),r=this._postfix_expression();return r&&(n.postfix=r),n}if(this._match(ee.tokens.period)){const e=this._consume(ee.tokens.name,"Expected member name."),n=this._postfix_expression(),r=this._updateNode(new hu(e.lexeme));return n&&(r.postfix=n),r}return null}_getStruct(e){return this._context.aliases.has(e)?this._context.aliases.get(e).type:this._context.structs.has(e)?this._context.structs.get(e):null}_getType(e){const n=this._getStruct(e);if(n!==null)return n;switch(e){case"void":return Qe.void;case"bool":return Qe.bool;case"i32":return Qe.i32;case"u32":return Qe.u32;case"f32":return Qe.f32;case"f16":return Qe.f16;case"vec2f":return ke.vec2f;case"vec3f":return ke.vec3f;case"vec4f":return ke.vec4f;case"vec2i":return ke.vec2i;case"vec3i":return ke.vec3i;case"vec4i":return ke.vec4i;case"vec2u":return ke.vec2u;case"vec3u":return ke.vec3u;case"vec4u":return ke.vec4u;case"vec2h":return ke.vec2h;case"vec3h":return ke.vec3h;case"vec4h":return ke.vec4h;case"mat2x2f":return ke.mat2x2f;case"mat2x3f":return ke.mat2x3f;case"mat2x4f":return ke.mat2x4f;case"mat3x2f":return ke.mat3x2f;case"mat3x3f":return ke.mat3x3f;case"mat3x4f":return ke.mat3x4f;case"mat4x2f":return ke.mat4x2f;case"mat4x3f":return ke.mat4x3f;case"mat4x4f":return ke.mat4x4f;case"mat2x2h":return ke.mat2x2h;case"mat2x3h":return ke.mat2x3h;case"mat2x4h":return ke.mat2x4h;case"mat3x2h":return ke.mat3x2h;case"mat3x3h":return ke.mat3x3h;case"mat3x4h":return ke.mat3x4h;case"mat4x2h":return ke.mat4x2h;case"mat4x3h":return ke.mat4x3h;case"mat4x4h":return ke.mat4x4h;case"mat2x2i":return ke.mat2x2i;case"mat2x3i":return ke.mat2x3i;case"mat2x4i":return ke.mat2x4i;case"mat3x2i":return ke.mat3x2i;case"mat3x3i":return ke.mat3x3i;case"mat3x4i":return ke.mat3x4i;case"mat4x2i":return ke.mat4x2i;case"mat4x3i":return ke.mat4x3i;case"mat4x4i":return ke.mat4x4i;case"mat2x2u":return ke.mat2x2u;case"mat2x3u":return ke.mat2x3u;case"mat2x4u":return ke.mat2x4u;case"mat3x2u":return ke.mat3x2u;case"mat3x3u":return ke.mat3x3u;case"mat3x4u":return ke.mat3x4u;case"mat4x2u":return ke.mat4x2u;case"mat4x3u":return ke.mat4x3u;case"mat4x4u":return ke.mat4x4u}return null}_validateTypeRange(e,n){if(n.name==="i32"){if(e<-2147483648||e>2147483647)throw this._error(this._previous(),`Value out of range for i32: ${e}. Line: ${this._currentLine}.`)}else if(n.name==="u32"&&(e<0||e>4294967295))throw this._error(this._previous(),`Value out of range for u32: ${e}. Line: ${this._currentLine}.`)}_primary_expression(){if(this._match(ee.tokens.ident)){const r=this._previous().toString();if(this._check(ee.tokens.paren_left)){const s=this._argument_expression_list(),o=this._getType(r);return o!==null?this._updateNode(new Ao(o,s)):this._updateNode(new lT(r,s))}if(this._context.constants.has(r)){const s=this._context.constants.get(r);return this._updateNode(new dF(r,s.value))}return this._updateNode(new li(r))}if(this._match(ee.tokens.int_literal)){const r=this._previous().toString();let s=r.endsWith("i")||r.endsWith("i")?Qe.i32:r.endsWith("u")||r.endsWith("U")?Qe.u32:Qe.x32;const o=parseInt(r);return this._validateTypeRange(o,s),this._updateNode(new Vr(new Te(o,this._exec.getTypeInfo(s)),s))}if(this._match(ee.tokens.uint_literal)){const r=parseInt(this._previous().toString());return this._validateTypeRange(r,Qe.u32),this._updateNode(new Vr(new Te(r,this._exec.getTypeInfo(Qe.u32)),Qe.u32))}if(this._match([ee.tokens.decimal_float_literal,ee.tokens.hex_float_literal])){let r=this._previous().toString(),s=r.endsWith("h");s&&(r=r.substring(0,r.length-1));const o=parseFloat(r);this._validateTypeRange(o,s?Qe.f16:Qe.f32);const l=s?Qe.f16:Qe.f32;return this._updateNode(new Vr(new Te(o,this._exec.getTypeInfo(l)),l))}if(this._match([ee.keywords.true,ee.keywords.false])){let r=this._previous().toString()===ee.keywords.true.rule;return this._updateNode(new Vr(new Te(r?1:0,this._exec.getTypeInfo(Qe.bool)),Qe.bool))}if(this._check(ee.tokens.paren_left))return this._paren_expression();if(this._match(ee.keywords.bitcast)){this._consume(ee.tokens.less_than,"Expected '<'.");const r=this._type_decl();this._consume(ee.tokens.greater_than,"Expected '>'.");const s=this._paren_expression();return this._updateNode(new hF(r,s))}const e=this._type_decl(),n=this._argument_expression_list();return this._updateNode(new Ao(e,n))}_argument_expression_list(){if(!this._match(ee.tokens.paren_left))return null;const e=[];do{if(this._check(ee.tokens.paren_right))break;const n=this._short_circuit_or_expression();e.push(n)}while(this._match(ee.tokens.comma));return this._consume(ee.tokens.paren_right,"Expected ')' for agument list"),e}_optional_paren_expression(){this._match(ee.tokens.paren_left);const e=this._short_circuit_or_expression();return this._match(ee.tokens.paren_right),e}_paren_expression(){this._consume(ee.tokens.paren_left,"Expected '('.");const e=this._short_circuit_or_expression();return this._consume(ee.tokens.paren_right,"Expected ')'."),e}_struct_decl(){if(!this._match(ee.keywords.struct))return null;const e=this._currentLine,n=this._consume(ee.tokens.ident,"Expected name for struct.").toString();this._consume(ee.tokens.brace_left,"Expected '{' for struct body.");const r=[];for(;!this._check(ee.tokens.brace_right);){const l=this._attribute(),c=this._consume(ee.tokens.name,"Expected variable name.").toString();this._consume(ee.tokens.colon,"Expected ':' for struct member type.");const f=this._attribute(),h=this._type_decl();h!=null&&(h.attributes=f),this._check(ee.tokens.brace_right)?this._match(ee.tokens.comma):this._consume(ee.tokens.comma,"Expected ',' for struct member."),r.push(this._updateNode(new Y2(c,h,l)))}this._consume(ee.tokens.brace_right,"Expected '}' after struct body.");const s=this._currentLine,o=this._updateNode(new xa(n,r,e,s),e);return this._context.structs.set(n,o),o}_global_variable_decl(){const e=this._variable_decl();if(!e)return null;if(this._match(ee.tokens.equal)){const n=this._const_expression();e.value=n}if(e.type!==null&&e.value instanceof Vr){if(e.value.type.name!=="x32"&&e.type.getTypeName()!==e.value.type.getTypeName())throw this._error(this._peek(),`Invalid cast from ${e.value.type.name} to ${e.type.name}. Line:${this._currentLine}`);e.value.isScalar&&this._validateTypeRange(e.value.scalarValue,e.type),e.value.type=e.type}else e.type===null&&e.value instanceof Vr&&(e.type=e.value.type.name==="x32"?Qe.i32:e.value.type,e.value.isScalar&&this._validateTypeRange(e.value.scalarValue,e.type));return e}_override_variable_decl(){const e=this._override_decl();return e&&this._match(ee.tokens.equal)&&(e.value=this._const_expression()),e}_global_const_decl(){var e;if(!this._match(ee.keywords.const))return null;const n=this._consume(ee.tokens.name,"Expected variable name"),r=this._currentLine;let s=null;if(this._match(ee.tokens.colon)){const f=this._attribute();s=this._type_decl(),s!=null&&(s.attributes=f)}let o=null;this._consume(ee.tokens.equal,"const declarations require an assignment");const l=this._short_circuit_or_expression();try{let f=[Qe.f32],h=l.constEvaluate(this._exec,f);h instanceof Te&&this._validateTypeRange(h.value,f[0]),f[0]instanceof ke&&f[0].format===null&&h.typeInfo instanceof du&&h.typeInfo.format!==null&&(h.typeInfo.format.name==="f16"?f[0].format=Qe.f16:h.typeInfo.format.name==="f32"?f[0].format=Qe.f32:h.typeInfo.format.name==="i32"?f[0].format=Qe.i32:h.typeInfo.format.name==="u32"?f[0].format=Qe.u32:h.typeInfo.format.name==="bool"?f[0].format=Qe.bool:console.error(`TODO: impelement template format type ${h.typeInfo.format.name}`)),o=this._updateNode(new Vr(h,f[0])),this._exec.context.setVariable(n.toString(),h)}catch{o=l}if(s!==null&&o instanceof Vr){if(o.type.name!=="x32"&&s.getTypeName()!==o.type.getTypeName())throw this._error(this._peek(),`Invalid cast from ${o.type.name} to ${s.name}. Line:${this._currentLine}`);o.type=s,o.isScalar&&this._validateTypeRange(o.scalarValue,o.type)}else s===null&&o instanceof Vr&&(s=(e=o==null?void 0:o.type)!==null&&e!==void 0?e:Qe.f32,s===Qe.x32&&(s=Qe.i32));const c=this._updateNode(new xx(n.toString(),s,"","",o),r);return this._context.constants.set(c.name,c),c}_global_let_decl(){if(!this._match(ee.keywords.let))return null;const e=this._currentLine,n=this._consume(ee.tokens.name,"Expected variable name");let r=null;if(this._match(ee.tokens.colon)){const o=this._attribute();r=this._type_decl(),r!=null&&(r.attributes=o)}let s=null;if(this._match(ee.tokens.equal)&&(s=this._const_expression()),r!==null&&s instanceof Vr){if(s.type.name!=="x32"&&r.getTypeName()!==s.type.getTypeName())throw this._error(this._peek(),`Invalid cast from ${s.type.name} to ${r.name}. Line:${this._currentLine}`);s.type=r}else r===null&&s instanceof Vr&&(r=s.type.name==="x32"?Qe.i32:s.type);return s instanceof Vr&&s.isScalar&&this._validateTypeRange(s.scalarValue,r),this._updateNode(new Vp(n.toString(),r,"","",s),e)}_const_expression(){return this._short_circuit_or_expression()}_variable_decl(){if(!this._match(ee.keywords.var))return null;const e=this._currentLine;let n="",r="";this._match(ee.tokens.less_than)&&(n=this._consume(ee.storage_class,"Expected storage_class.").toString(),this._match(ee.tokens.comma)&&(r=this._consume(ee.access_mode,"Expected access_mode.").toString()),this._consume(ee.tokens.greater_than,"Expected '>'."));const s=this._consume(ee.tokens.name,"Expected variable name");let o=null;if(this._match(ee.tokens.colon)){const l=this._attribute();o=this._type_decl(),o!=null&&(o.attributes=l)}return this._updateNode(new Sa(s.toString(),o,n,r,null),e)}_override_decl(){if(!this._match(ee.keywords.override))return null;const e=this._consume(ee.tokens.name,"Expected variable name");let n=null;if(this._match(ee.tokens.colon)){const r=this._attribute();n=this._type_decl(),n!=null&&(n.attributes=r)}return this._updateNode(new iT(e.toString(),n,null))}_diagnostic(){this._consume(ee.tokens.paren_left,"Expected '('");const e=this._consume(ee.tokens.ident,"Expected severity control name.");this._consume(ee.tokens.comma,"Expected ','");let n=this._consume(ee.tokens.ident,"Expected diagnostic rule name.").toString();return this._match(ee.tokens.period)&&(n+=`.${this._consume(ee.tokens.ident,"Expected diagnostic message.").toString()}`),this._consume(ee.tokens.paren_right,"Expected ')'"),this._updateNode(new cF(e.toString(),n))}_enable_directive(){const e=this._consume(ee.tokens.ident,"identity expected.");return this._updateNode(new YJ(e.toString()))}_requires_directive(){const e=[this._consume(ee.tokens.ident,"identity expected.").toString()];for(;this._match(ee.tokens.comma);){const n=this._consume(ee.tokens.ident,"identity expected.");e.push(n.toString())}return this._updateNode(new KJ(e))}_type_alias(){const e=this._consume(ee.tokens.ident,"identity expected.");this._consume(ee.tokens.equal,"Expected '=' for type alias.");let n=this._type_decl();if(n===null)throw this._error(this._peek(),"Expected Type for Alias.");this._context.aliases.has(n.name)&&(n=this._context.aliases.get(n.name).type);const r=this._updateNode(new aT(e.toString(),n));return this._context.aliases.set(r.name,r),r}_type_decl(){if(this._check([ee.tokens.ident,...ee.texel_format,ee.keywords.bool,ee.keywords.f32,ee.keywords.i32,ee.keywords.u32])){const r=this._advance().toString();if(this._context.structs.has(r))return this._context.structs.get(r);if(this._context.aliases.has(r))return this._context.aliases.get(r).type;if(!this._getType(r)){const s=this._updateNode(new q2(r));return this._forwardTypeCount++,s}return this._updateNode(new Qe(r))}let e=this._texture_sampler_types();if(e)return e;if(this._check(ee.template_types)){let r=this._advance().toString(),s=null,o=null;return this._match(ee.tokens.less_than)&&(s=this._type_decl(),o=null,this._match(ee.tokens.comma)&&(o=this._consume(ee.access_mode,"Expected access_mode for pointer").toString()),this._consume(ee.tokens.greater_than,"Expected '>' for type.")),this._updateNode(new ke(r,s,o))}if(this._match(ee.keywords.ptr)){let r=this._previous().toString();this._consume(ee.tokens.less_than,"Expected '<' for pointer.");const s=this._consume(ee.storage_class,"Expected storage_class for pointer");this._consume(ee.tokens.comma,"Expected ',' for pointer.");const o=this._type_decl();let l=null;return this._match(ee.tokens.comma)&&(l=this._consume(ee.access_mode,"Expected access_mode for pointer").toString()),this._consume(ee.tokens.greater_than,"Expected '>' for pointer."),this._updateNode(new vx(r,s.toString(),o,l))}const n=this._attribute();if(this._match(ee.keywords.array)){let r=null,s=-1;const o=this._previous();let l=null;if(this._match(ee.tokens.less_than)){r=this._type_decl(),this._context.aliases.has(r.name)&&(r=this._context.aliases.get(r.name).type);let f="";if(this._match(ee.tokens.comma)){l=this._shift_expression();try{f=l.constEvaluate(this._exec).toString(),l=null}catch{f="1"}}this._consume(ee.tokens.greater_than,"Expected '>' for array."),s=f?parseInt(f):0}const c=this._updateNode(new Fp(o.toString(),n,r,s));return l&&this._deferArrayCountEval.push({arrayType:c,countNode:l}),c}return null}_texture_sampler_types(){if(this._match(ee.sampler_type))return this._updateNode(new Rp(this._previous().toString(),null,null));if(this._match(ee.depth_texture_type))return this._updateNode(new Rp(this._previous().toString(),null,null));if(this._match(ee.sampled_texture_type)||this._match(ee.multisampled_texture_type)){const e=this._previous();this._consume(ee.tokens.less_than,"Expected '<' for sampler type.");const n=this._type_decl();return this._consume(ee.tokens.greater_than,"Expected '>' for sampler type."),this._updateNode(new Rp(e.toString(),n,null))}if(this._match(ee.storage_texture_type)){const e=this._previous();this._consume(ee.tokens.less_than,"Expected '<' for sampler type.");const n=this._consume(ee.texel_format,"Invalid texel format.").toString();this._consume(ee.tokens.comma,"Expected ',' after texel format.");const r=this._consume(ee.access_mode,"Expected access mode for storage texture type.").toString();return this._consume(ee.tokens.greater_than,"Expected '>' for sampler type."),this._updateNode(new Rp(e.toString(),n,r))}return null}_attribute(){let e=[];for(;this._match(ee.tokens.attr);){const n=this._consume(ee.attribute_name,"Expected attribute name"),r=this._updateNode(new xF(n.toString(),null));if(this._match(ee.tokens.paren_left)){if(r.value=this._consume(ee.literal_or_ident,"Expected attribute value").toString(),this._check(ee.tokens.comma)){this._advance();do{const s=this._consume(ee.literal_or_ident,"Expected attribute value").toString();r.value instanceof Array||(r.value=[r.value]),r.value.push(s)}while(this._match(ee.tokens.comma))}this._consume(ee.tokens.paren_right,"Expected ')'")}e.push(r)}return e.length==0?null:e}}class fee extends Uo{constructor(e){super(),e&&this.update(e)}update(e){const n=new uee().parse(e);this.updateAST(n)}}function dee(t){var o;const e={attributes:[],bindings:[]};let n;try{n=hee(t)}catch(l){return ot.error(l.message)(),e}for(const l of n.uniforms){const c=[];for(const f of((o=l.type)==null?void 0:o.members)||[])c.push({name:f.name,type:Q2(f.type)});e.bindings.push({type:"uniform",name:l.name,group:l.group,location:l.binding,members:c})}for(const l of n.textures)e.bindings.push({type:"texture",name:l.name,group:l.group,location:l.binding});for(const l of n.samplers)e.bindings.push({type:"sampler",name:l.name,group:l.group,location:l.binding});const r=n.entry.vertex[0],s=(r==null?void 0:r.inputs.length)||0;for(let l=0;l<s;l++){const c=r.inputs[l];if(c.locationType==="location"){const f=Q2(c.type);e.attributes.push({name:c.name,location:Number(c.location),type:f})}}return e}function Q2(t){return t.format?`${t.name}<${t.format.name}>`:t.name}function hee(t){try{return new fee(t)}catch(e){if(e instanceof Error)throw e;let n="WGSL parse error";throw typeof e=="object"&&(e!=null&&e.message)&&(n+=`: ${e.message} `),typeof e=="object"&&(e!=null&&e.token)&&(n+=e.token.line||""),new Error(n,{cause:e})}}const pee={EPSILON:1e-12,debug:!1,precision:4,printTypes:!1,printDegrees:!1,printRowMajor:!0,_cartographicRadians:!1};globalThis.mathgl=globalThis.mathgl||{config:{...pee}};const ki=globalThis.mathgl.config;function mee(t,{precision:e=ki.precision}={}){return t=gee(t),`${parseFloat(t.toPrecision(e))}`}function vd(t){return Array.isArray(t)||ArrayBuffer.isView(t)&&!(t instanceof DataView)}function jl(t,e,n){return xee(t,r=>Math.max(e,Math.min(n,r)))}function ly(t,e,n){return vd(t)?t.map((r,s)=>ly(r,e[s],n)):n*e+(1-n)*t}function rm(t,e,n){const r=ki.EPSILON;try{if(t===e)return!0;if(vd(t)&&vd(e)){if(t.length!==e.length)return!1;for(let s=0;s<t.length;++s)if(!rm(t[s],e[s]))return!1;return!0}return t&&t.equals?t.equals(e):e&&e.equals?e.equals(t):typeof t=="number"&&typeof e=="number"?Math.abs(t-e)<=ki.EPSILON*Math.max(1,Math.abs(t),Math.abs(e)):!1}finally{ki.EPSILON=r}}function gee(t){return Math.round(t/ki.EPSILON)*ki.EPSILON}function bee(t){return t.clone?t.clone():new Array(t.length)}function xee(t,e,n){if(vd(t)){const r=t;n=n||bee(r);for(let s=0;s<n.length&&s<r.length;++s){const o=typeof t=="number"?t:t[s];n[s]=e(o,s,n)}return n}return e(t)}class yF extends Array{clone(){return new this.constructor().copy(this)}fromArray(e,n=0){for(let r=0;r<this.ELEMENTS;++r)this[r]=e[r+n];return this.check()}toArray(e=[],n=0){for(let r=0;r<this.ELEMENTS;++r)e[n+r]=this[r];return e}toObject(e){return e}from(e){return Array.isArray(e)?this.copy(e):this.fromObject(e)}to(e){return e===this?this:vd(e)?this.toArray(e):this.toObject(e)}toTarget(e){return e?this.to(e):this}toFloat32Array(){return new Float32Array(this)}toString(){return this.formatString(ki)}formatString(e){let n="";for(let r=0;r<this.ELEMENTS;++r)n+=(r>0?", ":"")+mee(this[r],e);return`${e.printTypes?this.constructor.name:""}[${n}]`}equals(e){if(!e||this.length!==e.length)return!1;for(let n=0;n<this.ELEMENTS;++n)if(!rm(this[n],e[n]))return!1;return!0}exactEquals(e){if(!e||this.length!==e.length)return!1;for(let n=0;n<this.ELEMENTS;++n)if(this[n]!==e[n])return!1;return!0}negate(){for(let e=0;e<this.ELEMENTS;++e)this[e]=-this[e];return this.check()}lerp(e,n,r){if(r===void 0)return this.lerp(this,e,n);for(let s=0;s<this.ELEMENTS;++s){const o=e[s],l=typeof n=="number"?n:n[s];this[s]=o+r*(l-o)}return this.check()}min(e){for(let n=0;n<this.ELEMENTS;++n)this[n]=Math.min(e[n],this[n]);return this.check()}max(e){for(let n=0;n<this.ELEMENTS;++n)this[n]=Math.max(e[n],this[n]);return this.check()}clamp(e,n){for(let r=0;r<this.ELEMENTS;++r)this[r]=Math.min(Math.max(this[r],e[r]),n[r]);return this.check()}add(...e){for(const n of e)for(let r=0;r<this.ELEMENTS;++r)this[r]+=n[r];return this.check()}subtract(...e){for(const n of e)for(let r=0;r<this.ELEMENTS;++r)this[r]-=n[r];return this.check()}scale(e){if(typeof e=="number")for(let n=0;n<this.ELEMENTS;++n)this[n]*=e;else for(let n=0;n<this.ELEMENTS&&n<e.length;++n)this[n]*=e[n];return this.check()}multiplyByScalar(e){for(let n=0;n<this.ELEMENTS;++n)this[n]*=e;return this.check()}check(){if(ki.debug&&!this.validate())throw new Error(`math.gl: ${this.constructor.name} some fields set to invalid numbers'`);return this}validate(){let e=this.length===this.ELEMENTS;for(let n=0;n<this.ELEMENTS;++n)e=e&&Number.isFinite(this[n]);return e}sub(e){return this.subtract(e)}setScalar(e){for(let n=0;n<this.ELEMENTS;++n)this[n]=e;return this.check()}addScalar(e){for(let n=0;n<this.ELEMENTS;++n)this[n]+=e;return this.check()}subScalar(e){return this.addScalar(-e)}multiplyScalar(e){for(let n=0;n<this.ELEMENTS;++n)this[n]*=e;return this.check()}divideScalar(e){return this.multiplyByScalar(1/e)}clampScalar(e,n){for(let r=0;r<this.ELEMENTS;++r)this[r]=Math.min(Math.max(this[r],e),n);return this.check()}get elements(){return this}}function yee(t,e){if(t.length!==e)return!1;for(let n=0;n<t.length;++n)if(!Number.isFinite(t[n]))return!1;return!0}function oi(t){if(!Number.isFinite(t))throw new Error(`Invalid number ${JSON.stringify(t)}`);return t}function O1(t,e,n=""){if(ki.debug&&!yee(t,e))throw new Error(`math.gl: ${n} some fields set to invalid numbers'`);return t}function G2(t,e){if(!t)throw new Error(`math.gl assertion ${e}`)}class vee extends yF{get x(){return this[0]}set x(e){this[0]=oi(e)}get y(){return this[1]}set y(e){this[1]=oi(e)}len(){return Math.sqrt(this.lengthSquared())}magnitude(){return this.len()}lengthSquared(){let e=0;for(let n=0;n<this.ELEMENTS;++n)e+=this[n]*this[n];return e}magnitudeSquared(){return this.lengthSquared()}distance(e){return Math.sqrt(this.distanceSquared(e))}distanceSquared(e){let n=0;for(let r=0;r<this.ELEMENTS;++r){const s=this[r]-e[r];n+=s*s}return oi(n)}dot(e){let n=0;for(let r=0;r<this.ELEMENTS;++r)n+=this[r]*e[r];return oi(n)}normalize(){const e=this.magnitude();if(e!==0)for(let n=0;n<this.ELEMENTS;++n)this[n]/=e;return this.check()}multiply(...e){for(const n of e)for(let r=0;r<this.ELEMENTS;++r)this[r]*=n[r];return this.check()}divide(...e){for(const n of e)for(let r=0;r<this.ELEMENTS;++r)this[r]/=n[r];return this.check()}lengthSq(){return this.lengthSquared()}distanceTo(e){return this.distance(e)}distanceToSquared(e){return this.distanceSquared(e)}getComponent(e){return G2(e>=0&&e<this.ELEMENTS,"index is out of range"),oi(this[e])}setComponent(e,n){return G2(e>=0&&e<this.ELEMENTS,"index is out of range"),this[e]=n,this.check()}addVectors(e,n){return this.copy(e).add(n)}subVectors(e,n){return this.copy(e).subtract(n)}multiplyVectors(e,n){return this.copy(e).multiply(n)}addScaledVector(e,n){return this.add(new this.constructor(e).multiplyScalar(n))}}const _x=1e-6;let wd=typeof Float32Array<"u"?Float32Array:Array;function wee(){const t=new wd(2);return wd!=Float32Array&&(t[0]=0,t[1]=0),t}function J2(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function _ee(t,e){return t[0]=-e[0],t[1]=-e[1],t}function vF(t,e,n,r){const s=e[0],o=e[1];return t[0]=s+r*(n[0]-s),t[1]=o+r*(n[1]-o),t}function Nee(t,e,n){const r=e[0],s=e[1];return t[0]=n[0]*r+n[4]*s+n[12],t[1]=n[1]*r+n[5]*s+n[13],t}(function(){const t=wee();return function(e,n,r,s,o,l){let c,f;for(n||(n=2),r||(r=0),s?f=Math.min(s*n+r,e.length):f=e.length,c=r;c<f;c+=n)t[0]=e[c],t[1]=e[c+1],o(t,t,l),e[c]=t[0],e[c+1]=t[1];return e}})();function See(t,e,n){const r=e[0],s=e[1],o=n[3]*r+n[7]*s||1;return t[0]=(n[0]*r+n[4]*s)/o,t[1]=(n[1]*r+n[5]*s)/o,t}function wF(t,e,n){const r=e[0],s=e[1],o=e[2],l=n[3]*r+n[7]*s+n[11]*o||1;return t[0]=(n[0]*r+n[4]*s+n[8]*o)/l,t[1]=(n[1]*r+n[5]*s+n[9]*o)/l,t[2]=(n[2]*r+n[6]*s+n[10]*o)/l,t}function Eee(t,e,n){const r=e[0],s=e[1];return t[0]=n[0]*r+n[2]*s,t[1]=n[1]*r+n[3]*s,t[2]=e[2],t}function Tee(){const t=new wd(3);return wd!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function Aee(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function Cee(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function Ree(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function kee(t,e,n){const r=e[0],s=e[1],o=e[2],l=n[0],c=n[1],f=n[2];return t[0]=s*f-o*c,t[1]=o*l-r*f,t[2]=r*c-s*l,t}function _F(t,e,n){const r=e[0],s=e[1],o=e[2];let l=n[3]*r+n[7]*s+n[11]*o+n[15];return l=l||1,t[0]=(n[0]*r+n[4]*s+n[8]*o+n[12])/l,t[1]=(n[1]*r+n[5]*s+n[9]*o+n[13])/l,t[2]=(n[2]*r+n[6]*s+n[10]*o+n[14])/l,t}function Dee(t,e,n){const r=e[0],s=e[1],o=e[2];return t[0]=r*n[0]+s*n[3]+o*n[6],t[1]=r*n[1]+s*n[4]+o*n[7],t[2]=r*n[2]+s*n[5]+o*n[8],t}function Pee(t,e,n){const r=n[0],s=n[1],o=n[2],l=n[3],c=e[0],f=e[1],h=e[2];let p=s*h-o*f,m=o*c-r*h,x=r*f-s*c,w=s*x-o*m,E=o*p-r*x,T=r*m-s*p;const C=l*2;return p*=C,m*=C,x*=C,w*=2,E*=2,T*=2,t[0]=c+p+w,t[1]=f+m+E,t[2]=h+x+T,t}function jee(t,e,n,r){const s=[],o=[];return s[0]=e[0]-n[0],s[1]=e[1]-n[1],s[2]=e[2]-n[2],o[0]=s[0],o[1]=s[1]*Math.cos(r)-s[2]*Math.sin(r),o[2]=s[1]*Math.sin(r)+s[2]*Math.cos(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function Mee(t,e,n,r){const s=[],o=[];return s[0]=e[0]-n[0],s[1]=e[1]-n[1],s[2]=e[2]-n[2],o[0]=s[2]*Math.sin(r)+s[0]*Math.cos(r),o[1]=s[1],o[2]=s[2]*Math.cos(r)-s[0]*Math.sin(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function Iee(t,e,n,r){const s=[],o=[];return s[0]=e[0]-n[0],s[1]=e[1]-n[1],s[2]=e[2]-n[2],o[0]=s[0]*Math.cos(r)-s[1]*Math.sin(r),o[1]=s[0]*Math.sin(r)+s[1]*Math.cos(r),o[2]=s[2],t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function Oee(t,e){const n=t[0],r=t[1],s=t[2],o=e[0],l=e[1],c=e[2],f=Math.sqrt((n*n+r*r+s*s)*(o*o+l*l+c*c)),h=f&&Ree(t,e)/f;return Math.acos(Math.min(Math.max(h,-1),1))}const Uee=Aee;(function(){const t=Tee();return function(e,n,r,s,o,l){let c,f;for(n||(n=3),r||(r=0),s?f=Math.min(s*n+r,e.length):f=e.length,c=r;c<f;c+=n)t[0]=e[c],t[1]=e[c+1],t[2]=e[c+2],o(t,t,l),e[c]=t[0],e[c+1]=t[1],e[c+2]=t[2];return e}})();const U1=[0,0,0];let Zb;class Bo extends vee{static get ZERO(){return Zb||(Zb=new Bo(0,0,0),Object.freeze(Zb)),Zb}constructor(e=0,n=0,r=0){super(-0,-0,-0),arguments.length===1&&vd(e)?this.copy(e):(ki.debug&&(oi(e),oi(n),oi(r)),this[0]=e,this[1]=n,this[2]=r)}set(e,n,r){return this[0]=e,this[1]=n,this[2]=r,this.check()}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this.check()}fromObject(e){return ki.debug&&(oi(e.x),oi(e.y),oi(e.z)),this[0]=e.x,this[1]=e.y,this[2]=e.z,this.check()}toObject(e){return e.x=this[0],e.y=this[1],e.z=this[2],e}get ELEMENTS(){return 3}get z(){return this[2]}set z(e){this[2]=oi(e)}angle(e){return Oee(this,e)}cross(e){return kee(this,this,e),this.check()}rotateX({radians:e,origin:n=U1}){return jee(this,this,n,e),this.check()}rotateY({radians:e,origin:n=U1}){return Mee(this,this,n,e),this.check()}rotateZ({radians:e,origin:n=U1}){return Iee(this,this,n,e),this.check()}transform(e){return this.transformAsPoint(e)}transformAsPoint(e){return _F(this,this,e),this.check()}transformAsVector(e){return wF(this,this,e),this.check()}transformByMatrix3(e){return Dee(this,this,e),this.check()}transformByMatrix2(e){return Eee(this,this,e),this.check()}transformByQuaternion(e){return Pee(this,this,e),this.check()}}let Vee=class extends yF{toString(){let e="[";if(ki.printRowMajor){e+="row-major:";for(let n=0;n<this.RANK;++n)for(let r=0;r<this.RANK;++r)e+=` ${this[r*this.RANK+n]}`}else{e+="column-major:";for(let n=0;n<this.ELEMENTS;++n)e+=` ${this[n]}`}return e+="]",e}getElementIndex(e,n){return n*this.RANK+e}getElement(e,n){return this[n*this.RANK+e]}setElement(e,n,r){return this[n*this.RANK+e]=oi(r),this}getColumn(e,n=new Array(this.RANK).fill(-0)){const r=e*this.RANK;for(let s=0;s<this.RANK;++s)n[s]=this[r+s];return n}setColumn(e,n){const r=e*this.RANK;for(let s=0;s<this.RANK;++s)this[r+s]=n[s];return this}};function Fee(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Bee(t,e){if(t===e){const n=e[1],r=e[2],s=e[3],o=e[6],l=e[7],c=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=o,t[11]=e[14],t[12]=s,t[13]=l,t[14]=c}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function SS(t,e){const n=e[0],r=e[1],s=e[2],o=e[3],l=e[4],c=e[5],f=e[6],h=e[7],p=e[8],m=e[9],x=e[10],w=e[11],E=e[12],T=e[13],C=e[14],P=e[15],j=n*c-r*l,D=n*f-s*l,U=n*h-o*l,L=r*f-s*c,O=r*h-o*c,Y=s*h-o*f,ne=p*T-m*E,Q=p*C-x*E,K=p*P-w*E,G=m*C-x*T,ue=m*P-w*T,me=x*P-w*C;let le=j*me-D*ue+U*G+L*K-O*Q+Y*ne;return le?(le=1/le,t[0]=(c*me-f*ue+h*G)*le,t[1]=(s*ue-r*me-o*G)*le,t[2]=(T*Y-C*O+P*L)*le,t[3]=(x*O-m*Y-w*L)*le,t[4]=(f*K-l*me-h*Q)*le,t[5]=(n*me-s*K+o*Q)*le,t[6]=(C*U-E*Y-P*D)*le,t[7]=(p*Y-x*U+w*D)*le,t[8]=(l*ue-c*K+h*ne)*le,t[9]=(r*K-n*ue-o*ne)*le,t[10]=(E*O-T*U+P*j)*le,t[11]=(m*U-p*O-w*j)*le,t[12]=(c*Q-l*G-f*ne)*le,t[13]=(n*G-r*Q+s*ne)*le,t[14]=(T*D-E*L-C*j)*le,t[15]=(p*L-m*D+x*j)*le,t):null}function Lee(t){const e=t[0],n=t[1],r=t[2],s=t[3],o=t[4],l=t[5],c=t[6],f=t[7],h=t[8],p=t[9],m=t[10],x=t[11],w=t[12],E=t[13],T=t[14],C=t[15],P=e*l-n*o,j=e*c-r*o,D=n*c-r*l,U=h*E-p*w,L=h*T-m*w,O=p*T-m*E,Y=e*O-n*L+r*U,ne=o*O-l*L+c*U,Q=h*D-p*j+m*P,K=w*D-E*j+T*P;return f*Y-s*ne+C*Q-x*K}function Zc(t,e,n){const r=e[0],s=e[1],o=e[2],l=e[3],c=e[4],f=e[5],h=e[6],p=e[7],m=e[8],x=e[9],w=e[10],E=e[11],T=e[12],C=e[13],P=e[14],j=e[15];let D=n[0],U=n[1],L=n[2],O=n[3];return t[0]=D*r+U*c+L*m+O*T,t[1]=D*s+U*f+L*x+O*C,t[2]=D*o+U*h+L*w+O*P,t[3]=D*l+U*p+L*E+O*j,D=n[4],U=n[5],L=n[6],O=n[7],t[4]=D*r+U*c+L*m+O*T,t[5]=D*s+U*f+L*x+O*C,t[6]=D*o+U*h+L*w+O*P,t[7]=D*l+U*p+L*E+O*j,D=n[8],U=n[9],L=n[10],O=n[11],t[8]=D*r+U*c+L*m+O*T,t[9]=D*s+U*f+L*x+O*C,t[10]=D*o+U*h+L*w+O*P,t[11]=D*l+U*p+L*E+O*j,D=n[12],U=n[13],L=n[14],O=n[15],t[12]=D*r+U*c+L*m+O*T,t[13]=D*s+U*f+L*x+O*C,t[14]=D*o+U*h+L*w+O*P,t[15]=D*l+U*p+L*E+O*j,t}function cy(t,e,n){const r=n[0],s=n[1],o=n[2];let l,c,f,h,p,m,x,w,E,T,C,P;return e===t?(t[12]=e[0]*r+e[4]*s+e[8]*o+e[12],t[13]=e[1]*r+e[5]*s+e[9]*o+e[13],t[14]=e[2]*r+e[6]*s+e[10]*o+e[14],t[15]=e[3]*r+e[7]*s+e[11]*o+e[15]):(l=e[0],c=e[1],f=e[2],h=e[3],p=e[4],m=e[5],x=e[6],w=e[7],E=e[8],T=e[9],C=e[10],P=e[11],t[0]=l,t[1]=c,t[2]=f,t[3]=h,t[4]=p,t[5]=m,t[6]=x,t[7]=w,t[8]=E,t[9]=T,t[10]=C,t[11]=P,t[12]=l*r+p*s+E*o+e[12],t[13]=c*r+m*s+T*o+e[13],t[14]=f*r+x*s+C*o+e[14],t[15]=h*r+w*s+P*o+e[15]),t}function hT(t,e,n){const r=n[0],s=n[1],o=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*s,t[5]=e[5]*s,t[6]=e[6]*s,t[7]=e[7]*s,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function zee(t,e,n,r){let s=r[0],o=r[1],l=r[2],c=Math.sqrt(s*s+o*o+l*l),f,h,p,m,x,w,E,T,C,P,j,D,U,L,O,Y,ne,Q,K,G,ue,me,le,ye;return c<_x?null:(c=1/c,s*=c,o*=c,l*=c,h=Math.sin(n),f=Math.cos(n),p=1-f,m=e[0],x=e[1],w=e[2],E=e[3],T=e[4],C=e[5],P=e[6],j=e[7],D=e[8],U=e[9],L=e[10],O=e[11],Y=s*s*p+f,ne=o*s*p+l*h,Q=l*s*p-o*h,K=s*o*p-l*h,G=o*o*p+f,ue=l*o*p+s*h,me=s*l*p+o*h,le=o*l*p-s*h,ye=l*l*p+f,t[0]=m*Y+T*ne+D*Q,t[1]=x*Y+C*ne+U*Q,t[2]=w*Y+P*ne+L*Q,t[3]=E*Y+j*ne+O*Q,t[4]=m*K+T*G+D*ue,t[5]=x*K+C*G+U*ue,t[6]=w*K+P*G+L*ue,t[7]=E*K+j*G+O*ue,t[8]=m*me+T*le+D*ye,t[9]=x*me+C*le+U*ye,t[10]=w*me+P*le+L*ye,t[11]=E*me+j*le+O*ye,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function NF(t,e,n){const r=Math.sin(n),s=Math.cos(n),o=e[4],l=e[5],c=e[6],f=e[7],h=e[8],p=e[9],m=e[10],x=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*s+h*r,t[5]=l*s+p*r,t[6]=c*s+m*r,t[7]=f*s+x*r,t[8]=h*s-o*r,t[9]=p*s-l*r,t[10]=m*s-c*r,t[11]=x*s-f*r,t}function $ee(t,e,n){const r=Math.sin(n),s=Math.cos(n),o=e[0],l=e[1],c=e[2],f=e[3],h=e[8],p=e[9],m=e[10],x=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*s-h*r,t[1]=l*s-p*r,t[2]=c*s-m*r,t[3]=f*s-x*r,t[8]=o*r+h*s,t[9]=l*r+p*s,t[10]=c*r+m*s,t[11]=f*r+x*s,t}function SF(t,e,n){const r=Math.sin(n),s=Math.cos(n),o=e[0],l=e[1],c=e[2],f=e[3],h=e[4],p=e[5],m=e[6],x=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*s+h*r,t[1]=l*s+p*r,t[2]=c*s+m*r,t[3]=f*s+x*r,t[4]=h*s-o*r,t[5]=p*s-l*r,t[6]=m*s-c*r,t[7]=x*s-f*r,t}function Hee(t,e){const n=e[0],r=e[1],s=e[2],o=e[3],l=n+n,c=r+r,f=s+s,h=n*l,p=r*l,m=r*c,x=s*l,w=s*c,E=s*f,T=o*l,C=o*c,P=o*f;return t[0]=1-m-E,t[1]=p+P,t[2]=x-C,t[3]=0,t[4]=p-P,t[5]=1-h-E,t[6]=w+T,t[7]=0,t[8]=x+C,t[9]=w-T,t[10]=1-h-m,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Wee(t,e,n,r,s,o,l){const c=1/(n-e),f=1/(s-r),h=1/(o-l);return t[0]=o*2*c,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o*2*f,t[6]=0,t[7]=0,t[8]=(n+e)*c,t[9]=(s+r)*f,t[10]=(l+o)*h,t[11]=-1,t[12]=0,t[13]=0,t[14]=l*o*2*h,t[15]=0,t}function qee(t,e,n,r,s){const o=1/Math.tan(e/2);if(t[0]=o/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,s!=null&&s!==1/0){const l=1/(r-s);t[10]=(s+r)*l,t[14]=2*s*r*l}else t[10]=-1,t[14]=-2*r;return t}const Xee=qee;function Yee(t,e,n,r,s,o,l){const c=1/(e-n),f=1/(r-s),h=1/(o-l);return t[0]=-2*c,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*f,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*h,t[11]=0,t[12]=(e+n)*c,t[13]=(s+r)*f,t[14]=(l+o)*h,t[15]=1,t}const Kee=Yee;function Zee(t,e,n,r){let s,o,l,c,f,h,p,m,x,w;const E=e[0],T=e[1],C=e[2],P=r[0],j=r[1],D=r[2],U=n[0],L=n[1],O=n[2];return Math.abs(E-U)<_x&&Math.abs(T-L)<_x&&Math.abs(C-O)<_x?Fee(t):(m=E-U,x=T-L,w=C-O,s=1/Math.sqrt(m*m+x*x+w*w),m*=s,x*=s,w*=s,o=j*w-D*x,l=D*m-P*w,c=P*x-j*m,s=Math.sqrt(o*o+l*l+c*c),s?(s=1/s,o*=s,l*=s,c*=s):(o=0,l=0,c=0),f=x*c-w*l,h=w*o-m*c,p=m*l-x*o,s=Math.sqrt(f*f+h*h+p*p),s?(s=1/s,f*=s,h*=s,p*=s):(f=0,h=0,p=0),t[0]=o,t[1]=f,t[2]=m,t[3]=0,t[4]=l,t[5]=h,t[6]=x,t[7]=0,t[8]=c,t[9]=p,t[10]=w,t[11]=0,t[12]=-(o*E+l*T+c*C),t[13]=-(f*E+h*T+p*C),t[14]=-(m*E+x*T+w*C),t[15]=1,t)}function Qee(){const t=new wd(4);return wd!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function Gee(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t}function Tm(t,e,n){const r=e[0],s=e[1],o=e[2],l=e[3];return t[0]=n[0]*r+n[4]*s+n[8]*o+n[12]*l,t[1]=n[1]*r+n[5]*s+n[9]*o+n[13]*l,t[2]=n[2]*r+n[6]*s+n[10]*o+n[14]*l,t[3]=n[3]*r+n[7]*s+n[11]*o+n[15]*l,t}(function(){const t=Qee();return function(e,n,r,s,o,l){let c,f;for(n||(n=4),r||(r=0),s?f=Math.min(s*n+r,e.length):f=e.length,c=r;c<f;c+=n)t[0]=e[c],t[1]=e[c+1],t[2]=e[c+2],t[3]=e[c+3],o(t,t,l),e[c]=t[0],e[c+1]=t[1],e[c+2]=t[2],e[c+3]=t[3];return e}})();var ES;(function(t){t[t.COL0ROW0=0]="COL0ROW0",t[t.COL0ROW1=1]="COL0ROW1",t[t.COL0ROW2=2]="COL0ROW2",t[t.COL0ROW3=3]="COL0ROW3",t[t.COL1ROW0=4]="COL1ROW0",t[t.COL1ROW1=5]="COL1ROW1",t[t.COL1ROW2=6]="COL1ROW2",t[t.COL1ROW3=7]="COL1ROW3",t[t.COL2ROW0=8]="COL2ROW0",t[t.COL2ROW1=9]="COL2ROW1",t[t.COL2ROW2=10]="COL2ROW2",t[t.COL2ROW3=11]="COL2ROW3",t[t.COL3ROW0=12]="COL3ROW0",t[t.COL3ROW1=13]="COL3ROW1",t[t.COL3ROW2=14]="COL3ROW2",t[t.COL3ROW3=15]="COL3ROW3"})(ES||(ES={}));const Jee=45*Math.PI/180,ete=1,V1=.1,F1=500,tte=Object.freeze([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);class Lo extends Vee{static get IDENTITY(){return rte()}static get ZERO(){return nte()}get ELEMENTS(){return 16}get RANK(){return 4}get INDICES(){return ES}constructor(e){super(-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0),arguments.length===1&&Array.isArray(e)?this.copy(e):this.identity()}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this[4]=e[4],this[5]=e[5],this[6]=e[6],this[7]=e[7],this[8]=e[8],this[9]=e[9],this[10]=e[10],this[11]=e[11],this[12]=e[12],this[13]=e[13],this[14]=e[14],this[15]=e[15],this.check()}set(e,n,r,s,o,l,c,f,h,p,m,x,w,E,T,C){return this[0]=e,this[1]=n,this[2]=r,this[3]=s,this[4]=o,this[5]=l,this[6]=c,this[7]=f,this[8]=h,this[9]=p,this[10]=m,this[11]=x,this[12]=w,this[13]=E,this[14]=T,this[15]=C,this.check()}setRowMajor(e,n,r,s,o,l,c,f,h,p,m,x,w,E,T,C){return this[0]=e,this[1]=o,this[2]=h,this[3]=w,this[4]=n,this[5]=l,this[6]=p,this[7]=E,this[8]=r,this[9]=c,this[10]=m,this[11]=T,this[12]=s,this[13]=f,this[14]=x,this[15]=C,this.check()}toRowMajor(e){return e[0]=this[0],e[1]=this[4],e[2]=this[8],e[3]=this[12],e[4]=this[1],e[5]=this[5],e[6]=this[9],e[7]=this[13],e[8]=this[2],e[9]=this[6],e[10]=this[10],e[11]=this[14],e[12]=this[3],e[13]=this[7],e[14]=this[11],e[15]=this[15],e}identity(){return this.copy(tte)}fromObject(e){return this.check()}fromQuaternion(e){return Hee(this,e),this.check()}frustum(e){const{left:n,right:r,bottom:s,top:o,near:l=V1,far:c=F1}=e;return c===1/0?ste(this,n,r,s,o,l):Wee(this,n,r,s,o,l,c),this.check()}lookAt(e){const{eye:n,center:r=[0,0,0],up:s=[0,1,0]}=e;return Zee(this,n,r,s),this.check()}ortho(e){const{left:n,right:r,bottom:s,top:o,near:l=V1,far:c=F1}=e;return Kee(this,n,r,s,o,l,c),this.check()}orthographic(e){const{fovy:n=Jee,aspect:r=ete,focalDistance:s=1,near:o=V1,far:l=F1}=e;ej(n);const c=n/2,f=s*Math.tan(c),h=f*r;return this.ortho({left:-h,right:h,bottom:-f,top:f,near:o,far:l})}perspective(e){const{fovy:n=45*Math.PI/180,aspect:r=1,near:s=.1,far:o=500}=e;return ej(n),Xee(this,n,r,s,o),this.check()}determinant(){return Lee(this)}getScale(e=[-0,-0,-0]){return e[0]=Math.sqrt(this[0]*this[0]+this[1]*this[1]+this[2]*this[2]),e[1]=Math.sqrt(this[4]*this[4]+this[5]*this[5]+this[6]*this[6]),e[2]=Math.sqrt(this[8]*this[8]+this[9]*this[9]+this[10]*this[10]),e}getTranslation(e=[-0,-0,-0]){return e[0]=this[12],e[1]=this[13],e[2]=this[14],e}getRotation(e,n){e=e||[-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0],n=n||[-0,-0,-0];const r=this.getScale(n),s=1/r[0],o=1/r[1],l=1/r[2];return e[0]=this[0]*s,e[1]=this[1]*o,e[2]=this[2]*l,e[3]=0,e[4]=this[4]*s,e[5]=this[5]*o,e[6]=this[6]*l,e[7]=0,e[8]=this[8]*s,e[9]=this[9]*o,e[10]=this[10]*l,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}getRotationMatrix3(e,n){e=e||[-0,-0,-0,-0,-0,-0,-0,-0,-0],n=n||[-0,-0,-0];const r=this.getScale(n),s=1/r[0],o=1/r[1],l=1/r[2];return e[0]=this[0]*s,e[1]=this[1]*o,e[2]=this[2]*l,e[3]=this[4]*s,e[4]=this[5]*o,e[5]=this[6]*l,e[6]=this[8]*s,e[7]=this[9]*o,e[8]=this[10]*l,e}transpose(){return Bee(this,this),this.check()}invert(){return SS(this,this),this.check()}multiplyLeft(e){return Zc(this,e,this),this.check()}multiplyRight(e){return Zc(this,this,e),this.check()}rotateX(e){return NF(this,this,e),this.check()}rotateY(e){return $ee(this,this,e),this.check()}rotateZ(e){return SF(this,this,e),this.check()}rotateXYZ(e){return this.rotateX(e[0]).rotateY(e[1]).rotateZ(e[2])}rotateAxis(e,n){return zee(this,this,e,n),this.check()}scale(e){return hT(this,this,Array.isArray(e)?e:[e,e,e]),this.check()}translate(e){return cy(this,this,e),this.check()}transform(e,n){return e.length===4?(n=Tm(n||[-0,-0,-0,-0],e,this),O1(n,4),n):this.transformAsPoint(e,n)}transformAsPoint(e,n){const{length:r}=e;let s;switch(r){case 2:s=Nee(n||[-0,-0],e,this);break;case 3:s=_F(n||[-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return O1(s,e.length),s}transformAsVector(e,n){let r;switch(e.length){case 2:r=See(n||[-0,-0],e,this);break;case 3:r=wF(n||[-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return O1(r,e.length),r}transformPoint(e,n){return this.transformAsPoint(e,n)}transformVector(e,n){return this.transformAsPoint(e,n)}transformDirection(e,n){return this.transformAsVector(e,n)}makeRotationX(e){return this.identity().rotateX(e)}makeTranslation(e,n,r){return this.identity().translate([e,n,r])}}let Qb,Gb;function nte(){return Qb||(Qb=new Lo([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Object.freeze(Qb)),Qb}function rte(){return Gb||(Gb=new Lo,Object.freeze(Gb)),Gb}function ej(t){if(t>Math.PI*2)throw Error("expected radians")}function ste(t,e,n,r,s,o){const l=2*o/(n-e),c=2*o/(s-r),f=(n+e)/(n-e),h=(s+r)/(s-r),p=-1,m=-1,x=-2*o;return t[0]=l,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=f,t[9]=h,t[10]=p,t[11]=m,t[12]=0,t[13]=0,t[14]=x,t[15]=0,t}function EF(t,e=[],n=0){const r=Math.fround(t),s=t-r;return e[n]=r,e[n+1]=s,e}function ite(t){return t-Math.fround(t)}function ote(t){const e=new Float32Array(32);for(let n=0;n<4;++n)for(let r=0;r<4;++r){const s=n*4+r;EF(t[r*4+n],e,s*2)}return e}const ate=`#ifdef LUMA_FP32_TAN_PRECISION_WORKAROUND

// All these functions are for substituting tan() function from Intel GPU only
const float TWO_PI = 6.2831854820251465;
const float PI_2 = 1.5707963705062866;
const float PI_16 = 0.1963495463132858;

const float SIN_TABLE_0 = 0.19509032368659973;
const float SIN_TABLE_1 = 0.3826834261417389;
const float SIN_TABLE_2 = 0.5555702447891235;
const float SIN_TABLE_3 = 0.7071067690849304;

const float COS_TABLE_0 = 0.9807852506637573;
const float COS_TABLE_1 = 0.9238795042037964;
const float COS_TABLE_2 = 0.8314695954322815;
const float COS_TABLE_3 = 0.7071067690849304;

const float INVERSE_FACTORIAL_3 = 1.666666716337204e-01; // 1/3!
const float INVERSE_FACTORIAL_5 = 8.333333767950535e-03; // 1/5!
const float INVERSE_FACTORIAL_7 = 1.9841270113829523e-04; // 1/7!
const float INVERSE_FACTORIAL_9 = 2.75573188446287533e-06; // 1/9!

float sin_taylor_fp32(float a) {
  float r, s, t, x;

  if (a == 0.0) {
    return 0.0;
  }

  x = -a * a;
  s = a;
  r = a;

  r = r * x;
  t = r * INVERSE_FACTORIAL_3;
  s = s + t;

  r = r * x;
  t = r * INVERSE_FACTORIAL_5;
  s = s + t;

  r = r * x;
  t = r * INVERSE_FACTORIAL_7;
  s = s + t;

  r = r * x;
  t = r * INVERSE_FACTORIAL_9;
  s = s + t;

  return s;
}

void sincos_taylor_fp32(float a, out float sin_t, out float cos_t) {
  if (a == 0.0) {
    sin_t = 0.0;
    cos_t = 1.0;
  }
  sin_t = sin_taylor_fp32(a);
  cos_t = sqrt(1.0 - sin_t * sin_t);
}

float tan_taylor_fp32(float a) {
    float sin_a;
    float cos_a;

    if (a == 0.0) {
        return 0.0;
    }

    // 2pi range reduction
    float z = floor(a / TWO_PI);
    float r = a - TWO_PI * z;

    float t;
    float q = floor(r / PI_2 + 0.5);
    int j = int(q);

    if (j < -2 || j > 2) {
        return 1.0 / 0.0;
    }

    t = r - PI_2 * q;

    q = floor(t / PI_16 + 0.5);
    int k = int(q);
    int abs_k = int(abs(float(k)));

    if (abs_k > 4) {
        return 1.0 / 0.0;
    } else {
        t = t - PI_16 * q;
    }

    float u = 0.0;
    float v = 0.0;

    float sin_t, cos_t;
    float s, c;
    sincos_taylor_fp32(t, sin_t, cos_t);

    if (k == 0) {
        s = sin_t;
        c = cos_t;
    } else {
        if (abs(float(abs_k) - 1.0) < 0.5) {
            u = COS_TABLE_0;
            v = SIN_TABLE_0;
        } else if (abs(float(abs_k) - 2.0) < 0.5) {
            u = COS_TABLE_1;
            v = SIN_TABLE_1;
        } else if (abs(float(abs_k) - 3.0) < 0.5) {
            u = COS_TABLE_2;
            v = SIN_TABLE_2;
        } else if (abs(float(abs_k) - 4.0) < 0.5) {
            u = COS_TABLE_3;
            v = SIN_TABLE_3;
        }
        if (k > 0) {
            s = u * sin_t + v * cos_t;
            c = u * cos_t - v * sin_t;
        } else {
            s = u * sin_t - v * cos_t;
            c = u * cos_t + v * sin_t;
        }
    }

    if (j == 0) {
        sin_a = s;
        cos_a = c;
    } else if (j == 1) {
        sin_a = c;
        cos_a = -s;
    } else if (j == -1) {
        sin_a = -c;
        cos_a = s;
    } else {
        sin_a = -s;
        cos_a = -c;
    }
    return sin_a / cos_a;
}
#endif

float tan_fp32(float a) {
#ifdef LUMA_FP32_TAN_PRECISION_WORKAROUND
  return tan_taylor_fp32(a);
#else
  return tan(a);
#endif
}
`,lte={name:"fp32",vs:ate},cte=`
uniform fp64arithmeticUniforms {
  uniform float ONE;
} fp64;

/*
About LUMA_FP64_CODE_ELIMINATION_WORKAROUND

The purpose of this workaround is to prevent shader compilers from
optimizing away necessary arithmetic operations by swapping their sequences
or transform the equation to some 'equivalent' form.

The method is to multiply an artifical variable, ONE, which will be known to
the compiler to be 1 only at runtime. The whole expression is then represented
as a polynomial with respective to ONE. In the coefficients of all terms, only one a
and one b should appear

err = (a + b) * ONE^6 - a * ONE^5 - (a + b) * ONE^4 + a * ONE^3 - b - (a + b) * ONE^2 + a * ONE
*/

// Divide float number to high and low floats to extend fraction bits
vec2 split(float a) {
  const float SPLIT = 4097.0;
  float t = a * SPLIT;
#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)
  float a_hi = t * fp64.ONE - (t - a);
  float a_lo = a * fp64.ONE - a_hi;
#else
  float a_hi = t - (t - a);
  float a_lo = a - a_hi;
#endif
  return vec2(a_hi, a_lo);
}

// Divide float number again when high float uses too many fraction bits
vec2 split2(vec2 a) {
  vec2 b = split(a.x);
  b.y += a.y;
  return b;
}

// Special sum operation when a > b
vec2 quickTwoSum(float a, float b) {
#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)
  float sum = (a + b) * fp64.ONE;
  float err = b - (sum - a) * fp64.ONE;
#else
  float sum = a + b;
  float err = b - (sum - a);
#endif
  return vec2(sum, err);
}

// General sum operation
vec2 twoSum(float a, float b) {
  float s = (a + b);
#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)
  float v = (s * fp64.ONE - a) * fp64.ONE;
  float err = (a - (s - v) * fp64.ONE) * fp64.ONE * fp64.ONE * fp64.ONE + (b - v);
#else
  float v = s - a;
  float err = (a - (s - v)) + (b - v);
#endif
  return vec2(s, err);
}

vec2 twoSub(float a, float b) {
  float s = (a - b);
#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)
  float v = (s * fp64.ONE - a) * fp64.ONE;
  float err = (a - (s - v) * fp64.ONE) * fp64.ONE * fp64.ONE * fp64.ONE - (b + v);
#else
  float v = s - a;
  float err = (a - (s - v)) - (b + v);
#endif
  return vec2(s, err);
}

vec2 twoSqr(float a) {
  float prod = a * a;
  vec2 a_fp64 = split(a);
#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)
  float err = ((a_fp64.x * a_fp64.x - prod) * fp64.ONE + 2.0 * a_fp64.x *
    a_fp64.y * fp64.ONE * fp64.ONE) + a_fp64.y * a_fp64.y * fp64.ONE * fp64.ONE * fp64.ONE;
#else
  float err = ((a_fp64.x * a_fp64.x - prod) + 2.0 * a_fp64.x * a_fp64.y) + a_fp64.y * a_fp64.y;
#endif
  return vec2(prod, err);
}

vec2 twoProd(float a, float b) {
  float prod = a * b;
  vec2 a_fp64 = split(a);
  vec2 b_fp64 = split(b);
  float err = ((a_fp64.x * b_fp64.x - prod) + a_fp64.x * b_fp64.y +
    a_fp64.y * b_fp64.x) + a_fp64.y * b_fp64.y;
  return vec2(prod, err);
}

vec2 sum_fp64(vec2 a, vec2 b) {
  vec2 s, t;
  s = twoSum(a.x, b.x);
  t = twoSum(a.y, b.y);
  s.y += t.x;
  s = quickTwoSum(s.x, s.y);
  s.y += t.y;
  s = quickTwoSum(s.x, s.y);
  return s;
}

vec2 sub_fp64(vec2 a, vec2 b) {
  vec2 s, t;
  s = twoSub(a.x, b.x);
  t = twoSub(a.y, b.y);
  s.y += t.x;
  s = quickTwoSum(s.x, s.y);
  s.y += t.y;
  s = quickTwoSum(s.x, s.y);
  return s;
}

vec2 mul_fp64(vec2 a, vec2 b) {
  vec2 prod = twoProd(a.x, b.x);
  // y component is for the error
  prod.y += a.x * b.y;
#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)
  prod = split2(prod);
#endif
  prod = quickTwoSum(prod.x, prod.y);
  prod.y += a.y * b.x;
#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)
  prod = split2(prod);
#endif
  prod = quickTwoSum(prod.x, prod.y);
  return prod;
}

vec2 div_fp64(vec2 a, vec2 b) {
  float xn = 1.0 / b.x;
#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)
  vec2 yn = mul_fp64(a, vec2(xn, 0));
#else
  vec2 yn = a * xn;
#endif
  float diff = (sub_fp64(a, mul_fp64(b, yn))).x;
  vec2 prod = twoProd(xn, diff);
  return sum_fp64(yn, prod);
}

vec2 sqrt_fp64(vec2 a) {
  if (a.x == 0.0 && a.y == 0.0) return vec2(0.0, 0.0);
  if (a.x < 0.0) return vec2(0.0 / 0.0, 0.0 / 0.0);

  float x = 1.0 / sqrt(a.x);
  float yn = a.x * x;
#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)
  vec2 yn_sqr = twoSqr(yn) * fp64.ONE;
#else
  vec2 yn_sqr = twoSqr(yn);
#endif
  float diff = sub_fp64(a, yn_sqr).x;
  vec2 prod = twoProd(x * 0.5, diff);
#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)
  return sum_fp64(split(yn), prod);
#else
  return sum_fp64(vec2(yn, 0.0), prod);
#endif
}
`,ute={ONE:1},fte={name:"fp64arithmetic",vs:cte,defaultUniforms:ute,uniformTypes:{ONE:"f32"},fp64ify:EF,fp64LowPart:ite,fp64ifyMatrix4:ote},dte=[0,1,1,1],hte=`uniform pickingUniforms {
  float isActive;
  float isAttribute;
  float isHighlightActive;
  float useFloatColors;
  vec3 highlightedObjectColor;
  vec4 highlightColor;
} picking;

out vec4 picking_vRGBcolor_Avalid;

// Normalize unsigned byte color to 0-1 range
vec3 picking_normalizeColor(vec3 color) {
  return picking.useFloatColors > 0.5 ? color : color / 255.0;
}

// Normalize unsigned byte color to 0-1 range
vec4 picking_normalizeColor(vec4 color) {
  return picking.useFloatColors > 0.5 ? color : color / 255.0;
}

bool picking_isColorZero(vec3 color) {
  return dot(color, vec3(1.0)) < 0.00001;
}

bool picking_isColorValid(vec3 color) {
  return dot(color, vec3(1.0)) > 0.00001;
}

// Check if this vertex is highlighted 
bool isVertexHighlighted(vec3 vertexColor) {
  vec3 highlightedObjectColor = picking_normalizeColor(picking.highlightedObjectColor);
  return
    bool(picking.isHighlightActive) && picking_isColorZero(abs(vertexColor - highlightedObjectColor));
}

// Set the current picking color
void picking_setPickingColor(vec3 pickingColor) {
  pickingColor = picking_normalizeColor(pickingColor);

  if (bool(picking.isActive)) {
    // Use alpha as the validity flag. If pickingColor is [0, 0, 0] fragment is non-pickable
    picking_vRGBcolor_Avalid.a = float(picking_isColorValid(pickingColor));

    if (!bool(picking.isAttribute)) {
      // Stores the picking color so that the fragment shader can render it during picking
      picking_vRGBcolor_Avalid.rgb = pickingColor;
    }
  } else {
    // Do the comparison with selected item color in vertex shader as it should mean fewer compares
    picking_vRGBcolor_Avalid.a = float(isVertexHighlighted(pickingColor));
  }
}

void picking_setPickingAttribute(float value) {
  if (bool(picking.isAttribute)) {
    picking_vRGBcolor_Avalid.r = value;
  }
}

void picking_setPickingAttribute(vec2 value) {
  if (bool(picking.isAttribute)) {
    picking_vRGBcolor_Avalid.rg = value;
  }
}

void picking_setPickingAttribute(vec3 value) {
  if (bool(picking.isAttribute)) {
    picking_vRGBcolor_Avalid.rgb = value;
  }
}
`,pte=`uniform pickingUniforms {
  float isActive;
  float isAttribute;
  float isHighlightActive;
  float useFloatColors;
  vec3 highlightedObjectColor;
  vec4 highlightColor;
} picking;

in vec4 picking_vRGBcolor_Avalid;

/*
 * Returns highlight color if this item is selected.
 */
vec4 picking_filterHighlightColor(vec4 color) {
  // If we are still picking, we don't highlight
  if (picking.isActive > 0.5) {
    return color;
  }

  bool selected = bool(picking_vRGBcolor_Avalid.a);

  if (selected) {
    // Blend in highlight color based on its alpha value
    float highLightAlpha = picking.highlightColor.a;
    float blendedAlpha = highLightAlpha + color.a * (1.0 - highLightAlpha);
    float highLightRatio = highLightAlpha / blendedAlpha;

    vec3 blendedRGB = mix(color.rgb, picking.highlightColor.rgb, highLightRatio);
    return vec4(blendedRGB, blendedAlpha);
  } else {
    return color;
  }
}

/*
 * Returns picking color if picking enabled else unmodified argument.
 */
vec4 picking_filterPickingColor(vec4 color) {
  if (bool(picking.isActive)) {
    if (picking_vRGBcolor_Avalid.a == 0.0) {
      discard;
    }
    return picking_vRGBcolor_Avalid;
  }
  return color;
}

/*
 * Returns picking color if picking is enabled if not
 * highlight color if this item is selected, otherwise unmodified argument.
 */
vec4 picking_filterColor(vec4 color) {
  vec4 highlightColor = picking_filterHighlightColor(color);
  return picking_filterPickingColor(highlightColor);
}
`,tj={props:{},uniforms:{},name:"picking",uniformTypes:{isActive:"f32",isAttribute:"f32",isHighlightActive:"f32",useFloatColors:"f32",highlightedObjectColor:"vec3<f32>",highlightColor:"vec4<f32>"},defaultUniforms:{isActive:!1,isAttribute:!1,isHighlightActive:!1,useFloatColors:!0,highlightedObjectColor:[0,0,0],highlightColor:dte},vs:hte,fs:pte,getUniforms:mte};function mte(t={},e){const n={};if(t.highlightedObjectColor!==void 0)if(t.highlightedObjectColor===null)n.isHighlightActive=!1;else{n.isHighlightActive=!0;const r=t.highlightedObjectColor.slice(0,3);n.highlightedObjectColor=r}if(t.highlightColor){const r=Array.from(t.highlightColor,s=>s/255);Number.isFinite(r[3])||(r[3]=1),n.highlightColor=r}return t.isActive!==void 0&&(n.isActive=!!t.isActive,n.isAttribute=!!t.isAttribute),t.useFloatColors!==void 0&&(n.useFloatColors=!!t.useFloatColors),n}const nj=`uniform layerUniforms {
  uniform float opacity;
} layer;
`,gte={name:"layer",vs:nj,fs:nj,getUniforms:t=>({opacity:Math.pow(t.opacity,1/2.2)}),uniformTypes:{opacity:"f32"}},bte=`const SMOOTH_EDGE_RADIUS: f32 = 0.5;

struct VertexGeometry {
  position: vec4<f32>,
  worldPosition: vec3<f32>,
  worldPositionAlt: vec3<f32>,
  normal: vec3<f32>,
  uv: vec2<f32>,
  pickingColor: vec3<f32>,
};

var<private> geometry_: VertexGeometry = VertexGeometry(
  vec4<f32>(0.0, 0.0, 1.0, 0.0),
  vec3<f32>(0.0, 0.0, 0.0),
  vec3<f32>(0.0, 0.0, 0.0),
  vec3<f32>(0.0, 0.0, 0.0),
  vec2<f32>(0.0, 0.0),
  vec3<f32>(0.0, 0.0, 0.0)
);

struct FragmentGeometry {
  uv: vec2<f32>,
};

var<private> fragmentGeometry: FragmentGeometry;

fn smoothedge(edge: f32, x: f32) -> f32 {
  return smoothstep(edge - SMOOTH_EDGE_RADIUS, edge + SMOOTH_EDGE_RADIUS, x);
}
`,TF="#define SMOOTH_EDGE_RADIUS 0.5",xte=`${TF}

struct VertexGeometry {
  vec4 position;
  vec3 worldPosition;
  vec3 worldPositionAlt;
  vec3 normal;
  vec2 uv;
  vec3 pickingColor;
} geometry = VertexGeometry(
  vec4(0.0, 0.0, 1.0, 0.0),
  vec3(0.0),
  vec3(0.0),
  vec3(0.0),
  vec2(0.0),
  vec3(0.0)
);
`,yte=`${TF}

struct FragmentGeometry {
  vec2 uv;
} geometry;

float smoothedge(float edge, float x) {
  return smoothstep(edge - SMOOTH_EDGE_RADIUS, edge + SMOOTH_EDGE_RADIUS, x);
}
`,AF={name:"geometry",source:bte,vs:xte,fs:yte},vte=25;var Pr;(function(t){t[t.Start=1]="Start",t[t.Move=2]="Move",t[t.End=4]="End",t[t.Cancel=8]="Cancel"})(Pr||(Pr={}));var Fr;(function(t){t[t.None=0]="None",t[t.Left=1]="Left",t[t.Right=2]="Right",t[t.Up=4]="Up",t[t.Down=8]="Down",t[t.Horizontal=3]="Horizontal",t[t.Vertical=12]="Vertical",t[t.All=15]="All"})(Fr||(Fr={}));var Zt;(function(t){t[t.Possible=1]="Possible",t[t.Began=2]="Began",t[t.Changed=4]="Changed",t[t.Ended=8]="Ended",t[t.Recognized=8]="Recognized",t[t.Cancelled=16]="Cancelled",t[t.Failed=32]="Failed"})(Zt||(Zt={}));const wte="compute",_te="auto",TS="manipulation",Nx="none",AS="pan-x",CS="pan-y";function Nte(t){if(t.includes(Nx))return Nx;const e=t.includes(AS),n=t.includes(CS);return e&&n?Nx:e||n?e?AS:CS:t.includes(TS)?TS:_te}class Ste{constructor(e,n){this.actions="",this.manager=e,this.set(n)}set(e){e===wte&&(e=this.compute()),this.manager.element&&(this.manager.element.style.touchAction=e,this.actions=e)}update(){this.set(this.manager.options.touchAction)}compute(){let e=[];for(const n of this.manager.recognizers)n.options.enable&&(e=e.concat(n.getTouchAction()));return Nte(e.join(" "))}}function uy(t){return t.trim().split(/\s+/g)}function B1(t,e,n){if(t)for(const r of uy(e))t.addEventListener(r,n,!1)}function L1(t,e,n){if(t)for(const r of uy(e))t.removeEventListener(r,n,!1)}function rj(t){return(t.ownerDocument||t).defaultView}function Ete(t,e){let n=t;for(;n;){if(n===e)return!0;n=n.parentNode}return!1}function CF(t){const e=t.length;if(e===1)return{x:Math.round(t[0].clientX),y:Math.round(t[0].clientY)};let n=0,r=0,s=0;for(;s<e;)n+=t[s].clientX,r+=t[s].clientY,s++;return{x:Math.round(n/e),y:Math.round(r/e)}}function sj(t){const e=[];let n=0;for(;n<t.pointers.length;)e[n]={clientX:Math.round(t.pointers[n].clientX),clientY:Math.round(t.pointers[n].clientY)},n++;return{timeStamp:Date.now(),pointers:e,center:CF(e),deltaX:t.deltaX,deltaY:t.deltaY}}function RF(t,e){const n=e.x-t.x,r=e.y-t.y;return Math.sqrt(n*n+r*r)}function ij(t,e){const n=e.clientX-t.clientX,r=e.clientY-t.clientY;return Math.sqrt(n*n+r*r)}function Tte(t,e){const n=e.x-t.x,r=e.y-t.y;return Math.atan2(r,n)*180/Math.PI}function oj(t,e){const n=e.clientX-t.clientX,r=e.clientY-t.clientY;return Math.atan2(r,n)*180/Math.PI}function kF(t,e){return t===e?Fr.None:Math.abs(t)>=Math.abs(e)?t<0?Fr.Left:Fr.Right:e<0?Fr.Up:Fr.Down}function Ate(t,e){const n=e.center;let r=t.offsetDelta,s=t.prevDelta;const o=t.prevInput;return(e.eventType===Pr.Start||(o==null?void 0:o.eventType)===Pr.End)&&(s=t.prevDelta={x:(o==null?void 0:o.deltaX)||0,y:(o==null?void 0:o.deltaY)||0},r=t.offsetDelta={x:n.x,y:n.y}),{deltaX:s.x+(n.x-r.x),deltaY:s.y+(n.y-r.y)}}function DF(t,e,n){return{x:e/t||0,y:n/t||0}}function Cte(t,e){return ij(e[0],e[1])/ij(t[0],t[1])}function Rte(t,e){return oj(e[1],e[0])-oj(t[1],t[0])}function kte(t,e){const n=t.lastInterval||e,r=e.timeStamp-n.timeStamp;let s,o,l,c;if(e.eventType!==Pr.Cancel&&(r>vte||n.velocity===void 0)){const f=e.deltaX-n.deltaX,h=e.deltaY-n.deltaY,p=DF(r,f,h);o=p.x,l=p.y,s=Math.abs(p.x)>Math.abs(p.y)?p.x:p.y,c=kF(f,h),t.lastInterval=e}else s=n.velocity,o=n.velocityX,l=n.velocityY,c=n.direction;e.velocity=s,e.velocityX=o,e.velocityY=l,e.direction=c}function Dte(t,e){const{session:n}=t,{pointers:r}=e,{length:s}=r;n.firstInput||(n.firstInput=sj(e)),s>1&&!n.firstMultiple?n.firstMultiple=sj(e):s===1&&(n.firstMultiple=!1);const{firstInput:o,firstMultiple:l}=n,c=l?l.center:o.center,f=e.center=CF(r);e.timeStamp=Date.now(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=Tte(c,f),e.distance=RF(c,f);const{deltaX:h,deltaY:p}=Ate(n,e);e.deltaX=h,e.deltaY=p,e.offsetDirection=kF(e.deltaX,e.deltaY);const m=DF(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=m.x,e.overallVelocityY=m.y,e.overallVelocity=Math.abs(m.x)>Math.abs(m.y)?m.x:m.y,e.scale=l?Cte(l.pointers,r):1,e.rotation=l?Rte(l.pointers,r):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length;let x=t.element;return Ete(e.srcEvent.target,x)&&(x=e.srcEvent.target),e.target=x,kte(n,e),e}function Pte(t,e,n){const r=n.pointers.length,s=n.changedPointers.length,o=e&Pr.Start&&r-s===0,l=e&(Pr.End|Pr.Cancel)&&r-s===0;n.isFirst=!!o,n.isFinal=!!l,o&&(t.session={}),n.eventType=e;const c=Dte(t,n);t.emit("hammer.input",c),t.recognize(c),t.session.prevInput=c}let jte=class{constructor(e){this.evEl="",this.evWin="",this.evTarget="",this.domHandler=n=>{this.manager.options.enable&&this.handler(n)},this.manager=e,this.element=e.element,this.target=e.options.inputTarget||e.element}callback(e,n){Pte(this.manager,e,n)}init(){B1(this.element,this.evEl,this.domHandler),B1(this.target,this.evTarget,this.domHandler),B1(rj(this.element),this.evWin,this.domHandler)}destroy(){L1(this.element,this.evEl,this.domHandler),L1(this.target,this.evTarget,this.domHandler),L1(rj(this.element),this.evWin,this.domHandler)}};const Mte={pointerdown:Pr.Start,pointermove:Pr.Move,pointerup:Pr.End,pointercancel:Pr.Cancel,pointerout:Pr.Cancel},Ite="pointerdown",Ote="pointermove pointerup pointercancel";class Ute extends jte{constructor(e){super(e),this.evEl=Ite,this.evWin=Ote,this.store=this.manager.session.pointerEvents=[],this.init()}handler(e){const{store:n}=this;let r=!1;const s=Mte[e.type],o=e.pointerType,l=o==="touch";let c=n.findIndex(f=>f.pointerId===e.pointerId);s&Pr.Start&&(e.buttons||l)?c<0&&(n.push(e),c=n.length-1):s&(Pr.End|Pr.Cancel)&&(r=!0),!(c<0)&&(n[c]=e,this.callback(s,{pointers:n,changedPointers:[e],eventType:s,pointerType:o,srcEvent:e}),r&&n.splice(c,1))}}const Vte=["","webkit","Moz","MS","ms","o"];function Fte(t,e){const n=e[0].toUpperCase()+e.slice(1);for(const r of Vte){const s=r?r+n:e;if(s in t)return s}}const Bte=1,aj=2,lj={touchAction:"compute",enable:!0,inputTarget:null,cssProps:{userSelect:"none",userDrag:"none",touchCallout:"none",tapHighlightColor:"rgba(0,0,0,0)"}};class Lte{constructor(e,n){this.options={...lj,...n,cssProps:{...lj.cssProps,...n.cssProps},inputTarget:n.inputTarget||e},this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=new Ute(this),this.touchAction=new Ste(this,this.options.touchAction),this.toggleCssProps(!0)}set(e){return Object.assign(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this}stop(e){this.session.stopped=e?aj:Bte}recognize(e){const{session:n}=this;if(n.stopped)return;this.session.prevented&&e.srcEvent.preventDefault();let r;const{recognizers:s}=this;let{curRecognizer:o}=n;(!o||o&&o.state&Zt.Recognized)&&(o=n.curRecognizer=null);let l=0;for(;l<s.length;)r=s[l],n.stopped!==aj&&(!o||r===o||r.canRecognizeWith(o))?r.recognize(e):r.reset(),!o&&r.state&(Zt.Began|Zt.Changed|Zt.Ended)&&(o=n.curRecognizer=r),l++}get(e){const{recognizers:n}=this;for(let r=0;r<n.length;r++)if(n[r].options.event===e)return n[r];return null}add(e){if(Array.isArray(e)){for(const r of e)this.add(r);return this}const n=this.get(e.options.event);return n&&this.remove(n),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e}remove(e){if(Array.isArray(e)){for(const r of e)this.remove(r);return this}const n=typeof e=="string"?this.get(e):e;if(n){const{recognizers:r}=this,s=r.indexOf(n);s!==-1&&(r.splice(s,1),this.touchAction.update())}return this}on(e,n){if(!e||!n)return;const{handlers:r}=this;for(const s of uy(e))r[s]=r[s]||[],r[s].push(n)}off(e,n){if(!e)return;const{handlers:r}=this;for(const s of uy(e))n?r[s]&&r[s].splice(r[s].indexOf(n),1):delete r[s]}emit(e,n){const r=this.handlers[e]&&this.handlers[e].slice();if(!r||!r.length)return;const s=n;s.type=e,s.preventDefault=function(){n.srcEvent.preventDefault()};let o=0;for(;o<r.length;)r[o](s),o++}destroy(){this.toggleCssProps(!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}toggleCssProps(e){const{element:n}=this;if(n){for(const[r,s]of Object.entries(this.options.cssProps)){const o=Fte(n.style,r);e?(this.oldCssProps[o]=n.style[o],n.style[o]=s):n.style[o]=this.oldCssProps[o]||""}e||(this.oldCssProps={})}}}let zte=1;function $te(){return zte++}function cj(t){return t&Zt.Cancelled?"cancel":t&Zt.Ended?"end":t&Zt.Changed?"move":t&Zt.Began?"start":""}class PF{constructor(e){this.options=e,this.id=$te(),this.state=Zt.Possible,this.simultaneous={},this.requireFail=[]}set(e){return Object.assign(this.options,e),this.manager.touchAction.update(),this}recognizeWith(e){if(Array.isArray(e)){for(const s of e)this.recognizeWith(s);return this}let n;if(typeof e=="string"){if(n=this.manager.get(e),!n)throw new Error(`Cannot find recognizer ${e}`)}else n=e;const{simultaneous:r}=this;return r[n.id]||(r[n.id]=n,n.recognizeWith(this)),this}dropRecognizeWith(e){if(Array.isArray(e)){for(const r of e)this.dropRecognizeWith(r);return this}let n;return typeof e=="string"?n=this.manager.get(e):n=e,n&&delete this.simultaneous[n.id],this}requireFailure(e){if(Array.isArray(e)){for(const s of e)this.requireFailure(s);return this}let n;if(typeof e=="string"){if(n=this.manager.get(e),!n)throw new Error(`Cannot find recognizer ${e}`)}else n=e;const{requireFail:r}=this;return r.indexOf(n)===-1&&(r.push(n),n.requireFailure(this)),this}dropRequireFailure(e){if(Array.isArray(e)){for(const r of e)this.dropRequireFailure(r);return this}let n;if(typeof e=="string"?n=this.manager.get(e):n=e,n){const r=this.requireFail.indexOf(n);r>-1&&this.requireFail.splice(r,1)}return this}hasRequireFailures(){return!!this.requireFail.find(e=>e.options.enable)}canRecognizeWith(e){return!!this.simultaneous[e.id]}emit(e){if(!e)return;const{state:n}=this;n<Zt.Ended&&this.manager.emit(this.options.event+cj(n),e),this.manager.emit(this.options.event,e),e.additionalEvent&&this.manager.emit(e.additionalEvent,e),n>=Zt.Ended&&this.manager.emit(this.options.event+cj(n),e)}tryEmit(e){this.canEmit()?this.emit(e):this.state=Zt.Failed}canEmit(){let e=0;for(;e<this.requireFail.length;){if(!(this.requireFail[e].state&(Zt.Failed|Zt.Possible)))return!1;e++}return!0}recognize(e){const n={...e};if(!this.options.enable){this.reset(),this.state=Zt.Failed;return}this.state&(Zt.Recognized|Zt.Cancelled|Zt.Failed)&&(this.state=Zt.Possible),this.state=this.process(n),this.state&(Zt.Began|Zt.Changed|Zt.Ended|Zt.Cancelled)&&this.tryEmit(n)}getEventNames(){return[this.options.event]}reset(){}}class jF extends PF{attrTest(e){const n=this.options.pointers;return n===0||e.pointers.length===n}process(e){const{state:n}=this,{eventType:r}=e,s=n&(Zt.Began|Zt.Changed),o=this.attrTest(e);return s&&(r&Pr.Cancel||!o)?n|Zt.Cancelled:s||o?r&Pr.End?n|Zt.Ended:n&Zt.Began?n|Zt.Changed:Zt.Began:Zt.Failed}}class uj extends PF{constructor(e={}){super({enable:!0,event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10,...e}),this.pTime=null,this.pCenter=null,this._timer=null,this._input=null,this.count=0}getTouchAction(){return[TS]}process(e){const{options:n}=this,r=e.pointers.length===n.pointers,s=e.distance<n.threshold,o=e.deltaTime<n.time;if(this.reset(),e.eventType&Pr.Start&&this.count===0)return this.failTimeout();if(s&&o&&r){if(e.eventType!==Pr.End)return this.failTimeout();const l=this.pTime?e.timeStamp-this.pTime<n.interval:!0,c=!this.pCenter||RF(this.pCenter,e.center)<n.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,!c||!l?this.count=1:this.count+=1,this._input=e,this.count%n.taps===0)return this.hasRequireFailures()?(this._timer=setTimeout(()=>{this.state=Zt.Recognized,this.tryEmit(this._input)},n.interval),Zt.Began):Zt.Recognized}return Zt.Failed}failTimeout(){return this._timer=setTimeout(()=>{this.state=Zt.Failed},this.options.interval),Zt.Failed}reset(){clearTimeout(this._timer)}emit(e){this.state===Zt.Recognized&&(e.tapCount=this.count,this.manager.emit(this.options.event,e))}}const Hte=["","start","move","end","cancel","up","down","left","right"];class fj extends jF{constructor(e={}){super({enable:!0,pointers:1,event:"pan",threshold:10,direction:Fr.All,...e}),this.pX=null,this.pY=null}getTouchAction(){const{options:{direction:e}}=this,n=[];return e&Fr.Horizontal&&n.push(CS),e&Fr.Vertical&&n.push(AS),n}getEventNames(){return Hte.map(e=>this.options.event+e)}directionTest(e){const{options:n}=this;let r=!0,{distance:s}=e,{direction:o}=e;const l=e.deltaX,c=e.deltaY;return o&n.direction||(n.direction&Fr.Horizontal?(o=l===0?Fr.None:l<0?Fr.Left:Fr.Right,r=l!==this.pX,s=Math.abs(e.deltaX)):(o=c===0?Fr.None:c<0?Fr.Up:Fr.Down,r=c!==this.pY,s=Math.abs(e.deltaY))),e.direction=o,r&&s>n.threshold&&!!(o&n.direction)}attrTest(e){return super.attrTest(e)&&(!!(this.state&Zt.Began)||!(this.state&Zt.Began)&&this.directionTest(e))}emit(e){this.pX=e.deltaX,this.pY=e.deltaY;const n=Fr[e.direction].toLowerCase();n&&(e.additionalEvent=this.options.event+n),super.emit(e)}}const Wte=["","start","move","end","cancel","in","out"];class qte extends jF{constructor(e={}){super({enable:!0,event:"pinch",threshold:0,pointers:2,...e})}getTouchAction(){return[Nx]}getEventNames(){return Wte.map(e=>this.options.event+e)}attrTest(e){return super.attrTest(e)&&(Math.abs(e.scale-1)>this.options.threshold||!!(this.state&Zt.Began))}emit(e){if(e.scale!==1){const n=e.scale<1?"in":"out";e.additionalEvent=this.options.event+n}super.emit(e)}}class cv{constructor(e,n,r){this.element=e,this.callback=n,this.options=r}}const Xte=typeof navigator<"u"&&navigator.userAgent?navigator.userAgent.toLowerCase():"",Yte=Xte.indexOf("firefox")!==-1,dj=4.000244140625,Kte=40,Zte=.25;class Qte extends cv{constructor(e,n,r){super(e,n,{enable:!0,...r}),this.handleEvent=s=>{if(!this.options.enable)return;let o=s.deltaY;globalThis.WheelEvent&&(Yte&&s.deltaMode===globalThis.WheelEvent.DOM_DELTA_PIXEL&&(o/=globalThis.devicePixelRatio),s.deltaMode===globalThis.WheelEvent.DOM_DELTA_LINE&&(o*=Kte)),o!==0&&o%dj===0&&(o=Math.floor(o/dj)),s.shiftKey&&o&&(o=o*Zte),this.callback({type:"wheel",center:{x:s.clientX,y:s.clientY},delta:-o,srcEvent:s,pointerType:"mouse",target:s.target})},e.addEventListener("wheel",this.handleEvent,{passive:!1})}destroy(){this.element.removeEventListener("wheel",this.handleEvent)}enableEventType(e,n){e==="wheel"&&(this.options.enable=n)}}const hj=["mousedown","mousemove","mouseup","mouseover","mouseout","mouseleave"];class Gte extends cv{constructor(e,n,r){super(e,n,{enable:!0,...r}),this.handleEvent=o=>{this.handleOverEvent(o),this.handleOutEvent(o),this.handleEnterEvent(o),this.handleLeaveEvent(o),this.handleMoveEvent(o)},this.pressed=!1;const{enable:s}=this.options;this.enableMoveEvent=s,this.enableLeaveEvent=s,this.enableEnterEvent=s,this.enableOutEvent=s,this.enableOverEvent=s,hj.forEach(o=>e.addEventListener(o,this.handleEvent))}destroy(){hj.forEach(e=>this.element.removeEventListener(e,this.handleEvent))}enableEventType(e,n){switch(e){case"pointermove":this.enableMoveEvent=n;break;case"pointerover":this.enableOverEvent=n;break;case"pointerout":this.enableOutEvent=n;break;case"pointerenter":this.enableEnterEvent=n;break;case"pointerleave":this.enableLeaveEvent=n;break}}handleOverEvent(e){this.enableOverEvent&&e.type==="mouseover"&&this._emit("pointerover",e)}handleOutEvent(e){this.enableOutEvent&&e.type==="mouseout"&&this._emit("pointerout",e)}handleEnterEvent(e){this.enableEnterEvent&&e.type==="mouseenter"&&this._emit("pointerenter",e)}handleLeaveEvent(e){this.enableLeaveEvent&&e.type==="mouseleave"&&this._emit("pointerleave",e)}handleMoveEvent(e){if(this.enableMoveEvent)switch(e.type){case"mousedown":e.button>=0&&(this.pressed=!0);break;case"mousemove":e.buttons===0&&(this.pressed=!1),this.pressed||this._emit("pointermove",e);break;case"mouseup":this.pressed=!1;break}}_emit(e,n){this.callback({type:e,center:{x:n.clientX,y:n.clientY},srcEvent:n,pointerType:"mouse",target:n.target})}}const pj=["keydown","keyup"];class Jte extends cv{constructor(e,n,r){super(e,n,{enable:!0,tabIndex:0,...r}),this.handleEvent=s=>{const o=s.target||s.srcElement;o.tagName==="INPUT"&&o.type==="text"||o.tagName==="TEXTAREA"||(this.enableDownEvent&&s.type==="keydown"&&this.callback({type:"keydown",srcEvent:s,key:s.key,target:s.target}),this.enableUpEvent&&s.type==="keyup"&&this.callback({type:"keyup",srcEvent:s,key:s.key,target:s.target}))},this.enableDownEvent=this.options.enable,this.enableUpEvent=this.options.enable,e.tabIndex=this.options.tabIndex,e.style.outline="none",pj.forEach(s=>e.addEventListener(s,this.handleEvent))}destroy(){pj.forEach(e=>this.element.removeEventListener(e,this.handleEvent))}enableEventType(e,n){e==="keydown"&&(this.enableDownEvent=n),e==="keyup"&&(this.enableUpEvent=n)}}class ene extends cv{constructor(e,n,r){super(e,n,r),this.handleEvent=s=>{this.options.enable&&this.callback({type:"contextmenu",center:{x:s.clientX,y:s.clientY},srcEvent:s,pointerType:"mouse",target:s.target})},e.addEventListener("contextmenu",this.handleEvent)}destroy(){this.element.removeEventListener("contextmenu",this.handleEvent)}enableEventType(e,n){e==="contextmenu"&&(this.options.enable=n)}}const mj=1,RS=2,gj=4,tne={pointerdown:mj,pointermove:RS,pointerup:gj,mousedown:mj,mousemove:RS,mouseup:gj},nne=0,rne=1,sne=2,ine=1,one=2,ane=4;function lne(t){const e=tne[t.srcEvent.type];if(!e)return null;const{buttons:n,button:r}=t.srcEvent;let s=!1,o=!1,l=!1;return e===RS?(s=!!(n&ine),o=!!(n&ane),l=!!(n&one)):(s=r===nne,o=r===rne,l=r===sne),{leftButton:s,middleButton:o,rightButton:l}}function cne(t,e){const n=t.center;if(!n)return null;const r=e.getBoundingClientRect(),s=r.width/e.offsetWidth||1,o=r.height/e.offsetHeight||1,l={x:(n.x-r.left-e.clientLeft)/s,y:(n.y-r.top-e.clientTop)/o};return{center:n,offsetCenter:l}}const une={srcElement:"root",priority:0};class fne{constructor(e,n){this.handleEvent=r=>{if(this.isEmpty())return;const s=this._normalizeEvent(r);let o=r.srcEvent.target;for(;o&&o!==s.rootElement;){if(this._emit(s,o),s.handled)return;o=o.parentNode}this._emit(s,"root")},this.eventManager=e,this.recognizerName=n,this.handlers=[],this.handlersByElement=new Map,this._active=!1}isEmpty(){return!this._active}add(e,n,r,s=!1,o=!1){const{handlers:l,handlersByElement:c}=this,f={...une,...r};let h=c.get(f.srcElement);h||(h=[],c.set(f.srcElement,h));const p={type:e,handler:n,srcElement:f.srcElement,priority:f.priority};s&&(p.once=!0),o&&(p.passive=!0),l.push(p),this._active=this._active||!p.passive;let m=h.length-1;for(;m>=0&&!(h[m].priority>=p.priority);)m--;h.splice(m+1,0,p)}remove(e,n){const{handlers:r,handlersByElement:s}=this;for(let o=r.length-1;o>=0;o--){const l=r[o];if(l.type===e&&l.handler===n){r.splice(o,1);const c=s.get(l.srcElement);c.splice(c.indexOf(l),1),c.length===0&&s.delete(l.srcElement)}}this._active=r.some(o=>!o.passive)}_emit(e,n){const r=this.handlersByElement.get(n);if(r){let s=!1;const o=()=>{e.handled=!0},l=()=>{e.handled=!0,s=!0},c=[];for(let f=0;f<r.length;f++){const{type:h,handler:p,once:m}=r[f];if(p({...e,type:h,stopPropagation:o,stopImmediatePropagation:l}),m&&c.push(r[f]),s)break}for(let f=0;f<c.length;f++){const{type:h,handler:p}=c[f];this.remove(h,p)}}}_normalizeEvent(e){const n=this.eventManager.getElement();return{...e,...lne(e),...cne(e,n),preventDefault:()=>{e.srcEvent.preventDefault()},stopImmediatePropagation:null,stopPropagation:null,handled:!1,rootElement:n}}}function dne(t){if("recognizer"in t)return t;let e;const n=Array.isArray(t)?[...t]:[t];if(typeof n[0]=="function"){const r=n.shift(),s=n.shift()||{};e=new r(s)}else e=n.shift();return{recognizer:e,recognizeWith:typeof n[0]=="string"?[n[0]]:n[0],requireFailure:typeof n[1]=="string"?[n[1]]:n[1]}}class hne{constructor(e=null,n={}){if(this._onBasicInput=r=>{this.manager.emit(r.srcEvent.type,r)},this._onOtherEvent=r=>{this.manager.emit(r.type,r)},this.options={recognizers:[],events:{},touchAction:"compute",tabIndex:0,cssProps:{},...n},this.events=new Map,this.element=e,!!e){this.manager=new Lte(e,this.options);for(const r of this.options.recognizers){const{recognizer:s,recognizeWith:o,requireFailure:l}=dne(r);this.manager.add(s),o&&s.recognizeWith(o),l&&s.requireFailure(l)}this.manager.on("hammer.input",this._onBasicInput),this.wheelInput=new Qte(e,this._onOtherEvent,{enable:!1}),this.moveInput=new Gte(e,this._onOtherEvent,{enable:!1}),this.keyInput=new Jte(e,this._onOtherEvent,{enable:!1,tabIndex:n.tabIndex}),this.contextmenuInput=new ene(e,this._onOtherEvent,{enable:!1}),this.on(this.options.events)}}getElement(){return this.element}destroy(){this.element&&(this.wheelInput.destroy(),this.moveInput.destroy(),this.keyInput.destroy(),this.contextmenuInput.destroy(),this.manager.destroy())}on(e,n,r){this._addEventHandler(e,n,r,!1)}once(e,n,r){this._addEventHandler(e,n,r,!0)}watch(e,n,r){this._addEventHandler(e,n,r,!1,!0)}off(e,n){this._removeEventHandler(e,n)}_toggleRecognizer(e,n){var o,l,c,f;const{manager:r}=this;if(!r)return;const s=r.get(e);s&&(s.set({enable:n}),r.touchAction.update()),(o=this.wheelInput)==null||o.enableEventType(e,n),(l=this.moveInput)==null||l.enableEventType(e,n),(c=this.keyInput)==null||c.enableEventType(e,n),(f=this.contextmenuInput)==null||f.enableEventType(e,n)}_addEventHandler(e,n,r,s,o){if(typeof e!="string"){r=n;for(const[h,p]of Object.entries(e))this._addEventHandler(h,p,r,s,o);return}const{manager:l,events:c}=this;if(!l)return;let f=c.get(e);if(!f){const h=this._getRecognizerName(e)||e;f=new fne(this,h),c.set(e,f),l&&l.on(e,f.handleEvent)}f.add(e,n,r,s,o),f.isEmpty()||this._toggleRecognizer(f.recognizerName,!0)}_removeEventHandler(e,n){if(typeof e!="string"){for(const[o,l]of Object.entries(e))this._removeEventHandler(o,l);return}const{events:r}=this,s=r.get(e);if(s&&(s.remove(e,n),s.isEmpty())){const{recognizerName:o}=s;let l=!1;for(const c of r.values())if(c.recognizerName===o&&!c.isEmpty()){l=!0;break}l||this._toggleRecognizer(o,!1)}}_getRecognizerName(e){var n;return(n=this.manager.recognizers.find(r=>r.getEventNames().includes(e)))==null?void 0:n.options.event}}const An={DEFAULT:-1,LNGLAT:1,METER_OFFSETS:2,LNGLAT_OFFSETS:3,CARTESIAN:0};Object.defineProperty(An,"IDENTITY",{get:()=>(Hn.deprecated("COORDINATE_SYSTEM.IDENTITY","COORDINATE_SYSTEM.CARTESIAN")(),0)});const Ci={WEB_MERCATOR:1,GLOBE:2,WEB_MERCATOR_AUTO_OFFSET:4,IDENTITY:0},pu={common:0,meters:1,pixels:2},kS={click:"onClick",panstart:"onDragStart",panmove:"onDrag",panend:"onDragEnd"},bj={multipan:[fj,{threshold:10,direction:Fr.Vertical,pointers:2}],pinch:[qte,{},null,["multipan"]],pan:[fj,{threshold:1},["pinch"],["multipan"]],dblclick:[uj,{event:"dblclick",taps:2}],click:[uj,{event:"click"},null,["dblclick"]]};function pne(t,e){if(t===e)return!0;if(Array.isArray(t)){const n=t.length;if(!e||e.length!==n)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}return!1}function Am(t){let e={},n;return r=>{for(const s in r)if(!pne(r[s],e[s])){n=t(r),e=r;break}return n}}const xj=[0,0,0,0],mne=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0],MF=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],gne=[0,0,0],IF=[0,0,0],bne=Am(vne);function OF(t,e,n=IF){n.length<3&&(n=[n[0],n[1],0]);let r=n,s,o=!0;switch(e===An.LNGLAT_OFFSETS||e===An.METER_OFFSETS?s=n:s=t.isGeospatial?[Math.fround(t.longitude),Math.fround(t.latitude),0]:null,t.projectionMode){case Ci.WEB_MERCATOR:(e===An.LNGLAT||e===An.CARTESIAN)&&(s=[0,0,0],o=!1);break;case Ci.WEB_MERCATOR_AUTO_OFFSET:e===An.LNGLAT?r=s:e===An.CARTESIAN&&(r=[Math.fround(t.center[0]),Math.fround(t.center[1]),0],s=t.unprojectPosition(r),r[0]-=n[0],r[1]-=n[1],r[2]-=n[2]);break;case Ci.IDENTITY:r=t.position.map(Math.fround),r[2]=r[2]||0;break;case Ci.GLOBE:o=!1,s=null;break;default:o=!1}return{geospatialOrigin:s,shaderCoordinateOrigin:r,offsetMode:o}}function xne(t,e,n){const{viewMatrixUncentered:r,projectionMatrix:s}=t;let{viewMatrix:o,viewProjectionMatrix:l}=t,c=xj,f=xj,h=t.cameraPosition;const{geospatialOrigin:p,shaderCoordinateOrigin:m,offsetMode:x}=OF(t,e,n);return x&&(f=t.projectPosition(p||m),h=[h[0]-f[0],h[1]-f[1],h[2]-f[2]],f[3]=1,c=Tm([],f,l),o=r||o,l=Zc([],s,o),l=Zc([],l,mne)),{viewMatrix:o,viewProjectionMatrix:l,projectionCenter:c,originCommon:f,cameraPosCommon:h,shaderCoordinateOrigin:m,geospatialOrigin:p}}function yne({viewport:t,devicePixelRatio:e=1,modelMatrix:n=null,coordinateSystem:r=An.DEFAULT,coordinateOrigin:s=IF,autoWrapLongitude:o=!1}){r===An.DEFAULT&&(r=t.isGeospatial?An.LNGLAT:An.CARTESIAN);const l=bne({viewport:t,devicePixelRatio:e,coordinateSystem:r,coordinateOrigin:s});return l.wrapLongitude=o,l.modelMatrix=n||MF,l}function vne({viewport:t,devicePixelRatio:e,coordinateSystem:n,coordinateOrigin:r}){const{projectionCenter:s,viewProjectionMatrix:o,originCommon:l,cameraPosCommon:c,shaderCoordinateOrigin:f,geospatialOrigin:h}=xne(t,n,r),p=t.getDistanceScales(),m=[t.width*e,t.height*e],x=Tm([],[0,0,-t.focalDistance,1],t.projectionMatrix)[3]||1,w={coordinateSystem:n,projectionMode:t.projectionMode,coordinateOrigin:f,commonOrigin:l.slice(0,3),center:s,pseudoMeters:!!t._pseudoMeters,viewportSize:m,devicePixelRatio:e,focalDistance:x,commonUnitsPerMeter:p.unitsPerMeter,commonUnitsPerWorldUnit:p.unitsPerMeter,commonUnitsPerWorldUnit2:gne,scale:t.scale,wrapLongitude:!1,viewProjectionMatrix:o,modelMatrix:MF,cameraPosition:c};if(h){const E=t.getDistanceScales(h);switch(n){case An.METER_OFFSETS:w.commonUnitsPerWorldUnit=E.unitsPerMeter,w.commonUnitsPerWorldUnit2=E.unitsPerMeter2;break;case An.LNGLAT:case An.LNGLAT_OFFSETS:t._pseudoMeters||(w.commonUnitsPerMeter=E.unitsPerMeter),w.commonUnitsPerWorldUnit=E.unitsPerDegree,w.commonUnitsPerWorldUnit2=E.unitsPerDegree2;break;case An.CARTESIAN:w.commonUnitsPerWorldUnit=[1,1,E.unitsPerMeter[2]],w.commonUnitsPerWorldUnit2=[0,0,E.unitsPerMeter2[2]];break}}return w}const wne=Object.keys(An).map(t=>`const COORDINATE_SYSTEM_${t}: i32 = ${An[t]};`).join(""),_ne=Object.keys(Ci).map(t=>`const PROJECTION_MODE_${t}: i32 = ${Ci[t]};`).join(""),Nne=Object.keys(pu).map(t=>`const UNIT_${t.toUpperCase()}: i32 = ${pu[t]};`).join(""),Sne=`${wne}
${_ne}
${Nne}

const TILE_SIZE: f32 = 512.0;
const PI: f32 = 3.1415926536;
const WORLD_SCALE: f32 = TILE_SIZE / (PI * 2.0);
const ZERO_64_LOW: vec3<f32> = vec3<f32>(0.0, 0.0, 0.0);
const EARTH_RADIUS: f32 = 6370972.0; // meters
const GLOBE_RADIUS: f32 = 256.0;

// -----------------------------------------------------------------------------
// Uniform block (converted from GLSL uniform block)
// -----------------------------------------------------------------------------
struct ProjectUniforms {
  wrapLongitude: i32,
  coordinateSystem: i32,
  commonUnitsPerMeter: vec3<f32>,
  projectionMode: i32,
  scale: f32,
  commonUnitsPerWorldUnit: vec3<f32>,
  commonUnitsPerWorldUnit2: vec3<f32>,
  center: vec4<f32>,
  modelMatrix: mat4x4<f32>,
  viewProjectionMatrix: mat4x4<f32>,
  viewportSize: vec2<f32>,
  devicePixelRatio: f32,
  focalDistance: f32,
  cameraPosition: vec3<f32>,
  coordinateOrigin: vec3<f32>,
  commonOrigin: vec3<f32>,
  pseudoMeters: i32,
};

@group(0) @binding(0)
var<uniform> project: ProjectUniforms;

// -----------------------------------------------------------------------------
// Geometry data
// (In your GLSL code, "geometry" was assumed to be available globally. In WGSL,
// you might supply this via vertex attributes or a uniform. Here we define a
// uniform struct for demonstration.)
// -----------------------------------------------------------------------------

// Structure to carry additional geometry data used by deck.gl filters.
struct Geometry {
  worldPosition: vec3<f32>,
  worldPositionAlt: vec3<f32>,
  position: vec4<f32>,
  uv: vec2<f32>,
  pickingColor: vec3<f32>,
};

// @group(0) @binding(1)
var<private> geometry: Geometry;
`,Ene=`${Sne}

// -----------------------------------------------------------------------------
// Functions
// -----------------------------------------------------------------------------

// Returns an adjustment factor for commonUnitsPerMeter
fn _project_size_at_latitude(lat: f32) -> f32 {
  let y = clamp(lat, -89.9, 89.9);
  return 1.0 / cos(radians(y));
}

// Overloaded version: scales a value in meters at a given latitude.
fn _project_size_at_latitude_m(meters: f32, lat: f32) -> f32 {
  return meters * project.commonUnitsPerMeter.z * _project_size_at_latitude(lat);
}

// Computes a non-linear scale factor based on geometry.
// (Note: This function relies on "geometry" being provided.)
fn project_size() -> f32 {
  if (project.projectionMode == PROJECTION_MODE_WEB_MERCATOR &&
      project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT &&
      project.pseudoMeters == 0) {
    if (geometry.position.w == 0.0) {
      return _project_size_at_latitude(geometry.worldPosition.y);
    }
    let y: f32 = geometry.position.y / TILE_SIZE * 2.0 - 1.0;
    let y2 = y * y;
    let y4 = y2 * y2;
    let y6 = y4 * y2;
    return 1.0 + 4.9348 * y2 + 4.0587 * y4 + 1.5642 * y6;
  }
  return 1.0;
}

// Overloads to scale offsets (meters to world units)
fn project_size_float(meters: f32) -> f32 {
  return meters * project.commonUnitsPerMeter.z * project_size();
}

fn project_size_vec2(meters: vec2<f32>) -> vec2<f32> {
  return meters * project.commonUnitsPerMeter.xy * project_size();
}

fn project_size_vec3(meters: vec3<f32>) -> vec3<f32> {
  return meters * project.commonUnitsPerMeter * project_size();
}

fn project_size_vec4(meters: vec4<f32>) -> vec4<f32> {
  return vec4<f32>(meters.xyz * project.commonUnitsPerMeter, meters.w);
}

// Returns a rotation matrix aligning the z‑axis with the given up vector.
fn project_get_orientation_matrix(up: vec3<f32>) -> mat3x3<f32> {
  let uz = normalize(up);
  let ux = select(
    vec3<f32>(1.0, 0.0, 0.0),
    normalize(vec3<f32>(uz.y, -uz.x, 0.0)),
    abs(uz.z) == 1.0
  );
  let uy = cross(uz, ux);
  return mat3x3<f32>(ux, uy, uz);
}

// Since WGSL does not support "out" parameters, we return a struct.
struct RotationResult {
  needsRotation: bool,
  transform: mat3x3<f32>,
};

fn project_needs_rotation(commonPosition: vec3<f32>) -> RotationResult {
  if (project.projectionMode == PROJECTION_MODE_GLOBE) {
    return RotationResult(true, project_get_orientation_matrix(commonPosition));
  } else {
    return RotationResult(false, mat3x3<f32>());  // identity alternative if needed
  };
}

// Projects a normal vector from the current coordinate system to world space.
fn project_normal(vector: vec3<f32>) -> vec3<f32> {
  let normal_modelspace = project.modelMatrix * vec4<f32>(vector, 0.0);
  var n = normalize(normal_modelspace.xyz * project.commonUnitsPerMeter);
  let rotResult = project_needs_rotation(geometry.position.xyz);
  if (rotResult.needsRotation) {
    n = rotResult.transform * n;
  }
  return n;
}

// Applies a scale offset based on y-offset (dy)
fn project_offset_(offset: vec4<f32>) -> vec4<f32> {
  let dy: f32 = offset.y;
  let commonUnitsPerWorldUnit = project.commonUnitsPerWorldUnit + project.commonUnitsPerWorldUnit2 * dy;
  return vec4<f32>(offset.xyz * commonUnitsPerWorldUnit, offset.w);
}

// Projects lng/lat coordinates to a unit tile [0,1]
fn project_mercator_(lnglat: vec2<f32>) -> vec2<f32> {
  var x = lnglat.x;
  if (project.wrapLongitude != 0) {
    x = ((x + 180.0) % 360.0) - 180.0;
  }
  let y = clamp(lnglat.y, -89.9, 89.9);
  return vec2<f32>(
    radians(x) + PI,
    PI + log(tan(PI * 0.25 + radians(y) * 0.5))
  ) * WORLD_SCALE;
}

// Projects lng/lat/z coordinates for a globe projection.
fn project_globe_(lnglatz: vec3<f32>) -> vec3<f32> {
  let lambda = radians(lnglatz.x);
  let phi = radians(lnglatz.y);
  let cosPhi = cos(phi);
  let D = (lnglatz.z / EARTH_RADIUS + 1.0) * GLOBE_RADIUS;
  return vec3<f32>(
    sin(lambda) * cosPhi,
    -cos(lambda) * cosPhi,
    sin(phi)
  ) * D;
}

// Projects positions (with an optional 64-bit low part) from the input
// coordinate system to the common space.
fn project_position_vec4_f64(position: vec4<f32>, position64Low: vec3<f32>) -> vec4<f32> {
  var position_world = project.modelMatrix * position;

  // Work around for a Mac+NVIDIA bug:
  if (project.projectionMode == PROJECTION_MODE_WEB_MERCATOR) {
    if (project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT) {
      return vec4<f32>(
        project_mercator_(position_world.xy),
        _project_size_at_latitude_m(position_world.z, position_world.y),
        position_world.w
      );
    }
    if (project.coordinateSystem == COORDINATE_SYSTEM_CARTESIAN) {
      position_world = vec4f(position_world.xyz + project.coordinateOrigin, position_world.w);
    }
  }
  if (project.projectionMode == PROJECTION_MODE_GLOBE) {
    if (project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT) {
      return vec4<f32>(
        project_globe_(position_world.xyz),
        position_world.w
      );
    }
  }
  if (project.projectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET) {
    if (project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT) {
      if (abs(position_world.y - project.coordinateOrigin.y) > 0.25) {
        return vec4<f32>(
          project_mercator_(position_world.xy) - project.commonOrigin.xy,
          project_size_float(position_world.z),
          position_world.w
        );
      }
    }
  }
  if (project.projectionMode == PROJECTION_MODE_IDENTITY ||
      (project.projectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET &&
       (project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT ||
        project.coordinateSystem == COORDINATE_SYSTEM_CARTESIAN))) {
    position_world = vec4f(position_world.xyz - project.coordinateOrigin, position_world.w);
  }

  return project_offset_(position_world) +
         project_offset_(project.modelMatrix * vec4<f32>(position64Low, 0.0));
}

// Overloaded versions for different input types.
fn project_position_vec4_f32(position: vec4<f32>) -> vec4<f32> {
  return project_position_vec4_f64(position, ZERO_64_LOW);
}

fn project_position_vec3_f64(position: vec3<f32>, position64Low: vec3<f32>) -> vec3<f32> {
  let projected_position = project_position_vec4_f64(vec4<f32>(position, 1.0), position64Low);
  return projected_position.xyz;
}

fn project_position_vec3_f32(position: vec3<f32>) -> vec3<f32> {
  let projected_position = project_position_vec4_f64(vec4<f32>(position, 1.0), ZERO_64_LOW);
  return projected_position.xyz;
}

fn project_position_vec2_f32(position: vec2<f32>) -> vec2<f32> {
  let projected_position = project_position_vec4_f64(vec4<f32>(position, 0.0, 1.0), ZERO_64_LOW);
  return projected_position.xy;
}

// Transforms a common space position to clip space.
fn project_common_position_to_clipspace_with_projection(position: vec4<f32>, viewProjectionMatrix: mat4x4<f32>, center: vec4<f32>) -> vec4<f32> {
  return viewProjectionMatrix * position + center;
}

// Uses the project viewProjectionMatrix and center.
fn project_common_position_to_clipspace(position: vec4<f32>) -> vec4<f32> {
  return project_common_position_to_clipspace_with_projection(position, project.viewProjectionMatrix, project.center);
}

// Returns a clip space offset corresponding to a given number of screen pixels.
fn project_pixel_size_to_clipspace(pixels: vec2<f32>) -> vec2<f32> {
  let offset = pixels / project.viewportSize * project.devicePixelRatio * 2.0;
  return offset * project.focalDistance;
}

fn project_meter_size_to_pixel(meters: f32) -> f32 {
  return project_size_float(meters) * project.scale;
}

fn project_unit_size_to_pixel(size: f32, unit: i32) -> f32 {
  if (unit == UNIT_METERS) {
    return project_meter_size_to_pixel(size);
  } else if (unit == UNIT_COMMON) {
    return size * project.scale;
  }
  // UNIT_PIXELS: no scaling applied.
  return size;
}

fn project_pixel_size_float(pixels: f32) -> f32 {
  return pixels / project.scale;
}

fn project_pixel_size_vec2(pixels: vec2<f32>) -> vec2<f32> {
  return pixels / project.scale;
}
`,Tne=Object.keys(An).map(t=>`const int COORDINATE_SYSTEM_${t} = ${An[t]};`).join(""),Ane=Object.keys(Ci).map(t=>`const int PROJECTION_MODE_${t} = ${Ci[t]};`).join(""),Cne=Object.keys(pu).map(t=>`const int UNIT_${t.toUpperCase()} = ${pu[t]};`).join(""),Rne=`${Tne}
${Ane}
${Cne}
uniform projectUniforms {
bool wrapLongitude;
int coordinateSystem;
vec3 commonUnitsPerMeter;
int projectionMode;
float scale;
vec3 commonUnitsPerWorldUnit;
vec3 commonUnitsPerWorldUnit2;
vec4 center;
mat4 modelMatrix;
mat4 viewProjectionMatrix;
vec2 viewportSize;
float devicePixelRatio;
float focalDistance;
vec3 cameraPosition;
vec3 coordinateOrigin;
vec3 commonOrigin;
bool pseudoMeters;
} project;
const float TILE_SIZE = 512.0;
const float PI = 3.1415926536;
const float WORLD_SCALE = TILE_SIZE / (PI * 2.0);
const vec3 ZERO_64_LOW = vec3(0.0);
const float EARTH_RADIUS = 6370972.0;
const float GLOBE_RADIUS = 256.0;
float project_size_at_latitude(float lat) {
float y = clamp(lat, -89.9, 89.9);
return 1.0 / cos(radians(y));
}
float project_size() {
if (project.projectionMode == PROJECTION_MODE_WEB_MERCATOR &&
project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT &&
project.pseudoMeters == false) {
if (geometry.position.w == 0.0) {
return project_size_at_latitude(geometry.worldPosition.y);
}
float y = geometry.position.y / TILE_SIZE * 2.0 - 1.0;
float y2 = y * y;
float y4 = y2 * y2;
float y6 = y4 * y2;
return 1.0 + 4.9348 * y2 + 4.0587 * y4 + 1.5642 * y6;
}
return 1.0;
}
float project_size_at_latitude(float meters, float lat) {
return meters * project.commonUnitsPerMeter.z * project_size_at_latitude(lat);
}
float project_size(float meters) {
return meters * project.commonUnitsPerMeter.z * project_size();
}
vec2 project_size(vec2 meters) {
return meters * project.commonUnitsPerMeter.xy * project_size();
}
vec3 project_size(vec3 meters) {
return meters * project.commonUnitsPerMeter * project_size();
}
vec4 project_size(vec4 meters) {
return vec4(meters.xyz * project.commonUnitsPerMeter, meters.w);
}
mat3 project_get_orientation_matrix(vec3 up) {
vec3 uz = normalize(up);
vec3 ux = abs(uz.z) == 1.0 ? vec3(1.0, 0.0, 0.0) : normalize(vec3(uz.y, -uz.x, 0));
vec3 uy = cross(uz, ux);
return mat3(ux, uy, uz);
}
bool project_needs_rotation(vec3 commonPosition, out mat3 transform) {
if (project.projectionMode == PROJECTION_MODE_GLOBE) {
transform = project_get_orientation_matrix(commonPosition);
return true;
}
return false;
}
vec3 project_normal(vec3 vector) {
vec4 normal_modelspace = project.modelMatrix * vec4(vector, 0.0);
vec3 n = normalize(normal_modelspace.xyz * project.commonUnitsPerMeter);
mat3 rotation;
if (project_needs_rotation(geometry.position.xyz, rotation)) {
n = rotation * n;
}
return n;
}
vec4 project_offset_(vec4 offset) {
float dy = offset.y;
vec3 commonUnitsPerWorldUnit = project.commonUnitsPerWorldUnit + project.commonUnitsPerWorldUnit2 * dy;
return vec4(offset.xyz * commonUnitsPerWorldUnit, offset.w);
}
vec2 project_mercator_(vec2 lnglat) {
float x = lnglat.x;
if (project.wrapLongitude) {
x = mod(x + 180., 360.0) - 180.;
}
float y = clamp(lnglat.y, -89.9, 89.9);
return vec2(
radians(x) + PI,
PI + log(tan_fp32(PI * 0.25 + radians(y) * 0.5))
) * WORLD_SCALE;
}
vec3 project_globe_(vec3 lnglatz) {
float lambda = radians(lnglatz.x);
float phi = radians(lnglatz.y);
float cosPhi = cos(phi);
float D = (lnglatz.z / EARTH_RADIUS + 1.0) * GLOBE_RADIUS;
return vec3(
sin(lambda) * cosPhi,
-cos(lambda) * cosPhi,
sin(phi)
) * D;
}
vec4 project_position(vec4 position, vec3 position64Low) {
vec4 position_world = project.modelMatrix * position;
if (project.projectionMode == PROJECTION_MODE_WEB_MERCATOR) {
if (project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT) {
return vec4(
project_mercator_(position_world.xy),
project_size_at_latitude(position_world.z, position_world.y),
position_world.w
);
}
if (project.coordinateSystem == COORDINATE_SYSTEM_CARTESIAN) {
position_world.xyz += project.coordinateOrigin;
}
}
if (project.projectionMode == PROJECTION_MODE_GLOBE) {
if (project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT) {
return vec4(
project_globe_(position_world.xyz),
position_world.w
);
}
}
if (project.projectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET) {
if (project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT) {
if (abs(position_world.y - project.coordinateOrigin.y) > 0.25) {
return vec4(
project_mercator_(position_world.xy) - project.commonOrigin.xy,
project_size(position_world.z),
position_world.w
);
}
}
}
if (project.projectionMode == PROJECTION_MODE_IDENTITY ||
(project.projectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET &&
(project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT ||
project.coordinateSystem == COORDINATE_SYSTEM_CARTESIAN))) {
position_world.xyz -= project.coordinateOrigin;
}
return project_offset_(position_world) + project_offset_(project.modelMatrix * vec4(position64Low, 0.0));
}
vec4 project_position(vec4 position) {
return project_position(position, ZERO_64_LOW);
}
vec3 project_position(vec3 position, vec3 position64Low) {
vec4 projected_position = project_position(vec4(position, 1.0), position64Low);
return projected_position.xyz;
}
vec3 project_position(vec3 position) {
vec4 projected_position = project_position(vec4(position, 1.0), ZERO_64_LOW);
return projected_position.xyz;
}
vec2 project_position(vec2 position) {
vec4 projected_position = project_position(vec4(position, 0.0, 1.0), ZERO_64_LOW);
return projected_position.xy;
}
vec4 project_common_position_to_clipspace(vec4 position, mat4 viewProjectionMatrix, vec4 center) {
return viewProjectionMatrix * position + center;
}
vec4 project_common_position_to_clipspace(vec4 position) {
return project_common_position_to_clipspace(position, project.viewProjectionMatrix, project.center);
}
vec2 project_pixel_size_to_clipspace(vec2 pixels) {
vec2 offset = pixels / project.viewportSize * project.devicePixelRatio * 2.0;
return offset * project.focalDistance;
}
float project_size_to_pixel(float meters) {
return project_size(meters) * project.scale;
}
float project_size_to_pixel(float size, int unit) {
if (unit == UNIT_METERS) return project_size_to_pixel(size);
if (unit == UNIT_COMMON) return size * project.scale;
return size;
}
float project_pixel_size(float pixels) {
return pixels / project.scale;
}
vec2 project_pixel_size(vec2 pixels) {
return pixels / project.scale;
}
`,kne={};function Dne(t=kne){return"viewport"in t?yne(t):{}}const pT={name:"project",dependencies:[lte,AF],source:Ene,vs:Rne,getUniforms:Dne,uniformTypes:{wrapLongitude:"f32",coordinateSystem:"i32",commonUnitsPerMeter:"vec3<f32>",projectionMode:"i32",scale:"f32",commonUnitsPerWorldUnit:"vec3<f32>",commonUnitsPerWorldUnit2:"vec3<f32>",center:"vec4<f32>",modelMatrix:"mat4x4<f32>",viewProjectionMatrix:"mat4x4<f32>",viewportSize:"vec2<f32>",devicePixelRatio:"f32",focalDistance:"f32",cameraPosition:"vec3<f32>",coordinateOrigin:"vec3<f32>",commonOrigin:"vec3<f32>",pseudoMeters:"f32"}},Pne=`// Define a structure to hold both the clip-space position and the common position.
struct ProjectResult {
  clipPosition: vec4<f32>,
  commonPosition: vec4<f32>,
};

// This function mimics the GLSL version with the 'out' parameter by returning both values.
fn project_position_to_clipspace_and_commonspace(
    position: vec3<f32>,
    position64Low: vec3<f32>,
    offset: vec3<f32>
) -> ProjectResult {
  // Compute the projected position.
  let projectedPosition: vec3<f32> = project_position_vec3_f64(position, position64Low);

  // Start with the provided offset.
  var finalOffset: vec3<f32> = offset;

  // Get whether a rotation is needed and the rotation matrix.
  let rotationResult = project_needs_rotation(projectedPosition);

  // If rotation is needed, update the offset.
  if (rotationResult.needsRotation) {
    finalOffset = rotationResult.transform * offset;
  }

  // Compute the common position.
  let commonPosition: vec4<f32> = vec4<f32>(projectedPosition + finalOffset, 1.0);

  // Convert to clip-space.
  let clipPosition: vec4<f32> = project_common_position_to_clipspace(commonPosition);

  return ProjectResult(clipPosition, commonPosition);
}

// A convenience overload that returns only the clip-space position.
fn project_position_to_clipspace(
    position: vec3<f32>,
    position64Low: vec3<f32>,
    offset: vec3<f32>
) -> vec4<f32> {
  return project_position_to_clipspace_and_commonspace(position, position64Low, offset).clipPosition;
}
`,jne=`vec4 project_position_to_clipspace(
  vec3 position, vec3 position64Low, vec3 offset, out vec4 commonPosition
) {
  vec3 projectedPosition = project_position(position, position64Low);
  mat3 rotation;
  if (project_needs_rotation(projectedPosition, rotation)) {
    // offset is specified as ENU
    // when in globe projection, rotate offset so that the ground alighs with the surface of the globe
    offset = rotation * offset;
  }
  commonPosition = vec4(projectedPosition + offset, 1.0);
  return project_common_position_to_clipspace(commonPosition);
}

vec4 project_position_to_clipspace(
  vec3 position, vec3 position64Low, vec3 offset
) {
  vec4 commonPosition;
  return project_position_to_clipspace(position, position64Low, offset, commonPosition);
}
`,UF={name:"project32",dependencies:[pT],source:Pne,vs:jne};function Mne(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function Gf(t,e){const n=Tm([],e,t);return Gee(n,n,1/n[3]),n}function yj(t,e){const n=t%e;return n<0?e+n:n}function DS(t,e,n){return t<e?e:t>n?n:t}function Ine(t){return Math.log(t)*Math.LOG2E}const mT=Math.log2||Ine;function Ca(t,e){if(!t)throw new Error(e||"@math.gl/web-mercator: assertion failed.")}const Gi=Math.PI,VF=Gi/4,Di=Gi/180,PS=180/Gi,_d=512,fy=4003e4,Jb=85.051129,One=1.5;function Une(t){return mT(t)}function dy(t){const[e,n]=t;Ca(Number.isFinite(e)),Ca(Number.isFinite(n)&&n>=-90&&n<=90,"invalid latitude");const r=e*Di,s=n*Di,o=_d*(r+Gi)/(2*Gi),l=_d*(Gi+Math.log(Math.tan(VF+s*.5)))/(2*Gi);return[o,l]}function Nd(t){const[e,n]=t,r=e/_d*(2*Gi)-Gi,s=2*(Math.atan(Math.exp(n/_d*(2*Gi)-Gi))-VF);return[r*PS,s*PS]}function Vne(t){const{latitude:e}=t;Ca(Number.isFinite(e));const n=Math.cos(e*Di);return Une(fy*n)-9}function z1(t){const e=Math.cos(t*Di);return _d/fy/e}function jS(t){const{latitude:e,longitude:n,highPrecision:r=!1}=t;Ca(Number.isFinite(e)&&Number.isFinite(n));const s=_d,o=Math.cos(e*Di),l=s/360,c=l/o,f=s/fy/o,h={unitsPerMeter:[f,f,f],metersPerUnit:[1/f,1/f,1/f],unitsPerDegree:[l,c,f],degreesPerUnit:[1/l,1/c,1/f]};if(r){const p=Di*Math.tan(e*Di)/o,m=l*p/2,x=s/fy*p,w=x/c*f;h.unitsPerDegree2=[0,m,x],h.unitsPerMeter2=[w,0,w]}return h}function FF(t,e){const[n,r,s]=t,[o,l,c]=e,{unitsPerMeter:f,unitsPerMeter2:h}=jS({longitude:n,latitude:r,highPrecision:!0}),p=dy(t);p[0]+=o*(f[0]+h[0]*l),p[1]+=l*(f[1]+h[1]*l);const m=Nd(p),x=(s||0)+(c||0);return Number.isFinite(s)||Number.isFinite(c)?[m[0],m[1],x]:m}function Fne(t){const{height:e,pitch:n,bearing:r,altitude:s,scale:o,center:l}=t,c=Mne();cy(c,c,[0,0,-s]),NF(c,c,-n*Di),SF(c,c,r*Di);const f=o/e;return hT(c,c,[f,f,f]),l&&cy(c,c,Cee([],l)),c}function Bne(t){const{width:e,height:n,altitude:r,pitch:s=0,offset:o,center:l,scale:c,nearZMultiplier:f=1,farZMultiplier:h=1}=t;let{fovy:p=hy(One)}=t;r!==void 0&&(p=hy(r));const m=p*Di,x=s*Di,w=BF(p);let E=w;l&&(E+=l[2]*c/Math.cos(x)/n);const T=m*(.5+(o?o[1]:0)/n),C=Math.sin(T)*E/Math.sin(DS(Math.PI/2-x-T,.01,Math.PI-.01)),P=Math.sin(x)*C+E,j=E*10,D=Math.min(P*h,j);return{fov:m,aspect:e/n,focalDistance:w,near:f,far:D}}function hy(t){return 2*Math.atan(.5/t)*PS}function BF(t){return .5/Math.tan(.5*t*Di)}function LF(t,e){const[n,r,s=0]=t;return Ca(Number.isFinite(n)&&Number.isFinite(r)&&Number.isFinite(s)),Gf(e,[n,r,s,1])}function gT(t,e,n=0){const[r,s,o]=t;if(Ca(Number.isFinite(r)&&Number.isFinite(s),"invalid pixel coordinate"),Number.isFinite(o))return Gf(e,[r,s,o,1]);const l=Gf(e,[r,s,0,1]),c=Gf(e,[r,s,1,1]),f=l[2],h=c[2],p=f===h?0:((n||0)-f)/(h-f);return vF([],l,c,p)}function Lne(t){const{width:e,height:n,bounds:r,minExtent:s=0,maxZoom:o=24,offset:l=[0,0]}=t,[[c,f],[h,p]]=r,m=zne(t.padding),x=dy([c,DS(p,-Jb,Jb)]),w=dy([h,DS(f,-Jb,Jb)]),E=[Math.max(Math.abs(w[0]-x[0]),s),Math.max(Math.abs(w[1]-x[1]),s)],T=[e-m.left-m.right-Math.abs(l[0])*2,n-m.top-m.bottom-Math.abs(l[1])*2];Ca(T[0]>0&&T[1]>0);const C=T[0]/E[0],P=T[1]/E[1],j=(m.right-m.left)/2/C,D=(m.top-m.bottom)/2/P,U=[(w[0]+x[0])/2+j,(w[1]+x[1])/2+D],L=Nd(U),O=Math.min(o,mT(Math.abs(Math.min(C,P))));return Ca(Number.isFinite(O)),{longitude:L[0],latitude:L[1],zoom:O}}function zne(t=0){return typeof t=="number"?{top:t,bottom:t,left:t,right:t}:(Ca(Number.isFinite(t.top)&&Number.isFinite(t.bottom)&&Number.isFinite(t.left)&&Number.isFinite(t.right)),t)}const vj=Math.PI/180;function $ne(t,e=0){const{width:n,height:r,unproject:s}=t,o={targetZ:e},l=s([0,r],o),c=s([n,r],o);let f,h;const p=t.fovy?.5*t.fovy*vj:Math.atan(.5/t.altitude),m=(90-t.pitch)*vj;return p>m-.01?(f=wj(t,0,e),h=wj(t,n,e)):(f=s([0,0],o),h=s([n,0],o)),[l,c,h,f]}function wj(t,e,n){const{pixelUnprojectionMatrix:r}=t,s=Gf(r,[e,0,1,1]),o=Gf(r,[e,t.height,1,1]),c=(n*t.distanceScales.unitsPerMeter[2]-s[2])/(o[2]-s[2]),f=vF([],s,o,c),h=Nd(f);return h.push(n),h}const _j=512;function Hne(t){const{width:e,height:n,pitch:r=0}=t;let{longitude:s,latitude:o,zoom:l,bearing:c=0}=t;(s<-180||s>180)&&(s=yj(s+180,360)-180),(c<-180||c>180)&&(c=yj(c+180,360)-180);const f=mT(n/_j);if(l<=f)l=f,o=0;else{const h=n/2/Math.pow(2,l),p=Nd([0,h])[1];if(o<p)o=p;else{const m=Nd([0,_j-h])[1];o>m&&(o=m)}}return{width:e,height:n,longitude:s,latitude:o,zoom:l,pitch:r,bearing:c}}const zF=`
uniform shadowUniforms {
  bool drawShadowMap;
  bool useShadowMap;
  vec4 color;
  highp int lightId;
  float lightCount;
  mat4 viewProjectionMatrix0;
  mat4 viewProjectionMatrix1;
  vec4 projectCenter0;
  vec4 projectCenter1;
} shadow;
`,Wne=`
const int max_lights = 2;

out vec3 shadow_vPosition[max_lights];

vec4 shadow_setVertexPosition(vec4 position_commonspace) {
  mat4 viewProjectionMatrices[max_lights];
  viewProjectionMatrices[0] = shadow.viewProjectionMatrix0;
  viewProjectionMatrices[1] = shadow.viewProjectionMatrix1;
  vec4 projectCenters[max_lights];
  projectCenters[0] = shadow.projectCenter0;
  projectCenters[1] = shadow.projectCenter1;

  if (shadow.drawShadowMap) {
    return project_common_position_to_clipspace(position_commonspace, viewProjectionMatrices[shadow.lightId], projectCenters[shadow.lightId]);
  }
  if (shadow.useShadowMap) {
    for (int i = 0; i < max_lights; i++) {
      if(i < int(shadow.lightCount)) {
        vec4 shadowMap_position = project_common_position_to_clipspace(position_commonspace, viewProjectionMatrices[i], projectCenters[i]);
        shadow_vPosition[i] = (shadowMap_position.xyz / shadowMap_position.w + 1.0) / 2.0;
      }
    }
  }
  return gl_Position;
}
`,qne=`
${zF}
${Wne}
`,Xne=`
const int max_lights = 2;
uniform sampler2D shadow_uShadowMap0;
uniform sampler2D shadow_uShadowMap1;

in vec3 shadow_vPosition[max_lights];

const vec4 bitPackShift = vec4(1.0, 255.0, 65025.0, 16581375.0);
const vec4 bitUnpackShift = 1.0 / bitPackShift;
const vec4 bitMask = vec4(1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0,  0.0);

float shadow_getShadowWeight(vec3 position, sampler2D shadowMap) {
  vec4 rgbaDepth = texture(shadowMap, position.xy);

  float z = dot(rgbaDepth, bitUnpackShift);
  return smoothstep(0.001, 0.01, position.z - z);
}

vec4 shadow_filterShadowColor(vec4 color) {
  if (shadow.drawShadowMap) {
    vec4 rgbaDepth = fract(gl_FragCoord.z * bitPackShift);
    rgbaDepth -= rgbaDepth.gbaa * bitMask;
    return rgbaDepth;
  }
  if (shadow.useShadowMap) {
    float shadowAlpha = 0.0;
    shadowAlpha += shadow_getShadowWeight(shadow_vPosition[0], shadow_uShadowMap0);
    if(shadow.lightCount > 1.0) {
      shadowAlpha += shadow_getShadowWeight(shadow_vPosition[1], shadow_uShadowMap1);
    }
    shadowAlpha *= shadow.color.a / shadow.lightCount;
    float blendedAlpha = shadowAlpha + color.a * (1.0 - shadowAlpha);

    return vec4(
      mix(color.rgb, shadow.color.rgb, shadowAlpha / blendedAlpha),
      blendedAlpha
    );
  }
  return color;
}
`,Yne=`
${zF}
${Xne}
`,Kne=Am(ere),Zne=Am(tre),Qne=[0,0,0,1],Gne=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0];function Jne(t,e){const[n,r,s]=t,o=gT([n,r,s],e);return Number.isFinite(s)?o:[o[0],o[1],0]}function ere({viewport:t,center:e}){return new Lo(t.viewProjectionMatrix).invert().transform(e)}function tre({viewport:t,shadowMatrices:e}){const n=[],r=t.pixelUnprojectionMatrix,s=t.isGeospatial?void 0:1,o=[[0,0,s],[t.width,0,s],[0,t.height,s],[t.width,t.height,s],[0,0,-1],[t.width,0,-1],[0,t.height,-1],[t.width,t.height,-1]].map(l=>Jne(l,r));for(const l of e){const c=l.clone().translate(new Bo(t.center).negate()),f=o.map(p=>c.transform(p)),h=new Lo().ortho({left:Math.min(...f.map(p=>p[0])),right:Math.max(...f.map(p=>p[0])),bottom:Math.min(...f.map(p=>p[1])),top:Math.max(...f.map(p=>p[1])),near:Math.min(...f.map(p=>-p[2])),far:Math.max(...f.map(p=>-p[2]))});n.push(h.multiplyRight(l))}return n}function nre(t){const{shadowEnabled:e=!0,project:n}=t;if(!e||!n||!t.shadowMatrices||!t.shadowMatrices.length)return{drawShadowMap:!1,useShadowMap:!1,shadow_uShadowMap0:t.dummyShadowMap,shadow_uShadowMap1:t.dummyShadowMap};const r=pT.getUniforms(n),s=Kne({viewport:n.viewport,center:r.center}),o=[],l=Zne({shadowMatrices:t.shadowMatrices,viewport:n.viewport}).slice();for(let f=0;f<t.shadowMatrices.length;f++){const h=l[f],p=h.clone().translate(new Bo(n.viewport.center).negate());r.coordinateSystem===An.LNGLAT&&r.projectionMode===Ci.WEB_MERCATOR?(l[f]=p,o[f]=s):(l[f]=h.clone().multiplyRight(Gne),o[f]=p.transform(s))}const c={drawShadowMap:!!t.drawToShadowMap,useShadowMap:t.shadowMaps?t.shadowMaps.length>0:!1,color:t.shadowColor||Qne,lightId:t.shadowLightId||0,lightCount:t.shadowMatrices.length,shadow_uShadowMap0:t.dummyShadowMap,shadow_uShadowMap1:t.dummyShadowMap};for(let f=0;f<l.length;f++)c[`viewProjectionMatrix${f}`]=l[f],c[`projectCenter${f}`]=o[f];for(let f=0;f<2;f++)c[`shadow_uShadowMap${f}`]=t.shadowMaps&&t.shadowMaps[f]||t.dummyShadowMap;return c}const Nj={name:"shadow",dependencies:[pT],vs:qne,fs:Yne,inject:{"vs:DECKGL_FILTER_GL_POSITION":`
    position = shadow_setVertexPosition(geometry.position);
    `,"fs:DECKGL_FILTER_COLOR":`
    color = shadow_filterShadowColor(color);
    `},getUniforms:nre,uniformTypes:{drawShadowMap:"f32",useShadowMap:"f32",color:"vec4<f32>",lightId:"i32",lightCount:"f32",viewProjectionMatrix0:"mat4x4<f32>",viewProjectionMatrix1:"mat4x4<f32>",projectCenter0:"vec4<f32>",projectCenter1:"vec4<f32>"}},$F={...tj,defaultUniforms:{...tj.defaultUniforms,useFloatColors:!1},inject:{"vs:DECKGL_FILTER_GL_POSITION":`
    // for picking depth values
    picking_setPickingAttribute(position.z / position.w);
  `,"vs:DECKGL_FILTER_COLOR":`
  picking_setPickingColor(geometry.pickingColor);
  `,"fs:DECKGL_FILTER_COLOR":{order:99,injection:`
  // use highlight color if this fragment belongs to the selected object.
  color = picking_filterHighlightColor(color);

  // use picking color if rendering to picking FBO.
  color = picking_filterPickingColor(color);
    `}}},rre=[AF],sre=["vs:DECKGL_FILTER_SIZE(inout vec3 size, VertexGeometry geometry)","vs:DECKGL_FILTER_GL_POSITION(inout vec4 position, VertexGeometry geometry)","vs:DECKGL_FILTER_COLOR(inout vec4 color, VertexGeometry geometry)","fs:DECKGL_FILTER_COLOR(inout vec4 color, FragmentGeometry geometry)"],ire=[];function ore(t){const e=Zx.getDefaultShaderAssembler();for(const r of rre)e.addDefaultModule(r);const n=t==="glsl"?sre:ire;for(const r of n)e.addShaderHook(r);return e}const are=[255,255,255],lre=1;let cre=0;class ure{constructor(e={}){this.type="ambient";const{color:n=are}=e,{intensity:r=lre}=e;this.id=e.id||`ambient-${cre++}`,this.color=n,this.intensity=r}}const fre=[255,255,255],dre=1,hre=[0,0,-1];let pre=0;class Sj{constructor(e={}){this.type="directional";const{color:n=fre}=e,{intensity:r=dre}=e,{direction:s=hre}=e,{_shadow:o=!1}=e;this.id=e.id||`directional-${pre++}`,this.color=n,this.intensity=r,this.type="directional",this.direction=new Bo(s).normalize().toArray(),this.shadow=o}getProjectedLight(e){return this}}class mre{constructor(e,n={id:"pass"}){const{id:r}=n;this.id=r,this.device=e,this.props={...n}}setProps(e){Object.assign(this.props,e)}render(e){}cleanup(){}}class bT extends mre{constructor(){super(...arguments),this._lastRenderIndex=-1}render(e){const[n,r]=this.device.canvasContext.getDrawingBufferSize(),s=e.clearCanvas??!0,o=e.clearColor??(s?[0,0,0,0]:!1),l=s?1:!1,c=s?0:!1,f=e.colorMask??15,h={viewport:[0,0,n,r]};e.colorMask&&(h.colorMask=f),e.scissorRect&&(h.scissorRect=e.scissorRect);const p=this.device.beginRenderPass({framebuffer:e.target,parameters:h,clearColor:o,clearDepth:l,clearStencil:c});try{return this._drawLayers(p,e)}finally{p.end(),this.device.submit()}}_drawLayers(e,n){const{target:r,shaderModuleProps:s,viewports:o,views:l,onViewportActive:c,clearStack:f=!0}=n;n.pass=n.pass||"unknown",f&&(this._lastRenderIndex=-1);const h=[];for(const p of o){const m=l&&l[p.id];c==null||c(p);const x=this._getDrawLayerParams(p,n),w=p.subViewports||[p];for(const E of w){const T=this._drawLayersInViewport(e,{target:r,shaderModuleProps:s,viewport:E,view:m,pass:n.pass,layers:n.layers},x);h.push(T)}}return h}_getDrawLayerParams(e,{layers:n,pass:r,isPicking:s=!1,layerFilter:o,cullRect:l,effects:c,shaderModuleProps:f},h=!1){var E;const p=[],m=HF(this._lastRenderIndex+1),x={layer:n[0],viewport:e,isPicking:s,renderPass:r,cullRect:l},w={};for(let T=0;T<n.length;T++){const C=n[T],P=this._shouldDrawLayer(C,x,o,w),j={shouldDrawLayer:P};P&&!h&&(j.shouldDrawLayer=!0,j.layerRenderIndex=m(C,P),j.shaderModuleProps=this._getShaderModuleProps(C,c,r,f),j.layerParameters={...(E=C.context.deck)==null?void 0:E.props.parameters,...this.getLayerParameters(C,T,e)}),p[T]=j}return p}_drawLayersInViewport(e,{layers:n,shaderModuleProps:r,pass:s,target:o,viewport:l,view:c},f){const h=gre(this.device,{shaderModuleProps:r,target:o,viewport:l});if(c&&c.props.clear){const m=c.props.clear===!0?{color:!0,depth:!0}:c.props.clear;this.device.beginRenderPass({framebuffer:o,parameters:{viewport:h,scissorRect:h},clearColor:m.color?[0,0,0,0]:!1,clearDepth:m.depth?1:!1}).end()}const p={totalCount:n.length,visibleCount:0,compositeCount:0,pickableCount:0};e.setParameters({viewport:h});for(let m=0;m<n.length;m++){const x=n[m],w=f[m],{shouldDrawLayer:E}=w;if(E&&x.props.pickable&&p.pickableCount++,x.isComposite&&p.compositeCount++,x.isDrawable&&w.shouldDrawLayer){const{layerRenderIndex:T,shaderModuleProps:C,layerParameters:P}=w;p.visibleCount++,this._lastRenderIndex=Math.max(this._lastRenderIndex,T),C.project&&(C.project.viewport=l),x.context.renderPass=e;try{x._drawLayer({renderPass:e,shaderModuleProps:C,uniforms:{layerIndex:T},parameters:P})}catch(j){x.raiseError(j,`drawing ${x} to ${s}`)}}}return p}shouldDrawLayer(e){return!0}getShaderModuleProps(e,n,r){return null}getLayerParameters(e,n,r){return e.props.parameters}_shouldDrawLayer(e,n,r,s){if(!(e.props.visible&&this.shouldDrawLayer(e)))return!1;n.layer=e;let l=e.parent;for(;l;){if(!l.props.visible||!l.filterSubLayer(n))return!1;n.layer=l,l=l.parent}if(r){const c=n.layer.id;if(c in s||(s[c]=r(n)),!s[c])return!1}return e.activateViewport(n.viewport),!0}_getShaderModuleProps(e,n,r,s){var f,h;const o=this.device.canvasContext.cssToDeviceRatio(),l=((f=e.internalState)==null?void 0:f.propsInTransition)||e.props,c={layer:l,picking:{isActive:!1},project:{viewport:e.context.viewport,devicePixelRatio:o,modelMatrix:l.modelMatrix,coordinateSystem:l.coordinateSystem,coordinateOrigin:l.coordinateOrigin,autoWrapLongitude:e.wrapLongitude}};if(n)for(const p of n)Ej(c,(h=p.getShaderModuleProps)==null?void 0:h.call(p,e,c));return Ej(c,this.getShaderModuleProps(e,n,c),s)}}function HF(t=0,e={}){const n={},r=(s,o)=>{const l=s.props._offset,c=s.id,f=s.parent&&s.parent.id;let h;if(f&&!(f in e)&&r(s.parent,!1),f in n){const p=n[f]=n[f]||HF(e[f],e);h=p(s,o),n[c]=p}else Number.isFinite(l)?(h=l+(e[f]||0),n[c]=null):h=t;return o&&h>=t&&(t=h+1),e[c]=h,h};return r}function gre(t,{shaderModuleProps:e,target:n,viewport:r}){var f;const s=((f=e==null?void 0:e.project)==null?void 0:f.devicePixelRatio)??t.canvasContext.cssToDeviceRatio(),[,o]=t.canvasContext.getDrawingBufferSize(),l=n?n.height:o,c=r;return[c.x*s,l-(c.y+c.height)*s,c.width*s,c.height*s]}function Ej(t,...e){for(const n of e)if(n)for(const r in n)t[r]?Object.assign(t[r],n[r]):t[r]=n[r];return t}class bre extends bT{constructor(e,n){super(e,n);const r=e.createTexture({format:"rgba8unorm",width:1,height:1,sampler:{minFilter:"linear",magFilter:"linear",addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"},mipmaps:!0}),s=e.createTexture({format:"depth16unorm",width:1,height:1,mipmaps:!1});this.fbo=e.createFramebuffer({id:"shadowmap",width:1,height:1,colorAttachments:[r],depthStencilAttachment:s})}delete(){this.fbo&&(this.fbo.destroy(),this.fbo=null)}getShadowMap(){return this.fbo.colorAttachments[0].texture}render(e){const n=this.fbo,r=this.device.canvasContext.cssToDeviceRatio(),s=e.viewports[0],o=s.width*r,l=s.height*r,c=[1,1,1,1];(o!==n.width||l!==n.height)&&n.resize({width:o,height:l}),super.render({...e,clearColor:c,target:n,pass:"shadow"})}getLayerParameters(e,n,r){return{...e.props.parameters,blend:!1,depthWriteEnabled:!0,depthCompare:"less-equal"}}shouldDrawLayer(e){return e.props.shadowEnabled!==!1}getShaderModuleProps(e,n,r){return{shadow:{project:r.project,drawToShadowMap:!0}}}}const xre={color:[255,255,255],intensity:1},Tj=[{color:[255,255,255],intensity:1,direction:[-1,3,-1]},{color:[255,255,255],intensity:.9,direction:[1,-8,-2.5]}],yre=[0,0,0,200/255];class WF{constructor(e={}){this.id="lighting-effect",this.shadowColor=yre,this.shadow=!1,this.directionalLights=[],this.pointLights=[],this.shadowPasses=[],this.dummyShadowMap=null,this.setProps(e)}setup(e){this.context=e;const{device:n,deck:r}=e;this.shadow&&!this.dummyShadowMap&&(this._createShadowPasses(n),r._addDefaultShaderModule(Nj),this.dummyShadowMap=n.createTexture({width:1,height:1}))}setProps(e){this.ambientLight=void 0,this.directionalLights=[],this.pointLights=[];for(const n in e){const r=e[n];switch(r.type){case"ambient":this.ambientLight=r;break;case"directional":this.directionalLights.push(r);break;case"point":this.pointLights.push(r);break}}this._applyDefaultLights(),this.shadow=this.directionalLights.some(n=>n.shadow),this.context&&this.setup(this.context),this.props=e}preRender({layers:e,layerFilter:n,viewports:r,onViewportActive:s,views:o}){if(this.shadow){this.shadowMatrices=this._calculateMatrices();for(let l=0;l<this.shadowPasses.length;l++)this.shadowPasses[l].render({layers:e,layerFilter:n,viewports:r,onViewportActive:s,views:o,shaderModuleProps:{shadow:{shadowLightId:l,dummyShadowMap:this.dummyShadowMap,shadowMatrices:this.shadowMatrices}}})}}getShaderModuleProps(e,n){const r=this.shadow?{project:n.project,shadowMaps:this.shadowPasses.map(l=>l.getShadowMap()),dummyShadowMap:this.dummyShadowMap,shadowColor:this.shadowColor,shadowMatrices:this.shadowMatrices}:{},s={enabled:!0,ambientLight:this.ambientLight,directionalLights:this.directionalLights.map(l=>l.getProjectedLight({layer:e})),pointLights:this.pointLights.map(l=>l.getProjectedLight({layer:e}))},o=e.props.material;return{shadow:r,lighting:s,phongMaterial:o,gouraudMaterial:o}}cleanup(e){for(const n of this.shadowPasses)n.delete();this.shadowPasses.length=0,this.dummyShadowMap&&(this.dummyShadowMap.destroy(),this.dummyShadowMap=null,e.deck._removeDefaultShaderModule(Nj))}_calculateMatrices(){const e=[];for(const n of this.directionalLights){const r=new Lo().lookAt({eye:new Bo(n.direction).negate()});e.push(r)}return e}_createShadowPasses(e){for(let n=0;n<this.directionalLights.length;n++){const r=new bre(e);this.shadowPasses[n]=r}}_applyDefaultLights(){const{ambientLight:e,pointLights:n,directionalLights:r}=this;!e&&n.length===0&&r.length===0&&(this.ambientLight=new ure(xre),this.directionalLights.push(new Sj(Tj[0]),new Sj(Tj[1])))}}class vre{constructor(e={}){this._pool=[],this.opts={overAlloc:2,poolSize:100},this.setOptions(e)}setOptions(e){Object.assign(this.opts,e)}allocate(e,n,{size:r=1,type:s,padding:o=0,copy:l=!1,initialize:c=!1,maxCount:f}){const h=s||e&&e.constructor||Float32Array,p=n*r+o;if(ArrayBuffer.isView(e)){if(p<=e.length)return e;if(p*e.BYTES_PER_ELEMENT<=e.buffer.byteLength)return new h(e.buffer,0,p)}let m=1/0;f&&(m=f*r+o);const x=this._allocate(h,p,c,m);return e&&l?x.set(e):c||x.fill(0,0,4),this._release(e),x}release(e){this._release(e)}_allocate(e,n,r,s){let o=Math.max(Math.ceil(n*this.opts.overAlloc),1);o>s&&(o=s);const l=this._pool,c=e.BYTES_PER_ELEMENT*o,f=l.findIndex(h=>h.byteLength>=c);if(f>=0){const h=new e(l.splice(f,1)[0],0,o);return r&&h.fill(0),h}return new e(o)}_release(e){if(!ArrayBuffer.isView(e))return;const n=this._pool,{buffer:r}=e,{byteLength:s}=r,o=n.findIndex(l=>l.byteLength>=s);o<0?n.push(r):(o>0||n.length<this.opts.poolSize)&&n.splice(o,0,r),n.length>this.opts.poolSize&&n.shift()}}const sm=new vre;function kp(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function wre(t){return[t[12],t[13],t[14]]}function _re(t){return{left:Df(t[3]+t[0],t[7]+t[4],t[11]+t[8],t[15]+t[12]),right:Df(t[3]-t[0],t[7]-t[4],t[11]-t[8],t[15]-t[12]),bottom:Df(t[3]+t[1],t[7]+t[5],t[11]+t[9],t[15]+t[13]),top:Df(t[3]-t[1],t[7]-t[5],t[11]-t[9],t[15]-t[13]),near:Df(t[3]+t[2],t[7]+t[6],t[11]+t[10],t[15]+t[14]),far:Df(t[3]-t[2],t[7]-t[6],t[11]-t[10],t[15]-t[14])}}const Aj=new Bo;function Df(t,e,n,r){Aj.set(t,e,n);const s=Aj.len();return{distance:r/s,normal:new Bo(-t/s,-e/s,-n/s)}}function Nre(t){return t-Math.fround(t)}let mp;function $1(t,e){const{size:n=1,startIndex:r=0}=e,s=e.endIndex!==void 0?e.endIndex:t.length,o=(s-r)/n;mp=sm.allocate(mp,o,{type:Float32Array,size:n*2});let l=r,c=0;for(;l<s;){for(let f=0;f<n;f++){const h=t[l++];mp[c+f]=h,mp[c+f+n]=Nre(h)}c+=n*2}return mp.subarray(0,o*n*2)}function Sre(t){let e=null,n=!1;for(const r of t)r&&(e?(n||(e=[[e[0][0],e[0][1]],[e[1][0],e[1][1]]],n=!0),e[0][0]=Math.min(e[0][0],r[0][0]),e[0][1]=Math.min(e[0][1],r[0][1]),e[1][0]=Math.max(e[1][0],r[1][0]),e[1][1]=Math.max(e[1][1],r[1][1])):e=r);return e}const Ere=Math.PI/180,Tre=kp(),Cj=[0,0,0],Are={unitsPerMeter:[1,1,1],metersPerUnit:[1,1,1]};function Cre({width:t,height:e,orthographic:n,fovyRadians:r,focalDistance:s,padding:o,near:l,far:c}){const f=t/e,h=n?new Lo().orthographic({fovy:r,aspect:f,focalDistance:s,near:l,far:c}):new Lo().perspective({fovy:r,aspect:f,near:l,far:c});if(o){const{left:p=0,right:m=0,top:x=0,bottom:w=0}=o,E=jl((p+t-m)/2,0,t)-t/2,T=jl((x+e-w)/2,0,e)-e/2;h[8]-=E*2/t,h[9]+=T*2/e}return h}class Cm{constructor(e={}){this._frustumPlanes={},this.id=e.id||this.constructor.displayName||"viewport",this.x=e.x||0,this.y=e.y||0,this.width=e.width||1,this.height=e.height||1,this.zoom=e.zoom||0,this.padding=e.padding,this.distanceScales=e.distanceScales||Are,this.focalDistance=e.focalDistance||1,this.position=e.position||Cj,this.modelMatrix=e.modelMatrix||null;const{longitude:n,latitude:r}=e;this.isGeospatial=Number.isFinite(r)&&Number.isFinite(n),this._initProps(e),this._initMatrices(e),this.equals=this.equals.bind(this),this.project=this.project.bind(this),this.unproject=this.unproject.bind(this),this.projectPosition=this.projectPosition.bind(this),this.unprojectPosition=this.unprojectPosition.bind(this),this.projectFlat=this.projectFlat.bind(this),this.unprojectFlat=this.unprojectFlat.bind(this)}get subViewports(){return null}get metersPerPixel(){return this.distanceScales.metersPerUnit[2]/this.scale}get projectionMode(){return this.isGeospatial?this.zoom<12?Ci.WEB_MERCATOR:Ci.WEB_MERCATOR_AUTO_OFFSET:Ci.IDENTITY}equals(e){return e instanceof Cm?this===e?!0:e.width===this.width&&e.height===this.height&&e.scale===this.scale&&rm(e.projectionMatrix,this.projectionMatrix)&&rm(e.viewMatrix,this.viewMatrix):!1}project(e,{topLeft:n=!0}={}){const r=this.projectPosition(e),s=LF(r,this.pixelProjectionMatrix),[o,l]=s,c=n?l:this.height-l;return e.length===2?[o,c]:[o,c,s[2]]}unproject(e,{topLeft:n=!0,targetZ:r}={}){const[s,o,l]=e,c=n?o:this.height-o,f=r&&r*this.distanceScales.unitsPerMeter[2],h=gT([s,c,l],this.pixelUnprojectionMatrix,f),[p,m,x]=this.unprojectPosition(h);return Number.isFinite(l)?[p,m,x]:Number.isFinite(r)?[p,m,r]:[p,m]}projectPosition(e){const[n,r]=this.projectFlat(e),s=(e[2]||0)*this.distanceScales.unitsPerMeter[2];return[n,r,s]}unprojectPosition(e){const[n,r]=this.unprojectFlat(e),s=(e[2]||0)*this.distanceScales.metersPerUnit[2];return[n,r,s]}projectFlat(e){if(this.isGeospatial){const n=dy(e);return n[1]=jl(n[1],-318,830),n}return e}unprojectFlat(e){return this.isGeospatial?Nd(e):e}getBounds(e={}){const n={targetZ:e.z||0},r=this.unproject([0,0],n),s=this.unproject([this.width,0],n),o=this.unproject([0,this.height],n),l=this.unproject([this.width,this.height],n);return[Math.min(r[0],s[0],o[0],l[0]),Math.min(r[1],s[1],o[1],l[1]),Math.max(r[0],s[0],o[0],l[0]),Math.max(r[1],s[1],o[1],l[1])]}getDistanceScales(e){return e&&this.isGeospatial?jS({longitude:e[0],latitude:e[1],highPrecision:!0}):this.distanceScales}containsPixel({x:e,y:n,width:r=1,height:s=1}){return e<this.x+this.width&&this.x<e+r&&n<this.y+this.height&&this.y<n+s}getFrustumPlanes(){return this._frustumPlanes.near?this._frustumPlanes:(Object.assign(this._frustumPlanes,_re(this.viewProjectionMatrix)),this._frustumPlanes)}panByPosition(e,n){return null}_initProps(e){const n=e.longitude,r=e.latitude;this.isGeospatial&&(Number.isFinite(e.zoom)||(this.zoom=Vne({latitude:r})+Math.log2(this.focalDistance)),this.distanceScales=e.distanceScales||jS({latitude:r,longitude:n}));const s=Math.pow(2,this.zoom);this.scale=s;const{position:o,modelMatrix:l}=e;let c=Cj;if(o&&(c=l?new Lo(l).transformAsVector(o,[]):o),this.isGeospatial){const f=this.projectPosition([n,r,0]);this.center=new Bo(c).scale(this.distanceScales.unitsPerMeter).add(f)}else this.center=this.projectPosition(c)}_initMatrices(e){const{viewMatrix:n=Tre,projectionMatrix:r=null,orthographic:s=!1,fovyRadians:o,fovy:l=75,near:c=.1,far:f=1e3,padding:h=null,focalDistance:p=1}=e;this.viewMatrixUncentered=n,this.viewMatrix=new Lo().multiplyRight(n).translate(new Bo(this.center).negate()),this.projectionMatrix=r||Cre({width:this.width,height:this.height,orthographic:s,fovyRadians:o||l*Ere,focalDistance:p,padding:h,near:c,far:f});const m=kp();Zc(m,m,this.projectionMatrix),Zc(m,m,this.viewMatrix),this.viewProjectionMatrix=m,this.viewMatrixInverse=SS([],this.viewMatrix)||this.viewMatrix,this.cameraPosition=wre(this.viewMatrixInverse);const x=kp(),w=kp();hT(x,x,[this.width/2,-this.height/2,1]),cy(x,x,[1,-1,0]),Zc(w,x,this.viewProjectionMatrix),this.pixelProjectionMatrix=w,this.pixelUnprojectionMatrix=SS(kp(),this.pixelProjectionMatrix),this.pixelUnprojectionMatrix||Hn.warn("Pixel project matrix not invertible")()}}Cm.displayName="Viewport";class Sd extends Cm{constructor(e={}){const{latitude:n=0,longitude:r=0,zoom:s=0,pitch:o=0,bearing:l=0,nearZMultiplier:c=.1,farZMultiplier:f=1.01,nearZ:h,farZ:p,orthographic:m=!1,projectionMatrix:x,repeat:w=!1,worldOffset:E=0,position:T,padding:C,legacyMeterSizes:P=!1}=e;let{width:j,height:D,altitude:U=1.5}=e;const L=Math.pow(2,s);j=j||1,D=D||1;let O,Y=null;if(x)U=x[5]/2,O=hy(U);else{e.fovy?(O=e.fovy,U=BF(O)):O=hy(U);let Q;if(C){const{top:K=0,bottom:G=0}=C;Q=[0,jl((K+D-G)/2,0,D)-D/2]}Y=Bne({width:j,height:D,scale:L,center:T&&[0,0,T[2]*z1(n)],offset:Q,pitch:o,fovy:O,nearZMultiplier:c,farZMultiplier:f}),Number.isFinite(h)&&(Y.near=h),Number.isFinite(p)&&(Y.far=p)}let ne=Fne({height:D,pitch:o,bearing:l,scale:L,altitude:U});E&&(ne=new Lo().translate([512*E,0,0]).multiplyLeft(ne)),super({...e,width:j,height:D,viewMatrix:ne,longitude:r,latitude:n,zoom:s,...Y,fovy:O,focalDistance:U}),this.latitude=n,this.longitude=r,this.zoom=s,this.pitch=o,this.bearing=l,this.altitude=U,this.fovy=O,this.orthographic=m,this._subViewports=w?[]:null,this._pseudoMeters=P,Object.freeze(this)}get subViewports(){if(this._subViewports&&!this._subViewports.length){const e=this.getBounds(),n=Math.floor((e[0]+180)/360),r=Math.ceil((e[2]-180)/360);for(let s=n;s<=r;s++){const o=s?new Sd({...this,worldOffset:s}):this;this._subViewports.push(o)}}return this._subViewports}projectPosition(e){if(this._pseudoMeters)return super.projectPosition(e);const[n,r]=this.projectFlat(e),s=(e[2]||0)*z1(e[1]);return[n,r,s]}unprojectPosition(e){if(this._pseudoMeters)return super.unprojectPosition(e);const[n,r]=this.unprojectFlat(e),s=(e[2]||0)/z1(r);return[n,r,s]}addMetersToLngLat(e,n){return FF(e,n)}panByPosition(e,n){const r=gT(n,this.pixelUnprojectionMatrix),s=this.projectFlat(e),o=J2([],s,_ee([],r)),l=J2([],this.center,o),[c,f]=this.unprojectFlat(l);return{longitude:c,latitude:f}}getBounds(e={}){const n=$ne(this,e.z||0);return[Math.min(n[0][0],n[1][0],n[2][0],n[3][0]),Math.min(n[0][1],n[1][1],n[2][1],n[3][1]),Math.max(n[0][0],n[1][0],n[2][0],n[3][0]),Math.max(n[0][1],n[1][1],n[2][1],n[3][1])]}fitBounds(e,n={}){const{width:r,height:s}=this,{longitude:o,latitude:l,zoom:c}=Lne({width:r,height:s,bounds:e,...n});return new Sd({width:r,height:s,longitude:o,latitude:l,zoom:c})}}Sd.displayName="WebMercatorViewport";const Rj=[0,0,0];function H1(t,e,n=!1){const r=e.projectPosition(t);if(n&&e instanceof Sd){const[s,o,l=0]=t,c=e.getDistanceScales([s,o]);r[2]=l*c.unitsPerMeter[2]}return r}function Rre(t){const{viewport:e,modelMatrix:n,coordinateOrigin:r}=t;let{coordinateSystem:s,fromCoordinateSystem:o,fromCoordinateOrigin:l}=t;return s===An.DEFAULT&&(s=e.isGeospatial?An.LNGLAT:An.CARTESIAN),o===void 0&&(o=s),l===void 0&&(l=r),{viewport:e,coordinateSystem:s,coordinateOrigin:r,modelMatrix:n,fromCoordinateSystem:o,fromCoordinateOrigin:l}}function qF(t,{viewport:e,modelMatrix:n,coordinateSystem:r,coordinateOrigin:s,offsetMode:o}){let[l,c,f=0]=t;switch(n&&([l,c,f]=Tm([],[l,c,f,1],n)),r){case An.LNGLAT:return H1([l,c,f],e,o);case An.LNGLAT_OFFSETS:return H1([l+s[0],c+s[1],f+(s[2]||0)],e,o);case An.METER_OFFSETS:return H1(FF(s,[l,c,f]),e,o);case An.CARTESIAN:default:return e.isGeospatial?[l+s[0],c+s[1],f+s[2]]:e.projectPosition([l,c,f])}}function kre(t,e){const{viewport:n,coordinateSystem:r,coordinateOrigin:s,modelMatrix:o,fromCoordinateSystem:l,fromCoordinateOrigin:c}=Rre(e),{autoOffset:f=!0}=e,{geospatialOrigin:h=Rj,shaderCoordinateOrigin:p=Rj,offsetMode:m=!1}=f?OF(n,r,s):{},x=qF(t,{viewport:n,modelMatrix:o,coordinateSystem:l,coordinateOrigin:c,offsetMode:m});if(m){const w=n.projectPosition(h||p);Uee(x,x,w)}return x}let Dre=1,Pre=1;class XF{constructor(){H(this,"time",0);H(this,"channels",new Map);H(this,"animations",new Map);H(this,"playing",!1);H(this,"lastEngineTime",-1)}addChannel(e){const{delay:n=0,duration:r=Number.POSITIVE_INFINITY,rate:s=1,repeat:o=1}=e,l=Dre++,c={time:0,delay:n,duration:r,rate:s,repeat:o};return this._setChannelTime(c,this.time),this.channels.set(l,c),l}removeChannel(e){this.channels.delete(e);for(const[n,r]of this.animations)r.channel===e&&this.detachAnimation(n)}isFinished(e){const n=this.channels.get(e);return n===void 0?!1:this.time>=n.delay+n.duration*n.repeat}getTime(e){if(e===void 0)return this.time;const n=this.channels.get(e);return n===void 0?-1:n.time}setTime(e){this.time=Math.max(0,e);const n=this.channels.values();for(const s of n)this._setChannelTime(s,this.time);const r=this.animations.values();for(const s of r){const{animation:o,channel:l}=s;o.setTime(this.getTime(l))}}play(){this.playing=!0}pause(){this.playing=!1,this.lastEngineTime=-1}reset(){this.setTime(0)}attachAnimation(e,n){const r=Pre++;return this.animations.set(r,{animation:e,channel:n}),e.setTime(this.getTime(n)),r}detachAnimation(e){this.animations.delete(e)}update(e){this.playing&&(this.lastEngineTime===-1&&(this.lastEngineTime=e),this.setTime(this.time+(e-this.lastEngineTime)),this.lastEngineTime=e)}_setChannelTime(e,n){const r=n-e.delay,s=e.duration*e.repeat;r>=s?e.time=e.duration*e.rate:(e.time=Math.max(0,r)%e.duration,e.time*=e.rate)}}function jre(t){return typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame(t):setTimeout(t,1e3/60)}function Mre(t){return typeof window<"u"&&window.cancelAnimationFrame?window.cancelAnimationFrame(t):clearTimeout(t)}let Ire=0;const Ore={device:null,onAddHTML:()=>"",onInitialize:async()=>null,onRender:()=>{},onFinalize:()=>{},onError:t=>console.error(t),stats:hS.stats.get(`animation-loop-${Ire++}`),useDevicePixels:!0,autoResizeViewport:!1,autoResizeDrawingBuffer:!1};class Ure{constructor(e){H(this,"device",null);H(this,"canvas",null);H(this,"props");H(this,"animationProps",null);H(this,"timeline",null);H(this,"stats");H(this,"cpuTime");H(this,"gpuTime");H(this,"frameRate");H(this,"display");H(this,"needsRedraw","initialized");H(this,"_initialized",!1);H(this,"_running",!1);H(this,"_animationFrameId",null);H(this,"_nextFramePromise",null);H(this,"_resolveNextFrame",null);H(this,"_cpuStartTime",0);H(this,"_error",null);if(this.props={...Ore,...e},e=this.props,!e.device)throw new Error("No device provided");const{useDevicePixels:n=!0}=this.props;this.stats=e.stats||new ov({id:"animation-loop-stats"}),this.cpuTime=this.stats.get("CPU Time"),this.gpuTime=this.stats.get("GPU Time"),this.frameRate=this.stats.get("Frame Rate"),this.setProps({autoResizeViewport:e.autoResizeViewport,autoResizeDrawingBuffer:e.autoResizeDrawingBuffer,useDevicePixels:n}),this.start=this.start.bind(this),this.stop=this.stop.bind(this),this._onMousemove=this._onMousemove.bind(this),this._onMouseleave=this._onMouseleave.bind(this)}destroy(){this.stop(),this._setDisplay(null)}delete(){this.destroy()}setError(e){var r,s;if(this.props.onError(e),this._error=Error(),((s=(r=this.device)==null?void 0:r.canvasContext)==null?void 0:s.canvas)instanceof HTMLCanvasElement){const o=document.createElement("h1");o.innerHTML=e.message,o.style.position="absolute",o.style.top="20%",o.style.left="10px",o.style.color="black",o.style.backgroundColor="red",document.body.appendChild(o)}}setNeedsRedraw(e){return this.needsRedraw=this.needsRedraw||e,this}setProps(e){return"autoResizeViewport"in e&&(this.props.autoResizeViewport=e.autoResizeViewport||!1),"autoResizeDrawingBuffer"in e&&(this.props.autoResizeDrawingBuffer=e.autoResizeDrawingBuffer||!1),"useDevicePixels"in e&&(this.props.useDevicePixels=e.useDevicePixels||!1),this}async start(){if(this._running)return this;this._running=!0;try{let e;return this._initialized||(this._initialized=!0,await this._initDevice(),this._initialize(),await this.props.onInitialize(this._getAnimationProps())),this._running?(e!==!1&&(this._cancelAnimationFrame(),this._requestAnimationFrame()),this):null}catch(e){const n=e instanceof Error?e:new Error("Unknown error");throw this.props.onError(n),n}}stop(){return this._running&&(this.animationProps&&!this._error&&this.props.onFinalize(this.animationProps),this._cancelAnimationFrame(),this._nextFramePromise=null,this._resolveNextFrame=null,this._running=!1),this}redraw(){var e;return(e=this.device)!=null&&e.isLost||this._error?this:(this._beginFrameTimers(),this._setupFrame(),this._updateAnimationProps(),this._renderFrame(this._getAnimationProps()),this._clearNeedsRedraw(),this._resolveNextFrame&&(this._resolveNextFrame(this),this._nextFramePromise=null,this._resolveNextFrame=null),this._endFrameTimers(),this)}attachTimeline(e){return this.timeline=e,this.timeline}detachTimeline(){this.timeline=null}waitForRender(){return this.setNeedsRedraw("waitForRender"),this._nextFramePromise||(this._nextFramePromise=new Promise(e=>{this._resolveNextFrame=e})),this._nextFramePromise}async toDataURL(){if(this.setNeedsRedraw("toDataURL"),await this.waitForRender(),this.canvas instanceof HTMLCanvasElement)return this.canvas.toDataURL();throw new Error("OffscreenCanvas")}_initialize(){this._startEventHandling(),this._initializeAnimationProps(),this._updateAnimationProps(),this._resizeCanvasDrawingBuffer(),this._resizeViewport()}_setDisplay(e){this.display&&(this.display.destroy(),this.display.animationLoop=null),e&&(e.animationLoop=this),this.display=e}_requestAnimationFrame(){this._running&&(this._animationFrameId=jre(this._animationFrame.bind(this)))}_cancelAnimationFrame(){this._animationFrameId!==null&&(Mre(this._animationFrameId),this._animationFrameId=null)}_animationFrame(){this._running&&(this.redraw(),this._requestAnimationFrame())}_renderFrame(e){var n;if(this.display){this.display._renderFrame(e);return}this.props.onRender(this._getAnimationProps()),(n=this.device)==null||n.submit()}_clearNeedsRedraw(){this.needsRedraw=!1}_setupFrame(){this._resizeCanvasDrawingBuffer(),this._resizeViewport()}_initializeAnimationProps(){var n,r;const e=(r=(n=this.device)==null?void 0:n.canvasContext)==null?void 0:r.canvas;if(!this.device||!e)throw new Error("loop");this.animationProps={animationLoop:this,device:this.device,canvas:e,timeline:this.timeline,useDevicePixels:this.props.useDevicePixels,needsRedraw:!1,width:1,height:1,aspect:1,time:0,startTime:Date.now(),engineTime:0,tick:0,tock:0,_mousePosition:null}}_getAnimationProps(){if(!this.animationProps)throw new Error("animationProps");return this.animationProps}_updateAnimationProps(){if(!this.animationProps)return;const{width:e,height:n,aspect:r}=this._getSizeAndAspect();(e!==this.animationProps.width||n!==this.animationProps.height)&&this.setNeedsRedraw("drawing buffer resized"),r!==this.animationProps.aspect&&this.setNeedsRedraw("drawing buffer aspect changed"),this.animationProps.width=e,this.animationProps.height=n,this.animationProps.aspect=r,this.animationProps.needsRedraw=this.needsRedraw,this.animationProps.engineTime=Date.now()-this.animationProps.startTime,this.timeline&&this.timeline.update(this.animationProps.engineTime),this.animationProps.tick=Math.floor(this.animationProps.time/1e3*60),this.animationProps.tock++,this.animationProps.time=this.timeline?this.timeline.getTime():this.animationProps.engineTime}async _initDevice(){var e;if(this.device=await this.props.device,!this.device)throw new Error("No device provided");this.canvas=((e=this.device.canvasContext)==null?void 0:e.canvas)||null}_createInfoDiv(){if(this.canvas&&this.props.onAddHTML){const e=document.createElement("div");document.body.appendChild(e),e.style.position="relative";const n=document.createElement("div");n.style.position="absolute",n.style.left="10px",n.style.bottom="10px",n.style.width="300px",n.style.background="white",this.canvas instanceof HTMLCanvasElement&&e.appendChild(this.canvas),e.appendChild(n);const r=this.props.onAddHTML(n);r&&(n.innerHTML=r)}}_getSizeAndAspect(){var o,l,c,f;if(!this.device)return{width:1,height:1,aspect:1};const[e,n]=((l=(o=this.device)==null?void 0:o.canvasContext)==null?void 0:l.getPixelSize())||[1,1];let r=1;const s=(f=(c=this.device)==null?void 0:c.canvasContext)==null?void 0:f.canvas;return s&&s.clientHeight?r=s.clientWidth/s.clientHeight:e>0&&n>0&&(r=e/n),{width:e,height:n,aspect:r}}_resizeViewport(){this.props.autoResizeViewport&&this.device.gl&&this.device.gl.viewport(0,0,this.device.gl.drawingBufferWidth,this.device.gl.drawingBufferHeight)}_resizeCanvasDrawingBuffer(){var e,n;this.props.autoResizeDrawingBuffer&&((n=(e=this.device)==null?void 0:e.canvasContext)==null||n.resize({useDevicePixels:this.props.useDevicePixels}))}_beginFrameTimers(){this.frameRate.timeEnd(),this.frameRate.timeStart(),this.cpuTime.timeStart()}_endFrameTimers(){this.cpuTime.timeEnd()}_startEventHandling(){this.canvas&&(this.canvas.addEventListener("mousemove",this._onMousemove.bind(this)),this.canvas.addEventListener("mouseleave",this._onMouseleave.bind(this)))}_onMousemove(e){e instanceof MouseEvent&&(this._getAnimationProps()._mousePosition=[e.offsetX,e.offsetY])}_onMouseleave(e){this._getAnimationProps()._mousePosition=null}}const W1={};function uv(t="id"){W1[t]=W1[t]||1;const e=W1[t]++;return`${t}-${e}`}class kj{constructor(e){H(this,"id");H(this,"userData",{});H(this,"topology");H(this,"bufferLayout",[]);H(this,"vertexCount");H(this,"indices");H(this,"attributes");if(this.id=e.id||uv("geometry"),this.topology=e.topology,this.indices=e.indices||null,this.attributes=e.attributes,this.vertexCount=e.vertexCount,this.bufferLayout=e.bufferLayout||[],this.indices&&!(this.indices.usage&ir.INDEX))throw new Error("Index buffer must have INDEX usage")}destroy(){var e;(e=this.indices)==null||e.destroy();for(const n of Object.values(this.attributes))n.destroy()}getVertexCount(){return this.vertexCount}getAttributes(){return this.attributes}getIndexes(){return this.indices||null}_calculateVertexCount(e){return e.byteLength/12}}function Vre(t,e){if(e instanceof kj)return e;const n=Fre(t,e),{attributes:r,bufferLayout:s}=Bre(t,e);return new kj({topology:e.topology||"triangle-list",bufferLayout:s,vertexCount:e.vertexCount,indices:n,attributes:r})}function Fre(t,e){if(!e.indices)return;const n=e.indices.value;return t.createBuffer({usage:ir.INDEX,data:n})}function Bre(t,e){const n=[],r={};for(const[o,l]of Object.entries(e.attributes)){let c=o;switch(o){case"POSITION":c="positions";break;case"NORMAL":c="normals";break;case"TEXCOORD_0":c="texCoords";break;case"COLOR_0":c="colors";break}if(l){r[c]=t.createBuffer({data:l.value,id:`${o}-buffer`});const{value:f,size:h,normalized:p}=l;n.push({name:c,format:OJ(f,h,p)})}}const s=e._calculateVertexCount(e.attributes,e.indices);return{attributes:r,bufferLayout:n,vertexCount:s}}const Uy=class Uy{constructor(e){H(this,"device");H(this,"destroyPolicy");H(this,"_hashCounter",0);H(this,"_hashes",{});H(this,"_renderPipelineCache",{});H(this,"_computePipelineCache",{});this.device=e,this.destroyPolicy=e.props._factoryDestroyPolicy}static getDefaultPipelineFactory(e){return e._lumaData.defaultPipelineFactory=e._lumaData.defaultPipelineFactory||new Uy(e),e._lumaData.defaultPipelineFactory}createRenderPipeline(e){const n={...xd.defaultProps,...e},r=this._hashRenderPipeline(n);if(!this._renderPipelineCache[r]){const s=this.device.createRenderPipeline({...n,id:n.id?`${n.id}-cached`:void 0});s.hash=r,this._renderPipelineCache[r]={pipeline:s,useCount:0}}return this._renderPipelineCache[r].useCount++,this._renderPipelineCache[r].pipeline}createComputePipeline(e){const n={...ty.defaultProps,...e},r=this._hashComputePipeline(n);if(!this._computePipelineCache[r]){const s=this.device.createComputePipeline({...n,id:n.id?`${n.id}-cached`:void 0});s.hash=r,this._computePipelineCache[r]={pipeline:s,useCount:0}}return this._computePipelineCache[r].useCount++,this._computePipelineCache[r].pipeline}release(e){const n=e.hash,r=e instanceof ty?this._computePipelineCache:this._renderPipelineCache;r[n].useCount--,r[n].useCount===0&&this.destroyPolicy==="unused"&&(r[n].pipeline.destroy(),delete r[n])}_hashComputePipeline(e){return`${this._getHash(e.shader.source)}`}_hashRenderPipeline(e){const n=e.vs?this._getHash(e.vs.source):0,r=e.fs?this._getHash(e.fs.source):0,s="-",o=this._getHash(JSON.stringify(e.bufferLayout));switch(this.device.type){case"webgl":return`${n}/${r}V${s}BL${o}`;default:const l=this._getHash(JSON.stringify(e.parameters));return`${n}/${r}V${s}T${e.topology}P${l}BL${o}`}}_getHash(e){return this._hashes[e]===void 0&&(this._hashes[e]=this._hashCounter++),this._hashes[e]}};H(Uy,"defaultProps",{...xd.defaultProps});let MS=Uy;const Vy=class Vy{constructor(e){H(this,"device");H(this,"destroyPolicy");H(this,"_cache",{});this.device=e,this.destroyPolicy=e.props._factoryDestroyPolicy}static getDefaultShaderFactory(e){var n;return(n=e._lumaData).defaultShaderFactory||(n.defaultShaderFactory=new Vy(e)),e._lumaData.defaultShaderFactory}createShader(e){const n=this._hashShader(e);let r=this._cache[n];if(!r){const s=this.device.createShader({...e,id:e.id?`${e.id}-cached`:void 0});this._cache[n]=r={shader:s,useCount:0}}return r.useCount++,r.shader}release(e){const n=this._hashShader(e),r=this._cache[n];r&&(r.useCount--,r.useCount===0&&this.destroyPolicy==="unused"&&(delete this._cache[n],r.shader.destroy()))}_hashShader(e){return`${e.stage}:${e.source}`}};H(Vy,"defaultProps",{...Gx.defaultProps});let IS=Vy;function Lre(t,e){var s;const n={},r="Values";if(t.attributes.length===0&&!((s=t.varyings)!=null&&s.length))return{"No attributes or varyings":{[r]:"N/A"}};for(const o of t.attributes)if(o){const l=`${o.location} ${o.name}: ${o.type}`;n[`in ${l}`]={[r]:o.stepMode||"vertex"}}for(const o of t.varyings||[]){const l=`${o.location} ${o.name}`;n[`out ${l}`]={[r]:JSON.stringify(o)}}return n}let Hr=null,jc=null;function zre(t,{id:e,minimap:n,opaque:r,top:s="0",left:o="0",rgbaScale:l=1}){Hr||(Hr=document.createElement("canvas"),Hr.id=e,Hr.title=e,Hr.style.zIndex="100",Hr.style.position="absolute",Hr.style.top=s,Hr.style.left=o,Hr.style.border="blue 5px solid",Hr.style.transform="scaleY(-1)",document.body.appendChild(Hr),jc=Hr.getContext("2d")),(Hr.width!==t.width||Hr.height!==t.height)&&(Hr.width=t.width/2,Hr.height=t.height/2,Hr.style.width="400px",Hr.style.height="400px");const c=t.device.readPixelsToArrayWebGL(t),f=jc==null?void 0:jc.createImageData(t.width,t.height);if(f){for(let p=0;p<c.length;p+=4)f.data[0+p+0]=c[p+0]*l,f.data[0+p+1]=c[p+1]*l,f.data[0+p+2]=c[p+2]*l,f.data[0+p+3]=r?255:c[p+3]*l;jc==null||jc.putImageData(f,0,0)}}function OS(t,e,n){if(t===e)return!0;if(!n||!t||!e)return!1;if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(!OS(t[r],e[r],n-1))return!1;return!0}if(Array.isArray(e))return!1;if(typeof t=="object"&&typeof e=="object"){const r=Object.keys(t),s=Object.keys(e);if(r.length!==s.length)return!1;for(const o of r)if(!e.hasOwnProperty(o)||!OS(t[o],e[o],n-1))return!1;return!0}return!1}function $re(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Hre(t){return Array.isArray(t)?t.length===0||typeof t[0]=="number":!1}function YF(t){return $re(t)||Hre(t)}function Wre(t){return YF(t)||typeof t=="number"||typeof t=="boolean"}function KF(t){const e={bindings:{},uniforms:{}};return Object.keys(t).forEach(n=>{const r=t[n];Wre(r)?e.uniforms[n]=r:e.bindings[n]=r}),e}class qre{constructor(e,n){H(this,"options",{disableWarnings:!1});H(this,"modules");H(this,"moduleUniforms");H(this,"moduleBindings");Object.assign(this.options,n);const r=nT(Object.values(e).filter(s=>s.dependencies));for(const s of r)e[s.name]=s;ot.log(1,"Creating ShaderInputs with modules",Object.keys(e))(),this.modules=e,this.moduleUniforms={},this.moduleBindings={};for(const[s,o]of Object.entries(e))this._addModule(o),o.name&&s!==o.name&&!this.options.disableWarnings&&ot.warn(`Module name: ${s} vs ${o.name}`)()}destroy(){}setProps(e){var n;for(const r of Object.keys(e)){const s=r,o=e[s]||{},l=this.modules[s];if(!l){this.options.disableWarnings||ot.warn(`Module ${r} not found`)();continue}const c=this.moduleUniforms[s],f=this.moduleBindings[s],h=((n=l.getUniforms)==null?void 0:n.call(l,o,c))||o,{uniforms:p,bindings:m}=KF(h);this.moduleUniforms[s]={...c,...p},this.moduleBindings[s]={...f,...m}}}getModules(){return Object.values(this.modules)}getUniformValues(){return this.moduleUniforms}getBindingValues(){const e={};for(const n of Object.values(this.moduleBindings))Object.assign(e,n);return e}getDebugTable(){var n;const e={};for(const[r,s]of Object.entries(this.moduleUniforms))for(const[o,l]of Object.entries(s))e[`${r}.${o}`]={type:(n=this.modules[r].uniformTypes)==null?void 0:n[o],value:String(l)};return e}_addModule(e){const n=e.name;this.moduleUniforms[n]=e.defaultUniforms||{},this.moduleBindings[n]={}}}let Xre="";async function Yre(t,e){const n=new Image;return n.crossOrigin="anonymous",n.src=t.startsWith("http")?t:Xre+t,await n.decode(),e?await createImageBitmap(n,e):await createImageBitmap(n)}class q1{constructor(e,n){H(this,"device");H(this,"id");H(this,"texture");H(this,"sampler");H(this,"view");H(this,"ready");H(this,"isReady",!1);H(this,"destroyed",!1);H(this,"resolveReady",()=>{});H(this,"rejectReady",()=>{});this.device=e,this.id=n.id||uv("async-texture"),typeof(n==null?void 0:n.data)=="string"&&n.dimension==="2d"&&(n={...n,data:Yre(n.data)}),this.ready=new Promise((r,s)=>{this.resolveReady=()=>{this.isReady=!0,r()},this.rejectReady=s}),this.initAsync(n)}get[Symbol.toStringTag](){return"AsyncTexture"}toString(){return`AsyncTexture:"${this.id}"(${this.isReady?"ready":"loading"})`}async initAsync(e){const n=e.data;let r;try{r=await ZF(n)}catch(o){this.rejectReady(o)}if(this.destroyed)return;const s={...e,data:r};this.texture=this.device.createTexture(s),this.sampler=this.texture.sampler,this.view=this.texture.view,this.isReady=!0,this.resolveReady()}destroy(){this.texture&&(this.texture.destroy(),this.texture=null),this.destroyed=!0}resize(e){if(!this.isReady)throw new Error("Cannot resize texture before it is ready");if(e.width===this.texture.width&&e.height===this.texture.height)return!1;if(this.texture){const n=this.texture;this.texture=n.clone(e),n.destroy()}return!0}}async function ZF(t){if(t=await t,Array.isArray(t))return await Promise.all(t.map(ZF));if(t&&typeof t=="object"&&t.constructor===Object){const e=t,n=await Promise.all(Object.values(e)),r=Object.keys(e),s={};for(let o=0;o<r.length;o++)s[r[o]]=n[o];return s}return t}const Mc=2,Kre=1e4,Fy=class Fy{constructor(e,n){H(this,"device");H(this,"id");H(this,"source");H(this,"vs");H(this,"fs");H(this,"pipelineFactory");H(this,"shaderFactory");H(this,"userData",{});H(this,"parameters");H(this,"topology");H(this,"bufferLayout");H(this,"isInstanced");H(this,"instanceCount",0);H(this,"vertexCount");H(this,"indexBuffer",null);H(this,"bufferAttributes",{});H(this,"constantAttributes",{});H(this,"bindings",{});H(this,"uniforms",{});H(this,"vertexArray");H(this,"transformFeedback",null);H(this,"pipeline");H(this,"shaderInputs");H(this,"_uniformStore");H(this,"_attributeInfos",{});H(this,"_gpuGeometry",null);H(this,"_getModuleUniforms");H(this,"props");H(this,"_pipelineNeedsUpdate","newly created");H(this,"_needsRedraw","initializing");H(this,"_destroyed",!1);H(this,"_lastDrawTimestamp",-1);H(this,"_lastLogTime",0);H(this,"_logOpen",!1);H(this,"_drawCount",0);var f,h,p,m;this.props={...Fy.defaultProps,...n},n=this.props,this.id=n.id||uv("model"),this.device=e,Object.assign(this.userData,n.userData);const r=Object.fromEntries(((f=this.props.modules)==null?void 0:f.map(x=>[x.name,x]))||[]),s=n.shaderInputs||new qre(r,{disableWarnings:this.props.disableWarnings});this.setShaderInputs(s);const o=Qre(e),l=(((h=this.props.modules)==null?void 0:h.length)>0?this.props.modules:(p=this.shaderInputs)==null?void 0:p.getModules())||[];if(this.device.type==="webgpu"&&this.props.source){const{source:x,getUniforms:w}=this.props.shaderAssembler.assembleWGSLShader({platformInfo:o,...this.props,modules:l});this.source=x,this._getModuleUniforms=w,(m=this.props).shaderLayout||(m.shaderLayout=dee(this.source))}else{const{vs:x,fs:w,getUniforms:E}=this.props.shaderAssembler.assembleGLSLShaderPair({platformInfo:o,...this.props,modules:l});this.vs=x,this.fs=w,this._getModuleUniforms=E}this.vertexCount=this.props.vertexCount,this.instanceCount=this.props.instanceCount,this.topology=this.props.topology,this.bufferLayout=this.props.bufferLayout,this.parameters=this.props.parameters,n.geometry&&this.setGeometry(n.geometry),this.pipelineFactory=n.pipelineFactory||MS.getDefaultPipelineFactory(this.device),this.shaderFactory=n.shaderFactory||IS.getDefaultShaderFactory(this.device),this.pipeline=this._updatePipeline(),this.vertexArray=e.createVertexArray({renderPipeline:this.pipeline}),this._gpuGeometry&&this._setGeometryAttributes(this._gpuGeometry),"isInstanced"in n&&(this.isInstanced=n.isInstanced),n.instanceCount&&this.setInstanceCount(n.instanceCount),n.vertexCount&&this.setVertexCount(n.vertexCount),n.indexBuffer&&this.setIndexBuffer(n.indexBuffer),n.attributes&&this.setAttributes(n.attributes),n.constantAttributes&&this.setConstantAttributes(n.constantAttributes),n.bindings&&this.setBindings(n.bindings),n.uniforms&&this.setUniformsWebGL(n.uniforms),n.moduleSettings&&this.updateModuleSettingsWebGL(n.moduleSettings),n.transformFeedback&&(this.transformFeedback=n.transformFeedback),Object.seal(this)}get[Symbol.toStringTag](){return"Model"}toString(){return`Model(${this.id})`}destroy(){var e;this._destroyed||(this.pipelineFactory.release(this.pipeline),this.shaderFactory.release(this.pipeline.vs),this.pipeline.fs&&this.shaderFactory.release(this.pipeline.fs),this._uniformStore.destroy(),(e=this._gpuGeometry)==null||e.destroy(),this._destroyed=!0)}needsRedraw(){this._getBindingsUpdateTimestamp()>this._lastDrawTimestamp&&this.setNeedsRedraw("contents of bound textures or buffers updated");const e=this._needsRedraw;return this._needsRedraw=!1,e}setNeedsRedraw(e){this._needsRedraw||(this._needsRedraw=e)}predraw(){this.updateShaderInputs(),this.pipeline=this._updatePipeline()}draw(e){const n=this._areBindingsLoading();if(n)return ot.info(Mc,`>>> DRAWING ABORTED ${this.id}: ${n} not loaded`)(),!1;try{e.pushDebugGroup(`${this}.predraw(${e})`),this.predraw()}finally{e.popDebugGroup()}let r;try{e.pushDebugGroup(`${this}.draw(${e})`),this._logDrawCallStart(),this.pipeline=this._updatePipeline();const s=this._getBindings();this.pipeline.setBindings(s,{disableWarnings:this.props.disableWarnings}),US(this.uniforms)||this.pipeline.setUniformsWebGL(this.uniforms);const{indexBuffer:o}=this.vertexArray,l=o?o.byteLength/(o.indexType==="uint32"?4:2):void 0;r=this.pipeline.draw({renderPass:e,vertexArray:this.vertexArray,isInstanced:this.isInstanced,vertexCount:this.vertexCount,instanceCount:this.instanceCount,indexCount:l,transformFeedback:this.transformFeedback||void 0,parameters:this.parameters,topology:this.topology})}finally{e.popDebugGroup(),this._logDrawCallEnd()}return this._logFramebuffer(e),r?(this._lastDrawTimestamp=this.device.timestamp,this._needsRedraw=!1):this._needsRedraw="waiting for resource initialization",r}setGeometry(e){var r;(r=this._gpuGeometry)==null||r.destroy();const n=e&&Vre(this.device,e);if(n){this.setTopology(n.topology||"triangle-list");const s=new j1(this.bufferLayout);this.bufferLayout=s.mergeBufferLayouts(n.bufferLayout,this.bufferLayout),this.vertexArray&&this._setGeometryAttributes(n)}this._gpuGeometry=n}setTopology(e){e!==this.topology&&(this.topology=e,this._setPipelineNeedsUpdate("topology"))}setBufferLayout(e){const n=new j1(this.bufferLayout);this.bufferLayout=this._gpuGeometry?n.mergeBufferLayouts(e,this._gpuGeometry.bufferLayout):e,this._setPipelineNeedsUpdate("bufferLayout"),this.pipeline=this._updatePipeline(),this.vertexArray=this.device.createVertexArray({renderPipeline:this.pipeline}),this._gpuGeometry&&this._setGeometryAttributes(this._gpuGeometry)}setParameters(e){OS(e,this.parameters,2)||(this.parameters=e,this._setPipelineNeedsUpdate("parameters"))}setInstanceCount(e){this.instanceCount=e,this.isInstanced===void 0&&e>0&&(this.isInstanced=!0),this.setNeedsRedraw("instanceCount")}setVertexCount(e){this.vertexCount=e,this.setNeedsRedraw("vertexCount")}setShaderInputs(e){this.shaderInputs=e,this._uniformStore=new IJ(this.shaderInputs.modules);for(const[n,r]of Object.entries(this.shaderInputs.modules))if(Zre(r)){const s=this._uniformStore.getManagedUniformBuffer(this.device,n);this.bindings[`${n}Uniforms`]=s}this.setNeedsRedraw("shaderInputs")}updateShaderInputs(){this._uniformStore.setUniforms(this.shaderInputs.getUniformValues()),this.setBindings(this.shaderInputs.getBindingValues()),this.setNeedsRedraw("shaderInputs")}setBindings(e){Object.assign(this.bindings,e),this.setNeedsRedraw("bindings")}setTransformFeedback(e){this.transformFeedback=e,this.setNeedsRedraw("transformFeedback")}setIndexBuffer(e){this.vertexArray.setIndexBuffer(e),this.setNeedsRedraw("indexBuffer")}setAttributes(e,n){const r=(n==null?void 0:n.disableWarnings)??this.props.disableWarnings;e.indices&&ot.warn(`Model:${this.id} setAttributes() - indexBuffer should be set using setIndexBuffer()`)(),this.bufferLayout=UJ(this.pipeline.shaderLayout,this.bufferLayout);const s=new j1(this.bufferLayout);for(const[o,l]of Object.entries(e)){const c=s.getBufferLayout(o);if(!c){r||ot.warn(`Model(${this.id}): Missing layout for buffer "${o}".`)();continue}const f=s.getAttributeNamesForBuffer(c);let h=!1;for(const p of f){const m=this._attributeInfos[p];if(m){const x=this.device.type==="webgpu"?s.getBufferIndex(m.bufferName):m.location;this.vertexArray.setBuffer(x,l),h=!0}}!h&&!r&&ot.warn(`Model(${this.id}): Ignoring buffer "${l.id}" for unknown attribute "${o}"`)()}this.setNeedsRedraw("attributes")}setConstantAttributes(e,n){for(const[r,s]of Object.entries(e)){const o=this._attributeInfos[r];o?this.vertexArray.setConstantWebGL(o.location,s):((n==null?void 0:n.disableWarnings)??this.props.disableWarnings)||ot.warn(`Model "${this.id}: Ignoring constant supplied for unknown attribute "${r}"`)()}this.setNeedsRedraw("constants")}setUniforms(e){this.setUniformsWebGL(e)}setUniformsWebGL(e){US(e)||(this.pipeline.setUniformsWebGL(e),Object.assign(this.uniforms,e)),this.setNeedsRedraw("uniforms")}updateModuleSettingsWebGL(e){const{bindings:n,uniforms:r}=KF(this._getModuleUniforms(e));Object.assign(this.bindings,n),Object.assign(this.uniforms,r),this.setNeedsRedraw("moduleSettings")}_areBindingsLoading(){for(const e of Object.values(this.bindings))if(e instanceof q1&&!e.isReady)return e.id;return!1}_getBindings(){const e={};for(const[n,r]of Object.entries(this.bindings))r instanceof q1?r.isReady&&(e[n]=r.texture):e[n]=r;return e}_getBindingsUpdateTimestamp(){let e=0;for(const n of Object.values(this.bindings))n instanceof Qx?e=Math.max(e,n.texture.updateTimestamp):n instanceof ir||n instanceof mr?e=Math.max(e,n.updateTimestamp):n instanceof q1?e=n.texture?Math.max(e,n.texture.updateTimestamp):1/0:n instanceof Jx||(e=Math.max(e,n.buffer.updateTimestamp));return e}_setGeometryAttributes(e){const n={...e.attributes};for(const[r]of Object.entries(n))!this.pipeline.shaderLayout.attributes.find(s=>s.name===r)&&r!=="positions"&&delete n[r];this.vertexCount=e.vertexCount,this.setIndexBuffer(e.indices||null),this.setAttributes(e.attributes,{disableWarnings:!0}),this.setAttributes(n,{disableWarnings:this.props.disableWarnings}),this.setNeedsRedraw("geometry attributes")}_setPipelineNeedsUpdate(e){this._pipelineNeedsUpdate||(this._pipelineNeedsUpdate=e),this.setNeedsRedraw(e)}_updatePipeline(){if(this._pipelineNeedsUpdate){let e=null,n=null;this.pipeline&&(ot.log(1,`Model ${this.id}: Recreating pipeline because "${this._pipelineNeedsUpdate}".`)(),e=this.pipeline.vs,n=this.pipeline.fs),this._pipelineNeedsUpdate=!1;const r=this.shaderFactory.createShader({id:`${this.id}-vertex`,stage:"vertex",source:this.source||this.vs,debugShaders:this.props.debugShaders});let s=null;this.source?s=r:this.fs&&(s=this.shaderFactory.createShader({id:`${this.id}-fragment`,stage:"fragment",source:this.source||this.fs,debugShaders:this.props.debugShaders})),this.pipeline=this.pipelineFactory.createRenderPipeline({...this.props,bufferLayout:this.bufferLayout,topology:this.topology,parameters:this.parameters,bindings:this._getBindings(),vs:r,fs:s}),this._attributeInfos=YV(this.pipeline.shaderLayout,this.bufferLayout),e&&this.shaderFactory.release(e),n&&this.shaderFactory.release(n)}return this.pipeline}_logDrawCallStart(){const e=ot.level>3?0:Kre;ot.level<2||Date.now()-this._lastLogTime<e||(this._lastLogTime=Date.now(),this._logOpen=!0,ot.group(Mc,`>>> DRAWING MODEL ${this.id}`,{collapsed:ot.level<=2})())}_logDrawCallEnd(){if(this._logOpen){const e=Lre(this.pipeline.shaderLayout,this.id);ot.table(Mc,e)();const n=this.shaderInputs.getDebugTable();for(const[s,o]of Object.entries(this.uniforms))n[s]={value:o};ot.table(Mc,n)();const r=this._getAttributeDebugTable();ot.table(Mc,this._attributeInfos)(),ot.table(Mc,r)(),ot.groupEnd(Mc)(),this._logOpen=!1}}_logFramebuffer(e){const n=this.device.props.debugFramebuffers;if(this._drawCount++,!n)return;const r=e.props.framebuffer;r&&zre(r,{id:r.id,minimap:!0})}_getAttributeDebugTable(){const e={};for(const[n,r]of Object.entries(this._attributeInfos)){const s=this.vertexArray.attributes[r.location];e[r.location]={name:n,type:r.shaderType,values:s?this._getBufferOrConstantValues(s,r.bufferDataType):"null"}}if(this.vertexArray.indexBuffer){const{indexBuffer:n}=this.vertexArray,r=n.indexType==="uint32"?new Uint32Array(n.debugData):new Uint16Array(n.debugData);e.indices={name:"indices",type:n.indexType,values:r.toString()}}return e}_getBufferOrConstantValues(e,n){const r=QV(n);return(e instanceof ir?new r(e.debugData):e).toString()}};H(Fy,"defaultProps",{...xd.defaultProps,source:void 0,vs:null,fs:null,id:"unnamed",handle:void 0,userData:{},defines:{},modules:[],moduleSettings:void 0,geometry:null,indexBuffer:null,attributes:{},constantAttributes:{},varyings:[],isInstanced:void 0,instanceCount:0,vertexCount:0,shaderInputs:void 0,pipelineFactory:void 0,shaderFactory:void 0,transformFeedback:void 0,shaderAssembler:Zx.getDefaultShaderAssembler(),debugShaders:void 0,disableWarnings:void 0});let Ed=Fy;function Zre(t){return!!(t.uniformTypes&&!US(t.uniformTypes))}function Qre(t){return{type:t.type,shaderLanguage:t.info.shadingLanguage,shaderLanguageVersion:t.info.shadingLanguageVersion,gpu:t.info.gpu,features:t.features}}function US(t){for(const e in t)return!1;return!0}const Xp=class Xp{constructor(e,n=Xp.defaultProps){H(this,"device");H(this,"model");H(this,"transformFeedback");if(!Xp.isSupported(e))throw new Error("BufferTransform not yet implemented on WebGPU");this.device=e,this.model=new Ed(this.device,{id:n.id||"buffer-transform-model",fs:n.fs||VG(),topology:n.topology||"point-list",varyings:n.outputs||n.varyings,...n}),this.transformFeedback=this.device.createTransformFeedback({layout:this.model.pipeline.shaderLayout,buffers:n.feedbackBuffers}),this.model.setTransformFeedback(this.transformFeedback),Object.seal(this)}static isSupported(e){var n;return((n=e==null?void 0:e.info)==null?void 0:n.type)==="webgl"}destroy(){this.model&&this.model.destroy()}delete(){this.destroy()}run(e){e!=null&&e.inputBuffers&&this.model.setAttributes(e.inputBuffers),e!=null&&e.outputBuffers&&this.transformFeedback.setBuffers(e.outputBuffers);const n=this.device.beginRenderPass(e);this.model.draw(n),n.end()}getBuffer(e){return this.transformFeedback.getBuffer(e)}readAsync(e){const n=this.getBuffer(e);if(!n)throw new Error("BufferTransform#getBuffer");if(n instanceof ir)return n.readAsync();const{buffer:r,byteOffset:s=0,byteLength:o=r.byteLength}=n;return r.readAsync(s,o)}};H(Xp,"defaultProps",{...Ed.defaultProps,outputs:void 0,feedbackBuffers:void 0});let im=Xp;class Gre{constructor(e){H(this,"id");H(this,"topology");H(this,"vertexCount");H(this,"indices");H(this,"attributes");H(this,"userData",{});const{attributes:n={},indices:r=null,vertexCount:s=null}=e;this.id=e.id||uv("geometry"),this.topology=e.topology,r&&(this.indices=ArrayBuffer.isView(r)?{value:r,size:1}:r),this.attributes={};for(const[o,l]of Object.entries(n)){const c=ArrayBuffer.isView(l)?{value:l}:l;if(!ArrayBuffer.isView(c.value))throw new Error(`${this._print(o)}: must be typed array or object with value as typed array`);if((o==="POSITION"||o==="positions")&&!c.size&&(c.size=3),o==="indices"){if(this.indices)throw new Error("Multiple indices detected");this.indices=c}else this.attributes[o]=c}this.indices&&this.indices.isIndexed!==void 0&&(this.indices=Object.assign({},this.indices),delete this.indices.isIndexed),this.vertexCount=s||this._calculateVertexCount(this.attributes,this.indices)}getVertexCount(){return this.vertexCount}getAttributes(){return this.indices?{indices:this.indices,...this.attributes}:this.attributes}_print(e){return`Geometry ${this.id} attribute ${e}`}_setAttributes(e,n){return this}_calculateVertexCount(e,n){if(n)return n.value.length;let r=1/0;for(const s of Object.values(e)){const{value:o,size:l,constant:c}=s;!c&&o&&l!==void 0&&l>=1&&(r=Math.min(r,o.length/l))}return r}}const Jre={blendColorOperation:"add",blendColorSrcFactor:"one",blendColorDstFactor:"zero",blendAlphaOperation:"add",blendAlphaSrcFactor:"constant-alpha",blendAlphaDstFactor:"zero"};class QF extends bT{constructor(){super(...arguments),this._colorEncoderState=null}render(e){return"pickingFBO"in e?this._drawPickingBuffer(e):super.render(e)}_drawPickingBuffer({layers:e,layerFilter:n,views:r,viewports:s,onViewportActive:o,pickingFBO:l,deviceRect:{x:c,y:f,width:h,height:p},cullRect:m,effects:x,pass:w="picking",pickZ:E,shaderModuleProps:T}){this.pickZ=E;const C=this._resetColorEncoder(E),P=[c,f,h,p],j=super.render({target:l,layers:e,layerFilter:n,views:r,viewports:s,onViewportActive:o,cullRect:m,effects:x==null?void 0:x.filter(U=>U.useInPicking),pass:w,isPicking:!0,shaderModuleProps:T,clearColor:[0,0,0,0],colorMask:15,scissorRect:P});return this._colorEncoderState=null,{decodePickingColor:C&&tse.bind(null,C),stats:j}}shouldDrawLayer(e){const{pickable:n,operation:r}=e.props;return n&&r.includes("draw")||r.includes("terrain")||r.includes("mask")}getShaderModuleProps(e,n,r){return{picking:{isActive:1,isAttribute:this.pickZ},lighting:{enabled:!1}}}getLayerParameters(e,n,r){const s={...e.props.parameters},{pickable:o,operation:l}=e.props;return!this._colorEncoderState||l.includes("terrain")?s.blend=!1:o&&l.includes("draw")&&(Object.assign(s,Jre),s.blend=!0,s.blendColor=ese(this._colorEncoderState,e,r)),s}_resetColorEncoder(e){return this._colorEncoderState=e?null:{byLayer:new Map,byAlpha:[]},this._colorEncoderState}}function ese(t,e,n){const{byLayer:r,byAlpha:s}=t;let o,l=r.get(e);return l?(l.viewports.push(n),o=l.a):(o=r.size+1,o<=255?(l={a:o,layer:e,viewports:[n]},r.set(e,l),s[o]=l):(Hn.warn("Too many pickable layers, only picking the first 255")(),o=0)),[0,0,0,o/255]}function tse(t,e){const n=t.byAlpha[e[3]];return n&&{pickedLayer:n.layer,pickedViewports:n.viewports,pickedObjectIndex:n.layer.decodePickingColor(e)}}const Ff={NO_STATE:"Awaiting state",MATCHED:"Matched. State transferred from previous layer",INITIALIZED:"Initialized",AWAITING_GC:"Discarded. Awaiting garbage collection",AWAITING_FINALIZATION:"No longer matched. Awaiting garbage collection",FINALIZED:"Finalized! Awaiting garbage collection"},py=Symbol.for("component"),Qc=Symbol.for("propTypes"),X1=Symbol.for("deprecatedProps"),Jf=Symbol.for("asyncPropDefaults"),mu=Symbol.for("asyncPropOriginal"),Ml=Symbol.for("asyncPropResolved");function GF(t,e=()=>!0){return Array.isArray(t)?JF(t,e,[]):e(t)?[t]:[]}function JF(t,e,n){let r=-1;for(;++r<t.length;){const s=t[r];Array.isArray(s)?JF(s,e,n):e(s)&&n.push(s)}return n}function nse({target:t,source:e,start:n=0,count:r=1}){const s=e.length,o=r*s;let l=0;for(let c=n;l<s;l++)t[c++]=e[l];for(;l<o;)l<o-l?(t.copyWithin(n+l,n,n+l),l*=2):(t.copyWithin(n+l,n,n+o-l),l=o);return t}class rse{constructor(e,n,r){this._loadCount=0,this._subscribers=new Set,this.id=e,this.context=r,this.setData(n)}subscribe(e){this._subscribers.add(e)}unsubscribe(e){this._subscribers.delete(e)}inUse(){return this._subscribers.size>0}delete(){}getData(){return this.isLoaded?this._error?Promise.reject(this._error):this._content:this._loader.then(()=>this.getData())}setData(e,n){if(e===this._data&&!n)return;this._data=e;const r=++this._loadCount;let s=e;typeof e=="string"&&(s=aS(e)),s instanceof Promise?(this.isLoaded=!1,this._loader=s.then(o=>{this._loadCount===r&&(this.isLoaded=!0,this._error=void 0,this._content=o)}).catch(o=>{this._loadCount===r&&(this.isLoaded=!0,this._error=o||!0)})):(this.isLoaded=!0,this._error=void 0,this._content=e);for(const o of this._subscribers)o.onChange(this.getData())}}class sse{constructor(e){var n;this.protocol=e.protocol||"resource://",this._context={device:e.device,gl:(n=e.device)==null?void 0:n.gl,resourceManager:this},this._resources={},this._consumers={},this._pruneRequest=null}contains(e){return e.startsWith(this.protocol)?!0:e in this._resources}add({resourceId:e,data:n,forceUpdate:r=!1,persistent:s=!0}){let o=this._resources[e];o?o.setData(n,r):(o=new rse(e,n,this._context),this._resources[e]=o),o.persistent=s}remove(e){const n=this._resources[e];n&&(n.delete(),delete this._resources[e])}unsubscribe({consumerId:e}){const n=this._consumers[e];if(n){for(const r in n){const s=n[r],o=this._resources[s.resourceId];o&&o.unsubscribe(s)}delete this._consumers[e],this.prune()}}subscribe({resourceId:e,onChange:n,consumerId:r,requestId:s="default"}){const{_resources:o,protocol:l}=this;e.startsWith(l)&&(e=e.replace(l,""),o[e]||this.add({resourceId:e,data:null,persistent:!1}));const c=o[e];if(this._track(r,s,c,n),c)return c.getData()}prune(){this._pruneRequest||(this._pruneRequest=setTimeout(()=>this._prune(),0))}finalize(){for(const e in this._resources)this._resources[e].delete()}_track(e,n,r,s){const o=this._consumers,l=o[e]=o[e]||{};let c=l[n];const f=c&&c.resourceId&&this._resources[c.resourceId];f&&(f.unsubscribe(c),this.prune()),r&&(c?(c.onChange=s,c.resourceId=r.id):c={onChange:s,resourceId:r.id},l[n]=c,r.subscribe(c))}_prune(){this._pruneRequest=null;for(const e of Object.keys(this._resources)){const n=this._resources[e];!n.persistent&&!n.inUse()&&(n.delete(),delete this._resources[e])}}}const ise="layerManager.setLayers",ose="layerManager.activateViewport";class ase{constructor(e,n){var c;this._lastRenderedLayers=[],this._needsRedraw=!1,this._needsUpdate=!1,this._nextLayers=null,this._debug=!1,this._defaultShaderModulesChanged=!1,this.activateViewport=f=>{Rs(ose,this,f),f&&(this.context.viewport=f)};const{deck:r,stats:s,viewport:o,timeline:l}=n||{};this.layers=[],this.resourceManager=new sse({device:e,protocol:"deck://"}),this.context={mousePosition:null,userData:{},layerManager:this,device:e,gl:e==null?void 0:e.gl,deck:r,shaderAssembler:ore(((c=e==null?void 0:e.info)==null?void 0:c.shadingLanguage)||"glsl"),defaultShaderModules:[gte],renderPass:void 0,stats:s||new ov({id:"deck.gl"}),viewport:o||new Cm({id:"DEFAULT-INITIAL-VIEWPORT"}),timeline:l||new XF,resourceManager:this.resourceManager,onError:void 0},Object.seal(this)}finalize(){this.resourceManager.finalize();for(const e of this.layers)this._finalizeLayer(e)}needsRedraw(e={clearRedrawFlags:!1}){let n=this._needsRedraw;e.clearRedrawFlags&&(this._needsRedraw=!1);for(const r of this.layers){const s=r.getNeedsRedraw(e);n=n||s}return n}needsUpdate(){return this._nextLayers&&this._nextLayers!==this._lastRenderedLayers?"layers changed":this._defaultShaderModulesChanged?"shader modules changed":this._needsUpdate}setNeedsRedraw(e){this._needsRedraw=this._needsRedraw||e}setNeedsUpdate(e){this._needsUpdate=this._needsUpdate||e}getLayers({layerIds:e}={}){return e?this.layers.filter(n=>e.find(r=>n.id.indexOf(r)===0)):this.layers}setProps(e){"debug"in e&&(this._debug=e.debug),"userData"in e&&(this.context.userData=e.userData),"layers"in e&&(this._nextLayers=e.layers),"onError"in e&&(this.context.onError=e.onError)}setLayers(e,n){Rs(ise,this,n,e),this._lastRenderedLayers=e;const r=GF(e,Boolean);for(const s of r)s.context=this.context;this._updateLayers(this.layers,r)}updateLayers(){const e=this.needsUpdate();e&&(this.setNeedsRedraw(`updating layers: ${e}`),this.setLayers(this._nextLayers||this._lastRenderedLayers,e)),this._nextLayers=null}addDefaultShaderModule(e){const{defaultShaderModules:n}=this.context;n.find(r=>r.name===e.name)||(n.push(e),this._defaultShaderModulesChanged=!0)}removeDefaultShaderModule(e){const{defaultShaderModules:n}=this.context,r=n.findIndex(s=>s.name===e.name);r>=0&&(n.splice(r,1),this._defaultShaderModulesChanged=!0)}_handleError(e,n,r){r.raiseError(n,`${e} of ${r}`)}_updateLayers(e,n){const r={};for(const l of e)r[l.id]?Hn.warn(`Multiple old layers with same id ${l.id}`)():r[l.id]=l;if(this._defaultShaderModulesChanged){for(const l of e)l.setNeedsUpdate(),l.setChangeFlags({extensionsChanged:!0});this._defaultShaderModulesChanged=!1}const s=[];this._updateSublayersRecursively(n,r,s),this._finalizeOldLayers(r);let o=!1;for(const l of s)if(l.hasUniformTransition()){o=`Uniform transition in ${l}`;break}this._needsUpdate=o,this.layers=s}_updateSublayersRecursively(e,n,r){for(const s of e){s.context=this.context;const o=n[s.id];o===null&&Hn.warn(`Multiple new layers with same id ${s.id}`)(),n[s.id]=null;let l=null;try{this._debug&&o!==s&&s.validateProps(),o?(this._transferLayerState(o,s),this._updateLayer(s)):this._initializeLayer(s),r.push(s),l=s.isComposite?s.getSubLayers():null}catch(c){this._handleError("matching",c,s)}l&&this._updateSublayersRecursively(l,n,r)}}_finalizeOldLayers(e){for(const n in e){const r=e[n];r&&this._finalizeLayer(r)}}_initializeLayer(e){try{e._initialize(),e.lifecycle=Ff.INITIALIZED}catch(n){this._handleError("initialization",n,e)}}_transferLayerState(e,n){n._transferState(e),n.lifecycle=Ff.MATCHED,n!==e&&(e.lifecycle=Ff.AWAITING_GC)}_updateLayer(e){try{e._update()}catch(n){this._handleError("update",n,e)}}_finalizeLayer(e){this._needsRedraw=this._needsRedraw||`finalized ${e}`,e.lifecycle=Ff.AWAITING_FINALIZATION;try{e._finalize(),e.lifecycle=Ff.FINALIZED}catch(n){this._handleError("finalization",n,e)}}}function Ji(t,e,n){if(t===e)return!0;if(!n||!t||!e)return!1;if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(!Ji(t[r],e[r],n-1))return!1;return!0}if(Array.isArray(e))return!1;if(typeof t=="object"&&typeof e=="object"){const r=Object.keys(t),s=Object.keys(e);if(r.length!==s.length)return!1;for(const o of r)if(!e.hasOwnProperty(o)||!Ji(t[o],e[o],n-1))return!1;return!0}return!1}class lse{constructor(e){this.views=[],this.width=100,this.height=100,this.viewState={},this.controllers={},this.timeline=e.timeline,this._viewports=[],this._viewportMap={},this._isUpdating=!1,this._needsRedraw="First render",this._needsUpdate="Initialize",this._eventManager=e.eventManager,this._eventCallbacks={onViewStateChange:e.onViewStateChange,onInteractionStateChange:e.onInteractionStateChange},Object.seal(this),this.setProps(e)}finalize(){for(const e in this.controllers){const n=this.controllers[e];n&&n.finalize()}this.controllers={}}needsRedraw(e={clearRedrawFlags:!1}){const n=this._needsRedraw;return e.clearRedrawFlags&&(this._needsRedraw=!1),n}setNeedsUpdate(e){this._needsUpdate=this._needsUpdate||e,this._needsRedraw=this._needsRedraw||e}updateViewStates(){for(const e in this.controllers){const n=this.controllers[e];n&&n.updateTransition()}}getViewports(e){return e?this._viewports.filter(n=>n.containsPixel(e)):this._viewports}getViews(){const e={};return this.views.forEach(n=>{e[n.id]=n}),e}getView(e){return this.views.find(n=>n.id===e)}getViewState(e){const n=typeof e=="string"?this.getView(e):e,r=n&&this.viewState[n.getViewStateId()]||this.viewState;return n?n.filterViewState(r):r}getViewport(e){return this._viewportMap[e]}unproject(e,n){const r=this.getViewports(),s={x:e[0],y:e[1]};for(let o=r.length-1;o>=0;--o){const l=r[o];if(l.containsPixel(s)){const c=e.slice();return c[0]-=l.x,c[1]-=l.y,l.unproject(c,n)}}return null}setProps(e){e.views&&this._setViews(e.views),e.viewState&&this._setViewState(e.viewState),("width"in e||"height"in e)&&this._setSize(e.width,e.height),this._isUpdating||this._update()}_update(){this._isUpdating=!0,this._needsUpdate&&(this._needsUpdate=!1,this._rebuildViewports()),this._needsUpdate&&(this._needsUpdate=!1,this._rebuildViewports()),this._isUpdating=!1}_setSize(e,n){(e!==this.width||n!==this.height)&&(this.width=e,this.height=n,this.setNeedsUpdate("Size changed"))}_setViews(e){e=GF(e,Boolean),this._diffViews(e,this.views)&&this.setNeedsUpdate("views changed"),this.views=e}_setViewState(e){e?(!Ji(e,this.viewState,3)&&this.setNeedsUpdate("viewState changed"),this.viewState=e):Hn.warn("missing `viewState` or `initialViewState`")()}_createController(e,n){const r=n.type;return new r({timeline:this.timeline,eventManager:this._eventManager,onViewStateChange:this._eventCallbacks.onViewStateChange,onStateChange:this._eventCallbacks.onInteractionStateChange,makeViewport:o=>{var l;return(l=this.getView(e.id))==null?void 0:l.makeViewport({viewState:o,width:this.width,height:this.height})}})}_updateController(e,n,r,s){const o=e.controller;if(o&&r){const l={...n,...o,id:e.id,x:r.x,y:r.y,width:r.width,height:r.height};return(!s||s.constructor!==o.type)&&(s=this._createController(e,l)),s&&s.setProps(l),s}return null}_rebuildViewports(){const{views:e}=this,n=this.controllers;this._viewports=[],this.controllers={};let r=!1;for(let s=e.length;s--;){const o=e[s],l=this.getViewState(o),c=o.makeViewport({viewState:l,width:this.width,height:this.height});let f=n[o.id];const h=!!o.controller;h&&!f&&(r=!0),(r||!h)&&f&&(f.finalize(),f=null),this.controllers[o.id]=this._updateController(o,l,c,f),c&&this._viewports.unshift(c)}for(const s in n){const o=n[s];o&&!this.controllers[s]&&o.finalize()}this._buildViewportMap()}_buildViewportMap(){this._viewportMap={},this._viewports.forEach(e=>{e.id&&(this._viewportMap[e.id]=this._viewportMap[e.id]||e)})}_diffViews(e,n){return e.length!==n.length?!0:e.some((r,s)=>!e[s].equals(n[s]))}}const cse=/([0-9]+\.?[0-9]*)(%|px)/;function ll(t){switch(typeof t){case"number":return{position:t,relative:!1};case"string":const e=cse.exec(t);if(e&&e.length>=3){const n=e[2]==="%",r=parseFloat(e[1]);return{position:n?r/100:r,relative:n}}default:throw new Error(`Could not parse position string ${t}`)}}function cl(t,e){return t.relative?Math.round(t.position*e):t.position}class Td{constructor(e){const{id:n,x:r=0,y:s=0,width:o="100%",height:l="100%",padding:c=null}=e;this.id=n||this.constructor.displayName||"view",this.props={...e,id:this.id},this._x=ll(r),this._y=ll(s),this._width=ll(o),this._height=ll(l),this._padding=c&&{left:ll(c.left||0),right:ll(c.right||0),top:ll(c.top||0),bottom:ll(c.bottom||0)},this.equals=this.equals.bind(this),Object.seal(this)}equals(e){return this===e?!0:this.constructor===e.constructor&&Ji(this.props,e.props,2)}makeViewport({width:e,height:n,viewState:r}){r=this.filterViewState(r);const s=this.getDimensions({width:e,height:n});if(!s.height||!s.width)return null;const o=this.getViewportType(r);return new o({...r,...this.props,...s})}getViewStateId(){const{viewState:e}=this.props;return typeof e=="string"?e:(e==null?void 0:e.id)||this.id}filterViewState(e){if(this.props.viewState&&typeof this.props.viewState=="object"){if(!this.props.viewState.id)return this.props.viewState;const n={...e};for(const r in this.props.viewState)r!=="id"&&(n[r]=this.props.viewState[r]);return n}return e}getDimensions({width:e,height:n}){const r={x:cl(this._x,e),y:cl(this._y,n),width:cl(this._width,e),height:cl(this._height,n)};return this._padding&&(r.padding={left:cl(this._padding.left,e),top:cl(this._padding.top,n),right:cl(this._padding.right,e),bottom:cl(this._padding.bottom,n)}),r}get controller(){const e=this.props.controller;return e?e===!0?{type:this.ControllerType}:typeof e=="function"?{type:e}:{type:this.ControllerType,...e}:null}}class fv{constructor(e){this._inProgress=!1,this._handle=null,this.time=0,this.settings={duration:0},this._timeline=e}get inProgress(){return this._inProgress}start(e){var n,r;this.cancel(),this.settings=e,this._inProgress=!0,(r=(n=this.settings).onStart)==null||r.call(n,this)}end(){var e,n;this._inProgress&&(this._timeline.removeChannel(this._handle),this._handle=null,this._inProgress=!1,(n=(e=this.settings).onEnd)==null||n.call(e,this))}cancel(){var e,n;this._inProgress&&((n=(e=this.settings).onInterrupt)==null||n.call(e,this),this._timeline.removeChannel(this._handle),this._handle=null,this._inProgress=!1)}update(){var e,n;if(!this._inProgress)return!1;if(this._handle===null){const{_timeline:r,settings:s}=this;this._handle=r.addChannel({delay:r.getTime(),duration:s.duration})}return this.time=this._timeline.getTime(this._handle),this._onUpdate(),(n=(e=this.settings).onUpdate)==null||n.call(e,this),this._timeline.isFinished(this._handle)&&this.end(),!0}_onUpdate(){}}const Dj=()=>{},VS={BREAK:1,SNAP_TO_END:2,IGNORE:3},use=t=>t,fse=VS.BREAK;class dse{constructor(e){this._onTransitionUpdate=n=>{const{time:r,settings:{interpolator:s,startProps:o,endProps:l,duration:c,easing:f}}=n,h=f(r/c),p=s.interpolateProps(o,l,h);this.propsInTransition=this.getControllerState({...this.props,...p}).getViewportProps(),this.onViewStateChange({viewState:this.propsInTransition,oldViewState:this.props})},this.getControllerState=e.getControllerState,this.propsInTransition=null,this.transition=new fv(e.timeline),this.onViewStateChange=e.onViewStateChange||Dj,this.onStateChange=e.onStateChange||Dj}finalize(){this.transition.cancel()}getViewportInTransition(){return this.propsInTransition}processViewStateChange(e){let n=!1;const r=this.props;if(this.props=e,!r||this._shouldIgnoreViewportChange(r,e))return!1;if(this._isTransitionEnabled(e)){let s=r;if(this.transition.inProgress){const{interruption:o,endProps:l}=this.transition.settings;s={...r,...o===VS.SNAP_TO_END?l:this.propsInTransition||r}}this._triggerTransition(s,e),n=!0}else this.transition.cancel();return n}updateTransition(){this.transition.update()}_isTransitionEnabled(e){const{transitionDuration:n,transitionInterpolator:r}=e;return(n>0||n==="auto")&&!!r}_isUpdateDueToCurrentTransition(e){return this.transition.inProgress&&this.propsInTransition?this.transition.settings.interpolator.arePropsEqual(e,this.propsInTransition):!1}_shouldIgnoreViewportChange(e,n){return this.transition.inProgress?this.transition.settings.interruption===VS.IGNORE||this._isUpdateDueToCurrentTransition(n):this._isTransitionEnabled(n)?n.transitionInterpolator.arePropsEqual(e,n):!0}_triggerTransition(e,n){const r=this.getControllerState(e),s=this.getControllerState(n).shortestPathFrom(r),o=n.transitionInterpolator,l=o.getDuration?o.getDuration(e,n):n.transitionDuration;if(l===0)return;const c=o.initializeProps(e,s);this.propsInTransition={};const f={duration:l,easing:n.transitionEasing||use,interpolator:o,interruption:n.transitionInterruption||fse,startProps:c.start,endProps:c.end,onStart:n.onTransitionStart,onUpdate:this._onTransitionUpdate,onInterrupt:this._onTransitionEnd(n.onTransitionInterrupt),onEnd:this._onTransitionEnd(n.onTransitionEnd)};this.transition.start(f),this.onStateChange({inTransition:!0}),this.updateTransition()}_onTransitionEnd(e){return n=>{this.propsInTransition=null,this.onStateChange({inTransition:!1,isZooming:!1,isPanning:!1,isRotating:!1}),e==null||e(n)}}}function ds(t,e){if(!t)throw new Error(e||"deck.gl: assertion failed.")}class hse{constructor(e){const{compare:n,extract:r,required:s}=e;this._propsToCompare=n,this._propsToExtract=r||n,this._requiredProps=s}arePropsEqual(e,n){for(const r of this._propsToCompare)if(!(r in e)||!(r in n)||!rm(e[r],n[r]))return!1;return!0}initializeProps(e,n){const r={},s={};for(const o of this._propsToExtract)(o in e||o in n)&&(r[o]=e[o],s[o]=n[o]);return this._checkRequiredProps(r),this._checkRequiredProps(s),{start:r,end:s}}getDuration(e,n){return n.transitionDuration}_checkRequiredProps(e){this._requiredProps&&this._requiredProps.forEach(n=>{const r=e[n];ds(Number.isFinite(r)||Array.isArray(r),`${n} is required for transition`)})}}const pse=["longitude","latitude","zoom","bearing","pitch"],mse=["longitude","latitude","zoom"];class e6 extends hse{constructor(e={}){const n=Array.isArray(e)?e:e.transitionProps,r=Array.isArray(e)?{}:e;r.transitionProps=Array.isArray(n)?{compare:n,required:n}:n||{compare:pse,required:mse},super(r.transitionProps),this.opts=r}initializeProps(e,n){const r=super.initializeProps(e,n),{makeViewport:s,around:o}=this.opts;if(s&&o){const l=s(e),c=s(n),f=l.unproject(o);r.start.around=o,Object.assign(r.end,{around:c.project(f),aroundPosition:f,width:n.width,height:n.height})}return r}interpolateProps(e,n,r){const s={};for(const o of this._propsToExtract)s[o]=ly(e[o]||0,n[o]||0,r);if(n.aroundPosition&&this.opts.makeViewport){const o=this.opts.makeViewport({...n,...s});Object.assign(s,o.panByPosition(n.aroundPosition,ly(e.around,n.around,r)))}return s}}const ul={transitionDuration:0},gse=300,ex=t=>1-(1-t)*(1-t),Pf={WHEEL:["wheel"],PAN:["panstart","panmove","panend"],PINCH:["pinchstart","pinchmove","pinchend"],MULTI_PAN:["multipanstart","multipanmove","multipanend"],DOUBLE_CLICK:["dblclick"],KEYBOARD:["keydown"]},Ic={};class bse{constructor(e){this.state={},this._events={},this._interactionState={isDragging:!1},this._customEvents=[],this._eventStartBlocked=null,this._panMove=!1,this.invertPan=!1,this.dragMode="rotate",this.inertia=0,this.scrollZoom=!0,this.dragPan=!0,this.dragRotate=!0,this.doubleClickZoom=!0,this.touchZoom=!0,this.touchRotate=!1,this.keyboard=!0,this.transitionManager=new dse({...e,getControllerState:n=>new this.ControllerState(n),onViewStateChange:this._onTransition.bind(this),onStateChange:this._setInteractionState.bind(this)}),this.handleEvent=this.handleEvent.bind(this),this.eventManager=e.eventManager,this.onViewStateChange=e.onViewStateChange||(()=>{}),this.onStateChange=e.onStateChange||(()=>{}),this.makeViewport=e.makeViewport}set events(e){this.toggleEvents(this._customEvents,!1),this.toggleEvents(e,!0),this._customEvents=e,this.props&&this.setProps(this.props)}finalize(){var e;for(const n in this._events)this._events[n]&&((e=this.eventManager)==null||e.off(n,this.handleEvent));this.transitionManager.finalize()}handleEvent(e){this._controllerState=void 0;const n=this._eventStartBlocked;switch(e.type){case"panstart":return n?!1:this._onPanStart(e);case"panmove":return this._onPan(e);case"panend":return this._onPanEnd(e);case"pinchstart":return n?!1:this._onPinchStart(e);case"pinchmove":return this._onPinch(e);case"pinchend":return this._onPinchEnd(e);case"multipanstart":return n?!1:this._onMultiPanStart(e);case"multipanmove":return this._onMultiPan(e);case"multipanend":return this._onMultiPanEnd(e);case"dblclick":return this._onDoubleClick(e);case"wheel":return this._onWheel(e);case"keydown":return this._onKeyDown(e);default:return!1}}get controllerState(){return this._controllerState=this._controllerState||new this.ControllerState({makeViewport:this.makeViewport,...this.props,...this.state}),this._controllerState}getCenter(e){const{x:n,y:r}=this.props,{offsetCenter:s}=e;return[s.x-n,s.y-r]}isPointInBounds(e,n){const{width:r,height:s}=this.props;if(n&&n.handled)return!1;const o=e[0]>=0&&e[0]<=r&&e[1]>=0&&e[1]<=s;return o&&n&&n.stopPropagation(),o}isFunctionKeyPressed(e){const{srcEvent:n}=e;return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}isDragging(){return this._interactionState.isDragging||!1}blockEvents(e){const n=setTimeout(()=>{this._eventStartBlocked===n&&(this._eventStartBlocked=null)},e);this._eventStartBlocked=n}setProps(e){e.dragMode&&(this.dragMode=e.dragMode),this.props=e,"transitionInterpolator"in e||(e.transitionInterpolator=this._getTransitionProps().transitionInterpolator),this.transitionManager.processViewStateChange(e);const{inertia:n}=e;this.inertia=Number.isFinite(n)?n:n===!0?gse:0;const{scrollZoom:r=!0,dragPan:s=!0,dragRotate:o=!0,doubleClickZoom:l=!0,touchZoom:c=!0,touchRotate:f=!1,keyboard:h=!0}=e,p=!!this.onViewStateChange;this.toggleEvents(Pf.WHEEL,p&&r),this.toggleEvents(Pf.PAN,p),this.toggleEvents(Pf.PINCH,p&&(c||f)),this.toggleEvents(Pf.MULTI_PAN,p&&f),this.toggleEvents(Pf.DOUBLE_CLICK,p&&l),this.toggleEvents(Pf.KEYBOARD,p&&h),this.scrollZoom=r,this.dragPan=s,this.dragRotate=o,this.doubleClickZoom=l,this.touchZoom=c,this.touchRotate=f,this.keyboard=h}updateTransition(){this.transitionManager.updateTransition()}toggleEvents(e,n){this.eventManager&&e.forEach(r=>{this._events[r]!==n&&(this._events[r]=n,n?this.eventManager.on(r,this.handleEvent):this.eventManager.off(r,this.handleEvent))})}updateViewport(e,n=null,r={}){const s={...e.getViewportProps(),...n},o=this.controllerState!==e;if(this.state=e.getState(),this._setInteractionState(r),o){const l=this.controllerState&&this.controllerState.getViewportProps();this.onViewStateChange&&this.onViewStateChange({viewState:s,interactionState:this._interactionState,oldViewState:l,viewId:this.props.id})}}_onTransition(e){this.onViewStateChange({...e,interactionState:this._interactionState,viewId:this.props.id})}_setInteractionState(e){Object.assign(this._interactionState,e),this.onStateChange(this._interactionState)}_onPanStart(e){const n=this.getCenter(e);if(!this.isPointInBounds(n,e))return!1;let r=this.isFunctionKeyPressed(e)||e.rightButton||!1;(this.invertPan||this.dragMode==="pan")&&(r=!r);const s=this.controllerState[r?"panStart":"rotateStart"]({pos:n});return this._panMove=r,this.updateViewport(s,ul,{isDragging:!0}),!0}_onPan(e){return this.isDragging()?this._panMove?this._onPanMove(e):this._onPanRotate(e):!1}_onPanEnd(e){return this.isDragging()?this._panMove?this._onPanMoveEnd(e):this._onPanRotateEnd(e):!1}_onPanMove(e){if(!this.dragPan)return!1;const n=this.getCenter(e),r=this.controllerState.pan({pos:n});return this.updateViewport(r,ul,{isDragging:!0,isPanning:!0}),!0}_onPanMoveEnd(e){const{inertia:n}=this;if(this.dragPan&&n&&e.velocity){const r=this.getCenter(e),s=[r[0]+e.velocityX*n/2,r[1]+e.velocityY*n/2],o=this.controllerState.pan({pos:s}).panEnd();this.updateViewport(o,{...this._getTransitionProps(),transitionDuration:n,transitionEasing:ex},{isDragging:!1,isPanning:!0})}else{const r=this.controllerState.panEnd();this.updateViewport(r,null,{isDragging:!1,isPanning:!1})}return!0}_onPanRotate(e){if(!this.dragRotate)return!1;const n=this.getCenter(e),r=this.controllerState.rotate({pos:n});return this.updateViewport(r,ul,{isDragging:!0,isRotating:!0}),!0}_onPanRotateEnd(e){const{inertia:n}=this;if(this.dragRotate&&n&&e.velocity){const r=this.getCenter(e),s=[r[0]+e.velocityX*n/2,r[1]+e.velocityY*n/2],o=this.controllerState.rotate({pos:s}).rotateEnd();this.updateViewport(o,{...this._getTransitionProps(),transitionDuration:n,transitionEasing:ex},{isDragging:!1,isRotating:!0})}else{const r=this.controllerState.rotateEnd();this.updateViewport(r,null,{isDragging:!1,isRotating:!1})}return!0}_onWheel(e){if(!this.scrollZoom)return!1;const n=this.getCenter(e);if(!this.isPointInBounds(n,e))return!1;e.srcEvent.preventDefault();const{speed:r=.01,smooth:s=!1}=this.scrollZoom===!0?{}:this.scrollZoom,{delta:o}=e;let l=2/(1+Math.exp(-Math.abs(o*r)));o<0&&l!==0&&(l=1/l);const c=this.controllerState.zoom({pos:n,scale:l});return this.updateViewport(c,{...this._getTransitionProps({around:n}),transitionDuration:s?250:1},{isZooming:!0,isPanning:!0}),!0}_onMultiPanStart(e){const n=this.getCenter(e);if(!this.isPointInBounds(n,e))return!1;const r=this.controllerState.rotateStart({pos:n});return this.updateViewport(r,ul,{isDragging:!0}),!0}_onMultiPan(e){if(!this.touchRotate||!this.isDragging())return!1;const n=this.getCenter(e);n[0]-=e.deltaX;const r=this.controllerState.rotate({pos:n});return this.updateViewport(r,ul,{isDragging:!0,isRotating:!0}),!0}_onMultiPanEnd(e){if(!this.isDragging())return!1;const{inertia:n}=this;if(this.touchRotate&&n&&e.velocityY){const r=this.getCenter(e),s=[r[0],r[1]+=e.velocityY*n/2],o=this.controllerState.rotate({pos:s});this.updateViewport(o,{...this._getTransitionProps(),transitionDuration:n,transitionEasing:ex},{isDragging:!1,isRotating:!0}),this.blockEvents(n)}else{const r=this.controllerState.rotateEnd();this.updateViewport(r,null,{isDragging:!1,isRotating:!1})}return!0}_onPinchStart(e){const n=this.getCenter(e);if(!this.isPointInBounds(n,e))return!1;const r=this.controllerState.zoomStart({pos:n}).rotateStart({pos:n});return Ic._startPinchRotation=e.rotation,Ic._lastPinchEvent=e,this.updateViewport(r,ul,{isDragging:!0}),!0}_onPinch(e){if(!this.touchZoom&&!this.touchRotate||!this.isDragging())return!1;let n=this.controllerState;if(this.touchZoom){const{scale:r}=e,s=this.getCenter(e);n=n.zoom({pos:s,scale:r})}if(this.touchRotate){const{rotation:r}=e;n=n.rotate({deltaAngleX:Ic._startPinchRotation-r})}return this.updateViewport(n,ul,{isDragging:!0,isPanning:this.touchZoom,isZooming:this.touchZoom,isRotating:this.touchRotate}),Ic._lastPinchEvent=e,!0}_onPinchEnd(e){if(!this.isDragging())return!1;const{inertia:n}=this,{_lastPinchEvent:r}=Ic;if(this.touchZoom&&n&&r&&e.scale!==r.scale){const s=this.getCenter(e);let o=this.controllerState.rotateEnd();const l=Math.log2(e.scale),c=(l-Math.log2(r.scale))/(e.deltaTime-r.deltaTime),f=Math.pow(2,l+c*n/2);o=o.zoom({pos:s,scale:f}).zoomEnd(),this.updateViewport(o,{...this._getTransitionProps({around:s}),transitionDuration:n,transitionEasing:ex},{isDragging:!1,isPanning:this.touchZoom,isZooming:this.touchZoom,isRotating:!1}),this.blockEvents(n)}else{const s=this.controllerState.zoomEnd().rotateEnd();this.updateViewport(s,null,{isDragging:!1,isPanning:!1,isZooming:!1,isRotating:!1})}return Ic._startPinchRotation=null,Ic._lastPinchEvent=null,!0}_onDoubleClick(e){if(!this.doubleClickZoom)return!1;const n=this.getCenter(e);if(!this.isPointInBounds(n,e))return!1;const r=this.isFunctionKeyPressed(e),s=this.controllerState.zoom({pos:n,scale:r?.5:2});return this.updateViewport(s,this._getTransitionProps({around:n}),{isZooming:!0,isPanning:!0}),this.blockEvents(100),!0}_onKeyDown(e){if(!this.keyboard)return!1;const n=this.isFunctionKeyPressed(e),{zoomSpeed:r,moveSpeed:s,rotateSpeedX:o,rotateSpeedY:l}=this.keyboard===!0?{}:this.keyboard,{controllerState:c}=this;let f;const h={};switch(e.srcEvent.code){case"Minus":f=n?c.zoomOut(r).zoomOut(r):c.zoomOut(r),h.isZooming=!0;break;case"Equal":f=n?c.zoomIn(r).zoomIn(r):c.zoomIn(r),h.isZooming=!0;break;case"ArrowLeft":n?(f=c.rotateLeft(o),h.isRotating=!0):(f=c.moveLeft(s),h.isPanning=!0);break;case"ArrowRight":n?(f=c.rotateRight(o),h.isRotating=!0):(f=c.moveRight(s),h.isPanning=!0);break;case"ArrowUp":n?(f=c.rotateUp(l),h.isRotating=!0):(f=c.moveUp(s),h.isPanning=!0);break;case"ArrowDown":n?(f=c.rotateDown(l),h.isRotating=!0):(f=c.moveDown(s),h.isPanning=!0);break;default:return!1}return this.updateViewport(f,this._getTransitionProps(),h),!0}_getTransitionProps(e){const{transition:n}=this;return!n||!n.transitionInterpolator?ul:e?{...n,transitionInterpolator:new e6({...e,...n.transitionInterpolator.opts,makeViewport:this.controllerState.makeViewport})}:n}}class xse{constructor(e,n){this._viewportProps=this.applyConstraints(e),this._state=n}getViewportProps(){return this._viewportProps}getState(){return this._state}}const Pj=5,yse=1.2;class vse extends xse{constructor(e){const{width:n,height:r,latitude:s,longitude:o,zoom:l,bearing:c=0,pitch:f=0,altitude:h=1.5,position:p=[0,0,0],maxZoom:m=20,minZoom:x=0,maxPitch:w=60,minPitch:E=0,startPanLngLat:T,startZoomLngLat:C,startRotatePos:P,startBearing:j,startPitch:D,startZoom:U,normalize:L=!0}=e;ds(Number.isFinite(o)),ds(Number.isFinite(s)),ds(Number.isFinite(l)),super({width:n,height:r,latitude:s,longitude:o,zoom:l,bearing:c,pitch:f,altitude:h,maxZoom:m,minZoom:x,maxPitch:w,minPitch:E,normalize:L,position:p},{startPanLngLat:T,startZoomLngLat:C,startRotatePos:P,startBearing:j,startPitch:D,startZoom:U}),this.makeViewport=e.makeViewport}panStart({pos:e}){return this._getUpdatedState({startPanLngLat:this._unproject(e)})}pan({pos:e,startPos:n}){const r=this.getState().startPanLngLat||this._unproject(n);if(!r)return this;const o=this.makeViewport(this.getViewportProps()).panByPosition(r,e);return this._getUpdatedState(o)}panEnd(){return this._getUpdatedState({startPanLngLat:null})}rotateStart({pos:e}){return this._getUpdatedState({startRotatePos:e,startBearing:this.getViewportProps().bearing,startPitch:this.getViewportProps().pitch})}rotate({pos:e,deltaAngleX:n=0,deltaAngleY:r=0}){const{startRotatePos:s,startBearing:o,startPitch:l}=this.getState();if(!s||o===void 0||l===void 0)return this;let c;return e?c=this._getNewRotation(e,s,l,o):c={bearing:o+n,pitch:l+r},this._getUpdatedState(c)}rotateEnd(){return this._getUpdatedState({startBearing:null,startPitch:null})}zoomStart({pos:e}){return this._getUpdatedState({startZoomLngLat:this._unproject(e),startZoom:this.getViewportProps().zoom})}zoom({pos:e,startPos:n,scale:r}){let{startZoom:s,startZoomLngLat:o}=this.getState();if(o||(s=this.getViewportProps().zoom,o=this._unproject(n)||this._unproject(e)),!o)return this;const{maxZoom:l,minZoom:c}=this.getViewportProps();let f=s+Math.log2(r);f=jl(f,c,l);const h=this.makeViewport({...this.getViewportProps(),zoom:f});return this._getUpdatedState({zoom:f,...h.panByPosition(o,e)})}zoomEnd(){return this._getUpdatedState({startZoomLngLat:null,startZoom:null})}zoomIn(e=2){return this._zoomFromCenter(e)}zoomOut(e=2){return this._zoomFromCenter(1/e)}moveLeft(e=100){return this._panFromCenter([e,0])}moveRight(e=100){return this._panFromCenter([-e,0])}moveUp(e=100){return this._panFromCenter([0,e])}moveDown(e=100){return this._panFromCenter([0,-e])}rotateLeft(e=15){return this._getUpdatedState({bearing:this.getViewportProps().bearing-e})}rotateRight(e=15){return this._getUpdatedState({bearing:this.getViewportProps().bearing+e})}rotateUp(e=10){return this._getUpdatedState({pitch:this.getViewportProps().pitch+e})}rotateDown(e=10){return this._getUpdatedState({pitch:this.getViewportProps().pitch-e})}shortestPathFrom(e){const n=e.getViewportProps(),r={...this.getViewportProps()},{bearing:s,longitude:o}=r;return Math.abs(s-n.bearing)>180&&(r.bearing=s<0?s+360:s-360),Math.abs(o-n.longitude)>180&&(r.longitude=o<0?o+360:o-360),r}applyConstraints(e){const{maxZoom:n,minZoom:r,zoom:s}=e;e.zoom=jl(s,r,n);const{maxPitch:o,minPitch:l,pitch:c}=e;e.pitch=jl(c,l,o);const{normalize:f=!0}=e;return f&&Object.assign(e,Hne(e)),e}_zoomFromCenter(e){const{width:n,height:r}=this.getViewportProps();return this.zoom({pos:[n/2,r/2],scale:e})}_panFromCenter(e){const{width:n,height:r}=this.getViewportProps();return this.pan({startPos:[n/2,r/2],pos:[n/2+e[0],r/2+e[1]]})}_getUpdatedState(e){return new this.constructor({makeViewport:this.makeViewport,...this.getViewportProps(),...this.getState(),...e})}_unproject(e){const n=this.makeViewport(this.getViewportProps());return e&&n.unproject(e)}_getNewRotation(e,n,r,s){const o=e[0]-n[0],l=e[1]-n[1],c=e[1],f=n[1],{width:h,height:p}=this.getViewportProps(),m=o/h;let x=0;l>0?Math.abs(p-f)>Pj&&(x=l/(f-p)*yse):l<0&&f>Pj&&(x=1-c/f),x=jl(x,-1,1);const{minPitch:w,maxPitch:E}=this.getViewportProps(),T=s+180*m;let C=r;return x>0?C=r+x*(E-r):x<0&&(C=r-x*(w-r)),{pitch:C,bearing:T}}}class wse extends bse{constructor(){super(...arguments),this.ControllerState=vse,this.transition={transitionDuration:300,transitionInterpolator:new e6({transitionProps:{compare:["longitude","latitude","zoom","bearing","pitch","position"],required:["longitude","latitude","zoom"]}})},this.dragMode="pan"}setProps(e){e.position=e.position||[0,0,0];const n=this.props;super.setProps(e),(!n||n.height!==e.height)&&this.updateViewport(new this.ControllerState({makeViewport:this.makeViewport,...e,...this.state}))}}class t6 extends Td{constructor(e={}){super(e)}getViewportType(){return Sd}get ControllerType(){return wse}}t6.displayName="MapView";const _se=new WF;function Nse(t,e){const n=t.order??1/0,r=e.order??1/0;return n-r}class Sse{constructor(e){this._resolvedEffects=[],this._defaultEffects=[],this.effects=[],this._context=e,this._needsRedraw="Initial render",this._setEffects([])}addDefaultEffect(e){const n=this._defaultEffects;if(!n.find(r=>r.id===e.id)){const r=n.findIndex(s=>Nse(s,e)>0);r<0?n.push(e):n.splice(r,0,e),e.setup(this._context),this._setEffects(this.effects)}}setProps(e){"effects"in e&&(Ji(e.effects,this.effects,1)||this._setEffects(e.effects))}needsRedraw(e={clearRedrawFlags:!1}){const n=this._needsRedraw;return e.clearRedrawFlags&&(this._needsRedraw=!1),n}getEffects(){return this._resolvedEffects}_setEffects(e){const n={};for(const s of this.effects)n[s.id]=s;const r=[];for(const s of e){const o=n[s.id];let l=s;o&&o!==s?o.setProps?(o.setProps(s.props),l=o):o.cleanup(this._context):o||s.setup(this._context),r.push(l),delete n[s.id]}for(const s in n)n[s].cleanup(this._context);this.effects=r,this._resolvedEffects=r.concat(this._defaultEffects),e.some(s=>s instanceof WF)||this._resolvedEffects.push(_se),this._needsRedraw="effects changed"}finalize(){for(const e of this._resolvedEffects)e.cleanup(this._context);this.effects.length=0,this._resolvedEffects.length=0,this._defaultEffects.length=0}}class Ese extends bT{shouldDrawLayer(e){const{operation:n}=e.props;return n.includes("draw")||n.includes("terrain")}}const Tse="deckRenderer.renderLayers";class Ase{constructor(e){this.device=e,this.layerFilter=null,this.drawPickingColors=!1,this.drawLayersPass=new Ese(e),this.pickLayersPass=new QF(e),this.renderCount=0,this._needsRedraw="Initial render",this.renderBuffers=[],this.lastPostProcessEffect=null}setProps(e){this.layerFilter!==e.layerFilter&&(this.layerFilter=e.layerFilter,this._needsRedraw="layerFilter changed"),this.drawPickingColors!==e.drawPickingColors&&(this.drawPickingColors=e.drawPickingColors,this._needsRedraw="drawPickingColors changed")}renderLayers(e){if(!e.viewports.length)return;const n=this.drawPickingColors?this.pickLayersPass:this.drawLayersPass,r={layerFilter:this.layerFilter,isPicking:this.drawPickingColors,...e};r.effects&&this._preRender(r.effects,r);const s=this.lastPostProcessEffect?this.renderBuffers[0]:r.target;this.lastPostProcessEffect&&(r.clearColor=[0,0,0,0],r.clearCanvas=!0);const o=n.render({...r,target:s});r.effects&&this._postRender(r.effects,r),this.renderCount++,Rs(Tse,this,o,e)}needsRedraw(e={clearRedrawFlags:!1}){const n=this._needsRedraw;return e.clearRedrawFlags&&(this._needsRedraw=!1),n}finalize(){const{renderBuffers:e}=this;for(const n of e)n.delete();e.length=0}_preRender(e,n){this.lastPostProcessEffect=null,n.preRenderStats=n.preRenderStats||{};for(const r of e)n.preRenderStats[r.id]=r.preRender(n),r.postRender&&(this.lastPostProcessEffect=r.id);this.lastPostProcessEffect&&this._resizeRenderBuffers()}_resizeRenderBuffers(){const{renderBuffers:e}=this,n=this.device.canvasContext.getDrawingBufferSize();e.length===0&&[0,1].map(r=>{const s=this.device.createTexture({sampler:{minFilter:"linear",magFilter:"linear"}});e.push(this.device.createFramebuffer({id:`deck-renderbuffer-${r}`,colorAttachments:[s]}))});for(const r of e)r.resize(n)}_postRender(e,n){const{renderBuffers:r}=this,s={...n,inputBuffer:r[0],swapBuffer:r[1]};for(const o of e)if(o.postRender){s.target=o.id===this.lastPostProcessEffect?n.target:void 0;const l=o.postRender(s);s.inputBuffer=l,s.swapBuffer=l===r[0]?r[1]:r[0]}}}const Cse={pickedColor:null,pickedObjectIndex:-1};function Rse({pickedColors:t,decodePickingColor:e,deviceX:n,deviceY:r,deviceRadius:s,deviceRect:o}){const{x:l,y:c,width:f,height:h}=o;let p=s*s,m=-1,x=0;for(let w=0;w<h;w++){const E=w+c-r,T=E*E;if(T>p)x+=4*f;else for(let C=0;C<f;C++){if(t[x+3]-1>=0){const j=C+l-n,D=j*j+T;D<=p&&(p=D,m=x)}x+=4}}if(m>=0){const w=t.slice(m,m+4),E=e(w);if(E){const T=Math.floor(m/4/f),C=m/4-T*f;return{...E,pickedColor:w,pickedX:l+C,pickedY:c+T}}Hn.error("Picked non-existent layer. Is picking buffer corrupt?")()}return Cse}function kse({pickedColors:t,decodePickingColor:e}){const n=new Map;if(t){for(let r=0;r<t.length;r+=4)if(t[r+3]-1>=0){const o=t.slice(r,r+4),l=o.join(",");if(!n.has(l)){const c=e(o);c?n.set(l,{...c,color:o}):Hn.error("Picked non-existent layer. Is picking buffer corrupt?")()}}}return Array.from(n.values())}function n6({pickInfo:t,viewports:e,pixelRatio:n,x:r,y:s,z:o}){let l=e[0];e.length>1&&(l=Pse((t==null?void 0:t.pickedViewports)||e,{x:r,y:s}));let c;if(l){const f=[r-l.x,s-l.y];o!==void 0&&(f[2]=o),c=l.unproject(f)}return{color:null,layer:null,viewport:l,index:-1,picked:!1,x:r,y:s,pixel:[r,s],coordinate:c,devicePixel:t&&"pickedX"in t?[t.pickedX,t.pickedY]:void 0,pixelRatio:n}}function Dse(t){const{pickInfo:e,lastPickedInfo:n,mode:r,layers:s}=t,{pickedColor:o,pickedLayer:l,pickedObjectIndex:c}=e,f=l?[l]:[];if(r==="hover"){const m=n.index,x=n.layerId,w=l?l.props.id:null;if(w!==x||c!==m){if(w!==x){const E=s.find(T=>T.props.id===x);E&&f.unshift(E)}n.layerId=w,n.index=c,n.info=null}}const h=n6(t),p=new Map;return p.set(null,h),f.forEach(m=>{let x={...h};m===l&&(x.color=o,x.index=c,x.picked=!0),x=r6({layer:m,info:x,mode:r});const w=x.layer;m===l&&r==="hover"&&(n.info=x),p.set(w.id,x),r==="hover"&&w.updateAutoHighlight(x)}),p}function r6({layer:t,info:e,mode:n}){for(;t&&e;){const r=e.layer||null;e.sourceLayer=r,e.layer=t,e=t.getPickingInfo({info:e,mode:n,sourceLayer:r}),t=t.parent}return e}function Pse(t,e){for(let n=t.length-1;n>=0;n--){const r=t[n];if(r.containsPixel(e))return r}return t[0]}class jse{constructor(e){this._pickable=!0,this.device=e,this.pickLayersPass=new QF(e),this.lastPickedInfo={index:-1,layerId:null,info:null}}setProps(e){"layerFilter"in e&&(this.layerFilter=e.layerFilter),"_pickable"in e&&(this._pickable=e._pickable)}finalize(){this.pickingFBO&&this.pickingFBO.destroy(),this.depthFBO&&this.depthFBO.destroy()}pickObject(e){return this._pickClosestObject(e)}pickObjects(e){return this._pickVisibleObjects(e)}getLastPickedObject({x:e,y:n,layers:r,viewports:s},o=this.lastPickedInfo.info){const l=o&&o.layer&&o.layer.id,c=o&&o.viewport&&o.viewport.id,f=l?r.find(x=>x.id===l):null,h=c&&s.find(x=>x.id===c)||s[0],p=h&&h.unproject([e-h.x,n-h.y]);return{...o,...{x:e,y:n,viewport:h,coordinate:p,layer:f}}}_resizeBuffer(){var n,r;if(!this.pickingFBO&&(this.pickingFBO=this.device.createFramebuffer({colorAttachments:["rgba8unorm"],depthStencilAttachment:"depth16unorm"}),this.device.isTextureFormatRenderable("rgba32float"))){const s=this.device.createFramebuffer({colorAttachments:["rgba32float"],depthStencilAttachment:"depth16unorm"});this.depthFBO=s}const{canvas:e}=this.device.getDefaultCanvasContext();(n=this.pickingFBO)==null||n.resize({width:e.width,height:e.height}),(r=this.depthFBO)==null||r.resize({width:e.width,height:e.height})}_getPickable(e){if(this._pickable===!1)return null;const n=e.filter(r=>this.pickLayersPass.shouldDrawLayer(r)&&!r.isComposite);return n.length?n:null}_pickClosestObject({layers:e,views:n,viewports:r,x:s,y:o,radius:l=0,depth:c=1,mode:f="query",unproject3D:h,onViewportActive:p,effects:m}){const x=this.device.canvasContext.cssToDeviceRatio(),w=this._getPickable(e);if(!w||r.length===0)return{result:[],emptyInfo:n6({viewports:r,x:s,y:o,pixelRatio:x})};this._resizeBuffer();const E=this.device.canvasContext.cssToDevicePixels([s,o],!0),T=[E.x+Math.floor(E.width/2),E.y+Math.floor(E.height/2)],C=Math.round(l*x),{width:P,height:j}=this.pickingFBO,D=this._getPickingRect({deviceX:T[0],deviceY:T[1],deviceRadius:C,deviceWidth:P,deviceHeight:j}),U={x:s-l,y:o-l,width:l*2+1,height:l*2+1};let L;const O=[],Y=new Set;for(let ne=0;ne<c;ne++){let Q;if(D){const G=this._drawAndSample({layers:w,views:n,viewports:r,onViewportActive:p,deviceRect:D,cullRect:U,effects:m,pass:`picking:${f}`});Q=Rse({...G,deviceX:T[0],deviceY:T[1],deviceRadius:C,deviceRect:D})}else Q={pickedColor:null,pickedObjectIndex:-1};let K;if(Q.pickedLayer&&h&&this.depthFBO){const{pickedColors:G}=this._drawAndSample({layers:[Q.pickedLayer],views:n,viewports:r,onViewportActive:p,deviceRect:{x:Q.pickedX,y:Q.pickedY,width:1,height:1},cullRect:U,effects:m,pass:`picking:${f}:z`},!0);G[3]&&(K=G[0])}Q.pickedLayer&&ne+1<c&&(Y.add(Q.pickedLayer),Q.pickedLayer.disablePickingIndex(Q.pickedObjectIndex)),L=Dse({pickInfo:Q,lastPickedInfo:this.lastPickedInfo,mode:f,layers:w,viewports:r,x:s,y:o,z:K,pixelRatio:x});for(const G of L.values())G.layer&&O.push(G);if(!Q.pickedColor)break}for(const ne of Y)ne.restorePickingColors();return{result:O,emptyInfo:L.get(null)}}_pickVisibleObjects({layers:e,views:n,viewports:r,x:s,y:o,width:l=1,height:c=1,mode:f="query",maxObjects:h=null,onViewportActive:p,effects:m}){const x=this._getPickable(e);if(!x||r.length===0)return[];this._resizeBuffer();const w=this.device.canvasContext.cssToDeviceRatio(),E=this.device.canvasContext.cssToDevicePixels([s,o],!0),T=E.x,C=E.y+E.height,P=this.device.canvasContext.cssToDevicePixels([s+l,o+c],!0),j=P.x+P.width,D=P.y,U={x:T,y:D,width:j-T,height:C-D},L=this._drawAndSample({layers:x,views:n,viewports:r,onViewportActive:p,deviceRect:U,cullRect:{x:s,y:o,width:l,height:c},effects:m,pass:`picking:${f}`}),O=kse(L),Y=new Map,ne=[],Q=Number.isFinite(h);for(let K=0;K<O.length&&!(Q&&ne.length>=h);K++){const G=O[K];let ue={color:G.pickedColor,layer:null,index:G.pickedObjectIndex,picked:!0,x:s,y:o,pixelRatio:w};ue=r6({layer:G.pickedLayer,info:ue,mode:f});const me=ue.layer.id;Y.has(me)||Y.set(me,new Set);const le=Y.get(me),ye=ue.object??ue.index;le.has(ye)||(le.add(ye),ne.push(ue))}return ne}_drawAndSample({layers:e,views:n,viewports:r,onViewportActive:s,deviceRect:o,cullRect:l,effects:c,pass:f},h=!1){const p=h?this.depthFBO:this.pickingFBO,m={layers:e,layerFilter:this.layerFilter,views:n,viewports:r,onViewportActive:s,pickingFBO:p,deviceRect:o,cullRect:l,effects:c,pass:f,pickZ:h,preRenderStats:{},isPicking:!0};for(const j of c)j.useInPicking&&(m.preRenderStats[j.id]=j.preRender(m));const{decodePickingColor:x}=this.pickLayersPass.render(m),{x:w,y:E,width:T,height:C}=o,P=new(h?Float32Array:Uint8Array)(T*C*4);return this.device.readPixelsToArrayWebGL(p,{sourceX:w,sourceY:E,sourceWidth:T,sourceHeight:C,target:P}),{pickedColors:P,decodePickingColor:x}}_getPickingRect({deviceX:e,deviceY:n,deviceRadius:r,deviceWidth:s,deviceHeight:o}){const l=Math.max(0,e-r),c=Math.max(0,n-r),f=Math.min(s,e+r+1)-l,h=Math.min(o,n+r+1)-c;return f<=0||h<=0?null:{x:l,y:c,width:f,height:h}}}const Mse={"top-left":{top:0,left:0},"top-right":{top:0,right:0},"bottom-left":{bottom:0,left:0},"bottom-right":{bottom:0,right:0},fill:{top:0,left:0,bottom:0,right:0}},Ise="top-left",jj="__root";class Ose{constructor({deck:e,parentElement:n}){this.defaultWidgets=[],this.widgets=[],this.resolvedWidgets=[],this.containers={},this.lastViewports={},this.deck=e,this.parentElement=n}getWidgets(){return this.resolvedWidgets}setProps(e){e.widgets&&!Ji(e.widgets,this.widgets,1)&&this._setWidgets(e.widgets)}finalize(){for(const e of this.getWidgets())this._remove(e);this.defaultWidgets.length=0,this.resolvedWidgets.length=0;for(const e in this.containers)this.containers[e].remove()}addDefault(e){this.defaultWidgets.find(n=>n.id===e.id)||(this._add(e),this.defaultWidgets.push(e),this._setWidgets(this.widgets))}_setWidgets(e){const n={};for(const r of this.resolvedWidgets)n[r.id]=r;this.resolvedWidgets.length=0;for(const r of this.defaultWidgets)n[r.id]=null,this.resolvedWidgets.push(r);for(let r of e){const s=n[r.id];s?s.viewId!==r.viewId||s.placement!==r.placement?(this._remove(s),this._add(r)):r!==s&&(s.setProps(r.props),r=s):this._add(r),n[r.id]=null,this.resolvedWidgets.push(r)}for(const r in n){const s=n[r];s&&this._remove(s)}this.widgets=e}_add(e){const{viewId:n=null,placement:r=Ise}=e,s=e.onAdd({deck:this.deck,viewId:n});s&&this._getContainer(n,r).append(s),e._element=s}_remove(e){var n;(n=e.onRemove)==null||n.call(e),e._element&&e._element.remove(),e._element=void 0}_getContainer(e,n){var l;const r=e||jj;let s=this.containers[r];s||(s=document.createElement("div"),s.style.pointerEvents="none",s.style.position="absolute",s.style.overflow="hidden",(l=this.parentElement)==null||l.append(s),this.containers[r]=s);let o=s.querySelector(`.${n}`);return o||(o=document.createElement("div"),o.className=n,o.style.position="absolute",o.style.zIndex="2",Object.assign(o.style,Mse[n]),s.append(o)),o}_updateContainers(){const e=this.deck.width,n=this.deck.height;for(const r in this.containers){const s=this.lastViewports[r]||null,o=r===jj||s,l=this.containers[r];o?(l.style.display="block",l.style.left=`${s?s.x:0}px`,l.style.top=`${s?s.y:0}px`,l.style.width=`${s?s.width:e}px`,l.style.height=`${s?s.height:n}px`):l.style.display="none"}}onRedraw({viewports:e,layers:n}){var s,o;const r=e.reduce((l,c)=>(l[c.id]=c,l),{});for(const l of this.getWidgets()){const{viewId:c}=l;if(c){const f=r[c];f&&(l.onViewportChange&&l.onViewportChange(f),(s=l.onRedraw)==null||s.call(l,{viewports:[f],layers:n}))}else{if(l.onViewportChange)for(const f of e)l.onViewportChange(f);(o=l.onRedraw)==null||o.call(l,{viewports:e,layers:n})}}this.lastViewports=r,this._updateContainers()}onHover(e,n){var r,s;for(const o of this.getWidgets()){const{viewId:l}=o;(!l||l===((r=e.viewport)==null?void 0:r.id))&&((s=o.onHover)==null||s.call(o,e,n))}}onEvent(e,n){var s,o;const r=kS[n.type];if(r)for(const l of this.getWidgets()){const{viewId:c}=l;(!c||c===((s=e.viewport)==null?void 0:s.id))&&((o=l[r])==null||o.call(l,e,n))}}}const Use={zIndex:"1",position:"absolute",pointerEvents:"none",color:"#a0a7b4",backgroundColor:"#29323c",padding:"10px",top:"0",left:"0",display:"none"};class Vse{constructor(){this.id="default-tooltip",this.placement="fill",this.props={},this.isVisible=!1}onAdd({deck:e}){const n=document.createElement("div");return n.className="deck-tooltip",Object.assign(n.style,Use),this.deck=e,this.element=n,n}onRemove(){this.deck=void 0,this.element=void 0}setProps(){}onViewportChange(e){var n;this.isVisible&&e.id===((n=this.lastViewport)==null?void 0:n.id)&&e!==this.lastViewport&&this.setTooltip(null)}onHover(e){const{deck:n}=this,r=n&&n.props.getTooltip;if(!r)return;const s=r(e);this.lastViewport=e.viewport,this.setTooltip(s,e.x,e.y)}setTooltip(e,n,r){const s=this.element;if(s){if(typeof e=="string")s.innerText=e;else if(e)e.text&&(s.innerText=e.text),e.html&&(s.innerHTML=e.html),e.className&&(s.className=e.className);else{this.isVisible=!1,s.style.display="none";return}this.isVisible=!0,s.style.display="block",s.style.transform=`translate(${n}px, ${r}px)`,e&&typeof e=="object"&&"style"in e&&Object.assign(s.style,e.style)}}}var Hf;(function(t){t[t.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT",t[t.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT",t[t.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT",t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",t[t.ZERO=0]="ZERO",t[t.ONE=1]="ONE",t[t.SRC_COLOR=768]="SRC_COLOR",t[t.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",t[t.SRC_ALPHA=770]="SRC_ALPHA",t[t.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",t[t.DST_ALPHA=772]="DST_ALPHA",t[t.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",t[t.DST_COLOR=774]="DST_COLOR",t[t.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",t[t.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",t[t.CONSTANT_COLOR=32769]="CONSTANT_COLOR",t[t.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",t[t.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",t[t.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA",t[t.FUNC_ADD=32774]="FUNC_ADD",t[t.FUNC_SUBTRACT=32778]="FUNC_SUBTRACT",t[t.FUNC_REVERSE_SUBTRACT=32779]="FUNC_REVERSE_SUBTRACT",t[t.BLEND_EQUATION=32777]="BLEND_EQUATION",t[t.BLEND_EQUATION_RGB=32777]="BLEND_EQUATION_RGB",t[t.BLEND_EQUATION_ALPHA=34877]="BLEND_EQUATION_ALPHA",t[t.BLEND_DST_RGB=32968]="BLEND_DST_RGB",t[t.BLEND_SRC_RGB=32969]="BLEND_SRC_RGB",t[t.BLEND_DST_ALPHA=32970]="BLEND_DST_ALPHA",t[t.BLEND_SRC_ALPHA=32971]="BLEND_SRC_ALPHA",t[t.BLEND_COLOR=32773]="BLEND_COLOR",t[t.ARRAY_BUFFER_BINDING=34964]="ARRAY_BUFFER_BINDING",t[t.ELEMENT_ARRAY_BUFFER_BINDING=34965]="ELEMENT_ARRAY_BUFFER_BINDING",t[t.LINE_WIDTH=2849]="LINE_WIDTH",t[t.ALIASED_POINT_SIZE_RANGE=33901]="ALIASED_POINT_SIZE_RANGE",t[t.ALIASED_LINE_WIDTH_RANGE=33902]="ALIASED_LINE_WIDTH_RANGE",t[t.CULL_FACE_MODE=2885]="CULL_FACE_MODE",t[t.FRONT_FACE=2886]="FRONT_FACE",t[t.DEPTH_RANGE=2928]="DEPTH_RANGE",t[t.DEPTH_WRITEMASK=2930]="DEPTH_WRITEMASK",t[t.DEPTH_CLEAR_VALUE=2931]="DEPTH_CLEAR_VALUE",t[t.DEPTH_FUNC=2932]="DEPTH_FUNC",t[t.STENCIL_CLEAR_VALUE=2961]="STENCIL_CLEAR_VALUE",t[t.STENCIL_FUNC=2962]="STENCIL_FUNC",t[t.STENCIL_FAIL=2964]="STENCIL_FAIL",t[t.STENCIL_PASS_DEPTH_FAIL=2965]="STENCIL_PASS_DEPTH_FAIL",t[t.STENCIL_PASS_DEPTH_PASS=2966]="STENCIL_PASS_DEPTH_PASS",t[t.STENCIL_REF=2967]="STENCIL_REF",t[t.STENCIL_VALUE_MASK=2963]="STENCIL_VALUE_MASK",t[t.STENCIL_WRITEMASK=2968]="STENCIL_WRITEMASK",t[t.STENCIL_BACK_FUNC=34816]="STENCIL_BACK_FUNC",t[t.STENCIL_BACK_FAIL=34817]="STENCIL_BACK_FAIL",t[t.STENCIL_BACK_PASS_DEPTH_FAIL=34818]="STENCIL_BACK_PASS_DEPTH_FAIL",t[t.STENCIL_BACK_PASS_DEPTH_PASS=34819]="STENCIL_BACK_PASS_DEPTH_PASS",t[t.STENCIL_BACK_REF=36003]="STENCIL_BACK_REF",t[t.STENCIL_BACK_VALUE_MASK=36004]="STENCIL_BACK_VALUE_MASK",t[t.STENCIL_BACK_WRITEMASK=36005]="STENCIL_BACK_WRITEMASK",t[t.VIEWPORT=2978]="VIEWPORT",t[t.SCISSOR_BOX=3088]="SCISSOR_BOX",t[t.COLOR_CLEAR_VALUE=3106]="COLOR_CLEAR_VALUE",t[t.COLOR_WRITEMASK=3107]="COLOR_WRITEMASK",t[t.UNPACK_ALIGNMENT=3317]="UNPACK_ALIGNMENT",t[t.PACK_ALIGNMENT=3333]="PACK_ALIGNMENT",t[t.MAX_TEXTURE_SIZE=3379]="MAX_TEXTURE_SIZE",t[t.MAX_VIEWPORT_DIMS=3386]="MAX_VIEWPORT_DIMS",t[t.SUBPIXEL_BITS=3408]="SUBPIXEL_BITS",t[t.RED_BITS=3410]="RED_BITS",t[t.GREEN_BITS=3411]="GREEN_BITS",t[t.BLUE_BITS=3412]="BLUE_BITS",t[t.ALPHA_BITS=3413]="ALPHA_BITS",t[t.DEPTH_BITS=3414]="DEPTH_BITS",t[t.STENCIL_BITS=3415]="STENCIL_BITS",t[t.POLYGON_OFFSET_UNITS=10752]="POLYGON_OFFSET_UNITS",t[t.POLYGON_OFFSET_FACTOR=32824]="POLYGON_OFFSET_FACTOR",t[t.TEXTURE_BINDING_2D=32873]="TEXTURE_BINDING_2D",t[t.SAMPLE_BUFFERS=32936]="SAMPLE_BUFFERS",t[t.SAMPLES=32937]="SAMPLES",t[t.SAMPLE_COVERAGE_VALUE=32938]="SAMPLE_COVERAGE_VALUE",t[t.SAMPLE_COVERAGE_INVERT=32939]="SAMPLE_COVERAGE_INVERT",t[t.COMPRESSED_TEXTURE_FORMATS=34467]="COMPRESSED_TEXTURE_FORMATS",t[t.VENDOR=7936]="VENDOR",t[t.RENDERER=7937]="RENDERER",t[t.VERSION=7938]="VERSION",t[t.IMPLEMENTATION_COLOR_READ_TYPE=35738]="IMPLEMENTATION_COLOR_READ_TYPE",t[t.IMPLEMENTATION_COLOR_READ_FORMAT=35739]="IMPLEMENTATION_COLOR_READ_FORMAT",t[t.BROWSER_DEFAULT_WEBGL=37444]="BROWSER_DEFAULT_WEBGL",t[t.STATIC_DRAW=35044]="STATIC_DRAW",t[t.STREAM_DRAW=35040]="STREAM_DRAW",t[t.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.BUFFER_SIZE=34660]="BUFFER_SIZE",t[t.BUFFER_USAGE=34661]="BUFFER_USAGE",t[t.CURRENT_VERTEX_ATTRIB=34342]="CURRENT_VERTEX_ATTRIB",t[t.VERTEX_ATTRIB_ARRAY_ENABLED=34338]="VERTEX_ATTRIB_ARRAY_ENABLED",t[t.VERTEX_ATTRIB_ARRAY_SIZE=34339]="VERTEX_ATTRIB_ARRAY_SIZE",t[t.VERTEX_ATTRIB_ARRAY_STRIDE=34340]="VERTEX_ATTRIB_ARRAY_STRIDE",t[t.VERTEX_ATTRIB_ARRAY_TYPE=34341]="VERTEX_ATTRIB_ARRAY_TYPE",t[t.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922]="VERTEX_ATTRIB_ARRAY_NORMALIZED",t[t.VERTEX_ATTRIB_ARRAY_POINTER=34373]="VERTEX_ATTRIB_ARRAY_POINTER",t[t.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975]="VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",t[t.CULL_FACE=2884]="CULL_FACE",t[t.FRONT=1028]="FRONT",t[t.BACK=1029]="BACK",t[t.FRONT_AND_BACK=1032]="FRONT_AND_BACK",t[t.BLEND=3042]="BLEND",t[t.DEPTH_TEST=2929]="DEPTH_TEST",t[t.DITHER=3024]="DITHER",t[t.POLYGON_OFFSET_FILL=32823]="POLYGON_OFFSET_FILL",t[t.SAMPLE_ALPHA_TO_COVERAGE=32926]="SAMPLE_ALPHA_TO_COVERAGE",t[t.SAMPLE_COVERAGE=32928]="SAMPLE_COVERAGE",t[t.SCISSOR_TEST=3089]="SCISSOR_TEST",t[t.STENCIL_TEST=2960]="STENCIL_TEST",t[t.NO_ERROR=0]="NO_ERROR",t[t.INVALID_ENUM=1280]="INVALID_ENUM",t[t.INVALID_VALUE=1281]="INVALID_VALUE",t[t.INVALID_OPERATION=1282]="INVALID_OPERATION",t[t.OUT_OF_MEMORY=1285]="OUT_OF_MEMORY",t[t.CONTEXT_LOST_WEBGL=37442]="CONTEXT_LOST_WEBGL",t[t.CW=2304]="CW",t[t.CCW=2305]="CCW",t[t.DONT_CARE=4352]="DONT_CARE",t[t.FASTEST=4353]="FASTEST",t[t.NICEST=4354]="NICEST",t[t.GENERATE_MIPMAP_HINT=33170]="GENERATE_MIPMAP_HINT",t[t.BYTE=5120]="BYTE",t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.SHORT=5122]="SHORT",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.INT=5124]="INT",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.FLOAT=5126]="FLOAT",t[t.DOUBLE=5130]="DOUBLE",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.ALPHA=6406]="ALPHA",t[t.RGB=6407]="RGB",t[t.RGBA=6408]="RGBA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",t[t.VERTEX_SHADER=35633]="VERTEX_SHADER",t[t.COMPILE_STATUS=35713]="COMPILE_STATUS",t[t.DELETE_STATUS=35712]="DELETE_STATUS",t[t.LINK_STATUS=35714]="LINK_STATUS",t[t.VALIDATE_STATUS=35715]="VALIDATE_STATUS",t[t.ATTACHED_SHADERS=35717]="ATTACHED_SHADERS",t[t.ACTIVE_ATTRIBUTES=35721]="ACTIVE_ATTRIBUTES",t[t.ACTIVE_UNIFORMS=35718]="ACTIVE_UNIFORMS",t[t.MAX_VERTEX_ATTRIBS=34921]="MAX_VERTEX_ATTRIBS",t[t.MAX_VERTEX_UNIFORM_VECTORS=36347]="MAX_VERTEX_UNIFORM_VECTORS",t[t.MAX_VARYING_VECTORS=36348]="MAX_VARYING_VECTORS",t[t.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661]="MAX_COMBINED_TEXTURE_IMAGE_UNITS",t[t.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660]="MAX_VERTEX_TEXTURE_IMAGE_UNITS",t[t.MAX_TEXTURE_IMAGE_UNITS=34930]="MAX_TEXTURE_IMAGE_UNITS",t[t.MAX_FRAGMENT_UNIFORM_VECTORS=36349]="MAX_FRAGMENT_UNIFORM_VECTORS",t[t.SHADER_TYPE=35663]="SHADER_TYPE",t[t.SHADING_LANGUAGE_VERSION=35724]="SHADING_LANGUAGE_VERSION",t[t.CURRENT_PROGRAM=35725]="CURRENT_PROGRAM",t[t.NEVER=512]="NEVER",t[t.LESS=513]="LESS",t[t.EQUAL=514]="EQUAL",t[t.LEQUAL=515]="LEQUAL",t[t.GREATER=516]="GREATER",t[t.NOTEQUAL=517]="NOTEQUAL",t[t.GEQUAL=518]="GEQUAL",t[t.ALWAYS=519]="ALWAYS",t[t.KEEP=7680]="KEEP",t[t.REPLACE=7681]="REPLACE",t[t.INCR=7682]="INCR",t[t.DECR=7683]="DECR",t[t.INVERT=5386]="INVERT",t[t.INCR_WRAP=34055]="INCR_WRAP",t[t.DECR_WRAP=34056]="DECR_WRAP",t[t.NEAREST=9728]="NEAREST",t[t.LINEAR=9729]="LINEAR",t[t.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",t[t.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",t[t.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",t[t.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR",t[t.TEXTURE_MAG_FILTER=10240]="TEXTURE_MAG_FILTER",t[t.TEXTURE_MIN_FILTER=10241]="TEXTURE_MIN_FILTER",t[t.TEXTURE_WRAP_S=10242]="TEXTURE_WRAP_S",t[t.TEXTURE_WRAP_T=10243]="TEXTURE_WRAP_T",t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE=5890]="TEXTURE",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_BINDING_CUBE_MAP=34068]="TEXTURE_BINDING_CUBE_MAP",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t[t.MAX_CUBE_MAP_TEXTURE_SIZE=34076]="MAX_CUBE_MAP_TEXTURE_SIZE",t[t.TEXTURE0=33984]="TEXTURE0",t[t.ACTIVE_TEXTURE=34016]="ACTIVE_TEXTURE",t[t.REPEAT=10497]="REPEAT",t[t.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t[t.TEXTURE_WIDTH=4096]="TEXTURE_WIDTH",t[t.TEXTURE_HEIGHT=4097]="TEXTURE_HEIGHT",t[t.FLOAT_VEC2=35664]="FLOAT_VEC2",t[t.FLOAT_VEC3=35665]="FLOAT_VEC3",t[t.FLOAT_VEC4=35666]="FLOAT_VEC4",t[t.INT_VEC2=35667]="INT_VEC2",t[t.INT_VEC3=35668]="INT_VEC3",t[t.INT_VEC4=35669]="INT_VEC4",t[t.BOOL=35670]="BOOL",t[t.BOOL_VEC2=35671]="BOOL_VEC2",t[t.BOOL_VEC3=35672]="BOOL_VEC3",t[t.BOOL_VEC4=35673]="BOOL_VEC4",t[t.FLOAT_MAT2=35674]="FLOAT_MAT2",t[t.FLOAT_MAT3=35675]="FLOAT_MAT3",t[t.FLOAT_MAT4=35676]="FLOAT_MAT4",t[t.SAMPLER_2D=35678]="SAMPLER_2D",t[t.SAMPLER_CUBE=35680]="SAMPLER_CUBE",t[t.LOW_FLOAT=36336]="LOW_FLOAT",t[t.MEDIUM_FLOAT=36337]="MEDIUM_FLOAT",t[t.HIGH_FLOAT=36338]="HIGH_FLOAT",t[t.LOW_INT=36339]="LOW_INT",t[t.MEDIUM_INT=36340]="MEDIUM_INT",t[t.HIGH_INT=36341]="HIGH_INT",t[t.FRAMEBUFFER=36160]="FRAMEBUFFER",t[t.RENDERBUFFER=36161]="RENDERBUFFER",t[t.RGBA4=32854]="RGBA4",t[t.RGB5_A1=32855]="RGB5_A1",t[t.RGB565=36194]="RGB565",t[t.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",t[t.STENCIL_INDEX=6401]="STENCIL_INDEX",t[t.STENCIL_INDEX8=36168]="STENCIL_INDEX8",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t[t.RENDERBUFFER_WIDTH=36162]="RENDERBUFFER_WIDTH",t[t.RENDERBUFFER_HEIGHT=36163]="RENDERBUFFER_HEIGHT",t[t.RENDERBUFFER_INTERNAL_FORMAT=36164]="RENDERBUFFER_INTERNAL_FORMAT",t[t.RENDERBUFFER_RED_SIZE=36176]="RENDERBUFFER_RED_SIZE",t[t.RENDERBUFFER_GREEN_SIZE=36177]="RENDERBUFFER_GREEN_SIZE",t[t.RENDERBUFFER_BLUE_SIZE=36178]="RENDERBUFFER_BLUE_SIZE",t[t.RENDERBUFFER_ALPHA_SIZE=36179]="RENDERBUFFER_ALPHA_SIZE",t[t.RENDERBUFFER_DEPTH_SIZE=36180]="RENDERBUFFER_DEPTH_SIZE",t[t.RENDERBUFFER_STENCIL_SIZE=36181]="RENDERBUFFER_STENCIL_SIZE",t[t.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048]="FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",t[t.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049]="FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",t[t.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",t[t.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051]="FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",t[t.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",t[t.DEPTH_ATTACHMENT=36096]="DEPTH_ATTACHMENT",t[t.STENCIL_ATTACHMENT=36128]="STENCIL_ATTACHMENT",t[t.DEPTH_STENCIL_ATTACHMENT=33306]="DEPTH_STENCIL_ATTACHMENT",t[t.NONE=0]="NONE",t[t.FRAMEBUFFER_COMPLETE=36053]="FRAMEBUFFER_COMPLETE",t[t.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054]="FRAMEBUFFER_INCOMPLETE_ATTACHMENT",t[t.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055]="FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",t[t.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057]="FRAMEBUFFER_INCOMPLETE_DIMENSIONS",t[t.FRAMEBUFFER_UNSUPPORTED=36061]="FRAMEBUFFER_UNSUPPORTED",t[t.FRAMEBUFFER_BINDING=36006]="FRAMEBUFFER_BINDING",t[t.RENDERBUFFER_BINDING=36007]="RENDERBUFFER_BINDING",t[t.READ_FRAMEBUFFER=36008]="READ_FRAMEBUFFER",t[t.DRAW_FRAMEBUFFER=36009]="DRAW_FRAMEBUFFER",t[t.MAX_RENDERBUFFER_SIZE=34024]="MAX_RENDERBUFFER_SIZE",t[t.INVALID_FRAMEBUFFER_OPERATION=1286]="INVALID_FRAMEBUFFER_OPERATION",t[t.UNPACK_FLIP_Y_WEBGL=37440]="UNPACK_FLIP_Y_WEBGL",t[t.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441]="UNPACK_PREMULTIPLY_ALPHA_WEBGL",t[t.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443]="UNPACK_COLORSPACE_CONVERSION_WEBGL",t[t.READ_BUFFER=3074]="READ_BUFFER",t[t.UNPACK_ROW_LENGTH=3314]="UNPACK_ROW_LENGTH",t[t.UNPACK_SKIP_ROWS=3315]="UNPACK_SKIP_ROWS",t[t.UNPACK_SKIP_PIXELS=3316]="UNPACK_SKIP_PIXELS",t[t.PACK_ROW_LENGTH=3330]="PACK_ROW_LENGTH",t[t.PACK_SKIP_ROWS=3331]="PACK_SKIP_ROWS",t[t.PACK_SKIP_PIXELS=3332]="PACK_SKIP_PIXELS",t[t.TEXTURE_BINDING_3D=32874]="TEXTURE_BINDING_3D",t[t.UNPACK_SKIP_IMAGES=32877]="UNPACK_SKIP_IMAGES",t[t.UNPACK_IMAGE_HEIGHT=32878]="UNPACK_IMAGE_HEIGHT",t[t.MAX_3D_TEXTURE_SIZE=32883]="MAX_3D_TEXTURE_SIZE",t[t.MAX_ELEMENTS_VERTICES=33e3]="MAX_ELEMENTS_VERTICES",t[t.MAX_ELEMENTS_INDICES=33001]="MAX_ELEMENTS_INDICES",t[t.MAX_TEXTURE_LOD_BIAS=34045]="MAX_TEXTURE_LOD_BIAS",t[t.MAX_FRAGMENT_UNIFORM_COMPONENTS=35657]="MAX_FRAGMENT_UNIFORM_COMPONENTS",t[t.MAX_VERTEX_UNIFORM_COMPONENTS=35658]="MAX_VERTEX_UNIFORM_COMPONENTS",t[t.MAX_ARRAY_TEXTURE_LAYERS=35071]="MAX_ARRAY_TEXTURE_LAYERS",t[t.MIN_PROGRAM_TEXEL_OFFSET=35076]="MIN_PROGRAM_TEXEL_OFFSET",t[t.MAX_PROGRAM_TEXEL_OFFSET=35077]="MAX_PROGRAM_TEXEL_OFFSET",t[t.MAX_VARYING_COMPONENTS=35659]="MAX_VARYING_COMPONENTS",t[t.FRAGMENT_SHADER_DERIVATIVE_HINT=35723]="FRAGMENT_SHADER_DERIVATIVE_HINT",t[t.RASTERIZER_DISCARD=35977]="RASTERIZER_DISCARD",t[t.VERTEX_ARRAY_BINDING=34229]="VERTEX_ARRAY_BINDING",t[t.MAX_VERTEX_OUTPUT_COMPONENTS=37154]="MAX_VERTEX_OUTPUT_COMPONENTS",t[t.MAX_FRAGMENT_INPUT_COMPONENTS=37157]="MAX_FRAGMENT_INPUT_COMPONENTS",t[t.MAX_SERVER_WAIT_TIMEOUT=37137]="MAX_SERVER_WAIT_TIMEOUT",t[t.MAX_ELEMENT_INDEX=36203]="MAX_ELEMENT_INDEX",t[t.RED=6403]="RED",t[t.RGB8=32849]="RGB8",t[t.RGBA8=32856]="RGBA8",t[t.RGB10_A2=32857]="RGB10_A2",t[t.TEXTURE_3D=32879]="TEXTURE_3D",t[t.TEXTURE_WRAP_R=32882]="TEXTURE_WRAP_R",t[t.TEXTURE_MIN_LOD=33082]="TEXTURE_MIN_LOD",t[t.TEXTURE_MAX_LOD=33083]="TEXTURE_MAX_LOD",t[t.TEXTURE_BASE_LEVEL=33084]="TEXTURE_BASE_LEVEL",t[t.TEXTURE_MAX_LEVEL=33085]="TEXTURE_MAX_LEVEL",t[t.TEXTURE_COMPARE_MODE=34892]="TEXTURE_COMPARE_MODE",t[t.TEXTURE_COMPARE_FUNC=34893]="TEXTURE_COMPARE_FUNC",t[t.SRGB=35904]="SRGB",t[t.SRGB8=35905]="SRGB8",t[t.SRGB8_ALPHA8=35907]="SRGB8_ALPHA8",t[t.COMPARE_REF_TO_TEXTURE=34894]="COMPARE_REF_TO_TEXTURE",t[t.RGBA32F=34836]="RGBA32F",t[t.RGB32F=34837]="RGB32F",t[t.RGBA16F=34842]="RGBA16F",t[t.RGB16F=34843]="RGB16F",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_BINDING_2D_ARRAY=35869]="TEXTURE_BINDING_2D_ARRAY",t[t.R11F_G11F_B10F=35898]="R11F_G11F_B10F",t[t.RGB9_E5=35901]="RGB9_E5",t[t.RGBA32UI=36208]="RGBA32UI",t[t.RGB32UI=36209]="RGB32UI",t[t.RGBA16UI=36214]="RGBA16UI",t[t.RGB16UI=36215]="RGB16UI",t[t.RGBA8UI=36220]="RGBA8UI",t[t.RGB8UI=36221]="RGB8UI",t[t.RGBA32I=36226]="RGBA32I",t[t.RGB32I=36227]="RGB32I",t[t.RGBA16I=36232]="RGBA16I",t[t.RGB16I=36233]="RGB16I",t[t.RGBA8I=36238]="RGBA8I",t[t.RGB8I=36239]="RGB8I",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.R8=33321]="R8",t[t.RG8=33323]="RG8",t[t.R16F=33325]="R16F",t[t.R32F=33326]="R32F",t[t.RG16F=33327]="RG16F",t[t.RG32F=33328]="RG32F",t[t.R8I=33329]="R8I",t[t.R8UI=33330]="R8UI",t[t.R16I=33331]="R16I",t[t.R16UI=33332]="R16UI",t[t.R32I=33333]="R32I",t[t.R32UI=33334]="R32UI",t[t.RG8I=33335]="RG8I",t[t.RG8UI=33336]="RG8UI",t[t.RG16I=33337]="RG16I",t[t.RG16UI=33338]="RG16UI",t[t.RG32I=33339]="RG32I",t[t.RG32UI=33340]="RG32UI",t[t.R8_SNORM=36756]="R8_SNORM",t[t.RG8_SNORM=36757]="RG8_SNORM",t[t.RGB8_SNORM=36758]="RGB8_SNORM",t[t.RGBA8_SNORM=36759]="RGBA8_SNORM",t[t.RGB10_A2UI=36975]="RGB10_A2UI",t[t.TEXTURE_IMMUTABLE_FORMAT=37167]="TEXTURE_IMMUTABLE_FORMAT",t[t.TEXTURE_IMMUTABLE_LEVELS=33503]="TEXTURE_IMMUTABLE_LEVELS",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.HALF_FLOAT=5131]="HALF_FLOAT",t[t.RG=33319]="RG",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.INT_2_10_10_10_REV=36255]="INT_2_10_10_10_REV",t[t.CURRENT_QUERY=34917]="CURRENT_QUERY",t[t.QUERY_RESULT=34918]="QUERY_RESULT",t[t.QUERY_RESULT_AVAILABLE=34919]="QUERY_RESULT_AVAILABLE",t[t.ANY_SAMPLES_PASSED=35887]="ANY_SAMPLES_PASSED",t[t.ANY_SAMPLES_PASSED_CONSERVATIVE=36202]="ANY_SAMPLES_PASSED_CONSERVATIVE",t[t.MAX_DRAW_BUFFERS=34852]="MAX_DRAW_BUFFERS",t[t.DRAW_BUFFER0=34853]="DRAW_BUFFER0",t[t.DRAW_BUFFER1=34854]="DRAW_BUFFER1",t[t.DRAW_BUFFER2=34855]="DRAW_BUFFER2",t[t.DRAW_BUFFER3=34856]="DRAW_BUFFER3",t[t.DRAW_BUFFER4=34857]="DRAW_BUFFER4",t[t.DRAW_BUFFER5=34858]="DRAW_BUFFER5",t[t.DRAW_BUFFER6=34859]="DRAW_BUFFER6",t[t.DRAW_BUFFER7=34860]="DRAW_BUFFER7",t[t.DRAW_BUFFER8=34861]="DRAW_BUFFER8",t[t.DRAW_BUFFER9=34862]="DRAW_BUFFER9",t[t.DRAW_BUFFER10=34863]="DRAW_BUFFER10",t[t.DRAW_BUFFER11=34864]="DRAW_BUFFER11",t[t.DRAW_BUFFER12=34865]="DRAW_BUFFER12",t[t.DRAW_BUFFER13=34866]="DRAW_BUFFER13",t[t.DRAW_BUFFER14=34867]="DRAW_BUFFER14",t[t.DRAW_BUFFER15=34868]="DRAW_BUFFER15",t[t.MAX_COLOR_ATTACHMENTS=36063]="MAX_COLOR_ATTACHMENTS",t[t.COLOR_ATTACHMENT1=36065]="COLOR_ATTACHMENT1",t[t.COLOR_ATTACHMENT2=36066]="COLOR_ATTACHMENT2",t[t.COLOR_ATTACHMENT3=36067]="COLOR_ATTACHMENT3",t[t.COLOR_ATTACHMENT4=36068]="COLOR_ATTACHMENT4",t[t.COLOR_ATTACHMENT5=36069]="COLOR_ATTACHMENT5",t[t.COLOR_ATTACHMENT6=36070]="COLOR_ATTACHMENT6",t[t.COLOR_ATTACHMENT7=36071]="COLOR_ATTACHMENT7",t[t.COLOR_ATTACHMENT8=36072]="COLOR_ATTACHMENT8",t[t.COLOR_ATTACHMENT9=36073]="COLOR_ATTACHMENT9",t[t.COLOR_ATTACHMENT10=36074]="COLOR_ATTACHMENT10",t[t.COLOR_ATTACHMENT11=36075]="COLOR_ATTACHMENT11",t[t.COLOR_ATTACHMENT12=36076]="COLOR_ATTACHMENT12",t[t.COLOR_ATTACHMENT13=36077]="COLOR_ATTACHMENT13",t[t.COLOR_ATTACHMENT14=36078]="COLOR_ATTACHMENT14",t[t.COLOR_ATTACHMENT15=36079]="COLOR_ATTACHMENT15",t[t.SAMPLER_3D=35679]="SAMPLER_3D",t[t.SAMPLER_2D_SHADOW=35682]="SAMPLER_2D_SHADOW",t[t.SAMPLER_2D_ARRAY=36289]="SAMPLER_2D_ARRAY",t[t.SAMPLER_2D_ARRAY_SHADOW=36292]="SAMPLER_2D_ARRAY_SHADOW",t[t.SAMPLER_CUBE_SHADOW=36293]="SAMPLER_CUBE_SHADOW",t[t.INT_SAMPLER_2D=36298]="INT_SAMPLER_2D",t[t.INT_SAMPLER_3D=36299]="INT_SAMPLER_3D",t[t.INT_SAMPLER_CUBE=36300]="INT_SAMPLER_CUBE",t[t.INT_SAMPLER_2D_ARRAY=36303]="INT_SAMPLER_2D_ARRAY",t[t.UNSIGNED_INT_SAMPLER_2D=36306]="UNSIGNED_INT_SAMPLER_2D",t[t.UNSIGNED_INT_SAMPLER_3D=36307]="UNSIGNED_INT_SAMPLER_3D",t[t.UNSIGNED_INT_SAMPLER_CUBE=36308]="UNSIGNED_INT_SAMPLER_CUBE",t[t.UNSIGNED_INT_SAMPLER_2D_ARRAY=36311]="UNSIGNED_INT_SAMPLER_2D_ARRAY",t[t.MAX_SAMPLES=36183]="MAX_SAMPLES",t[t.SAMPLER_BINDING=35097]="SAMPLER_BINDING",t[t.PIXEL_PACK_BUFFER=35051]="PIXEL_PACK_BUFFER",t[t.PIXEL_UNPACK_BUFFER=35052]="PIXEL_UNPACK_BUFFER",t[t.PIXEL_PACK_BUFFER_BINDING=35053]="PIXEL_PACK_BUFFER_BINDING",t[t.PIXEL_UNPACK_BUFFER_BINDING=35055]="PIXEL_UNPACK_BUFFER_BINDING",t[t.COPY_READ_BUFFER=36662]="COPY_READ_BUFFER",t[t.COPY_WRITE_BUFFER=36663]="COPY_WRITE_BUFFER",t[t.COPY_READ_BUFFER_BINDING=36662]="COPY_READ_BUFFER_BINDING",t[t.COPY_WRITE_BUFFER_BINDING=36663]="COPY_WRITE_BUFFER_BINDING",t[t.FLOAT_MAT2x3=35685]="FLOAT_MAT2x3",t[t.FLOAT_MAT2x4=35686]="FLOAT_MAT2x4",t[t.FLOAT_MAT3x2=35687]="FLOAT_MAT3x2",t[t.FLOAT_MAT3x4=35688]="FLOAT_MAT3x4",t[t.FLOAT_MAT4x2=35689]="FLOAT_MAT4x2",t[t.FLOAT_MAT4x3=35690]="FLOAT_MAT4x3",t[t.UNSIGNED_INT_VEC2=36294]="UNSIGNED_INT_VEC2",t[t.UNSIGNED_INT_VEC3=36295]="UNSIGNED_INT_VEC3",t[t.UNSIGNED_INT_VEC4=36296]="UNSIGNED_INT_VEC4",t[t.UNSIGNED_NORMALIZED=35863]="UNSIGNED_NORMALIZED",t[t.SIGNED_NORMALIZED=36764]="SIGNED_NORMALIZED",t[t.VERTEX_ATTRIB_ARRAY_INTEGER=35069]="VERTEX_ATTRIB_ARRAY_INTEGER",t[t.VERTEX_ATTRIB_ARRAY_DIVISOR=35070]="VERTEX_ATTRIB_ARRAY_DIVISOR",t[t.TRANSFORM_FEEDBACK_BUFFER_MODE=35967]="TRANSFORM_FEEDBACK_BUFFER_MODE",t[t.MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS=35968]="MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS",t[t.TRANSFORM_FEEDBACK_VARYINGS=35971]="TRANSFORM_FEEDBACK_VARYINGS",t[t.TRANSFORM_FEEDBACK_BUFFER_START=35972]="TRANSFORM_FEEDBACK_BUFFER_START",t[t.TRANSFORM_FEEDBACK_BUFFER_SIZE=35973]="TRANSFORM_FEEDBACK_BUFFER_SIZE",t[t.TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN=35976]="TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN",t[t.MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS=35978]="MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS",t[t.MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS=35979]="MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS",t[t.INTERLEAVED_ATTRIBS=35980]="INTERLEAVED_ATTRIBS",t[t.SEPARATE_ATTRIBS=35981]="SEPARATE_ATTRIBS",t[t.TRANSFORM_FEEDBACK_BUFFER=35982]="TRANSFORM_FEEDBACK_BUFFER",t[t.TRANSFORM_FEEDBACK_BUFFER_BINDING=35983]="TRANSFORM_FEEDBACK_BUFFER_BINDING",t[t.TRANSFORM_FEEDBACK=36386]="TRANSFORM_FEEDBACK",t[t.TRANSFORM_FEEDBACK_PAUSED=36387]="TRANSFORM_FEEDBACK_PAUSED",t[t.TRANSFORM_FEEDBACK_ACTIVE=36388]="TRANSFORM_FEEDBACK_ACTIVE",t[t.TRANSFORM_FEEDBACK_BINDING=36389]="TRANSFORM_FEEDBACK_BINDING",t[t.FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING=33296]="FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING",t[t.FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE=33297]="FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE",t[t.FRAMEBUFFER_ATTACHMENT_RED_SIZE=33298]="FRAMEBUFFER_ATTACHMENT_RED_SIZE",t[t.FRAMEBUFFER_ATTACHMENT_GREEN_SIZE=33299]="FRAMEBUFFER_ATTACHMENT_GREEN_SIZE",t[t.FRAMEBUFFER_ATTACHMENT_BLUE_SIZE=33300]="FRAMEBUFFER_ATTACHMENT_BLUE_SIZE",t[t.FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE=33301]="FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE",t[t.FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE=33302]="FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE",t[t.FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE=33303]="FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE",t[t.FRAMEBUFFER_DEFAULT=33304]="FRAMEBUFFER_DEFAULT",t[t.DEPTH24_STENCIL8=35056]="DEPTH24_STENCIL8",t[t.DRAW_FRAMEBUFFER_BINDING=36006]="DRAW_FRAMEBUFFER_BINDING",t[t.READ_FRAMEBUFFER_BINDING=36010]="READ_FRAMEBUFFER_BINDING",t[t.RENDERBUFFER_SAMPLES=36011]="RENDERBUFFER_SAMPLES",t[t.FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER=36052]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER",t[t.FRAMEBUFFER_INCOMPLETE_MULTISAMPLE=36182]="FRAMEBUFFER_INCOMPLETE_MULTISAMPLE",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t[t.UNIFORM_BUFFER_BINDING=35368]="UNIFORM_BUFFER_BINDING",t[t.UNIFORM_BUFFER_START=35369]="UNIFORM_BUFFER_START",t[t.UNIFORM_BUFFER_SIZE=35370]="UNIFORM_BUFFER_SIZE",t[t.MAX_VERTEX_UNIFORM_BLOCKS=35371]="MAX_VERTEX_UNIFORM_BLOCKS",t[t.MAX_FRAGMENT_UNIFORM_BLOCKS=35373]="MAX_FRAGMENT_UNIFORM_BLOCKS",t[t.MAX_COMBINED_UNIFORM_BLOCKS=35374]="MAX_COMBINED_UNIFORM_BLOCKS",t[t.MAX_UNIFORM_BUFFER_BINDINGS=35375]="MAX_UNIFORM_BUFFER_BINDINGS",t[t.MAX_UNIFORM_BLOCK_SIZE=35376]="MAX_UNIFORM_BLOCK_SIZE",t[t.MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS=35377]="MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS",t[t.MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS=35379]="MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS",t[t.UNIFORM_BUFFER_OFFSET_ALIGNMENT=35380]="UNIFORM_BUFFER_OFFSET_ALIGNMENT",t[t.ACTIVE_UNIFORM_BLOCKS=35382]="ACTIVE_UNIFORM_BLOCKS",t[t.UNIFORM_TYPE=35383]="UNIFORM_TYPE",t[t.UNIFORM_SIZE=35384]="UNIFORM_SIZE",t[t.UNIFORM_BLOCK_INDEX=35386]="UNIFORM_BLOCK_INDEX",t[t.UNIFORM_OFFSET=35387]="UNIFORM_OFFSET",t[t.UNIFORM_ARRAY_STRIDE=35388]="UNIFORM_ARRAY_STRIDE",t[t.UNIFORM_MATRIX_STRIDE=35389]="UNIFORM_MATRIX_STRIDE",t[t.UNIFORM_IS_ROW_MAJOR=35390]="UNIFORM_IS_ROW_MAJOR",t[t.UNIFORM_BLOCK_BINDING=35391]="UNIFORM_BLOCK_BINDING",t[t.UNIFORM_BLOCK_DATA_SIZE=35392]="UNIFORM_BLOCK_DATA_SIZE",t[t.UNIFORM_BLOCK_ACTIVE_UNIFORMS=35394]="UNIFORM_BLOCK_ACTIVE_UNIFORMS",t[t.UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES=35395]="UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES",t[t.UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER=35396]="UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER",t[t.UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER=35398]="UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER",t[t.OBJECT_TYPE=37138]="OBJECT_TYPE",t[t.SYNC_CONDITION=37139]="SYNC_CONDITION",t[t.SYNC_STATUS=37140]="SYNC_STATUS",t[t.SYNC_FLAGS=37141]="SYNC_FLAGS",t[t.SYNC_FENCE=37142]="SYNC_FENCE",t[t.SYNC_GPU_COMMANDS_COMPLETE=37143]="SYNC_GPU_COMMANDS_COMPLETE",t[t.UNSIGNALED=37144]="UNSIGNALED",t[t.SIGNALED=37145]="SIGNALED",t[t.ALREADY_SIGNALED=37146]="ALREADY_SIGNALED",t[t.TIMEOUT_EXPIRED=37147]="TIMEOUT_EXPIRED",t[t.CONDITION_SATISFIED=37148]="CONDITION_SATISFIED",t[t.WAIT_FAILED=37149]="WAIT_FAILED",t[t.SYNC_FLUSH_COMMANDS_BIT=1]="SYNC_FLUSH_COMMANDS_BIT",t[t.COLOR=6144]="COLOR",t[t.DEPTH=6145]="DEPTH",t[t.STENCIL=6146]="STENCIL",t[t.MIN=32775]="MIN",t[t.MAX=32776]="MAX",t[t.DEPTH_COMPONENT24=33190]="DEPTH_COMPONENT24",t[t.STREAM_READ=35041]="STREAM_READ",t[t.STREAM_COPY=35042]="STREAM_COPY",t[t.STATIC_READ=35045]="STATIC_READ",t[t.STATIC_COPY=35046]="STATIC_COPY",t[t.DYNAMIC_READ=35049]="DYNAMIC_READ",t[t.DYNAMIC_COPY=35050]="DYNAMIC_COPY",t[t.DEPTH_COMPONENT32F=36012]="DEPTH_COMPONENT32F",t[t.DEPTH32F_STENCIL8=36013]="DEPTH32F_STENCIL8",t[t.INVALID_INDEX=4294967295]="INVALID_INDEX",t[t.TIMEOUT_IGNORED=-1]="TIMEOUT_IGNORED",t[t.MAX_CLIENT_WAIT_TIMEOUT_WEBGL=37447]="MAX_CLIENT_WAIT_TIMEOUT_WEBGL",t[t.UNMASKED_VENDOR_WEBGL=37445]="UNMASKED_VENDOR_WEBGL",t[t.UNMASKED_RENDERER_WEBGL=37446]="UNMASKED_RENDERER_WEBGL",t[t.MAX_TEXTURE_MAX_ANISOTROPY_EXT=34047]="MAX_TEXTURE_MAX_ANISOTROPY_EXT",t[t.TEXTURE_MAX_ANISOTROPY_EXT=34046]="TEXTURE_MAX_ANISOTROPY_EXT",t[t.R16_EXT=33322]="R16_EXT",t[t.RG16_EXT=33324]="RG16_EXT",t[t.RGB16_EXT=32852]="RGB16_EXT",t[t.RGBA16_EXT=32859]="RGBA16_EXT",t[t.R16_SNORM_EXT=36760]="R16_SNORM_EXT",t[t.RG16_SNORM_EXT=36761]="RG16_SNORM_EXT",t[t.RGB16_SNORM_EXT=36762]="RGB16_SNORM_EXT",t[t.RGBA16_SNORM_EXT=36763]="RGBA16_SNORM_EXT",t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_RED_RGTC1_EXT=36283]="COMPRESSED_RED_RGTC1_EXT",t[t.COMPRESSED_SIGNED_RED_RGTC1_EXT=36284]="COMPRESSED_SIGNED_RED_RGTC1_EXT",t[t.COMPRESSED_RED_GREEN_RGTC2_EXT=36285]="COMPRESSED_RED_GREEN_RGTC2_EXT",t[t.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT=36286]="COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT",t[t.COMPRESSED_RGBA_BPTC_UNORM_EXT=36492]="COMPRESSED_RGBA_BPTC_UNORM_EXT",t[t.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT=36493]="COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT",t[t.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT=36494]="COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT",t[t.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT=36495]="COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37493]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37494]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37495]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37496]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37497]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",t[t.COMPRESSED_RGBA_ASTC_5x4_KHR=37809]="COMPRESSED_RGBA_ASTC_5x4_KHR",t[t.COMPRESSED_RGBA_ASTC_5x5_KHR=37810]="COMPRESSED_RGBA_ASTC_5x5_KHR",t[t.COMPRESSED_RGBA_ASTC_6x5_KHR=37811]="COMPRESSED_RGBA_ASTC_6x5_KHR",t[t.COMPRESSED_RGBA_ASTC_6x6_KHR=37812]="COMPRESSED_RGBA_ASTC_6x6_KHR",t[t.COMPRESSED_RGBA_ASTC_8x5_KHR=37813]="COMPRESSED_RGBA_ASTC_8x5_KHR",t[t.COMPRESSED_RGBA_ASTC_8x6_KHR=37814]="COMPRESSED_RGBA_ASTC_8x6_KHR",t[t.COMPRESSED_RGBA_ASTC_8x8_KHR=37815]="COMPRESSED_RGBA_ASTC_8x8_KHR",t[t.COMPRESSED_RGBA_ASTC_10x5_KHR=37816]="COMPRESSED_RGBA_ASTC_10x5_KHR",t[t.COMPRESSED_RGBA_ASTC_10x6_KHR=37817]="COMPRESSED_RGBA_ASTC_10x6_KHR",t[t.COMPRESSED_RGBA_ASTC_10x8_KHR=37818]="COMPRESSED_RGBA_ASTC_10x8_KHR",t[t.COMPRESSED_RGBA_ASTC_10x10_KHR=37819]="COMPRESSED_RGBA_ASTC_10x10_KHR",t[t.COMPRESSED_RGBA_ASTC_12x10_KHR=37820]="COMPRESSED_RGBA_ASTC_12x10_KHR",t[t.COMPRESSED_RGBA_ASTC_12x12_KHR=37821]="COMPRESSED_RGBA_ASTC_12x12_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR=37840]="COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR=37841]="COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR=37842]="COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR=37843]="COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR=37844]="COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR=37845]="COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR=37846]="COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR=37847]="COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR=37848]="COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR=37849]="COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR=37850]="COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR=37851]="COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR=37852]="COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR=37853]="COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR",t[t.QUERY_COUNTER_BITS_EXT=34916]="QUERY_COUNTER_BITS_EXT",t[t.CURRENT_QUERY_EXT=34917]="CURRENT_QUERY_EXT",t[t.QUERY_RESULT_EXT=34918]="QUERY_RESULT_EXT",t[t.QUERY_RESULT_AVAILABLE_EXT=34919]="QUERY_RESULT_AVAILABLE_EXT",t[t.TIME_ELAPSED_EXT=35007]="TIME_ELAPSED_EXT",t[t.TIMESTAMP_EXT=36392]="TIMESTAMP_EXT",t[t.GPU_DISJOINT_EXT=36795]="GPU_DISJOINT_EXT",t[t.COMPLETION_STATUS_KHR=37297]="COMPLETION_STATUS_KHR",t[t.DEPTH_CLAMP_EXT=34383]="DEPTH_CLAMP_EXT",t[t.FIRST_VERTEX_CONVENTION_WEBGL=36429]="FIRST_VERTEX_CONVENTION_WEBGL",t[t.LAST_VERTEX_CONVENTION_WEBGL=36430]="LAST_VERTEX_CONVENTION_WEBGL",t[t.PROVOKING_VERTEX_WEBL=36431]="PROVOKING_VERTEX_WEBL",t[t.POLYGON_MODE_WEBGL=2880]="POLYGON_MODE_WEBGL",t[t.POLYGON_OFFSET_LINE_WEBGL=10754]="POLYGON_OFFSET_LINE_WEBGL",t[t.LINE_WEBGL=6913]="LINE_WEBGL",t[t.FILL_WEBGL=6914]="FILL_WEBGL",t[t.MAX_CLIP_DISTANCES_WEBGL=3378]="MAX_CLIP_DISTANCES_WEBGL",t[t.MAX_CULL_DISTANCES_WEBGL=33529]="MAX_CULL_DISTANCES_WEBGL",t[t.MAX_COMBINED_CLIP_AND_CULL_DISTANCES_WEBGL=33530]="MAX_COMBINED_CLIP_AND_CULL_DISTANCES_WEBGL",t[t.CLIP_DISTANCE0_WEBGL=12288]="CLIP_DISTANCE0_WEBGL",t[t.CLIP_DISTANCE1_WEBGL=12289]="CLIP_DISTANCE1_WEBGL",t[t.CLIP_DISTANCE2_WEBGL=12290]="CLIP_DISTANCE2_WEBGL",t[t.CLIP_DISTANCE3_WEBGL=12291]="CLIP_DISTANCE3_WEBGL",t[t.CLIP_DISTANCE4_WEBGL=12292]="CLIP_DISTANCE4_WEBGL",t[t.CLIP_DISTANCE5_WEBGL=12293]="CLIP_DISTANCE5_WEBGL",t[t.CLIP_DISTANCE6_WEBGL=12294]="CLIP_DISTANCE6_WEBGL",t[t.CLIP_DISTANCE7_WEBGL=12295]="CLIP_DISTANCE7_WEBGL",t[t.POLYGON_OFFSET_CLAMP_EXT=36379]="POLYGON_OFFSET_CLAMP_EXT",t[t.LOWER_LEFT_EXT=36001]="LOWER_LEFT_EXT",t[t.UPPER_LEFT_EXT=36002]="UPPER_LEFT_EXT",t[t.NEGATIVE_ONE_TO_ONE_EXT=37726]="NEGATIVE_ONE_TO_ONE_EXT",t[t.ZERO_TO_ONE_EXT=37727]="ZERO_TO_ONE_EXT",t[t.CLIP_ORIGIN_EXT=37724]="CLIP_ORIGIN_EXT",t[t.CLIP_DEPTH_MODE_EXT=37725]="CLIP_DEPTH_MODE_EXT",t[t.SRC1_COLOR_WEBGL=35065]="SRC1_COLOR_WEBGL",t[t.SRC1_ALPHA_WEBGL=34185]="SRC1_ALPHA_WEBGL",t[t.ONE_MINUS_SRC1_COLOR_WEBGL=35066]="ONE_MINUS_SRC1_COLOR_WEBGL",t[t.ONE_MINUS_SRC1_ALPHA_WEBGL=35067]="ONE_MINUS_SRC1_ALPHA_WEBGL",t[t.MAX_DUAL_SOURCE_DRAW_BUFFERS_WEBGL=35068]="MAX_DUAL_SOURCE_DRAW_BUFFERS_WEBGL",t[t.MIRROR_CLAMP_TO_EDGE_EXT=34627]="MIRROR_CLAMP_TO_EDGE_EXT"})(Hf||(Hf={}));const xT={3042:!1,32773:new Float32Array([0,0,0,0]),32777:32774,34877:32774,32969:1,32968:0,32971:1,32970:0,3106:new Float32Array([0,0,0,0]),3107:[!0,!0,!0,!0],2884:!1,2885:1029,2929:!1,2931:1,2932:513,2928:new Float32Array([0,1]),2930:!0,3024:!0,35725:null,36006:null,36007:null,34229:null,34964:null,2886:2305,33170:4352,2849:1,32823:!1,32824:0,10752:0,32926:!1,32928:!1,32938:1,32939:!1,3089:!1,3088:new Int32Array([0,0,1024,1024]),2960:!1,2961:0,2968:4294967295,36005:4294967295,2962:519,2967:0,2963:4294967295,34816:519,36003:0,36004:4294967295,2964:7680,2965:7680,2966:7680,34817:7680,34818:7680,34819:7680,2978:[0,0,1024,1024],36389:null,36662:null,36663:null,35053:null,35055:null,35723:4352,36010:null,35977:!1,3333:4,3317:4,37440:!1,37441:!1,37443:37444,3330:0,3332:0,3331:0,3314:0,32878:0,3316:0,3315:0,32877:0},Rr=(t,e,n)=>e?t.enable(n):t.disable(n),Mj=(t,e,n)=>t.hint(n,e),ni=(t,e,n)=>t.pixelStorei(n,e),Ij=(t,e,n)=>{const r=n===36006?36009:36008;return t.bindFramebuffer(r,e)},gp=(t,e,n)=>{const s={34964:34962,36662:36662,36663:36663,35053:35051,35055:35052}[n];t.bindBuffer(s,e)};function Y1(t){return Array.isArray(t)||ArrayBuffer.isView(t)&&!(t instanceof DataView)}const Fse={3042:Rr,32773:(t,e)=>t.blendColor(...e),32777:"blendEquation",34877:"blendEquation",32969:"blendFunc",32968:"blendFunc",32971:"blendFunc",32970:"blendFunc",3106:(t,e)=>t.clearColor(...e),3107:(t,e)=>t.colorMask(...e),2884:Rr,2885:(t,e)=>t.cullFace(e),2929:Rr,2931:(t,e)=>t.clearDepth(e),2932:(t,e)=>t.depthFunc(e),2928:(t,e)=>t.depthRange(...e),2930:(t,e)=>t.depthMask(e),3024:Rr,35723:Mj,35725:(t,e)=>t.useProgram(e),36007:(t,e)=>t.bindRenderbuffer(36161,e),36389:(t,e)=>{var n;return(n=t.bindTransformFeedback)==null?void 0:n.call(t,36386,e)},34229:(t,e)=>t.bindVertexArray(e),36006:Ij,36010:Ij,34964:gp,36662:gp,36663:gp,35053:gp,35055:gp,2886:(t,e)=>t.frontFace(e),33170:Mj,2849:(t,e)=>t.lineWidth(e),32823:Rr,32824:"polygonOffset",10752:"polygonOffset",35977:Rr,32926:Rr,32928:Rr,32938:"sampleCoverage",32939:"sampleCoverage",3089:Rr,3088:(t,e)=>t.scissor(...e),2960:Rr,2961:(t,e)=>t.clearStencil(e),2968:(t,e)=>t.stencilMaskSeparate(1028,e),36005:(t,e)=>t.stencilMaskSeparate(1029,e),2962:"stencilFuncFront",2967:"stencilFuncFront",2963:"stencilFuncFront",34816:"stencilFuncBack",36003:"stencilFuncBack",36004:"stencilFuncBack",2964:"stencilOpFront",2965:"stencilOpFront",2966:"stencilOpFront",34817:"stencilOpBack",34818:"stencilOpBack",34819:"stencilOpBack",2978:(t,e)=>t.viewport(...e),34383:Rr,10754:Rr,12288:Rr,12289:Rr,12290:Rr,12291:Rr,12292:Rr,12293:Rr,12294:Rr,12295:Rr,3333:ni,3317:ni,37440:ni,37441:ni,37443:ni,3330:ni,3332:ni,3331:ni,3314:ni,32878:ni,3316:ni,3315:ni,32877:ni,framebuffer:(t,e)=>{const n=e&&"handle"in e?e.handle:e;return t.bindFramebuffer(36160,n)},blend:(t,e)=>e?t.enable(3042):t.disable(3042),blendColor:(t,e)=>t.blendColor(...e),blendEquation:(t,e)=>{const n=typeof e=="number"?[e,e]:e;t.blendEquationSeparate(...n)},blendFunc:(t,e)=>{const n=(e==null?void 0:e.length)===2?[...e,...e]:e;t.blendFuncSeparate(...n)},clearColor:(t,e)=>t.clearColor(...e),clearDepth:(t,e)=>t.clearDepth(e),clearStencil:(t,e)=>t.clearStencil(e),colorMask:(t,e)=>t.colorMask(...e),cull:(t,e)=>e?t.enable(2884):t.disable(2884),cullFace:(t,e)=>t.cullFace(e),depthTest:(t,e)=>e?t.enable(2929):t.disable(2929),depthFunc:(t,e)=>t.depthFunc(e),depthMask:(t,e)=>t.depthMask(e),depthRange:(t,e)=>t.depthRange(...e),dither:(t,e)=>e?t.enable(3024):t.disable(3024),derivativeHint:(t,e)=>{t.hint(35723,e)},frontFace:(t,e)=>t.frontFace(e),mipmapHint:(t,e)=>t.hint(33170,e),lineWidth:(t,e)=>t.lineWidth(e),polygonOffsetFill:(t,e)=>e?t.enable(32823):t.disable(32823),polygonOffset:(t,e)=>t.polygonOffset(...e),sampleCoverage:(t,e)=>t.sampleCoverage(e[0],e[1]||!1),scissorTest:(t,e)=>e?t.enable(3089):t.disable(3089),scissor:(t,e)=>t.scissor(...e),stencilTest:(t,e)=>e?t.enable(2960):t.disable(2960),stencilMask:(t,e)=>{e=Y1(e)?e:[e,e];const[n,r]=e;t.stencilMaskSeparate(1028,n),t.stencilMaskSeparate(1029,r)},stencilFunc:(t,e)=>{e=Y1(e)&&e.length===3?[...e,...e]:e;const[n,r,s,o,l,c]=e;t.stencilFuncSeparate(1028,n,r,s),t.stencilFuncSeparate(1029,o,l,c)},stencilOp:(t,e)=>{e=Y1(e)&&e.length===3?[...e,...e]:e;const[n,r,s,o,l,c]=e;t.stencilOpSeparate(1028,n,r,s),t.stencilOpSeparate(1029,o,l,c)},viewport:(t,e)=>t.viewport(...e)};function hr(t,e,n){return e[t]!==void 0?e[t]:n[t]}const Bse={blendEquation:(t,e,n)=>t.blendEquationSeparate(hr(32777,e,n),hr(34877,e,n)),blendFunc:(t,e,n)=>t.blendFuncSeparate(hr(32969,e,n),hr(32968,e,n),hr(32971,e,n),hr(32970,e,n)),polygonOffset:(t,e,n)=>t.polygonOffset(hr(32824,e,n),hr(10752,e,n)),sampleCoverage:(t,e,n)=>t.sampleCoverage(hr(32938,e,n),hr(32939,e,n)),stencilFuncFront:(t,e,n)=>t.stencilFuncSeparate(1028,hr(2962,e,n),hr(2967,e,n),hr(2963,e,n)),stencilFuncBack:(t,e,n)=>t.stencilFuncSeparate(1029,hr(34816,e,n),hr(36003,e,n),hr(36004,e,n)),stencilOpFront:(t,e,n)=>t.stencilOpSeparate(1028,hr(2964,e,n),hr(2965,e,n),hr(2966,e,n)),stencilOpBack:(t,e,n)=>t.stencilOpSeparate(1029,hr(34817,e,n),hr(34818,e,n),hr(34819,e,n))},Oj={enable:(t,e)=>t({[e]:!0}),disable:(t,e)=>t({[e]:!1}),pixelStorei:(t,e,n)=>t({[e]:n}),hint:(t,e,n)=>t({[e]:n}),useProgram:(t,e)=>t({35725:e}),bindRenderbuffer:(t,e,n)=>t({36007:n}),bindTransformFeedback:(t,e,n)=>t({36389:n}),bindVertexArray:(t,e)=>t({34229:e}),bindFramebuffer:(t,e,n)=>{switch(e){case 36160:return t({36006:n,36010:n});case 36009:return t({36006:n});case 36008:return t({36010:n});default:return null}},bindBuffer:(t,e,n)=>{const r={34962:[34964],36662:[36662],36663:[36663],35051:[35053],35052:[35055]}[e];return r?t({[r]:n}):{valueChanged:!0}},blendColor:(t,e,n,r,s)=>t({32773:new Float32Array([e,n,r,s])}),blendEquation:(t,e)=>t({32777:e,34877:e}),blendEquationSeparate:(t,e,n)=>t({32777:e,34877:n}),blendFunc:(t,e,n)=>t({32969:e,32968:n,32971:e,32970:n}),blendFuncSeparate:(t,e,n,r,s)=>t({32969:e,32968:n,32971:r,32970:s}),clearColor:(t,e,n,r,s)=>t({3106:new Float32Array([e,n,r,s])}),clearDepth:(t,e)=>t({2931:e}),clearStencil:(t,e)=>t({2961:e}),colorMask:(t,e,n,r,s)=>t({3107:[e,n,r,s]}),cullFace:(t,e)=>t({2885:e}),depthFunc:(t,e)=>t({2932:e}),depthRange:(t,e,n)=>t({2928:new Float32Array([e,n])}),depthMask:(t,e)=>t({2930:e}),frontFace:(t,e)=>t({2886:e}),lineWidth:(t,e)=>t({2849:e}),polygonOffset:(t,e,n)=>t({32824:e,10752:n}),sampleCoverage:(t,e,n)=>t({32938:e,32939:n}),scissor:(t,e,n,r,s)=>t({3088:new Int32Array([e,n,r,s])}),stencilMask:(t,e)=>t({2968:e,36005:e}),stencilMaskSeparate:(t,e,n)=>t({[e===1028?2968:36005]:n}),stencilFunc:(t,e,n,r)=>t({2962:e,2967:n,2963:r,34816:e,36003:n,36004:r}),stencilFuncSeparate:(t,e,n,r,s)=>t({[e===1028?2962:34816]:n,[e===1028?2967:36003]:r,[e===1028?2963:36004]:s}),stencilOp:(t,e,n,r)=>t({2964:e,2965:n,2966:r,34817:e,34818:n,34819:r}),stencilOpSeparate:(t,e,n,r,s)=>t({[e===1028?2964:34817]:n,[e===1028?2965:34818]:r,[e===1028?2966:34819]:s}),viewport:(t,e,n,r,s)=>t({2978:[e,n,r,s]})},Eo=(t,e)=>t.isEnabled(e),Uj={3042:Eo,2884:Eo,2929:Eo,3024:Eo,32823:Eo,32926:Eo,32928:Eo,3089:Eo,2960:Eo,35977:Eo},Lse=new Set([34016,36388,36387,35983,35368,34965,35739,35738,3074,34853,34854,34855,34856,34857,34858,34859,34860,34861,34862,34863,34864,34865,34866,34867,34868,35097,32873,35869,32874,34068]);function Ud(t,e){if($se(e))return;const n={};for(const s in e){const o=Number(s),l=Fse[s];l&&(typeof l=="string"?n[l]=!0:l(t,e[s],o))}const r=t.state&&t.state.cache;if(r)for(const s in n){const o=Bse[s];o(t,e,r)}}function s6(t,e=xT){if(typeof e=="number"){const s=e,o=Uj[s];return o?o(t,s):t.getParameter(s)}const n=Array.isArray(e)?e:Object.keys(e),r={};for(const s of n){const o=Uj[s];r[s]=o?o(t,Number(s)):t.getParameter(Number(s))}return r}function zse(t){Ud(t,xT)}function $se(t){for(const e in t)return!1;return!0}function Hse(t,e){if(t===e)return!0;const n=Array.isArray(t)||ArrayBuffer.isView(t),r=Array.isArray(e)||ArrayBuffer.isView(e);if(n&&r&&t.length===e.length){for(let s=0;s<t.length;++s)if(t[s]!==e[s])return!1;return!0}return!1}class Gc{constructor(e,n){H(this,"gl");H(this,"program",null);H(this,"stateStack",[]);H(this,"enable",!0);H(this,"cache",null);H(this,"log");H(this,"initialized",!1);this.gl=e,this.log=(n==null?void 0:n.log)||(()=>{}),this._updateCache=this._updateCache.bind(this),Object.seal(this)}static get(e){return e.state}push(e={}){this.stateStack.push({})}pop(){const e=this.stateStack[this.stateStack.length-1];Ud(this.gl,e),this.stateStack.pop()}trackState(e,n){if(this.cache=n.copyState?s6(e):Object.assign({},xT),this.initialized)throw new Error("WebGLStateTracker");this.initialized=!0,this.gl.state=this,qse(e);for(const r in Oj){const s=Oj[r];Wse(e,r,s)}Vj(e,"getParameter"),Vj(e,"isEnabled")}_updateCache(e){let n=!1,r;const s=this.stateStack.length>0?this.stateStack[this.stateStack.length-1]:null;for(const o in e){const l=e[o],c=this.cache[o];Hse(l,c)||(n=!0,r=c,s&&!(o in s)&&(s[o]=c),this.cache[o]=l)}return{valueChanged:n,oldValue:r}}}function Vj(t,e){const n=t[e].bind(t);t[e]=function(s){if(s===void 0||Lse.has(s))return n(s);const o=Gc.get(t);return s in o.cache||(o.cache[s]=n(s)),o.enable?o.cache[s]:n(s)},Object.defineProperty(t[e],"name",{value:`${e}-from-cache`,configurable:!1})}function Wse(t,e,n){if(!t[e])return;const r=t[e].bind(t);t[e]=function(...o){const l=Gc.get(t),{valueChanged:c,oldValue:f}=n(l._updateCache,...o);return c&&r(...o),f},Object.defineProperty(t[e],"name",{value:`${e}-to-cache`,configurable:!1})}function qse(t){const e=t.useProgram.bind(t);t.useProgram=function(r){const s=Gc.get(t);s.program!==r&&(e(r),s.program=r)}}function Xse(t,e,n){let r="";const s={preserveDrawingBuffer:!0,...n};let o=null;if(o||(o=t.getContext("webgl2",s)),s.failIfMajorPerformanceCaveat&&(r||(r="Only software GPU is available. Set `failIfMajorPerformanceCaveat: false` to allow.")),!o&&!n.failIfMajorPerformanceCaveat&&(s.failIfMajorPerformanceCaveat=!1,o=t.getContext("webgl2",s),o.luma||(o.luma={}),o.luma.softwareRenderer=!0),o||(o=t.getContext("webgl",{}),o&&(o=null,r||(r="Your browser only supports WebGL1"))),!o)throw r||(r="Your browser does not support WebGL"),new Error(`Failed to create WebGL context: ${r}`);const{onContextLost:l,onContextRestored:c}=e;return t.addEventListener("webglcontextlost",f=>l(f),!1),t.addEventListener("webglcontextrestored",f=>c(f),!1),o.luma||(o.luma={}),o}function Ad(t,e,n){return n[e]===void 0&&(n[e]=t.getExtension(e)||null),n[e]}function Yse(t,e){const n=t.getParameter(7936),r=t.getParameter(7937);Ad(t,"WEBGL_debug_renderer_info",e);const s=e.WEBGL_debug_renderer_info,o=t.getParameter(s?s.UNMASKED_VENDOR_WEBGL:7936),l=t.getParameter(s?s.UNMASKED_RENDERER_WEBGL:7937),c=o||n,f=l||r,h=t.getParameter(7938),p=i6(c,f),m=Kse(c,f),x=Zse(c,f);return{type:"webgl",gpu:p,gpuType:x,gpuBackend:m,vendor:c,renderer:f,version:h,shadingLanguage:"glsl",shadingLanguageVersion:300}}function i6(t,e){return/NVIDIA/i.exec(t)||/NVIDIA/i.exec(e)?"nvidia":/INTEL/i.exec(t)||/INTEL/i.exec(e)?"intel":/Apple/i.exec(t)||/Apple/i.exec(e)?"apple":/AMD/i.exec(t)||/AMD/i.exec(e)||/ATI/i.exec(t)||/ATI/i.exec(e)?"amd":/SwiftShader/i.exec(t)||/SwiftShader/i.exec(e)?"software":"unknown"}function Kse(t,e){return/Metal/i.exec(t)||/Metal/i.exec(e)?"metal":/ANGLE/i.exec(t)||/ANGLE/i.exec(e)?"opengl":"unknown"}function Zse(t,e){if(/SwiftShader/i.exec(t)||/SwiftShader/i.exec(e))return"cpu";switch(i6(t,e)){case"intel":return"integrated";case"software":return"cpu";case"unknown":return"unknown";default:return"discrete"}}function o6(t){switch(t){case"uint8":return 5121;case"sint8":return 5120;case"unorm8":return 5121;case"snorm8":return 5120;case"uint16":return 5123;case"sint16":return 5122;case"unorm16":return 5123;case"snorm16":return 5122;case"uint32":return 5125;case"sint32":return 5124;case"float16":return 5131;case"float32":return 5126}throw new Error(String(t))}const Dp="WEBGL_compressed_texture_s3tc",Pp="WEBGL_compressed_texture_s3tc_srgb",Wf="EXT_texture_compression_rgtc",qf="EXT_texture_compression_bptc",Qse="WEBGL_compressed_texture_etc",Gse="WEBGL_compressed_texture_astc",Jse="WEBGL_compressed_texture_etc1",eie="WEBGL_compressed_texture_pvrtc",tie="WEBGL_compressed_texture_atc",Fj="EXT_texture_norm16",Bj="EXT_render_snorm",nie="EXT_color_buffer_float",yT={"float32-renderable-webgl":["EXT_color_buffer_float"],"float16-renderable-webgl":["EXT_color_buffer_half_float"],"rgb9e5ufloat-renderable-webgl":["WEBGL_render_shared_exponent"],"snorm8-renderable-webgl":[Bj],"norm16-renderable-webgl":[Fj],"snorm16-renderable-webgl":[Fj,Bj],"float32-filterable":["OES_texture_float_linear"],"float16-filterable-webgl":["OES_texture_half_float_linear"],"texture-filterable-anisotropic-webgl":["EXT_texture_filter_anisotropic"],"texture-blend-float-webgl":["EXT_float_blend"],"texture-compression-bc":[Dp,Pp,Wf,qf],"texture-compression-bc5-webgl":[Wf],"texture-compression-bc7-webgl":[qf],"texture-compression-etc2":[Qse],"texture-compression-astc":[Gse],"texture-compression-etc1-webgl":[Jse],"texture-compression-pvrtc-webgl":[eie],"texture-compression-atc-webgl":[tie]};function rie(t){return t in yT}function sie(t,e,n){return(yT[e]||[]).every(s=>Ad(t,s,n))}const vT={r8unorm:{gl:33321,rb:!0},r8snorm:{gl:36756},r8uint:{gl:33330,rb:!0},r8sint:{gl:33329,rb:!0},rg8unorm:{gl:33323,rb:!0},rg8snorm:{gl:36757},rg8uint:{gl:33336,rb:!0},rg8sint:{gl:33335,rb:!0},r16uint:{gl:33332,rb:!0},r16sint:{gl:33331,rb:!0},r16float:{gl:33325,rb:!0},"r16unorm-webgl":{gl:33322,rb:!0},"r16snorm-webgl":{gl:36760},"rgba4unorm-webgl":{gl:32854,rb:!0},"rgb565unorm-webgl":{gl:36194,rb:!0},"rgb5a1unorm-webgl":{gl:32855,rb:!0},"rgb8unorm-webgl":{gl:32849},"rgb8snorm-webgl":{gl:36758},rgba8unorm:{gl:32856},"rgba8unorm-srgb":{gl:35907},rgba8snorm:{gl:36759},rgba8uint:{gl:36220},rgba8sint:{gl:36238},bgra8unorm:{},"bgra8unorm-srgb":{},rg16uint:{gl:33338},rg16sint:{gl:33337},rg16float:{gl:33327,rb:!0},"rg16unorm-webgl":{gl:33324},"rg16snorm-webgl":{gl:36761},r32uint:{gl:33334,rb:!0},r32sint:{gl:33333,rb:!0},r32float:{gl:33326},rgb9e5ufloat:{gl:35901},rg11b10ufloat:{gl:35898,rb:!0},rgb10a2unorm:{gl:32857,rb:!0},"rgb10a2uint-webgl":{gl:36975,rb:!0},"rgb16unorm-webgl":{gl:32852},"rgb16snorm-webgl":{gl:36762},rg32uint:{gl:33340,rb:!0},rg32sint:{gl:33339,rb:!0},rg32float:{gl:33328,rb:!0},rgba16uint:{gl:36214,rb:!0},rgba16sint:{gl:36232,rb:!0},rgba16float:{gl:34842},"rgba16unorm-webgl":{gl:32859,rb:!0},"rgba16snorm-webgl":{gl:36763},"rgb32float-webgl":{gl:34837,x:nie,dataFormat:6407,types:[5126]},rgba32uint:{gl:36208,rb:!0},rgba32sint:{gl:36226,rb:!0},rgba32float:{gl:34836,rb:!0},stencil8:{gl:36168,rb:!0},depth16unorm:{gl:33189,dataFormat:6402,types:[5123],rb:!0},depth24plus:{gl:33190,dataFormat:6402,types:[5125]},depth32float:{gl:36012,dataFormat:6402,types:[5126],rb:!0},"depth24plus-stencil8":{gl:35056,rb:!0,depthTexture:!0,dataFormat:34041,types:[34042]},"depth32float-stencil8":{gl:36013,dataFormat:34041,types:[36269],rb:!0},"bc1-rgb-unorm-webgl":{gl:33776,x:Dp},"bc1-rgb-unorm-srgb-webgl":{gl:35916,x:Pp},"bc1-rgba-unorm":{gl:33777,x:Dp},"bc1-rgba-unorm-srgb":{gl:35916,x:Pp},"bc2-rgba-unorm":{gl:33778,x:Dp},"bc2-rgba-unorm-srgb":{gl:35918,x:Pp},"bc3-rgba-unorm":{gl:33779,x:Dp},"bc3-rgba-unorm-srgb":{gl:35919,x:Pp},"bc4-r-unorm":{gl:36283,x:Wf},"bc4-r-snorm":{gl:36284,x:Wf},"bc5-rg-unorm":{gl:36285,x:Wf},"bc5-rg-snorm":{gl:36286,x:Wf},"bc6h-rgb-ufloat":{gl:36495,x:qf},"bc6h-rgb-float":{gl:36494,x:qf},"bc7-rgba-unorm":{gl:36492,x:qf},"bc7-rgba-unorm-srgb":{gl:36493,x:qf},"etc2-rgb8unorm":{gl:37492},"etc2-rgb8unorm-srgb":{gl:37494},"etc2-rgb8a1unorm":{gl:37496},"etc2-rgb8a1unorm-srgb":{gl:37497},"etc2-rgba8unorm":{gl:37493},"etc2-rgba8unorm-srgb":{gl:37495},"eac-r11unorm":{gl:37488},"eac-r11snorm":{gl:37489},"eac-rg11unorm":{gl:37490},"eac-rg11snorm":{gl:37491},"astc-4x4-unorm":{gl:37808},"astc-4x4-unorm-srgb":{gl:37840},"astc-5x4-unorm":{gl:37809},"astc-5x4-unorm-srgb":{gl:37841},"astc-5x5-unorm":{gl:37810},"astc-5x5-unorm-srgb":{gl:37842},"astc-6x5-unorm":{gl:37811},"astc-6x5-unorm-srgb":{gl:37843},"astc-6x6-unorm":{gl:37812},"astc-6x6-unorm-srgb":{gl:37844},"astc-8x5-unorm":{gl:37813},"astc-8x5-unorm-srgb":{gl:37845},"astc-8x6-unorm":{gl:37814},"astc-8x6-unorm-srgb":{gl:37846},"astc-8x8-unorm":{gl:37815},"astc-8x8-unorm-srgb":{gl:37847},"astc-10x5-unorm":{gl:37819},"astc-10x5-unorm-srgb":{gl:37851},"astc-10x6-unorm":{gl:37817},"astc-10x6-unorm-srgb":{gl:37849},"astc-10x8-unorm":{gl:37818},"astc-10x8-unorm-srgb":{gl:37850},"astc-10x10-unorm":{gl:37819},"astc-10x10-unorm-srgb":{gl:37851},"astc-12x10-unorm":{gl:37820},"astc-12x10-unorm-srgb":{gl:37852},"astc-12x12-unorm":{gl:37821},"astc-12x12-unorm-srgb":{gl:37853},"pvrtc-rgb4unorm-webgl":{gl:35840},"pvrtc-rgba4unorm-webgl":{gl:35842},"pvrtc-rbg2unorm-webgl":{gl:35841},"pvrtc-rgba2unorm-webgl":{gl:35843},"etc1-rbg-unorm-webgl":{gl:36196},"atc-rgb-unorm-webgl":{gl:35986},"atc-rgba-unorm-webgl":{gl:35986},"atc-rgbai-unorm-webgl":{gl:34798}};function iie(t,e,n){let r=e.create;const s=vT[e.format];return(s==null?void 0:s.gl)===void 0&&(r=!1),s!=null&&s.x&&(r=r&&!!Ad(t,s.x,n)),{format:e.format,create:r&&e.create,render:r&&e.render,filter:r&&e.filter,blend:r&&e.blend,store:r&&e.store}}function a6(t){var s;const e=vT[t],n=lie(t),r=rT(t);return{internalFormat:n,format:(e==null?void 0:e.dataFormat)||aie(r.channels,r.integer,r.normalized,n),type:r.dataType?o6(r.dataType):((s=e==null?void 0:e.types)==null?void 0:s[0])||5121,compressed:r.compressed||!1}}function oie(t){switch(rT(t).attachment){case"depth":return 36096;case"stencil":return 36128;case"depth-stencil":return 33306;default:throw new Error(`Not a depth stencil format: ${t}`)}}function aie(t,e,n,r){if(r===6408||r===6407)return r;switch(t){case"r":return e&&!n?36244:6403;case"rg":return e&&!n?33320:33319;case"rgb":return e&&!n?36248:6407;case"rgba":return e&&!n?36249:6408;case"bgra":throw new Error("bgra pixels not supported by WebGL");default:return 6408}}function lie(t){const e=vT[t],n=e==null?void 0:e.gl;if(n===void 0)throw new Error(`Unsupported texture format ${t}`);return n}const Lj={"depth-clip-control":"EXT_depth_clamp","timer-query-webgl":"EXT_disjoint_timer_query_webgl2","compilation-status-async-webgl":"KHR_parallel_shader_compile","polygon-mode-webgl":"WEBGL_polygon_mode","provoking-vertex-webgl":"WEBGL_provoking_vertex","shader-clip-cull-distance-webgl":"WEBGL_clip_cull_distance","shader-noperspective-interpolation-webgl":"NV_shader_noperspective_interpolation","shader-conservative-depth-webgl":"EXT_conservative_depth"};class cie extends eJ{constructor(n,r,s){super([],s);H(this,"gl");H(this,"extensions");H(this,"testedFeatures",new Set);this.gl=n,this.extensions=r,Ad(n,"EXT_color_buffer_float",r)}*[Symbol.iterator](){const n=this.getFeatures();for(const r of n)this.has(r)&&(yield r);return[]}has(n){var r;return(r=this.disabledFeatures)!=null&&r[n]?!1:(this.testedFeatures.has(n)||(this.testedFeatures.add(n),rie(n)&&sie(this.gl,n,this.extensions)&&this.features.add(n),this.getWebGLFeature(n)&&this.features.add(n)),this.features.has(n))}initializeFeatures(){const n=this.getFeatures().filter(r=>r!=="polygon-mode-webgl");for(const r of n)this.has(r)}getFeatures(){return[...Object.keys(Lj),...Object.keys(yT)]}getWebGLFeature(n){const r=Lj[n];return typeof r=="string"?!!Ad(this.gl,r,this.extensions):!!r}}class uie extends JG{constructor(n){super();H(this,"gl");H(this,"limits",{});this.gl=n}get maxTextureDimension1D(){return 0}get maxTextureDimension2D(){return this.getParameter(3379)}get maxTextureDimension3D(){return this.getParameter(32883)}get maxTextureArrayLayers(){return this.getParameter(35071)}get maxBindGroups(){return 0}get maxDynamicUniformBuffersPerPipelineLayout(){return 0}get maxDynamicStorageBuffersPerPipelineLayout(){return 0}get maxSampledTexturesPerShaderStage(){return this.getParameter(35660)}get maxSamplersPerShaderStage(){return this.getParameter(35661)}get maxStorageBuffersPerShaderStage(){return 0}get maxStorageTexturesPerShaderStage(){return 0}get maxUniformBuffersPerShaderStage(){return this.getParameter(35375)}get maxUniformBufferBindingSize(){return this.getParameter(35376)}get maxStorageBufferBindingSize(){return 0}get minUniformBufferOffsetAlignment(){return this.getParameter(35380)}get minStorageBufferOffsetAlignment(){return 0}get maxVertexBuffers(){return 16}get maxVertexAttributes(){return this.getParameter(34921)}get maxVertexBufferArrayStride(){return 2048}get maxInterStageShaderComponents(){return this.getParameter(35659)}get maxComputeWorkgroupStorageSize(){return 0}get maxComputeInvocationsPerWorkgroup(){return 0}get maxComputeWorkgroupSizeX(){return 0}get maxComputeWorkgroupSizeY(){return 0}get maxComputeWorkgroupSizeZ(){return 0}get maxComputeWorkgroupsPerDimension(){return 0}getParameter(n){return this.limits[n]===void 0&&(this.limits[n]=this.gl.getParameter(n)),this.limits[n]||0}}class Bp extends ey{constructor(n,r){super(n,r);H(this,"device");H(this,"gl");H(this,"handle");H(this,"colorAttachments",[]);H(this,"depthStencilAttachment",null);const s=r.handle===null;this.device=n,this.gl=n.gl,this.handle=this.props.handle||s?this.props.handle:this.gl.createFramebuffer(),s||(n.setSpectorMetadata(this.handle,{id:this.props.id,props:this.props}),this.autoCreateAttachmentTextures(),this.updateAttachments())}destroy(){super.destroy(),!this.destroyed&&this.handle!==null&&this.gl.deleteFramebuffer(this.handle)}updateAttachments(){const n=this.gl.bindFramebuffer(36160,this.handle);for(let r=0;r<this.colorAttachments.length;++r){const s=this.colorAttachments[r];if(s){const o=36064+r;this._attachTextureView(o,s)}}if(this.depthStencilAttachment){const r=oie(this.depthStencilAttachment.props.format);this._attachTextureView(r,this.depthStencilAttachment)}if(this.device.props.debug){const r=this.gl.checkFramebufferStatus(36160);if(r!==36053)throw new Error(`Framebuffer ${die(r)}`)}this.gl.bindFramebuffer(36160,n)}_attachTextureView(n,r){const{gl:s}=this.device,{texture:o}=r,l=r.props.baseMipLevel,c=r.props.baseArrayLayer;switch(s.bindTexture(o.glTarget,o.handle),o.glTarget){case 35866:case 32879:s.framebufferTextureLayer(36160,n,o.handle,l,c);break;case 34067:const f=fie(c);s.framebufferTexture2D(36160,n,f,o.handle,l);break;case 3553:s.framebufferTexture2D(36160,n,3553,o.handle,l);break;default:throw new Error("Illegal texture type")}s.bindTexture(o.glTarget,null)}}function fie(t){return t<34069?t+34069:t}function die(t){switch(t){case 36053:return"success";case 36054:return"Mismatched attachments";case 36055:return"No attachments";case 36057:return"Height/width mismatch";case 36061:return"Unsupported or split attachments";case 36182:return"Samples mismatch";default:return`${t}`}}class hie extends pS{constructor(n,r){super(r);H(this,"device");H(this,"format","rgba8unorm");H(this,"depthStencilFormat","depth24plus");H(this,"presentationSize");H(this,"_framebuffer",null);this.device=n,this.presentationSize=[-1,-1],this._setAutoCreatedCanvasId(`${this.device.id}-canvas`),this.update()}get[Symbol.toStringTag](){return"WebGLCanvasContext"}getCurrentFramebuffer(){return this.update(),this._framebuffer=this._framebuffer||new Bp(this.device,{handle:null}),this._framebuffer}update(){const n=this.getPixelSize();(n[0]!==this.presentationSize[0]||n[1]!==this.presentationSize[1])&&(this.presentationSize=n,this.resize())}resize(n){if(this.device.gl&&this.canvas){const r=this.getDevicePixelRatio(n==null?void 0:n.useDevicePixels);this.setDevicePixelRatio(r,n);return}}commit(){}}async function l6(t,e){const n=document.getElementsByTagName("head")[0];if(!n)throw new Error("loadScript");const r=document.createElement("script");return r.setAttribute("type","text/javascript"),r.setAttribute("src",t),new Promise((s,o)=>{r.onload=s,r.onerror=l=>o(new Error(`Unable to load script '${t}': ${l}`)),n.appendChild(r)})}const pie=1;let $n=null,zj=!1;const wT={debugSpectorJS:ot.get("debug-spectorjs"),debugSpectorJSUrl:"https://cdn.jsdelivr.net/npm/spectorjs@0.9.30/dist/spector.bundle.js",gl:void 0};async function mie(t){if(!globalThis.SPECTOR)try{await l6(t.debugSpectorJSUrl||wT.debugSpectorJSUrl)}catch(e){ot.warn(String(e))}}function gie(t){var e;if(t={...wT,...t},!t.debugSpectorJS)return null;if(!$n&&globalThis.SPECTOR&&!((e=globalThis.luma)!=null&&e.spector)){ot.probe(pie,"SPECTOR found and initialized. Start with `luma.spector.displayUI()`")();const{Spector:n}=globalThis.SPECTOR;$n=new n,globalThis.luma&&(globalThis.luma.spector=$n)}if(!$n)return null;if(zj||(zj=!0,$n.spyCanvases(),$n==null||$n.onCaptureStarted.add(n=>ot.info("Spector capture started:",n)()),$n==null||$n.onCapture.add(n=>{ot.info("Spector capture complete:",n)(),$n==null||$n.getResultUI(),$n==null||$n.resultView.display(),$n==null||$n.resultView.addCapture(n)})),t.gl){const n=t.gl,r=n.device;$n==null||$n.startCapture(t.gl,500),n.device=r,new Promise(s=>setTimeout(s,2e3)).then(s=>{ot.info("Spector capture stopped after 2 seconds")(),$n==null||$n.stopCapture()})}return $n}const bie="https://unpkg.com/webgl-debug@2.0.1/index.js";function c6(t){return t.luma=t.luma||{},t.luma}async function xie(){xu()&&!globalThis.WebGLDebugUtils&&(globalThis.global=globalThis.global||globalThis,globalThis.global.module={},await l6(bie))}function yie(t,e={}){return e.debugWebGL||e.traceWebGL?wie(t,e):vie(t)}function vie(t){const e=c6(t);return e.realContext?e.realContext:t}function wie(t,e){if(!globalThis.WebGLDebugUtils)return ot.warn("webgl-debug not loaded")(),t;const n=c6(t);if(n.debugContext)return n.debugContext;globalThis.WebGLDebugUtils.init({...Hf,...t});const r=globalThis.WebGLDebugUtils.makeDebugContext(t,_ie.bind(null,e),Nie.bind(null,e));for(const l in Hf)!(l in r)&&typeof Hf[l]=="number"&&(r[l]=Hf[l]);class s{}Object.setPrototypeOf(r,Object.getPrototypeOf(t)),Object.setPrototypeOf(s,r);const o=Object.create(s);return n.realContext=t,n.debugContext=o,o.debug=!0,o}function $j(t,e){e=Array.from(e).map(r=>r===void 0?"undefined":r);let n=globalThis.WebGLDebugUtils.glFunctionArgsToString(t,e);return n=`${n.slice(0,100)}${n.length>100?"...":""}`,`gl.${t}(${n})`}function _ie(t,e,n,r){r=Array.from(r).map(c=>c===void 0?"undefined":c);const s=globalThis.WebGLDebugUtils.glEnumToString(e),o=globalThis.WebGLDebugUtils.glFunctionArgsToString(n,r),l=`${s} in gl.${n}(${o})`;ot.error(l)();debugger}function Nie(t,e,n){let r="";ot.level>=1&&(r=$j(e,n),t.traceWebGL&&ot.log(1,r)());for(const s of n)if(s===void 0){r=r||$j(e,n);debugger}}const K1={};function Sie(t="id"){K1[t]=K1[t]||1;const e=K1[t]++;return`${t}-${e}`}class Lp extends ir{constructor(n,r={}){super(n,r);H(this,"device");H(this,"gl");H(this,"handle");H(this,"glTarget");H(this,"glUsage");H(this,"glIndexType",5123);H(this,"byteLength");H(this,"bytesUsed");this.device=n,this.gl=this.device.gl;const s=typeof r=="object"?r.handle:void 0;this.handle=s||this.gl.createBuffer(),n.setSpectorMetadata(this.handle,{...this.props,data:typeof this.props.data}),this.glTarget=Eie(this.props.usage),this.glUsage=Tie(this.props.usage),this.glIndexType=this.props.indexType==="uint32"?5125:5123,r.data?this._initWithData(r.data,r.byteOffset,r.byteLength):this._initWithByteLength(r.byteLength||0)}_initWithData(n,r=0,s=n.byteLength+r){const o=this.glTarget;this.gl.bindBuffer(o,this.handle),this.gl.bufferData(o,s,this.glUsage),this.gl.bufferSubData(o,r,n),this.gl.bindBuffer(o,null),this.bytesUsed=s,this.byteLength=s,this._setDebugData(n,r,s),this.trackAllocatedMemory(s)}_initWithByteLength(n){let r=n;n===0&&(r=new Float32Array(0));const s=this.glTarget;return this.gl.bindBuffer(s,this.handle),this.gl.bufferData(s,r,this.glUsage),this.gl.bindBuffer(s,null),this.bytesUsed=n,this.byteLength=n,this._setDebugData(null,0,n),this.trackAllocatedMemory(n),this}destroy(){!this.destroyed&&this.handle&&(this.removeStats(),this.trackDeallocatedMemory(),this.gl.deleteBuffer(this.handle),this.destroyed=!0,this.handle=null)}write(n,r=0){this.gl.bindBuffer(36663,this.handle),this.gl.bufferSubData(36663,r,n),this.gl.bindBuffer(36663,null),this._setDebugData(n,r,n.byteLength)}async readAsync(n=0,r){return this.readSyncWebGL(n,r)}readSyncWebGL(n=0,r){r=r??this.byteLength-n;const s=new Uint8Array(r),o=0;return this.gl.bindBuffer(36662,this.handle),this.gl.getBufferSubData(36662,n,s,o,r),this.gl.bindBuffer(36662,null),this._setDebugData(s,n,r),s}}function Eie(t){return t&ir.INDEX?34963:t&ir.VERTEX?34962:t&ir.UNIFORM?35345:34962}function Tie(t){return t&ir.INDEX||t&ir.VERTEX?35044:t&ir.UNIFORM?35048:35044}function Aie(t){const e=t.split(/\r?\n/),n=[];for(const r of e){if(r.length<=1)continue;const s=r.split(":");if(s.length===2){const[m,x]=s;n.push({message:x.trim(),type:Hj(m),lineNum:0,linePos:0});continue}const[o,l,c,...f]=s;let h=parseInt(c,10);isNaN(h)&&(h=0);let p=parseInt(l,10);isNaN(p)&&(p=0),n.push({message:f.join(":").trim(),type:Hj(o),lineNum:h,linePos:p})}return n}function Hj(t){const e=["warning","error","info"],n=t.toLowerCase();return e.includes(n)?n:"info"}class Cie extends Gx{constructor(n,r){super(n,r);H(this,"device");H(this,"handle");switch(this.device=n,this.props.stage){case"vertex":this.handle=this.props.handle||this.device.gl.createShader(35633);break;case"fragment":this.handle=this.props.handle||this.device.gl.createShader(35632);break;default:throw new Error(this.props.stage)}this._compile(this.source)}destroy(){this.handle&&(this.removeStats(),this.device.gl.deleteShader(this.handle),this.destroyed=!0)}get asyncCompilationStatus(){return this._waitForCompilationComplete().then(()=>this.compilationStatus)}async getCompilationInfo(){return await this._waitForCompilationComplete(),this.getCompilationInfoSync()}getCompilationInfoSync(){const n=this.device.gl.getShaderInfoLog(this.handle);return n?Aie(n):[]}getTranslatedSource(){const r=this.device.getExtension("WEBGL_debug_shaders").WEBGL_debug_shaders;return(r==null?void 0:r.getTranslatedShaderSource(this.handle))||null}async _compile(n){n=n.startsWith("#version ")?n:`#version 300 es
${n}`;const{gl:r}=this.device;if(r.shaderSource(this.handle,n),r.compileShader(this.handle),!this.device.props.debug){this.compilationStatus="pending";return}if(!this.device.features.has("compilation-status-async-webgl")){if(this._getCompilationStatus(),this.debugShader(),this.compilationStatus==="error")throw new Error(`GLSL compilation errors in ${this.props.stage} shader ${this.props.id}`);return}ot.once(1,"Shader compilation is asynchronous")(),await this._waitForCompilationComplete(),ot.info(2,`Shader ${this.id} - async compilation complete: ${this.compilationStatus}`)(),this._getCompilationStatus(),this.debugShader()}async _waitForCompilationComplete(){const n=async o=>await new Promise(l=>setTimeout(l,o));if(!this.device.features.has("compilation-status-async-webgl")){await n(10);return}const{gl:s}=this.device;for(;;){if(s.getShaderParameter(this.handle,37297))return;await n(10)}}_getCompilationStatus(){this.compilationStatus=this.device.gl.getShaderParameter(this.handle,35713)?"success":"error"}}function Rie(t,e,n,r){if(jie(e))return r(t);const s=t;s.pushState();try{return kie(t,e),Ud(s.gl,n),r(t)}finally{s.popState()}}function kie(t,e){const n=t,{gl:r}=n;if(e.cullMode)switch(e.cullMode){case"none":r.disable(2884);break;case"front":r.enable(2884),r.cullFace(1028);break;case"back":r.enable(2884),r.cullFace(1029);break}if(e.frontFace&&r.frontFace(Jc("frontFace",e.frontFace,{ccw:2305,cw:2304})),e.unclippedDepth&&t.features.has("depth-clip-control")&&r.enable(34383),e.depthBias!==void 0&&(r.enable(32823),r.polygonOffset(e.depthBias,e.depthBiasSlopeScale||0)),e.provokingVertex&&t.features.has("provoking-vertex-webgl")){const o=n.getExtension("WEBGL_provoking_vertex").WEBGL_provoking_vertex,l=Jc("provokingVertex",e.provokingVertex,{first:36429,last:36430});o==null||o.provokingVertexWEBGL(l)}if((e.polygonMode||e.polygonOffsetLine)&&t.features.has("polygon-mode-webgl")){if(e.polygonMode){const o=n.getExtension("WEBGL_polygon_mode").WEBGL_polygon_mode,l=Jc("polygonMode",e.polygonMode,{fill:6914,line:6913});o==null||o.polygonModeWEBGL(1028,l),o==null||o.polygonModeWEBGL(1029,l)}e.polygonOffsetLine&&r.enable(10754)}if(t.features.has("shader-clip-cull-distance-webgl")&&(e.clipDistance0&&r.enable(12288),e.clipDistance1&&r.enable(12289),e.clipDistance2&&r.enable(12290),e.clipDistance3&&r.enable(12291),e.clipDistance4&&r.enable(12292),e.clipDistance5&&r.enable(12293),e.clipDistance6&&r.enable(12294),e.clipDistance7&&r.enable(12295)),e.depthWriteEnabled!==void 0&&r.depthMask(Pie("depthWriteEnabled",e.depthWriteEnabled)),e.depthCompare&&(e.depthCompare!=="always"?r.enable(2929):r.disable(2929),r.depthFunc(FS("depthCompare",e.depthCompare))),e.stencilWriteMask){const s=e.stencilWriteMask;r.stencilMaskSeparate(1028,s),r.stencilMaskSeparate(1029,s)}if(e.stencilReadMask&&ot.warn("stencilReadMask not supported under WebGL"),e.stencilCompare){const s=e.stencilReadMask||4294967295,o=FS("depthCompare",e.stencilCompare);e.stencilCompare!=="always"?r.enable(2960):r.disable(2960),r.stencilFuncSeparate(1028,o,0,s),r.stencilFuncSeparate(1029,o,0,s)}if(e.stencilPassOperation&&e.stencilFailOperation&&e.stencilDepthFailOperation){const s=Z1("stencilPassOperation",e.stencilPassOperation),o=Z1("stencilFailOperation",e.stencilFailOperation),l=Z1("stencilDepthFailOperation",e.stencilDepthFailOperation);r.stencilOpSeparate(1028,o,l,s),r.stencilOpSeparate(1029,o,l,s)}switch(e.blend){case!0:r.enable(3042);break;case!1:r.disable(3042);break}if(e.blendColorOperation||e.blendAlphaOperation){const s=Wj("blendColorOperation",e.blendColorOperation||"add"),o=Wj("blendAlphaOperation",e.blendAlphaOperation||"add");r.blendEquationSeparate(s,o);const l=tx("blendColorSrcFactor",e.blendColorSrcFactor||"one"),c=tx("blendColorDstFactor",e.blendColorDstFactor||"zero"),f=tx("blendAlphaSrcFactor",e.blendAlphaSrcFactor||"one"),h=tx("blendAlphaDstFactor",e.blendAlphaDstFactor||"zero");r.blendFuncSeparate(l,c,f,h)}}function FS(t,e){return Jc(t,e,{never:512,less:513,equal:514,"less-equal":515,greater:516,"not-equal":517,"greater-equal":518,always:519})}function Z1(t,e){return Jc(t,e,{keep:7680,zero:0,replace:7681,invert:5386,"increment-clamp":7682,"decrement-clamp":7683,"increment-wrap":34055,"decrement-wrap":34056})}function Wj(t,e){return Jc(t,e,{add:32774,subtract:32778,"reverse-subtract":32779,min:32775,max:32776})}function tx(t,e){return Jc(t,e,{one:1,zero:0,"src-color":768,"one-minus-src-color":769,"dst-color":774,"one-minus-dst-color":775,"src-alpha":770,"one-minus-src-alpha":771,"dst-alpha":772,"one-minus-dst-alpha":773,"src-alpha-saturated":776,"constant-color":32769,"one-minus-constant-color":32770,"constant-alpha":32771,"one-minus-constant-alpha":32772})}function Die(t,e){return`Illegal parameter ${e} for ${t}`}function Jc(t,e,n){if(!(e in n))throw new Error(Die(t,e));return n[e]}function Pie(t,e){return e}function jie(t){let e=!0;for(const n in t){e=!1;break}return e}function u6(t){const e={};return t.addressModeU&&(e[10242]=Q1(t.addressModeU)),t.addressModeV&&(e[10243]=Q1(t.addressModeV)),t.addressModeW&&(e[32882]=Q1(t.addressModeW)),t.magFilter&&(e[10240]=BS(t.magFilter)),(t.minFilter||t.mipmapFilter)&&(e[10241]=Mie(t.minFilter||"linear",t.mipmapFilter)),t.lodMinClamp!==void 0&&(e[33082]=t.lodMinClamp),t.lodMaxClamp!==void 0&&(e[33083]=t.lodMaxClamp),t.type==="comparison-sampler"&&(e[34892]=34894),t.compare&&(e[34893]=FS("compare",t.compare)),t.maxAnisotropy&&(e[34046]=t.maxAnisotropy),e}function Q1(t){switch(t){case"clamp-to-edge":return 33071;case"repeat":return 10497;case"mirror-repeat":return 33648}}function BS(t){switch(t){case"nearest":return 9728;case"linear":return 9729}}function Mie(t,e="none"){if(!e)return BS(t);switch(e){case"none":return BS(t);case"nearest":return t==="nearest"?9984:9986;case"linear":return t==="nearest"?9985:9987}}class LS extends Jx{constructor(n,r){super(n,r);H(this,"device");H(this,"handle");H(this,"parameters");this.device=n,this.parameters=u6(r),this.handle=this.handle||this.device.gl.createSampler(),this._setSamplerParameters(this.parameters)}destroy(){this.handle&&(this.device.gl.deleteSampler(this.handle),this.handle=void 0)}toString(){return`Sampler(${this.id},${JSON.stringify(this.props)})`}_setSamplerParameters(n){for(const[r,s]of Object.entries(n)){const o=Number(r);switch(o){case 33082:case 33083:this.device.gl.samplerParameterf(this.handle,o,s);break;default:this.device.gl.samplerParameteri(this.handle,o,s);break}}}}class Xf extends Qx{constructor(n,r){super(n,{...mr.defaultProps,...r});H(this,"device");H(this,"gl");H(this,"handle");H(this,"texture");this.device=n,this.gl=this.device.gl,this.handle=null,this.texture=r.texture}}const Iie="Failed to deduce GL constant from typed array";function Oie(t){switch(ArrayBuffer.isView(t)?t.constructor:t){case Float32Array:return 5126;case Uint16Array:return 5123;case Uint32Array:return 5125;case Uint8Array:return 5121;case Uint8ClampedArray:return 5121;case Int8Array:return 5120;case Int16Array:return 5122;case Int32Array:return 5124;default:throw new Error(Iie)}}function Uie(t,e){const{clamped:n=!0}=e||{};switch(t){case 5126:return Float32Array;case 5123:case 33635:case 32819:case 32820:return Uint16Array;case 5125:return Uint32Array;case 5121:return n?Uint8ClampedArray:Uint8Array;case 5120:return Int8Array;case 5122:return Int16Array;case 5124:return Int32Array;default:throw new Error("Failed to deduce typed array type from GL constant")}}function f6(t){switch(t){case 6406:case 33326:case 6403:case 36244:return 1;case 33339:case 33340:case 33328:case 33320:case 33319:return 2;case 6407:case 36248:case 34837:return 3;case 6408:case 36249:case 34836:return 4;default:return 0}}function Vie(t){switch(t){case 5121:return 1;case 33635:case 32819:case 32820:return 2;case 5126:return 4;default:return 0}}function my(t,e,n){if(Fie(e))return n(t);const{nocatch:r=!0}=e,s=Gc.get(t);s.push(),Ud(t,e);let o;if(r)o=n(t),s.pop();else try{o=n(t)}finally{s.pop()}return o}function Fie(t){for(const e in t)return!1;return!0}function Bie(t,e,n){const{dimension:r,width:s,height:o,depth:l=0}=n,{glInternalFormat:c}=n,f=n.glTarget;switch(r){case"2d-array":case"3d":t.texStorage3D(f,e,c,s,o,l);break;default:t.texStorage2D(f,e,c,s,o)}}function qj(t,e,n,r){const{width:s,height:o}=r,{dimension:l,depth:c=0,mipLevel:f=0}=r,{x:h=0,y:p=0,z:m=0}=r,{glFormat:x,glType:w}=r,E=d6(r.glTarget,l,c),T=r.flipY?{37440:!0}:{};my(t,T,()=>{switch(l){case"2d-array":case"3d":t.bindTexture(E,e),t.texSubImage3D(E,f,h,p,m,s,o,c,x,w,n),t.bindTexture(E,null);break;case"2d":case"cube":t.bindTexture(E,e),t.texSubImage2D(E,f,h,p,s,o,x,w,n),t.bindTexture(E,null);break;default:throw new Error(l)}})}function Xj(t,e,n){const{dimension:r,width:s,height:o,depth:l=0,mipLevel:c=0,byteOffset:f=0}=n,{x:h=0,y:p=0,z:m=0}=n,{glFormat:x,glType:w,compressed:E}=n,T=d6(n.glTarget,r,l);switch(r){case"2d-array":case"3d":E?t.compressedTexSubImage3D(T,c,h,p,m,s,o,l,x,e,f):t.texSubImage3D(T,c,h,p,m,s,o,l,x,w,e,f);break;case"2d":case"cube":E?t.compressedTexSubImage2D(T,c,h,p,s,o,x,e,f):t.texSubImage2D(T,c,h,p,s,o,x,w,e,f);break;default:throw new Error(r)}}function Lie(t){switch(t){case"1d":break;case"2d":return 3553;case"3d":return 32879;case"cube":return 34067;case"2d-array":return 35866}throw new Error(t)}function d6(t,e,n){return e==="cube"?34069+n:t}function zie(t,e){var P;const{sourceX:n=0,sourceY:r=0,sourceAttachment:s=0}=e||{};let{target:o=null,sourceWidth:l,sourceHeight:c,sourceDepth:f,sourceFormat:h,sourceType:p}=e||{};const{framebuffer:m,deleteFramebuffer:x}=h6(t),{gl:w,handle:E}=m;l||(l=m.width),c||(c=m.height);const T=(P=m.colorAttachments[s])==null?void 0:P.texture;if(!T)throw new Error(`Invalid framebuffer attachment ${s}`);f=(T==null?void 0:T.depth)||1,h||(h=(T==null?void 0:T.glFormat)||6408),p||(p=(T==null?void 0:T.glType)||5121),o=Wie(o,p,h,l,c),p=p||Oie(o);const C=w.bindFramebuffer(36160,E);return w.readBuffer(36064+s),w.readPixels(n,r,l,c,h,p,o),w.readBuffer(36064),w.bindFramebuffer(36160,C||null),x&&m.destroy(),o}function $ie(t,e){const{target:n,sourceX:r=0,sourceY:s=0,sourceFormat:o=6408,targetByteOffset:l=0}=e||{};let{sourceWidth:c,sourceHeight:f,sourceType:h}=e||{};const{framebuffer:p,deleteFramebuffer:m}=h6(t);c=c||p.width,f=f||p.height;const x=p;h=h||5121;let w=n;if(!w){const T=f6(o),C=Vie(h),P=l+c*f*T*C;w=x.device.createBuffer({byteLength:P})}const E=t.device.createCommandEncoder();return E.copyTextureToBuffer({sourceTexture:t,width:c,height:f,origin:[r,s],destinationBuffer:w,byteOffset:l}),E.destroy(),m&&p.destroy(),w}function h6(t){return t instanceof ey?{framebuffer:t,deleteFramebuffer:!1}:{framebuffer:Hie(t),deleteFramebuffer:!0}}function Hie(t,e){const{device:n,width:r,height:s,id:o}=t;return n.createFramebuffer({...e,id:`framebuffer-for-${o}`,width:r,height:s,colorAttachments:[t]})}function Wie(t,e,n,r,s,o){if(t)return t;e||(e=5121);const l=Uie(e,{clamped:!1}),c=f6(n);return new l(r*s*c)}class zp extends mr{constructor(n,r){super(n,r);H(this,"device");H(this,"gl");H(this,"handle");H(this,"sampler");H(this,"view");H(this,"mipmaps");H(this,"compressed");H(this,"glTarget");H(this,"glFormat");H(this,"glType");H(this,"glInternalFormat");H(this,"textureUnit",0);const s={...this.props};s.data=r.data,this.device=n,this.gl=this.device.gl,this.glTarget=Lie(this.props.dimension);const o=a6(this.props.format);this.glInternalFormat=o.internalFormat,this.glFormat=o.format,this.glType=o.type,this.compressed=o.compressed,this.mipmaps=!!this.props.mipmaps,this._initialize(s),Object.seal(this)}_initialize(n){this.handle=this.props.handle||this.gl.createTexture(),this.device.setSpectorMetadata(this.handle,{...this.props,data:n.data});let{width:r,height:s}=n;if(!r||!s){const o=mr.getTextureDataSize(n.data);r=(o==null?void 0:o.width)||1,s=(o==null?void 0:o.height)||1}if(this.width=r,this.height=s,this.depth=n.depth,this.setSampler(n.sampler),this.view=new Xf(this.device,{...this.props,texture:this}),this.bind(),Bie(this.gl,this.mipLevels,this),n.data)switch(n.dimension){case"1d":this.setTexture1DData(n.data);break;case"2d":this.setTexture2DData(n.data);break;case"3d":this.setTexture3DData(n.data);break;case"cube":this.setTextureCubeData(n.data);break;case"2d-array":this.setTextureArrayData(n.data);break;case"cube-array":this.setTextureCubeArrayData(n.data);break;default:throw new Error(n.dimension)}this.mipmaps&&this.generateMipmap()}destroy(){this.handle&&(this.gl.deleteTexture(this.handle),this.removeStats(),this.trackDeallocatedMemory("Texture"),this.destroyed=!0)}createView(n){return new Xf(this.device,{...n,texture:this})}setSampler(n={}){let r;n instanceof LS?(this.sampler=n,r=n.props):(this.sampler=new LS(this.device,n),r=n);const s=u6(r);this._setSamplerParameters(s)}generateMipmap(n){if(!(!(this.device.isTextureFormatRenderable(this.props.format)&&this.device.isTextureFormatFilterable(this.props.format))&&(ot.warn(`${this} is not renderable or filterable, may not be able to generate mipmaps`)(),!(n!=null&&n.force))))try{this.gl.bindTexture(this.glTarget,this.handle),this.gl.generateMipmap(this.glTarget)}catch(s){ot.warn(`Error generating mipmap for ${this}: ${s.message}`)()}finally{this.gl.bindTexture(this.glTarget,null)}}copyExternalImage(n){const r=mr.getExternalImageSize(n.image),s={...mr.defaultCopyExternalImageOptions,...r,...n},{image:o,depth:l,mipLevel:c,x:f,y:h,z:p,flipY:m}=s;let{width:x,height:w}=s;const{dimension:E,glTarget:T,glFormat:C,glInternalFormat:P,glType:j}=this;if(x=Math.min(x,this.width-f),w=Math.min(w,this.height-h),n.sourceX||n.sourceY)throw new Error("WebGL does not support sourceX/sourceY)");return qj(this.device.gl,this.handle,o,{dimension:E,mipLevel:c,x:f,y:h,z:p,width:x,height:w,depth:l,glFormat:C,glType:j,glTarget:T,flipY:m}),{width:s.width,height:s.height}}setTexture1DData(n){throw new Error("setTexture1DData not supported in WebGL.")}setTexture2DData(n,r=0){this.bind();const s=mr.normalizeTextureData(n,this);s.length>1&&this.props.mipmaps!==!1&&ot.warn(`Texture ${this.id} mipmap and multiple LODs.`)();for(let o=0;o<s.length;o++){const l=s[o];this._setMipLevel(r,o,l)}this.unbind()}setTexture3DData(n){if(this.props.dimension!=="3d")throw new Error(this.id);ArrayBuffer.isView(n)&&(this.bind(),Xj(this.device.gl,n,this),this.unbind())}setTextureCubeData(n,r=0){if(this.props.dimension!=="cube")throw new Error(this.id);for(const s of mr.CubeFaces)this.setTextureCubeFaceData(n[s],s)}setTextureArrayData(n){throw this.props.dimension!=="2d-array"?new Error(this.id):new Error("setTextureArrayData not implemented.")}setTextureCubeArrayData(n){throw new Error("setTextureCubeArrayData not supported in WebGL2.")}setTextureCubeFaceData(n,r,s=0){Array.isArray(n)&&n.length>1&&this.props.mipmaps!==!1&&ot.warn(`${this.id} has mipmap and multiple LODs.`)();const o=mr.CubeFaces.indexOf(r);this.setTexture2DData(n,o)}update(){throw new Error("Texture.update() not implemented. Use ExternalTexture")}setImageDataForFace(n){const{face:r,width:s,height:o,pixels:l,data:c,format:f=6408,type:h=5121}=n,{gl:p}=this,m=l||c;this.bind(),m instanceof Promise?m.then(x=>this.setImageDataForFace(Object.assign({},n,{face:r,data:x,pixels:x}))):this.width||this.height?p.texImage2D(r,0,f,s,o,0,f,h,m):p.texImage2D(r,0,f,f,h,m)}_getImageDataMap(n){for(let r=0;r<mr.CubeFaces.length;++r){const s=mr.CubeFaces[r];n[s]&&(n[34069+r]=n[s],delete n[s])}return n}_setSamplerParameters(n){ot.log(1,`${this.id} sampler parameters`,this.device.getGLKeys(n))(),this.gl.bindTexture(this.glTarget,this.handle);for(const[r,s]of Object.entries(n)){const o=Number(r),l=s;switch(o){case 33082:case 33083:this.gl.texParameterf(this.glTarget,o,l);break;case 10241:this.gl.texParameteri(this.glTarget,o,l);break;case 10242:case 10243:this.gl.texParameteri(this.glTarget,o,l);break;case 34046:this.device.features.has("texture-filterable-anisotropic-webgl")&&this.gl.texParameteri(this.glTarget,o,l);break;default:this.gl.texParameteri(this.glTarget,o,l);break}}this.gl.bindTexture(this.glTarget,null)}_setMipLevel(n,r,s,o=this.glTarget){if(mr.isExternalImage(s)){qj(this.device.gl,this.handle,s,{...this,depth:n,mipLevel:r,glTarget:o,flipY:this.props.flipY});return}if(mr.isTextureLevelData(s)){Xj(this.device.gl,s.data,{...this,depth:n,mipLevel:r,glTarget:o});return}throw new Error("Texture: invalid image data")}getActiveUnit(){return this.gl.getParameter(34016)-33984}bind(n){const{gl:r}=this;return n!==void 0&&(this.textureUnit=n,r.activeTexture(33984+n)),r.bindTexture(this.glTarget,this.handle),n}unbind(n){const{gl:r}=this;return n!==void 0&&(this.textureUnit=n,r.activeTexture(33984+n)),r.bindTexture(this.glTarget,null),n}}const qie=[1,2,4,8];class Xie extends mS{constructor(n,r){var l;super(n,r);H(this,"device");H(this,"glParameters");this.device=n;let s;if(!((l=r==null?void 0:r.parameters)!=null&&l.viewport))if(r!=null&&r.framebuffer){const{width:c,height:f}=r.framebuffer;s=[0,0,c,f]}else{const[c,f]=n.getCanvasContext().getDrawingBufferSize();s=[0,0,c,f]}this.device.pushState(),this.setParameters({viewport:s,...this.props.parameters});const o=this.props.framebuffer;if(o!=null&&o.handle)if(this.props.framebuffer){const c=this.props.framebuffer.colorAttachments.map((f,h)=>36064+h);this.device.gl.drawBuffers(c)}else this.device.gl.drawBuffers([1029]);this.clear()}end(){this.device.popState()}pushDebugGroup(n){}popDebugGroup(){}insertDebugMarker(n){}setParameters(n={}){const r={...this.glParameters};r.framebuffer=this.props.framebuffer||null,this.props.depthReadOnly&&(r.depthMask=!this.props.depthReadOnly),r.stencilMask=this.props.stencilReadOnly?0:1,r[35977]=this.props.discard,n.viewport&&(n.viewport.length>=6?(r.viewport=n.viewport.slice(0,4),r.depthRange=[n.viewport[4],n.viewport[5]]):r.viewport=n.viewport),n.scissorRect&&(r.scissorTest=!0,r.scissor=n.scissorRect),n.blendConstant&&(r.blendColor=n.blendConstant),n.stencilReference&&(console.warn("RenderPassParameters.stencilReference not yet implemented in WebGL"),n[2967]=n.stencilReference),n.colorMask&&(r.colorMask=qie.map(s=>!!(s&n.colorMask))),this.glParameters=r,Ud(this.device.gl,r)}beginOcclusionQuery(n){const r=this.props.occlusionQuerySet;r==null||r.beginOcclusionQuery()}endOcclusionQuery(){const n=this.props.occlusionQuerySet;n==null||n.endOcclusionQuery()}clear(){const n={...this.glParameters};let r=0;this.props.clearColors&&this.props.clearColors.forEach((s,o)=>{s&&this.clearColorBuffer(o,s)}),this.props.clearColor!==!1&&this.props.clearColors===void 0&&(r|=16384,n.clearColor=this.props.clearColor),this.props.clearDepth!==!1&&(r|=256,n.clearDepth=this.props.clearDepth),this.props.clearStencil!==!1&&(r|=1024,n.clearStencil=this.props.clearStencil),r!==0&&my(this.device.gl,n,()=>{this.device.gl.clear(r)})}clearColorBuffer(n=0,r=[0,0,0,0]){my(this.device.gl,{framebuffer:this.props.framebuffer},()=>{switch(r.constructor){case Int8Array:case Int16Array:case Int32Array:this.device.gl.clearBufferiv(6144,n,r);break;case Uint8Array:case Uint8ClampedArray:case Uint16Array:case Uint32Array:this.device.gl.clearBufferuiv(6144,n,r);break;case Float32Array:this.device.gl.clearBufferfv(6144,n,r);break;default:throw new Error("clearColorBuffer: color must be typed array")}})}}function Yie(t){return Kie.includes(t)}const Kie=[35678,35680,35679,35682,36289,36292,36293,36298,36299,36300,36303,36306,36307,36308,36311],p6={5126:[5126,1,"float","f32","float32"],35664:[5126,2,"vec2","vec2<f32>","float32x2"],35665:[5126,3,"vec3","vec3<f32>","float32x3"],35666:[5126,4,"vec4","vec4<f32>","float32x4"],5124:[5124,1,"int","i32","sint32"],35667:[5124,2,"ivec2","vec2<i32>","sint32x2"],35668:[5124,3,"ivec3","vec3<i32>","sint32x3"],35669:[5124,4,"ivec4","vec4<i32>","sint32x4"],5125:[5125,1,"uint","u32","uint32"],36294:[5125,2,"uvec2","vec2<u32>","uint32x2"],36295:[5125,3,"uvec3","vec3<u32>","uint32x3"],36296:[5125,4,"uvec4","vec4<u32>","uint32x4"],35670:[5126,1,"bool","f32","float32"],35671:[5126,2,"bvec2","vec2<f32>","float32x2"],35672:[5126,3,"bvec3","vec3<f32>","float32x3"],35673:[5126,4,"bvec4","vec4<f32>","float32x4"],35674:[5126,8,"mat2","mat2x2<f32>"],35685:[5126,8,"mat2x3","mat2x3<f32>"],35686:[5126,8,"mat2x4","mat2x4<f32>"],35687:[5126,12,"mat3x2","mat3x2<f32>"],35675:[5126,12,"mat3","mat3x3<f32>"],35688:[5126,12,"mat3x4","mat3x4<f32>"],35689:[5126,16,"mat4x2","mat4x2<f32>"],35690:[5126,16,"mat4x3","mat4x3<f32>"],35676:[5126,16,"mat4","mat4x4<f32>"]};function m6(t){const e=p6[t];if(!e)throw new Error("uniform");const[n,r,,s]=e;return{format:s,components:r,glType:n}}function Zie(t){const e=p6[t];if(!e)throw new Error("attribute");const[,n,,r,s]=e;return{attributeType:r,vertexFormat:s,components:n}}function Qie(t,e){const n={attributes:[],bindings:[]};n.attributes=Gie(t,e);const r=toe(t,e);for(const c of r){const f=c.uniforms.map(h=>({name:h.name,format:h.format,byteOffset:h.byteOffset,byteStride:h.byteStride,arrayLength:h.arrayLength}));n.bindings.push({type:"uniform",name:c.name,group:0,location:c.location,visibility:(c.vertex?1:0)&(c.fragment?2:0),minBindingSize:c.byteLength,uniforms:f})}const s=eoe(t,e);let o=0;for(const c of s)if(Yie(c.type)){const{viewDimension:f,sampleType:h}=roe(c.type);n.bindings.push({type:"texture",name:c.name,group:0,location:o,viewDimension:f,sampleType:h}),c.textureUnit=o,o+=1}s.length&&(n.uniforms=s);const l=Jie(t,e);return l!=null&&l.length&&(n.varyings=l),n}function Gie(t,e){const n=[],r=t.getProgramParameter(e,35721);for(let s=0;s<r;s++){const o=t.getActiveAttrib(e,s);if(!o)throw new Error("activeInfo");const{name:l,type:c}=o,f=t.getAttribLocation(e,l);if(f>=0){const{attributeType:h}=Zie(c),p=/instance/i.test(l)?"instance":"vertex";n.push({name:l,location:f,stepMode:p,type:h})}}return n.sort((s,o)=>s.location-o.location),n}function Jie(t,e){const n=[],r=t.getProgramParameter(e,35971);for(let s=0;s<r;s++){const o=t.getTransformFeedbackVarying(e,s);if(!o)throw new Error("activeInfo");const{name:l,type:c,size:f}=o,{glType:h,components:p}=m6(c),m={location:s,name:l,type:h,size:f*p};n.push(m)}return n.sort((s,o)=>s.location-o.location),n}function eoe(t,e){const n=[],r=t.getProgramParameter(e,35718);for(let s=0;s<r;s++){const o=t.getActiveUniform(e,s);if(!o)throw new Error("activeInfo");const{name:l,size:c,type:f}=o,{name:h,isArray:p}=soe(l);let m=t.getUniformLocation(e,h);const x={location:m,name:h,size:c,type:f,isArray:p};if(n.push(x),x.size>1)for(let w=0;w<x.size;w++){const E=`${h}[${w}]`;m=t.getUniformLocation(e,E);const T={...x,name:E,location:m};n.push(T)}}return n}function toe(t,e){const n=(o,l)=>t.getActiveUniformBlockParameter(e,o,l),r=[],s=t.getProgramParameter(e,35382);for(let o=0;o<s;o++){const l={name:t.getActiveUniformBlockName(e,o)||"",location:n(o,35391),byteLength:n(o,35392),vertex:n(o,35396),fragment:n(o,35398),uniformCount:n(o,35394),uniforms:[]},c=n(o,35395)||[],f=t.getActiveUniforms(e,c,35383),h=t.getActiveUniforms(e,c,35384),p=t.getActiveUniforms(e,c,35387),m=t.getActiveUniforms(e,c,35388);for(let x=0;x<l.uniformCount;++x){const w=t.getActiveUniform(e,c[x]);if(!w)throw new Error("activeInfo");l.uniforms.push({name:w.name,format:m6(f[x]).format,type:f[x],arrayLength:h[x],byteOffset:p[x],byteStride:m[x]})}r.push(l)}return r.sort((o,l)=>o.location-l.location),r}const noe={35678:["2d","float"],35680:["cube","float"],35679:["3d","float"],35682:["3d","depth"],36289:["2d-array","float"],36292:["2d-array","depth"],36293:["cube","float"],36298:["2d","sint"],36299:["3d","sint"],36300:["cube","sint"],36303:["2d-array","uint"],36306:["2d","uint"],36307:["3d","uint"],36308:["cube","uint"],36311:["2d-array","uint"]};function roe(t){const e=noe[t];if(!e)throw new Error("sampler");const[n,r]=e;return{viewDimension:n,sampleType:r}}function soe(t){if(t[t.length-1]!=="]")return{name:t,length:1,isArray:!1};const n=/([^[]*)(\[[0-9]+\])?/.exec(t);if(!n||n.length<2)throw new Error(`Failed to parse GLSL uniform name ${t}`);return{name:n[1],length:n[2]?1:0,isArray:!!n[2]}}function ioe(t,e,n,r){const s=t;let o=r;o===!0&&(o=1),o===!1&&(o=0);const l=typeof o=="number"?[o]:o;switch(n){case 35678:case 35680:case 35679:case 35682:case 36289:case 36292:case 36293:case 36298:case 36299:case 36300:case 36303:case 36306:case 36307:case 36308:case 36311:if(typeof r!="number")throw new Error("samplers must be set to integers");return t.uniform1i(e,r);case 5126:return t.uniform1fv(e,l);case 35664:return t.uniform2fv(e,l);case 35665:return t.uniform3fv(e,l);case 35666:return t.uniform4fv(e,l);case 5124:return t.uniform1iv(e,l);case 35667:return t.uniform2iv(e,l);case 35668:return t.uniform3iv(e,l);case 35669:return t.uniform4iv(e,l);case 35670:return t.uniform1iv(e,l);case 35671:return t.uniform2iv(e,l);case 35672:return t.uniform3iv(e,l);case 35673:return t.uniform4iv(e,l);case 5125:return s.uniform1uiv(e,l,1);case 36294:return s.uniform2uiv(e,l,2);case 36295:return s.uniform3uiv(e,l,3);case 36296:return s.uniform4uiv(e,l,4);case 35674:return t.uniformMatrix2fv(e,!1,l);case 35675:return t.uniformMatrix3fv(e,!1,l);case 35676:return t.uniformMatrix4fv(e,!1,l);case 35685:return s.uniformMatrix2x3fv(e,!1,l);case 35686:return s.uniformMatrix2x4fv(e,!1,l);case 35687:return s.uniformMatrix3x2fv(e,!1,l);case 35688:return s.uniformMatrix3x4fv(e,!1,l);case 35689:return s.uniformMatrix4x2fv(e,!1,l);case 35690:return s.uniformMatrix4x3fv(e,!1,l)}throw new Error("Illegal uniform")}function ooe(t){return YF(t)!==null||typeof t=="number"||typeof t=="boolean"}function aoe(t){const e={bindings:{},uniforms:{}};return Object.keys(t).forEach(n=>{const r=t[n];ooe(r)?e.uniforms[n]=r:e.bindings[n]=r}),e}function loe(t){switch(t){case"point-list":return 0;case"line-list":return 1;case"line-strip":return 3;case"triangle-list":return 4;case"triangle-strip":return 5;default:throw new Error(t)}}function coe(t){switch(t){case"point-list":return 0;case"line-list":return 1;case"line-strip":return 1;case"triangle-list":return 4;case"triangle-strip":return 4;default:throw new Error(t)}}const Yj=4;class uoe extends xd{constructor(n,r){super(n,r);H(this,"device");H(this,"handle");H(this,"vs");H(this,"fs");H(this,"introspectedLayout");H(this,"uniforms",{});H(this,"bindings",{});H(this,"varyings",null);H(this,"_uniformCount",0);H(this,"_uniformSetters",{});this.device=n,this.handle=this.props.handle||this.device.gl.createProgram(),this.device.setSpectorMetadata(this.handle,{id:this.props.id}),this.vs=r.vs,this.fs=r.fs;const{varyings:s,bufferMode:o=35981}=r;s&&s.length>0&&(this.varyings=s,this.device.gl.transformFeedbackVaryings(this.handle,s,o)),this._linkShaders(),ot.time(1,`RenderPipeline ${this.id} - shaderLayout introspection`)(),this.introspectedLayout=Qie(this.device.gl,this.handle),ot.timeEnd(1,`RenderPipeline ${this.id} - shaderLayout introspection`)(),this.shaderLayout=foe(this.introspectedLayout,r.shaderLayout)}destroy(){this.handle&&(this.device.gl.deleteProgram(this.handle),this.destroyed=!0)}setBindings(n,r){for(const[s,o]of Object.entries(n)){const l=this.shaderLayout.bindings.find(c=>c.name===s)||this.shaderLayout.bindings.find(c=>c.name===`${s}Uniforms`);if(!l){const c=this.shaderLayout.bindings.map(f=>`"${f.name}"`).join(", ");r!=null&&r.disableWarnings||ot.warn(`No binding "${s}" in render pipeline "${this.id}", expected one of ${c}`,o)();continue}switch(o||ot.warn(`Unsetting binding "${s}" in render pipeline "${this.id}"`)(),l.type){case"uniform":if(!(o instanceof Lp)&&!(o.buffer instanceof Lp))throw new Error("buffer value");break;case"texture":if(!(o instanceof Xf||o instanceof zp||o instanceof Bp))throw new Error("texture value");break;case"sampler":ot.warn(`Ignoring sampler ${s}`)();break;default:throw new Error(l.type)}this.bindings[s]=o}}draw(n){var C;const{renderPass:r,parameters:s=this.props.parameters,topology:o=this.props.topology,vertexArray:l,vertexCount:c,instanceCount:f,isInstanced:h=!1,firstVertex:p=0,transformFeedback:m}=n,x=loe(o),w=!!l.indexBuffer,E=(C=l.indexBuffer)==null?void 0:C.glIndexType;if(this.linkStatus!=="success")return ot.info(2,`RenderPipeline:${this.id}.draw() aborted - waiting for shader linking`)(),!1;if(!this._areTexturesRenderable())return ot.info(2,`RenderPipeline:${this.id}.draw() aborted - textures not yet loaded`)(),!1;this.device.gl.useProgram(this.handle),l.bindBeforeRender(r),m&&m.begin(this.props.topology),this._applyBindings(),this._applyUniforms();const T=r;return Rie(this.device,s,T.glParameters,()=>{w&&h?this.device.gl.drawElementsInstanced(x,c||0,E,p,f||0):w?this.device.gl.drawElements(x,c||0,E,p):h?this.device.gl.drawArraysInstanced(x,p,c||0,f||0):this.device.gl.drawArrays(x,p,c||0),m&&m.end()}),l.unbindAfterRender(r),!0}setUniformsWebGL(n){const{bindings:r}=aoe(n);Object.keys(r).forEach(s=>{ot.warn(`Unsupported value "${JSON.stringify(r[s])}" used in setUniforms() for key ${s}. Use setBindings() instead?`)()}),Object.assign(this.uniforms,n)}async _linkShaders(){const{gl:n}=this.device;if(n.attachShader(this.handle,this.vs.handle),n.attachShader(this.handle,this.fs.handle),ot.time(Yj,`linkProgram for ${this.id}`)(),n.linkProgram(this.handle),ot.timeEnd(Yj,`linkProgram for ${this.id}`)(),ot.level,!this.device.features.has("compilation-status-async-webgl")){const s=this._getLinkStatus();this._reportLinkStatus(s);return}ot.once(1,"RenderPipeline linking is asynchronous")(),await this._waitForLinkComplete(),ot.info(2,`RenderPipeline ${this.id} - async linking complete: ${this.linkStatus}`)();const r=this._getLinkStatus();this._reportLinkStatus(r)}async _reportLinkStatus(n){var r;switch(n){case"success":return;default:switch(this.vs.compilationStatus){case"error":throw this.vs.debugShader(),new Error(`Error during compilation of shader ${this.vs.id}`);case"pending":this.vs.asyncCompilationStatus.then(()=>this.vs.debugShader());break}switch((r=this.fs)==null?void 0:r.compilationStatus){case"error":throw this.fs.debugShader(),new Error(`Error during compilation of shader ${this.fs.id}`);case"pending":this.fs.asyncCompilationStatus.then(()=>this.fs.debugShader());break}const s=this.device.gl.getProgramInfoLog(this.handle);throw new Error(`Error during ${n}: ${s}`)}}_getLinkStatus(){const{gl:n}=this.device;return n.getProgramParameter(this.handle,35714)?(n.validateProgram(this.handle),n.getProgramParameter(this.handle,35715)?(this.linkStatus="success","success"):(this.linkStatus="error","validation")):(this.linkStatus="error","linking")}async _waitForLinkComplete(){const n=async o=>await new Promise(l=>setTimeout(l,o));if(!this.device.features.has("compilation-status-async-webgl")){await n(10);return}const{gl:s}=this.device;for(;;){if(s.getProgramParameter(this.handle,37297))return;await n(10)}}_areTexturesRenderable(){let n=!0;for(const r of this.shaderLayout.bindings)!this.bindings[r.name]&&!this.bindings[r.name.replace(/Uniforms$/,"")]&&(ot.warn(`Binding ${r.name} not found in ${this.id}`)(),n=!1);return n}_applyBindings(){if(this.linkStatus!=="success")return;const{gl:n}=this.device;n.useProgram(this.handle);let r=0,s=0;for(const o of this.shaderLayout.bindings){const l=this.bindings[o.name]||this.bindings[o.name.replace(/Uniforms$/,"")];if(!l)throw new Error(`No value for binding ${o.name} in ${this.id}`);switch(o.type){case"uniform":const{name:c}=o,f=n.getUniformBlockIndex(this.handle,c);if(f===4294967295)throw new Error(`Invalid uniform block name ${c}`);n.uniformBlockBinding(this.handle,s,f),l instanceof Lp?n.bindBufferBase(35345,s,l.handle):n.bindBufferRange(35345,s,l.buffer.handle,l.offset||0,l.size||l.buffer.byteLength-l.offset),s+=1;break;case"texture":if(!(l instanceof Xf||l instanceof zp||l instanceof Bp))throw new Error("texture");let h;if(l instanceof Xf)h=l.texture;else if(l instanceof zp)h=l;else if(l instanceof Bp&&l.colorAttachments[0]instanceof Xf)ot.warn("Passing framebuffer in texture binding may be deprecated. Use fbo.colorAttachments[0] instead")(),h=l.colorAttachments[0].texture;else throw new Error("No texture");n.activeTexture(33984+r),n.bindTexture(h.glTarget,h.handle),r+=1;break;case"sampler":break;case"storage":case"read-only-storage":throw new Error(`binding type '${o.type}' not supported in WebGL`)}}}_applyUniforms(){for(const n of this.shaderLayout.uniforms||[]){const{name:r,location:s,type:o,textureUnit:l}=n,c=this.uniforms[r]??l;c!==void 0&&ioe(this.device.gl,s,o,c)}}}function foe(t,e){const n={...t,attributes:t.attributes.map(r=>({...r}))};for(const r of(e==null?void 0:e.attributes)||[]){const s=n.attributes.find(o=>o.name===r.name);s?(s.type=r.type||s.type,s.stepMode=r.stepMode||s.stepMode):ot.warn(`shader layout attribute ${r.name} not present in shader`)}return n}class doe extends bS{constructor(n){super(n,{});H(this,"device");H(this,"commands",[]);this.device=n}submitCommands(n=this.commands){for(const r of n)switch(r.name){case"copy-buffer-to-buffer":hoe(this.device,r.options);break;case"copy-buffer-to-texture":poe(this.device,r.options);break;case"copy-texture-to-buffer":moe(this.device,r.options);break;case"copy-texture-to-texture":goe(this.device,r.options);break;default:throw new Error(r.name)}}}function hoe(t,e){const n=e.sourceBuffer,r=e.destinationBuffer;t.gl.bindBuffer(36662,n.handle),t.gl.bindBuffer(36663,r.handle),t.gl.copyBufferSubData(36662,36663,e.sourceOffset??0,e.destinationOffset??0,e.size),t.gl.bindBuffer(36662,null),t.gl.bindBuffer(36663,null)}function poe(t,e){throw new Error("Not implemented")}function moe(t,e){const{sourceTexture:n,mipLevel:r=0,aspect:s="all",width:o=e.sourceTexture.width,height:l=e.sourceTexture.height,depthOrArrayLayers:c=0,origin:f=[0,0],destinationBuffer:h,byteOffset:p=0,bytesPerRow:m,rowsPerImage:x}=e;if(s!=="all")throw new Error("aspect not supported in WebGL");if(r!==0||c!==0||m||x)throw new Error("not implemented");const{framebuffer:w,destroyFramebuffer:E}=g6(n);let T;try{const C=h,P=o||w.width,j=l||w.height,D=a6(w.colorAttachments[0].texture.props.format),U=D.format,L=D.type;t.gl.bindBuffer(35051,C.handle),T=t.gl.bindFramebuffer(36160,w.handle),t.gl.readPixels(f[0],f[1],P,j,U,L,p)}finally{t.gl.bindBuffer(35051,null),T!==void 0&&t.gl.bindFramebuffer(36160,T),E&&w.destroy()}}function goe(t,e){const{sourceTexture:n,destinationMipLevel:r=0,origin:s=[0,0],destinationOrigin:o=[0,0],destinationTexture:l}=e;let{width:c=e.destinationTexture.width,height:f=e.destinationTexture.height}=e;const{framebuffer:h,destroyFramebuffer:p}=g6(n),[m,x]=s,[w,E,T]=o,C=t.gl.bindFramebuffer(36160,h.handle);let P=null,j;if(l instanceof zp)P=l,c=Number.isFinite(c)?c:P.width,f=Number.isFinite(f)?f:P.height,P.bind(0),j=P.glTarget;else throw new Error("invalid destination");switch(j){case 3553:case 34067:t.gl.copyTexSubImage2D(j,r,w,E,m,x,c,f);break;case 35866:case 32879:t.gl.copyTexSubImage3D(j,r,w,E,T,m,x,c,f);break}P&&P.unbind(),t.gl.bindFramebuffer(36160,C),p&&h.destroy()}function g6(t){if(t instanceof mr){const{width:e,height:n,id:r}=t;return{framebuffer:t.device.createFramebuffer({id:`framebuffer-for-${r}`,width:e,height:n,colorAttachments:[t]}),destroyFramebuffer:!0}}return{framebuffer:t,destroyFramebuffer:!1}}class boe extends gS{constructor(n,r){super(n,r);H(this,"device");H(this,"commandBuffer");this.device=n,this.commandBuffer=new doe(n)}destroy(){}finish(){this.commandBuffer.submitCommands()}copyBufferToBuffer(n){this.commandBuffer.commands.push({name:"copy-buffer-to-buffer",options:n})}copyBufferToTexture(n){this.commandBuffer.commands.push({name:"copy-buffer-to-texture",options:n})}copyTextureToBuffer(n){this.commandBuffer.commands.push({name:"copy-texture-to-buffer",options:n})}copyTextureToTexture(n){this.commandBuffer.commands.push({name:"copy-texture-to-texture",options:n})}pushDebugGroup(n){}popDebugGroup(){}insertDebugMarker(n){}resolveQuerySet(n,r,s){}}function xoe(t){const{target:e,source:n,start:r=0,count:s=1}=t,o=n.length,l=s*o;let c=0;for(let f=r;c<o;c++)e[f++]=n[c];for(;c<l;)c<l-c?(e.copyWithin(r+c,r,r+c),c*=2):(e.copyWithin(r+c,r,r+l-c),c=l);return t.target}class _T extends xS{constructor(n,r){super(n,r);H(this,"device");H(this,"handle");H(this,"buffer",null);H(this,"bufferValue",null);this.device=n,this.handle=this.device.gl.createVertexArray()}get[Symbol.toStringTag](){return"VertexArray"}static isConstantAttributeZeroSupported(n){return LK()==="Chrome"}destroy(){var n;super.destroy(),this.buffer&&((n=this.buffer)==null||n.destroy()),this.handle&&(this.device.gl.deleteVertexArray(this.handle),this.handle=void 0)}setIndexBuffer(n){const r=n;if(r&&r.glTarget!==34963)throw new Error("Use .setBuffer()");this.device.gl.bindVertexArray(this.handle),this.device.gl.bindBuffer(34963,r?r.handle:null),this.indexBuffer=r,this.device.gl.bindVertexArray(null)}setBuffer(n,r){const s=r;if(s.glTarget===34963)throw new Error("Use .setIndexBuffer()");const{size:o,type:l,stride:c,offset:f,normalized:h,integer:p,divisor:m}=this._getAccessor(n);this.device.gl.bindVertexArray(this.handle),this.device.gl.bindBuffer(34962,s.handle),p?this.device.gl.vertexAttribIPointer(n,o,l,c,f):this.device.gl.vertexAttribPointer(n,o,l,h,c,f),this.device.gl.bindBuffer(34962,null),this.device.gl.enableVertexAttribArray(n),this.device.gl.vertexAttribDivisor(n,m||0),this.attributes[n]=s,this.device.gl.bindVertexArray(null)}setConstantWebGL(n,r){this._enable(n,!1),this.attributes[n]=r}bindBeforeRender(){this.device.gl.bindVertexArray(this.handle),this._applyConstantAttributes()}unbindAfterRender(){this.device.gl.bindVertexArray(null)}_applyConstantAttributes(){for(let n=0;n<this.maxVertexAttributes;++n){const r=this.attributes[n];ArrayBuffer.isView(r)&&this.device.setConstantAttributeWebGL(n,r)}}_getAccessor(n){const r=this.attributeInfos[n];if(!r)throw new Error(`Unknown attribute location ${n}`);const s=o6(r.bufferDataType);return{size:r.bufferComponents,type:s,stride:r.byteStride,offset:r.byteOffset,normalized:r.normalized,integer:r.integer,divisor:r.stepMode==="instance"?1:0}}_enable(n,r=!0){const o=_T.isConstantAttributeZeroSupported(this.device)||n!==0;(r||o)&&(n=Number(n),this.device.gl.bindVertexArray(this.handle),r?this.device.gl.enableVertexAttribArray(n):this.device.gl.disableVertexAttribArray(n),this.device.gl.bindVertexArray(null))}getConstantBuffer(n,r){const s=yoe(r),o=s.byteLength*n,l=s.length*n;if(this.buffer&&o!==this.buffer.byteLength)throw new Error(`Buffer size is immutable, byte length ${o} !== ${this.buffer.byteLength}.`);let c=!this.buffer;if(this.buffer=this.buffer||this.device.createBuffer({byteLength:o}),c=c||!voe(s,this.bufferValue),c){const f=RJ(r.constructor,l);xoe({target:f,source:s,start:0,count:l}),this.buffer.write(f),this.bufferValue=r}return this.buffer}}function yoe(t){return Array.isArray(t)?new Float32Array(t):t}function voe(t,e){if(!t||!e||t.length!==e.length||t.constructor!==e.constructor)return!1;for(let n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0}class woe extends yS{constructor(n,r){super(n,r);H(this,"device");H(this,"gl");H(this,"handle");H(this,"layout");H(this,"buffers",{});H(this,"unusedBuffers",{});H(this,"bindOnUse",!0);H(this,"_bound",!1);this.device=n,this.gl=n.gl,this.handle=this.props.handle||this.gl.createTransformFeedback(),this.layout=this.props.layout,r.buffers&&this.setBuffers(r.buffers),Object.seal(this)}destroy(){this.gl.deleteTransformFeedback(this.handle),super.destroy()}begin(n="point-list"){this.gl.bindTransformFeedback(36386,this.handle),this.bindOnUse&&this._bindBuffers(),this.gl.beginTransformFeedback(coe(n))}end(){this.gl.endTransformFeedback(),this.bindOnUse&&this._unbindBuffers(),this.gl.bindTransformFeedback(36386,null)}setBuffers(n){this.buffers={},this.unusedBuffers={},this.bind(()=>{for(const r in n)this.setBuffer(r,n[r])})}setBuffer(n,r){const s=this._getVaryingIndex(n),{buffer:o,byteLength:l,byteOffset:c}=this._getBufferRange(r);if(s<0){this.unusedBuffers[n]=o,ot.warn(`${this.id} unusedBuffers varying buffer ${n}`)();return}this.buffers[s]={buffer:o,byteLength:l,byteOffset:c},this.bindOnUse||this._bindBuffer(s,o,c,l)}getBuffer(n){if(Kj(n))return this.buffers[n]||null;const r=this._getVaryingIndex(n);return r>=0?this.buffers[r]:null}bind(n=this.handle){if(typeof n!="function")return this.gl.bindTransformFeedback(36386,n),this;let r;return this._bound?r=n():(this.gl.bindTransformFeedback(36386,this.handle),this._bound=!0,r=n(),this._bound=!1,this.gl.bindTransformFeedback(36386,null)),r}unbind(){this.bind(null)}_getBufferRange(n){if(n instanceof Lp)return{buffer:n,byteOffset:0,byteLength:n.byteLength};const{buffer:r,byteOffset:s=0,byteLength:o=n.buffer.byteLength}=n;return{buffer:r,byteOffset:s,byteLength:o}}_getVaryingIndex(n){if(Kj(n))return Number(n);for(const r of this.layout.varyings)if(n===r.name)return r.location;return-1}_bindBuffers(){for(const n in this.buffers){const{buffer:r,byteLength:s,byteOffset:o}=this._getBufferRange(this.buffers[n]);this._bindBuffer(Number(n),r,o,s)}}_unbindBuffers(){for(const n in this.buffers)this.gl.bindBufferBase(35982,Number(n),null)}_bindBuffer(n,r,s=0,o){const l=r&&r.handle;!l||o===void 0?this.gl.bindBufferBase(35982,n,l):this.gl.bindBufferRange(35982,n,l,s,o)}}function Kj(t){return typeof t=="number"?Number.isInteger(t):/^\d+$/.test(t)}class _oe extends vS{constructor(n,r){super(n,r);H(this,"device");H(this,"handle");H(this,"target",null);H(this,"_queryPending",!1);H(this,"_pollingPromise",null);if(this.device=n,r.count>1)throw new Error("WebGL QuerySet can only have one value");this.handle=this.device.gl.createQuery(),Object.seal(this)}get[Symbol.toStringTag](){return"Query"}destroy(){this.device.gl.deleteQuery(this.handle)}beginTimestampQuery(){return this._begin(35007)}endTimestampQuery(){this._end()}beginOcclusionQuery(n){return this._begin(n!=null&&n.conservative?36202:35887)}endOcclusionQuery(){this._end()}beginTransformFeedbackQuery(){return this._begin(35976)}endTransformFeedbackQuery(){this._end()}async resolveQuery(){return[await this.pollQuery()]}_begin(n){this._queryPending||(this.target=n,this.device.gl.beginQuery(this.target,this.handle))}_end(){this._queryPending||this.target&&(this.device.gl.endQuery(this.target),this.target=null,this._queryPending=!0)}isResultAvailable(){if(!this._queryPending)return!1;const n=this.device.gl.getQueryParameter(this.handle,34919);return n&&(this._queryPending=!1),n}isTimerDisjoint(){return this.device.gl.getParameter(36795)}getResult(){return this.device.gl.getQueryParameter(this.handle,34918)}getTimerMilliseconds(){return this.getResult()/1e6}pollQuery(n=Number.POSITIVE_INFINITY){if(this._pollingPromise)return this._pollingPromise;let r=0;return this._pollingPromise=new Promise((s,o)=>{const l=()=>{this.isResultAvailable()?(s(this.getResult()),this._pollingPromise=null):r++>n?(o("Timed out"),this._pollingPromise=null):requestAnimationFrame(l)};requestAnimationFrame(l)}),this._pollingPromise}}class Yf extends Ul{constructor(n){var m,x;super({...n,id:n.id||Sie("webgl-device")});H(this,"type","webgl");H(this,"handle");H(this,"features");H(this,"limits");H(this,"info");H(this,"canvasContext");H(this,"lost");H(this,"_resolveContextLost");H(this,"gl");H(this,"debug",!1);H(this,"_canvasSizeInfo",{clientWidth:0,clientHeight:0,devicePixelRatio:1});H(this,"_extensions",{});H(this,"_polyfilled",!1);H(this,"spectorJS");H(this,"renderPass",null);H(this,"_constants");const r=Ul._getCanvasContextProps(n);if(!r)throw new Error("WebGLDevice requires props.createCanvasContext to be set");let s=(x=(m=r.canvas)==null?void 0:m.gl)==null?void 0:x.device;if(s)throw new Error(`WebGL context already attached to device ${s.id}`);this.canvasContext=new hie(this,r),this.lost=new Promise(w=>{this._resolveContextLost=w});const o={...n.webgl};r.alphaMode==="premultiplied"&&(o.premultipliedAlpha=!0),n.powerPreference!==void 0&&(o.powerPreference=n.powerPreference);const c=this.props._handle||Xse(this.canvasContext.canvas,{onContextLost:w=>{var E;return(E=this._resolveContextLost)==null?void 0:E.call(this,{reason:"destroyed",message:"Entered sleep mode, or too many apps or browser tabs are using the GPU."})},onContextRestored:w=>console.log("WebGL context restored")},o);if(!c)throw new Error("WebGL context creation failed");if(s=c.device,s){if(n._reuseDevices)return ot.log(1,`Not creating a new Device, instead returning a reference to Device ${s.id} already attached to WebGL context`,s)(),s._reused=!0,s;throw new Error(`WebGL context already attached to device ${s.id}`)}this.handle=c,this.gl=c,this.spectorJS=gie({...this.props,gl:this.handle}),this.gl.device=this,this.gl._version=2,this.info=Yse(this.gl,this._extensions),this.limits=new uie(this.gl),this.features=new cie(this.gl,this._extensions,this.props._disabledFeatures),this.props._initializeFeatures&&this.features.initializeFeatures(),r.autoResize!==!1&&this.canvasContext.resize(),new Gc(this.gl,{log:(...w)=>ot.log(1,...w)()}).trackState(this.gl,{copyState:!1});const h=n.debugWebGL||n.debug,p=n.debugWebGL;h&&(this.gl=yie(this.gl,{debugWebGL:h,traceWebGL:p}),ot.warn("WebGL debug mode activated. Performance reduced.")(),n.debugWebGL&&(ot.level=Math.max(ot.level,1)))}destroy(){!this.props._reuseDevices&&!this._reused&&delete this.gl.device}get isLost(){return this.gl.isContextLost()}createCanvasContext(n){throw new Error("WebGL only supports a single canvas")}createBuffer(n){const r=this._normalizeBufferProps(n);return new Lp(this,r)}createTexture(n){return new zp(this,n)}createExternalTexture(n){throw new Error("createExternalTexture() not implemented")}createSampler(n){return new LS(this,n)}createShader(n){return new Cie(this,n)}createFramebuffer(n){return new Bp(this,n)}createVertexArray(n){return new _T(this,n)}createTransformFeedback(n){return new woe(this,n)}createQuerySet(n){return new _oe(this,n)}createRenderPipeline(n){return new uoe(this,n)}beginRenderPass(n){return new Xie(this,n)}createComputePipeline(n){throw new Error("ComputePipeline not supported in WebGL")}beginComputePass(n){throw new Error("ComputePass not supported in WebGL")}createCommandEncoder(n={}){return new boe(this,n)}submit(){var n;(n=this.renderPass)==null||n.end(),this.renderPass=null}readPixelsToArrayWebGL(n,r){return zie(n,r)}readPixelsToBufferWebGL(n,r){return $ie(n,r)}setParametersWebGL(n){Ud(this.gl,n)}getParametersWebGL(n){return s6(this.gl,n)}withParametersWebGL(n,r){return my(this.gl,n,r)}resetWebGL(){ot.warn("WebGLDevice.resetWebGL is deprecated, use only for debugging")(),zse(this.gl)}_getDeviceSpecificTextureFormatCapabilities(n){return iie(this.gl,n,this._extensions)}loseDevice(){var o;let n=!1;const s=this.getExtension("WEBGL_lose_context").WEBGL_lose_context;return s&&(n=!0,s.loseContext()),(o=this._resolveContextLost)==null||o.call(this,{reason:"destroyed",message:"Application triggered context loss"}),n}pushState(){Gc.get(this.gl).push()}popState(){Gc.get(this.gl).pop()}setSpectorMetadata(n,r){n.__SPECTOR_Metadata=r}getGLKey(n,r){const s=Number(n);for(const o in this.gl)if(this.gl[o]===s)return`GL.${o}`;return r!=null&&r.emptyIfUnknown?"":String(n)}getGLKeys(n){const r={emptyIfUnknown:!0};return Object.entries(n).reduce((s,[o,l])=>(s[`${o}:${this.getGLKey(o,r)}`]=`${l}:${this.getGLKey(l,r)}`,s),{})}setConstantAttributeWebGL(n,r){const s=this.limits.maxVertexAttributes;this._constants=this._constants||new Array(s).fill(null);const o=this._constants[n];switch(o&&Toe(o,r)&&ot.info(1,`setConstantAttributeWebGL(${n}) could have been skipped, value unchanged`)(),this._constants[n]=r,r.constructor){case Float32Array:Noe(this,n,r);break;case Int32Array:Soe(this,n,r);break;case Uint32Array:Eoe(this,n,r);break;default:throw new Error("constant")}}getExtension(n){return Ad(this.gl,n,this._extensions),this._extensions}}function Noe(t,e,n){switch(n.length){case 1:t.gl.vertexAttrib1fv(e,n);break;case 2:t.gl.vertexAttrib2fv(e,n);break;case 3:t.gl.vertexAttrib3fv(e,n);break;case 4:t.gl.vertexAttrib4fv(e,n);break}}function Soe(t,e,n){t.gl.vertexAttribI4iv(e,n)}function Eoe(t,e,n){t.gl.vertexAttribI4uiv(e,n)}function Toe(t,e){if(!t||!e||t.length!==e.length||t.constructor!==e.constructor)return!1;for(let n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0}const Aoe={WEBGL_depth_texture:{UNSIGNED_INT_24_8_WEBGL:34042},OES_element_index_uint:{},OES_texture_float:{},OES_texture_half_float:{HALF_FLOAT_OES:5131},EXT_color_buffer_float:{},OES_standard_derivatives:{FRAGMENT_SHADER_DERIVATIVE_HINT_OES:35723},EXT_frag_depth:{},EXT_blend_minmax:{MIN_EXT:32775,MAX_EXT:32776},EXT_shader_texture_lod:{}},Coe=t=>({drawBuffersWEBGL(e){return t.drawBuffers(e)},COLOR_ATTACHMENT0_WEBGL:36064,COLOR_ATTACHMENT1_WEBGL:36065,COLOR_ATTACHMENT2_WEBGL:36066,COLOR_ATTACHMENT3_WEBGL:36067}),Roe=t=>({VERTEX_ARRAY_BINDING_OES:34229,createVertexArrayOES(){return t.createVertexArray()},deleteVertexArrayOES(e){return t.deleteVertexArray(e)},isVertexArrayOES(e){return t.isVertexArray(e)},bindVertexArrayOES(e){return t.bindVertexArray(e)}}),koe=t=>({VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE:35070,drawArraysInstancedANGLE(...e){return t.drawArraysInstanced(...e)},drawElementsInstancedANGLE(...e){return t.drawElementsInstanced(...e)},vertexAttribDivisorANGLE(...e){return t.vertexAttribDivisor(...e)}});function Doe(t=!0){const e=HTMLCanvasElement.prototype;if(!t&&e.originalGetContext){e.getContext=e.originalGetContext,e.originalGetContext=void 0;return}e.originalGetContext=e.getContext,e.getContext=function(n,r){if(n==="webgl"||n==="experimental-webgl"){const s=this.originalGetContext("webgl2",r);return s instanceof HTMLElement&&Poe(s),s}return this.originalGetContext(n,r)}}function Poe(t){t.getExtension("EXT_color_buffer_float");const e={...Aoe,WEBGL_disjoint_timer_query:t.getExtension("EXT_disjoint_timer_query_webgl2"),WEBGL_draw_buffers:Coe(t),OES_vertex_array_object:Roe(t),ANGLE_instanced_arrays:koe(t)},n=t.getExtension;t.getExtension=function(s){const o=n.call(t,s);return o||(s in e?e[s]:null)};const r=t.getSupportedExtensions;t.getSupportedExtensions=function(){const s=r.apply(t)||[];return s==null?void 0:s.concat(Object.keys(e))}}const nx=1;class joe extends iJ{constructor(){super();H(this,"type","webgl");Ul.defaultProps={...Ul.defaultProps,...wT},Yf.adapter=this}isSupported(){return typeof WebGL2RenderingContext<"u"}enforceWebGL2(n){Doe(n)}async attach(n){if(n instanceof Yf)return n;if((n==null?void 0:n.device)instanceof Ul)return n.device;if(!Moe(n))throw new Error("Invalid WebGL2RenderingContext");return new Yf({_handle:n,createCanvasContext:{canvas:n.canvas,autoResize:!1}})}async create(n={}){ot.groupCollapsed(nx,"WebGLDevice created")();const r=[];(n.debugWebGL||n.debug)&&r.push(xie()),n.debugSpectorJS&&r.push(mie(n));const s=await Promise.allSettled(r);for(const c of s)c.status==="rejected"&&ot.error(`Failed to initialize debug libraries ${c.reason}`)();const o=new Yf(n),l=`${o._reused?"Reusing":"Created"} device with WebGL2 ${o.debug?"debug ":""}context: ${o.info.vendor}, ${o.info.renderer} for canvas: ${o.canvasContext.id}`;return ot.probe(nx,l)(),ot.table(nx,o.info)(),ot.groupEnd(nx)(),o}}function Moe(t){return typeof WebGL2RenderingContext<"u"&&t instanceof WebGL2RenderingContext?!0:!!(t&&Number.isFinite(t._version))}const Zj=new joe;function fl(){}const Ioe=({isDragging:t})=>t?"grabbing":"grab",b6={id:"",width:"100%",height:"100%",style:null,viewState:null,initialViewState:null,pickingRadius:0,layerFilter:null,parameters:{},parent:null,device:null,deviceProps:{},gl:null,canvas:null,layers:[],effects:[],views:null,controller:null,useDevicePixels:!0,touchAction:"none",eventRecognizerOptions:{},_framebuffer:null,_animate:!1,_pickable:!0,_typedArrayManagerProps:{},_customRender:null,widgets:[],onDeviceInitialized:fl,onWebGLInitialized:fl,onResize:fl,onViewStateChange:fl,onInteractionStateChange:fl,onBeforeRender:fl,onAfterRender:fl,onLoad:fl,onError:t=>Hn.error(t.message,t.cause)(),onHover:null,onClick:null,onDragStart:null,onDrag:null,onDragEnd:null,_onMetrics:null,getCursor:Ioe,getTooltip:null,debug:!1,drawPickingColors:!1};class NT{constructor(e){this.width=0,this.height=0,this.userData={},this.device=null,this.canvas=null,this.viewManager=null,this.layerManager=null,this.effectManager=null,this.deckRenderer=null,this.deckPicker=null,this.eventManager=null,this.widgetManager=null,this.tooltip=null,this.animationLoop=null,this.cursorState={isHovering:!1,isDragging:!1},this.stats=new ov({id:"deck.gl"}),this.metrics={fps:0,setPropsTime:0,updateAttributesTime:0,framesRedrawn:0,pickTime:0,pickCount:0,gpuTime:0,gpuTimePerFrame:0,cpuTime:0,cpuTimePerFrame:0,bufferMemory:0,textureMemory:0,renderbufferMemory:0,gpuMemory:0},this._metricsCounter=0,this._needsRedraw="Initial render",this._pickRequest={mode:"hover",x:-1,y:-1,radius:0,event:null},this._lastPointerDownInfo=null,this._onPointerMove=r=>{const{_pickRequest:s}=this;if(r.type==="pointerleave")s.x=-1,s.y=-1,s.radius=0;else{if(r.leftButton||r.rightButton)return;{const o=r.offsetCenter;if(!o)return;s.x=o.x,s.y=o.y,s.radius=this.props.pickingRadius}}this.layerManager&&(this.layerManager.context.mousePosition={x:s.x,y:s.y}),s.event=r},this._onEvent=r=>{const s=kS[r.type],o=r.offsetCenter;if(!s||!o||!this.layerManager)return;const l=this.layerManager.getLayers(),c=this.deckPicker.getLastPickedObject({x:o.x,y:o.y,layers:l,viewports:this.getViewports(o)},this._lastPointerDownInfo),{layer:f}=c,h=f&&(f[s]||f.props[s]),p=this.props[s];let m=!1;h&&(m=h.call(f,c,r)),m||(p==null||p(c,r),this.widgetManager.onEvent(c,r))},this._onPointerDown=r=>{var l;if(((l=this.device)==null?void 0:l.type)==="webgpu")return;const s=r.offsetCenter,o=this._pick("pickObject","pickObject Time",{x:s.x,y:s.y,radius:this.props.pickingRadius});this._lastPointerDownInfo=o.result[0]||o.emptyInfo},this.props={...b6,...e},e=this.props,e.viewState&&e.initialViewState&&Hn.warn("View state tracking is disabled. Use either `initialViewState` for auto update or `viewState` for manual update.")(),this.viewState=this.props.initialViewState,e.device&&(this.device=e.device);let n=this.device;!n&&e.gl&&(e.gl instanceof WebGLRenderingContext&&Hn.error("WebGL1 context not supported.")(),n=Zj.attach(e.gl)),n||(n=hS.createDevice({type:"best-available",_reuseDevices:!0,adapters:[Zj],...e.deviceProps,createCanvasContext:{canvas:this._createCanvas(e),useDevicePixels:this.props.useDevicePixels,autoResize:!1}})),this.animationLoop=this._createAnimationLoop(n,e),this.setProps(e),e._typedArrayManagerProps&&sm.setOptions(e._typedArrayManagerProps),this.animationLoop.start()}finalize(){var e,n,r,s,o,l,c,f,h,p;(e=this.animationLoop)==null||e.stop(),(n=this.animationLoop)==null||n.destroy(),this.animationLoop=null,this._lastPointerDownInfo=null,(r=this.layerManager)==null||r.finalize(),this.layerManager=null,(s=this.viewManager)==null||s.finalize(),this.viewManager=null,(o=this.effectManager)==null||o.finalize(),this.effectManager=null,(l=this.deckRenderer)==null||l.finalize(),this.deckRenderer=null,(c=this.deckPicker)==null||c.finalize(),this.deckPicker=null,(f=this.eventManager)==null||f.destroy(),this.eventManager=null,(h=this.widgetManager)==null||h.finalize(),this.widgetManager=null,!this.props.canvas&&!this.props.device&&!this.props.gl&&this.canvas&&((p=this.canvas.parentElement)==null||p.removeChild(this.canvas),this.canvas=null)}setProps(e){var r;this.stats.get("setProps Time").timeStart(),"onLayerHover"in e&&Hn.removed("onLayerHover","onHover")(),"onLayerClick"in e&&Hn.removed("onLayerClick","onClick")(),e.initialViewState&&!Ji(this.props.initialViewState,e.initialViewState,3)&&(this.viewState=e.initialViewState),Object.assign(this.props,e),this._setCanvasSize(this.props);const n=Object.create(this.props);Object.assign(n,{views:this._getViews(),width:this.width,height:this.height,viewState:this._getViewState()}),(r=this.animationLoop)==null||r.setProps(n),this.layerManager&&(this.viewManager.setProps(n),this.layerManager.activateViewport(this.getViewports()[0]),this.layerManager.setProps(n),this.effectManager.setProps(n),this.deckRenderer.setProps(n),this.deckPicker.setProps(n),this.widgetManager.setProps(n)),this.stats.get("setProps Time").timeEnd()}needsRedraw(e={clearRedrawFlags:!1}){if(!this.layerManager)return!1;if(this.props._animate)return"Deck._animate";let n=this._needsRedraw;e.clearRedrawFlags&&(this._needsRedraw=!1);const r=this.viewManager.needsRedraw(e),s=this.layerManager.needsRedraw(e),o=this.effectManager.needsRedraw(e),l=this.deckRenderer.needsRedraw(e);return n=n||r||s||o||l,n}redraw(e){if(!this.layerManager)return;let n=this.needsRedraw({clearRedrawFlags:!0});n=e||n,n&&(this.stats.get("Redraw Count").incrementCount(),this.props._customRender?this.props._customRender(n):this._drawLayers(n))}get isInitialized(){return this.viewManager!==null}getViews(){return ds(this.viewManager),this.viewManager.views}getViewports(e){return ds(this.viewManager),this.viewManager.getViewports(e)}getCanvas(){return this.canvas}pickObject(e){const n=this._pick("pickObject","pickObject Time",e).result;return n.length?n[0]:null}pickMultipleObjects(e){return e.depth=e.depth||10,this._pick("pickObject","pickMultipleObjects Time",e).result}pickObjects(e){return this._pick("pickObjects","pickObjects Time",e)}_addResources(e,n=!1){for(const r in e)this.layerManager.resourceManager.add({resourceId:r,data:e[r],forceUpdate:n})}_removeResources(e){for(const n of e)this.layerManager.resourceManager.remove(n)}_addDefaultEffect(e){this.effectManager.addDefaultEffect(e)}_addDefaultShaderModule(e){this.layerManager.addDefaultShaderModule(e)}_removeDefaultShaderModule(e){var n;(n=this.layerManager)==null||n.removeDefaultShaderModule(e)}_pick(e,n,r){ds(this.deckPicker);const{stats:s}=this;s.get("Pick Count").incrementCount(),s.get(n).timeStart();const o=this.deckPicker[e]({layers:this.layerManager.getLayers(r),views:this.viewManager.getViews(),viewports:this.getViewports(r),onViewportActive:this.layerManager.activateViewport,effects:this.effectManager.getEffects(),...r});return s.get(n).timeEnd(),o}_createCanvas(e){let n=e.canvas;return typeof n=="string"&&(n=document.getElementById(n),ds(n)),n||(n=document.createElement("canvas"),n.id=e.id||"deckgl-overlay",(e.parent||document.body).appendChild(n)),Object.assign(n.style,e.style),n}_setCanvasSize(e){var s;if(!this.canvas)return;const{width:n,height:r}=e;if(n||n===0){const o=Number.isFinite(n)?`${n}px`:n;this.canvas.style.width=o}if(r||r===0){const o=Number.isFinite(r)?`${r}px`:r;this.canvas.style.position=((s=e.style)==null?void 0:s.position)||"absolute",this.canvas.style.height=o}}_updateCanvasSize(){var s,o;const{canvas:e}=this;if(!e)return;const n=e.clientWidth??e.width,r=e.clientHeight??e.height;(n!==this.width||r!==this.height)&&(this.width=n,this.height=r,(s=this.viewManager)==null||s.setProps({width:n,height:r}),(o=this.layerManager)==null||o.activateViewport(this.getViewports()[0]),this.props.onResize({width:n,height:r}))}_createAnimationLoop(e,n){const{gl:r,onError:s,useDevicePixels:o}=n;return new Ure({device:e,useDevicePixels:o,autoResizeDrawingBuffer:!r,autoResizeViewport:!1,onInitialize:l=>this._setDevice(l.device),onRender:this._onRenderFrame.bind(this),onError:s})}_getViewState(){return this.props.viewState||this.viewState}_getViews(){const{views:e}=this.props,n=Array.isArray(e)?e:e?[e]:[new t6({id:"default-view"})];return n.length&&this.props.controller&&(n[0].props.controller=this.props.controller),n}_onContextLost(){const{onError:e}=this.props;this.animationLoop&&e&&e(new Error("WebGL context is lost"))}_pickAndCallback(){var n,r,s,o;if(((n=this.device)==null?void 0:n.type)==="webgpu")return;const{_pickRequest:e}=this;if(e.event){const{result:l,emptyInfo:c}=this._pick("pickObject","pickObject Time",e);this.cursorState.isHovering=l.length>0;let f=c,h=!1;for(const p of l)f=p,h=((r=p.layer)==null?void 0:r.onHover(p,e.event))||h;h||((o=(s=this.props).onHover)==null||o.call(s,f,e.event),this.widgetManager.onHover(f,e.event)),e.event=null}}_updateCursor(){const e=this.props.parent||this.canvas;e&&(e.style.cursor=this.props.getCursor(this.cursorState))}_setDevice(e){var s,o;if(this.device=e,!this.animationLoop)return;this.canvas||(this.canvas=(s=this.device.canvasContext)==null?void 0:s.canvas),this.device.type==="webgl"&&this.device.setParametersWebGL({blend:!0,blendFunc:[770,771,1,771],polygonOffsetFill:!0,depthTest:!0,depthFunc:515}),this.props.onDeviceInitialized(this.device),this.device.type==="webgl"&&this.props.onWebGLInitialized(this.device.gl);const n=new XF;n.play(),this.animationLoop.attachTimeline(n),this.eventManager=new hne(this.props.parent||this.canvas,{touchAction:this.props.touchAction,recognizers:Object.keys(bj).map(l=>{var w;const[c,f,h,p]=bj[l],m=(w=this.props.eventRecognizerOptions)==null?void 0:w[l],x={...f,...m,event:l};return{recognizer:new c(x),recognizeWith:h,requestFailure:p}}),events:{pointerdown:this._onPointerDown,pointermove:this._onPointerMove,pointerleave:this._onPointerMove}});for(const l in kS)this.eventManager.on(l,this._onEvent);this.viewManager=new lse({timeline:n,eventManager:this.eventManager,onViewStateChange:this._onViewStateChange.bind(this),onInteractionStateChange:this._onInteractionStateChange.bind(this),views:this._getViews(),viewState:this._getViewState(),width:this.width,height:this.height});const r=this.viewManager.getViewports()[0];this.layerManager=new ase(this.device,{deck:this,stats:this.stats,viewport:r,timeline:n}),this.effectManager=new Sse({deck:this,device:this.device}),this.deckRenderer=new Ase(this.device),this.deckPicker=new jse(this.device),this.widgetManager=new Ose({deck:this,parentElement:(o=this.canvas)==null?void 0:o.parentElement}),this.widgetManager.addDefault(new Vse),this.setProps(this.props),this._updateCanvasSize(),this.props.onLoad()}_drawLayers(e,n){var l;const{device:r,gl:s}=this.layerManager.context;this.props.onBeforeRender({device:r,gl:s});const o={target:this.props._framebuffer,layers:this.layerManager.getLayers(),viewports:this.viewManager.getViewports(),onViewportActive:this.layerManager.activateViewport,views:this.viewManager.getViews(),pass:"screen",effects:this.effectManager.getEffects(),...n};(l=this.deckRenderer)==null||l.renderLayers(o),o.pass==="screen"&&this.widgetManager.onRedraw({viewports:o.viewports,layers:o.layers}),this.props.onAfterRender({device:r,gl:s})}_onRenderFrame(){var e;this._getFrameStats(),this._metricsCounter++%60===0&&(this._getMetrics(),this.stats.reset(),Hn.table(4,this.metrics)(),this.props._onMetrics&&this.props._onMetrics(this.metrics)),this._updateCanvasSize(),this._updateCursor(),this.layerManager.updateLayers(),((e=this.device)==null?void 0:e.type)!=="webgpu"&&this._pickAndCallback(),this.redraw(),this.viewManager&&this.viewManager.updateViewStates()}_onViewStateChange(e){const n=this.props.onViewStateChange(e)||e.viewState;this.viewState&&(this.viewState={...this.viewState,[e.viewId]:n},this.props.viewState||this.viewManager&&this.viewManager.setProps({viewState:this.viewState}))}_onInteractionStateChange(e){this.cursorState.isDragging=e.isDragging||!1,this.props.onInteractionStateChange(e)}_getFrameStats(){const{stats:e}=this;e.get("frameRate").timeEnd(),e.get("frameRate").timeStart();const n=this.animationLoop.stats;e.get("GPU Time").addTime(n.get("GPU Time").lastTiming),e.get("CPU Time").addTime(n.get("CPU Time").lastTiming)}_getMetrics(){const{metrics:e,stats:n}=this;e.fps=n.get("frameRate").getHz(),e.setPropsTime=n.get("setProps Time").time,e.updateAttributesTime=n.get("Update Attributes").time,e.framesRedrawn=n.get("Redraw Count").count,e.pickTime=n.get("pickObject Time").time+n.get("pickMultipleObjects Time").time+n.get("pickObjects Time").time,e.pickCount=n.get("Pick Count").count,e.gpuTime=n.get("GPU Time").time,e.cpuTime=n.get("CPU Time").time,e.gpuTimePerFrame=n.get("GPU Time").getAverageTime(),e.cpuTimePerFrame=n.get("CPU Time").getAverageTime();const r=hS.stats.get("Memory Usage");e.bufferMemory=r.get("Buffer Memory").count,e.textureMemory=r.get("Texture Memory").count,e.renderbufferMemory=r.get("Renderbuffer Memory").count,e.gpuMemory=r.get("GPU Memory").count}}NT.defaultProps=b6;NT.VERSION=uG;function Ooe(t){switch(t){case"float64":return Float64Array;case"uint8":case"unorm8":return Uint8ClampedArray;default:return QV(t)}}const Uoe=ZV;function rx(t,e,n){const r=n==="webgpu"&&e.type==="uint8"?"unorm8":e.type;return{attribute:t,format:e.size>1?`${r}x${e.size}`:e.type,byteOffset:e.offset||0}}function Fc(t){return t.stride||t.size*t.bytesPerElement}function Voe(t,e){return t.type===e.type&&t.size===e.size&&Fc(t)===Fc(e)&&(t.offset||0)===(e.offset||0)}function zS(t,e){e.offset&&Hn.removed("shaderAttribute.offset","vertexOffset, elementOffset")();const n=Fc(t),r=e.vertexOffset!==void 0?e.vertexOffset:t.vertexOffset||0,s=e.elementOffset||0,o=r*n+s*t.bytesPerElement+(t.offset||0);return{...e,offset:o,stride:n}}function Foe(t,e){const n=zS(t,e);return{high:n,low:{...n,offset:n.offset+t.size*4}}}class Boe{constructor(e,n,r){this._buffer=null,this.device=e,this.id=n.id||"",this.size=n.size||1;const s=n.logicalType||n.type,o=s==="float64";let{defaultValue:l}=n;l=Number.isFinite(l)?[l]:l||new Array(this.size).fill(0);let c;o?c="float32":!s&&n.isIndexed?c="uint32":c=s||"float32";let f=Ooe(s||c);this.doublePrecision=o,o&&n.fp64===!1&&(f=Float32Array),this.value=null,this.settings={...n,defaultType:f,defaultValue:l,logicalType:s,type:c,normalized:c.includes("norm"),size:this.size,bytesPerElement:f.BYTES_PER_ELEMENT},this.state={...r,externalBuffer:null,bufferAccessor:this.settings,allocatedValue:null,numInstances:0,bounds:null,constant:!1}}get isConstant(){return this.state.constant}get buffer(){return this._buffer}get byteOffset(){const e=this.getAccessor();return e.vertexOffset?e.vertexOffset*Fc(e):0}get numInstances(){return this.state.numInstances}set numInstances(e){this.state.numInstances=e}delete(){this._buffer&&(this._buffer.delete(),this._buffer=null),sm.release(this.state.allocatedValue)}getBuffer(){return this.state.constant?null:this.state.externalBuffer||this._buffer}getValue(e=this.id,n=null){const r={};if(this.state.constant){const s=this.value;if(n){const o=zS(this.getAccessor(),n),l=o.offset/s.BYTES_PER_ELEMENT,c=o.size||this.size;r[e]=s.subarray(l,l+c)}else r[e]=s}else r[e]=this.getBuffer();return this.doublePrecision&&(this.value instanceof Float64Array?r[`${e}64Low`]=r[e]:r[`${e}64Low`]=new Float32Array(this.size)),r}_getBufferLayout(e=this.id,n=null){const r=this.getAccessor(),s=[],o={name:this.id,byteStride:Fc(r),attributes:s};if(this.doublePrecision){const l=Foe(r,n||{});s.push(rx(e,{...r,...l.high},this.device.type),rx(`${e}64Low`,{...r,...l.low},this.device.type))}else if(n){const l=zS(r,n);s.push(rx(e,{...r,...l},this.device.type))}else s.push(rx(e,r,this.device.type));return o}setAccessor(e){this.state.bufferAccessor=e}getAccessor(){return this.state.bufferAccessor}getBounds(){if(this.state.bounds)return this.state.bounds;let e=null;if(this.state.constant&&this.value){const n=Array.from(this.value);e=[n,n]}else{const{value:n,numInstances:r,size:s}=this,o=r*s;if(n&&o&&n.length>=o){const l=new Array(s).fill(1/0),c=new Array(s).fill(-1/0);for(let f=0;f<o;)for(let h=0;h<s;h++){const p=n[f++];p<l[h]&&(l[h]=p),p>c[h]&&(c[h]=p)}e=[l,c]}}return this.state.bounds=e,e}setData(e){const{state:n}=this;let r;ArrayBuffer.isView(e)?r={value:e}:e instanceof ir?r={buffer:e}:r=e;const s={...this.settings,...r};if(ArrayBuffer.isView(r.value)){if(!r.type)if(this.doublePrecision&&r.value instanceof Float64Array)s.type="float32";else{const l=Uoe(r.value);s.type=s.normalized?l.replace("int","norm"):l}s.bytesPerElement=r.value.BYTES_PER_ELEMENT,s.stride=Fc(s)}if(n.bounds=null,r.constant){let o=r.value;if(o=this._normalizeValue(o,[],0),this.settings.normalized&&(o=this.normalizeConstant(o)),!(!n.constant||!this._areValuesEqual(o,this.value)))return!1;n.externalBuffer=null,n.constant=!0,this.value=ArrayBuffer.isView(o)?o:new Float32Array(o)}else if(r.buffer){const o=r.buffer;n.externalBuffer=o,n.constant=!1,this.value=r.value||null}else if(r.value){this._checkExternalBuffer(r);let o=r.value;n.externalBuffer=null,n.constant=!1,this.value=o;let{buffer:l}=this;const c=Fc(s),f=(s.vertexOffset||0)*c;if(this.doublePrecision&&o instanceof Float64Array&&(o=$1(o,s)),this.settings.isIndexed){const p=this.settings.defaultType;o.constructor!==p&&(o=new p(o))}const h=o.byteLength+f+c*2;(!l||l.byteLength<h)&&(l=this._createBuffer(h)),l.write(o,f)}return this.setAccessor(s),!0}updateSubBuffer(e={}){this.state.bounds=null;const n=this.value,{startOffset:r=0,endOffset:s}=e;this.buffer.write(this.doublePrecision&&n instanceof Float64Array?$1(n,{size:this.size,startIndex:r,endIndex:s}):n.subarray(r,s),r*n.BYTES_PER_ELEMENT+this.byteOffset)}allocate(e,n=!1){const{state:r}=this,s=r.allocatedValue,o=sm.allocate(s,e+1,{size:this.size,type:this.settings.defaultType,copy:n});this.value=o;const{byteOffset:l}=this;let{buffer:c}=this;return(!c||c.byteLength<o.byteLength+l)&&(c=this._createBuffer(o.byteLength+l),n&&s&&c.write(s instanceof Float64Array?$1(s,this):s,l)),r.allocatedValue=o,r.constant=!1,r.externalBuffer=null,this.setAccessor(this.settings),!0}_checkExternalBuffer(e){const{value:n}=e;if(!ArrayBuffer.isView(n))throw new Error(`Attribute ${this.id} value is not TypedArray`);const r=this.settings.defaultType;let s=!1;if(this.doublePrecision&&(s=n.BYTES_PER_ELEMENT<4),s)throw new Error(`Attribute ${this.id} does not support ${n.constructor.name}`);!(n instanceof r)&&this.settings.normalized&&!("normalized"in e)&&Hn.warn(`Attribute ${this.id} is normalized`)()}normalizeConstant(e){switch(this.settings.type){case"snorm8":return new Float32Array(e).map(n=>(n+128)/255*2-1);case"snorm16":return new Float32Array(e).map(n=>(n+32768)/65535*2-1);case"unorm8":return new Float32Array(e).map(n=>n/255);case"unorm16":return new Float32Array(e).map(n=>n/65535);default:return e}}_normalizeValue(e,n,r){const{defaultValue:s,size:o}=this.settings;if(Number.isFinite(e))return n[r]=e,n;if(!e){let l=o;for(;--l>=0;)n[r+l]=s[l];return n}switch(o){case 4:n[r+3]=Number.isFinite(e[3])?e[3]:s[3];case 3:n[r+2]=Number.isFinite(e[2])?e[2]:s[2];case 2:n[r+1]=Number.isFinite(e[1])?e[1]:s[1];case 1:n[r+0]=Number.isFinite(e[0])?e[0]:s[0];break;default:let l=o;for(;--l>=0;)n[r+l]=Number.isFinite(e[l])?e[l]:s[l]}return n}_areValuesEqual(e,n){if(!e||!n)return!1;const{size:r}=this;for(let s=0;s<r;s++)if(e[s]!==n[s])return!1;return!0}_createBuffer(e){var s;this._buffer&&this._buffer.destroy();const{isIndexed:n,type:r}=this.settings;return this._buffer=this.device.createBuffer({...(s=this._buffer)==null?void 0:s.props,id:this.id,usage:(n?ir.INDEX:ir.VERTEX)|ir.COPY_DST,indexType:n?r:void 0,byteLength:e}),this._buffer}}const Qj=[],Gj=[];function Loe(t,e=0,n=1/0){let r=Qj;const s={index:-1,data:t,target:[]};return t?typeof t[Symbol.iterator]=="function"?r=t:t.length>0&&(Gj.length=t.length,r=Gj):r=Qj,(e>0||Number.isFinite(n))&&(r=(Array.isArray(r)?r:Array.from(r)).slice(e,n),s.index=e-1),{iterable:r,objectInfo:s}}function x6(t){return t&&t[Symbol.asyncIterator]}function zoe(t,e){const{size:n,stride:r,offset:s,startIndices:o,nested:l}=e,c=t.BYTES_PER_ELEMENT,f=r?r/c:n,h=s?s/c:0,p=Math.floor((t.length-h)/f);return(m,{index:x,target:w})=>{if(!o){const P=x*f+h;for(let j=0;j<n;j++)w[j]=t[P+j];return w}const E=o[x],T=o[x+1]||p;let C;if(l){C=new Array(T-E);for(let P=E;P<T;P++){const j=P*f+h;w=new Array(n);for(let D=0;D<n;D++)w[D]=t[j+D];C[P-E]=w}}else if(f===n)C=t.subarray(E*n+h,T*n+h);else{C=new t.constructor((T-E)*n);let P=0;for(let j=E;j<T;j++){const D=j*f+h;for(let U=0;U<n;U++)C[P++]=t[D+U]}}return C}}const $oe=[],Sx=[[0,1/0]];function Hoe(t,e){if(t===Sx||(e[0]<0&&(e[0]=0),e[0]>=e[1]))return t;const n=[],r=t.length;let s=0;for(let o=0;o<r;o++){const l=t[o];l[1]<e[0]?(n.push(l),s=o+1):l[0]>e[1]?n.push(l):e=[Math.min(l[0],e[0]),Math.max(l[1],e[1])]}return n.splice(s,0,e),n}const Woe={interpolation:{duration:0,easing:t=>t},spring:{stiffness:.05,damping:.5}};function y6(t,e){if(!t)return null;Number.isFinite(t)&&(t={type:"interpolation",duration:t});const n=t.type||"interpolation";return{...Woe[n],...e,...t,type:n}}class v6 extends Boe{constructor(e,n){super(e,n,{startIndices:null,lastExternalBuffer:null,binaryValue:null,binaryAccessor:null,needsUpdate:!0,needsRedraw:!1,layoutChanged:!1,updateRanges:Sx}),this.constant=!1,this.settings.update=n.update||(n.accessor?this._autoUpdater:void 0),Object.seal(this.settings),Object.seal(this.state),this._validateAttributeUpdaters()}get startIndices(){return this.state.startIndices}set startIndices(e){this.state.startIndices=e}needsUpdate(){return this.state.needsUpdate}needsRedraw({clearChangedFlags:e=!1}={}){const n=this.state.needsRedraw;return this.state.needsRedraw=n&&!e,n}layoutChanged(){return this.state.layoutChanged}setAccessor(e){var n;(n=this.state).layoutChanged||(n.layoutChanged=!Voe(e,this.getAccessor())),super.setAccessor(e)}getUpdateTriggers(){const{accessor:e}=this.settings;return[this.id].concat(typeof e!="function"&&e||[])}supportsTransition(){return!!this.settings.transition}getTransitionSetting(e){if(!e||!this.supportsTransition())return null;const{accessor:n}=this.settings,r=this.settings.transition,s=Array.isArray(n)?e[n.find(o=>e[o])]:e[n];return y6(s,r)}setNeedsUpdate(e=this.id,n){if(this.state.needsUpdate=this.state.needsUpdate||e,this.setNeedsRedraw(e),n){const{startRow:r=0,endRow:s=1/0}=n;this.state.updateRanges=Hoe(this.state.updateRanges,[r,s])}else this.state.updateRanges=Sx}clearNeedsUpdate(){this.state.needsUpdate=!1,this.state.updateRanges=$oe}setNeedsRedraw(e=this.id){this.state.needsRedraw=this.state.needsRedraw||e}allocate(e){const{state:n,settings:r}=this;return r.noAlloc?!1:r.update?(super.allocate(e,n.updateRanges!==Sx),!0):!1}updateBuffer({numInstances:e,data:n,props:r,context:s}){if(!this.needsUpdate())return!1;const{state:{updateRanges:o},settings:{update:l,noAlloc:c}}=this;let f=!0;if(l){for(const[h,p]of o)l.call(s,this,{data:n,startRow:h,endRow:p,props:r,numInstances:e});if(this.value)if(this.constant||!this.buffer||this.buffer.byteLength<this.value.byteLength+this.byteOffset)this.setData({value:this.value,constant:this.constant}),this.constant=!1;else for(const[h,p]of o){const m=Number.isFinite(h)?this.getVertexOffset(h):0,x=Number.isFinite(p)?this.getVertexOffset(p):c||!Number.isFinite(e)?this.value.length:e*this.size;super.updateSubBuffer({startOffset:m,endOffset:x})}this._checkAttributeArray()}else f=!1;return this.clearNeedsUpdate(),this.setNeedsRedraw(),f}setConstantValue(e){return this.device.type==="webgpu"||e===void 0||typeof e=="function"?!1:(this.setData({constant:!0,value:e})&&this.setNeedsRedraw(),this.clearNeedsUpdate(),!0)}setExternalBuffer(e){const{state:n}=this;return e?(this.clearNeedsUpdate(),n.lastExternalBuffer===e||(n.lastExternalBuffer=e,this.setNeedsRedraw(),this.setData(e)),!0):(n.lastExternalBuffer=null,!1)}setBinaryValue(e,n=null){const{state:r,settings:s}=this;if(!e)return r.binaryValue=null,r.binaryAccessor=null,!1;if(s.noAlloc)return!1;if(r.binaryValue===e)return this.clearNeedsUpdate(),!0;if(r.binaryValue=e,this.setNeedsRedraw(),s.transform||n!==this.startIndices){ArrayBuffer.isView(e)&&(e={value:e});const l=e;ds(ArrayBuffer.isView(l.value),`invalid ${s.accessor}`);const c=!!l.size&&l.size!==this.size;return r.binaryAccessor=zoe(l.value,{size:l.size||this.size,stride:l.stride,offset:l.offset,startIndices:n,nested:c}),!1}return this.clearNeedsUpdate(),this.setData(e),!0}getVertexOffset(e){const{startIndices:n}=this;return(n?e<n.length?n[e]:this.numInstances:e)*this.size}getValue(){const e=this.settings.shaderAttributes,n=super.getValue();if(!e)return n;for(const r in e)Object.assign(n,super.getValue(r,e[r]));return n}getBufferLayout(e){this.state.layoutChanged=!1;const n=this.settings.shaderAttributes,r=super._getBufferLayout(),{stepMode:s}=this.settings;if(s==="dynamic"?r.stepMode=e?e.isInstanced?"instance":"vertex":"instance":r.stepMode=s??"vertex",!n)return r;for(const o in n){const l=super._getBufferLayout(o,n[o]);r.attributes.push(...l.attributes)}return r}_autoUpdater(e,{data:n,startRow:r,endRow:s,props:o,numInstances:l}){if(e.constant&&this.context.device.type!=="webgpu")return;const{settings:c,state:f,value:h,size:p,startIndices:m}=e,{accessor:x,transform:w}=c;let E=f.binaryAccessor||(typeof x=="function"?x:o[x]);typeof E!="function"&&(E=()=>E),ds(typeof E=="function",`accessor "${x}" is not a function`);let T=e.getVertexOffset(r);const{iterable:C,objectInfo:P}=Loe(n,r,s);for(const j of C){P.index++;let D=E(j,P);if(w&&(D=w.call(this,D)),m){const U=(P.index<m.length-1?m[P.index+1]:l)-m[P.index];if(D&&Array.isArray(D[0])){let L=T;for(const O of D)e._normalizeValue(O,h,L),L+=p}else D&&D.length>p?h.set(D,T):(e._normalizeValue(D,P.target,0),nse({target:h,source:P.target,start:T,count:U}));T+=U*p}else e._normalizeValue(D,h,T),T+=p}}_validateAttributeUpdaters(){const{settings:e}=this;if(!(e.noAlloc||typeof e.update=="function"))throw new Error(`Attribute ${this.id} missing update or accessor`)}_checkAttributeArray(){const{value:e}=this,n=Math.min(4,this.size);if(e&&e.length>=n){let r=!0;switch(n){case 4:r=r&&Number.isFinite(e[3]);case 3:r=r&&Number.isFinite(e[2]);case 2:r=r&&Number.isFinite(e[1]);case 1:r=r&&Number.isFinite(e[0]);break;default:r=!1}if(!r)throw new Error(`Illegal attribute generated for ${this.id}`)}}}function G1(t){const{source:e,target:n,start:r=0,size:s,getData:o}=t,l=t.end||n.length,c=e.length,f=l-r;if(c>f){n.set(e.subarray(0,f),r);return}if(n.set(e,r),!o)return;let h=c;for(;h<f;){const p=o(h,e);for(let m=0;m<s;m++)n[r+h]=p[m]||0,h++}}function qoe({source:t,target:e,size:n,getData:r,sourceStartIndices:s,targetStartIndices:o}){if(!s||!o)return G1({source:t,target:e,size:n,getData:r}),e;let l=0,c=0;const f=r&&((p,m)=>r(p+c,m)),h=Math.min(s.length,o.length);for(let p=1;p<h;p++){const m=s[p]*n,x=o[p]*n;G1({source:t.subarray(l,m),target:e,start:c,end:x,size:n,getData:f}),l=m,c=x}return c<e.length&&G1({source:[],target:e,start:c,size:n,getData:f}),e}function Xoe(t){const{device:e,settings:n,value:r}=t,s=new v6(e,n);return s.setData({value:r instanceof Float64Array?new Float64Array(0):new Float32Array(0),normalized:n.normalized}),s}function w6(t){switch(t){case 1:return"float";case 2:return"vec2";case 3:return"vec3";case 4:return"vec4";default:throw new Error(`No defined attribute type for size "${t}"`)}}function _6(t){switch(t){case 1:return"float32";case 2:return"float32x2";case 3:return"float32x3";case 4:return"float32x4";default:throw new Error("invalid type size")}}function N6(t){t.push(t.shift())}function Yoe(t,e){const{doublePrecision:n,settings:r,value:s,size:o}=t,l=n&&s instanceof Float64Array?2:1;let c=0;const{shaderAttributes:f}=t.settings;if(f)for(const h of Object.values(f))c=Math.max(c,h.vertexOffset??0);return(r.noAlloc?s.length:(e+c)*o)*l}function S6({device:t,source:e,target:n}){return(!n||n.byteLength<e.byteLength)&&(n==null||n.destroy(),n=t.createBuffer({byteLength:e.byteLength,usage:e.usage})),n}function E6({device:t,buffer:e,attribute:n,fromLength:r,toLength:s,fromStartIndices:o,getData:l=c=>c}){const c=n.doublePrecision&&n.value instanceof Float64Array?2:1,f=n.size*c,h=n.byteOffset,p=n.settings.bytesPerElement<4?h/n.settings.bytesPerElement*4:h,m=n.startIndices,x=o&&m,w=n.isConstant;if(!x&&e&&r>=s)return e;const E=n.value instanceof Float64Array?Float32Array:n.value.constructor,T=w?n.value:new E(n.getBuffer().readSyncWebGL(h,s*E.BYTES_PER_ELEMENT).buffer);if(n.settings.normalized&&!w){const D=l;l=(U,L)=>n.normalizeConstant(D(U,L))}const C=w?(D,U)=>l(T,U):(D,U)=>l(T.subarray(D+h,D+h+f),U),P=e?new Float32Array(e.readSyncWebGL(p,r*4).buffer):new Float32Array(0),j=new Float32Array(s);return qoe({source:P,target:j,sourceStartIndices:o,targetStartIndices:m,size:f,getData:C}),(!e||e.byteLength<j.byteLength+p)&&(e==null||e.destroy(),e=t.createBuffer({byteLength:j.byteLength+p,usage:35050})),e.write(j,p),e}class T6{constructor({device:e,attribute:n,timeline:r}){this.buffers=[],this.currentLength=0,this.device=e,this.transition=new fv(r),this.attribute=n,this.attributeInTransition=Xoe(n),this.currentStartIndices=n.startIndices}get inProgress(){return this.transition.inProgress}start(e,n,r=1/0){this.settings=e,this.currentStartIndices=this.attribute.startIndices,this.currentLength=Yoe(this.attribute,n),this.transition.start({...e,duration:r})}update(){const e=this.transition.update();return e&&this.onUpdate(),e}setBuffer(e){this.attributeInTransition.setData({buffer:e,normalized:this.attribute.settings.normalized,value:this.attributeInTransition.value})}cancel(){this.transition.cancel()}delete(){this.cancel();for(const e of this.buffers)e.destroy();this.buffers.length=0}}class Koe extends T6{constructor({device:e,attribute:n,timeline:r}){super({device:e,attribute:n,timeline:r}),this.type="interpolation",this.transform=Joe(e,n)}start(e,n){const r=this.currentLength,s=this.currentStartIndices;if(super.start(e,n,e.duration),e.duration<=0){this.transition.cancel();return}const{buffers:o,attribute:l}=this;N6(o),o[0]=E6({device:this.device,buffer:o[0],attribute:l,fromLength:r,toLength:this.currentLength,fromStartIndices:s,getData:e.enter}),o[1]=S6({device:this.device,source:o[0],target:o[1]}),this.setBuffer(o[1]);const{transform:c}=this,f=c.model;let h=Math.floor(this.currentLength/l.size);A6(l)&&(h/=2),f.setVertexCount(h),l.isConstant?(f.setAttributes({aFrom:o[0]}),f.setConstantAttributes({aTo:l.value})):f.setAttributes({aFrom:o[0],aTo:l.getBuffer()}),c.transformFeedback.setBuffers({vCurrent:o[1]})}onUpdate(){const{duration:e,easing:n}=this.settings,{time:r}=this.transition;let s=r/e;n&&(s=n(s));const{model:o}=this.transform,l={time:s};o.shaderInputs.setProps({interpolation:l}),this.transform.run({discard:!0})}delete(){super.delete(),this.transform.destroy()}}const Zoe=`uniform interpolationUniforms {
  float time;
} interpolation;
`,Jj={name:"interpolation",vs:Zoe,uniformTypes:{time:"f32"}},Qoe=`#version 300 es
#define SHADER_NAME interpolation-transition-vertex-shader

in ATTRIBUTE_TYPE aFrom;
in ATTRIBUTE_TYPE aTo;
out ATTRIBUTE_TYPE vCurrent;

void main(void) {
  vCurrent = mix(aFrom, aTo, interpolation.time);
  gl_Position = vec4(0.0);
}
`,Goe=`#version 300 es
#define SHADER_NAME interpolation-transition-vertex-shader

in ATTRIBUTE_TYPE aFrom;
in ATTRIBUTE_TYPE aFrom64Low;
in ATTRIBUTE_TYPE aTo;
in ATTRIBUTE_TYPE aTo64Low;
out ATTRIBUTE_TYPE vCurrent;
out ATTRIBUTE_TYPE vCurrent64Low;

vec2 mix_fp64(vec2 a, vec2 b, float x) {
  vec2 range = sub_fp64(b, a);
  return sum_fp64(a, mul_fp64(range, vec2(x, 0.0)));
}

void main(void) {
  for (int i=0; i<ATTRIBUTE_SIZE; i++) {
    vec2 value = mix_fp64(vec2(aFrom[i], aFrom64Low[i]), vec2(aTo[i], aTo64Low[i]), interpolation.time);
    vCurrent[i] = value.x;
    vCurrent64Low[i] = value.y;
  }
  gl_Position = vec4(0.0);
}
`;function A6(t){return t.doublePrecision&&t.value instanceof Float64Array}function Joe(t,e){const n=e.size,r=w6(n),s=_6(n),o=e.getBufferLayout();return A6(e)?new im(t,{vs:Goe,bufferLayout:[{name:"aFrom",byteStride:8*n,attributes:[{attribute:"aFrom",format:s,byteOffset:0},{attribute:"aFrom64Low",format:s,byteOffset:4*n}]},{name:"aTo",byteStride:8*n,attributes:[{attribute:"aTo",format:s,byteOffset:0},{attribute:"aTo64Low",format:s,byteOffset:4*n}]}],modules:[fte,Jj],defines:{ATTRIBUTE_TYPE:r,ATTRIBUTE_SIZE:n},moduleSettings:{},varyings:["vCurrent","vCurrent64Low"],bufferMode:35980,disableWarnings:!0}):new im(t,{vs:Qoe,bufferLayout:[{name:"aFrom",format:s},{name:"aTo",format:o.attributes[0].format}],modules:[Jj],defines:{ATTRIBUTE_TYPE:r},varyings:["vCurrent"],disableWarnings:!0})}class eae extends T6{constructor({device:e,attribute:n,timeline:r}){super({device:e,attribute:n,timeline:r}),this.type="spring",this.texture=oae(e),this.framebuffer=aae(e,this.texture),this.transform=iae(e,n)}start(e,n){const r=this.currentLength,s=this.currentStartIndices;super.start(e,n);const{buffers:o,attribute:l}=this;for(let f=0;f<2;f++)o[f]=E6({device:this.device,buffer:o[f],attribute:l,fromLength:r,toLength:this.currentLength,fromStartIndices:s,getData:e.enter});o[2]=S6({device:this.device,source:o[0],target:o[2]}),this.setBuffer(o[1]);const{model:c}=this.transform;c.setVertexCount(Math.floor(this.currentLength/l.size)),l.isConstant?c.setConstantAttributes({aTo:l.value}):c.setAttributes({aTo:l.getBuffer()})}onUpdate(){const{buffers:e,transform:n,framebuffer:r,transition:s}=this,o=this.settings;n.model.setAttributes({aPrev:e[0],aCur:e[1]}),n.transformFeedback.setBuffers({vNext:e[2]});const l={stiffness:o.stiffness,damping:o.damping};n.model.shaderInputs.setProps({spring:l}),n.run({framebuffer:r,discard:!1,parameters:{viewport:[0,0,1,1]},clearColor:[0,0,0,0]}),N6(e),this.setBuffer(e[1]),this.device.readPixelsToArrayWebGL(r)[0]>0||s.end()}delete(){super.delete(),this.transform.destroy(),this.texture.destroy(),this.framebuffer.destroy()}}const tae=`uniform springUniforms {
  float damping;
  float stiffness;
} spring;
`,nae={name:"spring",vs:tae,uniformTypes:{damping:"f32",stiffness:"f32"}},rae=`#version 300 es
#define SHADER_NAME spring-transition-vertex-shader

#define EPSILON 0.00001

in ATTRIBUTE_TYPE aPrev;
in ATTRIBUTE_TYPE aCur;
in ATTRIBUTE_TYPE aTo;
out ATTRIBUTE_TYPE vNext;
out float vIsTransitioningFlag;

ATTRIBUTE_TYPE getNextValue(ATTRIBUTE_TYPE cur, ATTRIBUTE_TYPE prev, ATTRIBUTE_TYPE dest) {
  ATTRIBUTE_TYPE velocity = cur - prev;
  ATTRIBUTE_TYPE delta = dest - cur;
  ATTRIBUTE_TYPE force = delta * spring.stiffness;
  ATTRIBUTE_TYPE resistance = velocity * spring.damping;
  return force - resistance + velocity + cur;
}

void main(void) {
  bool isTransitioning = length(aCur - aPrev) > EPSILON || length(aTo - aCur) > EPSILON;
  vIsTransitioningFlag = isTransitioning ? 1.0 : 0.0;

  vNext = getNextValue(aCur, aPrev, aTo);
  gl_Position = vec4(0, 0, 0, 1);
  gl_PointSize = 100.0;
}
`,sae=`#version 300 es
#define SHADER_NAME spring-transition-is-transitioning-fragment-shader

in float vIsTransitioningFlag;

out vec4 fragColor;

void main(void) {
  if (vIsTransitioningFlag == 0.0) {
    discard;
  }
  fragColor = vec4(1.0);
}`;function iae(t,e){const n=w6(e.size),r=_6(e.size);return new im(t,{vs:rae,fs:sae,bufferLayout:[{name:"aPrev",format:r},{name:"aCur",format:r},{name:"aTo",format:e.getBufferLayout().attributes[0].format}],varyings:["vNext"],modules:[nae],defines:{ATTRIBUTE_TYPE:n},parameters:{depthCompare:"always",blendColorOperation:"max",blendColorSrcFactor:"one",blendColorDstFactor:"one",blendAlphaOperation:"max",blendAlphaSrcFactor:"one",blendAlphaDstFactor:"one"}})}function oae(t){return t.createTexture({data:new Uint8Array(4),format:"rgba8unorm",mipmaps:!1,width:1,height:1})}function aae(t,e){return t.createFramebuffer({id:"spring-transition-is-transitioning-framebuffer",width:1,height:1,colorAttachments:[e]})}const lae={interpolation:Koe,spring:eae};class cae{constructor(e,{id:n,timeline:r}){if(!e)throw new Error("AttributeTransitionManager is constructed without device");this.id=n,this.device=e,this.timeline=r,this.transitions={},this.needsRedraw=!1,this.numInstances=1}finalize(){for(const e in this.transitions)this._removeTransition(e)}update({attributes:e,transitions:n,numInstances:r}){this.numInstances=r||1;for(const s in e){const o=e[s],l=o.getTransitionSetting(n);l&&this._updateAttribute(s,o,l)}for(const s in this.transitions){const o=e[s];(!o||!o.getTransitionSetting(n))&&this._removeTransition(s)}}hasAttribute(e){const n=this.transitions[e];return n&&n.inProgress}getAttributes(){const e={};for(const n in this.transitions){const r=this.transitions[n];r.inProgress&&(e[n]=r.attributeInTransition)}return e}run(){if(this.numInstances===0)return!1;for(const n in this.transitions)this.transitions[n].update()&&(this.needsRedraw=!0);const e=this.needsRedraw;return this.needsRedraw=!1,e}_removeTransition(e){this.transitions[e].delete(),delete this.transitions[e]}_updateAttribute(e,n,r){const s=this.transitions[e];let o=!s||s.type!==r.type;if(o){s&&this._removeTransition(e);const l=lae[r.type];l?this.transitions[e]=new l({attribute:n,timeline:this.timeline,device:this.device}):(Hn.error(`unsupported transition type '${r.type}'`)(),o=!1)}(o||n.needsRedraw())&&(this.needsRedraw=!0,this.transitions[e].start(r,this.numInstances))}}const eM="attributeManager.invalidate",uae="attributeManager.updateStart",fae="attributeManager.updateEnd",dae="attribute.updateStart",hae="attribute.allocate",pae="attribute.updateEnd";class mae{constructor(e,{id:n="attribute-manager",stats:r,timeline:s}={}){this.mergeBoundsMemoized=Am(Sre),this.id=n,this.device=e,this.attributes={},this.updateTriggers={},this.needsRedraw=!0,this.userData={},this.stats=r,this.attributeTransitionManager=new cae(e,{id:`${n}-transitions`,timeline:s}),Object.seal(this)}finalize(){for(const e in this.attributes)this.attributes[e].delete();this.attributeTransitionManager.finalize()}getNeedsRedraw(e={clearRedrawFlags:!1}){const n=this.needsRedraw;return this.needsRedraw=this.needsRedraw&&!e.clearRedrawFlags,n&&this.id}setNeedsRedraw(){this.needsRedraw=!0}add(e){this._add(e)}addInstanced(e){this._add(e,{stepMode:"instance"})}remove(e){for(const n of e)this.attributes[n]!==void 0&&(this.attributes[n].delete(),delete this.attributes[n])}invalidate(e,n){const r=this._invalidateTrigger(e,n);Rs(eM,this,e,r)}invalidateAll(e){for(const n in this.attributes)this.attributes[n].setNeedsUpdate(n,e);Rs(eM,this,"all")}update({data:e,numInstances:n,startIndices:r=null,transitions:s,props:o={},buffers:l={},context:c={}}){let f=!1;Rs(uae,this),this.stats&&this.stats.get("Update Attributes").timeStart();for(const h in this.attributes){const p=this.attributes[h],m=p.settings.accessor;p.startIndices=r,p.numInstances=n,o[h]&&Hn.removed(`props.${h}`,`data.attributes.${h}`)(),p.setExternalBuffer(l[h])||p.setBinaryValue(typeof m=="string"?l[m]:void 0,e.startIndices)||typeof m=="string"&&!l[m]&&p.setConstantValue(o[m])||p.needsUpdate()&&(f=!0,this._updateAttribute({attribute:p,numInstances:n,data:e,props:o,context:c})),this.needsRedraw=this.needsRedraw||p.needsRedraw()}f&&Rs(fae,this,n),this.stats&&this.stats.get("Update Attributes").timeEnd(),this.attributeTransitionManager.update({attributes:this.attributes,numInstances:n,transitions:s})}updateTransition(){const{attributeTransitionManager:e}=this,n=e.run();return this.needsRedraw=this.needsRedraw||n,n}getAttributes(){return{...this.attributes,...this.attributeTransitionManager.getAttributes()}}getBounds(e){const n=e.map(r=>{var s;return(s=this.attributes[r])==null?void 0:s.getBounds()});return this.mergeBoundsMemoized(n)}getChangedAttributes(e={clearChangedFlags:!1}){const{attributes:n,attributeTransitionManager:r}=this,s={...r.getAttributes()};for(const o in n){const l=n[o];l.needsRedraw(e)&&!r.hasAttribute(o)&&(s[o]=l)}return s}getBufferLayouts(e){return Object.values(this.getAttributes()).map(n=>n.getBufferLayout(e))}_add(e,n){for(const r in e){const s=e[r],o={...s,id:r,size:s.isIndexed&&1||s.size||1,...n};this.attributes[r]=new v6(this.device,o)}this._mapUpdateTriggersToAttributes()}_mapUpdateTriggersToAttributes(){const e={};for(const n in this.attributes)this.attributes[n].getUpdateTriggers().forEach(s=>{e[s]||(e[s]=[]),e[s].push(n)});this.updateTriggers=e}_invalidateTrigger(e,n){const{attributes:r,updateTriggers:s}=this,o=s[e];return o&&o.forEach(l=>{const c=r[l];c&&c.setNeedsUpdate(c.id,n)}),o}_updateAttribute(e){const{attribute:n,numInstances:r}=e;if(Rs(dae,n),n.constant){n.setConstantValue(n.value);return}n.allocate(r)&&Rs(hae,n,r),n.updateBuffer(e)&&(this.needsRedraw=!0,Rs(pae,n,r))}}class gae extends fv{get value(){return this._value}_onUpdate(){const{time:e,settings:{fromValue:n,toValue:r,duration:s,easing:o}}=this,l=o(e/s);this._value=ly(n,r,l)}}const tM=1e-5;function nM(t,e,n,r,s){const o=e-t,c=(n-e)*s,f=-o*r;return c+f+o+e}function bae(t,e,n,r,s){if(Array.isArray(n)){const o=[];for(let l=0;l<n.length;l++)o[l]=nM(t[l],e[l],n[l],r,s);return o}return nM(t,e,n,r,s)}function rM(t,e){if(Array.isArray(t)){let n=0;for(let r=0;r<t.length;r++){const s=t[r]-e[r];n+=s*s}return Math.sqrt(n)}return Math.abs(t-e)}class xae extends fv{get value(){return this._currValue}_onUpdate(){const{fromValue:e,toValue:n,damping:r,stiffness:s}=this.settings,{_prevValue:o=e,_currValue:l=e}=this;let c=bae(o,l,n,r,s);const f=rM(c,n),h=rM(c,l);f<tM&&h<tM&&(c=n,this.end()),this._prevValue=l,this._currValue=c}}const yae={interpolation:gae,spring:xae};class vae{constructor(e){this.transitions=new Map,this.timeline=e}get active(){return this.transitions.size>0}add(e,n,r,s){const{transitions:o}=this;if(o.has(e)){const f=o.get(e),{value:h=f.settings.fromValue}=f;n=h,this.remove(e)}if(s=y6(s),!s)return;const l=yae[s.type];if(!l){Hn.error(`unsupported transition type '${s.type}'`)();return}const c=new l(this.timeline);c.start({...s,fromValue:n,toValue:r}),o.set(e,c)}remove(e){const{transitions:n}=this;n.has(e)&&(n.get(e).cancel(),n.delete(e))}update(){const e={};for(const[n,r]of this.transitions)r.update(),e[n]=r.value,r.inProgress||this.remove(n);return e}clear(){for(const e of this.transitions.keys())this.remove(e)}}function wae(t){const e=t[Qc];for(const n in e){const r=e[n],{validate:s}=r;if(s&&!s(t[n],r))throw new Error(`Invalid prop ${n}: ${t[n]}`)}}function _ae(t,e){const n=C6({newProps:t,oldProps:e,propTypes:t[Qc],ignoreProps:{data:null,updateTriggers:null,extensions:null,transitions:null}}),r=Sae(t,e);let s=!1;return r||(s=Eae(t,e)),{dataChanged:r,propsChanged:n,updateTriggersChanged:s,extensionsChanged:Tae(t,e),transitionsChanged:Nae(t,e)}}function Nae(t,e){if(!t.transitions)return!1;const n={},r=t[Qc];let s=!1;for(const o in t.transitions){const l=r[o],c=l&&l.type;(c==="number"||c==="color"||c==="array")&&$S(t[o],e[o],l)&&(n[o]=!0,s=!0)}return s?n:!1}function C6({newProps:t,oldProps:e,ignoreProps:n={},propTypes:r={},triggerName:s="props"}){if(e===t)return!1;if(typeof t!="object"||t===null)return`${s} changed shallowly`;if(typeof e!="object"||e===null)return`${s} changed shallowly`;for(const o of Object.keys(t))if(!(o in n)){if(!(o in e))return`${s}.${o} added`;const l=$S(t[o],e[o],r[o]);if(l)return`${s}.${o} ${l}`}for(const o of Object.keys(e))if(!(o in n)){if(!(o in t))return`${s}.${o} dropped`;if(!Object.hasOwnProperty.call(t,o)){const l=$S(t[o],e[o],r[o]);if(l)return`${s}.${o} ${l}`}}return!1}function $S(t,e,n){let r=n&&n.equal;return r&&!r(t,e,n)||!r&&(r=t&&e&&t.equals,r&&!r.call(t,e))?"changed deeply":!r&&e!==t?"changed shallowly":null}function Sae(t,e){if(e===null)return"oldProps is null, initial diff";let n=!1;const{dataComparator:r,_dataDiff:s}=t;return r?r(t.data,e.data)||(n="Data comparator detected a change"):t.data!==e.data&&(n="A new data container was supplied"),n&&s&&(n=s(t.data,e.data)||n),n}function Eae(t,e){if(e===null)return{all:!0};if("all"in t.updateTriggers&&sM(t,e,"all"))return{all:!0};const n={};let r=!1;for(const s in t.updateTriggers)s!=="all"&&sM(t,e,s)&&(n[s]=!0,r=!0);return r?n:!1}function Tae(t,e){if(e===null)return!0;const n=e.extensions,{extensions:r}=t;if(r===n)return!1;if(!n||!r||r.length!==n.length)return!0;for(let s=0;s<r.length;s++)if(!r[s].equals(n[s]))return!0;return!1}function sM(t,e,n){let r=t.updateTriggers[n];r=r??{};let s=e.updateTriggers[n];return s=s??{},C6({oldProps:s,newProps:r,triggerName:n})}const Aae="count(): argument not an object",Cae="count(): argument not a container";function Rae(t){if(!Dae(t))throw new Error(Aae);if(typeof t.count=="function")return t.count();if(Number.isFinite(t.size))return t.size;if(Number.isFinite(t.length))return t.length;if(kae(t))return Object.keys(t).length;throw new Error(Cae)}function kae(t){return t!==null&&typeof t=="object"&&t.constructor===Object}function Dae(t){return t!==null&&typeof t=="object"}function iM(t,e){if(!e)return t;const n={...t,...e};if("defines"in e&&(n.defines={...t.defines,...e.defines}),"modules"in e&&(n.modules=(t.modules||[]).concat(e.modules),e.modules.some(r=>r.name==="project64"))){const r=n.modules.findIndex(s=>s.name==="project32");r>=0&&n.modules.splice(r,1)}if("inject"in e)if(!t.inject)n.inject=e.inject;else{const r={...t.inject};for(const s in e.inject)r[s]=(r[s]||"")+e.inject[s];n.inject=r}return n}const Pae={minFilter:"linear",mipmapFilter:"linear",magFilter:"linear",addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"},HS={};function jae(t,e,n,r){if(n instanceof mr)return n;n.constructor&&n.constructor.name!=="Object"&&(n={data:n});let s=null;n.compressed&&(s={minFilter:"linear",mipmapFilter:n.data.length>1?"nearest":"linear"});const o=e.createTexture({...n,sampler:{...Pae,...s,...r},mipmaps:!0});return HS[o.id]=t,o}function Mae(t,e){!e||!(e instanceof mr)||HS[e.id]===t&&(e.delete(),delete HS[e.id])}const Iae={boolean:{validate(t,e){return!0},equal(t,e,n){return!!t==!!e}},number:{validate(t,e){return Number.isFinite(t)&&(!("max"in e)||t<=e.max)&&(!("min"in e)||t>=e.min)}},color:{validate(t,e){return e.optional&&!t||WS(t)&&(t.length===3||t.length===4)},equal(t,e,n){return Ji(t,e,1)}},accessor:{validate(t,e){const n=gy(t);return n==="function"||n===gy(e.value)},equal(t,e,n){return typeof e=="function"?!0:Ji(t,e,1)}},array:{validate(t,e){return e.optional&&!t||WS(t)},equal(t,e,n){const{compare:r}=n,s=Number.isInteger(r)?r:r?1:0;return r?Ji(t,e,s):t===e}},object:{equal(t,e,n){if(n.ignore)return!0;const{compare:r}=n,s=Number.isInteger(r)?r:r?1:0;return r?Ji(t,e,s):t===e}},function:{validate(t,e){return e.optional&&!t||typeof t=="function"},equal(t,e,n){return!n.compare&&n.ignore!==!1||t===e}},data:{transform:(t,e,n)=>{if(!t)return t;const{dataTransform:r}=n.props;return r?r(t):typeof t.shape=="string"&&t.shape.endsWith("-table")&&Array.isArray(t.data)?t.data:t}},image:{transform:(t,e,n)=>{const r=n.context;return!r||!r.device?null:jae(n.id,r.device,t,{...e.parameters,...n.props.textureParameters})},release:(t,e,n)=>{Mae(n.id,t)}}};function Oae(t){const e={},n={},r={};for(const[s,o]of Object.entries(t)){const l=o==null?void 0:o.deprecatedFor;if(l)r[s]=Array.isArray(l)?l:[l];else{const c=Uae(s,o);e[s]=c,n[s]=c.value}}return{propTypes:e,defaultProps:n,deprecatedProps:r}}function Uae(t,e){switch(gy(e)){case"object":return bp(t,e);case"array":return bp(t,{type:"array",value:e,compare:!1});case"boolean":return bp(t,{type:"boolean",value:e});case"number":return bp(t,{type:"number",value:e});case"function":return bp(t,{type:"function",value:e,compare:!0});default:return{name:t,type:"unknown",value:e}}}function bp(t,e){return"type"in e?{name:t,...Iae[e.type],...e}:"value"in e?{name:t,type:gy(e.value),...e}:{name:t,type:"object",value:e}}function WS(t){return Array.isArray(t)||ArrayBuffer.isView(t)}function gy(t){return WS(t)?"array":t===null?"null":typeof t}function Vae(t,e){let n;for(let o=e.length-1;o>=0;o--){const l=e[o];"extensions"in l&&(n=l.extensions)}const r=qS(t.constructor,n),s=Object.create(r);s[py]=t,s[mu]={},s[Ml]={};for(let o=0;o<e.length;++o){const l=e[o];for(const c in l)s[c]=l[c]}return Object.freeze(s),s}const Fae="_mergedDefaultProps";function qS(t,e){if(!(t instanceof dv.constructor))return{};let n=Fae;if(e)for(const s of e){const o=s.constructor;o&&(n+=`:${o.extensionName||o.name}`)}const r=R6(t,n);return r||(t[n]=Bae(t,e||[]))}function Bae(t,e){if(!t.prototype)return null;const r=Object.getPrototypeOf(t),s=qS(r),o=R6(t,"defaultProps")||{},l=Oae(o),c=Object.assign(Object.create(null),s,l.defaultProps),f=Object.assign(Object.create(null),s==null?void 0:s[Qc],l.propTypes),h=Object.assign(Object.create(null),s==null?void 0:s[X1],l.deprecatedProps);for(const p of e){const m=qS(p.constructor);m&&(Object.assign(c,m),Object.assign(f,m[Qc]),Object.assign(h,m[X1]))}return Lae(c,t),$ae(c,f),zae(c,h),c[Qc]=f,c[X1]=h,e.length===0&&!ST(t,"_propTypes")&&(t._propTypes=f),c}function Lae(t,e){const n=Wae(e);Object.defineProperties(t,{id:{writable:!0,value:n}})}function zae(t,e){for(const n in e)Object.defineProperty(t,n,{enumerable:!1,set(r){const s=`${this.id}: ${n}`;for(const o of e[n])ST(this,o)||(this[o]=r);Hn.deprecated(s,e[n].join("/"))()}})}function $ae(t,e){const n={},r={};for(const s in e){const o=e[s],{name:l,value:c}=o;o.async&&(n[l]=c,r[l]=Hae(l))}t[Jf]=n,t[mu]={},Object.defineProperties(t,r)}function Hae(t){return{enumerable:!0,set(e){typeof e=="string"||e instanceof Promise||x6(e)?this[mu][t]=e:this[Ml][t]=e},get(){if(this[Ml]){if(t in this[Ml])return this[Ml][t]||this[Jf][t];if(t in this[mu]){const e=this[py]&&this[py].internalState;if(e&&e.hasAsyncProp(t))return e.getAsyncProp(t)||this[Jf][t]}}return this[Jf][t]}}}function ST(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function R6(t,e){return ST(t,e)&&t[e]}function Wae(t){const e=t.componentName;return e||Hn.warn(`${t.name}.componentName not specified`)(),e||t.name}let qae=0;class dv{constructor(...e){this.props=Vae(this,e),this.id=this.props.id,this.count=qae++}clone(e){const{props:n}=this,r={};for(const s in n[Jf])s in n[Ml]?r[s]=n[Ml][s]:s in n[mu]&&(r[s]=n[mu][s]);return new this.constructor({...n,...r,...e})}}dv.componentName="Component";dv.defaultProps={};const Xae=Object.freeze({});class Yae{constructor(e){this.component=e,this.asyncProps={},this.onAsyncPropUpdated=()=>{},this.oldProps=null,this.oldAsyncProps=null}finalize(){for(const e in this.asyncProps){const n=this.asyncProps[e];n&&n.type&&n.type.release&&n.type.release(n.resolvedValue,n.type,this.component)}this.asyncProps={},this.component=null,this.resetOldProps()}getOldProps(){return this.oldAsyncProps||this.oldProps||Xae}resetOldProps(){this.oldAsyncProps=null,this.oldProps=this.component?this.component.props:null}hasAsyncProp(e){return e in this.asyncProps}getAsyncProp(e){const n=this.asyncProps[e];return n&&n.resolvedValue}isAsyncPropLoading(e){if(e){const n=this.asyncProps[e];return!!(n&&n.pendingLoadCount>0&&n.pendingLoadCount!==n.resolvedLoadCount)}for(const n in this.asyncProps)if(this.isAsyncPropLoading(n))return!0;return!1}reloadAsyncProp(e,n){this._watchPromise(e,Promise.resolve(n))}setAsyncProps(e){this.component=e[py]||this.component;const n=e[Ml]||{},r=e[mu]||e,s=e[Jf]||{};for(const o in n){const l=n[o];this._createAsyncPropData(o,s[o]),this._updateAsyncProp(o,l),n[o]=this.getAsyncProp(o)}for(const o in r){const l=r[o];this._createAsyncPropData(o,s[o]),this._updateAsyncProp(o,l)}}_fetch(e,n){return null}_onResolve(e,n){}_onError(e,n){}_updateAsyncProp(e,n){if(this._didAsyncInputValueChange(e,n)){if(typeof n=="string"&&(n=this._fetch(e,n)),n instanceof Promise){this._watchPromise(e,n);return}if(x6(n)){this._resolveAsyncIterable(e,n);return}this._setPropValue(e,n)}}_freezeAsyncOldProps(){if(!this.oldAsyncProps&&this.oldProps){this.oldAsyncProps=Object.create(this.oldProps);for(const e in this.asyncProps)Object.defineProperty(this.oldAsyncProps,e,{enumerable:!0,value:this.oldProps[e]})}}_didAsyncInputValueChange(e,n){const r=this.asyncProps[e];return n===r.resolvedValue||n===r.lastValue?!1:(r.lastValue=n,!0)}_setPropValue(e,n){this._freezeAsyncOldProps();const r=this.asyncProps[e];r&&(n=this._postProcessValue(r,n),r.resolvedValue=n,r.pendingLoadCount++,r.resolvedLoadCount=r.pendingLoadCount)}_setAsyncPropValue(e,n,r){const s=this.asyncProps[e];s&&r>=s.resolvedLoadCount&&n!==void 0&&(this._freezeAsyncOldProps(),s.resolvedValue=n,s.resolvedLoadCount=r,this.onAsyncPropUpdated(e,n))}_watchPromise(e,n){const r=this.asyncProps[e];if(r){r.pendingLoadCount++;const s=r.pendingLoadCount;n.then(o=>{this.component&&(o=this._postProcessValue(r,o),this._setAsyncPropValue(e,o,s),this._onResolve(e,o))}).catch(o=>{this._onError(e,o)})}}async _resolveAsyncIterable(e,n){if(e!=="data"){this._setPropValue(e,n);return}const r=this.asyncProps[e];if(!r)return;r.pendingLoadCount++;const s=r.pendingLoadCount;let o=[],l=0;for await(const c of n){if(!this.component)return;const{dataTransform:f}=this.component.props;f?o=f(c,o):o=o.concat(c),Object.defineProperty(o,"__diff",{enumerable:!1,value:[{startRow:l,endRow:o.length}]}),l=o.length,this._setAsyncPropValue(e,o,s)}this._onResolve(e,o)}_postProcessValue(e,n){const r=e.type;return r&&this.component&&(r.release&&r.release(e.resolvedValue,r,this.component),r.transform)?r.transform(n,r,this.component):n}_createAsyncPropData(e,n){if(!this.asyncProps[e]){const s=this.component&&this.component.props[Qc];this.asyncProps[e]={type:s&&s[e],lastValue:null,resolvedValue:n,pendingLoadCount:0,resolvedLoadCount:0}}}}class Kae extends Yae{constructor({attributeManager:e,layer:n}){super(n),this.attributeManager=e,this.needsRedraw=!0,this.needsUpdate=!0,this.subLayers=null,this.usesPickingColorCache=!1}get layer(){return this.component}_fetch(e,n){const r=this.layer,s=r==null?void 0:r.props.fetch;return s?s(n,{propName:e,layer:r}):super._fetch(e,n)}_onResolve(e,n){const r=this.layer;if(r){const s=r.props.onDataLoad;e==="data"&&s&&s(n,{propName:e,layer:r})}}_onError(e,n){const r=this.layer;r&&r.raiseError(n,`loading ${e} of ${this.layer}`)}}const Zae="layer.changeFlag",Qae="layer.initialize",Gae="layer.update",Jae="layer.finalize",ele="layer.matched",oM=2**24-1,tle=Object.freeze([]),nle=Am(({oldViewport:t,viewport:e})=>t.equals(e));let Hi=new Uint8ClampedArray(0);const rle={data:{type:"data",value:tle,async:!0},dataComparator:{type:"function",value:null,optional:!0},_dataDiff:{type:"function",value:t=>t&&t.__diff,optional:!0},dataTransform:{type:"function",value:null,optional:!0},onDataLoad:{type:"function",value:null,optional:!0},onError:{type:"function",value:null,optional:!0},fetch:{type:"function",value:(t,{propName:e,layer:n,loaders:r,loadOptions:s,signal:o})=>{const{resourceManager:l}=n.context;s=s||n.getLoadOptions(),r=r||n.props.loaders,o&&(s={...s,fetch:{...s==null?void 0:s.fetch,signal:o}});let c=l.contains(t);return!c&&!s&&(l.add({resourceId:t,data:aS(t,r),persistent:!1}),c=!0),c?l.subscribe({resourceId:t,onChange:f=>{var h;return(h=n.internalState)==null?void 0:h.reloadAsyncProp(e,f)},consumerId:n.id,requestId:e}):aS(t,r,s)}},updateTriggers:{},visible:!0,pickable:!1,opacity:{type:"number",min:0,max:1,value:1},operation:"draw",onHover:{type:"function",value:null,optional:!0},onClick:{type:"function",value:null,optional:!0},onDragStart:{type:"function",value:null,optional:!0},onDrag:{type:"function",value:null,optional:!0},onDragEnd:{type:"function",value:null,optional:!0},coordinateSystem:An.DEFAULT,coordinateOrigin:{type:"array",value:[0,0,0],compare:!0},modelMatrix:{type:"array",value:null,compare:!0,optional:!0},wrapLongitude:!1,positionFormat:"XYZ",colorFormat:"RGBA",parameters:{type:"object",value:{},optional:!0,compare:2},loadOptions:{type:"object",value:null,optional:!0,ignore:!0},transitions:null,extensions:[],loaders:{type:"array",value:[],optional:!0,ignore:!0},getPolygonOffset:{type:"function",value:({layerIndex:t})=>[0,-t*100]},highlightedObjectIndex:null,autoHighlight:!1,highlightColor:{type:"accessor",value:[0,0,128,128]}};class Rm extends dv{constructor(){super(...arguments),this.internalState=null,this.lifecycle=Ff.NO_STATE,this.parent=null}static get componentName(){return Object.prototype.hasOwnProperty.call(this,"layerName")?this.layerName:""}get root(){let e=this;for(;e.parent;)e=e.parent;return e}toString(){return`${this.constructor.layerName||this.constructor.name}({id: '${this.props.id}'})`}project(e){ds(this.internalState);const n=this.internalState.viewport||this.context.viewport,r=qF(e,{viewport:n,modelMatrix:this.props.modelMatrix,coordinateOrigin:this.props.coordinateOrigin,coordinateSystem:this.props.coordinateSystem}),[s,o,l]=LF(r,n.pixelProjectionMatrix);return e.length===2?[s,o]:[s,o,l]}unproject(e){return ds(this.internalState),(this.internalState.viewport||this.context.viewport).unproject(e)}projectPosition(e,n){ds(this.internalState);const r=this.internalState.viewport||this.context.viewport;return kre(e,{viewport:r,modelMatrix:this.props.modelMatrix,coordinateOrigin:this.props.coordinateOrigin,coordinateSystem:this.props.coordinateSystem,...n})}get isComposite(){return!1}get isDrawable(){return!0}setState(e){this.setChangeFlags({stateChanged:!0}),Object.assign(this.state,e),this.setNeedsRedraw()}setNeedsRedraw(){this.internalState&&(this.internalState.needsRedraw=!0)}setNeedsUpdate(){this.internalState&&(this.context.layerManager.setNeedsUpdate(String(this)),this.internalState.needsUpdate=!0)}get isLoaded(){return this.internalState?!this.internalState.isAsyncPropLoading():!1}get wrapLongitude(){return this.props.wrapLongitude}isPickable(){return this.props.pickable&&this.props.visible}getModels(){const e=this.state;return e&&(e.models||e.model&&[e.model])||[]}setShaderModuleProps(...e){for(const n of this.getModels())n.shaderInputs.setProps(...e)}getAttributeManager(){return this.internalState&&this.internalState.attributeManager}getCurrentLayer(){return this.internalState&&this.internalState.layer}getLoadOptions(){return this.props.loadOptions}use64bitPositions(){const{coordinateSystem:e}=this.props;return e===An.DEFAULT||e===An.LNGLAT||e===An.CARTESIAN}onHover(e,n){return this.props.onHover&&this.props.onHover(e,n)||!1}onClick(e,n){return this.props.onClick&&this.props.onClick(e,n)||!1}nullPickingColor(){return[0,0,0]}encodePickingColor(e,n=[]){return n[0]=e+1&255,n[1]=e+1>>8&255,n[2]=e+1>>8>>8&255,n}decodePickingColor(e){ds(e instanceof Uint8Array);const[n,r,s]=e;return n+r*256+s*65536-1}getNumInstances(){return Number.isFinite(this.props.numInstances)?this.props.numInstances:this.state&&this.state.numInstances!==void 0?this.state.numInstances:Rae(this.props.data)}getStartIndices(){return this.props.startIndices?this.props.startIndices:this.state&&this.state.startIndices?this.state.startIndices:null}getBounds(){var e;return(e=this.getAttributeManager())==null?void 0:e.getBounds(["positions","instancePositions"])}getShaders(e){e=iM(e,{disableWarnings:!0,modules:this.context.defaultShaderModules});for(const n of this.props.extensions)e=iM(e,n.getShaders.call(this,n));return e}shouldUpdateState(e){return e.changeFlags.propsOrDataChanged}updateState(e){const n=this.getAttributeManager(),{dataChanged:r}=e.changeFlags;if(r&&n)if(Array.isArray(r))for(const s of r)n.invalidateAll(s);else n.invalidateAll();if(n){const{props:s}=e,o=this.internalState.hasPickingBuffer,l=Number.isInteger(s.highlightedObjectIndex)||s.pickable||s.extensions.some(c=>c.getNeedsPickingBuffer.call(this,c));if(o!==l){this.internalState.hasPickingBuffer=l;const{pickingColors:c,instancePickingColors:f}=n.attributes,h=c||f;h&&(l&&h.constant&&(h.constant=!1,n.invalidate(h.id)),!h.value&&!l&&(h.constant=!0,h.value=[0,0,0]))}}}finalizeState(e){for(const r of this.getModels())r.destroy();const n=this.getAttributeManager();n&&n.finalize(),this.context&&this.context.resourceManager.unsubscribe({consumerId:this.id}),this.internalState&&(this.internalState.uniformTransitions.clear(),this.internalState.finalize())}draw(e){for(const n of this.getModels())n.draw(e.renderPass)}getPickingInfo({info:e,mode:n,sourceLayer:r}){const{index:s}=e;return s>=0&&Array.isArray(this.props.data)&&(e.object=this.props.data[s]),e}raiseError(e,n){var r,s,o,l;n&&(e=new Error(`${n}: ${e.message}`,{cause:e})),(s=(r=this.props).onError)!=null&&s.call(r,e)||(l=(o=this.context)==null?void 0:o.onError)==null||l.call(o,e,this)}getNeedsRedraw(e={clearRedrawFlags:!1}){return this._getNeedsRedraw(e)}needsUpdate(){return this.internalState?this.internalState.needsUpdate||this.hasUniformTransition()||this.shouldUpdateState(this._getUpdateParams()):!1}hasUniformTransition(){var e;return((e=this.internalState)==null?void 0:e.uniformTransitions.active)||!1}activateViewport(e){if(!this.internalState)return;const n=this.internalState.viewport;this.internalState.viewport=e,(!n||!nle({oldViewport:n,viewport:e}))&&(this.setChangeFlags({viewportChanged:!0}),this.isComposite?this.needsUpdate()&&this.setNeedsUpdate():this._update())}invalidateAttribute(e="all"){const n=this.getAttributeManager();n&&(e==="all"?n.invalidateAll():n.invalidate(e))}updateAttributes(e){let n=!1;for(const r in e)e[r].layoutChanged()&&(n=!0);for(const r of this.getModels())this._setModelAttributes(r,e,n)}_updateAttributes(){const e=this.getAttributeManager();if(!e)return;const n=this.props,r=this.getNumInstances(),s=this.getStartIndices();e.update({data:n.data,numInstances:r,startIndices:s,props:n,transitions:n.transitions,buffers:n.data.attributes,context:this});const o=e.getChangedAttributes({clearChangedFlags:!0});this.updateAttributes(o)}_updateAttributeTransition(){const e=this.getAttributeManager();e&&e.updateTransition()}_updateUniformTransition(){const{uniformTransitions:e}=this.internalState;if(e.active){const n=e.update(),r=Object.create(this.props);for(const s in n)Object.defineProperty(r,s,{value:n[s]});return r}return this.props}calculateInstancePickingColors(e,{numInstances:n}){if(e.constant)return;const r=Math.floor(Hi.length/4);if(this.internalState.usesPickingColorCache=!0,r<n){n>oM&&Hn.warn("Layer has too many data objects. Picking might not be able to distinguish all objects.")(),Hi=sm.allocate(Hi,n,{size:4,copy:!0,maxCount:Math.max(n,oM)});const s=Math.floor(Hi.length/4),o=[0,0,0];for(let l=r;l<s;l++)this.encodePickingColor(l,o),Hi[l*4+0]=o[0],Hi[l*4+1]=o[1],Hi[l*4+2]=o[2],Hi[l*4+3]=0}e.value=Hi.subarray(0,n*4)}_setModelAttributes(e,n,r=!1){var c;if(!Object.keys(n).length)return;if(r){const f=this.getAttributeManager();e.setBufferLayout(f.getBufferLayouts(e)),n=f.getAttributes()}const s=((c=e.userData)==null?void 0:c.excludeAttributes)||{},o={},l={};for(const f in n){if(s[f])continue;const h=n[f].getValue();for(const p in h){const m=h[p];m instanceof ir?n[f].settings.isIndexed?e.setIndexBuffer(m):o[p]=m:m&&(l[p]=m)}}e.setAttributes(o),e.setConstantAttributes(l)}disablePickingIndex(e){const n=this.props.data;if(!("attributes"in n)){this._disablePickingIndex(e);return}const{pickingColors:r,instancePickingColors:s}=this.getAttributeManager().attributes,o=r||s,l=o&&n.attributes&&n.attributes[o.id];if(l&&l.value){const c=l.value,f=this.encodePickingColor(e);for(let h=0;h<n.length;h++){const p=o.getVertexOffset(h);c[p]===f[0]&&c[p+1]===f[1]&&c[p+2]===f[2]&&this._disablePickingIndex(h)}}else this._disablePickingIndex(e)}_disablePickingIndex(e){const{pickingColors:n,instancePickingColors:r}=this.getAttributeManager().attributes,s=n||r;if(!s)return;const o=s.getVertexOffset(e),l=s.getVertexOffset(e+1);s.buffer.write(new Uint8Array(l-o),o)}restorePickingColors(){const{pickingColors:e,instancePickingColors:n}=this.getAttributeManager().attributes,r=e||n;r&&(this.internalState.usesPickingColorCache&&r.value.buffer!==Hi.buffer&&(r.value=Hi.subarray(0,r.value.length)),r.updateSubBuffer({startOffset:0}))}_initialize(){ds(!this.internalState),ds(Number.isFinite(this.props.coordinateSystem)),Rs(Qae,this);const e=this._getAttributeManager();e&&e.addInstanced({instancePickingColors:{type:"uint8",size:4,noAlloc:!0,update:this.calculateInstancePickingColors}}),this.internalState=new Kae({attributeManager:e,layer:this}),this._clearChangeFlags(),this.state={},Object.defineProperty(this.state,"attributeManager",{get:()=>(Hn.deprecated("layer.state.attributeManager","layer.getAttributeManager()")(),e)}),this.internalState.uniformTransitions=new vae(this.context.timeline),this.internalState.onAsyncPropUpdated=this._onAsyncPropUpdated.bind(this),this.internalState.setAsyncProps(this.props),this.initializeState(this.context);for(const n of this.props.extensions)n.initializeState.call(this,this.context,n);this.setChangeFlags({dataChanged:"init",propsChanged:"init",viewportChanged:!0,extensionsChanged:!0}),this._update()}_transferState(e){Rs(ele,this,this===e);const{state:n,internalState:r}=e;this!==e&&(this.internalState=r,this.state=n,this.internalState.setAsyncProps(this.props),this._diffProps(this.props,this.internalState.getOldProps()))}_update(){const e=this.needsUpdate();if(Rs(Gae,this,e),!e)return;const n=this.props,r=this.context,s=this.internalState,o=r.viewport,l=this._updateUniformTransition();s.propsInTransition=l,r.viewport=s.viewport||o,this.props=l;try{const c=this._getUpdateParams(),f=this.getModels();if(r.device)this.updateState(c);else try{this.updateState(c)}catch{}for(const p of this.props.extensions)p.updateState.call(this,c,p);this.setNeedsRedraw(),this._updateAttributes();const h=this.getModels()[0]!==f[0];this._postUpdate(c,h)}finally{r.viewport=o,this.props=n,this._clearChangeFlags(),s.needsUpdate=!1,s.resetOldProps()}}_finalize(){Rs(Jae,this),this.finalizeState(this.context);for(const e of this.props.extensions)e.finalizeState.call(this,this.context,e)}_drawLayer({renderPass:e,shaderModuleProps:n=null,uniforms:r={},parameters:s={}}){this._updateAttributeTransition();const o=this.props,l=this.context;this.props=this.internalState.propsInTransition||o;try{n&&this.setShaderModuleProps(n);const{getPolygonOffset:c}=this.props,f=c&&c(r)||[0,0];l.device instanceof Yf&&l.device.setParametersWebGL({polygonOffset:f});for(const h of this.getModels())h.device.type==="webgpu"?h.setParameters({...h.parameters,...s}):h.setParameters(s);if(l.device instanceof Yf)l.device.withParametersWebGL(s,()=>{const h={renderPass:e,shaderModuleProps:n,uniforms:r,parameters:s,context:l};for(const p of this.props.extensions)p.draw.call(this,h,p);this.draw(h)});else{const h={renderPass:e,shaderModuleProps:n,uniforms:r,parameters:s,context:l};for(const p of this.props.extensions)p.draw.call(this,h,p);this.draw(h)}}finally{this.props=o}}getChangeFlags(){var e;return(e=this.internalState)==null?void 0:e.changeFlags}setChangeFlags(e){if(!this.internalState)return;const{changeFlags:n}=this.internalState;for(const s in e)if(e[s]){let o=!1;switch(s){case"dataChanged":const l=e[s],c=n[s];l&&Array.isArray(c)&&(n.dataChanged=Array.isArray(l)?c.concat(l):l,o=!0);default:n[s]||(n[s]=e[s],o=!0)}o&&Rs(Zae,this,s,e)}const r=!!(n.dataChanged||n.updateTriggersChanged||n.propsChanged||n.extensionsChanged);n.propsOrDataChanged=r,n.somethingChanged=r||n.viewportChanged||n.stateChanged}_clearChangeFlags(){this.internalState.changeFlags={dataChanged:!1,propsChanged:!1,updateTriggersChanged:!1,viewportChanged:!1,stateChanged:!1,extensionsChanged:!1,propsOrDataChanged:!1,somethingChanged:!1}}_diffProps(e,n){var s;const r=_ae(e,n);if(r.updateTriggersChanged)for(const o in r.updateTriggersChanged)r.updateTriggersChanged[o]&&this.invalidateAttribute(o);if(r.transitionsChanged)for(const o in r.transitionsChanged)this.internalState.uniformTransitions.add(o,n[o],e[o],(s=e.transitions)==null?void 0:s[o]);return this.setChangeFlags(r)}validateProps(){wae(this.props)}updateAutoHighlight(e){this.props.autoHighlight&&!Number.isInteger(this.props.highlightedObjectIndex)&&this._updateAutoHighlight(e)}_updateAutoHighlight(e){const n={highlightedObjectColor:e.picked?e.color:null},{highlightColor:r}=this.props;e.picked&&typeof r=="function"&&(n.highlightColor=r(e)),this.setShaderModuleProps({picking:n}),this.setNeedsRedraw()}_getAttributeManager(){const e=this.context;return new mae(e.device,{id:this.props.id,stats:e.stats,timeline:e.timeline})}_postUpdate(e,n){const{props:r,oldProps:s}=e,o=this.state.model;o!=null&&o.isInstanced&&o.setInstanceCount(this.getNumInstances());const{autoHighlight:l,highlightedObjectIndex:c,highlightColor:f}=r;if(n||s.autoHighlight!==l||s.highlightedObjectIndex!==c||s.highlightColor!==f){const h={};Array.isArray(f)&&(h.highlightColor=f),(n||s.autoHighlight!==l||c!==s.highlightedObjectIndex)&&(h.highlightedObjectColor=Number.isFinite(c)&&c>=0?this.encodePickingColor(c):null),this.setShaderModuleProps({picking:h})}}_getUpdateParams(){return{props:this.props,oldProps:this.internalState.getOldProps(),context:this.context,changeFlags:this.internalState.changeFlags}}_getNeedsRedraw(e){if(!this.internalState)return!1;let n=!1;n=n||this.internalState.needsRedraw&&this.id;const r=this.getAttributeManager(),s=r?r.getNeedsRedraw(e):!1;if(n=n||s,n)for(const o of this.props.extensions)o.onNeedsRedraw.call(this,o);return this.internalState.needsRedraw=this.internalState.needsRedraw&&!e.clearRedrawFlags,n}_onAsyncPropUpdated(){this._diffProps(this.props,this.internalState.getOldProps()),this.setNeedsUpdate()}}Rm.defaultProps=rle;Rm.layerName="Layer";const sle=typeof window<"u"?k.useLayoutEffect:k.useEffect;function by(t,e){for(;t;){if(t===e)return!0;t=Object.getPrototypeOf(t)}return!1}const ile={position:"absolute",zIndex:-1};function k6(t,e){if(typeof t=="function")return t(e);if(Array.isArray(t))return t.map(n=>k6(n,e));if(hv(t)){if(ole(t))return e.style=ile,k.cloneElement(t,e);if(ale(t))return k.cloneElement(t,e)}return t}function hv(t){return t&&typeof t=="object"&&"type"in t||!1}function ole(t){var e;return(e=t.props)==null?void 0:e.mapStyle}function ale(t){const e=t.type;return e&&e.deckGLViewProps}function XS(t){if(typeof t=="function")return k.createElement(Td,{},t);if(Array.isArray(t))return t.map(XS);if(hv(t)){if(t.type===k.Fragment)return XS(t.props.children);if(by(t.type,Td))return t}return t}function lle({children:t,layers:e=[],views:n=null}){const r=[],s=[],o={};return k.Children.forEach(XS(t),l=>{if(hv(l)){const c=l.type;if(by(c,Rm)){const f=cle(c,l.props);s.push(f)}else r.push(l);if(by(c,Td)&&c!==Td&&l.props.id){const f=new c(l.props);o[f.id]=f}}else l&&r.push(l)}),Object.keys(o).length>0&&(Array.isArray(n)?n.forEach(l=>{o[l.id]=l}):n&&(o[n.id]=n),n=Object.values(o)),e=s.length>0?[...s,...e]:e,{layers:e,children:r,views:n}}function cle(t,e){const n={},r=t.defaultProps||{};for(const s in e)r[s]!==e[s]&&(n[s]=e[s]);return new t(n)}const ule=k.createContext();function fle({children:t,deck:e,ContextProvider:n=ule.Provider}){const{viewManager:r}=e||{};if(!r||!r.views.length)return[];const s={},o=r.views[0].id;for(const l of t){let c=o,f=l;hv(l)&&by(l.type,Td)&&(c=l.props.id||o,f=l.props.children);const h=r.getViewport(c),p=r.getViewState(c);if(h){p.padding=h.padding;const{x:m,y:x,width:w,height:E}=h;f=k6(f,{x:m,y:x,width:w,height:E,viewport:h,viewState:p}),s[c]||(s[c]={viewport:h,children:[]}),s[c].children.push(f)}}return Object.keys(s).map(l=>{const{viewport:c,children:f}=s[l],{x:h,y:p,width:m,height:x}=c,w={position:"absolute",left:h,top:p,width:m,height:x},E=`view-${l}`,T=k.createElement("div",{key:E,id:E,style:w},...f),C={deck:e,viewport:c,container:e.canvas.offsetParent,eventManager:e.eventManager,onViewStateChange:j=>{j.viewId=l,e._onViewStateChange(j)},widgets:[]},P=`view-${l}-context`;return k.createElement(n,{key:P,value:C},T)})}const dle={mixBlendMode:null};function hle({width:t,height:e,style:n}){const r={position:"absolute",zIndex:0,left:0,top:0,width:t,height:e},s={left:0,top:0};if(n)for(const o in n)o in dle?s[o]=n[o]:r[o]=n[o];return{containerStyle:r,canvasStyle:s}}function ple(t){return{get deck(){return t.deck},pickObject:e=>t.deck.pickObject(e),pickMultipleObjects:e=>t.deck.pickMultipleObjects(e),pickObjects:e=>t.deck.pickObjects(e)}}function D6(t){t.redrawReason&&(t.deck._drawLayers(t.redrawReason),t.redrawReason=null)}function mle(t,e,n){var s,o,l;const r=new e({...n,_customRender:((l=(o=(s=n.deviceProps)==null?void 0:s.adapters)==null?void 0:o[0])==null?void 0:l.type)==="webgpu"?void 0:c=>{t.redrawReason=c;const f=r.getViewports();t.lastRenderedViewports!==f?t.forceUpdate():D6(t)}});return r}function gle(t,e){const[n,r]=k.useState(0),o=k.useRef({control:null,version:n,forceUpdate:()=>r(L=>L+1)}).current,l=k.useRef(null),c=k.useRef(null),f=k.useMemo(()=>lle(t),[t.layers,t.views,t.children]);let h=!0;const p=L=>{var O;return h&&t.viewState?(o.viewStateUpdateRequested=L,null):(o.viewStateUpdateRequested=null,(O=t.onViewStateChange)==null?void 0:O.call(t,L))},m=L=>{var O;h?o.interactionStateUpdateRequested=L:(o.interactionStateUpdateRequested=null,(O=t.onInteractionStateChange)==null||O.call(t,L))},x=k.useMemo(()=>{const L={widgets:[],...t,style:null,width:"100%",height:"100%",parent:l.current,canvas:c.current,layers:f.layers,views:f.views,onViewStateChange:p,onInteractionStateChange:m};return delete L._customRender,o.deck&&o.deck.setProps(L),L},[t]);k.useEffect(()=>{const L=t.Deck||NT;return o.deck=mle(o,L,{...x,parent:l.current,canvas:c.current}),()=>{var O;return(O=o.deck)==null?void 0:O.finalize()}},[]),sle(()=>{D6(o);const{viewStateUpdateRequested:L,interactionStateUpdateRequested:O}=o;L&&p(L),O&&m(O)}),k.useImperativeHandle(e,()=>ple(o),[]);const w=o.deck&&o.deck.isInitialized?o.deck.getViewports():void 0,{ContextProvider:E,width:T="100%",height:C="100%",id:P,style:j}=t,{containerStyle:D,canvasStyle:U}=k.useMemo(()=>hle({width:T,height:C,style:j}),[T,C,j]);if(!o.viewStateUpdateRequested&&o.lastRenderedViewports===w||o.version!==n){o.lastRenderedViewports=w,o.version=n;const L=fle({children:f.children,deck:o.deck,ContextProvider:E}),O=k.createElement("canvas",{key:"canvas",id:P||"deckgl-overlay",ref:c,style:U});o.control=k.createElement("div",{id:`${P||"deckgl"}-wrapper`,ref:l,style:D},[O,L])}return h=!1,o.control}const aM=k.forwardRef(gle),lM=`uniform arcUniforms {
  bool greatCircle;
  bool useShortestPath;
  float numSegments;
  float widthScale;
  float widthMinPixels;
  float widthMaxPixels;
  highp int widthUnits;
} arc;
`,ble={name:"arc",vs:lM,fs:lM,uniformTypes:{greatCircle:"f32",useShortestPath:"f32",numSegments:"f32",widthScale:"f32",widthMinPixels:"f32",widthMaxPixels:"f32",widthUnits:"i32"}},xle=`#version 300 es
#define SHADER_NAME arc-layer-vertex-shader
in vec4 instanceSourceColors;
in vec4 instanceTargetColors;
in vec3 instanceSourcePositions;
in vec3 instanceSourcePositions64Low;
in vec3 instanceTargetPositions;
in vec3 instanceTargetPositions64Low;
in vec3 instancePickingColors;
in float instanceWidths;
in float instanceHeights;
in float instanceTilts;
out vec4 vColor;
out vec2 uv;
out float isValid;
float paraboloid(float distance, float sourceZ, float targetZ, float ratio) {
float deltaZ = targetZ - sourceZ;
float dh = distance * instanceHeights;
if (dh == 0.0) {
return sourceZ + deltaZ * ratio;
}
float unitZ = deltaZ / dh;
float p2 = unitZ * unitZ + 1.0;
float dir = step(deltaZ, 0.0);
float z0 = mix(sourceZ, targetZ, dir);
float r = mix(ratio, 1.0 - ratio, dir);
return sqrt(r * (p2 - r)) * dh + z0;
}
vec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction, float width) {
vec2 dir_screenspace = normalize(line_clipspace * project.viewportSize);
dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);
return dir_screenspace * offset_direction * width / 2.0;
}
float getSegmentRatio(float index) {
return smoothstep(0.0, 1.0, index / (arc.numSegments - 1.0));
}
vec3 interpolateFlat(vec3 source, vec3 target, float segmentRatio) {
float distance = length(source.xy - target.xy);
float z = paraboloid(distance, source.z, target.z, segmentRatio);
float tiltAngle = radians(instanceTilts);
vec2 tiltDirection = normalize(target.xy - source.xy);
vec2 tilt = vec2(-tiltDirection.y, tiltDirection.x) * z * sin(tiltAngle);
return vec3(
mix(source.xy, target.xy, segmentRatio) + tilt,
z * cos(tiltAngle)
);
}
float getAngularDist (vec2 source, vec2 target) {
vec2 sourceRadians = radians(source);
vec2 targetRadians = radians(target);
vec2 sin_half_delta = sin((sourceRadians - targetRadians) / 2.0);
vec2 shd_sq = sin_half_delta * sin_half_delta;
float a = shd_sq.y + cos(sourceRadians.y) * cos(targetRadians.y) * shd_sq.x;
return 2.0 * asin(sqrt(a));
}
vec3 interpolateGreatCircle(vec3 source, vec3 target, vec3 source3D, vec3 target3D, float angularDist, float t) {
vec2 lngLat;
if(abs(angularDist - PI) < 0.001) {
lngLat = (1.0 - t) * source.xy + t * target.xy;
} else {
float a = sin((1.0 - t) * angularDist);
float b = sin(t * angularDist);
vec3 p = source3D.yxz * a + target3D.yxz * b;
lngLat = degrees(vec2(atan(p.y, -p.x), atan(p.z, length(p.xy))));
}
float z = paraboloid(angularDist * EARTH_RADIUS, source.z, target.z, t);
return vec3(lngLat, z);
}
void main(void) {
geometry.worldPosition = instanceSourcePositions;
geometry.worldPositionAlt = instanceTargetPositions;
float segmentIndex = float(gl_VertexID / 2);
float segmentSide = mod(float(gl_VertexID), 2.) == 0. ? -1. : 1.;
float segmentRatio = getSegmentRatio(segmentIndex);
float prevSegmentRatio = getSegmentRatio(max(0.0, segmentIndex - 1.0));
float nextSegmentRatio = getSegmentRatio(min(arc.numSegments - 1.0, segmentIndex + 1.0));
float indexDir = mix(-1.0, 1.0, step(segmentIndex, 0.0));
isValid = 1.0;
uv = vec2(segmentRatio, segmentSide);
geometry.uv = uv;
geometry.pickingColor = instancePickingColors;
vec4 curr;
vec4 next;
vec3 source;
vec3 target;
if ((arc.greatCircle || project.projectionMode == PROJECTION_MODE_GLOBE) && project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT) {
source = project_globe_(vec3(instanceSourcePositions.xy, 0.0));
target = project_globe_(vec3(instanceTargetPositions.xy, 0.0));
float angularDist = getAngularDist(instanceSourcePositions.xy, instanceTargetPositions.xy);
vec3 prevPos = interpolateGreatCircle(instanceSourcePositions, instanceTargetPositions, source, target, angularDist, prevSegmentRatio);
vec3 currPos = interpolateGreatCircle(instanceSourcePositions, instanceTargetPositions, source, target, angularDist, segmentRatio);
vec3 nextPos = interpolateGreatCircle(instanceSourcePositions, instanceTargetPositions, source, target, angularDist, nextSegmentRatio);
if (abs(currPos.x - prevPos.x) > 180.0) {
indexDir = -1.0;
isValid = 0.0;
} else if (abs(currPos.x - nextPos.x) > 180.0) {
indexDir = 1.0;
isValid = 0.0;
}
nextPos = indexDir < 0.0 ? prevPos : nextPos;
nextSegmentRatio = indexDir < 0.0 ? prevSegmentRatio : nextSegmentRatio;
if (isValid == 0.0) {
nextPos.x += nextPos.x > 0.0 ? -360.0 : 360.0;
float t = ((currPos.x > 0.0 ? 180.0 : -180.0) - currPos.x) / (nextPos.x - currPos.x);
currPos = mix(currPos, nextPos, t);
segmentRatio = mix(segmentRatio, nextSegmentRatio, t);
}
vec3 currPos64Low = mix(instanceSourcePositions64Low, instanceTargetPositions64Low, segmentRatio);
vec3 nextPos64Low = mix(instanceSourcePositions64Low, instanceTargetPositions64Low, nextSegmentRatio);
curr = project_position_to_clipspace(currPos, currPos64Low, vec3(0.0), geometry.position);
next = project_position_to_clipspace(nextPos, nextPos64Low, vec3(0.0));
} else {
vec3 source_world = instanceSourcePositions;
vec3 target_world = instanceTargetPositions;
if (arc.useShortestPath) {
source_world.x = mod(source_world.x + 180., 360.0) - 180.;
target_world.x = mod(target_world.x + 180., 360.0) - 180.;
float deltaLng = target_world.x - source_world.x;
if (deltaLng > 180.) target_world.x -= 360.;
if (deltaLng < -180.) source_world.x -= 360.;
}
source = project_position(source_world, instanceSourcePositions64Low);
target = project_position(target_world, instanceTargetPositions64Low);
float antiMeridianX = 0.0;
if (arc.useShortestPath) {
if (project.projectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET) {
antiMeridianX = -(project.coordinateOrigin.x + 180.) / 360. * TILE_SIZE;
}
float thresholdRatio = (antiMeridianX - source.x) / (target.x - source.x);
if (prevSegmentRatio <= thresholdRatio && nextSegmentRatio > thresholdRatio) {
isValid = 0.0;
indexDir = sign(segmentRatio - thresholdRatio);
segmentRatio = thresholdRatio;
}
}
nextSegmentRatio = indexDir < 0.0 ? prevSegmentRatio : nextSegmentRatio;
vec3 currPos = interpolateFlat(source, target, segmentRatio);
vec3 nextPos = interpolateFlat(source, target, nextSegmentRatio);
if (arc.useShortestPath) {
if (nextPos.x < antiMeridianX) {
currPos.x += TILE_SIZE;
nextPos.x += TILE_SIZE;
}
}
curr = project_common_position_to_clipspace(vec4(currPos, 1.0));
next = project_common_position_to_clipspace(vec4(nextPos, 1.0));
geometry.position = vec4(currPos, 1.0);
}
float widthPixels = clamp(
project_size_to_pixel(instanceWidths * arc.widthScale, arc.widthUnits),
arc.widthMinPixels, arc.widthMaxPixels
);
vec3 offset = vec3(
getExtrusionOffset((next.xy - curr.xy) * indexDir, segmentSide, widthPixels),
0.0);
DECKGL_FILTER_SIZE(offset, geometry);
DECKGL_FILTER_GL_POSITION(curr, geometry);
gl_Position = curr + vec4(project_pixel_size_to_clipspace(offset.xy), 0.0, 0.0);
vec4 color = mix(instanceSourceColors, instanceTargetColors, segmentRatio);
vColor = vec4(color.rgb, color.a * layer.opacity);
DECKGL_FILTER_COLOR(vColor, geometry);
}
`,yle=`#version 300 es
#define SHADER_NAME arc-layer-fragment-shader
precision highp float;
in vec4 vColor;
in vec2 uv;
in float isValid;
out vec4 fragColor;
void main(void) {
if (isValid == 0.0) {
discard;
}
fragColor = vColor;
geometry.uv = uv;
DECKGL_FILTER_COLOR(fragColor, geometry);
}
`,xy=[0,0,0,255],vle={getSourcePosition:{type:"accessor",value:t=>t.sourcePosition},getTargetPosition:{type:"accessor",value:t=>t.targetPosition},getSourceColor:{type:"accessor",value:xy},getTargetColor:{type:"accessor",value:xy},getWidth:{type:"accessor",value:1},getHeight:{type:"accessor",value:1},getTilt:{type:"accessor",value:0},greatCircle:!1,numSegments:{type:"number",value:50,min:1},widthUnits:"pixels",widthScale:{type:"number",value:1,min:0},widthMinPixels:{type:"number",value:0,min:0},widthMaxPixels:{type:"number",value:Number.MAX_SAFE_INTEGER,min:0}};class ET extends Rm{getBounds(){var e;return(e=this.getAttributeManager())==null?void 0:e.getBounds(["instanceSourcePositions","instanceTargetPositions"])}getShaders(){return super.getShaders({vs:xle,fs:yle,modules:[UF,$F,ble]})}get wrapLongitude(){return!1}initializeState(){this.getAttributeManager().addInstanced({instanceSourcePositions:{size:3,type:"float64",fp64:this.use64bitPositions(),transition:!0,accessor:"getSourcePosition"},instanceTargetPositions:{size:3,type:"float64",fp64:this.use64bitPositions(),transition:!0,accessor:"getTargetPosition"},instanceSourceColors:{size:this.props.colorFormat.length,type:"unorm8",transition:!0,accessor:"getSourceColor",defaultValue:xy},instanceTargetColors:{size:this.props.colorFormat.length,type:"unorm8",transition:!0,accessor:"getTargetColor",defaultValue:xy},instanceWidths:{size:1,transition:!0,accessor:"getWidth",defaultValue:1},instanceHeights:{size:1,transition:!0,accessor:"getHeight",defaultValue:1},instanceTilts:{size:1,transition:!0,accessor:"getTilt",defaultValue:0}})}updateState(e){var n;super.updateState(e),e.changeFlags.extensionsChanged&&((n=this.state.model)==null||n.destroy(),this.state.model=this._getModel(),this.getAttributeManager().invalidateAll())}draw({uniforms:e}){const{widthUnits:n,widthScale:r,widthMinPixels:s,widthMaxPixels:o,greatCircle:l,wrapLongitude:c,numSegments:f}=this.props,h={numSegments:f,widthUnits:pu[n],widthScale:r,widthMinPixels:s,widthMaxPixels:o,greatCircle:l,useShortestPath:c},p=this.state.model;p.shaderInputs.setProps({arc:h}),p.setVertexCount(f*2),p.draw(this.context.renderPass)}_getModel(){return new Ed(this.context.device,{...this.getShaders(),id:this.props.id,bufferLayout:this.getAttributeManager().getBufferLayouts(),topology:"triangle-strip",isInstanced:!0})}}ET.layerName="ArcLayer";ET.defaultProps=vle;const cM=`uniform scatterplotUniforms {
  float radiusScale;
  float radiusMinPixels;
  float radiusMaxPixels;
  float lineWidthScale;
  float lineWidthMinPixels;
  float lineWidthMaxPixels;
  float stroked;
  float filled;
  bool antialiasing;
  bool billboard;
  highp int radiusUnits;
  highp int lineWidthUnits;
} scatterplot;
`,wle={name:"scatterplot",vs:cM,fs:cM,source:"",uniformTypes:{radiusScale:"f32",radiusMinPixels:"f32",radiusMaxPixels:"f32",lineWidthScale:"f32",lineWidthMinPixels:"f32",lineWidthMaxPixels:"f32",stroked:"f32",filled:"f32",antialiasing:"f32",billboard:"f32",radiusUnits:"i32",lineWidthUnits:"i32"}},_le=`#version 300 es
#define SHADER_NAME scatterplot-layer-vertex-shader
in vec3 positions;
in vec3 instancePositions;
in vec3 instancePositions64Low;
in float instanceRadius;
in float instanceLineWidths;
in vec4 instanceFillColors;
in vec4 instanceLineColors;
in vec3 instancePickingColors;
out vec4 vFillColor;
out vec4 vLineColor;
out vec2 unitPosition;
out float innerUnitRadius;
out float outerRadiusPixels;
void main(void) {
geometry.worldPosition = instancePositions;
outerRadiusPixels = clamp(
project_size_to_pixel(scatterplot.radiusScale * instanceRadius, scatterplot.radiusUnits),
scatterplot.radiusMinPixels, scatterplot.radiusMaxPixels
);
float lineWidthPixels = clamp(
project_size_to_pixel(scatterplot.lineWidthScale * instanceLineWidths, scatterplot.lineWidthUnits),
scatterplot.lineWidthMinPixels, scatterplot.lineWidthMaxPixels
);
outerRadiusPixels += scatterplot.stroked * lineWidthPixels / 2.0;
float edgePadding = scatterplot.antialiasing ? (outerRadiusPixels + SMOOTH_EDGE_RADIUS) / outerRadiusPixels : 1.0;
unitPosition = edgePadding * positions.xy;
geometry.uv = unitPosition;
geometry.pickingColor = instancePickingColors;
innerUnitRadius = 1.0 - scatterplot.stroked * lineWidthPixels / outerRadiusPixels;
if (scatterplot.billboard) {
gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.0), geometry.position);
DECKGL_FILTER_GL_POSITION(gl_Position, geometry);
vec3 offset = edgePadding * positions * outerRadiusPixels;
DECKGL_FILTER_SIZE(offset, geometry);
gl_Position.xy += project_pixel_size_to_clipspace(offset.xy);
} else {
vec3 offset = edgePadding * positions * project_pixel_size(outerRadiusPixels);
DECKGL_FILTER_SIZE(offset, geometry);
gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, offset, geometry.position);
DECKGL_FILTER_GL_POSITION(gl_Position, geometry);
}
vFillColor = vec4(instanceFillColors.rgb, instanceFillColors.a * layer.opacity);
DECKGL_FILTER_COLOR(vFillColor, geometry);
vLineColor = vec4(instanceLineColors.rgb, instanceLineColors.a * layer.opacity);
DECKGL_FILTER_COLOR(vLineColor, geometry);
}
`,Nle=`#version 300 es
#define SHADER_NAME scatterplot-layer-fragment-shader
precision highp float;
in vec4 vFillColor;
in vec4 vLineColor;
in vec2 unitPosition;
in float innerUnitRadius;
in float outerRadiusPixels;
out vec4 fragColor;
void main(void) {
geometry.uv = unitPosition;
float distToCenter = length(unitPosition) * outerRadiusPixels;
float inCircle = scatterplot.antialiasing ?
smoothedge(distToCenter, outerRadiusPixels) :
step(distToCenter, outerRadiusPixels);
if (inCircle == 0.0) {
discard;
}
if (scatterplot.stroked > 0.5) {
float isLine = scatterplot.antialiasing ?
smoothedge(innerUnitRadius * outerRadiusPixels, distToCenter) :
step(innerUnitRadius * outerRadiusPixels, distToCenter);
if (scatterplot.filled > 0.5) {
fragColor = mix(vFillColor, vLineColor, isLine);
} else {
if (isLine == 0.0) {
discard;
}
fragColor = vec4(vLineColor.rgb, vLineColor.a * isLine);
}
} else if (scatterplot.filled < 0.5) {
discard;
} else {
fragColor = vFillColor;
}
fragColor.a *= inCircle;
DECKGL_FILTER_COLOR(fragColor, geometry);
}
`,Sle=`// TODO(ibgreen): Hack for Layer uniforms (move to new "color" module?)

struct LayerUniforms {
  opacity: f32,
};

var<private> layer: LayerUniforms = LayerUniforms(1.0);
// @group(0) @binding(1) var<uniform> layer: LayerUniforms;

// Main shaders

struct ScatterplotUniforms {
  radiusScale: f32,
  radiusMinPixels: f32,
  radiusMaxPixels: f32,
  lineWidthScale: f32,
  lineWidthMinPixels: f32,
  lineWidthMaxPixels: f32,
  stroked: f32,
  filled: i32,
  antialiasing: i32,
  billboard: i32,
  radiusUnits: i32,
  lineWidthUnits: i32,
};

struct ConstantAttributeUniforms {
 instancePositions: vec3<f32>,
 instancePositions64Low: vec3<f32>,
 instanceRadius: f32,
 instanceLineWidths: f32,
 instanceFillColors: vec4<f32>,
 instanceLineColors: vec4<f32>,
 instancePickingColors: vec3<f32>,

 instancePositionsConstant: i32,
 instancePositions64LowConstant: i32,
 instanceRadiusConstant: i32,
 instanceLineWidthsConstant: i32,
 instanceFillColorsConstant: i32,
 instanceLineColorsConstant: i32,
 instancePickingColorsConstant: i32
};

@group(0) @binding(2) var<uniform> scatterplot: ScatterplotUniforms;

struct ConstantAttributes {
  instancePositions: vec3<f32>,
  instancePositions64Low: vec3<f32>,
  instanceRadius: f32,
  instanceLineWidths: f32,
  instanceFillColors: vec4<f32>,
  instanceLineColors: vec4<f32>,
  instancePickingColors: vec3<f32>
};

const constants = ConstantAttributes(
  vec3<f32>(0.0),
  vec3<f32>(0.0),
  0.0,
  0.0,
  vec4<f32>(0.0, 0.0, 0.0, 1.0),
  vec4<f32>(0.0, 0.0, 0.0, 1.0),
  vec3<f32>(0.0)
);

struct Attributes {
  @builtin(instance_index) instanceIndex : u32,
  @builtin(vertex_index) vertexIndex : u32,
  @location(0) positions: vec3<f32>,
  @location(1) instancePositions: vec3<f32>,
  @location(2) instancePositions64Low: vec3<f32>,
  @location(3) instanceRadius: f32,
  @location(4) instanceLineWidths: f32,
  @location(5) instanceFillColors: vec4<f32>,
  @location(6) instanceLineColors: vec4<f32>,
  @location(7) instancePickingColors: vec3<f32>
};

struct Varyings {
  @builtin(position) position: vec4<f32>,
  @location(0) vFillColor: vec4<f32>,
  @location(1) vLineColor: vec4<f32>,
  @location(2) unitPosition: vec2<f32>,
  @location(3) innerUnitRadius: f32,
  @location(4) outerRadiusPixels: f32,
};

@vertex
fn vertexMain(attributes: Attributes) -> Varyings {
  var varyings: Varyings;

  // Draw an inline geometry constant array clip space triangle to verify that rendering works.
  // var positions = array<vec2<f32>, 3>(vec2(0.0, 0.5), vec2(-0.5, -0.5), vec2(0.5, -0.5));
  // if (attributes.instanceIndex == 0) {
  //   varyings.position = vec4<f32>(positions[attributes.vertexIndex], 0.0, 1.0);
  //   return varyings;
  // }

  // var geometry: Geometry;
  // geometry.worldPosition = instancePositions;

  // Multiply out radius and clamp to limits
  varyings.outerRadiusPixels = clamp(
    project_unit_size_to_pixel(scatterplot.radiusScale * attributes.instanceRadius, scatterplot.radiusUnits),
    scatterplot.radiusMinPixels, scatterplot.radiusMaxPixels
  );

  // Multiply out line width and clamp to limits
  let lineWidthPixels = clamp(
    project_unit_size_to_pixel(scatterplot.lineWidthScale * attributes.instanceLineWidths, scatterplot.lineWidthUnits),
    scatterplot.lineWidthMinPixels, scatterplot.lineWidthMaxPixels
  );

  // outer radius needs to offset by half stroke width
  varyings.outerRadiusPixels += scatterplot.stroked * lineWidthPixels / 2.0;
  // Expand geometry to accommodate edge smoothing
  let edgePadding = select(
    (varyings.outerRadiusPixels + SMOOTH_EDGE_RADIUS) / varyings.outerRadiusPixels,
    1.0,
    scatterplot.antialiasing != 0
  );

  // position on the containing square in [-1, 1] space
  varyings.unitPosition = edgePadding * attributes.positions.xy;
  geometry.uv = varyings.unitPosition;
  geometry.pickingColor = attributes.instancePickingColors;

  varyings.innerUnitRadius = 1.0 - scatterplot.stroked * lineWidthPixels / varyings.outerRadiusPixels;

  if (scatterplot.billboard != 0) {
    varyings.position = project_position_to_clipspace(attributes.instancePositions, attributes.instancePositions64Low, vec3<f32>(0.0)); // TODO , geometry.position);
    // DECKGL_FILTER_GL_POSITION(varyings.position, geometry);
    let offset = attributes.positions; // * edgePadding * varyings.outerRadiusPixels;
    // DECKGL_FILTER_SIZE(offset, geometry);
    let clipPixels = project_pixel_size_to_clipspace(offset.xy);
    varyings.position.x = clipPixels.x;
    varyings.position.y = clipPixels.y;
  } else {
    let offset = edgePadding * attributes.positions * project_pixel_size_float(varyings.outerRadiusPixels);
    // DECKGL_FILTER_SIZE(offset, geometry);
    varyings.position = project_position_to_clipspace(attributes.instancePositions, attributes.instancePositions64Low, offset); // TODO , geometry.position);
    // DECKGL_FILTER_GL_POSITION(varyings.position, geometry);
  }

  // Apply opacity to instance color, or return instance picking color
  varyings.vFillColor = vec4<f32>(attributes.instanceFillColors.rgb, attributes.instanceFillColors.a * layer.opacity);
  // DECKGL_FILTER_COLOR(varyings.vFillColor, geometry);
  varyings.vLineColor = vec4<f32>(attributes.instanceLineColors.rgb, attributes.instanceLineColors.a * layer.opacity);
  // DECKGL_FILTER_COLOR(varyings.vLineColor, geometry);

  return varyings;
}

@fragment
fn fragmentMain(varyings: Varyings) -> @location(0) vec4<f32> {
  // var geometry: Geometry;
  // geometry.uv = unitPosition;

  let distToCenter = length(varyings.unitPosition) * varyings.outerRadiusPixels;
  let inCircle = select(
    smoothedge(distToCenter, varyings.outerRadiusPixels),
    step(distToCenter, varyings.outerRadiusPixels),
    scatterplot.antialiasing != 0
  );

  if (inCircle == 0.0) {
    // discard;
  }

  var fragColor: vec4<f32>;

  if (scatterplot.stroked != 0) {
    let isLine = select(
      smoothedge(varyings.innerUnitRadius * varyings.outerRadiusPixels, distToCenter),
      step(varyings.innerUnitRadius * varyings.outerRadiusPixels, distToCenter),
      scatterplot.antialiasing != 0
    );

    if (scatterplot.filled != 0) {
      fragColor = mix(varyings.vFillColor, varyings.vLineColor, isLine);
    } else {
      if (isLine == 0.0) {
        // discard;
      }
      fragColor = vec4<f32>(varyings.vLineColor.rgb, varyings.vLineColor.a * isLine);
    }
  } else if (scatterplot.filled == 0) {
    // discard;
  } else {
    fragColor = varyings.vFillColor;
  }

  fragColor.a *= inCircle;
  // DECKGL_FILTER_COLOR(fragColor, geometry);

  return fragColor;
  // return vec4<f32>(0, 0, 1, 1);
}
`,uM=[0,0,0,255],Ele={radiusUnits:"meters",radiusScale:{type:"number",min:0,value:1},radiusMinPixels:{type:"number",min:0,value:0},radiusMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},lineWidthUnits:"meters",lineWidthScale:{type:"number",min:0,value:1},lineWidthMinPixels:{type:"number",min:0,value:0},lineWidthMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},stroked:!1,filled:!0,billboard:!1,antialiasing:!0,getPosition:{type:"accessor",value:t=>t.position},getRadius:{type:"accessor",value:1},getFillColor:{type:"accessor",value:uM},getLineColor:{type:"accessor",value:uM},getLineWidth:{type:"accessor",value:1},strokeWidth:{deprecatedFor:"getLineWidth"},outline:{deprecatedFor:"stroked"},getColor:{deprecatedFor:["getFillColor","getLineColor"]}};class yy extends Rm{getShaders(){return super.getShaders({vs:_le,fs:Nle,source:Sle,modules:[UF,$F,wle]})}initializeState(){this.getAttributeManager().addInstanced({instancePositions:{size:3,type:"float64",fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceRadius:{size:1,transition:!0,accessor:"getRadius",defaultValue:1},instanceFillColors:{size:this.props.colorFormat.length,transition:!0,type:"unorm8",accessor:"getFillColor",defaultValue:[0,0,0,255]},instanceLineColors:{size:this.props.colorFormat.length,transition:!0,type:"unorm8",accessor:"getLineColor",defaultValue:[0,0,0,255]},instanceLineWidths:{size:1,transition:!0,accessor:"getLineWidth",defaultValue:1}})}updateState(e){var n;super.updateState(e),e.changeFlags.extensionsChanged&&((n=this.state.model)==null||n.destroy(),this.state.model=this._getModel(),this.getAttributeManager().invalidateAll())}draw({uniforms:e}){const{radiusUnits:n,radiusScale:r,radiusMinPixels:s,radiusMaxPixels:o,stroked:l,filled:c,billboard:f,antialiasing:h,lineWidthUnits:p,lineWidthScale:m,lineWidthMinPixels:x,lineWidthMaxPixels:w}=this.props,E={stroked:l,filled:c,billboard:f,antialiasing:h,radiusUnits:pu[n],radiusScale:r,radiusMinPixels:s,radiusMaxPixels:o,lineWidthUnits:pu[p],lineWidthScale:m,lineWidthMinPixels:x,lineWidthMaxPixels:w},T=this.state.model;T.shaderInputs.setProps({scatterplot:E}),T.draw(this.context.renderPass)}_getModel(){const e=[-1,-1,0,1,-1,0,-1,1,0,1,1,0];return new Ed(this.context.device,{...this.getShaders(),id:this.props.id,bufferLayout:this.getAttributeManager().getBufferLayouts(),geometry:new Gre({topology:"triangle-strip",attributes:{positions:{size:3,value:new Float32Array(e)}}}),isInstanced:!0})}}yy.defaultProps=Ele;yy.layerName="ScatterplotLayer";var ln={};const Tle=Object.prototype.toString;function om(t){const e=Tle.call(t);return e.endsWith("Array]")&&!e.includes("Big")}const Ale=Object.freeze(Object.defineProperty({__proto__:null,isAnyArray:om},Symbol.toStringTag,{value:"Module"})),Cle=wI(Ale);function Rle(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!om(t))throw new TypeError("input must be an array");if(t.length===0)throw new TypeError("input must not be empty");var n=e.fromIndex,r=n===void 0?0:n,s=e.toIndex,o=s===void 0?t.length:s;if(r<0||r>=t.length||!Number.isInteger(r))throw new Error("fromIndex must be a positive integer smaller than length");if(o<=r||o>t.length||!Number.isInteger(o))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var l=t[r],c=r+1;c<o;c++)t[c]>l&&(l=t[c]);return l}function kle(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!om(t))throw new TypeError("input must be an array");if(t.length===0)throw new TypeError("input must not be empty");var n=e.fromIndex,r=n===void 0?0:n,s=e.toIndex,o=s===void 0?t.length:s;if(r<0||r>=t.length||!Number.isInteger(r))throw new Error("fromIndex must be a positive integer smaller than length");if(o<=r||o>t.length||!Number.isInteger(o))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var l=t[r],c=r+1;c<o;c++)t[c]<l&&(l=t[c]);return l}function Dle(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(om(t)){if(t.length===0)throw new TypeError("input must not be empty")}else throw new TypeError("input must be an array");var n;if(e.output!==void 0){if(!om(e.output))throw new TypeError("output option must be an array if specified");n=e.output}else n=new Array(t.length);var r=kle(t),s=Rle(t);if(r===s)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var o=e.min,l=o===void 0?e.autoMinMax?r:0:o,c=e.max,f=c===void 0?e.autoMinMax?s:1:c;if(l>=f)throw new RangeError("min option must be smaller than max option");for(var h=(f-l)/(s-r),p=0;p<t.length;p++)n[p]=(t[p]-r)*h+l;return n}const Ple=Object.freeze(Object.defineProperty({__proto__:null,default:Dle},Symbol.toStringTag,{value:"Module"})),jle=wI(Ple);var fM;function Mle(){var $t,YS,At;if(fM)return ln;fM=1,Object.defineProperty(ln,"__esModule",{value:!0});var t=Cle,e=jle;const n=" ".repeat(2),r=" ".repeat(4);function s(){return o(this)}function o(F,S={}){const{maxRows:_=15,maxColumns:y=10,maxNumSize:N=8,padMinus:A="auto"}=S;return`${F.constructor.name} {
${n}[
${r}${l(F,_,y,N,A)}
${n}]
${n}rows: ${F.rows}
${n}columns: ${F.columns}
}`}function l(F,S,_,y,N){const{rows:A,columns:W}=F,X=Math.min(A,S),J=Math.min(W,_),te=[];if(N==="auto"){N=!1;e:for(let Re=0;Re<X;Re++)for(let ie=0;ie<J;ie++)if(F.get(Re,ie)<0){N=!0;break e}}for(let Re=0;Re<X;Re++){let ie=[];for(let ze=0;ze<J;ze++)ie.push(c(F.get(Re,ze),y,N));te.push(`${ie.join(" ")}`)}return J!==W&&(te[te.length-1]+=` ... ${W-_} more columns`),X!==A&&te.push(`... ${A-S} more rows`),te.join(`
${r}`)}function c(F,S,_){return(F>=0&&_?` ${f(F,S-1)}`:f(F,S)).padEnd(S)}function f(F,S){let _=F.toString();if(_.length<=S)return _;let y=F.toFixed(S);if(y.length>S&&(y=F.toFixed(Math.max(0,S-(y.length-S)))),y.length<=S&&!y.startsWith("0.000")&&!y.startsWith("-0.000"))return y;let N=F.toExponential(S);return N.length>S&&(N=F.toExponential(Math.max(0,S-(N.length-S)))),N.slice(0)}function h(F,S){F.prototype.add=function(y){return typeof y=="number"?this.addS(y):this.addM(y)},F.prototype.addS=function(y){for(let N=0;N<this.rows;N++)for(let A=0;A<this.columns;A++)this.set(N,A,this.get(N,A)+y);return this},F.prototype.addM=function(y){if(y=S.checkMatrix(y),this.rows!==y.rows||this.columns!==y.columns)throw new RangeError("Matrices dimensions must be equal");for(let N=0;N<this.rows;N++)for(let A=0;A<this.columns;A++)this.set(N,A,this.get(N,A)+y.get(N,A));return this},F.add=function(y,N){return new S(y).add(N)},F.prototype.sub=function(y){return typeof y=="number"?this.subS(y):this.subM(y)},F.prototype.subS=function(y){for(let N=0;N<this.rows;N++)for(let A=0;A<this.columns;A++)this.set(N,A,this.get(N,A)-y);return this},F.prototype.subM=function(y){if(y=S.checkMatrix(y),this.rows!==y.rows||this.columns!==y.columns)throw new RangeError("Matrices dimensions must be equal");for(let N=0;N<this.rows;N++)for(let A=0;A<this.columns;A++)this.set(N,A,this.get(N,A)-y.get(N,A));return this},F.sub=function(y,N){return new S(y).sub(N)},F.prototype.subtract=F.prototype.sub,F.prototype.subtractS=F.prototype.subS,F.prototype.subtractM=F.prototype.subM,F.subtract=F.sub,F.prototype.mul=function(y){return typeof y=="number"?this.mulS(y):this.mulM(y)},F.prototype.mulS=function(y){for(let N=0;N<this.rows;N++)for(let A=0;A<this.columns;A++)this.set(N,A,this.get(N,A)*y);return this},F.prototype.mulM=function(y){if(y=S.checkMatrix(y),this.rows!==y.rows||this.columns!==y.columns)throw new RangeError("Matrices dimensions must be equal");for(let N=0;N<this.rows;N++)for(let A=0;A<this.columns;A++)this.set(N,A,this.get(N,A)*y.get(N,A));return this},F.mul=function(y,N){return new S(y).mul(N)},F.prototype.multiply=F.prototype.mul,F.prototype.multiplyS=F.prototype.mulS,F.prototype.multiplyM=F.prototype.mulM,F.multiply=F.mul,F.prototype.div=function(y){return typeof y=="number"?this.divS(y):this.divM(y)},F.prototype.divS=function(y){for(let N=0;N<this.rows;N++)for(let A=0;A<this.columns;A++)this.set(N,A,this.get(N,A)/y);return this},F.prototype.divM=function(y){if(y=S.checkMatrix(y),this.rows!==y.rows||this.columns!==y.columns)throw new RangeError("Matrices dimensions must be equal");for(let N=0;N<this.rows;N++)for(let A=0;A<this.columns;A++)this.set(N,A,this.get(N,A)/y.get(N,A));return this},F.div=function(y,N){return new S(y).div(N)},F.prototype.divide=F.prototype.div,F.prototype.divideS=F.prototype.divS,F.prototype.divideM=F.prototype.divM,F.divide=F.div,F.prototype.mod=function(y){return typeof y=="number"?this.modS(y):this.modM(y)},F.prototype.modS=function(y){for(let N=0;N<this.rows;N++)for(let A=0;A<this.columns;A++)this.set(N,A,this.get(N,A)%y);return this},F.prototype.modM=function(y){if(y=S.checkMatrix(y),this.rows!==y.rows||this.columns!==y.columns)throw new RangeError("Matrices dimensions must be equal");for(let N=0;N<this.rows;N++)for(let A=0;A<this.columns;A++)this.set(N,A,this.get(N,A)%y.get(N,A));return this},F.mod=function(y,N){return new S(y).mod(N)},F.prototype.modulus=F.prototype.mod,F.prototype.modulusS=F.prototype.modS,F.prototype.modulusM=F.prototype.modM,F.modulus=F.mod,F.prototype.and=function(y){return typeof y=="number"?this.andS(y):this.andM(y)},F.prototype.andS=function(y){for(let N=0;N<this.rows;N++)for(let A=0;A<this.columns;A++)this.set(N,A,this.get(N,A)&y);return this},F.prototype.andM=function(y){if(y=S.checkMatrix(y),this.rows!==y.rows||this.columns!==y.columns)throw new RangeError("Matrices dimensions must be equal");for(let N=0;N<this.rows;N++)for(let A=0;A<this.columns;A++)this.set(N,A,this.get(N,A)&y.get(N,A));return this},F.and=function(y,N){return new S(y).and(N)},F.prototype.or=function(y){return typeof y=="number"?this.orS(y):this.orM(y)},F.prototype.orS=function(y){for(let N=0;N<this.rows;N++)for(let A=0;A<this.columns;A++)this.set(N,A,this.get(N,A)|y);return this},F.prototype.orM=function(y){if(y=S.checkMatrix(y),this.rows!==y.rows||this.columns!==y.columns)throw new RangeError("Matrices dimensions must be equal");for(let N=0;N<this.rows;N++)for(let A=0;A<this.columns;A++)this.set(N,A,this.get(N,A)|y.get(N,A));return this},F.or=function(y,N){return new S(y).or(N)},F.prototype.xor=function(y){return typeof y=="number"?this.xorS(y):this.xorM(y)},F.prototype.xorS=function(y){for(let N=0;N<this.rows;N++)for(let A=0;A<this.columns;A++)this.set(N,A,this.get(N,A)^y);return this},F.prototype.xorM=function(y){if(y=S.checkMatrix(y),this.rows!==y.rows||this.columns!==y.columns)throw new RangeError("Matrices dimensions must be equal");for(let N=0;N<this.rows;N++)for(let A=0;A<this.columns;A++)this.set(N,A,this.get(N,A)^y.get(N,A));return this},F.xor=function(y,N){return new S(y).xor(N)},F.prototype.leftShift=function(y){return typeof y=="number"?this.leftShiftS(y):this.leftShiftM(y)},F.prototype.leftShiftS=function(y){for(let N=0;N<this.rows;N++)for(let A=0;A<this.columns;A++)this.set(N,A,this.get(N,A)<<y);return this},F.prototype.leftShiftM=function(y){if(y=S.checkMatrix(y),this.rows!==y.rows||this.columns!==y.columns)throw new RangeError("Matrices dimensions must be equal");for(let N=0;N<this.rows;N++)for(let A=0;A<this.columns;A++)this.set(N,A,this.get(N,A)<<y.get(N,A));return this},F.leftShift=function(y,N){return new S(y).leftShift(N)},F.prototype.signPropagatingRightShift=function(y){return typeof y=="number"?this.signPropagatingRightShiftS(y):this.signPropagatingRightShiftM(y)},F.prototype.signPropagatingRightShiftS=function(y){for(let N=0;N<this.rows;N++)for(let A=0;A<this.columns;A++)this.set(N,A,this.get(N,A)>>y);return this},F.prototype.signPropagatingRightShiftM=function(y){if(y=S.checkMatrix(y),this.rows!==y.rows||this.columns!==y.columns)throw new RangeError("Matrices dimensions must be equal");for(let N=0;N<this.rows;N++)for(let A=0;A<this.columns;A++)this.set(N,A,this.get(N,A)>>y.get(N,A));return this},F.signPropagatingRightShift=function(y,N){return new S(y).signPropagatingRightShift(N)},F.prototype.rightShift=function(y){return typeof y=="number"?this.rightShiftS(y):this.rightShiftM(y)},F.prototype.rightShiftS=function(y){for(let N=0;N<this.rows;N++)for(let A=0;A<this.columns;A++)this.set(N,A,this.get(N,A)>>>y);return this},F.prototype.rightShiftM=function(y){if(y=S.checkMatrix(y),this.rows!==y.rows||this.columns!==y.columns)throw new RangeError("Matrices dimensions must be equal");for(let N=0;N<this.rows;N++)for(let A=0;A<this.columns;A++)this.set(N,A,this.get(N,A)>>>y.get(N,A));return this},F.rightShift=function(y,N){return new S(y).rightShift(N)},F.prototype.zeroFillRightShift=F.prototype.rightShift,F.prototype.zeroFillRightShiftS=F.prototype.rightShiftS,F.prototype.zeroFillRightShiftM=F.prototype.rightShiftM,F.zeroFillRightShift=F.rightShift,F.prototype.not=function(){for(let y=0;y<this.rows;y++)for(let N=0;N<this.columns;N++)this.set(y,N,~this.get(y,N));return this},F.not=function(y){return new S(y).not()},F.prototype.abs=function(){for(let y=0;y<this.rows;y++)for(let N=0;N<this.columns;N++)this.set(y,N,Math.abs(this.get(y,N)));return this},F.abs=function(y){return new S(y).abs()},F.prototype.acos=function(){for(let y=0;y<this.rows;y++)for(let N=0;N<this.columns;N++)this.set(y,N,Math.acos(this.get(y,N)));return this},F.acos=function(y){return new S(y).acos()},F.prototype.acosh=function(){for(let y=0;y<this.rows;y++)for(let N=0;N<this.columns;N++)this.set(y,N,Math.acosh(this.get(y,N)));return this},F.acosh=function(y){return new S(y).acosh()},F.prototype.asin=function(){for(let y=0;y<this.rows;y++)for(let N=0;N<this.columns;N++)this.set(y,N,Math.asin(this.get(y,N)));return this},F.asin=function(y){return new S(y).asin()},F.prototype.asinh=function(){for(let y=0;y<this.rows;y++)for(let N=0;N<this.columns;N++)this.set(y,N,Math.asinh(this.get(y,N)));return this},F.asinh=function(y){return new S(y).asinh()},F.prototype.atan=function(){for(let y=0;y<this.rows;y++)for(let N=0;N<this.columns;N++)this.set(y,N,Math.atan(this.get(y,N)));return this},F.atan=function(y){return new S(y).atan()},F.prototype.atanh=function(){for(let y=0;y<this.rows;y++)for(let N=0;N<this.columns;N++)this.set(y,N,Math.atanh(this.get(y,N)));return this},F.atanh=function(y){return new S(y).atanh()},F.prototype.cbrt=function(){for(let y=0;y<this.rows;y++)for(let N=0;N<this.columns;N++)this.set(y,N,Math.cbrt(this.get(y,N)));return this},F.cbrt=function(y){return new S(y).cbrt()},F.prototype.ceil=function(){for(let y=0;y<this.rows;y++)for(let N=0;N<this.columns;N++)this.set(y,N,Math.ceil(this.get(y,N)));return this},F.ceil=function(y){return new S(y).ceil()},F.prototype.clz32=function(){for(let y=0;y<this.rows;y++)for(let N=0;N<this.columns;N++)this.set(y,N,Math.clz32(this.get(y,N)));return this},F.clz32=function(y){return new S(y).clz32()},F.prototype.cos=function(){for(let y=0;y<this.rows;y++)for(let N=0;N<this.columns;N++)this.set(y,N,Math.cos(this.get(y,N)));return this},F.cos=function(y){return new S(y).cos()},F.prototype.cosh=function(){for(let y=0;y<this.rows;y++)for(let N=0;N<this.columns;N++)this.set(y,N,Math.cosh(this.get(y,N)));return this},F.cosh=function(y){return new S(y).cosh()},F.prototype.exp=function(){for(let y=0;y<this.rows;y++)for(let N=0;N<this.columns;N++)this.set(y,N,Math.exp(this.get(y,N)));return this},F.exp=function(y){return new S(y).exp()},F.prototype.expm1=function(){for(let y=0;y<this.rows;y++)for(let N=0;N<this.columns;N++)this.set(y,N,Math.expm1(this.get(y,N)));return this},F.expm1=function(y){return new S(y).expm1()},F.prototype.floor=function(){for(let y=0;y<this.rows;y++)for(let N=0;N<this.columns;N++)this.set(y,N,Math.floor(this.get(y,N)));return this},F.floor=function(y){return new S(y).floor()},F.prototype.fround=function(){for(let y=0;y<this.rows;y++)for(let N=0;N<this.columns;N++)this.set(y,N,Math.fround(this.get(y,N)));return this},F.fround=function(y){return new S(y).fround()},F.prototype.log=function(){for(let y=0;y<this.rows;y++)for(let N=0;N<this.columns;N++)this.set(y,N,Math.log(this.get(y,N)));return this},F.log=function(y){return new S(y).log()},F.prototype.log1p=function(){for(let y=0;y<this.rows;y++)for(let N=0;N<this.columns;N++)this.set(y,N,Math.log1p(this.get(y,N)));return this},F.log1p=function(y){return new S(y).log1p()},F.prototype.log10=function(){for(let y=0;y<this.rows;y++)for(let N=0;N<this.columns;N++)this.set(y,N,Math.log10(this.get(y,N)));return this},F.log10=function(y){return new S(y).log10()},F.prototype.log2=function(){for(let y=0;y<this.rows;y++)for(let N=0;N<this.columns;N++)this.set(y,N,Math.log2(this.get(y,N)));return this},F.log2=function(y){return new S(y).log2()},F.prototype.round=function(){for(let y=0;y<this.rows;y++)for(let N=0;N<this.columns;N++)this.set(y,N,Math.round(this.get(y,N)));return this},F.round=function(y){return new S(y).round()},F.prototype.sign=function(){for(let y=0;y<this.rows;y++)for(let N=0;N<this.columns;N++)this.set(y,N,Math.sign(this.get(y,N)));return this},F.sign=function(y){return new S(y).sign()},F.prototype.sin=function(){for(let y=0;y<this.rows;y++)for(let N=0;N<this.columns;N++)this.set(y,N,Math.sin(this.get(y,N)));return this},F.sin=function(y){return new S(y).sin()},F.prototype.sinh=function(){for(let y=0;y<this.rows;y++)for(let N=0;N<this.columns;N++)this.set(y,N,Math.sinh(this.get(y,N)));return this},F.sinh=function(y){return new S(y).sinh()},F.prototype.sqrt=function(){for(let y=0;y<this.rows;y++)for(let N=0;N<this.columns;N++)this.set(y,N,Math.sqrt(this.get(y,N)));return this},F.sqrt=function(y){return new S(y).sqrt()},F.prototype.tan=function(){for(let y=0;y<this.rows;y++)for(let N=0;N<this.columns;N++)this.set(y,N,Math.tan(this.get(y,N)));return this},F.tan=function(y){return new S(y).tan()},F.prototype.tanh=function(){for(let y=0;y<this.rows;y++)for(let N=0;N<this.columns;N++)this.set(y,N,Math.tanh(this.get(y,N)));return this},F.tanh=function(y){return new S(y).tanh()},F.prototype.trunc=function(){for(let y=0;y<this.rows;y++)for(let N=0;N<this.columns;N++)this.set(y,N,Math.trunc(this.get(y,N)));return this},F.trunc=function(y){return new S(y).trunc()},F.pow=function(y,N){return new S(y).pow(N)},F.prototype.pow=function(y){return typeof y=="number"?this.powS(y):this.powM(y)},F.prototype.powS=function(y){for(let N=0;N<this.rows;N++)for(let A=0;A<this.columns;A++)this.set(N,A,this.get(N,A)**y);return this},F.prototype.powM=function(y){if(y=S.checkMatrix(y),this.rows!==y.rows||this.columns!==y.columns)throw new RangeError("Matrices dimensions must be equal");for(let N=0;N<this.rows;N++)for(let A=0;A<this.columns;A++)this.set(N,A,this.get(N,A)**y.get(N,A));return this}}function p(F,S,_){let y=_?F.rows:F.rows-1;if(S<0||S>y)throw new RangeError("Row index out of range")}function m(F,S,_){let y=_?F.columns:F.columns-1;if(S<0||S>y)throw new RangeError("Column index out of range")}function x(F,S){if(S.to1DArray&&(S=S.to1DArray()),S.length!==F.columns)throw new RangeError("vector size must be the same as the number of columns");return S}function w(F,S){if(S.to1DArray&&(S=S.to1DArray()),S.length!==F.rows)throw new RangeError("vector size must be the same as the number of rows");return S}function E(F,S){if(!t.isAnyArray(S))throw new TypeError("row indices must be an array");for(let _=0;_<S.length;_++)if(S[_]<0||S[_]>=F.rows)throw new RangeError("row indices are out of range")}function T(F,S){if(!t.isAnyArray(S))throw new TypeError("column indices must be an array");for(let _=0;_<S.length;_++)if(S[_]<0||S[_]>=F.columns)throw new RangeError("column indices are out of range")}function C(F,S,_,y,N){if(arguments.length!==5)throw new RangeError("expected 4 arguments");if(j("startRow",S),j("endRow",_),j("startColumn",y),j("endColumn",N),S>_||y>N||S<0||S>=F.rows||_<0||_>=F.rows||y<0||y>=F.columns||N<0||N>=F.columns)throw new RangeError("Submatrix indices are out of range")}function P(F,S=0){let _=[];for(let y=0;y<F;y++)_.push(S);return _}function j(F,S){if(typeof S!="number")throw new TypeError(`${F} must be a number`)}function D(F){if(F.isEmpty())throw new Error("Empty matrix has no elements to index")}function U(F){let S=P(F.rows);for(let _=0;_<F.rows;++_)for(let y=0;y<F.columns;++y)S[_]+=F.get(_,y);return S}function L(F){let S=P(F.columns);for(let _=0;_<F.rows;++_)for(let y=0;y<F.columns;++y)S[y]+=F.get(_,y);return S}function O(F){let S=0;for(let _=0;_<F.rows;_++)for(let y=0;y<F.columns;y++)S+=F.get(_,y);return S}function Y(F){let S=P(F.rows,1);for(let _=0;_<F.rows;++_)for(let y=0;y<F.columns;++y)S[_]*=F.get(_,y);return S}function ne(F){let S=P(F.columns,1);for(let _=0;_<F.rows;++_)for(let y=0;y<F.columns;++y)S[y]*=F.get(_,y);return S}function Q(F){let S=1;for(let _=0;_<F.rows;_++)for(let y=0;y<F.columns;y++)S*=F.get(_,y);return S}function K(F,S,_){const y=F.rows,N=F.columns,A=[];for(let W=0;W<y;W++){let X=0,J=0,te=0;for(let Re=0;Re<N;Re++)te=F.get(W,Re)-_[W],X+=te,J+=te*te;S?A.push((J-X*X/N)/(N-1)):A.push((J-X*X/N)/N)}return A}function G(F,S,_){const y=F.rows,N=F.columns,A=[];for(let W=0;W<N;W++){let X=0,J=0,te=0;for(let Re=0;Re<y;Re++)te=F.get(Re,W)-_[W],X+=te,J+=te*te;S?A.push((J-X*X/y)/(y-1)):A.push((J-X*X/y)/y)}return A}function ue(F,S,_){const y=F.rows,N=F.columns,A=y*N;let W=0,X=0,J=0;for(let te=0;te<y;te++)for(let Re=0;Re<N;Re++)J=F.get(te,Re)-_,W+=J,X+=J*J;return S?(X-W*W/A)/(A-1):(X-W*W/A)/A}function me(F,S){for(let _=0;_<F.rows;_++)for(let y=0;y<F.columns;y++)F.set(_,y,F.get(_,y)-S[_])}function le(F,S){for(let _=0;_<F.rows;_++)for(let y=0;y<F.columns;y++)F.set(_,y,F.get(_,y)-S[y])}function ye(F,S){for(let _=0;_<F.rows;_++)for(let y=0;y<F.columns;y++)F.set(_,y,F.get(_,y)-S)}function ge(F){const S=[];for(let _=0;_<F.rows;_++){let y=0;for(let N=0;N<F.columns;N++)y+=F.get(_,N)**2/(F.columns-1);S.push(Math.sqrt(y))}return S}function Me(F,S){for(let _=0;_<F.rows;_++)for(let y=0;y<F.columns;y++)F.set(_,y,F.get(_,y)/S[_])}function we(F){const S=[];for(let _=0;_<F.columns;_++){let y=0;for(let N=0;N<F.rows;N++)y+=F.get(N,_)**2/(F.rows-1);S.push(Math.sqrt(y))}return S}function Ke(F,S){for(let _=0;_<F.rows;_++)for(let y=0;y<F.columns;y++)F.set(_,y,F.get(_,y)/S[y])}function V(F){const S=F.size-1;let _=0;for(let y=0;y<F.columns;y++)for(let N=0;N<F.rows;N++)_+=F.get(N,y)**2/S;return Math.sqrt(_)}function fe(F,S){for(let _=0;_<F.rows;_++)for(let y=0;y<F.columns;y++)F.set(_,y,F.get(_,y)/S)}class se{static from1DArray(S,_,y){if(S*_!==y.length)throw new RangeError("data length does not match given dimensions");let A=new Z(S,_);for(let W=0;W<S;W++)for(let X=0;X<_;X++)A.set(W,X,y[W*_+X]);return A}static rowVector(S){let _=new Z(1,S.length);for(let y=0;y<S.length;y++)_.set(0,y,S[y]);return _}static columnVector(S){let _=new Z(S.length,1);for(let y=0;y<S.length;y++)_.set(y,0,S[y]);return _}static zeros(S,_){return new Z(S,_)}static ones(S,_){return new Z(S,_).fill(1)}static rand(S,_,y={}){if(typeof y!="object")throw new TypeError("options must be an object");const{random:N=Math.random}=y;let A=new Z(S,_);for(let W=0;W<S;W++)for(let X=0;X<_;X++)A.set(W,X,N());return A}static randInt(S,_,y={}){if(typeof y!="object")throw new TypeError("options must be an object");const{min:N=0,max:A=1e3,random:W=Math.random}=y;if(!Number.isInteger(N))throw new TypeError("min must be an integer");if(!Number.isInteger(A))throw new TypeError("max must be an integer");if(N>=A)throw new RangeError("min must be smaller than max");let X=A-N,J=new Z(S,_);for(let te=0;te<S;te++)for(let Re=0;Re<_;Re++){let ie=N+Math.round(W()*X);J.set(te,Re,ie)}return J}static eye(S,_,y){_===void 0&&(_=S),y===void 0&&(y=1);let N=Math.min(S,_),A=this.zeros(S,_);for(let W=0;W<N;W++)A.set(W,W,y);return A}static diag(S,_,y){let N=S.length;_===void 0&&(_=N),y===void 0&&(y=_);let A=Math.min(N,_,y),W=this.zeros(_,y);for(let X=0;X<A;X++)W.set(X,X,S[X]);return W}static min(S,_){S=this.checkMatrix(S),_=this.checkMatrix(_);let y=S.rows,N=S.columns,A=new Z(y,N);for(let W=0;W<y;W++)for(let X=0;X<N;X++)A.set(W,X,Math.min(S.get(W,X),_.get(W,X)));return A}static max(S,_){S=this.checkMatrix(S),_=this.checkMatrix(_);let y=S.rows,N=S.columns,A=new this(y,N);for(let W=0;W<y;W++)for(let X=0;X<N;X++)A.set(W,X,Math.max(S.get(W,X),_.get(W,X)));return A}static checkMatrix(S){return se.isMatrix(S)?S:new Z(S)}static isMatrix(S){return S!=null&&S.klass==="Matrix"}get size(){return this.rows*this.columns}apply(S){if(typeof S!="function")throw new TypeError("callback must be a function");for(let _=0;_<this.rows;_++)for(let y=0;y<this.columns;y++)S.call(this,_,y);return this}to1DArray(){let S=[];for(let _=0;_<this.rows;_++)for(let y=0;y<this.columns;y++)S.push(this.get(_,y));return S}to2DArray(){let S=[];for(let _=0;_<this.rows;_++){S.push([]);for(let y=0;y<this.columns;y++)S[_].push(this.get(_,y))}return S}toJSON(){return this.to2DArray()}isRowVector(){return this.rows===1}isColumnVector(){return this.columns===1}isVector(){return this.rows===1||this.columns===1}isSquare(){return this.rows===this.columns}isEmpty(){return this.rows===0||this.columns===0}isSymmetric(){if(this.isSquare()){for(let S=0;S<this.rows;S++)for(let _=0;_<=S;_++)if(this.get(S,_)!==this.get(_,S))return!1;return!0}return!1}isDistance(){if(!this.isSymmetric())return!1;for(let S=0;S<this.rows;S++)if(this.get(S,S)!==0)return!1;return!0}isEchelonForm(){let S=0,_=0,y=-1,N=!0,A=!1;for(;S<this.rows&&N;){for(_=0,A=!1;_<this.columns&&A===!1;)this.get(S,_)===0?_++:this.get(S,_)===1&&_>y?(A=!0,y=_):(N=!1,A=!0);S++}return N}isReducedEchelonForm(){let S=0,_=0,y=-1,N=!0,A=!1;for(;S<this.rows&&N;){for(_=0,A=!1;_<this.columns&&A===!1;)this.get(S,_)===0?_++:this.get(S,_)===1&&_>y?(A=!0,y=_):(N=!1,A=!0);for(let W=_+1;W<this.rows;W++)this.get(S,W)!==0&&(N=!1);S++}return N}echelonForm(){let S=this.clone(),_=0,y=0;for(;_<S.rows&&y<S.columns;){let N=_;for(let A=_;A<S.rows;A++)S.get(A,y)>S.get(N,y)&&(N=A);if(S.get(N,y)===0)y++;else{S.swapRows(_,N);let A=S.get(_,y);for(let W=y;W<S.columns;W++)S.set(_,W,S.get(_,W)/A);for(let W=_+1;W<S.rows;W++){let X=S.get(W,y)/S.get(_,y);S.set(W,y,0);for(let J=y+1;J<S.columns;J++)S.set(W,J,S.get(W,J)-S.get(_,J)*X)}_++,y++}}return S}reducedEchelonForm(){let S=this.echelonForm(),_=S.columns,y=S.rows,N=y-1;for(;N>=0;)if(S.maxRow(N)===0)N--;else{let A=0,W=!1;for(;A<y&&W===!1;)S.get(N,A)===1?W=!0:A++;for(let X=0;X<N;X++){let J=S.get(X,A);for(let te=A;te<_;te++){let Re=S.get(X,te)-J*S.get(N,te);S.set(X,te,Re)}}N--}return S}set(){throw new Error("set method is unimplemented")}get(){throw new Error("get method is unimplemented")}repeat(S={}){if(typeof S!="object")throw new TypeError("options must be an object");const{rows:_=1,columns:y=1}=S;if(!Number.isInteger(_)||_<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(y)||y<=0)throw new TypeError("columns must be a positive integer");let N=new Z(this.rows*_,this.columns*y);for(let A=0;A<_;A++)for(let W=0;W<y;W++)N.setSubMatrix(this,this.rows*A,this.columns*W);return N}fill(S){for(let _=0;_<this.rows;_++)for(let y=0;y<this.columns;y++)this.set(_,y,S);return this}neg(){return this.mulS(-1)}getRow(S){p(this,S);let _=[];for(let y=0;y<this.columns;y++)_.push(this.get(S,y));return _}getRowVector(S){return Z.rowVector(this.getRow(S))}setRow(S,_){p(this,S),_=x(this,_);for(let y=0;y<this.columns;y++)this.set(S,y,_[y]);return this}swapRows(S,_){p(this,S),p(this,_);for(let y=0;y<this.columns;y++){let N=this.get(S,y);this.set(S,y,this.get(_,y)),this.set(_,y,N)}return this}getColumn(S){m(this,S);let _=[];for(let y=0;y<this.rows;y++)_.push(this.get(y,S));return _}getColumnVector(S){return Z.columnVector(this.getColumn(S))}setColumn(S,_){m(this,S),_=w(this,_);for(let y=0;y<this.rows;y++)this.set(y,S,_[y]);return this}swapColumns(S,_){m(this,S),m(this,_);for(let y=0;y<this.rows;y++){let N=this.get(y,S);this.set(y,S,this.get(y,_)),this.set(y,_,N)}return this}addRowVector(S){S=x(this,S);for(let _=0;_<this.rows;_++)for(let y=0;y<this.columns;y++)this.set(_,y,this.get(_,y)+S[y]);return this}subRowVector(S){S=x(this,S);for(let _=0;_<this.rows;_++)for(let y=0;y<this.columns;y++)this.set(_,y,this.get(_,y)-S[y]);return this}mulRowVector(S){S=x(this,S);for(let _=0;_<this.rows;_++)for(let y=0;y<this.columns;y++)this.set(_,y,this.get(_,y)*S[y]);return this}divRowVector(S){S=x(this,S);for(let _=0;_<this.rows;_++)for(let y=0;y<this.columns;y++)this.set(_,y,this.get(_,y)/S[y]);return this}addColumnVector(S){S=w(this,S);for(let _=0;_<this.rows;_++)for(let y=0;y<this.columns;y++)this.set(_,y,this.get(_,y)+S[_]);return this}subColumnVector(S){S=w(this,S);for(let _=0;_<this.rows;_++)for(let y=0;y<this.columns;y++)this.set(_,y,this.get(_,y)-S[_]);return this}mulColumnVector(S){S=w(this,S);for(let _=0;_<this.rows;_++)for(let y=0;y<this.columns;y++)this.set(_,y,this.get(_,y)*S[_]);return this}divColumnVector(S){S=w(this,S);for(let _=0;_<this.rows;_++)for(let y=0;y<this.columns;y++)this.set(_,y,this.get(_,y)/S[_]);return this}mulRow(S,_){p(this,S);for(let y=0;y<this.columns;y++)this.set(S,y,this.get(S,y)*_);return this}mulColumn(S,_){m(this,S);for(let y=0;y<this.rows;y++)this.set(y,S,this.get(y,S)*_);return this}max(S){if(this.isEmpty())return NaN;switch(S){case"row":{const _=new Array(this.rows).fill(Number.NEGATIVE_INFINITY);for(let y=0;y<this.rows;y++)for(let N=0;N<this.columns;N++)this.get(y,N)>_[y]&&(_[y]=this.get(y,N));return _}case"column":{const _=new Array(this.columns).fill(Number.NEGATIVE_INFINITY);for(let y=0;y<this.rows;y++)for(let N=0;N<this.columns;N++)this.get(y,N)>_[N]&&(_[N]=this.get(y,N));return _}case void 0:{let _=this.get(0,0);for(let y=0;y<this.rows;y++)for(let N=0;N<this.columns;N++)this.get(y,N)>_&&(_=this.get(y,N));return _}default:throw new Error(`invalid option: ${S}`)}}maxIndex(){D(this);let S=this.get(0,0),_=[0,0];for(let y=0;y<this.rows;y++)for(let N=0;N<this.columns;N++)this.get(y,N)>S&&(S=this.get(y,N),_[0]=y,_[1]=N);return _}min(S){if(this.isEmpty())return NaN;switch(S){case"row":{const _=new Array(this.rows).fill(Number.POSITIVE_INFINITY);for(let y=0;y<this.rows;y++)for(let N=0;N<this.columns;N++)this.get(y,N)<_[y]&&(_[y]=this.get(y,N));return _}case"column":{const _=new Array(this.columns).fill(Number.POSITIVE_INFINITY);for(let y=0;y<this.rows;y++)for(let N=0;N<this.columns;N++)this.get(y,N)<_[N]&&(_[N]=this.get(y,N));return _}case void 0:{let _=this.get(0,0);for(let y=0;y<this.rows;y++)for(let N=0;N<this.columns;N++)this.get(y,N)<_&&(_=this.get(y,N));return _}default:throw new Error(`invalid option: ${S}`)}}minIndex(){D(this);let S=this.get(0,0),_=[0,0];for(let y=0;y<this.rows;y++)for(let N=0;N<this.columns;N++)this.get(y,N)<S&&(S=this.get(y,N),_[0]=y,_[1]=N);return _}maxRow(S){if(p(this,S),this.isEmpty())return NaN;let _=this.get(S,0);for(let y=1;y<this.columns;y++)this.get(S,y)>_&&(_=this.get(S,y));return _}maxRowIndex(S){p(this,S),D(this);let _=this.get(S,0),y=[S,0];for(let N=1;N<this.columns;N++)this.get(S,N)>_&&(_=this.get(S,N),y[1]=N);return y}minRow(S){if(p(this,S),this.isEmpty())return NaN;let _=this.get(S,0);for(let y=1;y<this.columns;y++)this.get(S,y)<_&&(_=this.get(S,y));return _}minRowIndex(S){p(this,S),D(this);let _=this.get(S,0),y=[S,0];for(let N=1;N<this.columns;N++)this.get(S,N)<_&&(_=this.get(S,N),y[1]=N);return y}maxColumn(S){if(m(this,S),this.isEmpty())return NaN;let _=this.get(0,S);for(let y=1;y<this.rows;y++)this.get(y,S)>_&&(_=this.get(y,S));return _}maxColumnIndex(S){m(this,S),D(this);let _=this.get(0,S),y=[0,S];for(let N=1;N<this.rows;N++)this.get(N,S)>_&&(_=this.get(N,S),y[0]=N);return y}minColumn(S){if(m(this,S),this.isEmpty())return NaN;let _=this.get(0,S);for(let y=1;y<this.rows;y++)this.get(y,S)<_&&(_=this.get(y,S));return _}minColumnIndex(S){m(this,S),D(this);let _=this.get(0,S),y=[0,S];for(let N=1;N<this.rows;N++)this.get(N,S)<_&&(_=this.get(N,S),y[0]=N);return y}diag(){let S=Math.min(this.rows,this.columns),_=[];for(let y=0;y<S;y++)_.push(this.get(y,y));return _}norm(S="frobenius"){switch(S){case"max":return this.max();case"frobenius":return Math.sqrt(this.dot(this));default:throw new RangeError(`unknown norm type: ${S}`)}}cumulativeSum(){let S=0;for(let _=0;_<this.rows;_++)for(let y=0;y<this.columns;y++)S+=this.get(_,y),this.set(_,y,S);return this}dot(S){se.isMatrix(S)&&(S=S.to1DArray());let _=this.to1DArray();if(_.length!==S.length)throw new RangeError("vectors do not have the same size");let y=0;for(let N=0;N<_.length;N++)y+=_[N]*S[N];return y}mmul(S){S=Z.checkMatrix(S);let _=this.rows,y=this.columns,N=S.columns,A=new Z(_,N),W=new Float64Array(y);for(let X=0;X<N;X++){for(let J=0;J<y;J++)W[J]=S.get(J,X);for(let J=0;J<_;J++){let te=0;for(let Re=0;Re<y;Re++)te+=this.get(J,Re)*W[Re];A.set(J,X,te)}}return A}mpow(S){if(!this.isSquare())throw new RangeError("Matrix must be square");if(!Number.isInteger(S)||S<0)throw new RangeError("Exponent must be a non-negative integer");let _=Z.eye(this.rows),y=this;for(let N=S;N>=1;N/=2)(N&1)!==0&&(_=_.mmul(y)),y=y.mmul(y);return _}strassen2x2(S){S=Z.checkMatrix(S);let _=new Z(2,2);const y=this.get(0,0),N=S.get(0,0),A=this.get(0,1),W=S.get(0,1),X=this.get(1,0),J=S.get(1,0),te=this.get(1,1),Re=S.get(1,1),ie=(y+te)*(N+Re),ze=(X+te)*N,Je=y*(W-Re),Ve=te*(J-N),Ze=(y+A)*Re,ht=(X-y)*(N+W),ve=(A-te)*(J+Re),st=ie+Ve-Ze+ve,ft=Je+Ze,Mt=ze+Ve,Ut=ie-ze+Je+ht;return _.set(0,0,st),_.set(0,1,ft),_.set(1,0,Mt),_.set(1,1,Ut),_}strassen3x3(S){S=Z.checkMatrix(S);let _=new Z(3,3);const y=this.get(0,0),N=this.get(0,1),A=this.get(0,2),W=this.get(1,0),X=this.get(1,1),J=this.get(1,2),te=this.get(2,0),Re=this.get(2,1),ie=this.get(2,2),ze=S.get(0,0),Je=S.get(0,1),Ve=S.get(0,2),Ze=S.get(1,0),ht=S.get(1,1),ve=S.get(1,2),st=S.get(2,0),ft=S.get(2,1),Mt=S.get(2,2),Ut=(y+N+A-W-X-Re-ie)*ht,Fn=(y-W)*(-Je+ht),Tt=X*(-ze+Je+Ze-ht-ve-st+Mt),Ct=(-y+W+X)*(ze-Je+ht),Rn=(W+X)*(-ze+Je),Se=y*ze,Ge=(-y+te+Re)*(ze-Ve+ve),mt=(-y+te)*(Ve-ve),et=(te+Re)*(-ze+Ve),Bn=(y+N+A-X-J-te-Re)*ve,_n=Re*(-ze+Ve+Ze-ht-ve-st+ft),on=(-A+Re+ie)*(ht+st-ft),Nn=(A-ie)*(ht-ft),Qn=A*st,js=(Re+ie)*(-st+ft),Gn=(-A+X+J)*(ve+st-Mt),gs=(A-J)*(ve-Mt),qs=(X+J)*(-st+Mt),Gt=N*Ze,tr=J*ft,qr=W*Ve,bs=te*Je,xr=ie*Mt,jm=Se+Qn+Gt,Bd=Ut+Ct+Rn+Se+on+Qn+js,Ld=Se+Ge+et+Bn+Qn+Gn+qs,Mm=Fn+Tt+Ct+Se+Qn+Gn+gs,Im=Fn+Ct+Rn+Se+tr,Om=Qn+Gn+gs+qs+qr,yv=Se+Ge+mt+_n+on+Nn+Qn,Um=on+Nn+Qn+js+bs,zd=Se+Ge+mt+et+xr;return _.set(0,0,jm),_.set(0,1,Bd),_.set(0,2,Ld),_.set(1,0,Mm),_.set(1,1,Im),_.set(1,2,Om),_.set(2,0,yv),_.set(2,1,Um),_.set(2,2,zd),_}mmulStrassen(S){S=Z.checkMatrix(S);let _=this.clone(),y=_.rows,N=_.columns,A=S.rows,W=S.columns;N!==A&&console.warn(`Multiplying ${y} x ${N} and ${A} x ${W} matrix: dimensions do not match.`);function X(ie,ze,Je){let Ve=ie.rows,Ze=ie.columns;if(Ve===ze&&Ze===Je)return ie;{let ht=se.zeros(ze,Je);return ht=ht.setSubMatrix(ie,0,0),ht}}let J=Math.max(y,A),te=Math.max(N,W);_=X(_,J,te),S=X(S,J,te);function Re(ie,ze,Je,Ve){if(Je<=512||Ve<=512)return ie.mmul(ze);Je%2===1&&Ve%2===1?(ie=X(ie,Je+1,Ve+1),ze=X(ze,Je+1,Ve+1)):Je%2===1?(ie=X(ie,Je+1,Ve),ze=X(ze,Je+1,Ve)):Ve%2===1&&(ie=X(ie,Je,Ve+1),ze=X(ze,Je,Ve+1));let Ze=parseInt(ie.rows/2,10),ht=parseInt(ie.columns/2,10),ve=ie.subMatrix(0,Ze-1,0,ht-1),st=ze.subMatrix(0,Ze-1,0,ht-1),ft=ie.subMatrix(0,Ze-1,ht,ie.columns-1),Mt=ze.subMatrix(0,Ze-1,ht,ze.columns-1),Ut=ie.subMatrix(Ze,ie.rows-1,0,ht-1),Fn=ze.subMatrix(Ze,ze.rows-1,0,ht-1),Tt=ie.subMatrix(Ze,ie.rows-1,ht,ie.columns-1),Ct=ze.subMatrix(Ze,ze.rows-1,ht,ze.columns-1),Rn=Re(se.add(ve,Tt),se.add(st,Ct),Ze,ht),Se=Re(se.add(Ut,Tt),st,Ze,ht),Ge=Re(ve,se.sub(Mt,Ct),Ze,ht),mt=Re(Tt,se.sub(Fn,st),Ze,ht),et=Re(se.add(ve,ft),Ct,Ze,ht),Bn=Re(se.sub(Ut,ve),se.add(st,Mt),Ze,ht),_n=Re(se.sub(ft,Tt),se.add(Fn,Ct),Ze,ht),on=se.add(Rn,mt);on.sub(et),on.add(_n);let Nn=se.add(Ge,et),Qn=se.add(Se,mt),js=se.sub(Rn,Se);js.add(Ge),js.add(Bn);let Gn=se.zeros(2*on.rows,2*on.columns);return Gn=Gn.setSubMatrix(on,0,0),Gn=Gn.setSubMatrix(Nn,on.rows,0),Gn=Gn.setSubMatrix(Qn,0,on.columns),Gn=Gn.setSubMatrix(js,on.rows,on.columns),Gn.subMatrix(0,Je-1,0,Ve-1)}return Re(_,S,J,te)}scaleRows(S={}){if(typeof S!="object")throw new TypeError("options must be an object");const{min:_=0,max:y=1}=S;if(!Number.isFinite(_))throw new TypeError("min must be a number");if(!Number.isFinite(y))throw new TypeError("max must be a number");if(_>=y)throw new RangeError("min must be smaller than max");let N=new Z(this.rows,this.columns);for(let A=0;A<this.rows;A++){const W=this.getRow(A);W.length>0&&e(W,{min:_,max:y,output:W}),N.setRow(A,W)}return N}scaleColumns(S={}){if(typeof S!="object")throw new TypeError("options must be an object");const{min:_=0,max:y=1}=S;if(!Number.isFinite(_))throw new TypeError("min must be a number");if(!Number.isFinite(y))throw new TypeError("max must be a number");if(_>=y)throw new RangeError("min must be smaller than max");let N=new Z(this.rows,this.columns);for(let A=0;A<this.columns;A++){const W=this.getColumn(A);W.length&&e(W,{min:_,max:y,output:W}),N.setColumn(A,W)}return N}flipRows(){const S=Math.ceil(this.columns/2);for(let _=0;_<this.rows;_++)for(let y=0;y<S;y++){let N=this.get(_,y),A=this.get(_,this.columns-1-y);this.set(_,y,A),this.set(_,this.columns-1-y,N)}return this}flipColumns(){const S=Math.ceil(this.rows/2);for(let _=0;_<this.columns;_++)for(let y=0;y<S;y++){let N=this.get(y,_),A=this.get(this.rows-1-y,_);this.set(y,_,A),this.set(this.rows-1-y,_,N)}return this}kroneckerProduct(S){S=Z.checkMatrix(S);let _=this.rows,y=this.columns,N=S.rows,A=S.columns,W=new Z(_*N,y*A);for(let X=0;X<_;X++)for(let J=0;J<y;J++)for(let te=0;te<N;te++)for(let Re=0;Re<A;Re++)W.set(N*X+te,A*J+Re,this.get(X,J)*S.get(te,Re));return W}kroneckerSum(S){if(S=Z.checkMatrix(S),!this.isSquare()||!S.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");let _=this.rows,y=S.rows,N=this.kroneckerProduct(Z.eye(y,y)),A=Z.eye(_,_).kroneckerProduct(S);return N.add(A)}transpose(){let S=new Z(this.columns,this.rows);for(let _=0;_<this.rows;_++)for(let y=0;y<this.columns;y++)S.set(y,_,this.get(_,y));return S}sortRows(S=B){for(let _=0;_<this.rows;_++)this.setRow(_,this.getRow(_).sort(S));return this}sortColumns(S=B){for(let _=0;_<this.columns;_++)this.setColumn(_,this.getColumn(_).sort(S));return this}subMatrix(S,_,y,N){C(this,S,_,y,N);let A=new Z(_-S+1,N-y+1);for(let W=S;W<=_;W++)for(let X=y;X<=N;X++)A.set(W-S,X-y,this.get(W,X));return A}subMatrixRow(S,_,y){if(_===void 0&&(_=0),y===void 0&&(y=this.columns-1),_>y||_<0||_>=this.columns||y<0||y>=this.columns)throw new RangeError("Argument out of range");let N=new Z(S.length,y-_+1);for(let A=0;A<S.length;A++)for(let W=_;W<=y;W++){if(S[A]<0||S[A]>=this.rows)throw new RangeError(`Row index out of range: ${S[A]}`);N.set(A,W-_,this.get(S[A],W))}return N}subMatrixColumn(S,_,y){if(_===void 0&&(_=0),y===void 0&&(y=this.rows-1),_>y||_<0||_>=this.rows||y<0||y>=this.rows)throw new RangeError("Argument out of range");let N=new Z(y-_+1,S.length);for(let A=0;A<S.length;A++)for(let W=_;W<=y;W++){if(S[A]<0||S[A]>=this.columns)throw new RangeError(`Column index out of range: ${S[A]}`);N.set(W-_,A,this.get(W,S[A]))}return N}setSubMatrix(S,_,y){if(S=Z.checkMatrix(S),S.isEmpty())return this;let N=_+S.rows-1,A=y+S.columns-1;C(this,_,N,y,A);for(let W=0;W<S.rows;W++)for(let X=0;X<S.columns;X++)this.set(_+W,y+X,S.get(W,X));return this}selection(S,_){E(this,S),T(this,_);let y=new Z(S.length,_.length);for(let N=0;N<S.length;N++){let A=S[N];for(let W=0;W<_.length;W++){let X=_[W];y.set(N,W,this.get(A,X))}}return y}trace(){let S=Math.min(this.rows,this.columns),_=0;for(let y=0;y<S;y++)_+=this.get(y,y);return _}clone(){return this.constructor.copy(this,new Z(this.rows,this.columns))}static copy(S,_){for(const[y,N,A]of S.entries())_.set(y,N,A);return _}sum(S){switch(S){case"row":return U(this);case"column":return L(this);case void 0:return O(this);default:throw new Error(`invalid option: ${S}`)}}product(S){switch(S){case"row":return Y(this);case"column":return ne(this);case void 0:return Q(this);default:throw new Error(`invalid option: ${S}`)}}mean(S){const _=this.sum(S);switch(S){case"row":{for(let y=0;y<this.rows;y++)_[y]/=this.columns;return _}case"column":{for(let y=0;y<this.columns;y++)_[y]/=this.rows;return _}case void 0:return _/this.size;default:throw new Error(`invalid option: ${S}`)}}variance(S,_={}){if(typeof S=="object"&&(_=S,S=void 0),typeof _!="object")throw new TypeError("options must be an object");const{unbiased:y=!0,mean:N=this.mean(S)}=_;if(typeof y!="boolean")throw new TypeError("unbiased must be a boolean");switch(S){case"row":{if(!t.isAnyArray(N))throw new TypeError("mean must be an array");return K(this,y,N)}case"column":{if(!t.isAnyArray(N))throw new TypeError("mean must be an array");return G(this,y,N)}case void 0:{if(typeof N!="number")throw new TypeError("mean must be a number");return ue(this,y,N)}default:throw new Error(`invalid option: ${S}`)}}standardDeviation(S,_){typeof S=="object"&&(_=S,S=void 0);const y=this.variance(S,_);if(S===void 0)return Math.sqrt(y);for(let N=0;N<y.length;N++)y[N]=Math.sqrt(y[N]);return y}center(S,_={}){if(typeof S=="object"&&(_=S,S=void 0),typeof _!="object")throw new TypeError("options must be an object");const{center:y=this.mean(S)}=_;switch(S){case"row":{if(!t.isAnyArray(y))throw new TypeError("center must be an array");return me(this,y),this}case"column":{if(!t.isAnyArray(y))throw new TypeError("center must be an array");return le(this,y),this}case void 0:{if(typeof y!="number")throw new TypeError("center must be a number");return ye(this,y),this}default:throw new Error(`invalid option: ${S}`)}}scale(S,_={}){if(typeof S=="object"&&(_=S,S=void 0),typeof _!="object")throw new TypeError("options must be an object");let y=_.scale;switch(S){case"row":{if(y===void 0)y=ge(this);else if(!t.isAnyArray(y))throw new TypeError("scale must be an array");return Me(this,y),this}case"column":{if(y===void 0)y=we(this);else if(!t.isAnyArray(y))throw new TypeError("scale must be an array");return Ke(this,y),this}case void 0:{if(y===void 0)y=V(this);else if(typeof y!="number")throw new TypeError("scale must be a number");return fe(this,y),this}default:throw new Error(`invalid option: ${S}`)}}toString(S){return o(this,S)}[Symbol.iterator](){return this.entries()}*entries(){for(let S=0;S<this.rows;S++)for(let _=0;_<this.columns;_++)yield[S,_,this.get(S,_)]}*values(){for(let S=0;S<this.rows;S++)for(let _=0;_<this.columns;_++)yield this.get(S,_)}}se.prototype.klass="Matrix",typeof Symbol<"u"&&(se.prototype[Symbol.for("nodejs.util.inspect.custom")]=s);function B(F,S){return F-S}function ce(F){return F.every(S=>typeof S=="number")}se.random=se.rand,se.randomInt=se.randInt,se.diagonal=se.diag,se.prototype.diagonal=se.prototype.diag,se.identity=se.eye,se.prototype.negate=se.prototype.neg,se.prototype.tensorProduct=se.prototype.kroneckerProduct;const sn=class sn extends se{constructor(_,y){super();Rt(this,$t);H(this,"data");if(sn.isMatrix(_))Jt(this,$t,YS).call(this,_.rows,_.columns),sn.copy(_,this);else if(Number.isInteger(_)&&_>=0)Jt(this,$t,YS).call(this,_,y);else if(t.isAnyArray(_)){const N=_;if(_=N.length,y=_?N[0].length:0,typeof y!="number")throw new TypeError("Data must be a 2D array with at least one element");this.data=[];for(let A=0;A<_;A++){if(N[A].length!==y)throw new RangeError("Inconsistent array dimensions");if(!ce(N[A]))throw new TypeError("Input data contains non-numeric values");this.data.push(Float64Array.from(N[A]))}this.rows=_,this.columns=y}else throw new TypeError("First argument must be a positive number or an array")}set(_,y,N){return this.data[_][y]=N,this}get(_,y){return this.data[_][y]}removeRow(_){return p(this,_),this.data.splice(_,1),this.rows-=1,this}addRow(_,y){return y===void 0&&(y=_,_=this.rows),p(this,_,!0),y=Float64Array.from(x(this,y)),this.data.splice(_,0,y),this.rows+=1,this}removeColumn(_){m(this,_);for(let y=0;y<this.rows;y++){const N=new Float64Array(this.columns-1);for(let A=0;A<_;A++)N[A]=this.data[y][A];for(let A=_+1;A<this.columns;A++)N[A-1]=this.data[y][A];this.data[y]=N}return this.columns-=1,this}addColumn(_,y){typeof y>"u"&&(y=_,_=this.columns),m(this,_,!0),y=w(this,y);for(let N=0;N<this.rows;N++){const A=new Float64Array(this.columns+1);let W=0;for(;W<_;W++)A[W]=this.data[N][W];for(A[W++]=y[N];W<this.columns+1;W++)A[W]=this.data[N][W-1];this.data[N]=A}return this.columns+=1,this}};$t=new WeakSet,YS=function(_,y){if(this.data=[],Number.isInteger(y)&&y>=0)for(let N=0;N<_;N++)this.data.push(new Float64Array(y));else throw new TypeError("nColumns must be a positive integer");this.rows=_,this.columns=y};let Z=sn;h(se,Z);const ar=class ar extends se{constructor(_){super();Rt(this,At);if(Z.isMatrix(_)){if(!_.isSymmetric())throw new TypeError("not symmetric data");yt(this,At,Z.copy(_,new Z(_.rows,_.rows)))}else if(Number.isInteger(_)&&_>=0)yt(this,At,new Z(_,_));else if(yt(this,At,new Z(_)),!this.isSymmetric())throw new TypeError("not symmetric data")}get size(){return be(this,At).size}get rows(){return be(this,At).rows}get columns(){return be(this,At).columns}get diagonalSize(){return this.rows}static isSymmetricMatrix(_){return Z.isMatrix(_)&&_.klassType==="SymmetricMatrix"}static zeros(_){return new this(_)}static ones(_){return new this(_).fill(1)}clone(){const _=new ar(this.diagonalSize);for(const[y,N,A]of this.upperRightEntries())_.set(y,N,A);return _}toMatrix(){return new Z(this)}get(_,y){return be(this,At).get(_,y)}set(_,y,N){return be(this,At).set(_,y,N),be(this,At).set(y,_,N),this}removeCross(_){return be(this,At).removeRow(_),be(this,At).removeColumn(_),this}addCross(_,y){y===void 0&&(y=_,_=this.diagonalSize);const N=y.slice();return N.splice(_,1),be(this,At).addRow(_,N),be(this,At).addColumn(_,y),this}applyMask(_){if(_.length!==this.diagonalSize)throw new RangeError("Mask size do not match with matrix size");const y=[];for(const[N,A]of _.entries())A||y.push(N);y.reverse();for(const N of y)this.removeCross(N);return this}toCompact(){const{diagonalSize:_}=this,y=new Array(_*(_+1)/2);for(let N=0,A=0,W=0;W<y.length;W++)y[W]=this.get(A,N),++N>=_&&(N=++A);return y}static fromCompact(_){const y=_.length,N=(Math.sqrt(8*y+1)-1)/2;if(!Number.isInteger(N))throw new TypeError(`This array is not a compact representation of a Symmetric Matrix, ${JSON.stringify(_)}`);const A=new ar(N);for(let W=0,X=0,J=0;J<y;J++)A.set(W,X,_[J]),++W>=N&&(W=++X);return A}*upperRightEntries(){for(let _=0,y=0;_<this.diagonalSize;void 0){const N=this.get(_,y);yield[_,y,N],++y>=this.diagonalSize&&(y=++_)}}*upperRightValues(){for(let _=0,y=0;_<this.diagonalSize;void 0)yield this.get(_,y),++y>=this.diagonalSize&&(y=++_)}};At=new WeakMap;let xe=ar;xe.prototype.klassType="SymmetricMatrix";class he extends xe{static isDistanceMatrix(S){return xe.isSymmetricMatrix(S)&&S.klassSubType==="DistanceMatrix"}constructor(S){if(super(S),!this.isDistance())throw new TypeError("Provided arguments do no produce a distance matrix")}set(S,_,y){return S===_&&(y=0),super.set(S,_,y)}addCross(S,_){return _===void 0&&(_=S,S=this.diagonalSize),_=_.slice(),_[S]=0,super.addCross(S,_)}toSymmetricMatrix(){return new xe(this)}clone(){const S=new he(this.diagonalSize);for(const[_,y,N]of this.upperRightEntries())_!==y&&S.set(_,y,N);return S}toCompact(){const{diagonalSize:S}=this,_=(S-1)*S/2,y=new Array(_);for(let N=1,A=0,W=0;W<y.length;W++)y[W]=this.get(A,N),++N>=S&&(N=++A+1);return y}static fromCompact(S){const _=S.length;if(_===0)return new this(0);const y=(Math.sqrt(8*_+1)+1)/2;if(!Number.isInteger(y))throw new TypeError(`This array is not a compact representation of a DistanceMatrix, ${JSON.stringify(S)}`);const N=new this(y);for(let A=1,W=0,X=0;X<_;X++)N.set(A,W,S[X]),++A>=y&&(A=++W+1);return N}}he.prototype.klassSubType="DistanceMatrix";class oe extends se{constructor(S,_,y){super(),this.matrix=S,this.rows=_,this.columns=y}}class De extends oe{constructor(S,_){m(S,_),super(S,S.rows,1),this.column=_}set(S,_,y){return this.matrix.set(S,this.column,y),this}get(S){return this.matrix.get(S,this.column)}}class qe extends oe{constructor(S,_){T(S,_),super(S,S.rows,_.length),this.columnIndices=_}set(S,_,y){return this.matrix.set(S,this.columnIndices[_],y),this}get(S,_){return this.matrix.get(S,this.columnIndices[_])}}class Ye extends oe{constructor(S){super(S,S.rows,S.columns)}set(S,_,y){return this.matrix.set(S,this.columns-_-1,y),this}get(S,_){return this.matrix.get(S,this.columns-_-1)}}class tt extends oe{constructor(S){super(S,S.rows,S.columns)}set(S,_,y){return this.matrix.set(this.rows-S-1,_,y),this}get(S,_){return this.matrix.get(this.rows-S-1,_)}}class Ue extends oe{constructor(S,_){p(S,_),super(S,1,S.columns),this.row=_}set(S,_,y){return this.matrix.set(this.row,_,y),this}get(S,_){return this.matrix.get(this.row,_)}}class nt extends oe{constructor(S,_){E(S,_),super(S,_.length,S.columns),this.rowIndices=_}set(S,_,y){return this.matrix.set(this.rowIndices[S],_,y),this}get(S,_){return this.matrix.get(this.rowIndices[S],_)}}class lt extends oe{constructor(S,_,y){E(S,_),T(S,y),super(S,_.length,y.length),this.rowIndices=_,this.columnIndices=y}set(S,_,y){return this.matrix.set(this.rowIndices[S],this.columnIndices[_],y),this}get(S,_){return this.matrix.get(this.rowIndices[S],this.columnIndices[_])}}class gt extends oe{constructor(S,_,y,N,A){C(S,_,y,N,A),super(S,y-_+1,A-N+1),this.startRow=_,this.startColumn=N}set(S,_,y){return this.matrix.set(this.startRow+S,this.startColumn+_,y),this}get(S,_){return this.matrix.get(this.startRow+S,this.startColumn+_)}}class Lt extends oe{constructor(S){super(S,S.columns,S.rows)}set(S,_,y){return this.matrix.set(_,S,y),this}get(S,_){return this.matrix.get(_,S)}}class Yt extends se{constructor(S,_={}){const{rows:y=1}=_;if(S.length%y!==0)throw new Error("the data length is not divisible by the number of rows");super(),this.rows=y,this.columns=S.length/y,this.data=S}set(S,_,y){let N=this._calculateIndex(S,_);return this.data[N]=y,this}get(S,_){let y=this._calculateIndex(S,_);return this.data[y]}_calculateIndex(S,_){return S*this.columns+_}}class Ot extends se{constructor(S){super(),this.data=S,this.rows=S.length,this.columns=S[0].length}set(S,_,y){return this.data[S][_]=y,this}get(S,_){return this.data[S][_]}}function Pt(F,S){if(t.isAnyArray(F))return F[0]&&t.isAnyArray(F[0])?new Ot(F):new Yt(F,S);throw new Error("the argument is not an array")}class cr{constructor(S){S=Ot.checkMatrix(S);let _=S.clone(),y=_.rows,N=_.columns,A=new Float64Array(y),W=1,X,J,te,Re,ie,ze,Je,Ve,Ze;for(X=0;X<y;X++)A[X]=X;for(Ve=new Float64Array(y),J=0;J<N;J++){for(X=0;X<y;X++)Ve[X]=_.get(X,J);for(X=0;X<y;X++){for(Ze=Math.min(X,J),ie=0,te=0;te<Ze;te++)ie+=_.get(X,te)*Ve[te];Ve[X]-=ie,_.set(X,J,Ve[X])}for(Re=J,X=J+1;X<y;X++)Math.abs(Ve[X])>Math.abs(Ve[Re])&&(Re=X);if(Re!==J){for(te=0;te<N;te++)ze=_.get(Re,te),_.set(Re,te,_.get(J,te)),_.set(J,te,ze);Je=A[Re],A[Re]=A[J],A[J]=Je,W=-W}if(J<y&&_.get(J,J)!==0)for(X=J+1;X<y;X++)_.set(X,J,_.get(X,J)/_.get(J,J))}this.LU=_,this.pivotVector=A,this.pivotSign=W}isSingular(){let S=this.LU,_=S.columns;for(let y=0;y<_;y++)if(S.get(y,y)===0)return!0;return!1}solve(S){S=Z.checkMatrix(S);let _=this.LU;if(_.rows!==S.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");let N=S.columns,A=S.subMatrixRow(this.pivotVector,0,N-1),W=_.columns,X,J,te;for(te=0;te<W;te++)for(X=te+1;X<W;X++)for(J=0;J<N;J++)A.set(X,J,A.get(X,J)-A.get(te,J)*_.get(X,te));for(te=W-1;te>=0;te--){for(J=0;J<N;J++)A.set(te,J,A.get(te,J)/_.get(te,te));for(X=0;X<te;X++)for(J=0;J<N;J++)A.set(X,J,A.get(X,J)-A.get(te,J)*_.get(X,te))}return A}get determinant(){let S=this.LU;if(!S.isSquare())throw new Error("Matrix must be square");let _=this.pivotSign,y=S.columns;for(let N=0;N<y;N++)_*=S.get(N,N);return _}get lowerTriangularMatrix(){let S=this.LU,_=S.rows,y=S.columns,N=new Z(_,y);for(let A=0;A<_;A++)for(let W=0;W<y;W++)A>W?N.set(A,W,S.get(A,W)):A===W?N.set(A,W,1):N.set(A,W,0);return N}get upperTriangularMatrix(){let S=this.LU,_=S.rows,y=S.columns,N=new Z(_,y);for(let A=0;A<_;A++)for(let W=0;W<y;W++)A<=W?N.set(A,W,S.get(A,W)):N.set(A,W,0);return N}get pivotPermutationVector(){return Array.from(this.pivotVector)}}function Cn(F,S){let _=0;return Math.abs(F)>Math.abs(S)?(_=S/F,Math.abs(F)*Math.sqrt(1+_*_)):S!==0?(_=F/S,Math.abs(S)*Math.sqrt(1+_*_)):0}class Wr{constructor(S){S=Ot.checkMatrix(S);let _=S.clone(),y=S.rows,N=S.columns,A=new Float64Array(N),W,X,J,te;for(J=0;J<N;J++){let Re=0;for(W=J;W<y;W++)Re=Cn(Re,_.get(W,J));if(Re!==0){for(_.get(J,J)<0&&(Re=-Re),W=J;W<y;W++)_.set(W,J,_.get(W,J)/Re);for(_.set(J,J,_.get(J,J)+1),X=J+1;X<N;X++){for(te=0,W=J;W<y;W++)te+=_.get(W,J)*_.get(W,X);for(te=-te/_.get(J,J),W=J;W<y;W++)_.set(W,X,_.get(W,X)+te*_.get(W,J))}}A[J]=-Re}this.QR=_,this.Rdiag=A}solve(S){S=Z.checkMatrix(S);let _=this.QR,y=_.rows;if(S.rows!==y)throw new Error("Matrix row dimensions must agree");if(!this.isFullRank())throw new Error("Matrix is rank deficient");let N=S.columns,A=S.clone(),W=_.columns,X,J,te,Re;for(te=0;te<W;te++)for(J=0;J<N;J++){for(Re=0,X=te;X<y;X++)Re+=_.get(X,te)*A.get(X,J);for(Re=-Re/_.get(te,te),X=te;X<y;X++)A.set(X,J,A.get(X,J)+Re*_.get(X,te))}for(te=W-1;te>=0;te--){for(J=0;J<N;J++)A.set(te,J,A.get(te,J)/this.Rdiag[te]);for(X=0;X<te;X++)for(J=0;J<N;J++)A.set(X,J,A.get(X,J)-A.get(te,J)*_.get(X,te))}return A.subMatrix(0,W-1,0,N-1)}isFullRank(){let S=this.QR.columns;for(let _=0;_<S;_++)if(this.Rdiag[_]===0)return!1;return!0}get upperTriangularMatrix(){let S=this.QR,_=S.columns,y=new Z(_,_),N,A;for(N=0;N<_;N++)for(A=0;A<_;A++)N<A?y.set(N,A,S.get(N,A)):N===A?y.set(N,A,this.Rdiag[N]):y.set(N,A,0);return y}get orthogonalMatrix(){let S=this.QR,_=S.rows,y=S.columns,N=new Z(_,y),A,W,X,J;for(X=y-1;X>=0;X--){for(A=0;A<_;A++)N.set(A,X,0);for(N.set(X,X,1),W=X;W<y;W++)if(S.get(X,X)!==0){for(J=0,A=X;A<_;A++)J+=S.get(A,X)*N.get(A,W);for(J=-J/S.get(X,X),A=X;A<_;A++)N.set(A,W,N.get(A,W)+J*S.get(A,X))}}return N}}class ms{constructor(S,_={}){if(S=Ot.checkMatrix(S),S.isEmpty())throw new Error("Matrix must be non-empty");let y=S.rows,N=S.columns;const{computeLeftSingularVectors:A=!0,computeRightSingularVectors:W=!0,autoTranspose:X=!1}=_;let J=!!A,te=!!W,Re=!1,ie;if(y<N)if(!X)ie=S.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else{ie=S.transpose(),y=ie.rows,N=ie.columns,Re=!0;let Se=J;J=te,te=Se}else ie=S.clone();let ze=Math.min(y,N),Je=Math.min(y+1,N),Ve=new Float64Array(Je),Ze=new Z(y,ze),ht=new Z(N,N),ve=new Float64Array(N),st=new Float64Array(y),ft=new Float64Array(Je);for(let Se=0;Se<Je;Se++)ft[Se]=Se;let Mt=Math.min(y-1,N),Ut=Math.max(0,Math.min(N-2,y)),Fn=Math.max(Mt,Ut);for(let Se=0;Se<Fn;Se++){if(Se<Mt){Ve[Se]=0;for(let Ge=Se;Ge<y;Ge++)Ve[Se]=Cn(Ve[Se],ie.get(Ge,Se));if(Ve[Se]!==0){ie.get(Se,Se)<0&&(Ve[Se]=-Ve[Se]);for(let Ge=Se;Ge<y;Ge++)ie.set(Ge,Se,ie.get(Ge,Se)/Ve[Se]);ie.set(Se,Se,ie.get(Se,Se)+1)}Ve[Se]=-Ve[Se]}for(let Ge=Se+1;Ge<N;Ge++){if(Se<Mt&&Ve[Se]!==0){let mt=0;for(let et=Se;et<y;et++)mt+=ie.get(et,Se)*ie.get(et,Ge);mt=-mt/ie.get(Se,Se);for(let et=Se;et<y;et++)ie.set(et,Ge,ie.get(et,Ge)+mt*ie.get(et,Se))}ve[Ge]=ie.get(Se,Ge)}if(J&&Se<Mt)for(let Ge=Se;Ge<y;Ge++)Ze.set(Ge,Se,ie.get(Ge,Se));if(Se<Ut){ve[Se]=0;for(let Ge=Se+1;Ge<N;Ge++)ve[Se]=Cn(ve[Se],ve[Ge]);if(ve[Se]!==0){ve[Se+1]<0&&(ve[Se]=0-ve[Se]);for(let Ge=Se+1;Ge<N;Ge++)ve[Ge]/=ve[Se];ve[Se+1]+=1}if(ve[Se]=-ve[Se],Se+1<y&&ve[Se]!==0){for(let Ge=Se+1;Ge<y;Ge++)st[Ge]=0;for(let Ge=Se+1;Ge<y;Ge++)for(let mt=Se+1;mt<N;mt++)st[Ge]+=ve[mt]*ie.get(Ge,mt);for(let Ge=Se+1;Ge<N;Ge++){let mt=-ve[Ge]/ve[Se+1];for(let et=Se+1;et<y;et++)ie.set(et,Ge,ie.get(et,Ge)+mt*st[et])}}if(te)for(let Ge=Se+1;Ge<N;Ge++)ht.set(Ge,Se,ve[Ge])}}let Tt=Math.min(N,y+1);if(Mt<N&&(Ve[Mt]=ie.get(Mt,Mt)),y<Tt&&(Ve[Tt-1]=0),Ut+1<Tt&&(ve[Ut]=ie.get(Ut,Tt-1)),ve[Tt-1]=0,J){for(let Se=Mt;Se<ze;Se++){for(let Ge=0;Ge<y;Ge++)Ze.set(Ge,Se,0);Ze.set(Se,Se,1)}for(let Se=Mt-1;Se>=0;Se--)if(Ve[Se]!==0){for(let Ge=Se+1;Ge<ze;Ge++){let mt=0;for(let et=Se;et<y;et++)mt+=Ze.get(et,Se)*Ze.get(et,Ge);mt=-mt/Ze.get(Se,Se);for(let et=Se;et<y;et++)Ze.set(et,Ge,Ze.get(et,Ge)+mt*Ze.get(et,Se))}for(let Ge=Se;Ge<y;Ge++)Ze.set(Ge,Se,-Ze.get(Ge,Se));Ze.set(Se,Se,1+Ze.get(Se,Se));for(let Ge=0;Ge<Se-1;Ge++)Ze.set(Ge,Se,0)}else{for(let Ge=0;Ge<y;Ge++)Ze.set(Ge,Se,0);Ze.set(Se,Se,1)}}if(te)for(let Se=N-1;Se>=0;Se--){if(Se<Ut&&ve[Se]!==0)for(let Ge=Se+1;Ge<N;Ge++){let mt=0;for(let et=Se+1;et<N;et++)mt+=ht.get(et,Se)*ht.get(et,Ge);mt=-mt/ht.get(Se+1,Se);for(let et=Se+1;et<N;et++)ht.set(et,Ge,ht.get(et,Ge)+mt*ht.get(et,Se))}for(let Ge=0;Ge<N;Ge++)ht.set(Ge,Se,0);ht.set(Se,Se,1)}let Ct=Tt-1,Rn=Number.EPSILON;for(;Tt>0;){let Se,Ge;for(Se=Tt-2;Se>=-1&&Se!==-1;Se--){const mt=Number.MIN_VALUE+Rn*Math.abs(Ve[Se]+Math.abs(Ve[Se+1]));if(Math.abs(ve[Se])<=mt||Number.isNaN(ve[Se])){ve[Se]=0;break}}if(Se===Tt-2)Ge=4;else{let mt;for(mt=Tt-1;mt>=Se&&mt!==Se;mt--){let et=(mt!==Tt?Math.abs(ve[mt]):0)+(mt!==Se+1?Math.abs(ve[mt-1]):0);if(Math.abs(Ve[mt])<=Rn*et){Ve[mt]=0;break}}mt===Se?Ge=3:mt===Tt-1?Ge=1:(Ge=2,Se=mt)}switch(Se++,Ge){case 1:{let mt=ve[Tt-2];ve[Tt-2]=0;for(let et=Tt-2;et>=Se;et--){let Bn=Cn(Ve[et],mt),_n=Ve[et]/Bn,on=mt/Bn;if(Ve[et]=Bn,et!==Se&&(mt=-on*ve[et-1],ve[et-1]=_n*ve[et-1]),te)for(let Nn=0;Nn<N;Nn++)Bn=_n*ht.get(Nn,et)+on*ht.get(Nn,Tt-1),ht.set(Nn,Tt-1,-on*ht.get(Nn,et)+_n*ht.get(Nn,Tt-1)),ht.set(Nn,et,Bn)}break}case 2:{let mt=ve[Se-1];ve[Se-1]=0;for(let et=Se;et<Tt;et++){let Bn=Cn(Ve[et],mt),_n=Ve[et]/Bn,on=mt/Bn;if(Ve[et]=Bn,mt=-on*ve[et],ve[et]=_n*ve[et],J)for(let Nn=0;Nn<y;Nn++)Bn=_n*Ze.get(Nn,et)+on*Ze.get(Nn,Se-1),Ze.set(Nn,Se-1,-on*Ze.get(Nn,et)+_n*Ze.get(Nn,Se-1)),Ze.set(Nn,et,Bn)}break}case 3:{const mt=Math.max(Math.abs(Ve[Tt-1]),Math.abs(Ve[Tt-2]),Math.abs(ve[Tt-2]),Math.abs(Ve[Se]),Math.abs(ve[Se])),et=Ve[Tt-1]/mt,Bn=Ve[Tt-2]/mt,_n=ve[Tt-2]/mt,on=Ve[Se]/mt,Nn=ve[Se]/mt,Qn=((Bn+et)*(Bn-et)+_n*_n)/2,js=et*_n*(et*_n);let Gn=0;(Qn!==0||js!==0)&&(Qn<0?Gn=0-Math.sqrt(Qn*Qn+js):Gn=Math.sqrt(Qn*Qn+js),Gn=js/(Qn+Gn));let gs=(on+et)*(on-et)+Gn,qs=on*Nn;for(let Gt=Se;Gt<Tt-1;Gt++){let tr=Cn(gs,qs);tr===0&&(tr=Number.MIN_VALUE);let qr=gs/tr,bs=qs/tr;if(Gt!==Se&&(ve[Gt-1]=tr),gs=qr*Ve[Gt]+bs*ve[Gt],ve[Gt]=qr*ve[Gt]-bs*Ve[Gt],qs=bs*Ve[Gt+1],Ve[Gt+1]=qr*Ve[Gt+1],te)for(let xr=0;xr<N;xr++)tr=qr*ht.get(xr,Gt)+bs*ht.get(xr,Gt+1),ht.set(xr,Gt+1,-bs*ht.get(xr,Gt)+qr*ht.get(xr,Gt+1)),ht.set(xr,Gt,tr);if(tr=Cn(gs,qs),tr===0&&(tr=Number.MIN_VALUE),qr=gs/tr,bs=qs/tr,Ve[Gt]=tr,gs=qr*ve[Gt]+bs*Ve[Gt+1],Ve[Gt+1]=-bs*ve[Gt]+qr*Ve[Gt+1],qs=bs*ve[Gt+1],ve[Gt+1]=qr*ve[Gt+1],J&&Gt<y-1)for(let xr=0;xr<y;xr++)tr=qr*Ze.get(xr,Gt)+bs*Ze.get(xr,Gt+1),Ze.set(xr,Gt+1,-bs*Ze.get(xr,Gt)+qr*Ze.get(xr,Gt+1)),Ze.set(xr,Gt,tr)}ve[Tt-2]=gs;break}case 4:{if(Ve[Se]<=0&&(Ve[Se]=Ve[Se]<0?-Ve[Se]:0,te))for(let mt=0;mt<=Ct;mt++)ht.set(mt,Se,-ht.get(mt,Se));for(;Se<Ct&&!(Ve[Se]>=Ve[Se+1]);){let mt=Ve[Se];if(Ve[Se]=Ve[Se+1],Ve[Se+1]=mt,te&&Se<N-1)for(let et=0;et<N;et++)mt=ht.get(et,Se+1),ht.set(et,Se+1,ht.get(et,Se)),ht.set(et,Se,mt);if(J&&Se<y-1)for(let et=0;et<y;et++)mt=Ze.get(et,Se+1),Ze.set(et,Se+1,Ze.get(et,Se)),Ze.set(et,Se,mt);Se++}Tt--;break}}}if(Re){let Se=ht;ht=Ze,Ze=Se}this.m=y,this.n=N,this.s=Ve,this.U=Ze,this.V=ht}solve(S){let _=S,y=this.threshold,N=this.s.length,A=Z.zeros(N,N);for(let ze=0;ze<N;ze++)Math.abs(this.s[ze])<=y?A.set(ze,ze,0):A.set(ze,ze,1/this.s[ze]);let W=this.U,X=this.rightSingularVectors,J=X.mmul(A),te=X.rows,Re=W.rows,ie=Z.zeros(te,Re);for(let ze=0;ze<te;ze++)for(let Je=0;Je<Re;Je++){let Ve=0;for(let Ze=0;Ze<N;Ze++)Ve+=J.get(ze,Ze)*W.get(Je,Ze);ie.set(ze,Je,Ve)}return ie.mmul(_)}solveForDiagonal(S){return this.solve(Z.diag(S))}inverse(){let S=this.V,_=this.threshold,y=S.rows,N=S.columns,A=new Z(y,this.s.length);for(let Re=0;Re<y;Re++)for(let ie=0;ie<N;ie++)Math.abs(this.s[ie])>_&&A.set(Re,ie,S.get(Re,ie)/this.s[ie]);let W=this.U,X=W.rows,J=W.columns,te=new Z(y,X);for(let Re=0;Re<y;Re++)for(let ie=0;ie<X;ie++){let ze=0;for(let Je=0;Je<J;Je++)ze+=A.get(Re,Je)*W.get(ie,Je);te.set(Re,ie,ze)}return te}get condition(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}get norm2(){return this.s[0]}get rank(){let S=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,_=0,y=this.s;for(let N=0,A=y.length;N<A;N++)y[N]>S&&_++;return _}get diagonal(){return Array.from(this.s)}get threshold(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}get leftSingularVectors(){return this.U}get rightSingularVectors(){return this.V}get diagonalMatrix(){return Z.diag(this.s)}}function Ho(F,S=!1){return F=Ot.checkMatrix(F),S?new ms(F).inverse():He(F,Z.eye(F.rows))}function He(F,S,_=!1){return F=Ot.checkMatrix(F),S=Ot.checkMatrix(S),_?new ms(F).solve(S):F.isSquare()?new cr(F).solve(S):new Wr(F).solve(S)}function $e(F){if(F=Z.checkMatrix(F),F.isSquare()){if(F.columns===0)return 1;let S,_,y,N;if(F.columns===2)return S=F.get(0,0),_=F.get(0,1),y=F.get(1,0),N=F.get(1,1),S*N-_*y;if(F.columns===3){let A,W,X;return A=new lt(F,[1,2],[1,2]),W=new lt(F,[1,2],[0,2]),X=new lt(F,[1,2],[0,1]),S=F.get(0,0),_=F.get(0,1),y=F.get(0,2),S*$e(A)-_*$e(W)+y*$e(X)}else return new cr(F).determinant}else throw Error("determinant can only be calculated for a square matrix")}function xt(F,S){let _=[];for(let y=0;y<F;y++)y!==S&&_.push(y);return _}function zt(F,S,_,y=1e-9,N=1e-9){if(F>N)return new Array(S.rows+1).fill(0);{let A=S.addRow(_,[0]);for(let W=0;W<A.rows;W++)Math.abs(A.get(W,0))<y&&A.set(W,0,0);return A.to1DArray()}}function un(F,S={}){const{thresholdValue:_=1e-9,thresholdError:y=1e-9}=S;F=Z.checkMatrix(F);let N=F.rows,A=new Z(N,N);for(let W=0;W<N;W++){let X=Z.columnVector(F.getRow(W)),J=F.subMatrixRow(xt(N,W)).transpose(),Re=new ms(J).solve(X),ie=Z.sub(X,J.mmul(Re)).abs().max();A.setRow(W,zt(ie,Re,W,_,y))}return A}function ur(F,S=Number.EPSILON){if(F=Z.checkMatrix(F),F.isEmpty())return F.transpose();let _=new ms(F,{autoTranspose:!0}),y=_.leftSingularVectors,N=_.rightSingularVectors,A=_.diagonal;for(let W=0;W<A.length;W++)Math.abs(A[W])>S?A[W]=1/A[W]:A[W]=0;return N.mmul(Z.diag(A).mmul(y.transpose()))}function rs(F,S=F,_={}){F=new Z(F);let y=!1;if(typeof S=="object"&&!Z.isMatrix(S)&&!t.isAnyArray(S)?(_=S,S=F,y=!0):S=new Z(S),F.rows!==S.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:N=!0}=_;N&&(F=F.center("column"),y||(S=S.center("column")));const A=F.transpose().mmul(S);for(let W=0;W<A.rows;W++)for(let X=0;X<A.columns;X++)A.set(W,X,A.get(W,X)*(1/(F.rows-1)));return A}function Sr(F,S=F,_={}){F=new Z(F);let y=!1;if(typeof S=="object"&&!Z.isMatrix(S)&&!t.isAnyArray(S)?(_=S,S=F,y=!0):S=new Z(S),F.rows!==S.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:N=!0,scale:A=!0}=_;N&&(F.center("column"),y||S.center("column")),A&&(F.scale("column"),y||S.scale("column"));const W=F.standardDeviation("column",{unbiased:!0}),X=y?W:S.standardDeviation("column",{unbiased:!0}),J=F.transpose().mmul(S);for(let te=0;te<J.rows;te++)for(let Re=0;Re<J.columns;Re++)J.set(te,Re,J.get(te,Re)*(1/(W[te]*X[Re]))*(1/(F.rows-1)));return J}class Er{constructor(S,_={}){const{assumeSymmetric:y=!1}=_;if(S=Ot.checkMatrix(S),!S.isSquare())throw new Error("Matrix is not a square matrix");if(S.isEmpty())throw new Error("Matrix must be non-empty");let N=S.columns,A=new Z(N,N),W=new Float64Array(N),X=new Float64Array(N),J=S,te,Re,ie=!1;if(y?ie=!0:ie=S.isSymmetric(),ie){for(te=0;te<N;te++)for(Re=0;Re<N;Re++)A.set(te,Re,J.get(te,Re));jr(N,X,W,A),er(N,X,W,A)}else{let ze=new Z(N,N),Je=new Float64Array(N);for(Re=0;Re<N;Re++)for(te=0;te<N;te++)ze.set(te,Re,J.get(te,Re));$(N,ze,Je,A),Ee(N,X,W,A,ze)}this.n=N,this.e=X,this.d=W,this.V=A}get realEigenvalues(){return Array.from(this.d)}get imaginaryEigenvalues(){return Array.from(this.e)}get eigenvectorMatrix(){return this.V}get diagonalMatrix(){let S=this.n,_=this.e,y=this.d,N=new Z(S,S),A,W;for(A=0;A<S;A++){for(W=0;W<S;W++)N.set(A,W,0);N.set(A,A,y[A]),_[A]>0?N.set(A,A+1,_[A]):_[A]<0&&N.set(A,A-1,_[A])}return N}}function jr(F,S,_,y){let N,A,W,X,J,te,Re,ie;for(J=0;J<F;J++)_[J]=y.get(F-1,J);for(X=F-1;X>0;X--){for(ie=0,W=0,te=0;te<X;te++)ie=ie+Math.abs(_[te]);if(ie===0)for(S[X]=_[X-1],J=0;J<X;J++)_[J]=y.get(X-1,J),y.set(X,J,0),y.set(J,X,0);else{for(te=0;te<X;te++)_[te]/=ie,W+=_[te]*_[te];for(N=_[X-1],A=Math.sqrt(W),N>0&&(A=-A),S[X]=ie*A,W=W-N*A,_[X-1]=N-A,J=0;J<X;J++)S[J]=0;for(J=0;J<X;J++){for(N=_[J],y.set(J,X,N),A=S[J]+y.get(J,J)*N,te=J+1;te<=X-1;te++)A+=y.get(te,J)*_[te],S[te]+=y.get(te,J)*N;S[J]=A}for(N=0,J=0;J<X;J++)S[J]/=W,N+=S[J]*_[J];for(Re=N/(W+W),J=0;J<X;J++)S[J]-=Re*_[J];for(J=0;J<X;J++){for(N=_[J],A=S[J],te=J;te<=X-1;te++)y.set(te,J,y.get(te,J)-(N*S[te]+A*_[te]));_[J]=y.get(X-1,J),y.set(X,J,0)}}_[X]=W}for(X=0;X<F-1;X++){if(y.set(F-1,X,y.get(X,X)),y.set(X,X,1),W=_[X+1],W!==0){for(te=0;te<=X;te++)_[te]=y.get(te,X+1)/W;for(J=0;J<=X;J++){for(A=0,te=0;te<=X;te++)A+=y.get(te,X+1)*y.get(te,J);for(te=0;te<=X;te++)y.set(te,J,y.get(te,J)-A*_[te])}}for(te=0;te<=X;te++)y.set(te,X+1,0)}for(J=0;J<F;J++)_[J]=y.get(F-1,J),y.set(F-1,J,0);y.set(F-1,F-1,1),S[0]=0}function er(F,S,_,y){let N,A,W,X,J,te,Re,ie,ze,Je,Ve,Ze,ht,ve,st,ft;for(W=1;W<F;W++)S[W-1]=S[W];S[F-1]=0;let Mt=0,Ut=0,Fn=Number.EPSILON;for(te=0;te<F;te++){for(Ut=Math.max(Ut,Math.abs(_[te])+Math.abs(S[te])),Re=te;Re<F&&!(Math.abs(S[Re])<=Fn*Ut);)Re++;if(Re>te)do{for(N=_[te],ie=(_[te+1]-N)/(2*S[te]),ze=Cn(ie,1),ie<0&&(ze=-ze),_[te]=S[te]/(ie+ze),_[te+1]=S[te]*(ie+ze),Je=_[te+1],A=N-_[te],W=te+2;W<F;W++)_[W]-=A;for(Mt=Mt+A,ie=_[Re],Ve=1,Ze=Ve,ht=Ve,ve=S[te+1],st=0,ft=0,W=Re-1;W>=te;W--)for(ht=Ze,Ze=Ve,ft=st,N=Ve*S[W],A=Ve*ie,ze=Cn(ie,S[W]),S[W+1]=st*ze,st=S[W]/ze,Ve=ie/ze,ie=Ve*_[W]-st*N,_[W+1]=A+st*(Ve*N+st*_[W]),J=0;J<F;J++)A=y.get(J,W+1),y.set(J,W+1,st*y.get(J,W)+Ve*A),y.set(J,W,Ve*y.get(J,W)-st*A);ie=-st*ft*ht*ve*S[te]/Je,S[te]=st*ie,_[te]=Ve*ie}while(Math.abs(S[te])>Fn*Ut);_[te]=_[te]+Mt,S[te]=0}for(W=0;W<F-1;W++){for(J=W,ie=_[W],X=W+1;X<F;X++)_[X]<ie&&(J=X,ie=_[X]);if(J!==W)for(_[J]=_[W],_[W]=ie,X=0;X<F;X++)ie=y.get(X,W),y.set(X,W,y.get(X,J)),y.set(X,J,ie)}}function $(F,S,_,y){let N=0,A=F-1,W,X,J,te,Re,ie,ze;for(ie=N+1;ie<=A-1;ie++){for(ze=0,te=ie;te<=A;te++)ze=ze+Math.abs(S.get(te,ie-1));if(ze!==0){for(J=0,te=A;te>=ie;te--)_[te]=S.get(te,ie-1)/ze,J+=_[te]*_[te];for(X=Math.sqrt(J),_[ie]>0&&(X=-X),J=J-_[ie]*X,_[ie]=_[ie]-X,Re=ie;Re<F;Re++){for(W=0,te=A;te>=ie;te--)W+=_[te]*S.get(te,Re);for(W=W/J,te=ie;te<=A;te++)S.set(te,Re,S.get(te,Re)-W*_[te])}for(te=0;te<=A;te++){for(W=0,Re=A;Re>=ie;Re--)W+=_[Re]*S.get(te,Re);for(W=W/J,Re=ie;Re<=A;Re++)S.set(te,Re,S.get(te,Re)-W*_[Re])}_[ie]=ze*_[ie],S.set(ie,ie-1,ze*X)}}for(te=0;te<F;te++)for(Re=0;Re<F;Re++)y.set(te,Re,te===Re?1:0);for(ie=A-1;ie>=N+1;ie--)if(S.get(ie,ie-1)!==0){for(te=ie+1;te<=A;te++)_[te]=S.get(te,ie-1);for(Re=ie;Re<=A;Re++){for(X=0,te=ie;te<=A;te++)X+=_[te]*y.get(te,Re);for(X=X/_[ie]/S.get(ie,ie-1),te=ie;te<=A;te++)y.set(te,Re,y.get(te,Re)+X*_[te])}}}function Ee(F,S,_,y,N){let A=F-1,W=0,X=F-1,J=Number.EPSILON,te=0,Re=0,ie=0,ze=0,Je=0,Ve=0,Ze=0,ht=0,ve,st,ft,Mt,Ut,Fn,Tt,Ct,Rn,Se,Ge,mt,et,Bn,_n;for(ve=0;ve<F;ve++)for((ve<W||ve>X)&&(_[ve]=N.get(ve,ve),S[ve]=0),st=Math.max(ve-1,0);st<F;st++)Re=Re+Math.abs(N.get(ve,st));for(;A>=W;){for(Mt=A;Mt>W&&(Ve=Math.abs(N.get(Mt-1,Mt-1))+Math.abs(N.get(Mt,Mt)),Ve===0&&(Ve=Re),!(Math.abs(N.get(Mt,Mt-1))<J*Ve));)Mt--;if(Mt===A)N.set(A,A,N.get(A,A)+te),_[A]=N.get(A,A),S[A]=0,A--,ht=0;else if(Mt===A-1){if(Tt=N.get(A,A-1)*N.get(A-1,A),ie=(N.get(A-1,A-1)-N.get(A,A))/2,ze=ie*ie+Tt,Ze=Math.sqrt(Math.abs(ze)),N.set(A,A,N.get(A,A)+te),N.set(A-1,A-1,N.get(A-1,A-1)+te),Ct=N.get(A,A),ze>=0){for(Ze=ie>=0?ie+Ze:ie-Ze,_[A-1]=Ct+Ze,_[A]=_[A-1],Ze!==0&&(_[A]=Ct-Tt/Ze),S[A-1]=0,S[A]=0,Ct=N.get(A,A-1),Ve=Math.abs(Ct)+Math.abs(Ze),ie=Ct/Ve,ze=Ze/Ve,Je=Math.sqrt(ie*ie+ze*ze),ie=ie/Je,ze=ze/Je,st=A-1;st<F;st++)Ze=N.get(A-1,st),N.set(A-1,st,ze*Ze+ie*N.get(A,st)),N.set(A,st,ze*N.get(A,st)-ie*Ze);for(ve=0;ve<=A;ve++)Ze=N.get(ve,A-1),N.set(ve,A-1,ze*Ze+ie*N.get(ve,A)),N.set(ve,A,ze*N.get(ve,A)-ie*Ze);for(ve=W;ve<=X;ve++)Ze=y.get(ve,A-1),y.set(ve,A-1,ze*Ze+ie*y.get(ve,A)),y.set(ve,A,ze*y.get(ve,A)-ie*Ze)}else _[A-1]=Ct+ie,_[A]=Ct+ie,S[A-1]=Ze,S[A]=-Ze;A=A-2,ht=0}else{if(Ct=N.get(A,A),Rn=0,Tt=0,Mt<A&&(Rn=N.get(A-1,A-1),Tt=N.get(A,A-1)*N.get(A-1,A)),ht===10){for(te+=Ct,ve=W;ve<=A;ve++)N.set(ve,ve,N.get(ve,ve)-Ct);Ve=Math.abs(N.get(A,A-1))+Math.abs(N.get(A-1,A-2)),Ct=Rn=.75*Ve,Tt=-.4375*Ve*Ve}if(ht===30&&(Ve=(Rn-Ct)/2,Ve=Ve*Ve+Tt,Ve>0)){for(Ve=Math.sqrt(Ve),Rn<Ct&&(Ve=-Ve),Ve=Ct-Tt/((Rn-Ct)/2+Ve),ve=W;ve<=A;ve++)N.set(ve,ve,N.get(ve,ve)-Ve);te+=Ve,Ct=Rn=Tt=.964}for(ht=ht+1,Ut=A-2;Ut>=Mt&&(Ze=N.get(Ut,Ut),Je=Ct-Ze,Ve=Rn-Ze,ie=(Je*Ve-Tt)/N.get(Ut+1,Ut)+N.get(Ut,Ut+1),ze=N.get(Ut+1,Ut+1)-Ze-Je-Ve,Je=N.get(Ut+2,Ut+1),Ve=Math.abs(ie)+Math.abs(ze)+Math.abs(Je),ie=ie/Ve,ze=ze/Ve,Je=Je/Ve,!(Ut===Mt||Math.abs(N.get(Ut,Ut-1))*(Math.abs(ze)+Math.abs(Je))<J*(Math.abs(ie)*(Math.abs(N.get(Ut-1,Ut-1))+Math.abs(Ze)+Math.abs(N.get(Ut+1,Ut+1))))));)Ut--;for(ve=Ut+2;ve<=A;ve++)N.set(ve,ve-2,0),ve>Ut+2&&N.set(ve,ve-3,0);for(ft=Ut;ft<=A-1&&(Bn=ft!==A-1,ft!==Ut&&(ie=N.get(ft,ft-1),ze=N.get(ft+1,ft-1),Je=Bn?N.get(ft+2,ft-1):0,Ct=Math.abs(ie)+Math.abs(ze)+Math.abs(Je),Ct!==0&&(ie=ie/Ct,ze=ze/Ct,Je=Je/Ct)),Ct!==0);ft++)if(Ve=Math.sqrt(ie*ie+ze*ze+Je*Je),ie<0&&(Ve=-Ve),Ve!==0){for(ft!==Ut?N.set(ft,ft-1,-Ve*Ct):Mt!==Ut&&N.set(ft,ft-1,-N.get(ft,ft-1)),ie=ie+Ve,Ct=ie/Ve,Rn=ze/Ve,Ze=Je/Ve,ze=ze/ie,Je=Je/ie,st=ft;st<F;st++)ie=N.get(ft,st)+ze*N.get(ft+1,st),Bn&&(ie=ie+Je*N.get(ft+2,st),N.set(ft+2,st,N.get(ft+2,st)-ie*Ze)),N.set(ft,st,N.get(ft,st)-ie*Ct),N.set(ft+1,st,N.get(ft+1,st)-ie*Rn);for(ve=0;ve<=Math.min(A,ft+3);ve++)ie=Ct*N.get(ve,ft)+Rn*N.get(ve,ft+1),Bn&&(ie=ie+Ze*N.get(ve,ft+2),N.set(ve,ft+2,N.get(ve,ft+2)-ie*Je)),N.set(ve,ft,N.get(ve,ft)-ie),N.set(ve,ft+1,N.get(ve,ft+1)-ie*ze);for(ve=W;ve<=X;ve++)ie=Ct*y.get(ve,ft)+Rn*y.get(ve,ft+1),Bn&&(ie=ie+Ze*y.get(ve,ft+2),y.set(ve,ft+2,y.get(ve,ft+2)-ie*Je)),y.set(ve,ft,y.get(ve,ft)-ie),y.set(ve,ft+1,y.get(ve,ft+1)-ie*ze)}}}if(Re!==0){for(A=F-1;A>=0;A--)if(ie=_[A],ze=S[A],ze===0)for(Mt=A,N.set(A,A,1),ve=A-1;ve>=0;ve--){for(Tt=N.get(ve,ve)-ie,Je=0,st=Mt;st<=A;st++)Je=Je+N.get(ve,st)*N.get(st,A);if(S[ve]<0)Ze=Tt,Ve=Je;else if(Mt=ve,S[ve]===0?N.set(ve,A,Tt!==0?-Je/Tt:-Je/(J*Re)):(Ct=N.get(ve,ve+1),Rn=N.get(ve+1,ve),ze=(_[ve]-ie)*(_[ve]-ie)+S[ve]*S[ve],Fn=(Ct*Ve-Ze*Je)/ze,N.set(ve,A,Fn),N.set(ve+1,A,Math.abs(Ct)>Math.abs(Ze)?(-Je-Tt*Fn)/Ct:(-Ve-Rn*Fn)/Ze)),Fn=Math.abs(N.get(ve,A)),J*Fn*Fn>1)for(st=ve;st<=A;st++)N.set(st,A,N.get(st,A)/Fn)}else if(ze<0)for(Mt=A-1,Math.abs(N.get(A,A-1))>Math.abs(N.get(A-1,A))?(N.set(A-1,A-1,ze/N.get(A,A-1)),N.set(A-1,A,-(N.get(A,A)-ie)/N.get(A,A-1))):(_n=rt(0,-N.get(A-1,A),N.get(A-1,A-1)-ie,ze),N.set(A-1,A-1,_n[0]),N.set(A-1,A,_n[1])),N.set(A,A-1,0),N.set(A,A,1),ve=A-2;ve>=0;ve--){for(Se=0,Ge=0,st=Mt;st<=A;st++)Se=Se+N.get(ve,st)*N.get(st,A-1),Ge=Ge+N.get(ve,st)*N.get(st,A);if(Tt=N.get(ve,ve)-ie,S[ve]<0)Ze=Tt,Je=Se,Ve=Ge;else if(Mt=ve,S[ve]===0?(_n=rt(-Se,-Ge,Tt,ze),N.set(ve,A-1,_n[0]),N.set(ve,A,_n[1])):(Ct=N.get(ve,ve+1),Rn=N.get(ve+1,ve),mt=(_[ve]-ie)*(_[ve]-ie)+S[ve]*S[ve]-ze*ze,et=(_[ve]-ie)*2*ze,mt===0&&et===0&&(mt=J*Re*(Math.abs(Tt)+Math.abs(ze)+Math.abs(Ct)+Math.abs(Rn)+Math.abs(Ze))),_n=rt(Ct*Je-Ze*Se+ze*Ge,Ct*Ve-Ze*Ge-ze*Se,mt,et),N.set(ve,A-1,_n[0]),N.set(ve,A,_n[1]),Math.abs(Ct)>Math.abs(Ze)+Math.abs(ze)?(N.set(ve+1,A-1,(-Se-Tt*N.get(ve,A-1)+ze*N.get(ve,A))/Ct),N.set(ve+1,A,(-Ge-Tt*N.get(ve,A)-ze*N.get(ve,A-1))/Ct)):(_n=rt(-Je-Rn*N.get(ve,A-1),-Ve-Rn*N.get(ve,A),Ze,ze),N.set(ve+1,A-1,_n[0]),N.set(ve+1,A,_n[1]))),Fn=Math.max(Math.abs(N.get(ve,A-1)),Math.abs(N.get(ve,A))),J*Fn*Fn>1)for(st=ve;st<=A;st++)N.set(st,A-1,N.get(st,A-1)/Fn),N.set(st,A,N.get(st,A)/Fn)}for(ve=0;ve<F;ve++)if(ve<W||ve>X)for(st=ve;st<F;st++)y.set(ve,st,N.get(ve,st));for(st=F-1;st>=W;st--)for(ve=W;ve<=X;ve++){for(Ze=0,ft=W;ft<=Math.min(st,X);ft++)Ze=Ze+y.get(ve,ft)*N.get(ft,st);y.set(ve,st,Ze)}}}function rt(F,S,_,y){let N,A;return Math.abs(_)>Math.abs(y)?(N=y/_,A=_+N*y,[(F+N*S)/A,(S-N*F)/A]):(N=_/y,A=y+N*_,[(N*F+S)/A,(N*S-F)/A])}class ut{constructor(S){if(S=Ot.checkMatrix(S),!S.isSymmetric())throw new Error("Matrix is not symmetric");let _=S,y=_.rows,N=new Z(y,y),A=!0,W,X,J;for(X=0;X<y;X++){let te=0;for(J=0;J<X;J++){let Re=0;for(W=0;W<J;W++)Re+=N.get(J,W)*N.get(X,W);Re=(_.get(X,J)-Re)/N.get(J,J),N.set(X,J,Re),te=te+Re*Re}for(te=_.get(X,X)-te,A&&(A=te>0),N.set(X,X,Math.sqrt(Math.max(te,0))),J=X+1;J<y;J++)N.set(X,J,0)}this.L=N,this.positiveDefinite=A}isPositiveDefinite(){return this.positiveDefinite}solve(S){S=Ot.checkMatrix(S);let _=this.L,y=_.rows;if(S.rows!==y)throw new Error("Matrix dimensions do not match");if(this.isPositiveDefinite()===!1)throw new Error("Matrix is not positive definite");let N=S.columns,A=S.clone(),W,X,J;for(J=0;J<y;J++)for(X=0;X<N;X++){for(W=0;W<J;W++)A.set(J,X,A.get(J,X)-A.get(W,X)*_.get(J,W));A.set(J,X,A.get(J,X)/_.get(J,J))}for(J=y-1;J>=0;J--)for(X=0;X<N;X++){for(W=J+1;W<y;W++)A.set(J,X,A.get(J,X)-A.get(W,X)*_.get(W,J));A.set(J,X,A.get(J,X)/_.get(J,J))}return A}get lowerTriangularMatrix(){return this.L}}class Nt{constructor(S,_={}){S=Ot.checkMatrix(S);let{Y:y}=_;const{scaleScores:N=!1,maxIterations:A=1e3,terminationCriteria:W=1e-10}=_;let X;if(y){if(t.isAnyArray(y)&&typeof y[0]=="number"?y=Z.columnVector(y):y=Ot.checkMatrix(y),y.rows!==S.rows)throw new Error("Y should have the same number of rows as X");X=y.getColumnVector(0)}else X=S.getColumnVector(0);let J=1,te,Re,ie,ze;for(let Je=0;Je<A&&J>W;Je++)ie=S.transpose().mmul(X).div(X.transpose().mmul(X).get(0,0)),ie=ie.div(ie.norm()),te=S.mmul(ie).div(ie.transpose().mmul(ie).get(0,0)),Je>0&&(J=te.clone().sub(ze).pow(2).sum()),ze=te.clone(),y?(Re=y.transpose().mmul(te).div(te.transpose().mmul(te).get(0,0)),Re=Re.div(Re.norm()),X=y.mmul(Re).div(Re.transpose().mmul(Re).get(0,0))):X=te;if(y){let Je=S.transpose().mmul(te).div(te.transpose().mmul(te).get(0,0));Je=Je.div(Je.norm());let Ve=S.clone().sub(te.clone().mmul(Je.transpose())),Ze=X.transpose().mmul(te).div(te.transpose().mmul(te).get(0,0)),ht=y.clone().sub(te.clone().mulS(Ze.get(0,0)).mmul(Re.transpose()));this.t=te,this.p=Je.transpose(),this.w=ie.transpose(),this.q=Re,this.u=X,this.s=te.transpose().mmul(te),this.xResidual=Ve,this.yResidual=ht,this.betas=Ze}else this.w=ie.transpose(),this.s=te.transpose().mmul(te).sqrt(),N?this.t=te.clone().div(this.s.get(0,0)):this.t=te,this.xResidual=S.sub(te.mmul(ie.transpose()))}}return ln.AbstractMatrix=se,ln.CHO=ut,ln.CholeskyDecomposition=ut,ln.DistanceMatrix=he,ln.EVD=Er,ln.EigenvalueDecomposition=Er,ln.LU=cr,ln.LuDecomposition=cr,ln.Matrix=Z,ln.MatrixColumnSelectionView=qe,ln.MatrixColumnView=De,ln.MatrixFlipColumnView=Ye,ln.MatrixFlipRowView=tt,ln.MatrixRowSelectionView=nt,ln.MatrixRowView=Ue,ln.MatrixSelectionView=lt,ln.MatrixSubView=gt,ln.MatrixTransposeView=Lt,ln.NIPALS=Nt,ln.Nipals=Nt,ln.QR=Wr,ln.QrDecomposition=Wr,ln.SVD=ms,ln.SingularValueDecomposition=ms,ln.SymmetricMatrix=xe,ln.WrapperMatrix1D=Yt,ln.WrapperMatrix2D=Ot,ln.correlation=Sr,ln.covariance=rs,ln.default=Z,ln.determinant=$e,ln.inverse=Ho,ln.linearDependencies=un,ln.pseudoInverse=ur,ln.solve=He,ln.wrap=Pt,ln}var TT=Mle();const dM=bu(TT),J1=TT.Matrix;dM.Matrix?dM.Matrix:TT.Matrix;const jf={ui_component:[59,130,246],page_component:[16,185,129],layout_component:[245,158,11],modal_component:[239,68,68],form_component:[168,85,247],hook:[236,72,153],context:[14,165,233],state_management:[34,197,94],api_integration:[251,146,60],data_model:[139,92,246],utility:[107,114,128],configuration:[75,85,99],styling:[244,63,94],testing:[16,185,129],documentation:[59,130,246],error_handling:[239,68,68],performance:[245,158,11],security:[220,38,127],monitoring:[99,102,241],type_definition:[147,51,234],business_logic:[37,99,235],algorithm:[29,78,216],unknown:[156,163,175]};function Ile(){const[t,e]=k.useState(null),[n,r]=k.useState(!1),[s,o]=k.useState(!1),[l,c]=k.useState([]),[f,h]=k.useState([]),[p,m]=k.useState([]),[x,w]=k.useState(null),[E,T]=k.useState([]),[C,P]=k.useState([]),[j,D]=k.useState("overview"),[U,L]=k.useState(null),[O,Y]=k.useState(null),[ne,Q]=k.useState([]),[K,G]=k.useState([]),ue=k.useRef(null),me=k.useRef(null),le=async(he=!1)=>{var oe,De,qe;r(!0);try{const Ye=he?"http://localhost:3333/api/semantic-chunks?refresh=true":"http://localhost:3333/api/semantic-chunks",[tt,Ue]=await Promise.all([fetch("http://localhost:3333/api/vector-db/status"),fetch(Ye)]);if(tt.ok){const nt=await tt.json();e(nt.stats)}if(Ue.ok){const nt=await Ue.json();if(console.log("📊 Received chunks data:",{hasChunks:!!nt.chunks,chunksLength:(oe=nt.chunks)==null?void 0:oe.length,sampleChunk:(De=nt.chunks)!=null&&De[0]?{name:nt.chunks[0].name,hasEmbedding:!!nt.chunks[0].embedding,hasMetadata:!!nt.chunks[0].metadata,semanticType:nt.chunks[0].semanticType}:null}),nt.chunks&&Array.isArray(nt.chunks)){const lt=nt.chunks.map(gt=>({id:gt.name||gt.id,embedding:gt.embedding,metadata:gt.metadata||{content:gt.code||"",semanticType:gt.semanticType||"unknown",businessDomain:gt.businessDomain||[],technicalPatterns:gt.technicalPatterns||[],purpose:gt.purpose||"",files:gt.files||[gt.filePath].filter(Boolean),size:gt.size||0,complexity:gt.complexity||0}}));console.log("📊 Processed vector chunks:",{count:lt.length,withEmbeddings:lt.filter(gt=>gt.embedding).length,sampleMetadata:(qe=lt[0])==null?void 0:qe.metadata}),h(lt),await ye(lt)}}}catch(Ye){console.error("Error fetching vector stats:",Ye)}finally{r(!1)}},ye=async he=>{if(!he.length){console.log("📊 No chunks to generate cluster data from");return}console.log("📊 Generating cluster data for",he.length,"chunks");const oe=he.filter(Ye=>Ye.embedding&&Ye.embedding.length>0);console.log("📊 Chunks with embeddings:",oe.length);const De={business_logic:0,algorithm:0,data_processing:1,database:1,api_integration:2,middleware:2,routing:2,ui_component:3,page_component:3,layout_component:3,hook:3,utility:4,configuration:4,testing:5,documentation:5,monitoring:5,error_handling:6,performance:6,security:6,function:4,async_function:2,api_function:2,react_component:3,react_hook_component:3,react_functional_component:3,class:0,data_class:1,error_class:6,type_definition:4,component_types:4,config_types:4,constant:4,import_export:4,unknown:7};let qe=[];if(oe.length>1)try{const Ye=new J1(oe.map(Yt=>Yt.embedding));console.log("📊 Embedding matrix shape:",Ye.rows,"x",Ye.columns);const tt=Ye.mean("column"),Ue=Ye.subRowVector(tt),{V:nt}=Ue.svd(),lt=nt.getColumn(0),gt=nt.getColumn(1),Lt=Ue.mmul(J1.columnVector(lt).augment(J1.columnVector(gt)));console.log("📊 PCA projection completed"),qe=oe.map((Yt,Ot)=>{const Pt=De[Yt.metadata.semanticType]??5,cr=typeof Yt.metadata.complexity=="object"?Yt.metadata.complexity.score:Yt.metadata.complexity||0;return{id:Yt.id,x:Lt.get(Ot,0),y:Lt.get(Ot,1),cluster:Pt,chunk:Yt,semanticType:Yt.metadata.semanticType,complexity:cr}})}catch(Ye){console.warn("📊 PCA failed, falling back to simple projection:",Ye),qe=oe.map(tt=>{const Ue=De[tt.metadata.semanticType]??5,nt=typeof tt.metadata.complexity=="object"?tt.metadata.complexity.score:tt.metadata.complexity||0;return{id:tt.id,x:tt.embedding[0]||0,y:tt.embedding[1]||0,cluster:Ue,chunk:tt,semanticType:tt.metadata.semanticType,complexity:nt}})}else qe=he.map(Ye=>{var nt,lt;const tt=De[Ye.metadata.semanticType]??5,Ue=typeof Ye.metadata.complexity=="object"?Ye.metadata.complexity.score:Ye.metadata.complexity||0;return{id:Ye.id,x:((nt=Ye.embedding)==null?void 0:nt[0])||Math.random(),y:((lt=Ye.embedding)==null?void 0:lt[1])||Math.random(),cluster:tt,chunk:Ye,semanticType:Ye.metadata.semanticType,complexity:Ue}});if(console.log("📊 Generated cluster points:",qe.length),qe.length>0){const Ye=qe.map(Lt=>Lt.x),tt=qe.map(Lt=>Lt.y),Ue={minX:Math.min(...Ye),maxX:Math.max(...Ye),minY:Math.min(...tt),maxY:Math.max(...tt),rangeX:Math.max(...Ye)-Math.min(...Ye),rangeY:Math.max(...tt)-Math.min(...tt)};console.log("📊 Data bounds:",Ue);const nt=200/Math.max(Ue.rangeX,Ue.rangeY),lt=(Ue.minX+Ue.maxX)/2,gt=(Ue.minY+Ue.maxY)/2;qe=qe.map(Lt=>({...Lt,x:(Lt.x-lt)*nt,y:(Lt.y-gt)*nt})),console.log("📊 Normalized points to [-100, 100] range with scale:",nt)}m(qe),oe.length>0&&ge(he)},ge=async he=>{if(he.length===0)return;console.log("📊 Generating network data for",he.length,"chunks");const oe=he.slice(0,50).map((Ye,tt)=>{const Ue=p.find(nt=>nt.chunk.id===Ye.id);return{id:Ye.id,chunk:Ye,x:(Ue==null?void 0:Ue.x)||(Math.random()-.5)*200,y:(Ue==null?void 0:Ue.y)||(Math.random()-.5)*200,color:jf[Ye.metadata.semanticType]||jf.unknown}});console.log("📊 Created",oe.length,"network nodes");const De=[],qe=.3;for(let Ye=0;Ye<Math.min(oe.length,20);Ye++)try{const tt=await fetch("http://localhost:3333/api/vector-db/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:oe[Ye].chunk.metadata.content.slice(0,200),limit:10,minSimilarity:qe})});if(tt.ok){const Ue=await tt.json();(Array.isArray(Ue.results)?Ue.results:Array.isArray(Ue)?Ue:[]).forEach(lt=>{const gt=oe.findIndex(Lt=>Lt.id===lt.id);gt!==-1&&lt.id!==oe[Ye].id&&lt.similarity&&lt.similarity>=qe&&De.push({source:[oe[Ye].x,oe[Ye].y],target:[oe[gt].x,oe[gt].y],similarity:lt.similarity})})}}catch(tt){console.error("Error generating network data:",tt)}T(oe),P(De)},Me=async he=>{if(he.metadata.content){w(he);try{const oe=await fetch("http://localhost:3333/api/vector-db/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:he.metadata.content.slice(0,200),limit:20,minSimilarity:.3})});if(oe.ok){const De=await oe.json(),qe=Array.isArray(De.results)?De.results:Array.isArray(De)?De:[];c(qe.filter(Ye=>Ye.id!==he.id))}}catch(oe){console.error("Error finding similar chunks:",oe)}}},we=async()=>{o(!0);try{(await fetch("http://localhost:3333/api/vector-db/rebuild",{method:"POST"})).ok&&await le()}catch(he){console.error("Error rebuilding vector DB:",he)}finally{o(!1)}},Ke=()=>[...new Set(p.map(oe=>oe.semanticType))].map(oe=>{var De;return{label:oe.replace(/_/g," "),value:oe,color:`rgb(${((De=jf[oe])==null?void 0:De.join(","))||"156,163,175"})`}}),V=()=>[...new Set(p.map(oe=>oe.chunk.metadata.purpose).filter(Boolean))].map(oe=>({label:oe,value:oe})),fe=()=>p.filter(he=>{const oe=ne.length===0||ne.includes(he.semanticType),De=K.length===0||K.some(qe=>he.chunk.metadata.purpose.toLowerCase().includes(qe.toLowerCase()));return oe&&De}),se=()=>{const he=fe();return new yy({id:"cluster-layer",data:he,getPosition:oe=>[oe.x,oe.y,0],getRadius:oe=>Math.max(5,Math.min(25,oe.complexity*1.5+5)),radiusUnits:"pixels",getFillColor:oe=>jf[oe.semanticType]||jf.unknown,pickable:!0,onHover:oe=>{oe.object?L({object:oe.object,x:oe.x,y:oe.y}):L(null)},onClick:oe=>{oe.object&&Me(oe.object.chunk)}})},B=()=>{console.log("📊 Creating network layers with",E.length,"nodes and",C.length,"edges");const he=new yy({id:"network-nodes",data:E,getPosition:De=>[De.x,De.y,0],getRadius:12,radiusUnits:"pixels",getFillColor:De=>De.color,pickable:!0,onHover:De=>{De.object?Y({object:De.object,x:De.x,y:De.y}):Y(null)},onClick:De=>{De.object&&Me(De.object.chunk)}});return[new ET({id:"network-edges",data:C,getSourcePosition:De=>[...De.source,0],getTargetPosition:De=>[...De.target,0],getWidth:De=>Math.max(2,De.similarity*8),widthUnits:"pixels",getSourceColor:[120,120,120,180],getTargetColor:[120,120,120,180]}),he]},ce=he=>{if(!ue.current)return;const oe=ue.current.querySelector("canvas");if(oe){const De=document.createElement("a");De.download=`semantic-clusters-${Date.now()}.png`,De.href=oe.toDataURL(),De.click()}};k.useEffect(()=>{le()},[]),k.useEffect(()=>{j!=="overview"&&f.length===0&&le()},[j,f.length]),k.useEffect(()=>{t&&f.length===0&&(console.log("📊 Stats available but no chunks loaded, fetching chunks..."),le())},[t,f.length]);const Z=()=>{var De,qe;if(!U)return null;const oe=U.object.chunk;return b.jsxDEV("div",{className:"absolute z-50 bg-background border rounded-lg shadow-lg px-4 py-3 text-sm pointer-events-none",style:{left:U.x+12,top:U.y+12,minWidth:220,maxWidth:400},children:[b.jsxDEV("div",{className:"font-thin",children:oe.id},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:578,columnNumber:9},this),b.jsxDEV("div",{children:["Type: ",oe.metadata.semanticType]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:579,columnNumber:9},this),b.jsxDEV("div",{children:["Purpose: ",oe.metadata.purpose]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:580,columnNumber:9},this),b.jsxDEV("div",{children:["File: ",((qe=(De=oe.metadata.files)==null?void 0:De[0])==null?void 0:qe.split("/").slice(-2).join("/"))||"Unknown"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:581,columnNumber:9},this),b.jsxDEV("div",{children:["Complexity: ",typeof oe.metadata.complexity=="object"?`${oe.metadata.complexity.score} (${oe.metadata.complexity.level})`:oe.metadata.complexity]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:582,columnNumber:9},this),b.jsxDEV("div",{className:"mt-2 text-xs text-muted-foreground",children:[oe.metadata.content.slice(0,100),"..."]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:589,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:569,columnNumber:7},this)},xe=()=>{var De,qe;if(!O)return null;const oe=O.object.chunk;return b.jsxDEV("div",{className:"absolute z-50 bg-background border rounded-lg shadow-lg px-4 py-3 text-sm pointer-events-none",style:{left:O.x+12,top:O.y+12,minWidth:220,maxWidth:400},children:[b.jsxDEV("div",{className:"font-thin",children:oe.id},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:612,columnNumber:9},this),b.jsxDEV("div",{children:["Type: ",oe.metadata.semanticType]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:613,columnNumber:9},this),b.jsxDEV("div",{children:["Purpose: ",oe.metadata.purpose]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:614,columnNumber:9},this),b.jsxDEV("div",{children:["File: ",((qe=(De=oe.metadata.files)==null?void 0:De[0])==null?void 0:qe.split("/").slice(-2).join("/"))||"Unknown"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:615,columnNumber:9},this),b.jsxDEV("div",{children:["Complexity: ",typeof oe.metadata.complexity=="object"?`${oe.metadata.complexity.score} (${oe.metadata.complexity.level})`:oe.metadata.complexity]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:616,columnNumber:9},this),b.jsxDEV("div",{className:"mt-2 text-xs text-muted-foreground",children:[oe.metadata.content.slice(0,100),"..."]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:623,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:603,columnNumber:7},this)};return b.jsxDEV("div",{className:"w-full",children:[b.jsxDEV(gn,{className:"mb-6",children:b.jsxDEV(Kn,{children:[b.jsxDEV(Jn,{className:"flex items-center gap-2",children:[b.jsxDEV(pP,{className:"w-5 h-5"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:635,columnNumber:13},this),"Vector Database Explorer"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:634,columnNumber:11},this),b.jsxDEV(Ob,{children:"Explore your codebase through semantic similarity and visual analysis"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:638,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:633,columnNumber:9},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:632,columnNumber:7},this),b.jsxDEV(Hl,{value:j,onValueChange:D,className:"w-full",children:[b.jsxDEV(Wl,{className:"grid w-full grid-cols-3",children:[b.jsxDEV(sr,{value:"overview",className:"flex items-center gap-2",children:[b.jsxDEV(yE,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:647,columnNumber:13},this),"Overview"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:646,columnNumber:11},this),b.jsxDEV(sr,{value:"clusters",className:"flex items-center gap-2",children:[b.jsxDEV(jp,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:651,columnNumber:13},this),"Clusters"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:650,columnNumber:11},this),b.jsxDEV(sr,{value:"network",className:"flex items-center gap-2",children:[b.jsxDEV(H_,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:655,columnNumber:13},this),"Network"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:654,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:645,columnNumber:9},this),b.jsxDEV(lr,{value:"overview",className:"space-y-4",children:b.jsxDEV(gn,{children:[b.jsxDEV(Kn,{children:[b.jsxDEV(Jn,{children:"Database Status"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:663,columnNumber:15},this),b.jsxDEV(Ob,{children:"Vector database status and management"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:664,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:662,columnNumber:13},this),b.jsxDEV(vn,{children:[b.jsxDEV("div",{className:"flex gap-4 mb-4",children:[b.jsxDEV(Dt,{onClick:()=>le(!0),disabled:n,variant:"outline",size:"sm",children:[b.jsxDEV(Ds,{className:`w-4 h-4 mr-2 ${n?"animate-spin":""}`},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:676,columnNumber:19},this),"Refresh"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:670,columnNumber:17},this),b.jsxDEV(Dt,{onClick:we,disabled:s,variant:"outline",size:"sm",children:[b.jsxDEV(BN,{className:`w-4 h-4 mr-2 ${s?"animate-spin":""}`},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:685,columnNumber:19},this),"Rebuild Vector DB"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:679,columnNumber:17},this),t&&b.jsxDEV(yn,{variant:"secondary",children:[t.totalChunks," chunks indexed"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:689,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:669,columnNumber:15},this),!t&&!n&&b.jsxDEV("div",{className:"text-center py-8 text-muted-foreground",children:[b.jsxDEV(pP,{className:"w-12 h-12 mx-auto mb-4 opacity-50"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:697,columnNumber:19},this),b.jsxDEV("p",{children:"No vector DB data available"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:698,columnNumber:19},this),b.jsxDEV("p",{className:"text-sm",children:"Run a rebuild to see stats"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:699,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:696,columnNumber:17},this),n&&b.jsxDEV("div",{className:"text-center py-8",children:[b.jsxDEV(Ds,{className:"w-8 h-8 mx-auto animate-spin mb-2"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:705,columnNumber:19},this),b.jsxDEV("p",{children:"Loading vector DB status..."},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:706,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:704,columnNumber:17},this),t&&b.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4",children:[b.jsxDEV("div",{className:"p-4 border rounded-lg",children:[b.jsxDEV("div",{className:"text-2xl font-thin",children:t.totalChunks},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:713,columnNumber:21},this),b.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Total Chunks"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:714,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:712,columnNumber:19},this),b.jsxDEV("div",{className:"p-4 border rounded-lg",children:[b.jsxDEV("div",{className:"text-2xl font-thin",children:t.collectionName},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:717,columnNumber:21},this),b.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Collection"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:718,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:716,columnNumber:19},this),b.jsxDEV("div",{className:"p-4 border rounded-lg",children:[b.jsxDEV("div",{className:"text-2xl font-thin",children:t.modelName},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:721,columnNumber:21},this),b.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Model"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:722,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:720,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:711,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:668,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:661,columnNumber:11},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:660,columnNumber:9},this),b.jsxDEV(lr,{value:"clusters",className:"space-y-4",children:b.jsxDEV(gn,{children:[b.jsxDEV(Kn,{children:[b.jsxDEV(Jn,{className:"flex items-center gap-2",children:[b.jsxDEV(jp,{className:"w-5 h-5"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:735,columnNumber:17},this),"Semantic Code Clusters"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:734,columnNumber:15},this),b.jsxDEV(Ob,{children:"2D projection of code chunks by semantic similarity. Click points to explore."},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:738,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:733,columnNumber:13},this),b.jsxDEV(vn,{children:p.length>0?b.jsxDEV(b.Fragment,{children:[b.jsxDEV("div",{className:"space-y-4",children:b.jsxDEV("div",{className:"p-3 bg-muted/30 rounded-lg border space-y-3",children:[b.jsxDEV("div",{className:"flex items-center justify-between",children:[b.jsxDEV("div",{className:"flex items-center gap-2",children:b.jsxDEV(Dt,{variant:"outline",size:"sm",onClick:()=>le(!0),disabled:n,children:[b.jsxDEV(Ds,{className:`w-4 h-4 mr-1 ${n?"animate-spin":""}`},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:755,columnNumber:29},this),"Refresh Data"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:749,columnNumber:27},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:748,columnNumber:25},this),b.jsxDEV("div",{className:"flex items-center gap-2",children:[b.jsxDEV(Dt,{variant:"outline",size:"sm",onClick:()=>ce(),children:[b.jsxDEV(kx,{className:"w-4 h-4 mr-1"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:765,columnNumber:29},this),"Export PNG"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:760,columnNumber:27},this),b.jsxDEV(Dt,{variant:"outline",size:"sm",onClick:we,disabled:s,children:[b.jsxDEV(BN,{className:`w-4 h-4 mr-1 ${s?"animate-spin":""}`},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:774,columnNumber:29},this),"Rebuild"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:768,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:759,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:747,columnNumber:23},this),b.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-end",children:[b.jsxDEV("div",{className:"space-y-2",children:[b.jsxDEV("label",{className:"text-xs font-thin",children:"Semantic Types"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:782,columnNumber:27},this),b.jsxDEV(c2,{options:Ke(),selected:ne,onSelectedChange:Q,placeholder:"All types",className:"w-full"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:783,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:781,columnNumber:25},this),b.jsxDEV("div",{className:"space-y-2",children:[b.jsxDEV("label",{className:"text-sm font-thin",children:"Purposes"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:793,columnNumber:27},this),b.jsxDEV(c2,{options:V(),selected:K,onSelectedChange:G,placeholder:"All purposes",className:"w-full"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:794,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:792,columnNumber:25},this),b.jsxDEV("div",{className:"text-xs text-muted-foreground",children:["Showing ",fe().length," of ",p.length," points"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:803,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:780,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:746,columnNumber:21},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:745,columnNumber:19},this),b.jsxDEV("div",{ref:ue,className:"relative w-full h-[600px] border rounded-lg",children:[b.jsxDEV(aM,{initialViewState:{longitude:0,latitude:0,zoom:4},controller:!0,layers:[se()],width:"100%",height:"100%"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:811,columnNumber:21},this),Z()]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:810,columnNumber:19},this),b.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6",children:[b.jsxDEV("div",{className:"space-y-4",children:b.jsxDEV("div",{className:"p-4 bg-muted/30 rounded-lg border",children:[b.jsxDEV("div",{className:"text-sm font-thin mb-3 flex items-center gap-2",children:[b.jsxDEV("div",{className:"w-2 h-2 bg-primary rounded-full"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:829,columnNumber:27},this),"Visualization Features"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:828,columnNumber:25},this),b.jsxDEV("div",{className:"text-xs text-muted-foreground space-y-2",children:[b.jsxDEV("div",{className:"flex items-start gap-2",children:[b.jsxDEV("div",{className:"w-1 h-1 bg-muted-foreground rounded-full mt-1.5 flex-shrink-0"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:834,columnNumber:29},this),b.jsxDEV("span",{children:[b.jsxDEV("strong",{children:"PCA Dimensionality Reduction:"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:835,columnNumber:35},this)," Mathematical projection from high-dimensional embeddings"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:835,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:833,columnNumber:27},this),b.jsxDEV("div",{className:"flex items-start gap-2",children:[b.jsxDEV("div",{className:"w-1 h-1 bg-muted-foreground rounded-full mt-1.5 flex-shrink-0"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:838,columnNumber:29},this),b.jsxDEV("span",{children:[b.jsxDEV("strong",{children:"Interactive Controls:"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:839,columnNumber:35},this)," Mouse wheel zoom, drag to pan"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:839,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:837,columnNumber:27},this),b.jsxDEV("div",{className:"flex items-start gap-2",children:[b.jsxDEV("div",{className:"w-1 h-1 bg-muted-foreground rounded-full mt-1.5 flex-shrink-0"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:842,columnNumber:29},this),b.jsxDEV("span",{children:[b.jsxDEV("strong",{children:"Click to Explore:"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:843,columnNumber:35},this)," Click points to find similar chunks"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:843,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:841,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:832,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:827,columnNumber:23},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:826,columnNumber:21},this),b.jsxDEV("div",{className:"space-y-4",children:b.jsxDEV("div",{className:"p-4 bg-muted/30 rounded-lg border",children:[b.jsxDEV("div",{className:"text-sm font-thin mb-3 flex items-center gap-2",children:[b.jsxDEV("div",{className:"w-2 h-2 bg-chart-1 rounded-full"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:851,columnNumber:27},this),"Color Legend"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:850,columnNumber:25},this),b.jsxDEV("div",{className:"grid grid-cols-2 gap-3 text-xs",children:(()=>{const he=[...new Set(p.map(oe=>oe.semanticType))];return he.length===0?b.jsxDEV("div",{children:"No types found"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:858,columnNumber:38},this):he.map(oe=>{var De;return b.jsxDEV("div",{className:"flex items-center gap-2",children:[b.jsxDEV("div",{className:"w-3 h-3 rounded-full border border-border/50",style:{backgroundColor:`rgb(${((De=jf[oe])==null?void 0:De.join(","))||"156,163,175"})`}},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:862,columnNumber:33},this),b.jsxDEV("span",{className:"text-muted-foreground",children:oe.replace(/_/g," ")},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:868,columnNumber:33},this)]},oe,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:861,columnNumber:31},this)})})()},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:854,columnNumber:25},this),b.jsxDEV("div",{className:"mt-3 pt-3 border-t border-border/50",children:b.jsxDEV("div",{className:"text-xs text-muted-foreground",children:[b.jsxDEV("strong",{children:"Point Size:"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:875,columnNumber:29},this)," Represents code complexity"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:874,columnNumber:27},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:873,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:849,columnNumber:23},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:848,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:825,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:744,columnNumber:17},this):b.jsxDEV("div",{className:"text-center text-muted-foreground py-8",children:[b.jsxDEV(jp,{className:"w-12 h-12 mx-auto mb-4 opacity-50"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:884,columnNumber:19},this),b.jsxDEV("p",{children:"No clustering data available"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:885,columnNumber:19},this),b.jsxDEV("p",{className:"text-sm",children:"Go to Overview tab and refresh to load chunk embeddings"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:886,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:883,columnNumber:17},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:742,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:732,columnNumber:11},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:731,columnNumber:9},this),b.jsxDEV(lr,{value:"network",className:"space-y-4",children:b.jsxDEV(gn,{children:[b.jsxDEV(Kn,{children:[b.jsxDEV(Jn,{className:"flex items-center gap-2",children:[b.jsxDEV(H_,{className:"w-5 h-5"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:897,columnNumber:17},this),"Semantic Network Graph"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:896,columnNumber:15},this),b.jsxDEV(Ob,{children:"Network graph showing connections between similar code chunks. Click nodes to explore."},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:900,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:895,columnNumber:13},this),b.jsxDEV(vn,{children:E.length>0?b.jsxDEV("div",{ref:me,className:"relative w-full h-[600px] border rounded-lg",children:[b.jsxDEV(aM,{initialViewState:{longitude:0,latitude:0,zoom:4},controller:!0,layers:B(),width:"100%",height:"100%"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:907,columnNumber:19},this),xe(),b.jsxDEV("div",{className:"absolute bottom-4 left-4 text-sm text-muted-foreground bg-background/90 p-2 rounded",children:[b.jsxDEV("p",{children:["• ",b.jsxDEV("strong",{children:"Click"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:920,columnNumber:26},this)," nodes to find similar chunks"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:920,columnNumber:21},this),b.jsxDEV("p",{children:["• ",b.jsxDEV("strong",{children:"Line thickness"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:921,columnNumber:26},this)," shows similarity strength"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:921,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:919,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:906,columnNumber:17},this):b.jsxDEV("div",{className:"text-center text-muted-foreground py-8",children:[b.jsxDEV(H_,{className:"w-12 h-12 mx-auto mb-4 opacity-50"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:926,columnNumber:19},this),b.jsxDEV("p",{children:"Building network graph..."},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:927,columnNumber:19},this),b.jsxDEV("p",{className:"text-sm",children:"This may take a moment as we calculate similarities"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:928,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:925,columnNumber:17},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:904,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:894,columnNumber:11},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:893,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:644,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/VectorVisualization.tsx",lineNumber:631,columnNumber:5},this)}var AT="Progress",CT=100,[Ole,Jme]=Ra(AT),[Ule,Vle]=Ole(AT),P6=k.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:o=Fle,...l}=t;(s||s===0)&&!hM(s)&&console.error(Ble(`${s}`,"Progress"));const c=hM(s)?s:CT;r!==null&&!pM(r,c)&&console.error(Lle(`${r}`,"Progress"));const f=pM(r,c)?r:null,h=vy(f)?o(f,c):void 0;return je.jsx(Ule,{scope:n,value:f,max:c,children:je.jsx(jt.div,{"aria-valuemax":c,"aria-valuemin":0,"aria-valuenow":vy(f)?f:void 0,"aria-valuetext":h,role:"progressbar","data-state":I6(f,c),"data-value":f??void 0,"data-max":c,...l,ref:e})})});P6.displayName=AT;var j6="ProgressIndicator",M6=k.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,s=Vle(j6,n);return je.jsx(jt.div,{"data-state":I6(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});M6.displayName=j6;function Fle(t,e){return`${Math.round(t/e*100)}%`}function I6(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function vy(t){return typeof t=="number"}function hM(t){return vy(t)&&!isNaN(t)&&t>0}function pM(t,e){return vy(t)&&!isNaN(t)&&t<=e&&t>=0}function Ble(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${CT}\`.`}function Lle(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${CT} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var O6=P6,zle=M6;const KS=k.forwardRef(({className:t,value:e,...n},r)=>b.jsxDEV(O6,{ref:r,className:Wt("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:b.jsxDEV(zle,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/progress.tsx",lineNumber:18,columnNumber:5},void 0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/progress.tsx",lineNumber:10,columnNumber:3},void 0));KS.displayName=O6.displayName;class $le extends Error{constructor(n,r,s,o,l){super(n);H(this,"name","Assertion");H(this,"code","ERR_ASSERTION");Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.actual=r,this.expected=s,this.generated=l,this.operator=o}}function _e(t,e){U6(!!t,!1,!0,"ok","Expected value to be truthy",e)}function ZS(t){U6(!1,!1,!0,"ok","Unreachable",t)}function U6(t,e,n,r,s,o){if(!t)throw o instanceof Error?o:new $le(o||s,e,n,r,!o)}function Hle(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Wle=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,qle=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Xle={};function mM(t,e){return(Xle.jsx?qle:Wle).test(t)}const Yle=/[ \t\n\f\r]/g;function Kle(t){return typeof t=="object"?t.type==="text"?gM(t.value):!1:gM(t)}function gM(t){return t.replace(Yle,"")===""}class km{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}km.prototype.normal={};km.prototype.property={};km.prototype.space=void 0;function V6(t,e){const n={},r={};for(const s of t)Object.assign(n,s.property),Object.assign(r,s.normal);return new km(n,r,e)}function QS(t){return t.toLowerCase()}class Ws{constructor(e,n){this.attribute=n,this.property=e}}Ws.prototype.attribute="";Ws.prototype.booleanish=!1;Ws.prototype.boolean=!1;Ws.prototype.commaOrSpaceSeparated=!1;Ws.prototype.commaSeparated=!1;Ws.prototype.defined=!1;Ws.prototype.mustUseProperty=!1;Ws.prototype.number=!1;Ws.prototype.overloadedBoolean=!1;Ws.prototype.property="";Ws.prototype.spaceSeparated=!1;Ws.prototype.space=void 0;let Zle=0;const nn=wu(),kr=wu(),GS=wu(),at=wu(),Yn=wu(),ed=wu(),ri=wu();function wu(){return 2**++Zle}const JS=Object.freeze(Object.defineProperty({__proto__:null,boolean:nn,booleanish:kr,commaOrSpaceSeparated:ri,commaSeparated:ed,number:at,overloadedBoolean:GS,spaceSeparated:Yn},Symbol.toStringTag,{value:"Module"})),eN=Object.keys(JS);class RT extends Ws{constructor(e,n,r,s){let o=-1;if(super(e,n),bM(this,"space",s),typeof r=="number")for(;++o<eN.length;){const l=eN[o];bM(this,eN[o],(r&JS[l])===JS[l])}}}RT.prototype.defined=!0;function bM(t,e,n){n&&(t[e]=n)}function Vd(t){const e={},n={};for(const[r,s]of Object.entries(t.properties)){const o=new RT(r,t.transform(t.attributes||{},r),s,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),e[r]=o,n[QS(r)]=r,n[QS(o.attribute)]=r}return new km(e,n,t.space)}const F6=Vd({properties:{ariaActiveDescendant:null,ariaAtomic:kr,ariaAutoComplete:null,ariaBusy:kr,ariaChecked:kr,ariaColCount:at,ariaColIndex:at,ariaColSpan:at,ariaControls:Yn,ariaCurrent:null,ariaDescribedBy:Yn,ariaDetails:null,ariaDisabled:kr,ariaDropEffect:Yn,ariaErrorMessage:null,ariaExpanded:kr,ariaFlowTo:Yn,ariaGrabbed:kr,ariaHasPopup:null,ariaHidden:kr,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Yn,ariaLevel:at,ariaLive:null,ariaModal:kr,ariaMultiLine:kr,ariaMultiSelectable:kr,ariaOrientation:null,ariaOwns:Yn,ariaPlaceholder:null,ariaPosInSet:at,ariaPressed:kr,ariaReadOnly:kr,ariaRelevant:null,ariaRequired:kr,ariaRoleDescription:Yn,ariaRowCount:at,ariaRowIndex:at,ariaRowSpan:at,ariaSelected:kr,ariaSetSize:at,ariaSort:null,ariaValueMax:at,ariaValueMin:at,ariaValueNow:at,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function B6(t,e){return e in t?t[e]:e}function L6(t,e){return B6(t,e.toLowerCase())}const Qle=Vd({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:ed,acceptCharset:Yn,accessKey:Yn,action:null,allow:null,allowFullScreen:nn,allowPaymentRequest:nn,allowUserMedia:nn,alt:null,as:null,async:nn,autoCapitalize:null,autoComplete:Yn,autoFocus:nn,autoPlay:nn,blocking:Yn,capture:null,charSet:null,checked:nn,cite:null,className:Yn,cols:at,colSpan:null,content:null,contentEditable:kr,controls:nn,controlsList:Yn,coords:at|ed,crossOrigin:null,data:null,dateTime:null,decoding:null,default:nn,defer:nn,dir:null,dirName:null,disabled:nn,download:GS,draggable:kr,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:nn,formTarget:null,headers:Yn,height:at,hidden:GS,high:at,href:null,hrefLang:null,htmlFor:Yn,httpEquiv:Yn,id:null,imageSizes:null,imageSrcSet:null,inert:nn,inputMode:null,integrity:null,is:null,isMap:nn,itemId:null,itemProp:Yn,itemRef:Yn,itemScope:nn,itemType:Yn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:nn,low:at,manifest:null,max:null,maxLength:at,media:null,method:null,min:null,minLength:at,multiple:nn,muted:nn,name:null,nonce:null,noModule:nn,noValidate:nn,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:nn,optimum:at,pattern:null,ping:Yn,placeholder:null,playsInline:nn,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:nn,referrerPolicy:null,rel:Yn,required:nn,reversed:nn,rows:at,rowSpan:at,sandbox:Yn,scope:null,scoped:nn,seamless:nn,selected:nn,shadowRootClonable:nn,shadowRootDelegatesFocus:nn,shadowRootMode:null,shape:null,size:at,sizes:null,slot:null,span:at,spellCheck:kr,src:null,srcDoc:null,srcLang:null,srcSet:null,start:at,step:null,style:null,tabIndex:at,target:null,title:null,translate:null,type:null,typeMustMatch:nn,useMap:null,value:kr,width:at,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Yn,axis:null,background:null,bgColor:null,border:at,borderColor:null,bottomMargin:at,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:nn,declare:nn,event:null,face:null,frame:null,frameBorder:null,hSpace:at,leftMargin:at,link:null,longDesc:null,lowSrc:null,marginHeight:at,marginWidth:at,noResize:nn,noHref:nn,noShade:nn,noWrap:nn,object:null,profile:null,prompt:null,rev:null,rightMargin:at,rules:null,scheme:null,scrolling:kr,standby:null,summary:null,text:null,topMargin:at,valueType:null,version:null,vAlign:null,vLink:null,vSpace:at,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:nn,disableRemotePlayback:nn,prefix:null,property:null,results:at,security:null,unselectable:null},space:"html",transform:L6}),Gle=Vd({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:ri,accentHeight:at,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:at,amplitude:at,arabicForm:null,ascent:at,attributeName:null,attributeType:null,azimuth:at,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:at,by:null,calcMode:null,capHeight:at,className:Yn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:at,diffuseConstant:at,direction:null,display:null,dur:null,divisor:at,dominantBaseline:null,download:nn,dx:null,dy:null,edgeMode:null,editable:null,elevation:at,enableBackground:null,end:null,event:null,exponent:at,externalResourcesRequired:null,fill:null,fillOpacity:at,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:ed,g2:ed,glyphName:ed,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:at,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:at,horizOriginX:at,horizOriginY:at,id:null,ideographic:at,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:at,k:at,k1:at,k2:at,k3:at,k4:at,kernelMatrix:ri,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:at,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:at,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:at,overlineThickness:at,paintOrder:null,panose1:null,path:null,pathLength:at,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Yn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:at,pointsAtY:at,pointsAtZ:at,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ri,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ri,rev:ri,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ri,requiredFeatures:ri,requiredFonts:ri,requiredFormats:ri,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:at,specularExponent:at,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:at,strikethroughThickness:at,string:null,stroke:null,strokeDashArray:ri,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:at,strokeOpacity:at,strokeWidth:null,style:null,surfaceScale:at,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ri,tabIndex:at,tableValues:null,target:null,targetX:at,targetY:at,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ri,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:at,underlineThickness:at,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:at,values:null,vAlphabetic:at,vMathematical:at,vectorEffect:null,vHanging:at,vIdeographic:at,version:null,vertAdvY:at,vertOriginX:at,vertOriginY:at,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:at,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:B6}),z6=Vd({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),$6=Vd({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:L6}),H6=Vd({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),Jle={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},ece=/[A-Z]/g,xM=/-[a-z]/g,tce=/^data[-\w.:]+$/i;function nce(t,e){const n=QS(e);let r=e,s=Ws;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&tce.test(e)){if(e.charAt(4)==="-"){const o=e.slice(5).replace(xM,sce);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=e.slice(4);if(!xM.test(o)){let l=o.replace(ece,rce);l.charAt(0)!=="-"&&(l="-"+l),e="data"+l}}s=RT}return new s(r,e)}function rce(t){return"-"+t.toLowerCase()}function sce(t){return t.charAt(1).toUpperCase()}const ice=V6([F6,Qle,z6,$6,H6],"html"),kT=V6([F6,Gle,z6,$6,H6],"svg");function oce(t){return t.join(" ").trim()}var Mf={},tN,yM;function ace(){if(yM)return tN;yM=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,s=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,l=/^[;\s]*/,c=/^\s+|\s+$/g,f=`
`,h="/",p="*",m="",x="comment",w="declaration";tN=function(T,C){if(typeof T!="string")throw new TypeError("First argument must be a string");if(!T)return[];C=C||{};var P=1,j=1;function D(me){var le=me.match(e);le&&(P+=le.length);var ye=me.lastIndexOf(f);j=~ye?me.length-ye:j+me.length}function U(){var me={line:P,column:j};return function(le){return le.position=new L(me),ne(),le}}function L(me){this.start=me,this.end={line:P,column:j},this.source=C.source}L.prototype.content=T;function O(me){var le=new Error(C.source+":"+P+":"+j+": "+me);if(le.reason=me,le.filename=C.source,le.line=P,le.column=j,le.source=T,!C.silent)throw le}function Y(me){var le=me.exec(T);if(le){var ye=le[0];return D(ye),T=T.slice(ye.length),le}}function ne(){Y(n)}function Q(me){var le;for(me=me||[];le=K();)le!==!1&&me.push(le);return me}function K(){var me=U();if(!(h!=T.charAt(0)||p!=T.charAt(1))){for(var le=2;m!=T.charAt(le)&&(p!=T.charAt(le)||h!=T.charAt(le+1));)++le;if(le+=2,m===T.charAt(le-1))return O("End of comment missing");var ye=T.slice(2,le-2);return j+=2,D(ye),T=T.slice(le),j+=2,me({type:x,comment:ye})}}function G(){var me=U(),le=Y(r);if(le){if(K(),!Y(s))return O("property missing ':'");var ye=Y(o),ge=me({type:w,property:E(le[0].replace(t,m)),value:ye?E(ye[0].replace(t,m)):m});return Y(l),ge}}function ue(){var me=[];Q(me);for(var le;le=G();)le!==!1&&(me.push(le),Q(me));return me}return ne(),ue()};function E(T){return T?T.replace(c,m):m}return tN}var vM;function lce(){if(vM)return Mf;vM=1;var t=Mf&&Mf.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Mf,"__esModule",{value:!0}),Mf.default=n;var e=t(ace());function n(r,s){var o=null;if(!r||typeof r!="string")return o;var l=(0,e.default)(r),c=typeof s=="function";return l.forEach(function(f){if(f.type==="declaration"){var h=f.property,p=f.value;c?s(h,p,f):p&&(o=o||{},o[h]=p)}}),o}return Mf}var xp={},wM;function cce(){if(wM)return xp;wM=1,Object.defineProperty(xp,"__esModule",{value:!0}),xp.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,s=/^-(ms)-/,o=function(h){return!h||n.test(h)||t.test(h)},l=function(h,p){return p.toUpperCase()},c=function(h,p){return"".concat(p,"-")},f=function(h,p){return p===void 0&&(p={}),o(h)?h:(h=h.toLowerCase(),p.reactCompat?h=h.replace(s,c):h=h.replace(r,c),h.replace(e,l))};return xp.camelCase=f,xp}var yp,_M;function uce(){if(_M)return yp;_M=1;var t=yp&&yp.__importDefault||function(s){return s&&s.__esModule?s:{default:s}},e=t(lce()),n=cce();function r(s,o){var l={};return!s||typeof s!="string"||(0,e.default)(s,function(c,f){c&&f&&(l[(0,n.camelCase)(c,o)]=f)}),l}return r.default=r,yp=r,yp}var fce=uce();const dce=bu(fce),W6=q6("end"),DT=q6("start");function q6(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function hce(t){const e=DT(t),n=W6(t);if(e&&n)return{start:e,end:n}}function $p(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?NM(t.position):"start"in t||"end"in t?NM(t):"line"in t||"column"in t?eE(t):""}function eE(t){return SM(t&&t.line)+":"+SM(t&&t.column)}function NM(t){return eE(t&&t.start)+"-"+eE(t&&t.end)}function SM(t){return t&&typeof t=="number"?t:1}class ps extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let s="",o={},l=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof e=="string"?s=e:!o.cause&&e&&(l=!0,s=e.message,o.cause=e),!o.ruleId&&!o.source&&typeof r=="string"){const f=r.indexOf(":");f===-1?o.ruleId=r:(o.source=r.slice(0,f),o.ruleId=r.slice(f+1))}if(!o.place&&o.ancestors&&o.ancestors){const f=o.ancestors[o.ancestors.length-1];f&&(o.place=f.position)}const c=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=c?c.column:void 0,this.fatal=void 0,this.file,this.message=s,this.line=c?c.line:void 0,this.name=$p(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=l&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual,this.expected,this.note,this.url}}ps.prototype.file="";ps.prototype.name="";ps.prototype.reason="";ps.prototype.message="";ps.prototype.stack="";ps.prototype.column=void 0;ps.prototype.line=void 0;ps.prototype.ancestors=void 0;ps.prototype.cause=void 0;ps.prototype.fatal=void 0;ps.prototype.place=void 0;ps.prototype.ruleId=void 0;ps.prototype.source=void 0;const PT={}.hasOwnProperty,pce=new Map,mce=/[A-Z]/g,gce=new Set(["table","tbody","thead","tfoot","tr"]),bce=new Set(["td","th"]),X6="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function xce(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=Tce(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=Ece(n,e.jsx,e.jsxs)}const s={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?kT:ice,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},o=Y6(s,t,void 0);return o&&typeof o!="string"?o:s.create(t,s.Fragment,{children:o||void 0},void 0)}function Y6(t,e,n){if(e.type==="element")return yce(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return vce(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return _ce(t,e,n);if(e.type==="mdxjsEsm")return wce(t,e);if(e.type==="root")return Nce(t,e,n);if(e.type==="text")return Sce(t,e)}function yce(t,e,n){const r=t.schema;let s=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(s=kT,t.schema=s),t.ancestors.push(e);const o=Z6(t,e.tagName,!1),l=Ace(t,e);let c=MT(t,e);return gce.has(e.tagName)&&(c=c.filter(function(f){return typeof f=="string"?!Kle(f):!0})),K6(t,l,o,e),jT(l,c),t.ancestors.pop(),t.schema=r,t.create(e,o,l,n)}function vce(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return _e(r.type==="ExpressionStatement"),t.evaluater.evaluateExpression(r.expression)}am(t,e.position)}function wce(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);am(t,e.position)}function _ce(t,e,n){const r=t.schema;let s=r;e.name==="svg"&&r.space==="html"&&(s=kT,t.schema=s),t.ancestors.push(e);const o=e.name===null?t.Fragment:Z6(t,e.name,!0),l=Cce(t,e),c=MT(t,e);return K6(t,l,o,e),jT(l,c),t.ancestors.pop(),t.schema=r,t.create(e,o,l,n)}function Nce(t,e,n){const r={};return jT(r,MT(t,e)),t.create(e,t.Fragment,r,n)}function Sce(t,e){return e.value}function K6(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function jT(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function Ece(t,e,n){return r;function r(s,o,l,c){const h=Array.isArray(l.children)?n:e;return c?h(o,l,c):h(o,l)}}function Tce(t,e){return n;function n(r,s,o,l){const c=Array.isArray(o.children),f=DT(r);return e(s,o,l,c,{columnNumber:f?f.column-1:void 0,fileName:t,lineNumber:f?f.line:void 0},void 0)}}function Ace(t,e){const n={};let r,s;for(s in e.properties)if(s!=="children"&&PT.call(e.properties,s)){const o=Rce(t,s,e.properties[s]);if(o){const[l,c]=o;t.tableCellAlignToStyle&&l==="align"&&typeof c=="string"&&bce.has(e.tagName)?r=c:n[l]=c}}if(r){const o=n.style||(n.style={});o[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function Cce(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const o=r.data.estree.body[0];_e(o.type==="ExpressionStatement");const l=o.expression;_e(l.type==="ObjectExpression");const c=l.properties[0];_e(c.type==="SpreadElement"),Object.assign(n,t.evaluater.evaluateExpression(c.argument))}else am(t,e.position);else{const s=r.name;let o;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const c=r.value.data.estree.body[0];_e(c.type==="ExpressionStatement"),o=t.evaluater.evaluateExpression(c.expression)}else am(t,e.position);else o=r.value===null?!0:r.value;n[s]=o}return n}function MT(t,e){const n=[];let r=-1;const s=t.passKeys?new Map:pce;for(;++r<e.children.length;){const o=e.children[r];let l;if(t.passKeys){const f=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(f){const h=s.get(f)||0;l=f+"-"+h,s.set(f,h+1)}}const c=Y6(t,o,l);c!==void 0&&n.push(c)}return n}function Rce(t,e,n){const r=nce(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?Hle(n):oce(n)),r.property==="style"){let s=typeof n=="object"?n:kce(t,String(n));return t.stylePropertyNameCase==="css"&&(s=Dce(s)),["style",s]}return[t.elementAttributeNameCase==="react"&&r.space?Jle[r.property]||r.property:r.attribute,n]}}function kce(t,e){try{return dce(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,s=new ps("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw s.file=t.filePath||void 0,s.url=X6+"#cannot-parse-style-attribute",s}}function Z6(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const s=e.split(".");let o=-1,l;for(;++o<s.length;){const c=mM(s[o])?{type:"Identifier",name:s[o]}:{type:"Literal",value:s[o]};l=l?{type:"MemberExpression",object:l,property:c,computed:!!(o&&c.type==="Literal"),optional:!1}:c}_e(l,"always a result"),r=l}else r=mM(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const s=r.value;return PT.call(t.components,s)?t.components[s]:s}if(t.evaluater)return t.evaluater.evaluateExpression(r);am(t)}function am(t,e){const n=new ps("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=X6+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Dce(t){const e={};let n;for(n in t)PT.call(t,n)&&(e[Pce(n)]=t[n]);return e}function Pce(t){let e=t.replace(mce,jce);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function jce(t){return"-"+t.toLowerCase()}const nN={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Mce={};function IT(t,e){const n=Mce,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,s=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Q6(t,r,s)}function Q6(t,e,n){if(Ice(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return EM(t.children,e,n)}return Array.isArray(t)?EM(t,e,n):""}function EM(t,e,n){const r=[];let s=-1;for(;++s<t.length;)r[s]=Q6(t[s],e,n);return r.join("")}function Ice(t){return!!(t&&typeof t=="object")}const TM=document.createElement("i");function OT(t){const e="&"+t+";";TM.innerHTML=e;const n=TM.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}const M={carriageReturn:-5,lineFeed:-4,carriageReturnLineFeed:-3,horizontalTab:-2,virtualSpace:-1,eof:null,nul:0,ht:9,lf:10,vt:11,cr:13,space:32,exclamationMark:33,quotationMark:34,numberSign:35,percentSign:37,ampersand:38,apostrophe:39,leftParenthesis:40,rightParenthesis:41,asterisk:42,plusSign:43,comma:44,dash:45,dot:46,slash:47,digit0:48,digit1:49,digit2:50,digit3:51,digit4:52,digit5:53,digit6:54,digit7:55,digit8:56,digit9:57,colon:58,semicolon:59,lessThan:60,equalsTo:61,greaterThan:62,questionMark:63,atSign:64,uppercaseA:65,uppercaseH:72,uppercaseW:87,uppercaseX:88,leftSquareBracket:91,backslash:92,rightSquareBracket:93,caret:94,underscore:95,graveAccent:96,lowercaseA:97,lowercaseH:104,lowercaseW:119,lowercaseX:120,leftCurlyBrace:123,verticalBar:124,tilde:126,del:127,byteOrderMarker:65279,replacementCharacter:65533},dt={attentionSideAfter:2,atxHeadingOpeningFenceSizeMax:6,autolinkDomainSizeMax:63,autolinkSchemeSizeMax:32,cdataOpeningString:"CDATA[",characterGroupPunctuation:2,characterGroupWhitespace:1,characterReferenceDecimalSizeMax:7,characterReferenceHexadecimalSizeMax:6,characterReferenceNamedSizeMax:31,codeFencedSequenceSizeMin:3,contentTypeContent:"content",contentTypeFlow:"flow",contentTypeString:"string",contentTypeText:"text",hardBreakPrefixSizeMin:2,htmlBasic:6,htmlCdata:5,htmlComment:2,htmlComplete:7,htmlDeclaration:4,htmlInstruction:3,htmlRawSizeMax:8,htmlRaw:1,linkResourceDestinationBalanceMax:32,linkReferenceSizeMax:999,listItemValueSizeMax:10,numericBaseDecimal:10,numericBaseHexadecimal:16,tabSize:4,thematicBreakMarkerCountMin:3,v8MaxSafeChunkSize:1e4},z={data:"data",whitespace:"whitespace",lineEnding:"lineEnding",lineEndingBlank:"lineEndingBlank",linePrefix:"linePrefix",lineSuffix:"lineSuffix",atxHeading:"atxHeading",atxHeadingSequence:"atxHeadingSequence",atxHeadingText:"atxHeadingText",autolink:"autolink",autolinkEmail:"autolinkEmail",autolinkMarker:"autolinkMarker",autolinkProtocol:"autolinkProtocol",characterEscape:"characterEscape",characterEscapeValue:"characterEscapeValue",characterReference:"characterReference",characterReferenceMarker:"characterReferenceMarker",characterReferenceMarkerNumeric:"characterReferenceMarkerNumeric",characterReferenceMarkerHexadecimal:"characterReferenceMarkerHexadecimal",characterReferenceValue:"characterReferenceValue",codeFenced:"codeFenced",codeFencedFence:"codeFencedFence",codeFencedFenceSequence:"codeFencedFenceSequence",codeFencedFenceInfo:"codeFencedFenceInfo",codeFencedFenceMeta:"codeFencedFenceMeta",codeFlowValue:"codeFlowValue",codeIndented:"codeIndented",codeText:"codeText",codeTextData:"codeTextData",codeTextPadding:"codeTextPadding",codeTextSequence:"codeTextSequence",content:"content",definition:"definition",definitionDestination:"definitionDestination",definitionDestinationLiteral:"definitionDestinationLiteral",definitionDestinationLiteralMarker:"definitionDestinationLiteralMarker",definitionDestinationRaw:"definitionDestinationRaw",definitionDestinationString:"definitionDestinationString",definitionLabel:"definitionLabel",definitionLabelMarker:"definitionLabelMarker",definitionLabelString:"definitionLabelString",definitionMarker:"definitionMarker",definitionTitle:"definitionTitle",definitionTitleMarker:"definitionTitleMarker",definitionTitleString:"definitionTitleString",emphasis:"emphasis",emphasisSequence:"emphasisSequence",emphasisText:"emphasisText",escapeMarker:"escapeMarker",hardBreakEscape:"hardBreakEscape",hardBreakTrailing:"hardBreakTrailing",htmlFlow:"htmlFlow",htmlFlowData:"htmlFlowData",htmlText:"htmlText",htmlTextData:"htmlTextData",image:"image",label:"label",labelText:"labelText",labelLink:"labelLink",labelImage:"labelImage",labelMarker:"labelMarker",labelImageMarker:"labelImageMarker",labelEnd:"labelEnd",link:"link",paragraph:"paragraph",reference:"reference",referenceMarker:"referenceMarker",referenceString:"referenceString",resource:"resource",resourceDestination:"resourceDestination",resourceDestinationLiteral:"resourceDestinationLiteral",resourceDestinationLiteralMarker:"resourceDestinationLiteralMarker",resourceDestinationRaw:"resourceDestinationRaw",resourceDestinationString:"resourceDestinationString",resourceMarker:"resourceMarker",resourceTitle:"resourceTitle",resourceTitleMarker:"resourceTitleMarker",resourceTitleString:"resourceTitleString",setextHeading:"setextHeading",setextHeadingText:"setextHeadingText",setextHeadingLine:"setextHeadingLine",setextHeadingLineSequence:"setextHeadingLineSequence",strong:"strong",strongSequence:"strongSequence",strongText:"strongText",thematicBreak:"thematicBreak",thematicBreakSequence:"thematicBreakSequence",blockQuote:"blockQuote",blockQuotePrefix:"blockQuotePrefix",blockQuoteMarker:"blockQuoteMarker",blockQuotePrefixWhitespace:"blockQuotePrefixWhitespace",listOrdered:"listOrdered",listUnordered:"listUnordered",listItemIndent:"listItemIndent",listItemMarker:"listItemMarker",listItemPrefix:"listItemPrefix",listItemPrefixWhitespace:"listItemPrefixWhitespace",listItemValue:"listItemValue",chunkContent:"chunkContent",chunkFlow:"chunkFlow",chunkText:"chunkText",chunkString:"chunkString"},Co={ht:"	",lf:`
`,cr:"\r",space:" ",replacementCharacter:"�"};function ui(t,e,n,r){const s=t.length;let o=0,l;if(e<0?e=-e>s?0:s+e:e=e>s?s:e,n=n>0?n:0,r.length<dt.v8MaxSafeChunkSize)l=Array.from(r),l.unshift(e,n),t.splice(...l);else for(n&&t.splice(e,n);o<r.length;)l=r.slice(o,o+dt.v8MaxSafeChunkSize),l.unshift(e,0),t.splice(...l),o+=dt.v8MaxSafeChunkSize,e+=dt.v8MaxSafeChunkSize}function Ti(t,e){return t.length>0?(ui(t,t.length,0,e),t):e}const AM={}.hasOwnProperty;function G6(t){const e={};let n=-1;for(;++n<t.length;)Oce(e,t[n]);return e}function Oce(t,e){let n;for(n in e){const s=(AM.call(t,n)?t[n]:void 0)||(t[n]={}),o=e[n];let l;if(o)for(l in o){AM.call(s,l)||(s[l]=[]);const c=o[l];Uce(s[l],Array.isArray(c)?c:c?[c]:[])}}}function Uce(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);ui(t,0,0,r)}function J6(t,e){const n=Number.parseInt(t,e);return n<M.ht||n===M.vt||n>M.cr&&n<M.space||n>M.tilde&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?Co.replacementCharacter:String.fromCodePoint(n)}function to(t){return t.replace(/[\t\n\r ]+/g,Co.space).replace(/^ | $/g,"").toLowerCase().toUpperCase()}const ks=Kl(/[A-Za-z]/),hs=Kl(/[\dA-Za-z]/),Vce=Kl(/[#-'*+\--9=?A-Z^-~]/);function wy(t){return t!==null&&(t<M.space||t===M.del)}const tE=Kl(/\d/),Fce=Kl(/[\dA-Fa-f]/),Bce=Kl(/[!-/:-@[-`{-~]/);function vt(t){return t!==null&&t<M.horizontalTab}function Wn(t){return t!==null&&(t<M.nul||t===M.space)}function hn(t){return t===M.horizontalTab||t===M.virtualSpace||t===M.space}const pv=Kl(new RegExp("\\p{P}|\\p{S}","u")),gu=Kl(/\s/);function Kl(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function Fd(t){const e=[];let n=-1,r=0,s=0;for(;++n<t.length;){const o=t.charCodeAt(n);let l="";if(o===M.percentSign&&hs(t.charCodeAt(n+1))&&hs(t.charCodeAt(n+2)))s=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(l=String.fromCharCode(o));else if(o>55295&&o<57344){const c=t.charCodeAt(n+1);o<56320&&c>56319&&c<57344?(l=String.fromCharCode(o,c),s=1):l=Co.replacementCharacter}else l=String.fromCharCode(o);l&&(e.push(t.slice(r,n),encodeURIComponent(l)),r=n+s+1,l=""),s&&(n+=s,s=0)}return e.join("")+t.slice(r)}function wn(t,e,n,r){const s=r?r-1:Number.POSITIVE_INFINITY;let o=0;return l;function l(f){return hn(f)?(t.enter(n),c(f)):e(f)}function c(f){return hn(f)&&o++<s?(t.consume(f),c):(t.exit(n),e(f))}}const Lce={tokenize:zce};function zce(t){const e=t.attempt(this.parser.constructs.contentInitial,r,s);let n;return e;function r(c){if(_e(c===M.eof||vt(c),"expected eol or eof"),c===M.eof){t.consume(c);return}return t.enter(z.lineEnding),t.consume(c),t.exit(z.lineEnding),wn(t,e,z.linePrefix)}function s(c){return _e(c!==M.eof&&!vt(c),"expected anything other than a line ending or EOF"),t.enter(z.paragraph),o(c)}function o(c){const f=t.enter(z.chunkText,{contentType:dt.contentTypeText,previous:n});return n&&(n.next=f),n=f,l(c)}function l(c){if(c===M.eof){t.exit(z.chunkText),t.exit(z.paragraph),t.consume(c);return}return vt(c)?(t.consume(c),t.exit(z.chunkText),o):(t.consume(c),l)}}const $ce={tokenize:Hce},CM={tokenize:Wce};function Hce(t){const e=this,n=[];let r=0,s,o,l;return c;function c(D){if(r<n.length){const U=n[r];return e.containerState=U[1],_e(U[0].continuation,"expected `continuation` to be defined on container construct"),t.attempt(U[0].continuation,f,h)(D)}return h(D)}function f(D){if(_e(e.containerState,"expected `containerState` to be defined after continuation"),r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,s&&j();const U=e.events.length;let L=U,O;for(;L--;)if(e.events[L][0]==="exit"&&e.events[L][1].type===z.chunkFlow){O=e.events[L][1].end;break}_e(O,"could not find previous flow chunk"),P(r);let Y=U;for(;Y<e.events.length;)e.events[Y][1].end={...O},Y++;return ui(e.events,L+1,0,e.events.slice(U)),e.events.length=Y,h(D)}return c(D)}function h(D){if(r===n.length){if(!s)return x(D);if(s.currentConstruct&&s.currentConstruct.concrete)return E(D);e.interrupt=!!(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(CM,p,m)(D)}function p(D){return s&&j(),P(r),x(D)}function m(D){return e.parser.lazy[e.now().line]=r!==n.length,l=e.now().offset,E(D)}function x(D){return e.containerState={},t.attempt(CM,w,E)(D)}function w(D){return _e(e.currentConstruct,"expected `currentConstruct` to be defined on tokenizer"),_e(e.containerState,"expected `containerState` to be defined on tokenizer"),r++,n.push([e.currentConstruct,e.containerState]),x(D)}function E(D){if(D===M.eof){s&&j(),P(0),t.consume(D);return}return s=s||e.parser.flow(e.now()),t.enter(z.chunkFlow,{_tokenizer:s,contentType:dt.contentTypeFlow,previous:o}),T(D)}function T(D){if(D===M.eof){C(t.exit(z.chunkFlow),!0),P(0),t.consume(D);return}return vt(D)?(t.consume(D),C(t.exit(z.chunkFlow)),r=0,e.interrupt=void 0,c):(t.consume(D),T)}function C(D,U){_e(s,"expected `childFlow` to be defined when continuing");const L=e.sliceStream(D);if(U&&L.push(null),D.previous=o,o&&(o.next=D),o=D,s.defineSkip(D.start),s.write(L),e.parser.lazy[D.start.line]){let O=s.events.length;for(;O--;)if(s.events[O][1].start.offset<l&&(!s.events[O][1].end||s.events[O][1].end.offset>l))return;const Y=e.events.length;let ne=Y,Q,K;for(;ne--;)if(e.events[ne][0]==="exit"&&e.events[ne][1].type===z.chunkFlow){if(Q){K=e.events[ne][1].end;break}Q=!0}for(_e(K,"could not find previous flow chunk"),P(r),O=Y;O<e.events.length;)e.events[O][1].end={...K},O++;ui(e.events,ne+1,0,e.events.slice(Y)),e.events.length=O}}function P(D){let U=n.length;for(;U-- >D;){const L=n[U];e.containerState=L[1],_e(L[0].exit,"expected `exit` to be defined on container construct"),L[0].exit.call(e,t)}n.length=D}function j(){_e(e.containerState,"expected `containerState` to be defined when closing flow"),_e(s,"expected `childFlow` to be defined when closing it"),s.write([M.eof]),o=void 0,s=void 0,e.containerState._closeFlow=void 0}}function Wce(t,e,n){return _e(this.parser.constructs.disable.null,"expected `disable.null` to be populated"),wn(t,t.attempt(this.parser.constructs.document,e,n),z.linePrefix,this.parser.constructs.disable.null.includes("codeIndented")?void 0:dt.tabSize)}function Cd(t){if(t===M.eof||Wn(t)||gu(t))return dt.characterGroupWhitespace;if(pv(t))return dt.characterGroupPunctuation}function mv(t,e,n){const r=[];let s=-1;for(;++s<t.length;){const o=t[s].resolveAll;o&&!r.includes(o)&&(e=o(e,n),r.push(o))}return e}const nE={name:"attention",resolveAll:qce,tokenize:Xce};function qce(t,e){let n=-1,r,s,o,l,c,f,h,p;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;f=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const m={...t[r][1].end},x={...t[n][1].start};RM(m,-f),RM(x,f),l={type:f>1?z.strongSequence:z.emphasisSequence,start:m,end:{...t[r][1].end}},c={type:f>1?z.strongSequence:z.emphasisSequence,start:{...t[n][1].start},end:x},o={type:f>1?z.strongText:z.emphasisText,start:{...t[r][1].end},end:{...t[n][1].start}},s={type:f>1?z.strong:z.emphasis,start:{...l.start},end:{...c.end}},t[r][1].end={...l.start},t[n][1].start={...c.end},h=[],t[r][1].end.offset-t[r][1].start.offset&&(h=Ti(h,[["enter",t[r][1],e],["exit",t[r][1],e]])),h=Ti(h,[["enter",s,e],["enter",l,e],["exit",l,e],["enter",o,e]]),_e(e.parser.constructs.insideSpan.null,"expected `insideSpan` to be populated"),h=Ti(h,mv(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),h=Ti(h,[["exit",o,e],["enter",c,e],["exit",c,e],["exit",s,e]]),t[n][1].end.offset-t[n][1].start.offset?(p=2,h=Ti(h,[["enter",t[n][1],e],["exit",t[n][1],e]])):p=0,ui(t,r-1,n-r+3,h),n=r+h.length-p-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function Xce(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,s=Cd(r);let o;return l;function l(f){return _e(f===M.asterisk||f===M.underscore,"expected asterisk or underscore"),o=f,t.enter("attentionSequence"),c(f)}function c(f){if(f===o)return t.consume(f),c;const h=t.exit("attentionSequence"),p=Cd(f);_e(n,"expected `attentionMarkers` to be populated");const m=!p||p===dt.characterGroupPunctuation&&s||n.includes(f),x=!s||s===dt.characterGroupPunctuation&&p||n.includes(r);return h._open=!!(o===M.asterisk?m:m&&(s||!x)),h._close=!!(o===M.asterisk?x:x&&(p||!m)),e(f)}}function RM(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const Yce={name:"autolink",tokenize:Kce};function Kce(t,e,n){let r=0;return s;function s(w){return _e(w===M.lessThan,"expected `<`"),t.enter(z.autolink),t.enter(z.autolinkMarker),t.consume(w),t.exit(z.autolinkMarker),t.enter(z.autolinkProtocol),o}function o(w){return ks(w)?(t.consume(w),l):w===M.atSign?n(w):h(w)}function l(w){return w===M.plusSign||w===M.dash||w===M.dot||hs(w)?(r=1,c(w)):h(w)}function c(w){return w===M.colon?(t.consume(w),r=0,f):(w===M.plusSign||w===M.dash||w===M.dot||hs(w))&&r++<dt.autolinkSchemeSizeMax?(t.consume(w),c):(r=0,h(w))}function f(w){return w===M.greaterThan?(t.exit(z.autolinkProtocol),t.enter(z.autolinkMarker),t.consume(w),t.exit(z.autolinkMarker),t.exit(z.autolink),e):w===M.eof||w===M.space||w===M.lessThan||wy(w)?n(w):(t.consume(w),f)}function h(w){return w===M.atSign?(t.consume(w),p):Vce(w)?(t.consume(w),h):n(w)}function p(w){return hs(w)?m(w):n(w)}function m(w){return w===M.dot?(t.consume(w),r=0,p):w===M.greaterThan?(t.exit(z.autolinkProtocol).type=z.autolinkEmail,t.enter(z.autolinkMarker),t.consume(w),t.exit(z.autolinkMarker),t.exit(z.autolink),e):x(w)}function x(w){if((w===M.dash||hs(w))&&r++<dt.autolinkDomainSizeMax){const E=w===M.dash?x:m;return t.consume(w),E}return n(w)}}const Dm={partial:!0,tokenize:Zce};function Zce(t,e,n){return r;function r(o){return hn(o)?wn(t,s,z.linePrefix)(o):s(o)}function s(o){return o===M.eof||vt(o)?e(o):n(o)}}const eB={continuation:{tokenize:Gce},exit:Jce,name:"blockQuote",tokenize:Qce};function Qce(t,e,n){const r=this;return s;function s(l){if(l===M.greaterThan){const c=r.containerState;return _e(c,"expected `containerState` to be defined in container"),c.open||(t.enter(z.blockQuote,{_container:!0}),c.open=!0),t.enter(z.blockQuotePrefix),t.enter(z.blockQuoteMarker),t.consume(l),t.exit(z.blockQuoteMarker),o}return n(l)}function o(l){return hn(l)?(t.enter(z.blockQuotePrefixWhitespace),t.consume(l),t.exit(z.blockQuotePrefixWhitespace),t.exit(z.blockQuotePrefix),e):(t.exit(z.blockQuotePrefix),e(l))}}function Gce(t,e,n){const r=this;return s;function s(l){return hn(l)?(_e(r.parser.constructs.disable.null,"expected `disable.null` to be populated"),wn(t,o,z.linePrefix,r.parser.constructs.disable.null.includes("codeIndented")?void 0:dt.tabSize)(l)):o(l)}function o(l){return t.attempt(eB,e,n)(l)}}function Jce(t){t.exit(z.blockQuote)}const tB={name:"characterEscape",tokenize:eue};function eue(t,e,n){return r;function r(o){return _e(o===M.backslash,"expected `\\`"),t.enter(z.characterEscape),t.enter(z.escapeMarker),t.consume(o),t.exit(z.escapeMarker),s}function s(o){return Bce(o)?(t.enter(z.characterEscapeValue),t.consume(o),t.exit(z.characterEscapeValue),t.exit(z.characterEscape),e):n(o)}}const nB={name:"characterReference",tokenize:tue};function tue(t,e,n){const r=this;let s=0,o,l;return c;function c(m){return _e(m===M.ampersand,"expected `&`"),t.enter(z.characterReference),t.enter(z.characterReferenceMarker),t.consume(m),t.exit(z.characterReferenceMarker),f}function f(m){return m===M.numberSign?(t.enter(z.characterReferenceMarkerNumeric),t.consume(m),t.exit(z.characterReferenceMarkerNumeric),h):(t.enter(z.characterReferenceValue),o=dt.characterReferenceNamedSizeMax,l=hs,p(m))}function h(m){return m===M.uppercaseX||m===M.lowercaseX?(t.enter(z.characterReferenceMarkerHexadecimal),t.consume(m),t.exit(z.characterReferenceMarkerHexadecimal),t.enter(z.characterReferenceValue),o=dt.characterReferenceHexadecimalSizeMax,l=Fce,p):(t.enter(z.characterReferenceValue),o=dt.characterReferenceDecimalSizeMax,l=tE,p(m))}function p(m){if(m===M.semicolon&&s){const x=t.exit(z.characterReferenceValue);return l===hs&&!OT(r.sliceSerialize(x))?n(m):(t.enter(z.characterReferenceMarker),t.consume(m),t.exit(z.characterReferenceMarker),t.exit(z.characterReference),e)}return l(m)&&s++<o?(t.consume(m),p):n(m)}}const kM={partial:!0,tokenize:rue},DM={concrete:!0,name:"codeFenced",tokenize:nue};function nue(t,e,n){const r=this,s={partial:!0,tokenize:L};let o=0,l=0,c;return f;function f(O){return h(O)}function h(O){_e(O===M.graveAccent||O===M.tilde,"expected `` ` `` or `~`");const Y=r.events[r.events.length-1];return o=Y&&Y[1].type===z.linePrefix?Y[2].sliceSerialize(Y[1],!0).length:0,c=O,t.enter(z.codeFenced),t.enter(z.codeFencedFence),t.enter(z.codeFencedFenceSequence),p(O)}function p(O){return O===c?(l++,t.consume(O),p):l<dt.codeFencedSequenceSizeMin?n(O):(t.exit(z.codeFencedFenceSequence),hn(O)?wn(t,m,z.whitespace)(O):m(O))}function m(O){return O===M.eof||vt(O)?(t.exit(z.codeFencedFence),r.interrupt?e(O):t.check(kM,T,U)(O)):(t.enter(z.codeFencedFenceInfo),t.enter(z.chunkString,{contentType:dt.contentTypeString}),x(O))}function x(O){return O===M.eof||vt(O)?(t.exit(z.chunkString),t.exit(z.codeFencedFenceInfo),m(O)):hn(O)?(t.exit(z.chunkString),t.exit(z.codeFencedFenceInfo),wn(t,w,z.whitespace)(O)):O===M.graveAccent&&O===c?n(O):(t.consume(O),x)}function w(O){return O===M.eof||vt(O)?m(O):(t.enter(z.codeFencedFenceMeta),t.enter(z.chunkString,{contentType:dt.contentTypeString}),E(O))}function E(O){return O===M.eof||vt(O)?(t.exit(z.chunkString),t.exit(z.codeFencedFenceMeta),m(O)):O===M.graveAccent&&O===c?n(O):(t.consume(O),E)}function T(O){return _e(vt(O),"expected eol"),t.attempt(s,U,C)(O)}function C(O){return _e(vt(O),"expected eol"),t.enter(z.lineEnding),t.consume(O),t.exit(z.lineEnding),P}function P(O){return o>0&&hn(O)?wn(t,j,z.linePrefix,o+1)(O):j(O)}function j(O){return O===M.eof||vt(O)?t.check(kM,T,U)(O):(t.enter(z.codeFlowValue),D(O))}function D(O){return O===M.eof||vt(O)?(t.exit(z.codeFlowValue),j(O)):(t.consume(O),D)}function U(O){return t.exit(z.codeFenced),e(O)}function L(O,Y,ne){let Q=0;return K;function K(ye){return _e(vt(ye),"expected eol"),O.enter(z.lineEnding),O.consume(ye),O.exit(z.lineEnding),G}function G(ye){return _e(r.parser.constructs.disable.null,"expected `disable.null` to be populated"),O.enter(z.codeFencedFence),hn(ye)?wn(O,ue,z.linePrefix,r.parser.constructs.disable.null.includes("codeIndented")?void 0:dt.tabSize)(ye):ue(ye)}function ue(ye){return ye===c?(O.enter(z.codeFencedFenceSequence),me(ye)):ne(ye)}function me(ye){return ye===c?(Q++,O.consume(ye),me):Q>=l?(O.exit(z.codeFencedFenceSequence),hn(ye)?wn(O,le,z.whitespace)(ye):le(ye)):ne(ye)}function le(ye){return ye===M.eof||vt(ye)?(O.exit(z.codeFencedFence),Y(ye)):ne(ye)}}}function rue(t,e,n){const r=this;return s;function s(l){return l===M.eof?n(l):(_e(vt(l),"expected eol"),t.enter(z.lineEnding),t.consume(l),t.exit(z.lineEnding),o)}function o(l){return r.parser.lazy[r.now().line]?n(l):e(l)}}const rN={name:"codeIndented",tokenize:iue},sue={partial:!0,tokenize:oue};function iue(t,e,n){const r=this;return s;function s(h){return _e(hn(h)),t.enter(z.codeIndented),wn(t,o,z.linePrefix,dt.tabSize+1)(h)}function o(h){const p=r.events[r.events.length-1];return p&&p[1].type===z.linePrefix&&p[2].sliceSerialize(p[1],!0).length>=dt.tabSize?l(h):n(h)}function l(h){return h===M.eof?f(h):vt(h)?t.attempt(sue,l,f)(h):(t.enter(z.codeFlowValue),c(h))}function c(h){return h===M.eof||vt(h)?(t.exit(z.codeFlowValue),l(h)):(t.consume(h),c)}function f(h){return t.exit(z.codeIndented),e(h)}}function oue(t,e,n){const r=this;return s;function s(l){return r.parser.lazy[r.now().line]?n(l):vt(l)?(t.enter(z.lineEnding),t.consume(l),t.exit(z.lineEnding),s):wn(t,o,z.linePrefix,dt.tabSize+1)(l)}function o(l){const c=r.events[r.events.length-1];return c&&c[1].type===z.linePrefix&&c[2].sliceSerialize(c[1],!0).length>=dt.tabSize?e(l):vt(l)?s(l):n(l)}}const aue={name:"codeText",previous:rB,resolve:lue,tokenize:cue};function lue(t){let e=t.length-4,n=3,r,s;if((t[n][1].type===z.lineEnding||t[n][1].type==="space")&&(t[e][1].type===z.lineEnding||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type===z.codeTextData){t[n][1].type=z.codeTextPadding,t[e][1].type=z.codeTextPadding,n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)s===void 0?r!==e&&t[r][1].type!==z.lineEnding&&(s=r):(r===e||t[r][1].type===z.lineEnding)&&(t[s][1].type=z.codeTextData,r!==s+2&&(t[s][1].end=t[r-1][1].end,t.splice(s+2,r-s-2),e-=r-s-2,r=s+2),s=void 0);return t}function rB(t){return t!==M.graveAccent||this.events[this.events.length-1][1].type===z.characterEscape}function cue(t,e,n){const r=this;let s=0,o,l;return c;function c(x){return _e(x===M.graveAccent,"expected `` ` ``"),_e(rB.call(r,r.previous),"expected correct previous"),t.enter(z.codeText),t.enter(z.codeTextSequence),f(x)}function f(x){return x===M.graveAccent?(t.consume(x),s++,f):(t.exit(z.codeTextSequence),h(x))}function h(x){return x===M.eof?n(x):x===M.space?(t.enter("space"),t.consume(x),t.exit("space"),h):x===M.graveAccent?(l=t.enter(z.codeTextSequence),o=0,m(x)):vt(x)?(t.enter(z.lineEnding),t.consume(x),t.exit(z.lineEnding),h):(t.enter(z.codeTextData),p(x))}function p(x){return x===M.eof||x===M.space||x===M.graveAccent||vt(x)?(t.exit(z.codeTextData),h(x)):(t.consume(x),p)}function m(x){return x===M.graveAccent?(t.consume(x),o++,m):o===s?(t.exit(z.codeTextSequence),t.exit(z.codeText),e(x)):(l.type=z.codeTextData,p(x))}}class uue{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const s=n||0;this.setCursor(Math.trunc(e));const o=this.right.splice(this.right.length-s,Number.POSITIVE_INFINITY);return r&&vp(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),vp(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),vp(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);vp(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);vp(this.left,n.reverse())}}}function vp(t,e){let n=0;if(e.length<dt.v8MaxSafeChunkSize)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+dt.v8MaxSafeChunkSize)),n+=dt.v8MaxSafeChunkSize}function sB(t){const e={};let n=-1,r,s,o,l,c,f,h;const p=new uue(t);for(;++n<p.length;){for(;n in e;)n=e[n];if(r=p.get(n),n&&r[1].type===z.chunkFlow&&p.get(n-1)[1].type===z.listItemPrefix&&(_e(r[1]._tokenizer,"expected `_tokenizer` on subtokens"),f=r[1]._tokenizer.events,o=0,o<f.length&&f[o][1].type===z.lineEndingBlank&&(o+=2),o<f.length&&f[o][1].type===z.content))for(;++o<f.length&&f[o][1].type!==z.content;)f[o][1].type===z.chunkText&&(f[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,fue(p,n)),n=e[n],h=!0);else if(r[1]._container){for(o=n,s=void 0;o--;)if(l=p.get(o),l[1].type===z.lineEnding||l[1].type===z.lineEndingBlank)l[0]==="enter"&&(s&&(p.get(s)[1].type=z.lineEndingBlank),l[1].type=z.lineEnding,s=o);else if(!(l[1].type===z.linePrefix||l[1].type===z.listItemIndent))break;s&&(r[1].end={...p.get(s)[1].start},c=p.slice(s,n),c.unshift(r),p.splice(s,n-s+1,c))}}return ui(t,0,Number.POSITIVE_INFINITY,p.slice(0)),!h}function fue(t,e){const n=t.get(e)[1],r=t.get(e)[2];let s=e-1;const o=[];_e(n.contentType,"expected `contentType` on subtokens");let l=n._tokenizer;l||(l=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(l._contentTypeTextTrailing=!0));const c=l.events,f=[],h={};let p,m,x=-1,w=n,E=0,T=0;const C=[T];for(;w;){for(;t.get(++s)[1]!==w;);_e(!m||w.previous===m,"expected previous to match"),_e(!m||m.next===w,"expected next to match"),o.push(s),w._tokenizer||(p=r.sliceStream(w),w.next||p.push(M.eof),m&&l.defineSkip(w.start),w._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(p),w._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),m=w,w=w.next}for(w=n;++x<c.length;)c[x][0]==="exit"&&c[x-1][0]==="enter"&&c[x][1].type===c[x-1][1].type&&c[x][1].start.line!==c[x][1].end.line&&(_e(w,"expected a current token"),T=x+1,C.push(T),w._tokenizer=void 0,w.previous=void 0,w=w.next);for(l.events=[],w?(w._tokenizer=void 0,w.previous=void 0,_e(!w.next,"expected no next token")):C.pop(),x=C.length;x--;){const P=c.slice(C[x],C[x+1]),j=o.pop();_e(j!==void 0,"expected a start position when splicing"),f.push([j,j+P.length-1]),t.splice(j,2,P)}for(f.reverse(),x=-1;++x<f.length;)h[E+f[x][0]]=E+f[x][1],E+=f[x][1]-f[x][0]-1;return h}const due={resolve:pue,tokenize:mue},hue={partial:!0,tokenize:gue};function pue(t){return sB(t),t}function mue(t,e){let n;return r;function r(c){return _e(c!==M.eof&&!vt(c),"expected no eof or eol"),t.enter(z.content),n=t.enter(z.chunkContent,{contentType:dt.contentTypeContent}),s(c)}function s(c){return c===M.eof?o(c):vt(c)?t.check(hue,l,o)(c):(t.consume(c),s)}function o(c){return t.exit(z.chunkContent),t.exit(z.content),e(c)}function l(c){return _e(vt(c),"expected eol"),t.consume(c),t.exit(z.chunkContent),_e(n,"expected previous token"),n.next=t.enter(z.chunkContent,{contentType:dt.contentTypeContent,previous:n}),n=n.next,s}}function gue(t,e,n){const r=this;return s;function s(l){return _e(vt(l),"expected a line ending"),t.exit(z.chunkContent),t.enter(z.lineEnding),t.consume(l),t.exit(z.lineEnding),wn(t,o,z.linePrefix)}function o(l){if(l===M.eof||vt(l))return n(l);_e(r.parser.constructs.disable.null,"expected `disable.null` to be populated");const c=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&c&&c[1].type===z.linePrefix&&c[2].sliceSerialize(c[1],!0).length>=dt.tabSize?e(l):t.interrupt(r.parser.constructs.flow,n,e)(l)}}function iB(t,e,n,r,s,o,l,c,f){const h=f||Number.POSITIVE_INFINITY;let p=0;return m;function m(P){return P===M.lessThan?(t.enter(r),t.enter(s),t.enter(o),t.consume(P),t.exit(o),x):P===M.eof||P===M.space||P===M.rightParenthesis||wy(P)?n(P):(t.enter(r),t.enter(l),t.enter(c),t.enter(z.chunkString,{contentType:dt.contentTypeString}),T(P))}function x(P){return P===M.greaterThan?(t.enter(o),t.consume(P),t.exit(o),t.exit(s),t.exit(r),e):(t.enter(c),t.enter(z.chunkString,{contentType:dt.contentTypeString}),w(P))}function w(P){return P===M.greaterThan?(t.exit(z.chunkString),t.exit(c),x(P)):P===M.eof||P===M.lessThan||vt(P)?n(P):(t.consume(P),P===M.backslash?E:w)}function E(P){return P===M.lessThan||P===M.greaterThan||P===M.backslash?(t.consume(P),w):w(P)}function T(P){return!p&&(P===M.eof||P===M.rightParenthesis||Wn(P))?(t.exit(z.chunkString),t.exit(c),t.exit(l),t.exit(r),e(P)):p<h&&P===M.leftParenthesis?(t.consume(P),p++,T):P===M.rightParenthesis?(t.consume(P),p--,T):P===M.eof||P===M.space||P===M.leftParenthesis||wy(P)?n(P):(t.consume(P),P===M.backslash?C:T)}function C(P){return P===M.leftParenthesis||P===M.rightParenthesis||P===M.backslash?(t.consume(P),T):T(P)}}function oB(t,e,n,r,s,o){const l=this;let c=0,f;return h;function h(w){return _e(w===M.leftSquareBracket,"expected `[`"),t.enter(r),t.enter(s),t.consume(w),t.exit(s),t.enter(o),p}function p(w){return c>dt.linkReferenceSizeMax||w===M.eof||w===M.leftSquareBracket||w===M.rightSquareBracket&&!f||w===M.caret&&!c&&"_hiddenFootnoteSupport"in l.parser.constructs?n(w):w===M.rightSquareBracket?(t.exit(o),t.enter(s),t.consume(w),t.exit(s),t.exit(r),e):vt(w)?(t.enter(z.lineEnding),t.consume(w),t.exit(z.lineEnding),p):(t.enter(z.chunkString,{contentType:dt.contentTypeString}),m(w))}function m(w){return w===M.eof||w===M.leftSquareBracket||w===M.rightSquareBracket||vt(w)||c++>dt.linkReferenceSizeMax?(t.exit(z.chunkString),p(w)):(t.consume(w),f||(f=!hn(w)),w===M.backslash?x:m)}function x(w){return w===M.leftSquareBracket||w===M.backslash||w===M.rightSquareBracket?(t.consume(w),c++,m):m(w)}}function aB(t,e,n,r,s,o){let l;return c;function c(x){return x===M.quotationMark||x===M.apostrophe||x===M.leftParenthesis?(t.enter(r),t.enter(s),t.consume(x),t.exit(s),l=x===M.leftParenthesis?M.rightParenthesis:x,f):n(x)}function f(x){return x===l?(t.enter(s),t.consume(x),t.exit(s),t.exit(r),e):(t.enter(o),h(x))}function h(x){return x===l?(t.exit(o),f(l)):x===M.eof?n(x):vt(x)?(t.enter(z.lineEnding),t.consume(x),t.exit(z.lineEnding),wn(t,h,z.linePrefix)):(t.enter(z.chunkString,{contentType:dt.contentTypeString}),p(x))}function p(x){return x===l||x===M.eof||vt(x)?(t.exit(z.chunkString),h(x)):(t.consume(x),x===M.backslash?m:p)}function m(x){return x===l||x===M.backslash?(t.consume(x),p):p(x)}}function Hp(t,e){let n;return r;function r(s){return vt(s)?(t.enter(z.lineEnding),t.consume(s),t.exit(z.lineEnding),n=!0,r):hn(s)?wn(t,r,n?z.linePrefix:z.lineSuffix)(s):e(s)}}const bue={name:"definition",tokenize:yue},xue={partial:!0,tokenize:vue};function yue(t,e,n){const r=this;let s;return o;function o(w){return t.enter(z.definition),l(w)}function l(w){return _e(w===M.leftSquareBracket,"expected `[`"),oB.call(r,t,c,n,z.definitionLabel,z.definitionLabelMarker,z.definitionLabelString)(w)}function c(w){return s=to(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),w===M.colon?(t.enter(z.definitionMarker),t.consume(w),t.exit(z.definitionMarker),f):n(w)}function f(w){return Wn(w)?Hp(t,h)(w):h(w)}function h(w){return iB(t,p,n,z.definitionDestination,z.definitionDestinationLiteral,z.definitionDestinationLiteralMarker,z.definitionDestinationRaw,z.definitionDestinationString)(w)}function p(w){return t.attempt(xue,m,m)(w)}function m(w){return hn(w)?wn(t,x,z.whitespace)(w):x(w)}function x(w){return w===M.eof||vt(w)?(t.exit(z.definition),r.parser.defined.push(s),e(w)):n(w)}}function vue(t,e,n){return r;function r(c){return Wn(c)?Hp(t,s)(c):n(c)}function s(c){return aB(t,o,n,z.definitionTitle,z.definitionTitleMarker,z.definitionTitleString)(c)}function o(c){return hn(c)?wn(t,l,z.whitespace)(c):l(c)}function l(c){return c===M.eof||vt(c)?e(c):n(c)}}const wue={name:"hardBreakEscape",tokenize:_ue};function _ue(t,e,n){return r;function r(o){return _e(o===M.backslash,"expected `\\`"),t.enter(z.hardBreakEscape),t.consume(o),s}function s(o){return vt(o)?(t.exit(z.hardBreakEscape),e(o)):n(o)}}const Nue={name:"headingAtx",resolve:Sue,tokenize:Eue};function Sue(t,e){let n=t.length-2,r=3,s,o;return t[r][1].type===z.whitespace&&(r+=2),n-2>r&&t[n][1].type===z.whitespace&&(n-=2),t[n][1].type===z.atxHeadingSequence&&(r===n-1||n-4>r&&t[n-2][1].type===z.whitespace)&&(n-=r+1===n?2:4),n>r&&(s={type:z.atxHeadingText,start:t[r][1].start,end:t[n][1].end},o={type:z.chunkText,start:t[r][1].start,end:t[n][1].end,contentType:dt.contentTypeText},ui(t,r,n-r+1,[["enter",s,e],["enter",o,e],["exit",o,e],["exit",s,e]])),t}function Eue(t,e,n){let r=0;return s;function s(p){return t.enter(z.atxHeading),o(p)}function o(p){return _e(p===M.numberSign,"expected `#`"),t.enter(z.atxHeadingSequence),l(p)}function l(p){return p===M.numberSign&&r++<dt.atxHeadingOpeningFenceSizeMax?(t.consume(p),l):p===M.eof||Wn(p)?(t.exit(z.atxHeadingSequence),c(p)):n(p)}function c(p){return p===M.numberSign?(t.enter(z.atxHeadingSequence),f(p)):p===M.eof||vt(p)?(t.exit(z.atxHeading),e(p)):hn(p)?wn(t,c,z.whitespace)(p):(t.enter(z.atxHeadingText),h(p))}function f(p){return p===M.numberSign?(t.consume(p),f):(t.exit(z.atxHeadingSequence),c(p))}function h(p){return p===M.eof||p===M.numberSign||Wn(p)?(t.exit(z.atxHeadingText),c(p)):(t.consume(p),h)}}const Tue=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],PM=["pre","script","style","textarea"],Aue={concrete:!0,name:"htmlFlow",resolveTo:kue,tokenize:Due},Cue={partial:!0,tokenize:jue},Rue={partial:!0,tokenize:Pue};function kue(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type===z.htmlFlow););return e>1&&t[e-2][1].type===z.linePrefix&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function Due(t,e,n){const r=this;let s,o,l,c,f;return h;function h(B){return p(B)}function p(B){return _e(B===M.lessThan,"expected `<`"),t.enter(z.htmlFlow),t.enter(z.htmlFlowData),t.consume(B),m}function m(B){return B===M.exclamationMark?(t.consume(B),x):B===M.slash?(t.consume(B),o=!0,T):B===M.questionMark?(t.consume(B),s=dt.htmlInstruction,r.interrupt?e:V):ks(B)?(_e(B!==null),t.consume(B),l=String.fromCharCode(B),C):n(B)}function x(B){return B===M.dash?(t.consume(B),s=dt.htmlComment,w):B===M.leftSquareBracket?(t.consume(B),s=dt.htmlCdata,c=0,E):ks(B)?(t.consume(B),s=dt.htmlDeclaration,r.interrupt?e:V):n(B)}function w(B){return B===M.dash?(t.consume(B),r.interrupt?e:V):n(B)}function E(B){const ce=dt.cdataOpeningString;return B===ce.charCodeAt(c++)?(t.consume(B),c===ce.length?r.interrupt?e:ue:E):n(B)}function T(B){return ks(B)?(_e(B!==null),t.consume(B),l=String.fromCharCode(B),C):n(B)}function C(B){if(B===M.eof||B===M.slash||B===M.greaterThan||Wn(B)){const ce=B===M.slash,Z=l.toLowerCase();return!ce&&!o&&PM.includes(Z)?(s=dt.htmlRaw,r.interrupt?e(B):ue(B)):Tue.includes(l.toLowerCase())?(s=dt.htmlBasic,ce?(t.consume(B),P):r.interrupt?e(B):ue(B)):(s=dt.htmlComplete,r.interrupt&&!r.parser.lazy[r.now().line]?n(B):o?j(B):D(B))}return B===M.dash||hs(B)?(t.consume(B),l+=String.fromCharCode(B),C):n(B)}function P(B){return B===M.greaterThan?(t.consume(B),r.interrupt?e:ue):n(B)}function j(B){return hn(B)?(t.consume(B),j):K(B)}function D(B){return B===M.slash?(t.consume(B),K):B===M.colon||B===M.underscore||ks(B)?(t.consume(B),U):hn(B)?(t.consume(B),D):K(B)}function U(B){return B===M.dash||B===M.dot||B===M.colon||B===M.underscore||hs(B)?(t.consume(B),U):L(B)}function L(B){return B===M.equalsTo?(t.consume(B),O):hn(B)?(t.consume(B),L):D(B)}function O(B){return B===M.eof||B===M.lessThan||B===M.equalsTo||B===M.greaterThan||B===M.graveAccent?n(B):B===M.quotationMark||B===M.apostrophe?(t.consume(B),f=B,Y):hn(B)?(t.consume(B),O):ne(B)}function Y(B){return B===f?(t.consume(B),f=null,Q):B===M.eof||vt(B)?n(B):(t.consume(B),Y)}function ne(B){return B===M.eof||B===M.quotationMark||B===M.apostrophe||B===M.slash||B===M.lessThan||B===M.equalsTo||B===M.greaterThan||B===M.graveAccent||Wn(B)?L(B):(t.consume(B),ne)}function Q(B){return B===M.slash||B===M.greaterThan||hn(B)?D(B):n(B)}function K(B){return B===M.greaterThan?(t.consume(B),G):n(B)}function G(B){return B===M.eof||vt(B)?ue(B):hn(B)?(t.consume(B),G):n(B)}function ue(B){return B===M.dash&&s===dt.htmlComment?(t.consume(B),ge):B===M.lessThan&&s===dt.htmlRaw?(t.consume(B),Me):B===M.greaterThan&&s===dt.htmlDeclaration?(t.consume(B),fe):B===M.questionMark&&s===dt.htmlInstruction?(t.consume(B),V):B===M.rightSquareBracket&&s===dt.htmlCdata?(t.consume(B),Ke):vt(B)&&(s===dt.htmlBasic||s===dt.htmlComplete)?(t.exit(z.htmlFlowData),t.check(Cue,se,me)(B)):B===M.eof||vt(B)?(t.exit(z.htmlFlowData),me(B)):(t.consume(B),ue)}function me(B){return t.check(Rue,le,se)(B)}function le(B){return _e(vt(B)),t.enter(z.lineEnding),t.consume(B),t.exit(z.lineEnding),ye}function ye(B){return B===M.eof||vt(B)?me(B):(t.enter(z.htmlFlowData),ue(B))}function ge(B){return B===M.dash?(t.consume(B),V):ue(B)}function Me(B){return B===M.slash?(t.consume(B),l="",we):ue(B)}function we(B){if(B===M.greaterThan){const ce=l.toLowerCase();return PM.includes(ce)?(t.consume(B),fe):ue(B)}return ks(B)&&l.length<dt.htmlRawSizeMax?(_e(B!==null),t.consume(B),l+=String.fromCharCode(B),we):ue(B)}function Ke(B){return B===M.rightSquareBracket?(t.consume(B),V):ue(B)}function V(B){return B===M.greaterThan?(t.consume(B),fe):B===M.dash&&s===dt.htmlComment?(t.consume(B),V):ue(B)}function fe(B){return B===M.eof||vt(B)?(t.exit(z.htmlFlowData),se(B)):(t.consume(B),fe)}function se(B){return t.exit(z.htmlFlow),e(B)}}function Pue(t,e,n){const r=this;return s;function s(l){return vt(l)?(t.enter(z.lineEnding),t.consume(l),t.exit(z.lineEnding),o):n(l)}function o(l){return r.parser.lazy[r.now().line]?n(l):e(l)}}function jue(t,e,n){return r;function r(s){return _e(vt(s),"expected a line ending"),t.enter(z.lineEnding),t.consume(s),t.exit(z.lineEnding),t.attempt(Dm,e,n)}}const Mue={name:"htmlText",tokenize:Iue};function Iue(t,e,n){const r=this;let s,o,l;return c;function c(V){return _e(V===M.lessThan,"expected `<`"),t.enter(z.htmlText),t.enter(z.htmlTextData),t.consume(V),f}function f(V){return V===M.exclamationMark?(t.consume(V),h):V===M.slash?(t.consume(V),L):V===M.questionMark?(t.consume(V),D):ks(V)?(t.consume(V),ne):n(V)}function h(V){return V===M.dash?(t.consume(V),p):V===M.leftSquareBracket?(t.consume(V),o=0,E):ks(V)?(t.consume(V),j):n(V)}function p(V){return V===M.dash?(t.consume(V),w):n(V)}function m(V){return V===M.eof?n(V):V===M.dash?(t.consume(V),x):vt(V)?(l=m,Me(V)):(t.consume(V),m)}function x(V){return V===M.dash?(t.consume(V),w):m(V)}function w(V){return V===M.greaterThan?ge(V):V===M.dash?x(V):m(V)}function E(V){const fe=dt.cdataOpeningString;return V===fe.charCodeAt(o++)?(t.consume(V),o===fe.length?T:E):n(V)}function T(V){return V===M.eof?n(V):V===M.rightSquareBracket?(t.consume(V),C):vt(V)?(l=T,Me(V)):(t.consume(V),T)}function C(V){return V===M.rightSquareBracket?(t.consume(V),P):T(V)}function P(V){return V===M.greaterThan?ge(V):V===M.rightSquareBracket?(t.consume(V),P):T(V)}function j(V){return V===M.eof||V===M.greaterThan?ge(V):vt(V)?(l=j,Me(V)):(t.consume(V),j)}function D(V){return V===M.eof?n(V):V===M.questionMark?(t.consume(V),U):vt(V)?(l=D,Me(V)):(t.consume(V),D)}function U(V){return V===M.greaterThan?ge(V):D(V)}function L(V){return ks(V)?(t.consume(V),O):n(V)}function O(V){return V===M.dash||hs(V)?(t.consume(V),O):Y(V)}function Y(V){return vt(V)?(l=Y,Me(V)):hn(V)?(t.consume(V),Y):ge(V)}function ne(V){return V===M.dash||hs(V)?(t.consume(V),ne):V===M.slash||V===M.greaterThan||Wn(V)?Q(V):n(V)}function Q(V){return V===M.slash?(t.consume(V),ge):V===M.colon||V===M.underscore||ks(V)?(t.consume(V),K):vt(V)?(l=Q,Me(V)):hn(V)?(t.consume(V),Q):ge(V)}function K(V){return V===M.dash||V===M.dot||V===M.colon||V===M.underscore||hs(V)?(t.consume(V),K):G(V)}function G(V){return V===M.equalsTo?(t.consume(V),ue):vt(V)?(l=G,Me(V)):hn(V)?(t.consume(V),G):Q(V)}function ue(V){return V===M.eof||V===M.lessThan||V===M.equalsTo||V===M.greaterThan||V===M.graveAccent?n(V):V===M.quotationMark||V===M.apostrophe?(t.consume(V),s=V,me):vt(V)?(l=ue,Me(V)):hn(V)?(t.consume(V),ue):(t.consume(V),le)}function me(V){return V===s?(t.consume(V),s=void 0,ye):V===M.eof?n(V):vt(V)?(l=me,Me(V)):(t.consume(V),me)}function le(V){return V===M.eof||V===M.quotationMark||V===M.apostrophe||V===M.lessThan||V===M.equalsTo||V===M.graveAccent?n(V):V===M.slash||V===M.greaterThan||Wn(V)?Q(V):(t.consume(V),le)}function ye(V){return V===M.slash||V===M.greaterThan||Wn(V)?Q(V):n(V)}function ge(V){return V===M.greaterThan?(t.consume(V),t.exit(z.htmlTextData),t.exit(z.htmlText),e):n(V)}function Me(V){return _e(l,"expected return state"),_e(vt(V),"expected eol"),t.exit(z.htmlTextData),t.enter(z.lineEnding),t.consume(V),t.exit(z.lineEnding),we}function we(V){return _e(r.parser.constructs.disable.null,"expected `disable.null` to be populated"),hn(V)?wn(t,Ke,z.linePrefix,r.parser.constructs.disable.null.includes("codeIndented")?void 0:dt.tabSize)(V):Ke(V)}function Ke(V){return t.enter(z.htmlTextData),l(V)}}const UT={name:"labelEnd",resolveAll:Fue,resolveTo:Bue,tokenize:Lue},Oue={tokenize:zue},Uue={tokenize:$ue},Vue={tokenize:Hue};function Fue(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type===z.labelImage||r.type===z.labelLink||r.type===z.labelEnd){const s=r.type===z.labelImage?4:2;r.type=z.data,e+=s}}return t.length!==n.length&&ui(t,0,t.length,n),t}function Bue(t,e){let n=t.length,r=0,s,o,l,c;for(;n--;)if(s=t[n][1],o){if(s.type===z.link||s.type===z.labelLink&&s._inactive)break;t[n][0]==="enter"&&s.type===z.labelLink&&(s._inactive=!0)}else if(l){if(t[n][0]==="enter"&&(s.type===z.labelImage||s.type===z.labelLink)&&!s._balanced&&(o=n,s.type!==z.labelLink)){r=2;break}}else s.type===z.labelEnd&&(l=n);_e(o!==void 0,"`open` is supposed to be found"),_e(l!==void 0,"`close` is supposed to be found");const f={type:t[o][1].type===z.labelLink?z.link:z.image,start:{...t[o][1].start},end:{...t[t.length-1][1].end}},h={type:z.label,start:{...t[o][1].start},end:{...t[l][1].end}},p={type:z.labelText,start:{...t[o+r+2][1].end},end:{...t[l-2][1].start}};return c=[["enter",f,e],["enter",h,e]],c=Ti(c,t.slice(o+1,o+r+3)),c=Ti(c,[["enter",p,e]]),_e(e.parser.constructs.insideSpan.null,"expected `insideSpan.null` to be populated"),c=Ti(c,mv(e.parser.constructs.insideSpan.null,t.slice(o+r+4,l-3),e)),c=Ti(c,[["exit",p,e],t[l-2],t[l-1],["exit",h,e]]),c=Ti(c,t.slice(l+1)),c=Ti(c,[["exit",f,e]]),ui(t,o,t.length,c),t}function Lue(t,e,n){const r=this;let s=r.events.length,o,l;for(;s--;)if((r.events[s][1].type===z.labelImage||r.events[s][1].type===z.labelLink)&&!r.events[s][1]._balanced){o=r.events[s][1];break}return c;function c(x){return _e(x===M.rightSquareBracket,"expected `]`"),o?o._inactive?m(x):(l=r.parser.defined.includes(to(r.sliceSerialize({start:o.end,end:r.now()}))),t.enter(z.labelEnd),t.enter(z.labelMarker),t.consume(x),t.exit(z.labelMarker),t.exit(z.labelEnd),f):n(x)}function f(x){return x===M.leftParenthesis?t.attempt(Oue,p,l?p:m)(x):x===M.leftSquareBracket?t.attempt(Uue,p,l?h:m)(x):l?p(x):m(x)}function h(x){return t.attempt(Vue,p,m)(x)}function p(x){return e(x)}function m(x){return o._balanced=!0,n(x)}}function zue(t,e,n){return r;function r(m){return _e(m===M.leftParenthesis,"expected left paren"),t.enter(z.resource),t.enter(z.resourceMarker),t.consume(m),t.exit(z.resourceMarker),s}function s(m){return Wn(m)?Hp(t,o)(m):o(m)}function o(m){return m===M.rightParenthesis?p(m):iB(t,l,c,z.resourceDestination,z.resourceDestinationLiteral,z.resourceDestinationLiteralMarker,z.resourceDestinationRaw,z.resourceDestinationString,dt.linkResourceDestinationBalanceMax)(m)}function l(m){return Wn(m)?Hp(t,f)(m):p(m)}function c(m){return n(m)}function f(m){return m===M.quotationMark||m===M.apostrophe||m===M.leftParenthesis?aB(t,h,n,z.resourceTitle,z.resourceTitleMarker,z.resourceTitleString)(m):p(m)}function h(m){return Wn(m)?Hp(t,p)(m):p(m)}function p(m){return m===M.rightParenthesis?(t.enter(z.resourceMarker),t.consume(m),t.exit(z.resourceMarker),t.exit(z.resource),e):n(m)}}function $ue(t,e,n){const r=this;return s;function s(c){return _e(c===M.leftSquareBracket,"expected left bracket"),oB.call(r,t,o,l,z.reference,z.referenceMarker,z.referenceString)(c)}function o(c){return r.parser.defined.includes(to(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(c):n(c)}function l(c){return n(c)}}function Hue(t,e,n){return r;function r(o){return _e(o===M.leftSquareBracket,"expected left bracket"),t.enter(z.reference),t.enter(z.referenceMarker),t.consume(o),t.exit(z.referenceMarker),s}function s(o){return o===M.rightSquareBracket?(t.enter(z.referenceMarker),t.consume(o),t.exit(z.referenceMarker),t.exit(z.reference),e):n(o)}}const Wue={name:"labelStartImage",resolveAll:UT.resolveAll,tokenize:que};function que(t,e,n){const r=this;return s;function s(c){return _e(c===M.exclamationMark,"expected `!`"),t.enter(z.labelImage),t.enter(z.labelImageMarker),t.consume(c),t.exit(z.labelImageMarker),o}function o(c){return c===M.leftSquareBracket?(t.enter(z.labelMarker),t.consume(c),t.exit(z.labelMarker),t.exit(z.labelImage),l):n(c)}function l(c){return c===M.caret&&"_hiddenFootnoteSupport"in r.parser.constructs?n(c):e(c)}}const Xue={name:"labelStartLink",resolveAll:UT.resolveAll,tokenize:Yue};function Yue(t,e,n){const r=this;return s;function s(l){return _e(l===M.leftSquareBracket,"expected `[`"),t.enter(z.labelLink),t.enter(z.labelMarker),t.consume(l),t.exit(z.labelMarker),t.exit(z.labelLink),o}function o(l){return l===M.caret&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):e(l)}}const sN={name:"lineEnding",tokenize:Kue};function Kue(t,e){return n;function n(r){return _e(vt(r),"expected eol"),t.enter(z.lineEnding),t.consume(r),t.exit(z.lineEnding),wn(t,e,z.linePrefix)}}const Ex={name:"thematicBreak",tokenize:Zue};function Zue(t,e,n){let r=0,s;return o;function o(h){return t.enter(z.thematicBreak),l(h)}function l(h){return _e(h===M.asterisk||h===M.dash||h===M.underscore,"expected `*`, `-`, or `_`"),s=h,c(h)}function c(h){return h===s?(t.enter(z.thematicBreakSequence),f(h)):r>=dt.thematicBreakMarkerCountMin&&(h===M.eof||vt(h))?(t.exit(z.thematicBreak),e(h)):n(h)}function f(h){return h===s?(t.consume(h),r++,f):(t.exit(z.thematicBreakSequence),hn(h)?wn(t,c,z.whitespace)(h):c(h))}}const zs={continuation:{tokenize:efe},exit:nfe,name:"list",tokenize:Jue},Que={partial:!0,tokenize:rfe},Gue={partial:!0,tokenize:tfe};function Jue(t,e,n){const r=this,s=r.events[r.events.length-1];let o=s&&s[1].type===z.linePrefix?s[2].sliceSerialize(s[1],!0).length:0,l=0;return c;function c(w){_e(r.containerState,"expected state");const E=r.containerState.type||(w===M.asterisk||w===M.plusSign||w===M.dash?z.listUnordered:z.listOrdered);if(E===z.listUnordered?!r.containerState.marker||w===r.containerState.marker:tE(w)){if(r.containerState.type||(r.containerState.type=E,t.enter(E,{_container:!0})),E===z.listUnordered)return t.enter(z.listItemPrefix),w===M.asterisk||w===M.dash?t.check(Ex,n,h)(w):h(w);if(!r.interrupt||w===M.digit1)return t.enter(z.listItemPrefix),t.enter(z.listItemValue),f(w)}return n(w)}function f(w){return _e(r.containerState,"expected state"),tE(w)&&++l<dt.listItemValueSizeMax?(t.consume(w),f):(!r.interrupt||l<2)&&(r.containerState.marker?w===r.containerState.marker:w===M.rightParenthesis||w===M.dot)?(t.exit(z.listItemValue),h(w)):n(w)}function h(w){return _e(r.containerState,"expected state"),_e(w!==M.eof,"eof (`null`) is not a marker"),t.enter(z.listItemMarker),t.consume(w),t.exit(z.listItemMarker),r.containerState.marker=r.containerState.marker||w,t.check(Dm,r.interrupt?n:p,t.attempt(Que,x,m))}function p(w){return _e(r.containerState,"expected state"),r.containerState.initialBlankLine=!0,o++,x(w)}function m(w){return hn(w)?(t.enter(z.listItemPrefixWhitespace),t.consume(w),t.exit(z.listItemPrefixWhitespace),x):n(w)}function x(w){return _e(r.containerState,"expected state"),r.containerState.size=o+r.sliceSerialize(t.exit(z.listItemPrefix),!0).length,e(w)}}function efe(t,e,n){const r=this;return _e(r.containerState,"expected state"),r.containerState._closeFlow=void 0,t.check(Dm,s,o);function s(c){return _e(r.containerState,"expected state"),_e(typeof r.containerState.size=="number","expected size"),r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,wn(t,e,z.listItemIndent,r.containerState.size+1)(c)}function o(c){return _e(r.containerState,"expected state"),r.containerState.furtherBlankLines||!hn(c)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,l(c)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(Gue,e,l)(c))}function l(c){return _e(r.containerState,"expected state"),r.containerState._closeFlow=!0,r.interrupt=void 0,_e(r.parser.constructs.disable.null,"expected `disable.null` to be populated"),wn(t,t.attempt(zs,e,n),z.linePrefix,r.parser.constructs.disable.null.includes("codeIndented")?void 0:dt.tabSize)(c)}}function tfe(t,e,n){const r=this;return _e(r.containerState,"expected state"),_e(typeof r.containerState.size=="number","expected size"),wn(t,s,z.listItemIndent,r.containerState.size+1);function s(o){_e(r.containerState,"expected state");const l=r.events[r.events.length-1];return l&&l[1].type===z.listItemIndent&&l[2].sliceSerialize(l[1],!0).length===r.containerState.size?e(o):n(o)}}function nfe(t){_e(this.containerState,"expected state"),_e(typeof this.containerState.type=="string","expected type"),t.exit(this.containerState.type)}function rfe(t,e,n){const r=this;return _e(r.parser.constructs.disable.null,"expected `disable.null` to be populated"),wn(t,s,z.listItemPrefixWhitespace,r.parser.constructs.disable.null.includes("codeIndented")?void 0:dt.tabSize+1);function s(o){const l=r.events[r.events.length-1];return!hn(o)&&l&&l[1].type===z.listItemPrefixWhitespace?e(o):n(o)}}const jM={name:"setextUnderline",resolveTo:sfe,tokenize:ife};function sfe(t,e){let n=t.length,r,s,o;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type===z.content){r=n;break}t[n][1].type===z.paragraph&&(s=n)}else t[n][1].type===z.content&&t.splice(n,1),!o&&t[n][1].type===z.definition&&(o=n);_e(s!==void 0,"expected a `text` index to be found"),_e(r!==void 0,"expected a `text` index to be found"),_e(t[r][2]===e,"enter context should be same"),_e(t[t.length-1][2]===e,"enter context should be same");const l={type:z.setextHeading,start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[s][1].type=z.setextHeadingText,o?(t.splice(s,0,["enter",l,e]),t.splice(o+1,0,["exit",t[r][1],e]),t[r][1].end={...t[o][1].end}):t[r][1]=l,t.push(["exit",l,e]),t}function ife(t,e,n){const r=this;let s;return o;function o(h){let p=r.events.length,m;for(_e(h===M.dash||h===M.equalsTo,"expected `=` or `-`");p--;)if(r.events[p][1].type!==z.lineEnding&&r.events[p][1].type!==z.linePrefix&&r.events[p][1].type!==z.content){m=r.events[p][1].type===z.paragraph;break}return!r.parser.lazy[r.now().line]&&(r.interrupt||m)?(t.enter(z.setextHeadingLine),s=h,l(h)):n(h)}function l(h){return t.enter(z.setextHeadingLineSequence),c(h)}function c(h){return h===s?(t.consume(h),c):(t.exit(z.setextHeadingLineSequence),hn(h)?wn(t,f,z.lineSuffix)(h):f(h))}function f(h){return h===M.eof||vt(h)?(t.exit(z.setextHeadingLine),e(h)):n(h)}}const ofe={tokenize:afe};function afe(t){const e=this,n=t.attempt(Dm,r,t.attempt(this.parser.constructs.flowInitial,s,wn(t,t.attempt(this.parser.constructs.flow,s,t.attempt(due,s)),z.linePrefix)));return n;function r(o){if(_e(o===M.eof||vt(o),"expected eol or eof"),o===M.eof){t.consume(o);return}return t.enter(z.lineEndingBlank),t.consume(o),t.exit(z.lineEndingBlank),e.currentConstruct=void 0,n}function s(o){if(_e(o===M.eof||vt(o),"expected eol or eof"),o===M.eof){t.consume(o);return}return t.enter(z.lineEnding),t.consume(o),t.exit(z.lineEnding),e.currentConstruct=void 0,n}}const lfe={resolveAll:cB()},cfe=lB("string"),ufe=lB("text");function lB(t){return{resolveAll:cB(t==="text"?ffe:void 0),tokenize:e};function e(n){const r=this,s=this.parser.constructs[t],o=n.attempt(s,l,c);return l;function l(p){return h(p)?o(p):c(p)}function c(p){if(p===M.eof){n.consume(p);return}return n.enter(z.data),n.consume(p),f}function f(p){return h(p)?(n.exit(z.data),o(p)):(n.consume(p),f)}function h(p){if(p===M.eof)return!0;const m=s[p];let x=-1;if(m)for(_e(Array.isArray(m),"expected `disable.null` to be populated");++x<m.length;){const w=m[x];if(!w.previous||w.previous.call(r,r.previous))return!0}return!1}}}function cB(t){return e;function e(n,r){let s=-1,o;for(;++s<=n.length;)o===void 0?n[s]&&n[s][1].type===z.data&&(o=s,s++):(!n[s]||n[s][1].type!==z.data)&&(s!==o+2&&(n[o][1].end=n[s-1][1].end,n.splice(o+2,s-o-2),s=o+2),o=void 0);return t?t(n,r):n}}function ffe(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type===z.lineEnding)&&t[n-1][1].type===z.data){const r=t[n-1][1],s=e.sliceStream(r);let o=s.length,l=-1,c=0,f;for(;o--;){const h=s[o];if(typeof h=="string"){for(l=h.length;h.charCodeAt(l-1)===M.space;)c++,l--;if(l)break;l=-1}else if(h===M.horizontalTab)f=!0,c++;else if(h!==M.virtualSpace){o++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(c=0),c){const h={type:n===t.length||f||c<dt.hardBreakPrefixSizeMin?z.lineSuffix:z.hardBreakTrailing,start:{_bufferIndex:o?l:r.start._bufferIndex+l,_index:r.start._index+o,line:r.end.line,column:r.end.column-c,offset:r.end.offset-c},end:{...r.end}};r.end={...h.start},r.start.offset===r.end.offset?Object.assign(r,h):(t.splice(n,0,["enter",h,e],["exit",h,e]),n+=2)}n++}return t}const dfe={[M.asterisk]:zs,[M.plusSign]:zs,[M.dash]:zs,[M.digit0]:zs,[M.digit1]:zs,[M.digit2]:zs,[M.digit3]:zs,[M.digit4]:zs,[M.digit5]:zs,[M.digit6]:zs,[M.digit7]:zs,[M.digit8]:zs,[M.digit9]:zs,[M.greaterThan]:eB},hfe={[M.leftSquareBracket]:bue},pfe={[M.horizontalTab]:rN,[M.virtualSpace]:rN,[M.space]:rN},mfe={[M.numberSign]:Nue,[M.asterisk]:Ex,[M.dash]:[jM,Ex],[M.lessThan]:Aue,[M.equalsTo]:jM,[M.underscore]:Ex,[M.graveAccent]:DM,[M.tilde]:DM},gfe={[M.ampersand]:nB,[M.backslash]:tB},bfe={[M.carriageReturn]:sN,[M.lineFeed]:sN,[M.carriageReturnLineFeed]:sN,[M.exclamationMark]:Wue,[M.ampersand]:nB,[M.asterisk]:nE,[M.lessThan]:[Yce,Mue],[M.leftSquareBracket]:Xue,[M.backslash]:[wue,tB],[M.rightSquareBracket]:UT,[M.underscore]:nE,[M.graveAccent]:aue},xfe={null:[nE,lfe]},yfe={null:[M.asterisk,M.underscore]},vfe={null:[]},wfe=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:yfe,contentInitial:hfe,disable:vfe,document:dfe,flow:mfe,flowInitial:pfe,insideSpan:xfe,string:gfe,text:bfe},Symbol.toStringTag,{value:"Module"}));var sx={exports:{}},iN,MM;function _fe(){if(MM)return iN;MM=1;var t=1e3,e=t*60,n=e*60,r=n*24,s=r*7,o=r*365.25;iN=function(p,m){m=m||{};var x=typeof p;if(x==="string"&&p.length>0)return l(p);if(x==="number"&&isFinite(p))return m.long?f(p):c(p);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(p))};function l(p){if(p=String(p),!(p.length>100)){var m=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(p);if(m){var x=parseFloat(m[1]),w=(m[2]||"ms").toLowerCase();switch(w){case"years":case"year":case"yrs":case"yr":case"y":return x*o;case"weeks":case"week":case"w":return x*s;case"days":case"day":case"d":return x*r;case"hours":case"hour":case"hrs":case"hr":case"h":return x*n;case"minutes":case"minute":case"mins":case"min":case"m":return x*e;case"seconds":case"second":case"secs":case"sec":case"s":return x*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return x;default:return}}}}function c(p){var m=Math.abs(p);return m>=r?Math.round(p/r)+"d":m>=n?Math.round(p/n)+"h":m>=e?Math.round(p/e)+"m":m>=t?Math.round(p/t)+"s":p+"ms"}function f(p){var m=Math.abs(p);return m>=r?h(p,m,r,"day"):m>=n?h(p,m,n,"hour"):m>=e?h(p,m,e,"minute"):m>=t?h(p,m,t,"second"):p+" ms"}function h(p,m,x,w){var E=m>=x*1.5;return Math.round(p/x)+" "+w+(E?"s":"")}return iN}var oN,IM;function Nfe(){if(IM)return oN;IM=1;function t(e){r.debug=r,r.default=r,r.coerce=h,r.disable=c,r.enable=o,r.enabled=f,r.humanize=_fe(),r.destroy=p,Object.keys(e).forEach(m=>{r[m]=e[m]}),r.names=[],r.skips=[],r.formatters={};function n(m){let x=0;for(let w=0;w<m.length;w++)x=(x<<5)-x+m.charCodeAt(w),x|=0;return r.colors[Math.abs(x)%r.colors.length]}r.selectColor=n;function r(m){let x,w=null,E,T;function C(...P){if(!C.enabled)return;const j=C,D=Number(new Date),U=D-(x||D);j.diff=U,j.prev=x,j.curr=D,x=D,P[0]=r.coerce(P[0]),typeof P[0]!="string"&&P.unshift("%O");let L=0;P[0]=P[0].replace(/%([a-zA-Z%])/g,(Y,ne)=>{if(Y==="%%")return"%";L++;const Q=r.formatters[ne];if(typeof Q=="function"){const K=P[L];Y=Q.call(j,K),P.splice(L,1),L--}return Y}),r.formatArgs.call(j,P),(j.log||r.log).apply(j,P)}return C.namespace=m,C.useColors=r.useColors(),C.color=r.selectColor(m),C.extend=s,C.destroy=r.destroy,Object.defineProperty(C,"enabled",{enumerable:!0,configurable:!1,get:()=>w!==null?w:(E!==r.namespaces&&(E=r.namespaces,T=r.enabled(m)),T),set:P=>{w=P}}),typeof r.init=="function"&&r.init(C),C}function s(m,x){const w=r(this.namespace+(typeof x>"u"?":":x)+m);return w.log=this.log,w}function o(m){r.save(m),r.namespaces=m,r.names=[],r.skips=[];const x=(typeof m=="string"?m:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const w of x)w[0]==="-"?r.skips.push(w.slice(1)):r.names.push(w)}function l(m,x){let w=0,E=0,T=-1,C=0;for(;w<m.length;)if(E<x.length&&(x[E]===m[w]||x[E]==="*"))x[E]==="*"?(T=E,C=w,E++):(w++,E++);else if(T!==-1)E=T+1,C++,w=C;else return!1;for(;E<x.length&&x[E]==="*";)E++;return E===x.length}function c(){const m=[...r.names,...r.skips.map(x=>"-"+x)].join(",");return r.enable(""),m}function f(m){for(const x of r.skips)if(l(m,x))return!1;for(const x of r.names)if(l(m,x))return!0;return!1}function h(m){return m instanceof Error?m.stack||m.message:m}function p(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}return oN=t,oN}var OM;function Sfe(){return OM||(OM=1,function(t,e){var n={};e.formatArgs=s,e.save=o,e.load=l,e.useColors=r,e.storage=c(),e.destroy=(()=>{let h=!1;return()=>{h||(h=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let h;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(h=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(h[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function s(h){if(h[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+h[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const p="color: "+this.color;h.splice(1,0,p,"color: inherit");let m=0,x=0;h[0].replace(/%[a-zA-Z%]/g,w=>{w!=="%%"&&(m++,w==="%c"&&(x=m))}),h.splice(x,0,p)}e.log=console.debug||console.log||(()=>{});function o(h){try{h?e.storage.setItem("debug",h):e.storage.removeItem("debug")}catch{}}function l(){let h;try{h=e.storage.getItem("debug")||e.storage.getItem("DEBUG")}catch{}return!h&&typeof process<"u"&&"env"in process&&(h=n.DEBUG),h}function c(){try{return localStorage}catch{}}t.exports=Nfe()(e);const{formatters:f}=t.exports;f.j=function(h){try{return JSON.stringify(h)}catch(p){return"[UnexpectedJSONParseError]: "+p.message}}}(sx,sx.exports)),sx.exports}var Efe=Sfe();const Tfe=bu(Efe),Oc=Tfe("micromark");function Afe(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const s={},o=[];let l=[],c=[],f=!0;const h={attempt:Q(Y),check:Q(ne),consume:U,enter:L,exit:O,interrupt:Q(ne,{interrupt:!0})},p={code:M.eof,containerState:{},defineSkip:P,events:[],now:C,parser:t,previous:M.eof,sliceSerialize:E,sliceStream:T,write:w};let m=e.tokenize.call(p,h),x;return e.resolveAll&&o.push(e),p;function w(me){return l=Ti(l,me),j(),l[l.length-1]!==M.eof?[]:(K(e,0),p.events=mv(o,p.events,p),p.events)}function E(me,le){return Rfe(T(me),le)}function T(me){return Cfe(l,me)}function C(){const{_bufferIndex:me,_index:le,line:ye,column:ge,offset:Me}=r;return{_bufferIndex:me,_index:le,line:ye,column:ge,offset:Me}}function P(me){s[me.line]=me.column,ue(),Oc("position: define skip: `%j`",r)}function j(){let me;for(;r._index<l.length;){const le=l[r._index];if(typeof le=="string")for(me=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===me&&r._bufferIndex<le.length;)D(le.charCodeAt(r._bufferIndex));else D(le)}}function D(me){_e(f===!0,"expected character to be consumed"),f=void 0,Oc("main: passing `%s` to %s",me,m&&m.name),x=me,_e(typeof m=="function","expected state"),m=m(me)}function U(me){_e(me===x,"expected given code to equal expected code"),Oc("consume: `%s`",me),_e(f===void 0,"expected code to not have been consumed: this might be because `return x(code)` instead of `return x` was used"),_e(me===null?p.events.length===0||p.events[p.events.length-1][0]==="exit":p.events[p.events.length-1][0]==="enter","expected last token to be open"),vt(me)?(r.line++,r.column=1,r.offset+=me===M.carriageReturnLineFeed?2:1,ue(),Oc("position: after eol: `%j`",r)):me!==M.virtualSpace&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===l[r._index].length&&(r._bufferIndex=-1,r._index++)),p.previous=me,f=!0}function L(me,le){const ye=le||{};return ye.type=me,ye.start=C(),_e(typeof me=="string","expected string type"),_e(me.length>0,"expected non-empty string"),Oc("enter: `%s`",me),p.events.push(["enter",ye,p]),c.push(ye),ye}function O(me){_e(typeof me=="string","expected string type"),_e(me.length>0,"expected non-empty string");const le=c.pop();return _e(le,"cannot close w/o open tokens"),le.end=C(),_e(me===le.type,"expected exit token to match current token"),_e(!(le.start._index===le.end._index&&le.start._bufferIndex===le.end._bufferIndex),"expected non-empty token (`"+me+"`)"),Oc("exit: `%s`",le.type),p.events.push(["exit",le,p]),le}function Y(me,le){K(me,le.from)}function ne(me,le){le.restore()}function Q(me,le){return ye;function ye(ge,Me,we){let Ke,V,fe,se;return Array.isArray(ge)?ce(ge):"tokenize"in ge?ce([ge]):B(ge);function B(oe){return De;function De(qe){const Ye=qe!==null&&oe[qe],tt=qe!==null&&oe.null,Ue=[...Array.isArray(Ye)?Ye:Ye?[Ye]:[],...Array.isArray(tt)?tt:tt?[tt]:[]];return ce(Ue)(qe)}}function ce(oe){return Ke=oe,V=0,oe.length===0?(_e(we,"expected `bogusState` to be given"),we):Z(oe[V])}function Z(oe){return De;function De(qe){return se=G(),fe=oe,oe.partial||(p.currentConstruct=oe),_e(p.parser.constructs.disable.null,"expected `disable.null` to be populated"),oe.name&&p.parser.constructs.disable.null.includes(oe.name)?he(qe):oe.tokenize.call(le?Object.assign(Object.create(p),le):p,h,xe,he)(qe)}}function xe(oe){return _e(oe===x,"expected code"),f=!0,me(fe,se),Me}function he(oe){return _e(oe===x,"expected code"),f=!0,se.restore(),++V<Ke.length?Z(Ke[V]):we}}}function K(me,le){me.resolveAll&&!o.includes(me)&&o.push(me),me.resolve&&ui(p.events,le,p.events.length-le,me.resolve(p.events.slice(le),p)),me.resolveTo&&(p.events=me.resolveTo(p.events,p)),_e(me.partial||p.events.length===0||p.events[p.events.length-1][0]==="exit","expected last token to end")}function G(){const me=C(),le=p.previous,ye=p.currentConstruct,ge=p.events.length,Me=Array.from(c);return{from:ge,restore:we};function we(){r=me,p.previous=le,p.currentConstruct=ye,p.events.length=ge,c=Me,ue(),Oc("position: restore: `%j`",r)}}function ue(){r.line in s&&r.column<2&&(r.column=s[r.line],r.offset+=s[r.line]-1)}}function Cfe(t,e){const n=e.start._index,r=e.start._bufferIndex,s=e.end._index,o=e.end._bufferIndex;let l;if(n===s)_e(o>-1,"expected non-negative end buffer index"),_e(r>-1,"expected non-negative start buffer index"),l=[t[n].slice(r,o)];else{if(l=t.slice(n,s),r>-1){const c=l[0];typeof c=="string"?l[0]=c.slice(r):(_e(r===0,"expected `startBufferIndex` to be `0`"),l.shift())}o>0&&l.push(t[s].slice(0,o))}return l}function Rfe(t,e){let n=-1;const r=[];let s;for(;++n<t.length;){const o=t[n];let l;if(typeof o=="string")l=o;else switch(o){case M.carriageReturn:{l=Co.cr;break}case M.lineFeed:{l=Co.lf;break}case M.carriageReturnLineFeed:{l=Co.cr+Co.lf;break}case M.horizontalTab:{l=e?Co.space:Co.ht;break}case M.virtualSpace:{if(!e&&s)continue;l=Co.space;break}default:_e(typeof o=="number","expected number"),l=String.fromCharCode(o)}s=o===M.horizontalTab,r.push(l)}return r.join("")}function kfe(t){const r={constructs:G6([wfe,...(t||{}).extensions||[]]),content:s(Lce),defined:[],document:s($ce),flow:s(ofe),lazy:{},string:s(cfe),text:s(ufe)};return r;function s(o){return l;function l(c){return Afe(r,o,c)}}}function Dfe(t){for(;!sB(t););return t}const UM=/[\0\t\n\r]/g;function Pfe(){let t=1,e="",n=!0,r;return s;function s(o,l,c){const f=[];let h,p,m,x,w;for(o=e+(typeof o=="string"?o.toString():new TextDecoder(l||void 0).decode(o)),m=0,e="",n&&(o.charCodeAt(0)===M.byteOrderMarker&&m++,n=void 0);m<o.length;){if(UM.lastIndex=m,h=UM.exec(o),x=h&&h.index!==void 0?h.index:o.length,w=o.charCodeAt(x),!h){e=o.slice(m);break}if(w===M.lf&&m===x&&r)f.push(M.carriageReturnLineFeed),r=void 0;else switch(r&&(f.push(M.carriageReturn),r=void 0),m<x&&(f.push(o.slice(m,x)),t+=x-m),w){case M.nul:{f.push(M.replacementCharacter),t++;break}case M.ht:{for(p=Math.ceil(t/dt.tabSize)*dt.tabSize,f.push(M.horizontalTab);t++<p;)f.push(M.virtualSpace);break}case M.lf:{f.push(M.lineFeed),t=1;break}default:r=!0,t=1}m=x+1}return c&&(r&&f.push(M.carriageReturn),e&&f.push(e),f.push(M.eof)),f}}const jfe=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Mfe(t){return t.replace(jfe,Ife)}function Ife(t,e,n){if(e)return e;if(n.charCodeAt(0)===M.numberSign){const s=n.charCodeAt(1),o=s===M.lowercaseX||s===M.uppercaseX;return J6(n.slice(o?2:1),o?dt.numericBaseHexadecimal:dt.numericBaseDecimal)}return OT(n)||t}const uB={}.hasOwnProperty;function Ofe(t,e,n){return typeof e!="string"&&(n=e,e=void 0),Ufe(n)(Dfe(kfe(n).document().write(Pfe()(t,e,!0))))}function Ufe(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(Ot),autolinkProtocol:Q,autolinkEmail:Q,atxHeading:o(lt),blockQuote:o(qe),characterEscape:Q,characterReference:Q,codeFenced:o(Ye),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:o(Ye,l),codeText:o(tt,l),codeTextData:Q,data:Q,codeFlowValue:Q,definition:o(Ue),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:o(nt),hardBreakEscape:o(gt),hardBreakTrailing:o(gt),htmlFlow:o(Lt,l),htmlFlowData:Q,htmlText:o(Lt,l),htmlTextData:Q,image:o(Yt),label:l,link:o(Ot),listItem:o(cr),listItemValue:x,listOrdered:o(Pt,m),listUnordered:o(Pt),paragraph:o(Cn),reference:B,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:o(lt),strong:o(Wr),thematicBreak:o(Ho)},exit:{atxHeading:f(),atxHeadingSequence:L,autolink:f(),autolinkEmail:De,autolinkProtocol:oe,blockQuote:f(),characterEscapeValue:K,characterReferenceMarkerHexadecimal:Z,characterReferenceMarkerNumeric:Z,characterReferenceValue:xe,characterReference:he,codeFenced:f(C),codeFencedFence:T,codeFencedFenceInfo:w,codeFencedFenceMeta:E,codeFlowValue:K,codeIndented:f(P),codeText:f(ye),codeTextData:K,data:K,definition:f(),definitionDestinationString:U,definitionLabelString:j,definitionTitleString:D,emphasis:f(),hardBreakEscape:f(ue),hardBreakTrailing:f(ue),htmlFlow:f(me),htmlFlowData:K,htmlText:f(le),htmlTextData:K,image:f(Me),label:Ke,labelText:we,lineEnding:G,link:f(ge),listItem:f(),listOrdered:f(),listUnordered:f(),paragraph:f(),referenceString:ce,resourceDestinationString:V,resourceTitleString:fe,resource:se,setextHeading:f(ne),setextHeadingLineSequence:Y,setextHeadingText:O,strong:f(),thematicBreak:f()}};fB(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(He){let $e={type:"root",children:[]};const xt={stack:[$e],tokenStack:[],config:e,enter:c,exit:h,buffer:l,resume:p,data:n},zt=[];let un=-1;for(;++un<He.length;)if(He[un][1].type===z.listOrdered||He[un][1].type===z.listUnordered)if(He[un][0]==="enter")zt.push(un);else{const ur=zt.pop();_e(typeof ur=="number","expected list ot be open"),un=s(He,ur,un)}for(un=-1;++un<He.length;){const ur=e[He[un][0]];uB.call(ur,He[un][1].type)&&ur[He[un][1].type].call(Object.assign({sliceSerialize:He[un][2].sliceSerialize},xt),He[un][1])}if(xt.tokenStack.length>0){const ur=xt.tokenStack[xt.tokenStack.length-1];(ur[1]||VM).call(xt,void 0,ur[0])}for($e.position={start:dl(He.length>0?He[0][1].start:{line:1,column:1,offset:0}),end:dl(He.length>0?He[He.length-2][1].end:{line:1,column:1,offset:0})},un=-1;++un<e.transforms.length;)$e=e.transforms[un]($e)||$e;return $e}function s(He,$e,xt){let zt=$e-1,un=-1,ur=!1,rs,Sr,Er,jr;for(;++zt<=xt;){const er=He[zt];switch(er[1].type){case z.listUnordered:case z.listOrdered:case z.blockQuote:{er[0]==="enter"?un++:un--,jr=void 0;break}case z.lineEndingBlank:{er[0]==="enter"&&(rs&&!jr&&!un&&!Er&&(Er=zt),jr=void 0);break}case z.linePrefix:case z.listItemValue:case z.listItemMarker:case z.listItemPrefix:case z.listItemPrefixWhitespace:break;default:jr=void 0}if(!un&&er[0]==="enter"&&er[1].type===z.listItemPrefix||un===-1&&er[0]==="exit"&&(er[1].type===z.listUnordered||er[1].type===z.listOrdered)){if(rs){let $=zt;for(Sr=void 0;$--;){const Ee=He[$];if(Ee[1].type===z.lineEnding||Ee[1].type===z.lineEndingBlank){if(Ee[0]==="exit")continue;Sr&&(He[Sr][1].type=z.lineEndingBlank,ur=!0),Ee[1].type=z.lineEnding,Sr=$}else if(!(Ee[1].type===z.linePrefix||Ee[1].type===z.blockQuotePrefix||Ee[1].type===z.blockQuotePrefixWhitespace||Ee[1].type===z.blockQuoteMarker||Ee[1].type===z.listItemIndent))break}Er&&(!Sr||Er<Sr)&&(rs._spread=!0),rs.end=Object.assign({},Sr?He[Sr][1].start:er[1].end),He.splice(Sr||zt,0,["exit",rs,er[2]]),zt++,xt++}if(er[1].type===z.listItemPrefix){const $={type:"listItem",_spread:!1,start:Object.assign({},er[1].start),end:void 0};rs=$,He.splice(zt,0,["enter",$,er[2]]),zt++,xt++,Er=void 0,jr=!0}}}return He[$e][1]._spread=ur,xt}function o(He,$e){return xt;function xt(zt){c.call(this,He(zt),zt),$e&&$e.call(this,zt)}}function l(){this.stack.push({type:"fragment",children:[]})}function c(He,$e,xt){const zt=this.stack[this.stack.length-1];_e(zt,"expected `parent`"),_e("children"in zt,"expected `parent`"),zt.children.push(He),this.stack.push(He),this.tokenStack.push([$e,xt||void 0]),He.position={start:dl($e.start),end:void 0}}function f(He){return $e;function $e(xt){He&&He.call(this,xt),h.call(this,xt)}}function h(He,$e){const xt=this.stack.pop();_e(xt,"expected `node`");const zt=this.tokenStack.pop();if(zt)zt[0].type!==He.type&&($e?$e.call(this,He,zt[0]):(zt[1]||VM).call(this,He,zt[0]));else throw new Error("Cannot close `"+He.type+"` ("+$p({start:He.start,end:He.end})+"): it’s not open");_e(xt.type!=="fragment","unexpected fragment `exit`ed"),_e(xt.position,"expected `position` to be defined"),xt.position.end=dl(He.end)}function p(){return IT(this.stack.pop())}function m(){this.data.expectingFirstListItemValue=!0}function x(He){if(this.data.expectingFirstListItemValue){const $e=this.stack[this.stack.length-2];_e($e,"expected nodes on stack"),_e($e.type==="list","expected list on stack"),$e.start=Number.parseInt(this.sliceSerialize(He),dt.numericBaseDecimal),this.data.expectingFirstListItemValue=void 0}}function w(){const He=this.resume(),$e=this.stack[this.stack.length-1];_e($e,"expected node on stack"),_e($e.type==="code","expected code on stack"),$e.lang=He}function E(){const He=this.resume(),$e=this.stack[this.stack.length-1];_e($e,"expected node on stack"),_e($e.type==="code","expected code on stack"),$e.meta=He}function T(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function C(){const He=this.resume(),$e=this.stack[this.stack.length-1];_e($e,"expected node on stack"),_e($e.type==="code","expected code on stack"),$e.value=He.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function P(){const He=this.resume(),$e=this.stack[this.stack.length-1];_e($e,"expected node on stack"),_e($e.type==="code","expected code on stack"),$e.value=He.replace(/(\r?\n|\r)$/g,"")}function j(He){const $e=this.resume(),xt=this.stack[this.stack.length-1];_e(xt,"expected node on stack"),_e(xt.type==="definition","expected definition on stack"),xt.label=$e,xt.identifier=to(this.sliceSerialize(He)).toLowerCase()}function D(){const He=this.resume(),$e=this.stack[this.stack.length-1];_e($e,"expected node on stack"),_e($e.type==="definition","expected definition on stack"),$e.title=He}function U(){const He=this.resume(),$e=this.stack[this.stack.length-1];_e($e,"expected node on stack"),_e($e.type==="definition","expected definition on stack"),$e.url=He}function L(He){const $e=this.stack[this.stack.length-1];if(_e($e,"expected node on stack"),_e($e.type==="heading","expected heading on stack"),!$e.depth){const xt=this.sliceSerialize(He).length;_e(xt===1||xt===2||xt===3||xt===4||xt===5||xt===6,"expected `depth` between `1` and `6`"),$e.depth=xt}}function O(){this.data.setextHeadingSlurpLineEnding=!0}function Y(He){const $e=this.stack[this.stack.length-1];_e($e,"expected node on stack"),_e($e.type==="heading","expected heading on stack"),$e.depth=this.sliceSerialize(He).codePointAt(0)===M.equalsTo?1:2}function ne(){this.data.setextHeadingSlurpLineEnding=void 0}function Q(He){const $e=this.stack[this.stack.length-1];_e($e,"expected node on stack"),_e("children"in $e,"expected parent on stack");const xt=$e.children;let zt=xt[xt.length-1];(!zt||zt.type!=="text")&&(zt=ms(),zt.position={start:dl(He.start),end:void 0},xt.push(zt)),this.stack.push(zt)}function K(He){const $e=this.stack.pop();_e($e,"expected a `node` to be on the stack"),_e("value"in $e,"expected a `literal` to be on the stack"),_e($e.position,"expected `node` to have an open position"),$e.value+=this.sliceSerialize(He),$e.position.end=dl(He.end)}function G(He){const $e=this.stack[this.stack.length-1];if(_e($e,"expected `node`"),this.data.atHardBreak){_e("children"in $e,"expected `parent`");const xt=$e.children[$e.children.length-1];_e(xt.position,"expected tail to have a starting position"),xt.position.end=dl(He.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes($e.type)&&(Q.call(this,He),K.call(this,He))}function ue(){this.data.atHardBreak=!0}function me(){const He=this.resume(),$e=this.stack[this.stack.length-1];_e($e,"expected node on stack"),_e($e.type==="html","expected html on stack"),$e.value=He}function le(){const He=this.resume(),$e=this.stack[this.stack.length-1];_e($e,"expected node on stack"),_e($e.type==="html","expected html on stack"),$e.value=He}function ye(){const He=this.resume(),$e=this.stack[this.stack.length-1];_e($e,"expected node on stack"),_e($e.type==="inlineCode","expected inline code on stack"),$e.value=He}function ge(){const He=this.stack[this.stack.length-1];if(_e(He,"expected node on stack"),_e(He.type==="link","expected link on stack"),this.data.inReference){const $e=this.data.referenceType||"shortcut";He.type+="Reference",He.referenceType=$e,delete He.url,delete He.title}else delete He.identifier,delete He.label;this.data.referenceType=void 0}function Me(){const He=this.stack[this.stack.length-1];if(_e(He,"expected node on stack"),_e(He.type==="image","expected image on stack"),this.data.inReference){const $e=this.data.referenceType||"shortcut";He.type+="Reference",He.referenceType=$e,delete He.url,delete He.title}else delete He.identifier,delete He.label;this.data.referenceType=void 0}function we(He){const $e=this.sliceSerialize(He),xt=this.stack[this.stack.length-2];_e(xt,"expected ancestor on stack"),_e(xt.type==="image"||xt.type==="link","expected image or link on stack"),xt.label=Mfe($e),xt.identifier=to($e).toLowerCase()}function Ke(){const He=this.stack[this.stack.length-1];_e(He,"expected node on stack"),_e(He.type==="fragment","expected fragment on stack");const $e=this.resume(),xt=this.stack[this.stack.length-1];if(_e(xt,"expected node on stack"),_e(xt.type==="image"||xt.type==="link","expected image or link on stack"),this.data.inReference=!0,xt.type==="link"){const zt=He.children;xt.children=zt}else xt.alt=$e}function V(){const He=this.resume(),$e=this.stack[this.stack.length-1];_e($e,"expected node on stack"),_e($e.type==="image"||$e.type==="link","expected image or link on stack"),$e.url=He}function fe(){const He=this.resume(),$e=this.stack[this.stack.length-1];_e($e,"expected node on stack"),_e($e.type==="image"||$e.type==="link","expected image or link on stack"),$e.title=He}function se(){this.data.inReference=void 0}function B(){this.data.referenceType="collapsed"}function ce(He){const $e=this.resume(),xt=this.stack[this.stack.length-1];_e(xt,"expected node on stack"),_e(xt.type==="image"||xt.type==="link","expected image reference or link reference on stack"),xt.label=$e,xt.identifier=to(this.sliceSerialize(He)).toLowerCase(),this.data.referenceType="full"}function Z(He){_e(He.type==="characterReferenceMarkerNumeric"||He.type==="characterReferenceMarkerHexadecimal"),this.data.characterReferenceType=He.type}function xe(He){const $e=this.sliceSerialize(He),xt=this.data.characterReferenceType;let zt;if(xt)zt=J6($e,xt===z.characterReferenceMarkerNumeric?dt.numericBaseDecimal:dt.numericBaseHexadecimal),this.data.characterReferenceType=void 0;else{const ur=OT($e);_e(ur!==!1,"expected reference to decode"),zt=ur}const un=this.stack[this.stack.length-1];_e(un,"expected `node`"),_e("value"in un,"expected `node.value`"),un.value+=zt}function he(He){const $e=this.stack.pop();_e($e,"expected `node`"),_e($e.position,"expected `node.position`"),$e.position.end=dl(He.end)}function oe(He){K.call(this,He);const $e=this.stack[this.stack.length-1];_e($e,"expected node on stack"),_e($e.type==="link","expected link on stack"),$e.url=this.sliceSerialize(He)}function De(He){K.call(this,He);const $e=this.stack[this.stack.length-1];_e($e,"expected node on stack"),_e($e.type==="link","expected link on stack"),$e.url="mailto:"+this.sliceSerialize(He)}function qe(){return{type:"blockquote",children:[]}}function Ye(){return{type:"code",lang:null,meta:null,value:""}}function tt(){return{type:"inlineCode",value:""}}function Ue(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function nt(){return{type:"emphasis",children:[]}}function lt(){return{type:"heading",depth:0,children:[]}}function gt(){return{type:"break"}}function Lt(){return{type:"html",value:""}}function Yt(){return{type:"image",title:null,url:"",alt:null}}function Ot(){return{type:"link",title:null,url:"",children:[]}}function Pt(He){return{type:"list",ordered:He.type==="listOrdered",start:null,spread:He._spread,children:[]}}function cr(He){return{type:"listItem",spread:He._spread,checked:null,children:[]}}function Cn(){return{type:"paragraph",children:[]}}function Wr(){return{type:"strong",children:[]}}function ms(){return{type:"text",value:""}}function Ho(){return{type:"thematicBreak"}}}function dl(t){return{line:t.line,column:t.column,offset:t.offset}}function fB(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?fB(t,r):Vfe(t,r)}}function Vfe(t,e){let n;for(n in e)if(uB.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function VM(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+$p({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+$p({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+$p({start:e.start,end:e.end})+") is still open")}function Ffe(t){const e=this;e.parser=n;function n(r){return Ofe(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function Bfe(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function Lfe(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function zfe(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let s={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(s.data={meta:e.meta}),t.patch(e,s),s=t.applyData(e,s),s={type:"element",tagName:"pre",properties:{},children:[s]},t.patch(e,s),s}function $fe(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Hfe(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Wfe(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),s=Fd(r.toLowerCase()),o=t.footnoteOrder.indexOf(r);let l,c=t.footnoteCounts.get(r);c===void 0?(c=0,t.footnoteOrder.push(r),l=t.footnoteOrder.length):l=o+1,c+=1,t.footnoteCounts.set(r,c);const f={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+s,id:n+"fnref-"+s+(c>1?"-"+c:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(l)}]};t.patch(e,f);const h={type:"element",tagName:"sup",properties:{},children:[f]};return t.patch(e,h),t.applyData(e,h)}function qfe(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Xfe(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function dB(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const s=t.all(e),o=s[0];o&&o.type==="text"?o.value="["+o.value:s.unshift({type:"text",value:"["});const l=s[s.length-1];return l&&l.type==="text"?l.value+=r:s.push({type:"text",value:r}),s}function Yfe(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return dB(t,e);const s={src:Fd(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(s.title=r.title);const o={type:"element",tagName:"img",properties:s,children:[]};return t.patch(e,o),t.applyData(e,o)}function Kfe(t,e){const n={src:Fd(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function Zfe(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function Qfe(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return dB(t,e);const s={href:Fd(r.url||"")};r.title!==null&&r.title!==void 0&&(s.title=r.title);const o={type:"element",tagName:"a",properties:s,children:t.all(e)};return t.patch(e,o),t.applyData(e,o)}function Gfe(t,e){const n={href:Fd(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function Jfe(t,e,n){const r=t.all(e),s=n?ede(n):hB(e),o={},l=[];if(typeof e.checked=="boolean"){const p=r[0];let m;p&&p.type==="element"&&p.tagName==="p"?m=p:(m={type:"element",tagName:"p",properties:{},children:[]},r.unshift(m)),m.children.length>0&&m.children.unshift({type:"text",value:" "}),m.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let c=-1;for(;++c<r.length;){const p=r[c];(s||c!==0||p.type!=="element"||p.tagName!=="p")&&l.push({type:"text",value:`
`}),p.type==="element"&&p.tagName==="p"&&!s?l.push(...p.children):l.push(p)}const f=r[r.length-1];f&&(s||f.type!=="element"||f.tagName!=="p")&&l.push({type:"text",value:`
`});const h={type:"element",tagName:"li",properties:o,children:l};return t.patch(e,h),t.applyData(e,h)}function ede(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=hB(n[r])}return e}function hB(t){const e=t.spread;return e??t.children.length>1}function tde(t,e){const n={},r=t.all(e);let s=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++s<r.length;){const l=r[s];if(l.type==="element"&&l.tagName==="li"&&l.properties&&Array.isArray(l.properties.className)&&l.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,o),t.applyData(e,o)}function nde(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function rde(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function sde(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function ide(t,e){const n=t.all(e),r=n.shift(),s=[];if(r){const l={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],l),s.push(l)}if(n.length>0){const l={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},c=DT(e.children[1]),f=W6(e.children[e.children.length-1]);c&&f&&(l.position={start:c,end:f}),s.push(l)}const o={type:"element",tagName:"table",properties:{},children:t.wrap(s,!0)};return t.patch(e,o),t.applyData(e,o)}function ode(t,e,n){const r=n?n.children:void 0,o=(r?r.indexOf(e):1)===0?"th":"td",l=n&&n.type==="table"?n.align:void 0,c=l?l.length:e.children.length;let f=-1;const h=[];for(;++f<c;){const m=e.children[f],x={},w=l?l[f]:void 0;w&&(x.align=w);let E={type:"element",tagName:o,properties:x,children:[]};m&&(E.children=t.all(m),t.patch(m,E),E=t.applyData(m,E)),h.push(E)}const p={type:"element",tagName:"tr",properties:{},children:t.wrap(h,!0)};return t.patch(e,p),t.applyData(e,p)}function ade(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const FM=9,BM=32;function lde(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),s=0;const o=[];for(;r;)o.push(LM(e.slice(s,r.index),s>0,!0),r[0]),s=r.index+r[0].length,r=n.exec(e);return o.push(LM(e.slice(s),s>0,!1)),o.join("")}function LM(t,e,n){let r=0,s=t.length;if(e){let o=t.codePointAt(r);for(;o===FM||o===BM;)r++,o=t.codePointAt(r)}if(n){let o=t.codePointAt(s-1);for(;o===FM||o===BM;)s--,o=t.codePointAt(s-1)}return s>r?t.slice(r,s):""}function cde(t,e){const n={type:"text",value:lde(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function ude(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const fde={blockquote:Bfe,break:Lfe,code:zfe,delete:$fe,emphasis:Hfe,footnoteReference:Wfe,heading:qfe,html:Xfe,imageReference:Yfe,image:Kfe,inlineCode:Zfe,linkReference:Qfe,link:Gfe,listItem:Jfe,list:tde,paragraph:nde,root:rde,strong:sde,table:ide,tableCell:ade,tableRow:ode,text:cde,thematicBreak:ude,toml:ix,yaml:ix,definition:ix,footnoteDefinition:ix};function ix(){}const pB=-1,gv=0,Wp=1,_y=2,VT=3,FT=4,BT=5,LT=6,mB=7,gB=8,zM=typeof self=="object"?self:globalThis,dde=(t,e)=>{const n=(s,o)=>(t.set(o,s),s),r=s=>{if(t.has(s))return t.get(s);const[o,l]=e[s];switch(o){case gv:case pB:return n(l,s);case Wp:{const c=n([],s);for(const f of l)c.push(r(f));return c}case _y:{const c=n({},s);for(const[f,h]of l)c[r(f)]=r(h);return c}case VT:return n(new Date(l),s);case FT:{const{source:c,flags:f}=l;return n(new RegExp(c,f),s)}case BT:{const c=n(new Map,s);for(const[f,h]of l)c.set(r(f),r(h));return c}case LT:{const c=n(new Set,s);for(const f of l)c.add(r(f));return c}case mB:{const{name:c,message:f}=l;return n(new zM[c](f),s)}case gB:return n(BigInt(l),s);case"BigInt":return n(Object(BigInt(l)),s);case"ArrayBuffer":return n(new Uint8Array(l).buffer,l);case"DataView":{const{buffer:c}=new Uint8Array(l);return n(new DataView(c),l)}}return n(new zM[o](l),s)};return r},$M=t=>dde(new Map,t)(0),If="",{toString:hde}={},{keys:pde}=Object,wp=t=>{const e=typeof t;if(e!=="object"||!t)return[gv,e];const n=hde.call(t).slice(8,-1);switch(n){case"Array":return[Wp,If];case"Object":return[_y,If];case"Date":return[VT,If];case"RegExp":return[FT,If];case"Map":return[BT,If];case"Set":return[LT,If];case"DataView":return[Wp,n]}return n.includes("Array")?[Wp,n]:n.includes("Error")?[mB,n]:[_y,n]},ox=([t,e])=>t===gv&&(e==="function"||e==="symbol"),mde=(t,e,n,r)=>{const s=(l,c)=>{const f=r.push(l)-1;return n.set(c,f),f},o=l=>{if(n.has(l))return n.get(l);let[c,f]=wp(l);switch(c){case gv:{let p=l;switch(f){case"bigint":c=gB,p=l.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+f);p=null;break;case"undefined":return s([pB],l)}return s([c,p],l)}case Wp:{if(f){let x=l;return f==="DataView"?x=new Uint8Array(l.buffer):f==="ArrayBuffer"&&(x=new Uint8Array(l)),s([f,[...x]],l)}const p=[],m=s([c,p],l);for(const x of l)p.push(o(x));return m}case _y:{if(f)switch(f){case"BigInt":return s([f,l.toString()],l);case"Boolean":case"Number":case"String":return s([f,l.valueOf()],l)}if(e&&"toJSON"in l)return o(l.toJSON());const p=[],m=s([c,p],l);for(const x of pde(l))(t||!ox(wp(l[x])))&&p.push([o(x),o(l[x])]);return m}case VT:return s([c,l.toISOString()],l);case FT:{const{source:p,flags:m}=l;return s([c,{source:p,flags:m}],l)}case BT:{const p=[],m=s([c,p],l);for(const[x,w]of l)(t||!(ox(wp(x))||ox(wp(w))))&&p.push([o(x),o(w)]);return m}case LT:{const p=[],m=s([c,p],l);for(const x of l)(t||!ox(wp(x)))&&p.push(o(x));return m}}const{message:h}=l;return s([c,{name:f,message:h}],l)};return o},HM=(t,{json:e,lossy:n}={})=>{const r=[];return mde(!(e||n),!!e,new Map,r)(t),r},Ny=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?$M(HM(t,e)):structuredClone(t):(t,e)=>$M(HM(t,e));function gde(t,e){const n=[{type:"text",value:"↩"}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function bde(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function xde(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||gde,r=t.options.footnoteBackLabel||bde,s=t.options.footnoteLabel||"Footnotes",o=t.options.footnoteLabelTagName||"h2",l=t.options.footnoteLabelProperties||{className:["sr-only"]},c=[];let f=-1;for(;++f<t.footnoteOrder.length;){const h=t.footnoteById.get(t.footnoteOrder[f]);if(!h)continue;const p=t.all(h),m=String(h.identifier).toUpperCase(),x=Fd(m.toLowerCase());let w=0;const E=[],T=t.footnoteCounts.get(m);for(;T!==void 0&&++w<=T;){E.length>0&&E.push({type:"text",value:" "});let j=typeof n=="string"?n:n(f,w);typeof j=="string"&&(j={type:"text",value:j}),E.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+x+(w>1?"-"+w:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(f,w),className:["data-footnote-backref"]},children:Array.isArray(j)?j:[j]})}const C=p[p.length-1];if(C&&C.type==="element"&&C.tagName==="p"){const j=C.children[C.children.length-1];j&&j.type==="text"?j.value+=" ":C.children.push({type:"text",value:" "}),C.children.push(...E)}else p.push(...E);const P={type:"element",tagName:"li",properties:{id:e+"fn-"+x},children:t.wrap(p,!0)};t.patch(h,P),c.push(P)}if(c.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...Ny(l),id:"footnote-label"},children:[{type:"text",value:s}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(c,!0)},{type:"text",value:`
`}]}}const bv=function(t){if(t==null)return _de;if(typeof t=="function")return xv(t);if(typeof t=="object")return Array.isArray(t)?yde(t):vde(t);if(typeof t=="string")return wde(t);throw new Error("Expected function, string, or object as test")};function yde(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=bv(t[n]);return xv(r);function r(...s){let o=-1;for(;++o<e.length;)if(e[o].apply(this,s))return!0;return!1}}function vde(t){const e=t;return xv(n);function n(r){const s=r;let o;for(o in t)if(s[o]!==e[o])return!1;return!0}}function wde(t){return xv(e);function e(n){return n&&n.type===t}}function xv(t){return e;function e(n,r,s){return!!(Nde(n)&&t.call(this,n,typeof r=="number"?r:void 0,s||void 0))}}function _de(){return!0}function Nde(t){return t!==null&&typeof t=="object"&&"type"in t}const bB=[],Sde=!0,rE=!1,Ede="skip";function xB(t,e,n,r){let s;typeof e=="function"&&typeof n!="function"?(r=n,n=e):s=e;const o=bv(s),l=r?-1:1;c(t,void 0,[])();function c(f,h,p){const m=f&&typeof f=="object"?f:{};if(typeof m.type=="string"){const w=typeof m.tagName=="string"?m.tagName:typeof m.name=="string"?m.name:void 0;Object.defineProperty(x,"name",{value:"node ("+(f.type+(w?"<"+w+">":""))+")"})}return x;function x(){let w=bB,E,T,C;if((!e||o(f,h,p[p.length-1]||void 0))&&(w=Tde(n(f,p)),w[0]===rE))return w;if("children"in f&&f.children){const P=f;if(P.children&&w[0]!==Ede)for(T=(r?P.children.length:-1)+l,C=p.concat(P);T>-1&&T<P.children.length;){const j=P.children[T];if(E=c(j,T,C)(),E[0]===rE)return E;T=typeof E[1]=="number"?E[1]:T+l}}return w}}}function Tde(t){return Array.isArray(t)?t:typeof t=="number"?[Sde,t]:t==null?bB:[t]}function zT(t,e,n,r){let s,o,l;typeof e=="function"&&typeof n!="function"?(o=void 0,l=e,s=n):(o=e,l=n,s=r),xB(t,o,c,s);function c(f,h){const p=h[h.length-1],m=p?p.children.indexOf(f):void 0;return l(f,m,p)}}const sE={}.hasOwnProperty,Ade={};function Cde(t,e){const n=e||Ade,r=new Map,s=new Map,o=new Map,l={...fde,...n.handlers},c={all:h,applyData:kde,definitionById:r,footnoteById:s,footnoteCounts:o,footnoteOrder:[],handlers:l,one:f,options:n,patch:Rde,wrap:Pde};return zT(t,function(p){if(p.type==="definition"||p.type==="footnoteDefinition"){const m=p.type==="definition"?r:s,x=String(p.identifier).toUpperCase();m.has(x)||m.set(x,p)}}),c;function f(p,m){const x=p.type,w=c.handlers[x];if(sE.call(c.handlers,x)&&w)return w(c,p,m);if(c.options.passThrough&&c.options.passThrough.includes(x)){if("children"in p){const{children:T,...C}=p,P=Ny(C);return P.children=c.all(p),P}return Ny(p)}return(c.options.unknownHandler||Dde)(c,p,m)}function h(p){const m=[];if("children"in p){const x=p.children;let w=-1;for(;++w<x.length;){const E=c.one(x[w],p);if(E){if(w&&x[w-1].type==="break"&&(!Array.isArray(E)&&E.type==="text"&&(E.value=WM(E.value)),!Array.isArray(E)&&E.type==="element")){const T=E.children[0];T&&T.type==="text"&&(T.value=WM(T.value))}Array.isArray(E)?m.push(...E):m.push(E)}}}return m}}function Rde(t,e){t.position&&(e.position=hce(t))}function kde(t,e){let n=e;if(t&&t.data){const r=t.data.hName,s=t.data.hChildren,o=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const l="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:l}}n.type==="element"&&o&&Object.assign(n.properties,Ny(o)),"children"in n&&n.children&&s!==null&&s!==void 0&&(n.children=s)}return n}function Dde(t,e){const n=e.data||{},r="value"in e&&!(sE.call(n,"hProperties")||sE.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function Pde(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function WM(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function qM(t,e){const n=Cde(t,e),r=n.one(t,void 0),s=xde(n),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return s&&(_e("children"in o),o.children.push({type:"text",value:`
`},s)),o}function jde(t,e){return t&&"run"in t?async function(n,r){const s=qM(n,{file:r,...e});await t.run(s,r)}:function(n,r){return qM(n,{file:r,...t||e})}}function XM(t){if(t)throw t}var aN,YM;function Mde(){if(YM)return aN;YM=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,s=function(h){return typeof Array.isArray=="function"?Array.isArray(h):e.call(h)==="[object Array]"},o=function(h){if(!h||e.call(h)!=="[object Object]")return!1;var p=t.call(h,"constructor"),m=h.constructor&&h.constructor.prototype&&t.call(h.constructor.prototype,"isPrototypeOf");if(h.constructor&&!p&&!m)return!1;var x;for(x in h);return typeof x>"u"||t.call(h,x)},l=function(h,p){n&&p.name==="__proto__"?n(h,p.name,{enumerable:!0,configurable:!0,value:p.newValue,writable:!0}):h[p.name]=p.newValue},c=function(h,p){if(p==="__proto__")if(t.call(h,p)){if(r)return r(h,p).value}else return;return h[p]};return aN=function f(){var h,p,m,x,w,E,T=arguments[0],C=1,P=arguments.length,j=!1;for(typeof T=="boolean"&&(j=T,T=arguments[1]||{},C=2),(T==null||typeof T!="object"&&typeof T!="function")&&(T={});C<P;++C)if(h=arguments[C],h!=null)for(p in h)m=c(T,p),x=c(h,p),T!==x&&(j&&x&&(o(x)||(w=s(x)))?(w?(w=!1,E=m&&s(m)?m:[]):E=m&&o(m)?m:{},l(T,{name:p,newValue:f(j,E,x)})):typeof x<"u"&&l(T,{name:p,newValue:x}));return T},aN}var Ide=Mde();const lN=bu(Ide);function iE(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function Ode(){const t=[],e={run:n,use:r};return e;function n(...s){let o=-1;const l=s.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);c(null,...s);function c(f,...h){const p=t[++o];let m=-1;if(f){l(f);return}for(;++m<s.length;)(h[m]===null||h[m]===void 0)&&(h[m]=s[m]);s=h,p?Ude(p,c)(...h):l(null,...h)}}function r(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return t.push(s),e}}function Ude(t,e){let n;return r;function r(...l){const c=t.length>l.length;let f;c&&l.push(s);try{f=t.apply(this,l)}catch(h){const p=h;if(c&&n)throw p;return s(p)}c||(f&&f.then&&typeof f.then=="function"?f.then(o,s):f instanceof Error?s(f):o(f))}function s(l,...c){n||(n=!0,e(l,...c))}function o(l){s(null,l)}}const To={basename:Vde,dirname:Fde,extname:Bde,join:Lde,sep:"/"};function Vde(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Pm(t);let n=0,r=-1,s=t.length,o;if(e===void 0||e.length===0||e.length>t.length){for(;s--;)if(t.codePointAt(s)===47){if(o){n=s+1;break}}else r<0&&(o=!0,r=s+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let l=-1,c=e.length-1;for(;s--;)if(t.codePointAt(s)===47){if(o){n=s+1;break}}else l<0&&(o=!0,l=s+1),c>-1&&(t.codePointAt(s)===e.codePointAt(c--)?c<0&&(r=s):(c=-1,r=l));return n===r?r=l:r<0&&(r=t.length),t.slice(n,r)}function Fde(t){if(Pm(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function Bde(t){Pm(t);let e=t.length,n=-1,r=0,s=-1,o=0,l;for(;e--;){const c=t.codePointAt(e);if(c===47){if(l){r=e+1;break}continue}n<0&&(l=!0,n=e+1),c===46?s<0?s=e:o!==1&&(o=1):s>-1&&(o=-1)}return s<0||n<0||o===0||o===1&&s===n-1&&s===r+1?"":t.slice(s,n)}function Lde(...t){let e=-1,n;for(;++e<t.length;)Pm(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":zde(n)}function zde(t){Pm(t);const e=t.codePointAt(0)===47;let n=$de(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function $de(t,e){let n="",r=0,s=-1,o=0,l=-1,c,f;for(;++l<=t.length;){if(l<t.length)c=t.codePointAt(l);else{if(c===47)break;c=47}if(c===47){if(!(s===l-1||o===1))if(s!==l-1&&o===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(f=n.lastIndexOf("/"),f!==n.length-1){f<0?(n="",r=0):(n=n.slice(0,f),r=n.length-1-n.lastIndexOf("/")),s=l,o=0;continue}}else if(n.length>0){n="",r=0,s=l,o=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(s+1,l):n=t.slice(s+1,l),r=l-s-1;s=l,o=0}else c===46&&o>-1?o++:o=-1}return n}function Pm(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const Hde={cwd:Wde};function Wde(){return"/"}function oE(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function qde(t){if(typeof t=="string")t=new URL(t);else if(!oE(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return Xde(t)}function Xde(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const s=new TypeError("File URL path must not include encoded / characters");throw s.code="ERR_INVALID_FILE_URL_PATH",s}}return decodeURIComponent(e)}const cN=["history","path","basename","stem","extname","dirname"];class yB{constructor(e){let n;e?oE(e)?n={path:e}:typeof e=="string"||Yde(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":Hde.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<cN.length;){const o=cN[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let s;for(s in n)cN.includes(s)||(this[s]=n[s])}get basename(){return typeof this.path=="string"?To.basename(this.path):void 0}set basename(e){fN(e,"basename"),uN(e,"basename"),this.path=To.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?To.dirname(this.path):void 0}set dirname(e){KM(this.basename,"dirname"),this.path=To.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?To.extname(this.path):void 0}set extname(e){if(uN(e,"extname"),KM(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=To.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){oE(e)&&(e=qde(e)),fN(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?To.basename(this.path,this.extname):void 0}set stem(e){fN(e,"stem"),uN(e,"stem"),this.path=To.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const s=this.message(e,n,r);throw s.fatal=!0,s}info(e,n,r){const s=this.message(e,n,r);return s.fatal=void 0,s}message(e,n,r){const s=new ps(e,n,r);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function uN(t,e){if(t&&t.includes(To.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+To.sep+"`")}function fN(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function KM(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function Yde(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const Kde=function(t){const r=this.constructor.prototype,s=r[t],o=function(){return s.apply(o,arguments)};return Object.setPrototypeOf(o,r),o},Zde={}.hasOwnProperty;class $T extends Kde{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Ode()}copy(){const e=new $T;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(lN(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(pN("data",this.frozen),this.namespace[e]=n,this):Zde.call(this.namespace,e)&&this.namespace[e]||void 0:e?(pN("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const s=n.call(e,...r);typeof s=="function"&&this.transformers.use(s)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=ax(e),r=this.parser||this.Parser;return dN("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),dN("process",this.parser||this.Parser),hN("process",this.compiler||this.Compiler),n?s(void 0,n):new Promise(s);function s(o,l){const c=ax(e),f=r.parse(c);r.run(f,c,function(p,m,x){if(p||!m||!x)return h(p);const w=m,E=r.stringify(w,x);Jde(E)?x.value=E:x.result=E,h(p,x)});function h(p,m){p||!m?l(p):o?o(m):(_e(n,"`done` is defined if `resolve` is not"),n(void 0,m))}}}processSync(e){let n=!1,r;return this.freeze(),dN("processSync",this.parser||this.Parser),hN("processSync",this.compiler||this.Compiler),this.process(e,s),QM("processSync","process",n),_e(r,"we either bailed on an error or have a tree"),r;function s(o,l){n=!0,XM(o),r=l}}run(e,n,r){ZM(e),this.freeze();const s=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(l,c){_e(typeof n!="function","`file` can’t be a `done` anymore, we checked");const f=ax(n);s.run(e,f,h);function h(p,m,x){const w=m||e;p?c(p):l?l(w):(_e(r,"`done` is defined if `resolve` is not"),r(void 0,w,x))}}}runSync(e,n){let r=!1,s;return this.run(e,n,o),QM("runSync","run",r),_e(s,"we either bailed on an error or have a tree"),s;function o(l,c){XM(l),s=c,r=!0}}stringify(e,n){this.freeze();const r=ax(n),s=this.compiler||this.Compiler;return hN("stringify",s),ZM(e),s(e,r)}use(e,...n){const r=this.attachers,s=this.namespace;if(pN("use",this.frozen),e!=null)if(typeof e=="function")f(e,n);else if(typeof e=="object")Array.isArray(e)?c(e):l(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function o(h){if(typeof h=="function")f(h,[]);else if(typeof h=="object")if(Array.isArray(h)){const[p,...m]=h;f(p,m)}else l(h);else throw new TypeError("Expected usable value, not `"+h+"`")}function l(h){if(!("plugins"in h)&&!("settings"in h))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");c(h.plugins),h.settings&&(s.settings=lN(!0,s.settings,h.settings))}function c(h){let p=-1;if(h!=null)if(Array.isArray(h))for(;++p<h.length;){const m=h[p];o(m)}else throw new TypeError("Expected a list of plugins, not `"+h+"`")}function f(h,p){let m=-1,x=-1;for(;++m<r.length;)if(r[m][0]===h){x=m;break}if(x===-1)r.push([h,...p]);else if(p.length>0){let[w,...E]=p;const T=r[x][1];iE(T)&&iE(w)&&(w=lN(!0,T,w)),r[x]=[h,w,...E]}}}}const Qde=new $T().freeze();function dN(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function hN(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function pN(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function ZM(t){if(!iE(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function QM(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function ax(t){return Gde(t)?t:new yB(t)}function Gde(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function Jde(t){return typeof t=="string"||ehe(t)}function ehe(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const the="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",GM=[],JM={allowDangerousHtml:!0},nhe=/^(https?|ircs?|mailto|xmpp)$/i,rhe=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function she(t){const e=ihe(t),n=ohe(t);return ahe(e.runSync(e.parse(n),n),t)}function ihe(t){const e=t.rehypePlugins||GM,n=t.remarkPlugins||GM,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...JM}:JM;return Qde().use(Ffe).use(n).use(jde,r).use(e)}function ohe(t){const e=t.children||"",n=new yB;return typeof e=="string"?n.value=e:ZS("Unexpected value `"+e+"` for `children` prop, expected `string`"),n}function ahe(t,e){const n=e.allowedElements,r=e.allowElement,s=e.components,o=e.disallowedElements,l=e.skipHtml,c=e.unwrapDisallowed,f=e.urlTransform||lhe;for(const p of rhe)Object.hasOwn(e,p.from)&&ZS("Unexpected `"+p.from+"` prop, "+(p.to?"use `"+p.to+"` instead":"remove it")+" (see <"+the+"#"+p.id+"> for more info)");return n&&o&&ZS("Unexpected combined `allowedElements` and `disallowedElements`, expected one or the other"),zT(t,h),xce(t,{Fragment:je.Fragment,components:s,ignoreInvalidStyle:!0,jsx:je.jsx,jsxs:je.jsxs,passKeys:!0,passNode:!0});function h(p,m,x){if(p.type==="raw"&&x&&typeof m=="number")return l?x.children.splice(m,1):x.children[m]={type:"text",value:p.value},m;if(p.type==="element"){let w;for(w in nN)if(Object.hasOwn(nN,w)&&Object.hasOwn(p.properties,w)){const E=p.properties[w],T=nN[w];(T===null||T.includes(p.tagName))&&(p.properties[w]=f(String(E||""),w,p))}}if(p.type==="element"){let w=n?!n.includes(p.tagName):o?o.includes(p.tagName):!1;if(!w&&r&&typeof m=="number"&&(w=!r(p,m,x)),w&&x&&typeof m=="number")return c&&p.children?x.children.splice(m,1,...p.children):x.children.splice(m,1),m}}}function lhe(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),s=t.indexOf("/");return e===-1||s!==-1&&e>s||n!==-1&&e>n||r!==-1&&e>r||nhe.test(t.slice(0,e))?t:""}function eI(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let r=0,s=n.indexOf(e);for(;s!==-1;)r++,s=n.indexOf(e,s+e.length);return r}function che(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function uhe(t,e,n){const s=bv((n||{}).ignore||[]),o=fhe(e);let l=-1;for(;++l<o.length;)xB(t,"text",c);function c(h,p){let m=-1,x;for(;++m<p.length;){const w=p[m],E=x?x.children:void 0;if(s(w,E?E.indexOf(w):void 0,x))return;x=w}if(x)return f(h,p)}function f(h,p){const m=p[p.length-1],x=o[l][0],w=o[l][1];let E=0;const C=m.children.indexOf(h);let P=!1,j=[];x.lastIndex=0;let D=x.exec(h.value);for(;D;){const U=D.index,L={index:D.index,input:D.input,stack:[...p,h]};let O=w(...D,L);if(typeof O=="string"&&(O=O.length>0?{type:"text",value:O}:void 0),O===!1?x.lastIndex=U+1:(E!==U&&j.push({type:"text",value:h.value.slice(E,U)}),Array.isArray(O)?j.push(...O):O&&j.push(O),E=U+D[0].length,P=!0),!x.global)break;D=x.exec(h.value)}return P?(E<h.value.length&&j.push({type:"text",value:h.value.slice(E)}),m.children.splice(C,1,...j)):j=[h],C+j.length}}function fhe(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!t[0]||Array.isArray(t[0])?t:[t];let r=-1;for(;++r<n.length;){const s=n[r];e.push([dhe(s[0]),hhe(s[1])])}return e}function dhe(t){return typeof t=="string"?new RegExp(che(t),"g"):t}function hhe(t){return typeof t=="function"?t:function(){return t}}const mN="phrasing",gN=["autolink","link","image","label"];function phe(){return{transforms:[whe],enter:{literalAutolink:ghe,literalAutolinkEmail:bN,literalAutolinkHttp:bN,literalAutolinkWww:bN},exit:{literalAutolink:vhe,literalAutolinkEmail:yhe,literalAutolinkHttp:bhe,literalAutolinkWww:xhe}}}function mhe(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:mN,notInConstruct:gN},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:mN,notInConstruct:gN},{character:":",before:"[ps]",after:"\\/",inConstruct:mN,notInConstruct:gN}]}}function ghe(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function bN(t){this.config.enter.autolinkProtocol.call(this,t)}function bhe(t){this.config.exit.autolinkProtocol.call(this,t)}function xhe(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];_e(e.type==="link"),e.url="http://"+this.sliceSerialize(t)}function yhe(t){this.config.exit.autolinkEmail.call(this,t)}function vhe(t){this.exit(t)}function whe(t){uhe(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,_he],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),Nhe]],{ignore:["link","linkReference"]})}function _he(t,e,n,r,s){let o="";if(!vB(s)||(/^w/i.test(e)&&(n=e+n,e="",o="http://"),!She(n)))return!1;const l=Ehe(n+r);if(!l[0])return!1;const c={type:"link",title:null,url:o+e+l[0],children:[{type:"text",value:e+l[0]}]};return l[1]?[c,{type:"text",value:l[1]}]:c}function Nhe(t,e,n,r){return!vB(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function She(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function Ehe(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let n=e[0],r=n.indexOf(")");const s=eI(t,"(");let o=eI(t,")");for(;r!==-1&&s>o;)t+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),o++;return[t,n]}function vB(t,e){const n=t.input.charCodeAt(t.index-1);return(t.index===0||gu(n)||pv(n))&&(!e||n!==47)}wB.peek=Mhe;function The(){this.buffer()}function Ahe(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function Che(){this.buffer()}function Rhe(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function khe(t){const e=this.resume(),n=this.stack[this.stack.length-1];_e(n.type==="footnoteReference"),n.identifier=to(this.sliceSerialize(t)).toLowerCase(),n.label=e}function Dhe(t){this.exit(t)}function Phe(t){const e=this.resume(),n=this.stack[this.stack.length-1];_e(n.type==="footnoteDefinition"),n.identifier=to(this.sliceSerialize(t)).toLowerCase(),n.label=e}function jhe(t){this.exit(t)}function Mhe(){return"["}function wB(t,e,n,r){const s=n.createTracker(r);let o=s.move("[^");const l=n.enter("footnoteReference"),c=n.enter("reference");return o+=s.move(n.safe(n.associationId(t),{after:"]",before:o})),c(),l(),o+=s.move("]"),o}function Ihe(){return{enter:{gfmFootnoteCallString:The,gfmFootnoteCall:Ahe,gfmFootnoteDefinitionLabelString:Che,gfmFootnoteDefinition:Rhe},exit:{gfmFootnoteCallString:khe,gfmFootnoteCall:Dhe,gfmFootnoteDefinitionLabelString:Phe,gfmFootnoteDefinition:jhe}}}function Ohe(t){let e=!1;return t&&t.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:n,footnoteReference:wB},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,s,o,l){const c=o.createTracker(l);let f=c.move("[^");const h=o.enter("footnoteDefinition"),p=o.enter("label");return f+=c.move(o.safe(o.associationId(r),{before:f,after:"]"})),p(),f+=c.move("]:"),r.children&&r.children.length>0&&(c.shift(4),f+=c.move((e?`
`:" ")+o.indentLines(o.containerFlow(r,c.current()),e?_B:Uhe))),h(),f}}function Uhe(t,e,n){return e===0?t:_B(t,e,n)}function _B(t,e,n){return(n?"":"    ")+t}const Vhe=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];NB.peek=$he;function Fhe(){return{canContainEols:["delete"],enter:{strikethrough:Lhe},exit:{strikethrough:zhe}}}function Bhe(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:Vhe}],handlers:{delete:NB}}}function Lhe(t){this.enter({type:"delete",children:[]},t)}function zhe(t){this.exit(t)}function NB(t,e,n,r){const s=n.createTracker(r),o=n.enter("strikethrough");let l=s.move("~~");return l+=n.containerPhrasing(t,{...s.current(),before:l,after:"~"}),l+=s.move("~~"),o(),l}function $he(){return"~"}function Hhe(t){return t.length}function Whe(t,e){const n=e||{},r=(n.align||[]).concat(),s=n.stringLength||Hhe,o=[],l=[],c=[],f=[];let h=0,p=-1;for(;++p<t.length;){const T=[],C=[];let P=-1;for(t[p].length>h&&(h=t[p].length);++P<t[p].length;){const j=qhe(t[p][P]);if(n.alignDelimiters!==!1){const D=s(j);C[P]=D,(f[P]===void 0||D>f[P])&&(f[P]=D)}T.push(j)}l[p]=T,c[p]=C}let m=-1;if(typeof r=="object"&&"length"in r)for(;++m<h;)o[m]=tI(r[m]);else{const T=tI(r);for(;++m<h;)o[m]=T}m=-1;const x=[],w=[];for(;++m<h;){const T=o[m];let C="",P="";T===99?(C=":",P=":"):T===108?C=":":T===114&&(P=":");let j=n.alignDelimiters===!1?1:Math.max(1,f[m]-C.length-P.length);const D=C+"-".repeat(j)+P;n.alignDelimiters!==!1&&(j=C.length+j+P.length,j>f[m]&&(f[m]=j),w[m]=j),x[m]=D}l.splice(1,0,x),c.splice(1,0,w),p=-1;const E=[];for(;++p<l.length;){const T=l[p],C=c[p];m=-1;const P=[];for(;++m<h;){const j=T[m]||"";let D="",U="";if(n.alignDelimiters!==!1){const L=f[m]-(C[m]||0),O=o[m];O===114?D=" ".repeat(L):O===99?L%2?(D=" ".repeat(L/2+.5),U=" ".repeat(L/2-.5)):(D=" ".repeat(L/2),U=D):U=" ".repeat(L)}n.delimiterStart!==!1&&!m&&P.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&j==="")&&(n.delimiterStart!==!1||m)&&P.push(" "),n.alignDelimiters!==!1&&P.push(D),P.push(j),n.alignDelimiters!==!1&&P.push(U),n.padding!==!1&&P.push(" "),(n.delimiterEnd!==!1||m!==h-1)&&P.push("|")}E.push(n.delimiterEnd===!1?P.join("").replace(/ +$/,""):P.join(""))}return E.join(`
`)}function qhe(t){return t==null?"":String(t)}function tI(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function Xhe(t,e,n,r){const s=n.enter("blockquote"),o=n.createTracker(r);o.move("> "),o.shift(2);const l=n.indentLines(n.containerFlow(t,o.current()),Yhe);return s(),l}function Yhe(t,e,n){return">"+(n?"":" ")+t}function Khe(t,e){return nI(t,e.inConstruct,!0)&&!nI(t,e.notInConstruct,!1)}function nI(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let r=-1;for(;++r<e.length;)if(t.includes(e[r]))return!0;return!1}function rI(t,e,n,r){let s=-1;for(;++s<n.unsafe.length;)if(n.unsafe[s].character===`
`&&Khe(n.stack,n.unsafe[s]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function Zhe(t,e){const n=String(t);let r=n.indexOf(e),s=r,o=0,l=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===s?++o>l&&(l=o):o=1,s=r+e.length,r=n.indexOf(e,s);return l}function Qhe(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function Ghe(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function Jhe(t,e,n,r){const s=Ghe(n),o=t.value||"",l=s==="`"?"GraveAccent":"Tilde";if(Qhe(t,n)){const m=n.enter("codeIndented"),x=n.indentLines(o,epe);return m(),x}const c=n.createTracker(r),f=s.repeat(Math.max(Zhe(o,s)+1,3)),h=n.enter("codeFenced");let p=c.move(f);if(t.lang){const m=n.enter(`codeFencedLang${l}`);p+=c.move(n.safe(t.lang,{before:p,after:" ",encode:["`"],...c.current()})),m()}if(t.lang&&t.meta){const m=n.enter(`codeFencedMeta${l}`);p+=c.move(" "),p+=c.move(n.safe(t.meta,{before:p,after:`
`,encode:["`"],...c.current()})),m()}return p+=c.move(`
`),o&&(p+=c.move(o+`
`)),p+=c.move(f),h(),p}function epe(t,e,n){return(n?"":"    ")+t}function HT(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function tpe(t,e,n,r){const s=HT(n),o=s==='"'?"Quote":"Apostrophe",l=n.enter("definition");let c=n.enter("label");const f=n.createTracker(r);let h=f.move("[");return h+=f.move(n.safe(n.associationId(t),{before:h,after:"]",...f.current()})),h+=f.move("]: "),c(),!t.url||/[\0- \u007F]/.test(t.url)?(c=n.enter("destinationLiteral"),h+=f.move("<"),h+=f.move(n.safe(t.url,{before:h,after:">",...f.current()})),h+=f.move(">")):(c=n.enter("destinationRaw"),h+=f.move(n.safe(t.url,{before:h,after:t.title?" ":`
`,...f.current()}))),c(),t.title&&(c=n.enter(`title${o}`),h+=f.move(" "+s),h+=f.move(n.safe(t.title,{before:h,after:s,...f.current()})),h+=f.move(s),c()),l(),h}function npe(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function lm(t){return"&#x"+t.toString(16).toUpperCase()+";"}function Sy(t,e,n){const r=Cd(t),s=Cd(e);return r===void 0?s===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:s===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?s===void 0?{inside:!1,outside:!1}:s===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:s===void 0?{inside:!1,outside:!1}:s===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}SB.peek=rpe;function SB(t,e,n,r){const s=npe(n),o=n.enter("emphasis"),l=n.createTracker(r),c=l.move(s);let f=l.move(n.containerPhrasing(t,{after:s,before:c,...l.current()}));const h=f.charCodeAt(0),p=Sy(r.before.charCodeAt(r.before.length-1),h,s);p.inside&&(f=lm(h)+f.slice(1));const m=f.charCodeAt(f.length-1),x=Sy(r.after.charCodeAt(0),m,s);x.inside&&(f=f.slice(0,-1)+lm(m));const w=l.move(s);return o(),n.attentionEncodeSurroundingInfo={after:x.outside,before:p.outside},c+f+w}function rpe(t,e,n){return n.options.emphasis||"*"}function spe(t,e){let n=!1;return zT(t,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,rE}),!!((!t.depth||t.depth<3)&&IT(t)&&(e.options.setext||n))}function ipe(t,e,n,r){const s=Math.max(Math.min(6,t.depth||1),1),o=n.createTracker(r);if(spe(t,n)){const p=n.enter("headingSetext"),m=n.enter("phrasing"),x=n.containerPhrasing(t,{...o.current(),before:`
`,after:`
`});return m(),p(),x+`
`+(s===1?"=":"-").repeat(x.length-(Math.max(x.lastIndexOf("\r"),x.lastIndexOf(`
`))+1))}const l="#".repeat(s),c=n.enter("headingAtx"),f=n.enter("phrasing");o.move(l+" ");let h=n.containerPhrasing(t,{before:"# ",after:`
`,...o.current()});return/^[\t ]/.test(h)&&(h=lm(h.charCodeAt(0))+h.slice(1)),h=h?l+" "+h:l,n.options.closeAtx&&(h+=" "+l),f(),c(),h}EB.peek=ope;function EB(t){return t.value||""}function ope(){return"<"}TB.peek=ape;function TB(t,e,n,r){const s=HT(n),o=s==='"'?"Quote":"Apostrophe",l=n.enter("image");let c=n.enter("label");const f=n.createTracker(r);let h=f.move("![");return h+=f.move(n.safe(t.alt,{before:h,after:"]",...f.current()})),h+=f.move("]("),c(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(c=n.enter("destinationLiteral"),h+=f.move("<"),h+=f.move(n.safe(t.url,{before:h,after:">",...f.current()})),h+=f.move(">")):(c=n.enter("destinationRaw"),h+=f.move(n.safe(t.url,{before:h,after:t.title?" ":")",...f.current()}))),c(),t.title&&(c=n.enter(`title${o}`),h+=f.move(" "+s),h+=f.move(n.safe(t.title,{before:h,after:s,...f.current()})),h+=f.move(s),c()),h+=f.move(")"),l(),h}function ape(){return"!"}AB.peek=lpe;function AB(t,e,n,r){const s=t.referenceType,o=n.enter("imageReference");let l=n.enter("label");const c=n.createTracker(r);let f=c.move("![");const h=n.safe(t.alt,{before:f,after:"]",...c.current()});f+=c.move(h+"]["),l();const p=n.stack;n.stack=[],l=n.enter("reference");const m=n.safe(n.associationId(t),{before:f,after:"]",...c.current()});return l(),n.stack=p,o(),s==="full"||!h||h!==m?f+=c.move(m+"]"):s==="shortcut"?f=f.slice(0,-1):f+=c.move("]"),f}function lpe(){return"!"}CB.peek=cpe;function CB(t,e,n){let r=t.value||"",s="`",o=-1;for(;new RegExp("(^|[^`])"+s+"([^`]|$)").test(r);)s+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++o<n.unsafe.length;){const l=n.unsafe[o],c=n.compilePattern(l);let f;if(l.atBreak)for(;f=c.exec(r);){let h=f.index;r.charCodeAt(h)===10&&r.charCodeAt(h-1)===13&&h--,r=r.slice(0,h)+" "+r.slice(f.index+1)}}return s+r+s}function cpe(){return"`"}function RB(t,e){const n=IT(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}kB.peek=upe;function kB(t,e,n,r){const s=HT(n),o=s==='"'?"Quote":"Apostrophe",l=n.createTracker(r);let c,f;if(RB(t,n)){const p=n.stack;n.stack=[],c=n.enter("autolink");let m=l.move("<");return m+=l.move(n.containerPhrasing(t,{before:m,after:">",...l.current()})),m+=l.move(">"),c(),n.stack=p,m}c=n.enter("link"),f=n.enter("label");let h=l.move("[");return h+=l.move(n.containerPhrasing(t,{before:h,after:"](",...l.current()})),h+=l.move("]("),f(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(f=n.enter("destinationLiteral"),h+=l.move("<"),h+=l.move(n.safe(t.url,{before:h,after:">",...l.current()})),h+=l.move(">")):(f=n.enter("destinationRaw"),h+=l.move(n.safe(t.url,{before:h,after:t.title?" ":")",...l.current()}))),f(),t.title&&(f=n.enter(`title${o}`),h+=l.move(" "+s),h+=l.move(n.safe(t.title,{before:h,after:s,...l.current()})),h+=l.move(s),f()),h+=l.move(")"),c(),h}function upe(t,e,n){return RB(t,n)?"<":"["}DB.peek=fpe;function DB(t,e,n,r){const s=t.referenceType,o=n.enter("linkReference");let l=n.enter("label");const c=n.createTracker(r);let f=c.move("[");const h=n.containerPhrasing(t,{before:f,after:"]",...c.current()});f+=c.move(h+"]["),l();const p=n.stack;n.stack=[],l=n.enter("reference");const m=n.safe(n.associationId(t),{before:f,after:"]",...c.current()});return l(),n.stack=p,o(),s==="full"||!h||h!==m?f+=c.move(m+"]"):s==="shortcut"?f=f.slice(0,-1):f+=c.move("]"),f}function fpe(){return"["}function WT(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function dpe(t){const e=WT(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function hpe(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function PB(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function ppe(t,e,n,r){const s=n.enter("list"),o=n.bulletCurrent;let l=t.ordered?hpe(n):WT(n);const c=t.ordered?l==="."?")":".":dpe(n);let f=e&&n.bulletLastUsed?l===n.bulletLastUsed:!1;if(!t.ordered){const p=t.children?t.children[0]:void 0;if((l==="*"||l==="-")&&p&&(!p.children||!p.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(f=!0),PB(n)===l&&p){let m=-1;for(;++m<t.children.length;){const x=t.children[m];if(x&&x.type==="listItem"&&x.children&&x.children[0]&&x.children[0].type==="thematicBreak"){f=!0;break}}}}f&&(l=c),n.bulletCurrent=l;const h=n.containerFlow(t,r);return n.bulletLastUsed=l,n.bulletCurrent=o,s(),h}function mpe(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function gpe(t,e,n,r){const s=mpe(n);let o=n.bulletCurrent||WT(n);e&&e.type==="list"&&e.ordered&&(o=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+o);let l=o.length+1;(s==="tab"||s==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(l=Math.ceil(l/4)*4);const c=n.createTracker(r);c.move(o+" ".repeat(l-o.length)),c.shift(l);const f=n.enter("listItem"),h=n.indentLines(n.containerFlow(t,c.current()),p);return f(),h;function p(m,x,w){return x?(w?"":" ".repeat(l))+m:(w?o:o+" ".repeat(l-o.length))+m}}function bpe(t,e,n,r){const s=n.enter("paragraph"),o=n.enter("phrasing"),l=n.containerPhrasing(t,r);return o(),s(),l}const xpe=bv(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function ype(t,e,n,r){return(t.children.some(function(l){return xpe(l)})?n.containerPhrasing:n.containerFlow).call(n,t,r)}function vpe(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}jB.peek=wpe;function jB(t,e,n,r){const s=vpe(n),o=n.enter("strong"),l=n.createTracker(r),c=l.move(s+s);let f=l.move(n.containerPhrasing(t,{after:s,before:c,...l.current()}));const h=f.charCodeAt(0),p=Sy(r.before.charCodeAt(r.before.length-1),h,s);p.inside&&(f=lm(h)+f.slice(1));const m=f.charCodeAt(f.length-1),x=Sy(r.after.charCodeAt(0),m,s);x.inside&&(f=f.slice(0,-1)+lm(m));const w=l.move(s+s);return o(),n.attentionEncodeSurroundingInfo={after:x.outside,before:p.outside},c+f+w}function wpe(t,e,n){return n.options.strong||"*"}function _pe(t,e,n,r){return n.safe(t.value,r)}function Npe(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function Spe(t,e,n){const r=(PB(n)+(n.options.ruleSpaces?" ":"")).repeat(Npe(n));return n.options.ruleSpaces?r.slice(0,-1):r}const MB={blockquote:Xhe,break:rI,code:Jhe,definition:tpe,emphasis:SB,hardBreak:rI,heading:ipe,html:EB,image:TB,imageReference:AB,inlineCode:CB,link:kB,linkReference:DB,list:ppe,listItem:gpe,paragraph:bpe,root:ype,strong:jB,text:_pe,thematicBreak:Spe};function Epe(){return{enter:{table:Tpe,tableData:sI,tableHeader:sI,tableRow:Cpe},exit:{codeText:Rpe,table:Ape,tableData:xN,tableHeader:xN,tableRow:xN}}}function Tpe(t){const e=t._align;_e(e,"expected `_align` on table"),this.enter({type:"table",align:e.map(function(n){return n==="none"?null:n}),children:[]},t),this.data.inTable=!0}function Ape(t){this.exit(t),this.data.inTable=void 0}function Cpe(t){this.enter({type:"tableRow",children:[]},t)}function xN(t){this.exit(t)}function sI(t){this.enter({type:"tableCell",children:[]},t)}function Rpe(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,kpe));const n=this.stack[this.stack.length-1];_e(n.type==="inlineCode"),n.value=e,this.exit(t)}function kpe(t,e){return e==="|"?e:t}function Dpe(t){const e=t||{},n=e.tableCellPadding,r=e.tablePipeAlign,s=e.stringLength,o=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:x,table:l,tableCell:f,tableRow:c}};function l(w,E,T,C){return h(p(w,T,C),w.align)}function c(w,E,T,C){const P=m(w,T,C),j=h([P]);return j.slice(0,j.indexOf(`
`))}function f(w,E,T,C){const P=T.enter("tableCell"),j=T.enter("phrasing"),D=T.containerPhrasing(w,{...C,before:o,after:o});return j(),P(),D}function h(w,E){return Whe(w,{align:E,alignDelimiters:r,padding:n,stringLength:s})}function p(w,E,T){const C=w.children;let P=-1;const j=[],D=E.enter("table");for(;++P<C.length;)j[P]=m(C[P],E,T);return D(),j}function m(w,E,T){const C=w.children;let P=-1;const j=[],D=E.enter("tableRow");for(;++P<C.length;)j[P]=f(C[P],w,E,T);return D(),j}function x(w,E,T){let C=MB.inlineCode(w,E,T);return T.stack.includes("tableCell")&&(C=C.replace(/\|/g,"\\$&")),C}}function Ppe(){return{exit:{taskListCheckValueChecked:iI,taskListCheckValueUnchecked:iI,paragraph:Mpe}}}function jpe(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:Ipe}}}function iI(t){const e=this.stack[this.stack.length-2];_e(e.type==="listItem"),e.checked=t.type==="taskListCheckValueChecked"}function Mpe(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const n=this.stack[this.stack.length-1];_e(n.type==="paragraph");const r=n.children[0];if(r&&r.type==="text"){const s=e.children;let o=-1,l;for(;++o<s.length;){const c=s[o];if(c.type==="paragraph"){l=c;break}}l===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(t)}function Ipe(t,e,n,r){const s=t.children[0],o=typeof t.checked=="boolean"&&s&&s.type==="paragraph",l="["+(t.checked?"x":" ")+"] ",c=n.createTracker(r);o&&c.move(l);let f=MB.listItem(t,e,n,{...r,...c.current()});return o&&(f=f.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,h)),f;function h(p){return p+l}}function Ope(){return[phe(),Ihe(),Fhe(),Epe(),Ppe()]}function Upe(t){return{extensions:[mhe(),Ohe(t),Bhe(),Dpe(t),jpe()]}}const Vpe={tokenize:Hpe,partial:!0},IB={tokenize:Wpe,partial:!0},OB={tokenize:qpe,partial:!0},UB={tokenize:Xpe,partial:!0},Fpe={tokenize:Ype,partial:!0},VB={name:"wwwAutolink",tokenize:zpe,previous:BB},FB={name:"protocolAutolink",tokenize:$pe,previous:LB},ka={name:"emailAutolink",tokenize:Lpe,previous:zB},$o={};function Bpe(){return{text:$o}}let Uc=M.digit0;for(;Uc<M.leftCurlyBrace;)$o[Uc]=ka,Uc++,Uc===M.colon?Uc=M.uppercaseA:Uc===M.leftSquareBracket&&(Uc=M.lowercaseA);$o[M.plusSign]=ka;$o[M.dash]=ka;$o[M.dot]=ka;$o[M.underscore]=ka;$o[M.uppercaseH]=[ka,FB];$o[M.lowercaseH]=[ka,FB];$o[M.uppercaseW]=[ka,VB];$o[M.lowercaseW]=[ka,VB];function Lpe(t,e,n){const r=this;let s,o;return l;function l(m){return!aE(m)||!zB.call(r,r.previous)||qT(r.events)?n(m):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),c(m))}function c(m){return aE(m)?(t.consume(m),c):m===M.atSign?(t.consume(m),f):n(m)}function f(m){return m===M.dot?t.check(Fpe,p,h)(m):m===M.dash||m===M.underscore||hs(m)?(o=!0,t.consume(m),f):p(m)}function h(m){return t.consume(m),s=!0,f}function p(m){return o&&s&&ks(r.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(m)):n(m)}}function zpe(t,e,n){const r=this;return s;function s(l){return l!==M.uppercaseW&&l!==M.lowercaseW||!BB.call(r,r.previous)||qT(r.events)?n(l):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(Vpe,t.attempt(IB,t.attempt(OB,o),n),n)(l))}function o(l){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(l)}}function $pe(t,e,n){const r=this;let s="",o=!1;return l;function l(m){return(m===M.uppercaseH||m===M.lowercaseH)&&LB.call(r,r.previous)&&!qT(r.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),s+=String.fromCodePoint(m),t.consume(m),c):n(m)}function c(m){if(ks(m)&&s.length<5)return s+=String.fromCodePoint(m),t.consume(m),c;if(m===M.colon){const x=s.toLowerCase();if(x==="http"||x==="https")return t.consume(m),f}return n(m)}function f(m){return m===M.slash?(t.consume(m),o?h:(o=!0,f)):n(m)}function h(m){return m===M.eof||wy(m)||Wn(m)||gu(m)||pv(m)?n(m):t.attempt(IB,t.attempt(OB,p),n)(m)}function p(m){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(m)}}function Hpe(t,e,n){let r=0;return s;function s(l){return(l===M.uppercaseW||l===M.lowercaseW)&&r<3?(r++,t.consume(l),s):l===M.dot&&r===3?(t.consume(l),o):n(l)}function o(l){return l===M.eof?n(l):e(l)}}function Wpe(t,e,n){let r,s,o;return l;function l(h){return h===M.dot||h===M.underscore?t.check(UB,f,c)(h):h===M.eof||Wn(h)||gu(h)||h!==M.dash&&pv(h)?f(h):(o=!0,t.consume(h),l)}function c(h){return h===M.underscore?r=!0:(s=r,r=void 0),t.consume(h),l}function f(h){return s||r||!o?n(h):e(h)}}function qpe(t,e){let n=0,r=0;return s;function s(l){return l===M.leftParenthesis?(n++,t.consume(l),s):l===M.rightParenthesis&&r<n?o(l):l===M.exclamationMark||l===M.quotationMark||l===M.ampersand||l===M.apostrophe||l===M.rightParenthesis||l===M.asterisk||l===M.comma||l===M.dot||l===M.colon||l===M.semicolon||l===M.lessThan||l===M.questionMark||l===M.rightSquareBracket||l===M.underscore||l===M.tilde?t.check(UB,e,o)(l):l===M.eof||Wn(l)||gu(l)?e(l):(t.consume(l),s)}function o(l){return l===M.rightParenthesis&&r++,t.consume(l),s}}function Xpe(t,e,n){return r;function r(c){return c===M.exclamationMark||c===M.quotationMark||c===M.apostrophe||c===M.rightParenthesis||c===M.asterisk||c===M.comma||c===M.dot||c===M.colon||c===M.semicolon||c===M.questionMark||c===M.underscore||c===M.tilde?(t.consume(c),r):c===M.ampersand?(t.consume(c),o):c===M.rightSquareBracket?(t.consume(c),s):c===M.lessThan||c===M.eof||Wn(c)||gu(c)?e(c):n(c)}function s(c){return c===M.eof||c===M.leftParenthesis||c===M.leftSquareBracket||Wn(c)||gu(c)?e(c):r(c)}function o(c){return ks(c)?l(c):n(c)}function l(c){return c===M.semicolon?(t.consume(c),r):ks(c)?(t.consume(c),l):n(c)}}function Ype(t,e,n){return r;function r(o){return t.consume(o),s}function s(o){return hs(o)?n(o):e(o)}}function BB(t){return t===M.eof||t===M.leftParenthesis||t===M.asterisk||t===M.underscore||t===M.leftSquareBracket||t===M.rightSquareBracket||t===M.tilde||Wn(t)}function LB(t){return!ks(t)}function zB(t){return!(t===M.slash||aE(t))}function aE(t){return t===M.plusSign||t===M.dash||t===M.dot||t===M.underscore||hs(t)}function qT(t){let e=t.length,n=!1;for(;e--;){const r=t[e][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const Kpe={tokenize:rme,partial:!0};function Zpe(){return{document:{[M.leftSquareBracket]:{name:"gfmFootnoteDefinition",tokenize:eme,continuation:{tokenize:tme},exit:nme}},text:{[M.leftSquareBracket]:{name:"gfmFootnoteCall",tokenize:Jpe},[M.rightSquareBracket]:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:Qpe,resolveTo:Gpe}}}}function Qpe(t,e,n){const r=this;let s=r.events.length;const o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let l;for(;s--;){const f=r.events[s][1];if(f.type===z.labelImage){l=f;break}if(f.type==="gfmFootnoteCall"||f.type===z.labelLink||f.type===z.label||f.type===z.image||f.type===z.link)break}return c;function c(f){if(_e(f===M.rightSquareBracket,"expected `]`"),!l||!l._balanced)return n(f);const h=to(r.sliceSerialize({start:l.end,end:r.now()}));return h.codePointAt(0)!==M.caret||!o.includes(h.slice(1))?n(f):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(f),t.exit("gfmFootnoteCallLabelMarker"),e(f))}}function Gpe(t,e){let n=t.length,r;for(;n--;)if(t[n][1].type===z.labelImage&&t[n][0]==="enter"){r=t[n][1];break}_e(r,"expected `labelStart` to resolve"),t[n+1][1].type=z.data,t[n+3][1].type="gfmFootnoteCallLabelMarker";const s={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},o={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};o.end.column++,o.end.offset++,o.end._bufferIndex++;const l={type:"gfmFootnoteCallString",start:Object.assign({},o.end),end:Object.assign({},t[t.length-1][1].start)},c={type:z.chunkString,contentType:"string",start:Object.assign({},l.start),end:Object.assign({},l.end)},f=[t[n+1],t[n+2],["enter",s,e],t[n+3],t[n+4],["enter",o,e],["exit",o,e],["enter",l,e],["enter",c,e],["exit",c,e],["exit",l,e],t[t.length-2],t[t.length-1],["exit",s,e]];return t.splice(n,t.length-n+1,...f),t}function Jpe(t,e,n){const r=this,s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o=0,l;return c;function c(m){return _e(m===M.leftSquareBracket,"expected `[`"),t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(m),t.exit("gfmFootnoteCallLabelMarker"),f}function f(m){return m!==M.caret?n(m):(t.enter("gfmFootnoteCallMarker"),t.consume(m),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",h)}function h(m){if(o>dt.linkReferenceSizeMax||m===M.rightSquareBracket&&!l||m===M.eof||m===M.leftSquareBracket||Wn(m))return n(m);if(m===M.rightSquareBracket){t.exit("chunkString");const x=t.exit("gfmFootnoteCallString");return s.includes(to(r.sliceSerialize(x)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(m),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):n(m)}return Wn(m)||(l=!0),o++,t.consume(m),m===M.backslash?p:h}function p(m){return m===M.leftSquareBracket||m===M.backslash||m===M.rightSquareBracket?(t.consume(m),o++,h):h(m)}}function eme(t,e,n){const r=this,s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o,l=0,c;return f;function f(E){return _e(E===M.leftSquareBracket,"expected `[`"),t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(E),t.exit("gfmFootnoteDefinitionLabelMarker"),h}function h(E){return E===M.caret?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(E),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",p):n(E)}function p(E){if(l>dt.linkReferenceSizeMax||E===M.rightSquareBracket&&!c||E===M.eof||E===M.leftSquareBracket||Wn(E))return n(E);if(E===M.rightSquareBracket){t.exit("chunkString");const T=t.exit("gfmFootnoteDefinitionLabelString");return o=to(r.sliceSerialize(T)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(E),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),x}return Wn(E)||(c=!0),l++,t.consume(E),E===M.backslash?m:p}function m(E){return E===M.leftSquareBracket||E===M.backslash||E===M.rightSquareBracket?(t.consume(E),l++,p):p(E)}function x(E){return E===M.colon?(t.enter("definitionMarker"),t.consume(E),t.exit("definitionMarker"),s.includes(o)||s.push(o),wn(t,w,"gfmFootnoteDefinitionWhitespace")):n(E)}function w(E){return e(E)}}function tme(t,e,n){return t.check(Dm,e,t.attempt(Kpe,e,n))}function nme(t){t.exit("gfmFootnoteDefinition")}function rme(t,e,n){const r=this;return wn(t,s,"gfmFootnoteDefinitionIndent",dt.tabSize+1);function s(o){const l=r.events[r.events.length-1];return l&&l[1].type==="gfmFootnoteDefinitionIndent"&&l[2].sliceSerialize(l[1],!0).length===dt.tabSize?e(o):n(o)}}function sme(t){let n=(t||{}).singleTilde;const r={name:"strikethrough",tokenize:o,resolveAll:s};return n==null&&(n=!0),{text:{[M.tilde]:r},insideSpan:{null:[r]},attentionMarkers:{null:[M.tilde]}};function s(l,c){let f=-1;for(;++f<l.length;)if(l[f][0]==="enter"&&l[f][1].type==="strikethroughSequenceTemporary"&&l[f][1]._close){let h=f;for(;h--;)if(l[h][0]==="exit"&&l[h][1].type==="strikethroughSequenceTemporary"&&l[h][1]._open&&l[f][1].end.offset-l[f][1].start.offset===l[h][1].end.offset-l[h][1].start.offset){l[f][1].type="strikethroughSequence",l[h][1].type="strikethroughSequence";const p={type:"strikethrough",start:Object.assign({},l[h][1].start),end:Object.assign({},l[f][1].end)},m={type:"strikethroughText",start:Object.assign({},l[h][1].end),end:Object.assign({},l[f][1].start)},x=[["enter",p,c],["enter",l[h][1],c],["exit",l[h][1],c],["enter",m,c]],w=c.parser.constructs.insideSpan.null;w&&ui(x,x.length,0,mv(w,l.slice(h+1,f),c)),ui(x,x.length,0,[["exit",m,c],["enter",l[f][1],c],["exit",l[f][1],c],["exit",p,c]]),ui(l,h-1,f-h+3,x),f=h+x.length-2;break}}for(f=-1;++f<l.length;)l[f][1].type==="strikethroughSequenceTemporary"&&(l[f][1].type=z.data);return l}function o(l,c,f){const h=this.previous,p=this.events;let m=0;return x;function x(E){return _e(E===M.tilde,"expected `~`"),h===M.tilde&&p[p.length-1][1].type!==z.characterEscape?f(E):(l.enter("strikethroughSequenceTemporary"),w(E))}function w(E){const T=Cd(h);if(E===M.tilde)return m>1?f(E):(l.consume(E),m++,w);if(m<2&&!n)return f(E);const C=l.exit("strikethroughSequenceTemporary"),P=Cd(E);return C._open=!P||P===dt.attentionSideAfter&&!!T,C._close=!T||T===dt.attentionSideAfter&&!!P,c(E)}}}class ime{constructor(){this.map=[]}add(e,n,r){ome(this,e,n,r)}consume(e){if(this.map.sort(function(o,l){return o[0]-l[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(e.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),e.length=this.map[n][0];r.push(e.slice()),e.length=0;let s=r.pop();for(;s;){for(const o of s)e.push(o);s=r.pop()}this.map.length=0}}function ome(t,e,n,r){let s=0;if(!(n===0&&r.length===0)){for(;s<t.map.length;){if(t.map[s][0]===e){t.map[s][1]+=n,t.map[s][2].push(...r);return}s+=1}t.map.push([e,n,r])}}function ame(t,e){_e(t[e][1].type==="table","expected table");let n=!1;const r=[];for(;e<t.length;){const s=t[e];if(n){if(s[0]==="enter")s[1].type==="tableContent"&&r.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(s[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const o=r.length-1;r[o]=r[o]==="left"?"center":"right"}}else if(s[1].type==="tableDelimiterRow")break}else s[0]==="enter"&&s[1].type==="tableDelimiterRow"&&(n=!0);e+=1}return r}function lme(){return{flow:{null:{name:"table",tokenize:cme,resolveAll:ume}}}}function cme(t,e,n){const r=this;let s=0,o=0,l;return c;function c(K){let G=r.events.length-1;for(;G>-1;){const le=r.events[G][1].type;if(le===z.lineEnding||le===z.linePrefix)G--;else break}const ue=G>-1?r.events[G][1].type:null,me=ue==="tableHead"||ue==="tableRow"?O:f;return me===O&&r.parser.lazy[r.now().line]?n(K):me(K)}function f(K){return t.enter("tableHead"),t.enter("tableRow"),h(K)}function h(K){return K===M.verticalBar||(l=!0,o+=1),p(K)}function p(K){return K===M.eof?n(K):vt(K)?o>1?(o=0,r.interrupt=!0,t.exit("tableRow"),t.enter(z.lineEnding),t.consume(K),t.exit(z.lineEnding),w):n(K):hn(K)?wn(t,p,z.whitespace)(K):(o+=1,l&&(l=!1,s+=1),K===M.verticalBar?(t.enter("tableCellDivider"),t.consume(K),t.exit("tableCellDivider"),l=!0,p):(t.enter(z.data),m(K)))}function m(K){return K===M.eof||K===M.verticalBar||Wn(K)?(t.exit(z.data),p(K)):(t.consume(K),K===M.backslash?x:m)}function x(K){return K===M.backslash||K===M.verticalBar?(t.consume(K),m):m(K)}function w(K){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(K):(t.enter("tableDelimiterRow"),l=!1,hn(K)?(_e(r.parser.constructs.disable.null,"expected `disabled.null`"),wn(t,E,z.linePrefix,r.parser.constructs.disable.null.includes("codeIndented")?void 0:dt.tabSize)(K)):E(K))}function E(K){return K===M.dash||K===M.colon?C(K):K===M.verticalBar?(l=!0,t.enter("tableCellDivider"),t.consume(K),t.exit("tableCellDivider"),T):L(K)}function T(K){return hn(K)?wn(t,C,z.whitespace)(K):C(K)}function C(K){return K===M.colon?(o+=1,l=!0,t.enter("tableDelimiterMarker"),t.consume(K),t.exit("tableDelimiterMarker"),P):K===M.dash?(o+=1,P(K)):K===M.eof||vt(K)?U(K):L(K)}function P(K){return K===M.dash?(t.enter("tableDelimiterFiller"),j(K)):L(K)}function j(K){return K===M.dash?(t.consume(K),j):K===M.colon?(l=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(K),t.exit("tableDelimiterMarker"),D):(t.exit("tableDelimiterFiller"),D(K))}function D(K){return hn(K)?wn(t,U,z.whitespace)(K):U(K)}function U(K){return K===M.verticalBar?E(K):K===M.eof||vt(K)?!l||s!==o?L(K):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(K)):L(K)}function L(K){return n(K)}function O(K){return t.enter("tableRow"),Y(K)}function Y(K){return K===M.verticalBar?(t.enter("tableCellDivider"),t.consume(K),t.exit("tableCellDivider"),Y):K===M.eof||vt(K)?(t.exit("tableRow"),e(K)):hn(K)?wn(t,Y,z.whitespace)(K):(t.enter(z.data),ne(K))}function ne(K){return K===M.eof||K===M.verticalBar||Wn(K)?(t.exit(z.data),Y(K)):(t.consume(K),K===M.backslash?Q:ne)}function Q(K){return K===M.backslash||K===M.verticalBar?(t.consume(K),ne):ne(K)}}function ume(t,e){let n=-1,r=!0,s=0,o=[0,0,0,0],l=[0,0,0,0],c=!1,f=0,h,p,m;const x=new ime;for(;++n<t.length;){const w=t[n],E=w[1];w[0]==="enter"?E.type==="tableHead"?(c=!1,f!==0&&(_e(h,"there should be a table opening"),oI(x,e,f,h,p),p=void 0,f=0),h={type:"table",start:Object.assign({},E.start),end:Object.assign({},E.end)},x.add(n,0,[["enter",h,e]])):E.type==="tableRow"||E.type==="tableDelimiterRow"?(r=!0,m=void 0,o=[0,0,0,0],l=[0,n+1,0,0],c&&(c=!1,p={type:"tableBody",start:Object.assign({},E.start),end:Object.assign({},E.end)},x.add(n,0,[["enter",p,e]])),s=E.type==="tableDelimiterRow"?2:p?3:1):s&&(E.type===z.data||E.type==="tableDelimiterMarker"||E.type==="tableDelimiterFiller")?(r=!1,l[2]===0&&(o[1]!==0&&(l[0]=l[1],m=lx(x,e,o,s,void 0,m),o=[0,0,0,0]),l[2]=n)):E.type==="tableCellDivider"&&(r?r=!1:(o[1]!==0&&(l[0]=l[1],m=lx(x,e,o,s,void 0,m)),o=l,l=[o[1],n,0,0])):E.type==="tableHead"?(c=!0,f=n):E.type==="tableRow"||E.type==="tableDelimiterRow"?(f=n,o[1]!==0?(l[0]=l[1],m=lx(x,e,o,s,n,m)):l[1]!==0&&(m=lx(x,e,l,s,n,m)),s=0):s&&(E.type===z.data||E.type==="tableDelimiterMarker"||E.type==="tableDelimiterFiller")&&(l[3]=n)}for(f!==0&&(_e(h,"expected table opening"),oI(x,e,f,h,p)),x.consume(e.events),n=-1;++n<e.events.length;){const w=e.events[n];w[0]==="enter"&&w[1].type==="table"&&(w[1]._align=ame(e.events,n))}return t}function lx(t,e,n,r,s,o){const l=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",c="tableContent";n[0]!==0&&(_e(o,"expected previous cell enter"),o.end=Object.assign({},Bf(e.events,n[0])),t.add(n[0],0,[["exit",o,e]]));const f=Bf(e.events,n[1]);if(o={type:l,start:Object.assign({},f),end:Object.assign({},f)},t.add(n[1],0,[["enter",o,e]]),n[2]!==0){const h=Bf(e.events,n[2]),p=Bf(e.events,n[3]),m={type:c,start:Object.assign({},h),end:Object.assign({},p)};if(t.add(n[2],0,[["enter",m,e]]),_e(n[3]!==0),r!==2){const x=e.events[n[2]],w=e.events[n[3]];if(x[1].end=Object.assign({},w[1].end),x[1].type=z.chunkText,x[1].contentType=dt.contentTypeText,n[3]>n[2]+1){const E=n[2]+1,T=n[3]-n[2]-1;t.add(E,T,[])}}t.add(n[3]+1,0,[["exit",m,e]])}return s!==void 0&&(o.end=Object.assign({},Bf(e.events,s)),t.add(s,0,[["exit",o,e]]),o=void 0),o}function oI(t,e,n,r,s){const o=[],l=Bf(e.events,n);s&&(s.end=Object.assign({},l),o.push(["exit",s,e])),r.end=Object.assign({},l),o.push(["exit",r,e]),t.add(n+1,0,o)}function Bf(t,e){const n=t[e],r=n[0]==="enter"?"start":"end";return n[1][r]}const fme={name:"tasklistCheck",tokenize:hme};function dme(){return{text:{[M.leftSquareBracket]:fme}}}function hme(t,e,n){const r=this;return s;function s(f){return _e(f===M.leftSquareBracket,"expected `[`"),r.previous!==M.eof||!r._gfmTasklistFirstContentOfListItem?n(f):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(f),t.exit("taskListCheckMarker"),o)}function o(f){return Wn(f)?(t.enter("taskListCheckValueUnchecked"),t.consume(f),t.exit("taskListCheckValueUnchecked"),l):f===M.uppercaseX||f===M.lowercaseX?(t.enter("taskListCheckValueChecked"),t.consume(f),t.exit("taskListCheckValueChecked"),l):n(f)}function l(f){return f===M.rightSquareBracket?(t.enter("taskListCheckMarker"),t.consume(f),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),c):n(f)}function c(f){return vt(f)?e(f):hn(f)?t.check({tokenize:pme},e,n)(f):n(f)}}function pme(t,e,n){return wn(t,r,z.whitespace);function r(s){return s===M.eof?n(s):e(s)}}function mme(t){return G6([Bpe(),Zpe(),sme(t),lme(),dme()])}const gme={};function bme(t){const e=this,n=t||gme,r=e.data(),s=r.micromarkExtensions||(r.micromarkExtensions=[]),o=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),l=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);s.push(mme(n)),o.push(Ope()),l.push(Upe(n))}const xme=async()=>{const t=await fetch("http://localhost:3333/api/activities");if(!t.ok)throw new Error("Failed to fetch activities");return t.json()},cx=({content:t,fileName:e,activityId:n})=>{const[r,s]=k.useState("rendered"),o=async()=>{try{await navigator.clipboard.writeText(t),Ft.success("Copied to clipboard",`${e} content copied successfully`)}catch(c){console.error("Failed to copy to clipboard:",c),Ft.error("Copy failed","Unable to copy content to clipboard")}},l=async()=>{try{const c=await fetch("http://localhost:3333/api/open-file",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({filePath:`.cntx/activities/activities/${n}/${e}`})});if(!c.ok){const f=await c.json();throw new Error(f.error||"Failed to open file via API")}Ft.success("Opening file in editor...")}catch(c){console.error("Failed to open in editor:",c),Ft.error("Could not open file",c.message)}};return b.jsxDEV("div",{className:"space-y-2",children:[b.jsxDEV("div",{className:"flex items-center justify-between border-b border-border pb-2",children:[b.jsxDEV("div",{className:"flex items-center space-x-1",children:[b.jsxDEV(Dt,{variant:r==="rendered"?"secondary":"ghost",size:"sm",onClick:()=>s("rendered"),className:"h-6 px-2 text-xs",children:[b.jsxDEV(pO,{className:"w-3 h-3 mr-1"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:101,columnNumber:13},void 0),"Rendered"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:95,columnNumber:11},void 0),b.jsxDEV(Dt,{variant:r==="raw"?"secondary":"ghost",size:"sm",onClick:()=>s("raw"),className:"h-6 px-2 text-xs",children:[b.jsxDEV(bE,{className:"w-3 h-3 mr-1"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:110,columnNumber:13},void 0),"Raw"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:104,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:94,columnNumber:9},void 0),b.jsxDEV("div",{className:"flex items-center space-x-1",children:[b.jsxDEV(Dt,{variant:"ghost",size:"sm",onClick:o,className:"h-6 px-2 text-xs",title:"Copy to clipboard",children:b.jsxDEV(pd,{className:"w-3 h-3"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:122,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:115,columnNumber:11},void 0),b.jsxDEV(Dt,{variant:"ghost",size:"sm",onClick:l,className:"h-6 px-2 text-xs",title:"Open in editor",children:b.jsxDEV(iu,{className:"w-3 h-3"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:131,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:124,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:114,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:93,columnNumber:7},void 0),b.jsxDEV("div",{className:"overflow-auto max-h-80",children:r==="rendered"?b.jsxDEV("div",{className:"prose prose-sm dark:prose-invert max-w-none",children:b.jsxDEV(she,{remarkPlugins:[bme],components:{h1:({children:c})=>b.jsxDEV("h1",{className:"text-lg font-semibold mb-3 mt-4 first:mt-0",children:c},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:144,columnNumber:39},void 0),h2:({children:c})=>b.jsxDEV("h2",{className:"text-base font-semibold mb-2 mt-3",children:c},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:145,columnNumber:39},void 0),h3:({children:c})=>b.jsxDEV("h3",{className:"text-sm font-semibold mb-2 mt-3",children:c},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:146,columnNumber:39},void 0),p:({children:c})=>b.jsxDEV("p",{className:"text-sm mb-2 leading-relaxed",children:c},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:147,columnNumber:38},void 0),ul:({children:c})=>b.jsxDEV("ul",{className:"text-sm space-y-1 mb-3 ml-4",children:c},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:148,columnNumber:39},void 0),ol:({children:c})=>b.jsxDEV("ol",{className:"text-sm space-y-1 mb-3 ml-4",children:c},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:149,columnNumber:39},void 0),li:({children:c})=>b.jsxDEV("li",{className:"text-sm",children:c},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:150,columnNumber:39},void 0),code:({children:c})=>b.jsxDEV("code",{className:"bg-muted px-1 py-0.5 rounded text-xs font-mono",children:c},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:151,columnNumber:41},void 0),pre:({children:c})=>b.jsxDEV("pre",{className:"bg-muted p-3 rounded-md text-xs font-mono overflow-x-auto mb-3",children:c},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:152,columnNumber:40},void 0),blockquote:({children:c})=>b.jsxDEV("blockquote",{className:"border-l-2 border-muted-foreground/20 pl-3 italic text-muted-foreground text-sm mb-3",children:c},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:153,columnNumber:47},void 0),table:({children:c})=>b.jsxDEV("table",{className:"text-xs border-collapse border border-border mb-3 w-full",children:c},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:154,columnNumber:42},void 0),th:({children:c})=>b.jsxDEV("th",{className:"border border-border px-2 py-1 bg-muted font-semibold text-left",children:c},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:155,columnNumber:39},void 0),td:({children:c})=>b.jsxDEV("td",{className:"border border-border px-2 py-1",children:c},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:156,columnNumber:39},void 0),input:({type:c,checked:f,...h})=>c==="checkbox"?b.jsxDEV("input",{type:"checkbox",checked:f,disabled:!0,className:"mr-2 scale-75",...h},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:160,columnNumber:21},void 0):b.jsxDEV("input",{...h},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:167,columnNumber:23},void 0)},children:t},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:140,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:139,columnNumber:11},void 0):b.jsxDEV("pre",{className:"whitespace-pre-wrap text-xs font-mono bg-muted/50 p-3 rounded border",children:t},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:175,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:137,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:91,columnNumber:5},void 0)};function yme(){const[t,e]=k.useState(null),{data:n=[],isLoading:r,error:s,refetch:o}=Pi({queryKey:["activities"],queryFn:xme,refetchInterval:3e4}),l=f=>{switch(f){case"completed":return b.jsxDEV(Qi,{className:"h-3 w-3"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:196,columnNumber:16},this);case"in_progress":return b.jsxDEV(FN,{className:"h-3 w-3"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:198,columnNumber:16},this);case"failed":return b.jsxDEV(Ai,{className:"h-3 w-3"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:200,columnNumber:16},this);default:return b.jsxDEV(FN,{className:"h-3 w-3"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:202,columnNumber:16},this)}},c=f=>b.jsxDEV(yn,{variant:"outline",className:"text-xs py-0",children:f.replace("_"," ")},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:207,columnNumber:5},this);return r?b.jsxDEV("div",{className:"space-y-3",children:[b.jsxDEV("div",{className:"flex items-center justify-between",children:[b.jsxDEV("h2",{className:"text-lg font-medium",children:"Activities"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:216,columnNumber:11},this),b.jsxDEV(Ds,{className:"h-4 w-4 animate-spin"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:217,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:215,columnNumber:9},this),b.jsxDEV("div",{className:"space-y-2",children:[1,2,3].map(f=>b.jsxDEV(gn,{className:"animate-pulse",children:b.jsxDEV(vn,{className:"p-3",children:[b.jsxDEV("div",{className:"h-3 bg-muted rounded w-3/4 mb-2"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:223,columnNumber:17},this),b.jsxDEV("div",{className:"h-2 bg-muted rounded w-1/2"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:224,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:222,columnNumber:15},this)},f,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:221,columnNumber:13},this))},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:219,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:214,columnNumber:7},this):s?b.jsxDEV("div",{className:"space-y-3",children:[b.jsxDEV("h2",{className:"text-lg font-medium",children:"Activities"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:236,columnNumber:9},this),b.jsxDEV(gn,{children:b.jsxDEV(vn,{className:"p-4",children:b.jsxDEV("div",{className:"text-center space-y-2",children:[b.jsxDEV(Ai,{className:"h-6 w-6 mx-auto"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:240,columnNumber:15},this),b.jsxDEV("p",{className:"text-sm font-medium",children:"Failed to load activities"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:241,columnNumber:15},this),b.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Make sure the cntx-ui server is running and activities are configured."},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:242,columnNumber:15},this),b.jsxDEV(Dt,{onClick:()=>o(),variant:"outline",size:"sm",children:[b.jsxDEV(Ds,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:246,columnNumber:17},this),"Retry"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:245,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:239,columnNumber:13},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:238,columnNumber:11},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:237,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:235,columnNumber:7},this):b.jsxDEV("div",{className:"space-y-4",children:[b.jsxDEV("div",{className:"flex items-center justify-between",children:[b.jsxDEV("div",{children:[b.jsxDEV("h2",{className:"text-lg font-medium flex items-center gap-2",children:[b.jsxDEV(fO,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:261,columnNumber:13},this),"Activities (",n.length,")"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:260,columnNumber:11},this),b.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Agent task definitions and progress"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:264,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:259,columnNumber:9},this),b.jsxDEV(Dt,{onClick:()=>o(),variant:"ghost",size:"sm",children:[b.jsxDEV(Ds,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:267,columnNumber:11},this),"Refresh"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:266,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:258,columnNumber:7},this),n.length===0?b.jsxDEV(gn,{children:b.jsxDEV(vn,{className:"p-6",children:b.jsxDEV("div",{className:"text-center space-y-2",children:[b.jsxDEV(Kp,{className:"h-8 w-8 mx-auto text-muted-foreground"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:276,columnNumber:15},this),b.jsxDEV("h3",{className:"text-sm font-medium",children:"No activities found"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:277,columnNumber:15},this),b.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Activities will appear here once they are defined in your .cntx/activities directory."},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:278,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:275,columnNumber:13},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:274,columnNumber:11},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:273,columnNumber:9},this):b.jsxDEV("div",{className:"space-y-2",children:n.map(f=>b.jsxDEV(gn,{className:"overflow-hidden",children:[b.jsxDEV(Kn,{className:"pb-2 cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>e(t===f.id?null:f.id),children:b.jsxDEV("div",{className:"flex items-center justify-between",children:[b.jsxDEV("div",{className:"flex items-center space-x-2",children:[t===f.id?b.jsxDEV(bm,{className:"h-3 w-3"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:295,columnNumber:23},this):b.jsxDEV(hO,{className:"h-3 w-3"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:296,columnNumber:23},this),l(f.status),b.jsxDEV("div",{children:b.jsxDEV(Jn,{className:"text-sm",children:f.name},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:300,columnNumber:23},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:299,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:293,columnNumber:19},this),b.jsxDEV("div",{className:"flex items-center space-x-2",children:[c(f.status),f.progress!==void 0&&f.progress>0&&b.jsxDEV("div",{className:"flex items-center space-x-2",children:[b.jsxDEV(KS,{value:f.progress,className:"w-16 h-2"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:308,columnNumber:25},this),b.jsxDEV(yn,{variant:"secondary",className:"text-xs py-0",children:[f.progress,"%"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:309,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:307,columnNumber:23},this),f.tags&&f.tags.map(h=>b.jsxDEV(yn,{variant:"outline",className:"text-xs py-0",children:h},h,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:315,columnNumber:23},this))]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:304,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:292,columnNumber:17},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:288,columnNumber:15},this),t===f.id&&b.jsxDEV(vn,{className:"pt-0 pb-2",children:b.jsxDEV(Hl,{defaultValue:"readme",className:"w-full",children:[b.jsxDEV(Wl,{className:"grid w-full bg-card grid-cols-4 h-8 space-x-2",children:[b.jsxDEV(sr,{value:"readme",className:"text-xs border-accent-muted",children:"README"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:327,columnNumber:23},this),b.jsxDEV(sr,{value:"progress",className:"text-xs border-accent-muted",children:"Progress"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:328,columnNumber:23},this),b.jsxDEV(sr,{value:"tasks",className:"text-xs border-accent-muted",children:"Tasks"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:329,columnNumber:23},this),b.jsxDEV(sr,{value:"notes",className:"text-xs border-accent-muted",children:"Notes"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:330,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:326,columnNumber:21},this),b.jsxDEV(lr,{value:"readme",className:"mt-2 mb-0",children:b.jsxDEV(cx,{content:f.files.readme,fileName:"README.md",activityId:f.id},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:334,columnNumber:23},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:333,columnNumber:21},this),b.jsxDEV(lr,{value:"progress",className:"mt-2 mb-0",children:[f.progress>0&&b.jsxDEV("div",{className:"mb-4 p-3 bg-muted/50 rounded-md",children:[b.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:[b.jsxDEV("span",{className:"text-sm font-medium",children:"Overall Progress"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:345,columnNumber:29},this),b.jsxDEV("span",{className:"text-sm text-muted-foreground",children:[f.progress,"%"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:346,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:344,columnNumber:27},this),b.jsxDEV(KS,{value:f.progress,className:"w-full h-3"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:348,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:343,columnNumber:25},this),b.jsxDEV(cx,{content:f.files.progress,fileName:"progress.md",activityId:f.id},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:351,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:341,columnNumber:21},this),b.jsxDEV(lr,{value:"tasks",className:"mt-2 mb-0",children:b.jsxDEV(cx,{content:f.files.tasks,fileName:"tasks.md",activityId:f.id},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:359,columnNumber:23},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:358,columnNumber:21},this),b.jsxDEV(lr,{value:"notes",className:"mt-2 mb-0",children:b.jsxDEV(cx,{content:f.files.notes,fileName:"notes.md",activityId:f.id},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:367,columnNumber:23},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:366,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:325,columnNumber:19},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:324,columnNumber:17},this)]},f.id,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:287,columnNumber:13},this))},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:285,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Activities.tsx",lineNumber:257,columnNumber:5},this)}var vme="Label",$B=k.forwardRef((t,e)=>je.jsx(jt.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));$B.displayName=vme;var wme=$B;function aI({className:t,...e}){return b.jsxDEV(wme,{"data-slot":"label",className:Wt("flex items-center gap-2 text-sm leading-none font-thin select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/ui/label.tsx",lineNumber:11,columnNumber:5},this)}const _me=async()=>{const t=await fetch("http://localhost:3333/api/config");if(!t.ok)throw new Error("Failed to fetch config");return t.json()},Nme=async t=>{const e=await fetch("http://localhost:3333/api/config",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok)throw new Error("Failed to save config");return e.json()};function Sme(){const t=kd(),[e,n]=k.useState("code"),[r,s]=k.useState(""),{data:o,isLoading:l}=Pi({queryKey:["config"],queryFn:_me});k.useEffect(()=>{o!=null&&o.editor&&(["code","subl","system"].includes(o.editor)?n(o.editor):(n("custom"),s(o.editor)))},[o]);const c=Rx({mutationFn:Nme,onSuccess:()=>{t.invalidateQueries({queryKey:["config"]}),Ft.success("Editor preference saved")},onError:h=>{Ft.error(`Failed to save: ${h.message}`)}}),f=()=>{const p={...o,editor:e==="custom"?r:e};c.mutate(p)};return b.jsxDEV(gn,{children:[b.jsxDEV(Kn,{children:b.jsxDEV(Jn,{className:"flex items-center gap-2 text-sm font-thin",children:[b.jsxDEV(yE,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/EditorPreference.tsx",lineNumber:70,columnNumber:11},this),"Editor Preference"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/EditorPreference.tsx",lineNumber:69,columnNumber:9},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/EditorPreference.tsx",lineNumber:68,columnNumber:7},this),b.jsxDEV(vn,{className:"space-y-4",children:[b.jsxDEV("div",{className:"space-y-2",children:[b.jsxDEV(aI,{htmlFor:"editor-select",children:"Select your preferred editor"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/EditorPreference.tsx",lineNumber:76,columnNumber:11},this),b.jsxDEV(_a,{value:e,onValueChange:n,children:[b.jsxDEV(jo,{id:"editor-select",children:b.jsxDEV(yl,{placeholder:"Select an editor"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/EditorPreference.tsx",lineNumber:79,columnNumber:15},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/EditorPreference.tsx",lineNumber:78,columnNumber:13},this),b.jsxDEV(Mo,{children:[b.jsxDEV(Nr,{value:"code",children:"Visual Studio Code"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/EditorPreference.tsx",lineNumber:82,columnNumber:15},this),b.jsxDEV(Nr,{value:"subl",children:"Sublime Text"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/EditorPreference.tsx",lineNumber:83,columnNumber:15},this),b.jsxDEV(Nr,{value:"system",children:"System Default"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/EditorPreference.tsx",lineNumber:84,columnNumber:15},this),b.jsxDEV(Nr,{value:"custom",children:"Custom"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/EditorPreference.tsx",lineNumber:85,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/EditorPreference.tsx",lineNumber:81,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/EditorPreference.tsx",lineNumber:77,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/EditorPreference.tsx",lineNumber:75,columnNumber:9},this),e==="custom"&&b.jsxDEV("div",{className:"space-y-2",children:[b.jsxDEV(aI,{htmlFor:"custom-editor-input",children:"Custom editor command"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/EditorPreference.tsx",lineNumber:92,columnNumber:13},this),b.jsxDEV(WE,{id:"custom-editor-input",value:r,onChange:h=>s(h.target.value),placeholder:"e.g., atom -w"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/EditorPreference.tsx",lineNumber:93,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/EditorPreference.tsx",lineNumber:91,columnNumber:11},this),b.jsxDEV("div",{className:"flex justify-end",children:b.jsxDEV(Dt,{onClick:f,disabled:c.isPending,size:"sm",className:"h-7 text-xs",children:[b.jsxDEV(Px,{className:"w-3 h-3 mr-1"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/EditorPreference.tsx",lineNumber:104,columnNumber:13},this),c.isPending?"Saving...":"Save"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/EditorPreference.tsx",lineNumber:103,columnNumber:11},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/EditorPreference.tsx",lineNumber:102,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/EditorPreference.tsx",lineNumber:74,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/EditorPreference.tsx",lineNumber:67,columnNumber:5},this)}const Eme=async t=>{const e=await fetch(`http://localhost:3333/api/${t}`);if(!e.ok)throw new Error(`Failed to fetch ${t} file`);return e.text()},Tme=async({endpoint:t,content:e})=>{const n=await fetch(`http://localhost:3333/api/${t}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:e})});if(!n.ok)throw new Error(`Failed to save ${t} file`);return n.json()};function lI({fileType:t,endpoint:e,filePath:n}){const r=kd(),[s,o]=k.useState(""),[l,c]=k.useState(!1),{data:f,isLoading:h}=Pi({queryKey:[t],queryFn:()=>Eme(e)});k.useEffect(()=>{f!==void 0&&(o(f),c(!1))},[f]);const p=Rx({mutationFn:Tme,onSuccess:()=>{r.invalidateQueries({queryKey:[t]}),c(!1),Ft.success(`${t} file saved`)},onError:C=>Ft.error(`Failed to save: ${C.message}`)}),m=C=>{o(C),c(C!==f)},x=()=>{p.mutate({endpoint:e,content:s})},w=()=>{o(f||""),c(!1)},E=async()=>{try{await navigator.clipboard.writeText(s),Ft.success("Copied to clipboard")}catch(C){console.error("Failed to copy to clipboard:",C),Ft.error("Copy failed")}},T=async()=>{try{const C=await fetch("http://localhost:3333/api/open-file",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({filePath:n})});if(!C.ok){const P=await C.json();throw new Error(P.error||"Failed to open file")}Ft.success(`Opening ${t} in editor...`)}catch(C){console.error("Failed to open in editor:",C),Ft.error(`Could not open file: ${C.message}`)}};return b.jsxDEV(gn,{children:[b.jsxDEV(Kn,{className:"flex flex-row items-center justify-between",children:[b.jsxDEV(Jn,{className:"flex items-center gap-2 text-sm font-thin",children:[b.jsxDEV(Kp,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:102,columnNumber:11},this),t]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:101,columnNumber:9},this),b.jsxDEV("div",{className:"flex items-center gap-1",children:[b.jsxDEV(Dt,{variant:"ghost",size:"sm",onClick:E,className:"h-7 px-2",children:b.jsxDEV(pd,{className:"w-3 h-3"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:106,columnNumber:92},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:106,columnNumber:11},this),b.jsxDEV(Dt,{variant:"ghost",size:"sm",onClick:T,className:"h-7 px-2",children:b.jsxDEV(iu,{className:"w-3 h-3"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:107,columnNumber:89},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:107,columnNumber:11},this),l&&b.jsxDEV(Dt,{variant:"outline",size:"sm",onClick:w,className:"h-7 text-xs",children:[b.jsxDEV(K$,{className:"w-3 h-3 mr-1"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:110,columnNumber:15},this),"Reset"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:109,columnNumber:13},this),b.jsxDEV(Dt,{onClick:x,disabled:!l||p.isPending,size:"sm",className:"h-7 text-xs",children:[b.jsxDEV(Px,{className:"w-3 h-3 mr-1"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:115,columnNumber:13},this),p.isPending?"Saving...":"Save"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:114,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:105,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:100,columnNumber:7},this),b.jsxDEV(vn,{className:"space-y-4",children:h?b.jsxDEV("div",{className:"text-center py-8 text-muted-foreground",children:["Loading ",t," file..."]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:122,columnNumber:11},this):b.jsxDEV(b.Fragment,{children:[b.jsxDEV(zx,{value:s,onChange:C=>m(C.target.value),placeholder:`# Add ignore patterns for ${t}, one per line`,className:"min-h-[300px] font-mono text-xs"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:127,columnNumber:13},this),b.jsxDEV("div",{className:"text-xs text-muted-foreground",children:[s.split(`
`).filter(C=>C.trim()&&!C.trim().startsWith("#")).length," active patterns"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:133,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:126,columnNumber:11},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:120,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:99,columnNumber:5},this)}function Ame(){return b.jsxDEV("div",{className:"space-y-6",children:[b.jsxDEV(Hl,{defaultValue:"cntxignore",children:[b.jsxDEV(Wl,{children:[b.jsxDEV(sr,{value:"cntxignore",children:".cntxignore"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:148,columnNumber:11},this),b.jsxDEV(sr,{value:"gitignore",children:".gitignore"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:149,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:147,columnNumber:9},this),b.jsxDEV(lr,{value:"cntxignore",children:b.jsxDEV(lI,{fileType:".cntxignore",endpoint:"cntxignore",filePath:".cntxignore"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:152,columnNumber:11},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:151,columnNumber:9},this),b.jsxDEV(lr,{value:"gitignore",children:b.jsxDEV(lI,{fileType:".gitignore",endpoint:"gitignore",filePath:".gitignore"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:155,columnNumber:11},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:154,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:146,columnNumber:7},this),b.jsxDEV(gn,{children:b.jsxDEV(vn,{className:"pt-6",children:b.jsxDEV("div",{className:"text-xs text-muted-foreground space-y-2",children:[b.jsxDEV("div",{children:b.jsxDEV("strong",{children:"Common patterns:"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:161,columnNumber:18},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:161,columnNumber:13},this),b.jsxDEV("div",{children:["• ",b.jsxDEV("code",{children:"node_modules/**"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:162,columnNumber:20},this)," - Ignore all node_modules"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:162,columnNumber:13},this),b.jsxDEV("div",{children:["• ",b.jsxDEV("code",{children:"*.log"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:163,columnNumber:20},this)," - Ignore log files"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:163,columnNumber:13},this),b.jsxDEV("div",{children:["• ",b.jsxDEV("code",{children:"src/debug/**"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:164,columnNumber:20},this)," - Ignore debug directory"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:164,columnNumber:13},this),b.jsxDEV("div",{children:["• ",b.jsxDEV("code",{children:"**/*.test.*"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:165,columnNumber:20},this)," - Ignore test files"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:165,columnNumber:13},this),b.jsxDEV("div",{children:["• ",b.jsxDEV("code",{children:".git/**"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:166,columnNumber:20},this)," - Ignore git directory"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:166,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:160,columnNumber:11},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:159,columnNumber:9},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:158,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:145,columnNumber:5},this)}function Cme(){return b.jsxDEV(Hl,{defaultValue:"ignore",children:[b.jsxDEV(Wl,{children:[b.jsxDEV(sr,{value:"ignore",children:"File Ignore Patterns"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:178,columnNumber:9},this),b.jsxDEV(sr,{value:"editor",children:"Editor Preference"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:179,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:177,columnNumber:7},this),b.jsxDEV(lr,{value:"ignore",children:b.jsxDEV(Ame,{},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:182,columnNumber:9},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:181,columnNumber:7},this),b.jsxDEV(lr,{value:"editor",children:b.jsxDEV(Sme,{},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:185,columnNumber:9},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:184,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/SystemSettings.tsx",lineNumber:176,columnNumber:5},this)}function Rme(){return b.jsxDEV(gn,{children:[b.jsxDEV(Kn,{children:b.jsxDEV(Jn,{className:"flex items-center gap-2 text-sm font-thin",children:[b.jsxDEV(bE,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:13,columnNumber:11},this),"Context Management for React Developers"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:12,columnNumber:9},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:11,columnNumber:7},this),b.jsxDEV(vn,{className:"space-y-4",children:[b.jsxDEV(em,{className:"border-accent",children:[b.jsxDEV(vE,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:19,columnNumber:11},this),b.jsxDEV(tm,{children:[b.jsxDEV("strong",{children:"Target Audience:"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:21,columnNumber:13},this)," React developers who want AI context management as trivial to run as a linter."]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:20,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:18,columnNumber:9},this),b.jsxDEV("div",{className:"space-y-4",children:[b.jsxDEV("div",{children:[b.jsxDEV("h4",{className:"text-sm font-thin mb-2",children:"What This Tool Does"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:27,columnNumber:13},this),b.jsxDEV("div",{className:"text-xs text-muted-foreground space-y-2",children:[b.jsxDEV("div",{children:"• Creates focused code bundles for AI consumption (not copy-paste chaos)"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:29,columnNumber:15},this),b.jsxDEV("div",{children:"• Provides function-level semantic chunking with surgical precision"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:30,columnNumber:15},this),b.jsxDEV("div",{children:"• Acts as MCP server so AI agents access your codebase through APIs"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:31,columnNumber:15},this),b.jsxDEV("div",{children:"• Automatically organizes code by bundle membership and complexity"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:32,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:28,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:26,columnNumber:11},this),b.jsxDEV("div",{children:[b.jsxDEV("h4",{className:"text-sm font-thin mb-2",children:"Quick Start"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:37,columnNumber:13},this),b.jsxDEV("div",{className:"text-xs text-muted-foreground space-y-2",children:[b.jsxDEV("div",{children:["1. ",b.jsxDEV("strong",{children:"MCP Setup:"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:39,columnNumber:23},this)," ",b.jsxDEV("code",{className:"bg-muted px-1 rounded",children:"cntx-ui setup-mcp"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:39,columnNumber:51},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:39,columnNumber:15},this),b.jsxDEV("div",{children:["2. ",b.jsxDEV("strong",{children:"Create Bundles:"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:40,columnNumber:23},this)," Use Bundle Config tab to organize your code"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:40,columnNumber:15},this),b.jsxDEV("div",{children:["3. ",b.jsxDEV("strong",{children:"AI Access:"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:41,columnNumber:23},this)," Claude/Cursor connects via MCP automatically"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:41,columnNumber:15},this),b.jsxDEV("div",{children:["4. ",b.jsxDEV("strong",{children:"Semantic Analysis:"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:42,columnNumber:23},this)," View function-level chunks in Semantic Chunks tab"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:42,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:38,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:36,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:25,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:17,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:10,columnNumber:5},this)}function kme(){return b.jsxDEV(gn,{children:[b.jsxDEV(Kn,{children:b.jsxDEV(Jn,{className:"flex items-center gap-2 text-sm font-thin",children:[b.jsxDEV(mO,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:57,columnNumber:11},this),"Function-Level Semantic Chunking"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:56,columnNumber:9},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:55,columnNumber:7},this),b.jsxDEV(vn,{className:"space-y-4",children:[b.jsxDEV("div",{children:[b.jsxDEV("h4",{className:"text-sm font-thin mb-2",children:"Why Function-Level Chunks Matter"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:63,columnNumber:11},this),b.jsxDEV("div",{className:"text-xs text-muted-foreground space-y-2",children:[b.jsxDEV("div",{children:["• ",b.jsxDEV("strong",{children:"Surgical precision:"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:65,columnNumber:20},this)," AI gets exactly the function it needs, not entire files"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:65,columnNumber:13},this),b.jsxDEV("div",{children:["• ",b.jsxDEV("strong",{children:"Context inclusion:"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:66,columnNumber:20},this)," Each chunk includes necessary imports and types"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:66,columnNumber:13},this),b.jsxDEV("div",{children:["• ",b.jsxDEV("strong",{children:"Bundle inheritance:"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:67,columnNumber:20},this)," Functions automatically grouped by bundle membership"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:67,columnNumber:13},this),b.jsxDEV("div",{children:["• ",b.jsxDEV("strong",{children:"Complexity analysis:"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:68,columnNumber:20},this)," Identify refactoring candidates with complexity scoring"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:68,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:64,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:62,columnNumber:9},this),b.jsxDEV("div",{children:[b.jsxDEV("h4",{className:"text-sm font-thin mb-2",children:"Filtering & Organization"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:73,columnNumber:11},this),b.jsxDEV("div",{className:"text-xs text-muted-foreground space-y-2",children:[b.jsxDEV("div",{children:["• ",b.jsxDEV("strong",{children:"By Bundle:"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:75,columnNumber:20},this)," See all frontend vs server functions"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:75,columnNumber:13},this),b.jsxDEV("div",{children:["• ",b.jsxDEV("strong",{children:"By Type:"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:76,columnNumber:20},this)," React components, hooks, arrow functions, methods"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:76,columnNumber:13},this),b.jsxDEV("div",{children:["• ",b.jsxDEV("strong",{children:"By Complexity:"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:77,columnNumber:20},this)," Find high-complexity functions needing refactoring"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:77,columnNumber:13},this),b.jsxDEV("div",{children:["• ",b.jsxDEV("strong",{children:"By Purpose:"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:78,columnNumber:20},this)," API handlers, validation, data processing"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:78,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:74,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:72,columnNumber:9},this),b.jsxDEV("div",{className:"p-3 rounded border border-accent",children:b.jsxDEV("div",{className:"text-xs",children:[b.jsxDEV("strong",{children:"💡 Pro Tip:"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:84,columnNumber:13},this)," Large functions that don't fit in chunks signal refactoring opportunities. The tool nudges better code practices rather than working around bad ones."]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:83,columnNumber:11},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:82,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:61,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:54,columnNumber:5},this)}function Dme(){return b.jsxDEV(gn,{children:[b.jsxDEV(Kn,{children:b.jsxDEV(Jn,{className:"flex items-center gap-2 text-sm font-thin",children:[b.jsxDEV(T$,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:99,columnNumber:11},this),"MCP Server Integration"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:98,columnNumber:9},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:97,columnNumber:7},this),b.jsxDEV(vn,{className:"space-y-4",children:[b.jsxDEV("div",{children:[b.jsxDEV("h4",{className:"text-xs font-thin mb-2",children:"How AI Agents Access Your Code"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:105,columnNumber:11},this),b.jsxDEV("div",{className:"text-xs text-muted-foreground space-y-1",children:[b.jsxDEV("div",{children:["• ",b.jsxDEV("strong",{children:"Gated access:"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:107,columnNumber:20},this)," AI doesn't dump entire codebase, uses API navigation"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:107,columnNumber:13},this),b.jsxDEV("div",{children:["• ",b.jsxDEV("strong",{children:"Bundle-first approach:"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:108,columnNumber:20},this)," AI sees organized bundles before master bundle"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:108,columnNumber:13},this),b.jsxDEV("div",{children:["• ",b.jsxDEV("strong",{children:"Real-time updates:"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:109,columnNumber:20},this)," Changes immediately available to connected AI"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:109,columnNumber:13},this),b.jsxDEV("div",{children:["• ",b.jsxDEV("strong",{children:"Function-level precision:"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:110,columnNumber:20},this)," AI can request specific functions via semantic chunks"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:110,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:106,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:104,columnNumber:9},this),b.jsxDEV("div",{children:[b.jsxDEV("h4",{className:"text-xs font-thin mb-2",children:"Available MCP Tools"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:115,columnNumber:11},this),b.jsxDEV("div",{className:"text-xs text-muted-foreground space-y-1",children:[b.jsxDEV("div",{children:["• ",b.jsxDEV("code",{children:"list_bundles"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:117,columnNumber:20},this)," - Show available bundle organization"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:117,columnNumber:13},this),b.jsxDEV("div",{children:["• ",b.jsxDEV("code",{children:"get_bundle"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:118,columnNumber:20},this)," - Retrieve focused code bundles"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:118,columnNumber:13},this),b.jsxDEV("div",{children:["• ",b.jsxDEV("code",{children:"get_semantic_chunks"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:119,columnNumber:20},this)," - Access function-level chunks"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:119,columnNumber:13},this),b.jsxDEV("div",{children:["• ",b.jsxDEV("code",{children:"get_file_tree"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:120,columnNumber:20},this)," - Navigate project structure"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:120,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:116,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:114,columnNumber:9},this),b.jsxDEV("div",{className:"bg-green-50 p-3 rounded border border-green-200",children:b.jsxDEV("div",{className:"text-xs",children:[b.jsxDEV("strong",{children:"🎯 Setup:"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:126,columnNumber:13},this)," Run ",b.jsxDEV("code",{className:"bg-muted px-1 rounded",children:"cntx-ui setup-mcp"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:126,columnNumber:44},this),"and your AI tools (Claude Desktop, Cursor) will automatically connect."]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:125,columnNumber:11},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:124,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:103,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:96,columnNumber:5},this)}function Pme(){return b.jsxDEV(gn,{children:[b.jsxDEV(Kn,{children:b.jsxDEV(Jn,{className:"flex items-center gap-2 text-sm font-thin",children:[b.jsxDEV(D$,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:141,columnNumber:11},this),"AI-Assisted Context Management"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:140,columnNumber:9},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:139,columnNumber:7},this),b.jsxDEV(vn,{className:"space-y-4",children:[b.jsxDEV("div",{children:[b.jsxDEV("h4",{className:"text-xs font-thin mb-2",children:"How AI Navigates Your Code"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:147,columnNumber:11},this),b.jsxDEV("div",{className:"text-xs text-muted-foreground space-y-1",children:[b.jsxDEV("div",{children:["• ",b.jsxDEV("strong",{children:"Gated access:"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:149,columnNumber:20},this)," AI doesn't see master bundle first - uses API navigation"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:149,columnNumber:13},this),b.jsxDEV("div",{children:["• ",b.jsxDEV("strong",{children:"Function-level precision:"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:150,columnNumber:20},this)," Requests specific functions via semantic chunks"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:150,columnNumber:13},this),b.jsxDEV("div",{children:["• ",b.jsxDEV("strong",{children:"Bundle discovery:"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:151,columnNumber:20},this)," Explores organized bundles before diving deep"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:151,columnNumber:13},this),b.jsxDEV("div",{children:["• ",b.jsxDEV("strong",{children:"Context control:"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:152,columnNumber:20},this)," You control what AI sees through bundle organization"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:152,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:148,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:146,columnNumber:9},this),b.jsxDEV("div",{children:[b.jsxDEV("h4",{className:"text-xs font-thin mb-2",children:"AI Bundle Creation (Coming Soon)"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:157,columnNumber:11},this),b.jsxDEV("div",{className:"text-xs text-muted-foreground space-y-1",children:[b.jsxDEV("div",{children:["• ",b.jsxDEV("strong",{children:'"Find all API stuff":'},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:159,columnNumber:20},this)," AI analyzes semantic chunks and creates focused bundles"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:159,columnNumber:13},this),b.jsxDEV("div",{children:["• ",b.jsxDEV("strong",{children:'"Group React hooks":'},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:160,columnNumber:20},this)," Intelligent pattern detection and organization"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:160,columnNumber:13},this),b.jsxDEV("div",{children:["• ",b.jsxDEV("strong",{children:'"Optimize bundles":'},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:161,columnNumber:20},this)," AI suggests better organization based on code relationships"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:161,columnNumber:13},this),b.jsxDEV("div",{children:["• ",b.jsxDEV("strong",{children:"Smart maintenance:"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:162,columnNumber:20},this)," AI updates bundles as your code evolves"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:162,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:158,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:156,columnNumber:9},this),b.jsxDEV("div",{className:"bg-green-50 p-3 rounded border border-green-200",children:b.jsxDEV("div",{className:"text-xs",children:[b.jsxDEV("strong",{children:"🎯 Philosophy:"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:168,columnNumber:13},this)," Context management as trivial as running a linter. AI handles the heavy lifting, you focus on building features."]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:167,columnNumber:11},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:166,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:145,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:138,columnNumber:5},this)}function jme(){return b.jsxDEV(gn,{children:[b.jsxDEV(Kn,{children:b.jsxDEV(Jn,{className:"flex items-center gap-2 text-sm font-thin",children:[b.jsxDEV(a9,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:183,columnNumber:11},this),"Essential CLI Commands"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:182,columnNumber:9},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:181,columnNumber:7},this),b.jsxDEV(vn,{children:b.jsxDEV("div",{className:"space-y-3",children:[b.jsxDEV("div",{children:[b.jsxDEV("h4",{className:"text-xs font-thin mb-2",children:"Most Used Commands"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:190,columnNumber:13},this),b.jsxDEV("div",{className:"space-y-2",children:[b.jsxDEV("div",{className:"flex items-center gap-3",children:[b.jsxDEV("code",{className:"bg-muted px-2 py-1 rounded text-xs font-mono",children:"cntx-ui setup-mcp"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:193,columnNumber:17},this),b.jsxDEV("span",{className:"text-xs text-muted-foreground",children:"Setup MCP for AI tools"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:194,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:192,columnNumber:15},this),b.jsxDEV("div",{className:"flex items-center gap-3",children:[b.jsxDEV("code",{className:"bg-muted px-2 py-1 rounded text-xs font-mono",children:"cntx-ui watch"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:197,columnNumber:17},this),b.jsxDEV("span",{className:"text-xs text-muted-foreground",children:"Start server (use web interface)"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:198,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:196,columnNumber:15},this),b.jsxDEV("div",{className:"flex items-center gap-3",children:[b.jsxDEV("code",{className:"bg-muted px-2 py-1 rounded text-xs font-mono",children:"cntx-ui mcp"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:201,columnNumber:17},this),b.jsxDEV("span",{className:"text-xs text-muted-foreground",children:"Start MCP server only"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:202,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:200,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:191,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:189,columnNumber:11},this),b.jsxDEV("div",{className:"bg-gray-50 p-3 rounded border",children:b.jsxDEV("div",{className:"text-xs text-muted-foreground",children:[b.jsxDEV("strong",{children:"Recommendation:"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:209,columnNumber:15},this)," Use the web interface for bundle management. CLI is mainly for automation and MCP server startup."]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:208,columnNumber:13},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:207,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:188,columnNumber:9},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:187,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:180,columnNumber:5},this)}function Mme(){return b.jsxDEV("div",{className:"space-y-6",children:[b.jsxDEV("div",{children:[b.jsxDEV("h1",{className:"text-lg font-thin tracking-tight",children:"Help & Documentation"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:223,columnNumber:9},this),b.jsxDEV("p",{className:"text-xs text-muted-foreground font-thin",children:"Usage guides and workflow instructions"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:224,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:222,columnNumber:7},this),b.jsxDEV(Hl,{defaultValue:"usage-guidance",className:"w-full",children:[b.jsxDEV(Wl,{className:"grid w-full grid-cols-5 h-8",children:[b.jsxDEV(sr,{value:"usage-guidance",className:"text-xs",children:"Usage Guidance"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:228,columnNumber:11},this),b.jsxDEV(sr,{value:"semantic-features",className:"text-xs",children:"Semantic Features"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:229,columnNumber:11},this),b.jsxDEV(sr,{value:"mcp-features",className:"text-xs",children:"MCP Features"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:230,columnNumber:11},this),b.jsxDEV(sr,{value:"ai-workflow",className:"text-xs",children:"AI Workflow"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:231,columnNumber:11},this),b.jsxDEV(sr,{value:"cli-reference",className:"text-xs",children:"CLI Reference"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:232,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:227,columnNumber:9},this),b.jsxDEV(lr,{value:"usage-guidance",className:"mt-2",children:b.jsxDEV(Rme,{},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:236,columnNumber:11},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:235,columnNumber:9},this),b.jsxDEV(lr,{value:"semantic-features",className:"mt-2",children:b.jsxDEV(kme,{},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:239,columnNumber:11},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:238,columnNumber:9},this),b.jsxDEV(lr,{value:"mcp-features",className:"mt-2",children:b.jsxDEV(Dme,{},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:242,columnNumber:11},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:241,columnNumber:9},this),b.jsxDEV(lr,{value:"ai-workflow",className:"mt-2",children:b.jsxDEV(Pme,{},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:245,columnNumber:11},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:244,columnNumber:9},this),b.jsxDEV(lr,{value:"cli-reference",className:"mt-2",children:b.jsxDEV(jme,{},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:248,columnNumber:11},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:247,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:226,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/Documentation.tsx",lineNumber:221,columnNumber:5},this)}function Ime(){const[t,e]=k.useState("SELECT name, file_count, size, generated_at FROM bundles ORDER BY name;"),[n,r]=k.useState(null),[s,o]=k.useState(!1),[l,c]=k.useState(null),f=[{name:"All Bundles",sql:"SELECT name, file_count, size, generated_at FROM bundles ORDER BY name;"},{name:"Large Bundles",sql:"SELECT name, file_count, size FROM bundles WHERE file_count > 5 ORDER BY size DESC;"},{name:"Recent Activity",sql:"SELECT name, generated_at FROM bundles WHERE generated_at IS NOT NULL ORDER BY generated_at DESC LIMIT 10;"},{name:"Bundle Statistics",sql:"SELECT COUNT(*) as total_bundles, SUM(file_count) as total_files, SUM(size) as total_size FROM bundles;"}];k.useEffect(()=>{h()},[]);const h=async()=>{try{const w=await(await fetch("/api/database/info")).json();c(w)}catch(x){console.error("Failed to fetch database info:",x),c({error:"Failed to load database info"})}},p=async()=>{if(t.trim()){o(!0);try{const w=await(await fetch("/api/database/query",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:t.trim()})})).json();r(w)}catch{r({error:"Failed to execute query"})}finally{o(!1)}}},m=x=>{x.key==="Enter"&&(x.ctrlKey||x.metaKey)&&p()};return b.jsxDEV("div",{className:"space-y-6",children:[b.jsxDEV(gn,{children:[b.jsxDEV(Kn,{children:b.jsxDEV(Jn,{className:"flex items-center gap-2",children:[b.jsxDEV(xE,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/DatabaseViewer.tsx",lineNumber:95,columnNumber:13},this),"SQLite Database"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/DatabaseViewer.tsx",lineNumber:94,columnNumber:11},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/DatabaseViewer.tsx",lineNumber:93,columnNumber:9},this),b.jsxDEV(vn,{children:l?b.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[b.jsxDEV("div",{children:[b.jsxDEV("span",{className:"font-medium",children:"Bundles:"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/DatabaseViewer.tsx",lineNumber:103,columnNumber:17},this)," ",l.bundleCount||0]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/DatabaseViewer.tsx",lineNumber:102,columnNumber:15},this),b.jsxDEV("div",{children:[b.jsxDEV("span",{className:"font-medium",children:"Size:"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/DatabaseViewer.tsx",lineNumber:106,columnNumber:17},this)," ",l.sizeFormatted||"Unknown"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/DatabaseViewer.tsx",lineNumber:105,columnNumber:15},this),b.jsxDEV("div",{className:"col-span-2",children:[b.jsxDEV("span",{className:"font-medium",children:"Path:"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/DatabaseViewer.tsx",lineNumber:109,columnNumber:17},this),b.jsxDEV("span",{className:"font-mono text-xs ml-2",children:l.path||"Unknown"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/DatabaseViewer.tsx",lineNumber:110,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/DatabaseViewer.tsx",lineNumber:108,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/DatabaseViewer.tsx",lineNumber:101,columnNumber:13},this):b.jsxDEV("div",{className:"text-muted-foreground",children:"Loading database info..."},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/DatabaseViewer.tsx",lineNumber:114,columnNumber:13},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/DatabaseViewer.tsx",lineNumber:99,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/DatabaseViewer.tsx",lineNumber:92,columnNumber:7},this),b.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[b.jsxDEV("div",{className:"lg:col-span-2",children:b.jsxDEV(gn,{children:[b.jsxDEV(Kn,{children:b.jsxDEV(Jn,{children:"SQL Query"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/DatabaseViewer.tsx",lineNumber:124,columnNumber:15},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/DatabaseViewer.tsx",lineNumber:123,columnNumber:13},this),b.jsxDEV(vn,{className:"space-y-4",children:[b.jsxDEV(zx,{value:t,onChange:x=>e(x.target.value),onKeyDown:m,placeholder:"Enter your SQL query...",className:"font-mono text-sm min-h-[120px]"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/DatabaseViewer.tsx",lineNumber:127,columnNumber:15},this),b.jsxDEV("div",{className:"flex justify-between items-center",children:[b.jsxDEV("div",{className:"text-xs text-muted-foreground",children:"Press Ctrl/Cmd + Enter to execute"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/DatabaseViewer.tsx",lineNumber:135,columnNumber:17},this),b.jsxDEV(Dt,{onClick:p,disabled:s||!t.trim(),className:"flex items-center gap-2",children:[s?b.jsxDEV(Ds,{className:"h-4 w-4 animate-spin"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/DatabaseViewer.tsx",lineNumber:144,columnNumber:21},this):b.jsxDEV(gO,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/DatabaseViewer.tsx",lineNumber:146,columnNumber:21},this),"Execute"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/DatabaseViewer.tsx",lineNumber:138,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/DatabaseViewer.tsx",lineNumber:134,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/DatabaseViewer.tsx",lineNumber:126,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/DatabaseViewer.tsx",lineNumber:122,columnNumber:11},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/DatabaseViewer.tsx",lineNumber:121,columnNumber:9},this),b.jsxDEV("div",{children:b.jsxDEV(gn,{children:[b.jsxDEV(Kn,{children:b.jsxDEV(Jn,{children:"Sample Queries"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/DatabaseViewer.tsx",lineNumber:158,columnNumber:15},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/DatabaseViewer.tsx",lineNumber:157,columnNumber:13},this),b.jsxDEV(vn,{className:"space-y-2",children:f.map((x,w)=>b.jsxDEV(Dt,{variant:"outline",size:"sm",className:"w-full justify-start text-left h-auto p-3",onClick:()=>e(x.sql),children:b.jsxDEV("div",{children:[b.jsxDEV("div",{className:"font-medium",children:x.name},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/DatabaseViewer.tsx",lineNumber:170,columnNumber:21},this),b.jsxDEV("div",{className:"text-xs text-muted-foreground mt-1 font-mono",children:[x.sql.substring(0,40),"..."]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/DatabaseViewer.tsx",lineNumber:171,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/DatabaseViewer.tsx",lineNumber:169,columnNumber:19},this)},w,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/DatabaseViewer.tsx",lineNumber:162,columnNumber:17},this))},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/DatabaseViewer.tsx",lineNumber:160,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/DatabaseViewer.tsx",lineNumber:156,columnNumber:11},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/DatabaseViewer.tsx",lineNumber:155,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/DatabaseViewer.tsx",lineNumber:120,columnNumber:7},this),n&&b.jsxDEV(gn,{children:[b.jsxDEV(Kn,{children:b.jsxDEV(Jn,{children:"Results"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/DatabaseViewer.tsx",lineNumber:186,columnNumber:13},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/DatabaseViewer.tsx",lineNumber:185,columnNumber:11},this),b.jsxDEV(vn,{children:n.error?b.jsxDEV("div",{className:"text-red-500 font-mono text-sm bg-red-50 dark:bg-red-950/20 p-4 rounded",children:["Error: ",n.error]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/DatabaseViewer.tsx",lineNumber:190,columnNumber:15},this):n.results?b.jsxDEV("div",{className:"space-y-4",children:[b.jsxDEV("div",{className:"flex items-center gap-2",children:b.jsxDEV(yn,{variant:"secondary",children:[n.results.length," rows"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/DatabaseViewer.tsx",lineNumber:196,columnNumber:19},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/DatabaseViewer.tsx",lineNumber:195,columnNumber:17},this),n.results.length>0?b.jsxDEV("div",{className:"overflow-x-auto",children:b.jsxDEV("table",{className:"w-full border-collapse border border-border text-sm",children:[b.jsxDEV("thead",{children:b.jsxDEV("tr",{className:"bg-muted",children:Object.keys(n.results[0]).map(x=>b.jsxDEV("th",{className:"border border-border p-2 text-left font-medium",children:x},x,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/DatabaseViewer.tsx",lineNumber:207,columnNumber:29},this))},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/DatabaseViewer.tsx",lineNumber:205,columnNumber:25},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/DatabaseViewer.tsx",lineNumber:204,columnNumber:23},this),b.jsxDEV("tbody",{children:n.results.map((x,w)=>b.jsxDEV("tr",{className:"hover:bg-muted/50",children:Object.values(x).map((E,T)=>b.jsxDEV("td",{className:"border border-border p-2 font-mono text-xs",children:E===null?b.jsxDEV("span",{className:"text-muted-foreground italic",children:"null"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/DatabaseViewer.tsx",lineNumber:219,columnNumber:35},this):typeof E=="string"&&E.length>50?b.jsxDEV("span",{title:E,children:[E.substring(0,47),"..."]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/DatabaseViewer.tsx",lineNumber:221,columnNumber:35},this):String(E)},T,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/DatabaseViewer.tsx",lineNumber:217,columnNumber:31},this))},w,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/DatabaseViewer.tsx",lineNumber:215,columnNumber:27},this))},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/DatabaseViewer.tsx",lineNumber:213,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/DatabaseViewer.tsx",lineNumber:203,columnNumber:21},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/DatabaseViewer.tsx",lineNumber:202,columnNumber:19},this):b.jsxDEV("div",{className:"text-muted-foreground text-center py-8",children:"Query executed successfully, but returned no results."},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/DatabaseViewer.tsx",lineNumber:233,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/DatabaseViewer.tsx",lineNumber:194,columnNumber:15},this):null},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/DatabaseViewer.tsx",lineNumber:188,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/DatabaseViewer.tsx",lineNumber:184,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/components/DatabaseViewer.tsx",lineNumber:90,columnNumber:5},this)}const Ome=new PI,Ume=[{id:"bundles",label:"Bundles & Files",icon:VN},{id:"semantic",label:"Semantic Chunks",icon:r9},{id:"vector-db",label:"Vector Database",icon:BN},{id:"database",label:"SQLite Database",icon:xE},{id:"activities",label:"Activities",icon:fO},{id:"settings",label:"Settings",icon:yE},{id:"ai-rules",label:"AI Rules",icon:LN},{id:"system-status",label:"System Status",icon:Qi},{id:"help",label:"Help & Documentation",icon:l$}],HB="cntx-ui-preferences",Vme=()=>{try{const t=localStorage.getItem(HB);if(t)return{...cI,...JSON.parse(t)}}catch(t){console.warn("Failed to load preferences from localStorage:",t)}return cI},Fme=t=>{try{localStorage.setItem(HB,JSON.stringify(t))}catch(e){console.warn("Failed to save preferences to localStorage:",e)}},cI={sidebarCollapsed:!1,activeSection:"bundles"};function Bme(){const[t,e]=k.useState("connecting"),[n,r]=k.useState("unknown"),[s,o]=k.useState(Vme),{sidebarCollapsed:l,activeSection:c}=s,f=x=>{const w={...s,...x};o(w),Fme(w)},h=x=>{f({sidebarCollapsed:x})},p=x=>{f({activeSection:x})};k.useEffect(()=>{const x=new WebSocket("ws://localhost:3333");x.onopen=()=>e("connected"),x.onclose=()=>e("disconnected");const w=async()=>{try{const T=await fetch("/api/mcp-status");if(T.ok){const{running:C}=await T.json();r(C?"running":"stopped")}else r("stopped")}catch{r("stopped")}};w();const E=setInterval(w,1e4);return()=>{x.close(),clearInterval(E)}},[]);const m=()=>{switch(c){case"bundles":return b.jsxDEV("div",{className:"flex-1 min-h-0 flex",children:b.jsxDEV("main",{className:"flex-1 min-h-0 flex flex-col",children:b.jsxDEV(DY,{},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:173,columnNumber:15},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:172,columnNumber:13},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:171,columnNumber:11},this);case"semantic":return b.jsxDEV("div",{className:"space-y-6",children:[b.jsxDEV("div",{children:[b.jsxDEV("h1",{className:"text-lg font-thin tracking-tight",children:"Semantic Chunks"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:181,columnNumber:15},this),b.jsxDEV("p",{className:"text-xs text-muted-foreground font-thin",children:"AI-powered code organization and intelligent bundles"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:182,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:180,columnNumber:13},this),b.jsxDEV(YY,{},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:184,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:179,columnNumber:11},this);case"vector-db":return b.jsxDEV("div",{className:"space-y-6",children:b.jsxDEV(Ile,{},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:190,columnNumber:13},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:189,columnNumber:11},this);case"database":return b.jsxDEV("div",{className:"space-y-6",children:[b.jsxDEV("div",{children:[b.jsxDEV("h1",{className:"text-lg font-thin tracking-tight",children:"SQLite Database"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:197,columnNumber:15},this),b.jsxDEV("p",{className:"text-xs text-muted-foreground font-thin",children:"Query and inspect the bundle database"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:198,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:196,columnNumber:13},this),b.jsxDEV(Ime,{},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:200,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:195,columnNumber:11},this);case"activities":return b.jsxDEV(yme,{},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:205,columnNumber:11},this);case"settings":return b.jsxDEV("div",{className:"space-y-6",children:[b.jsxDEV("div",{children:[b.jsxDEV("h1",{className:"text-lg font-thin tracking-tight",children:"Settings"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:211,columnNumber:15},this),b.jsxDEV("p",{className:"text-xs text-muted-foreground font-thin",children:"Configure file visibility and bundle patterns"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:212,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:210,columnNumber:13},this),b.jsxDEV(Cme,{},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:214,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:209,columnNumber:11},this);case"ai-rules":return b.jsxDEV("div",{className:"space-y-6",children:[b.jsxDEV("div",{children:[b.jsxDEV("h1",{className:"text-lg font-thin tracking-tight",children:"AI Rules"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:221,columnNumber:15},this),b.jsxDEV("p",{className:"text-xs text-muted-foreground font-thin",children:"Configure AI context and project guidelines"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:222,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:220,columnNumber:13},this),b.jsxDEV(UY,{},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:224,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:219,columnNumber:11},this);case"system-status":return b.jsxDEV("div",{className:"space-y-6",children:[b.jsxDEV("div",{children:[b.jsxDEV("h1",{className:"text-lg font-thin tracking-tight",children:"System Status"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:231,columnNumber:15},this),b.jsxDEV("p",{className:"text-xs text-muted-foreground font-thin",children:"Overall health and configuration of cntx-ui"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:232,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:230,columnNumber:13},this),b.jsxDEV(LY,{},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:234,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:229,columnNumber:11},this);case"help":return b.jsxDEV(Mme,{},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:239,columnNumber:11},this);default:return null}};return b.jsxDEV(II,{client:Ome,children:b.jsxDEV("div",{className:"h-screen bg-background overflow-hidden flex flex-col",children:[l&&b.jsxDEV("div",{className:"h-16 border-b flex items-center px-4 flex-shrink-0",children:[b.jsxDEV("div",{className:"flex items-center gap-4 flex-1",children:b.jsxDEV("div",{className:"flex items-center gap-2",children:b.jsxDEV("div",{children:[b.jsxDEV("h2",{className:"text-sm font-thin",children:"cntx-ui"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:258,columnNumber:19},this),b.jsxDEV("p",{className:"text-xs text-muted-foreground font-thin",children:"Context Manager"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:259,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:257,columnNumber:17},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:253,columnNumber:15},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:252,columnNumber:13},this),b.jsxDEV("div",{className:"flex items-center gap-4",children:[b.jsxDEV("div",{className:"text-xs text-muted-foreground",children:"cntx-ui v2.0.12"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:264,columnNumber:15},this),b.jsxDEV(s2,{},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:267,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:263,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:251,columnNumber:11},this),b.jsxDEV("div",{className:"flex flex-1",style:{height:l?"calc(100vh - 4rem)":"100%"},children:[b.jsxDEV("div",{className:`${l?"w-16":"w-64"} border-r flex flex-col h-full transition-all duration-200`,children:[!l&&b.jsxDEV("div",{className:"p-4 border-b flex-shrink-0",children:b.jsxDEV("div",{className:"flex items-center gap-2",children:[b.jsxDEV("div",{className:"flex-1",children:[b.jsxDEV("h2",{className:"text-sm font-thin",children:"cntx-ui"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:283,columnNumber:21},this),b.jsxDEV("p",{className:"text-xs text-muted-foreground font-thin",children:"Context Manager"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:284,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:282,columnNumber:19},this),b.jsxDEV(Dt,{variant:"ghost",size:"sm",onClick:()=>h(!0),className:"h-6 w-6 p-0 opacity-60 hover:opacity-100",children:b.jsxDEV(ii,{className:"w-3 h-3"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:292,columnNumber:21},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:286,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:278,columnNumber:17},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:277,columnNumber:15},this),l&&b.jsxDEV("div",{className:"p-3 border-b flex-shrink-0 flex justify-center",children:b.jsxDEV(Dt,{variant:"ghost",size:"sm",onClick:()=>h(!1),className:"h-8 w-8 p-0",children:b.jsxDEV(B$,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:307,columnNumber:19},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:301,columnNumber:17},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:300,columnNumber:15},this),b.jsxDEV("nav",{className:`${l?"p-2":"p-4"} space-y-1 flex-1 overflow-y-auto`,children:Ume.map(x=>{const w=x.icon,E=c===x.id;return b.jsxDEV(Dt,{variant:E?"secondary":"ghost",className:`${l?"w-12 h-12 p-0 justify-center":"w-full justify-start h-8 text-xs font-thin"} transition-all`,onClick:()=>p(x.id),title:l?x.label:void 0,children:[b.jsxDEV(w,{className:`${l?"w-4 h-4":"w-3 h-3 mr-2"}`},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:329,columnNumber:21},this),!l&&x.label]},x.id,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:319,columnNumber:19},this)})},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:313,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:274,columnNumber:11},this),b.jsxDEV("div",{className:"flex-1 overflow-y-auto pb-12",children:b.jsxDEV("main",{className:"p-6 max-w-6xl",children:m()},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:339,columnNumber:13},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:338,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:272,columnNumber:9},this),b.jsxDEV("div",{className:"fixed left-0 right-0 h-10 bg-card border-t border-border px-4 flex items-center justify-between z-40 bottom-0",children:[b.jsxDEV("div",{className:"flex items-center gap-6",children:[b.jsxDEV("div",{className:"flex items-center gap-2",children:[b.jsxDEV("div",{className:`w-2 h-2 rounded-full ${t==="connected"?"bg-[color:var(--color-success)]":t==="connecting"?"bg-[color:var(--color-warning)]":"bg-destructive"}`},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:351,columnNumber:15},this),b.jsxDEV("span",{className:"text-xs font-thin",children:["UI: ",t==="connected"?"Live":t==="connecting"?"Connecting":"Offline"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:354,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:350,columnNumber:13},this),b.jsxDEV("div",{className:"flex items-center gap-2",children:[b.jsxDEV("div",{className:`w-2 h-2 rounded-full ${n==="running"?"bg-[color:var(--color-success)]":n==="stopped"?"bg-destructive":"bg-muted-foreground"}`},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:362,columnNumber:15},this),b.jsxDEV("span",{className:"text-xs font-thin",children:["MCP SERVER: ",n==="running"?"Running":n==="stopped"?"Stopped":"Unknown"]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:365,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:361,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:348,columnNumber:11},this),!l&&b.jsxDEV("div",{className:"flex items-center gap-4",children:[b.jsxDEV("div",{className:"text-xs text-muted-foreground",children:"cntx-ui v2.0.12"},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:374,columnNumber:15},this),b.jsxDEV(s2,{},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:377,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:373,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:346,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:248,columnNumber:7},this)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/App.tsx",lineNumber:247,columnNumber:5},this)}const Lme=new PI;y8.createRoot(document.getElementById("root")).render(b.jsxDEV(k.StrictMode,{children:b.jsxDEV(II,{client:Lme,children:b.jsxDEV(dH,{attribute:"class",defaultTheme:"system",enableSystem:!0,disableTransitionOnChange:!0,children:[b.jsxDEV(Bme,{},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/main.tsx",lineNumber:21,columnNumber:9},void 0),b.jsxDEV(tH,{},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/main.tsx",lineNumber:22,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/main.tsx",lineNumber:15,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/main.tsx",lineNumber:14,columnNumber:5},void 0)},void 0,!1,{fileName:"/Users/pro/Projects/_in-progress/cntx-ui/web/src/main.tsx",lineNumber:13,columnNumber:3},void 0));
